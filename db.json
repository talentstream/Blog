{"meta":{"version":1,"warehouse":"4.0.2"},"models":{"Asset":[{"_id":"source/CNAME","path":"CNAME","modified":1,"renderable":0},{"_id":"themes/cactus/source/css/rtl.styl","path":"css/rtl.styl","modified":1,"renderable":1},{"_id":"themes/cactus/source/css/style.styl","path":"css/style.styl","modified":1,"renderable":1},{"_id":"themes/cactus/source/images/apple-touch-icon.png","path":"images/apple-touch-icon.png","modified":1,"renderable":1},{"_id":"themes/cactus/source/images/favicon-192x192.png","path":"images/favicon-192x192.png","modified":1,"renderable":1},{"_id":"themes/cactus/source/images/favicon.ico","path":"images/favicon.ico","modified":1,"renderable":1},{"_id":"themes/cactus/source/images/logo.png","path":"images/logo.png","modified":1,"renderable":1},{"_id":"themes/cactus/source/js/main.js","path":"js/main.js","modified":1,"renderable":1},{"_id":"themes/cactus/source/js/search.js","path":"js/search.js","modified":1,"renderable":1},{"_id":"themes/cactus/source/lib/clipboard/clipboard.min.js","path":"lib/clipboard/clipboard.min.js","modified":1,"renderable":1},{"_id":"themes/cactus/source/lib/jquery/jquery.min.js","path":"lib/jquery/jquery.min.js","modified":1,"renderable":1},{"_id":"themes/cactus/source/lib/meslo-LG/MesloLGL-BoldItalic.ttf","path":"lib/meslo-LG/MesloLGL-BoldItalic.ttf","modified":1,"renderable":1},{"_id":"themes/cactus/source/lib/meslo-LG/MesloLGL-Bold.ttf","path":"lib/meslo-LG/MesloLGL-Bold.ttf","modified":1,"renderable":1},{"_id":"themes/cactus/source/lib/meslo-LG/MesloLGL-Italic.ttf","path":"lib/meslo-LG/MesloLGL-Italic.ttf","modified":1,"renderable":1},{"_id":"themes/cactus/source/lib/meslo-LG/MesloLGL-Regular.ttf","path":"lib/meslo-LG/MesloLGL-Regular.ttf","modified":1,"renderable":1},{"_id":"themes/cactus/source/lib/meslo-LG/MesloLGM-Italic.ttf","path":"lib/meslo-LG/MesloLGM-Italic.ttf","modified":1,"renderable":1},{"_id":"themes/cactus/source/lib/meslo-LG/MesloLGM-BoldItalic.ttf","path":"lib/meslo-LG/MesloLGM-BoldItalic.ttf","modified":1,"renderable":1},{"_id":"themes/cactus/source/lib/meslo-LG/MesloLGM-Bold.ttf","path":"lib/meslo-LG/MesloLGM-Bold.ttf","modified":1,"renderable":1},{"_id":"themes/cactus/source/lib/meslo-LG/MesloLGM-Regular.ttf","path":"lib/meslo-LG/MesloLGM-Regular.ttf","modified":1,"renderable":1},{"_id":"themes/cactus/source/lib/meslo-LG/MesloLGS-Bold.ttf","path":"lib/meslo-LG/MesloLGS-Bold.ttf","modified":1,"renderable":1},{"_id":"themes/cactus/source/lib/meslo-LG/MesloLGS-Regular.ttf","path":"lib/meslo-LG/MesloLGS-Regular.ttf","modified":1,"renderable":1},{"_id":"themes/cactus/source/lib/meslo-LG/MesloLGS-Italic.ttf","path":"lib/meslo-LG/MesloLGS-Italic.ttf","modified":1,"renderable":1},{"_id":"themes/cactus/source/lib/meslo-LG/MesloLGS-BoldItalic.ttf","path":"lib/meslo-LG/MesloLGS-BoldItalic.ttf","modified":1,"renderable":1},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Black.eot","path":"lib/vazir-font/Vazir-Black.eot","modified":1,"renderable":1},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Black.ttf","path":"lib/vazir-font/Vazir-Black.ttf","modified":1,"renderable":1},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Black.woff","path":"lib/vazir-font/Vazir-Black.woff","modified":1,"renderable":1},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Black.woff2","path":"lib/vazir-font/Vazir-Black.woff2","modified":1,"renderable":1},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Bold.eot","path":"lib/vazir-font/Vazir-Bold.eot","modified":1,"renderable":1},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Bold.ttf","path":"lib/vazir-font/Vazir-Bold.ttf","modified":1,"renderable":1},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Bold.woff2","path":"lib/vazir-font/Vazir-Bold.woff2","modified":1,"renderable":1},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Bold.woff","path":"lib/vazir-font/Vazir-Bold.woff","modified":1,"renderable":1},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Light.eot","path":"lib/vazir-font/Vazir-Light.eot","modified":1,"renderable":1},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Light.ttf","path":"lib/vazir-font/Vazir-Light.ttf","modified":1,"renderable":1},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Light.woff","path":"lib/vazir-font/Vazir-Light.woff","modified":1,"renderable":1},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Light.woff2","path":"lib/vazir-font/Vazir-Light.woff2","modified":1,"renderable":1},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Medium.ttf","path":"lib/vazir-font/Vazir-Medium.ttf","modified":1,"renderable":1},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Medium.eot","path":"lib/vazir-font/Vazir-Medium.eot","modified":1,"renderable":1},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Medium.woff","path":"lib/vazir-font/Vazir-Medium.woff","modified":1,"renderable":1},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Medium.woff2","path":"lib/vazir-font/Vazir-Medium.woff2","modified":1,"renderable":1},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Regular.eot","path":"lib/vazir-font/Vazir-Regular.eot","modified":1,"renderable":1},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Regular.ttf","path":"lib/vazir-font/Vazir-Regular.ttf","modified":1,"renderable":1},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Regular.woff","path":"lib/vazir-font/Vazir-Regular.woff","modified":1,"renderable":1},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Regular.woff2","path":"lib/vazir-font/Vazir-Regular.woff2","modified":1,"renderable":1},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Thin.eot","path":"lib/vazir-font/Vazir-Thin.eot","modified":1,"renderable":1},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Thin.ttf","path":"lib/vazir-font/Vazir-Thin.ttf","modified":1,"renderable":1},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Thin.woff","path":"lib/vazir-font/Vazir-Thin.woff","modified":1,"renderable":1},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Thin.woff2","path":"lib/vazir-font/Vazir-Thin.woff2","modified":1,"renderable":1},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Variable.eot","path":"lib/vazir-font/Vazir-Variable.eot","modified":1,"renderable":1},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Variable.ttf","path":"lib/vazir-font/Vazir-Variable.ttf","modified":1,"renderable":1},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Variable.woff","path":"lib/vazir-font/Vazir-Variable.woff","modified":1,"renderable":1},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Variable.woff2","path":"lib/vazir-font/Vazir-Variable.woff2","modified":1,"renderable":1},{"_id":"themes/cactus/source/lib/vazir-font/font-face.css","path":"lib/vazir-font/font-face.css","modified":1,"renderable":1},{"_id":"themes/cactus/source/lib/font-awesome/css/all.min.css","path":"lib/font-awesome/css/all.min.css","modified":1,"renderable":1},{"_id":"themes/cactus/source/lib/font-awesome/webfonts/fa-brands-400.ttf","path":"lib/font-awesome/webfonts/fa-brands-400.ttf","modified":1,"renderable":1},{"_id":"themes/cactus/source/lib/font-awesome/webfonts/fa-brands-400.woff2","path":"lib/font-awesome/webfonts/fa-brands-400.woff2","modified":1,"renderable":1},{"_id":"themes/cactus/source/lib/font-awesome/webfonts/fa-solid-900.ttf","path":"lib/font-awesome/webfonts/fa-solid-900.ttf","modified":1,"renderable":1},{"_id":"themes/cactus/source/lib/font-awesome/webfonts/fa-solid-900.woff2","path":"lib/font-awesome/webfonts/fa-solid-900.woff2","modified":1,"renderable":1},{"_id":"themes/cactus/source/lib/font-awesome/webfonts/fa-regular-400.ttf","path":"lib/font-awesome/webfonts/fa-regular-400.ttf","modified":1,"renderable":1},{"_id":"themes/cactus/source/lib/font-awesome/webfonts/fa-regular-400.woff2","path":"lib/font-awesome/webfonts/fa-regular-400.woff2","modified":1,"renderable":1},{"_id":"themes/cactus/source/lib/font-awesome/webfonts/fa-v4compatibility.ttf","path":"lib/font-awesome/webfonts/fa-v4compatibility.ttf","modified":1,"renderable":1},{"_id":"themes/cactus/source/lib/font-awesome/webfonts/fa-v4compatibility.woff2","path":"lib/font-awesome/webfonts/fa-v4compatibility.woff2","modified":1,"renderable":1},{"_id":"themes/cactus/source/lib/justified-gallery/js/jquery.justifiedGallery.min.js","path":"lib/justified-gallery/js/jquery.justifiedGallery.min.js","modified":1,"renderable":1},{"_id":"themes/cactus/source/lib/justified-gallery/css/justifiedGallery.min.css","path":"lib/justified-gallery/css/justifiedGallery.min.css","modified":1,"renderable":1}],"Cache":[{"_id":"source/CNAME","hash":"9efae24abefdc7fb5fa5ad47e128ad0dcdef4a6c","modified":1659419802000},{"_id":"source/index.md","hash":"a26b3b683b0f271ddc441dd9ead921b7d349d615","modified":1704628544552},{"_id":"source/_posts/2021-å¹¿å·æ ¸èšå˜.md","hash":"e5654e3b8ff6b81bb736ef3021caa591d57c9389","modified":1704613457787},{"_id":"source/_posts/Fast-Fibonacci.md","hash":"d0abdecc0d5b0016be7e3857ff4bf0e866f1ad86","modified":1704684321650},{"_id":"source/_posts/LRU-TopK.md","hash":"64a01c92bae4a6122bad19c1969a44c72401582f","modified":1704613583417},{"_id":"source/_posts/Sortings.md","hash":"d711f018f3cee48a77d1fddf67adfd57695cd7cd","modified":1704613926792},{"_id":"source/_posts/TSP.md","hash":"245e9b7a8c1069b38f844002500f5871ebc2f826","modified":1704613598663},{"_id":"source/_posts/Topological-Sorting.md","hash":"8b9c0f2c78cd6ae58a9d587ef3174b69eebdc264","modified":1704613594827},{"_id":"source/_posts/c-primer.md","hash":"e989ce82cc7621f53b9e366597c676f023444d8b","modified":1704613561440},{"_id":"source/_posts/Union-Find.md","hash":"200ae639fe3306638173beca45021711aed0daff","modified":1704613981518},{"_id":"source/_posts/githubå·¥ä½œæµ.md","hash":"bf8710cff3e6e6fd68753a4d717dbaadad679f72","modified":1704613580670},{"_id":"source/_posts/Trie.md","hash":"fc4e432f29ae4592595d94c723c8af1ce7ebb5e2","modified":1704613596768},{"_id":"source/_posts/å›¾å½¢å­¦-ä¸€äº›é¢å¤–ç»†èŠ‚.md","hash":"9ac5ea5bb1981530925cabdfe32b36bebc7f2fcc","modified":1704613538376},{"_id":"source/_posts/å›¾å½¢å­¦-å…‰æ …åŒ–.md","hash":"22128792cade3d0f7f55251b4e36793474440a85","modified":1704613533036},{"_id":"source/_posts/å›¾å½¢å­¦-å‡ ä½•å˜æ¢.md","hash":"4adb822c8796b2a6d346f1a7fc9ef98b6767d24c","modified":1704613535789},{"_id":"source/_posts/è¿™äº›æ—¶å€™æˆ‘éƒ½åœ¨å¿™äº›ä»€ä¹ˆ-åŒæ—¶ä½œä¸º2021æ€»ç»“ï¼‰.md","hash":"d2e41e52e743bc7df302777c50f3bab1bc4015b0","modified":1704613543714},{"_id":"source/archives/index.md","hash":"9eaf3854f1f379b436e06e3c953cc8fa9bb30d81","modified":1659422510000},{"_id":"source/search/index.md","hash":"0b39824837c1ef36eb7d9adab01e59d05ca04ecb","modified":1704595487110},{"_id":"source/_posts/.obsidian/appearance.json","hash":"9439122150a0431e432676115220bc925af96094","modified":1673147150000},{"_id":"source/_posts/.obsidian/app.json","hash":"bf21a9e8fbc5a3846fb05b4fa0859e0917b2202f","modified":1673147150000},{"_id":"source/_posts/.obsidian/core-plugins.json","hash":"7a7e9dd69d4a2756327ee34721177b712177bb3f","modified":1673147150000},{"_id":"source/_posts/.obsidian/hotkeys.json","hash":"bf21a9e8fbc5a3846fb05b4fa0859e0917b2202f","modified":1673147150000},{"_id":"source/_posts/.obsidian/workspace.json","hash":"c2788fd4ec31bf8a2c59c8cdf52a70f6d044372d","modified":1673147256000},{"_id":"source/_posts/.obsidian/core-plugins-migration.json","hash":"46d9be486f2fb0a1a6262ab8fe3c07ce989234a3","modified":1673147150000},{"_id":"source/_posts/design patterns.md","hash":"df68478758af1c8988bff87573238c5ba2bf0317","modified":1704613970121},{"_id":"themes/cactus/.jshintrc","hash":"d6ee46102ed2ff00acb555557f47241b701e99a4","modified":1704593035954},{"_id":"themes/cactus/.stylintrc","hash":"8bbbee5eae70fbe7dd53c9ce43d244b47d58385b","modified":1704593035955},{"_id":"themes/cactus/README.md","hash":"d5790f636cec253f030cfa86b3e83728f621d4c5","modified":1704593035956},{"_id":"themes/cactus/gulpfile.js","hash":"23b5f0ea4c4d4319dfa8c3d3eaecb7bd70d90336","modified":1704593035957},{"_id":"themes/cactus/package.json","hash":"768e4f07b7bc6406d37b84878e1d34be668f5ea4","modified":1704593035977},{"_id":"themes/cactus/languages/ar.yml","hash":"2f1258875dbffa89d192a1d6481c4bd3c337126b","modified":1704593035957},{"_id":"themes/cactus/languages/ca.yml","hash":"6f9897fe8c7b7bf23be7fa58c530602217aea898","modified":1704593035958},{"_id":"themes/cactus/_config.yml","hash":"44ca3aca51d8f090590f2c1b4c9739c9d1f005d2","modified":1704613827689},{"_id":"themes/cactus/languages/de.yml","hash":"0734bfc33861585a12327142bf52489c882ad34f","modified":1704593035958},{"_id":"themes/cactus/languages/default.yml","hash":"ea5e6aee4cb14510793ac4593a3bddffe23e530c","modified":1704593035959},{"_id":"themes/cactus/languages/es.yml","hash":"56ddfd9081641c45272bdc2df750e41ab8b600bf","modified":1704593035960},{"_id":"themes/cactus/languages/fa.yml","hash":"05fb8dad765af2b9eec32582f5d277eb2735ffc3","modified":1704593035960},{"_id":"themes/cactus/languages/fr.yml","hash":"4604fc8f94d98f6d53c80535fbae78814f88f32d","modified":1704593035961},{"_id":"themes/cactus/languages/en.yml","hash":"528742dc680c1784658d54e4474e8a853d6f236a","modified":1704596124038},{"_id":"themes/cactus/languages/it.yml","hash":"501bfc9aed86964ee75354a805378740a02af799","modified":1704593035961},{"_id":"themes/cactus/languages/nl.yml","hash":"4c36921322e782775ccff9aec78d4261153cf5e5","modified":1704593035962},{"_id":"themes/cactus/languages/pt-br.yml","hash":"417d25e3dae260a2503ec6a8f1b590fa00534b14","modified":1704593035963},{"_id":"themes/cactus/languages/kr.yml","hash":"ab5be04a1b4c4d87e164b1a045e220f855e85a38","modified":1704593035962},{"_id":"themes/cactus/languages/pl.yml","hash":"3677b782edd98986bb82568c6ff6c8b77140b75a","modified":1704593035963},{"_id":"themes/cactus/languages/ru.yml","hash":"47fb1672f36d5adadf2f6c3a5c4d1714f5bd563b","modified":1704593035963},{"_id":"themes/cactus/languages/tr.yml","hash":"7971cbff7f90ffe1dc40402be6332890be1ed2c7","modified":1704593035964},{"_id":"themes/cactus/languages/zh-TW.yml","hash":"d02ac645f87c5841ff35499818654df85bd872f5","modified":1704593035965},{"_id":"themes/cactus/languages/vi.yml","hash":"1a1dfc60e952c3429c038f69a9e0ca2057784fca","modified":1704593035964},{"_id":"themes/cactus/layout/404.ejs","hash":"c04829c5ddc417d0b9a66cad55a838cc7eed997b","modified":1704593035966},{"_id":"themes/cactus/languages/zh-CN.yml","hash":"d163690e48de5cf03914d69a99462d72eb040ad3","modified":1704593035965},{"_id":"themes/cactus/layout/index.ejs","hash":"6e3a63db6bc43f6e4091361c52df5bcfd5be3339","modified":1704593035976},{"_id":"themes/cactus/layout/archive.ejs","hash":"cda7b4d3f3615a9a591d7610f9e40b615ca68c73","modified":1704593035975},{"_id":"themes/cactus/layout/page.ejs","hash":"1700d4f434170e1eeb0e2a9470fc3c0732b2ba7e","modified":1704593035977},{"_id":"themes/cactus/layout/post.ejs","hash":"9b8e937375f56053f497f437c06d527761b98d1c","modified":1704593035977},{"_id":"themes/cactus/layout/layout.ejs","hash":"c7b73f887d62fad9f14507504c4a2c036860e76c","modified":1704593035976},{"_id":"themes/cactus/scripts/cdn.js","hash":"6037ad2ddbdc4d87195d91b3bd9f197c1b40467a","modified":1704593035978},{"_id":"themes/cactus/scripts/error_404.js","hash":"099d428e1b96b9c219a789da60b87703c509b2bb","modified":1704593035979},{"_id":"themes/cactus/scripts/meta.js","hash":"96b1a52af341adc741a5581ddc7335105abe780e","modified":1704593035980},{"_id":"themes/cactus/scripts/page_title.js","hash":"03b5c8b6215f0b305327e8d9b5d49add83b4b95f","modified":1704593035980},{"_id":"themes/cactus/scripts/merge-configs.js","hash":"98b79403945fa7f8dc177e6da283681677d02567","modified":1704593035979},{"_id":"themes/cactus/scripts/thumbnail.js","hash":"3d841aa267026703a5cc29f4ffbb613f0a2bbd45","modified":1704593035981},{"_id":"themes/cactus/layout/_partial/comments.ejs","hash":"162fb8592903605789f516be2cd9c678a1a2d207","modified":1704593035967},{"_id":"themes/cactus/layout/_partial/footer.ejs","hash":"2336c1eb473fea860f4c3e309c50bc32544d0b4e","modified":1704593035967},{"_id":"themes/cactus/layout/_partial/google_analytics.ejs","hash":"82372a68455c05fa6a07c5ecb8defe11f769da7c","modified":1704593035968},{"_id":"themes/cactus/layout/_partial/head.ejs","hash":"cac3ef9de11b14825599efe69b0939f42d368e25","modified":1704593035968},{"_id":"themes/cactus/layout/_partial/header.ejs","hash":"3eae6c39852c3d7cba8978ad93a5570d20580924","modified":1704593035968},{"_id":"themes/cactus/layout/_partial/pagination.ejs","hash":"ea8692715a8ea49624638dbd7bfb911af58887ee","modified":1704593035969},{"_id":"themes/cactus/layout/_partial/scripts.ejs","hash":"46ad130a7a741ca44928116479c2004180979e40","modified":1704593035973},{"_id":"themes/cactus/layout/_partial/search.ejs","hash":"12dba799ae5736dfbf1548e1923bbb7447de8a6d","modified":1704593035974},{"_id":"themes/cactus/layout/_partial/styles.ejs","hash":"42fd45758d8f8e814bfdd8b26eb676d87b8465b2","modified":1704593035974},{"_id":"themes/cactus/layout/_partial/umami_analytics.ejs","hash":"5a39772aa121652f9d54619282fe880006b2a677","modified":1704593035975},{"_id":"themes/cactus/source/css/_extend.styl","hash":"578c48a96a7e6b052fb10609a06b506344e67a09","modified":1704615245583},{"_id":"themes/cactus/source/css/_fonts.styl","hash":"66614264224026c0b2240374ab3c27f7b2901078","modified":1704609633385},{"_id":"themes/cactus/source/css/_mixins.styl","hash":"37093d2a554283ab652b59e5e0ff9b542edced0f","modified":1704593036020},{"_id":"themes/cactus/source/css/_util.styl","hash":"1c7bed7376f04d7b77d817e132aee08cf65e6395","modified":1704593036027},{"_id":"themes/cactus/source/css/_variables.styl","hash":"5dcbf89bd23d9dd3c45d07049a1448b0ae95426b","modified":1704593036027},{"_id":"themes/cactus/source/css/rtl.styl","hash":"105284f992de848968d818f6200d2ebbdd5342d0","modified":1704593036028},{"_id":"themes/cactus/source/css/style.styl","hash":"210406274d091be115a6175929ba5671b8b8f946","modified":1704593036028},{"_id":"themes/cactus/source/images/apple-touch-icon.png","hash":"fd38f0553d517dfbed9cea2dc605dc819c1297a8","modified":1704597074000},{"_id":"themes/cactus/source/images/favicon-192x192.png","hash":"7399d0bc00597a3f3689dcb375ff65499d6fac78","modified":1704597074000},{"_id":"themes/cactus/source/images/favicon.ico","hash":"129d7bcb084b713799586e7e69f969b78181c06b","modified":1704597075000},{"_id":"themes/cactus/source/js/main.js","hash":"adc9e8e86e82f6bce527d5674df0a9b298ac71a0","modified":1704593036033},{"_id":"themes/cactus/source/js/search.js","hash":"0d2933fa97c4036805011cc219fcc43ae578e230","modified":1704593036034},{"_id":"themes/cactus/layout/_partial/post/actions_desktop.ejs","hash":"53d0225501f4c33abda7059293f00aa22e3d4364","modified":1704593035970},{"_id":"themes/cactus/layout/_partial/post/category.ejs","hash":"62fd0bb73eef411ae0b2d6f529a273d54fd0d277","modified":1704593035971},{"_id":"themes/cactus/layout/_partial/post/actions_mobile.ejs","hash":"2170a51e5b2637ef55651f29637cafcd111242b2","modified":1704593035970},{"_id":"themes/cactus/layout/_partial/post/date.ejs","hash":"b64d37f8a2cdb3990a5f4cd686b4fa3f2607b5bb","modified":1704593035971},{"_id":"themes/cactus/layout/_partial/post/gallery.ejs","hash":"725ab823c2fb4a5e444eca3afa617d88f305ef71","modified":1704593035972},{"_id":"themes/cactus/layout/_partial/post/share.ejs","hash":"6b037d536ef89c1e7b488f34c20fa977389ae744","modified":1704593035972},{"_id":"themes/cactus/layout/_partial/post/tag.ejs","hash":"424029d2d8e6c51c7370c5f8aabc21799418d3f1","modified":1704593035973},{"_id":"themes/cactus/layout/_partial/post/title.ejs","hash":"524ad82e6d52b91d20cded8224efb76f2fdacf0b","modified":1704593035973},{"_id":"themes/cactus/source/css/_colors/classic.styl","hash":"3d6c91b03ade77daf1ceb11c5dad48b0e35ac353","modified":1704593035982},{"_id":"themes/cactus/source/css/_colors/dark.styl","hash":"d2978cb0035ba1da0a58db2ed947a72b0bd41042","modified":1704593035983},{"_id":"themes/cactus/source/css/_colors/light.styl","hash":"9b156c15c855677a50c4a27de17a8cb377b69802","modified":1704593035983},{"_id":"themes/cactus/source/css/_colors/white.styl","hash":"a84744c11e84f05b0204ec08b8aff5f5a825e73b","modified":1704612029816},{"_id":"themes/cactus/source/css/_highlight/agate.styl","hash":"fc289ba8f47ead6331ec3a51533cfa93251c5634","modified":1704593035985},{"_id":"themes/cactus/source/css/_highlight/androidstudio.styl","hash":"4d67bdab6cc9c614486ca42f98199a04d053e7f0","modified":1704593035986},{"_id":"themes/cactus/source/css/_highlight/arduino-light.styl","hash":"591962bfc758a521b4cb907750c19a1a2423b4d5","modified":1704593035986},{"_id":"themes/cactus/source/css/_highlight/arta.styl","hash":"262167aaebcf28de7f85af7ac77a76fa1fa284f7","modified":1704593035987},{"_id":"themes/cactus/source/css/_highlight/ascetic.styl","hash":"ca087a3c70998c7ac6b0b42d5cf7a653b8707591","modified":1704593035987},{"_id":"themes/cactus/source/css/_highlight/atelier-cave-dark.styl","hash":"7e83c7f2acaaaa98864660afe2794745c36c8e51","modified":1704593035988},{"_id":"themes/cactus/source/css/_highlight/atelier-cave-light.styl","hash":"f47de0b9d66617728f68096ed48371dd6bb9e67a","modified":1704593035988},{"_id":"themes/cactus/source/css/_highlight/atelier-estuary-dark.styl","hash":"1cecd13e0d6b24042ff86372f0596c1441bb834a","modified":1704593035989},{"_id":"themes/cactus/source/css/_highlight/atelier-dune-light.styl","hash":"657fe215931fd06e21b56374df699a94890f7ab4","modified":1704593035989},{"_id":"themes/cactus/source/css/_highlight/atelier-dune-dark.styl","hash":"68584ed0e99c7d0e49ef8a2e67cd4dcdad359de4","modified":1704593035988},{"_id":"themes/cactus/source/css/_highlight/atelier-estuary-light.styl","hash":"2b416a0567a53aa0fa8898b196ddd44315c1a5f3","modified":1704593035990},{"_id":"themes/cactus/source/css/_highlight/atelier-forest-dark.styl","hash":"a741eba35cdfe2cfd67dfbf109655f253d6b4795","modified":1704593035990},{"_id":"themes/cactus/source/css/_highlight/atelier-heath-dark.styl","hash":"f186b357dcebded89b7bcc77389b2cff76533d72","modified":1704593035991},{"_id":"themes/cactus/source/css/_highlight/atelier-forest-light.styl","hash":"8d7c7242974aa2454fa792c5d7a47c5f9632355a","modified":1704593035991},{"_id":"themes/cactus/source/css/_highlight/atelier-heath-light.styl","hash":"c1db353e8613607580d40b12ddc162d029560576","modified":1704593035992},{"_id":"themes/cactus/source/css/_highlight/atelier-lakeside-dark.styl","hash":"802979cea895a0a384645cb30a43de9572cb0e3f","modified":1704593035992},{"_id":"themes/cactus/source/css/_highlight/atelier-lakeside-light.styl","hash":"8659eaae6a0c2e00b4b9199803e50adf4ff0128d","modified":1704593035993},{"_id":"themes/cactus/source/css/_highlight/atelier-plateau-dark.styl","hash":"0d51ddc580ccb0a291271fa9632bc91dab632df6","modified":1704593035993},{"_id":"themes/cactus/source/css/_highlight/atelier-plateau-light.styl","hash":"96181544eeadc5b0749229f11607e7c01f81e078","modified":1704593035994},{"_id":"themes/cactus/source/css/_highlight/atelier-savanna-dark.styl","hash":"bbad7a9512b4873294e73ce806e36e43973e6ed8","modified":1704593035994},{"_id":"themes/cactus/source/css/_highlight/atelier-seaside-dark.styl","hash":"2f008271299042f2443bca98c9bcadbc8c45e837","modified":1704593035995},{"_id":"themes/cactus/source/css/_highlight/atelier-savanna-light.styl","hash":"8a5207a0c30262a0bf5e1a41411a306f7a89a7e7","modified":1704593035995},{"_id":"themes/cactus/source/css/_highlight/atelier-seaside-light.styl","hash":"08e2df313c272d5c70c93e713639663c168180d0","modified":1704593035996},{"_id":"themes/cactus/source/css/_highlight/atelier-sulphurpool-dark.styl","hash":"18dcb00ab9c62eb810d492047214331c51bb654f","modified":1704593035996},{"_id":"themes/cactus/source/css/_highlight/atelier-sulphurpool-light.styl","hash":"add3d88c9d12567dcfae7a8e49984d119fc72227","modified":1704593035996},{"_id":"themes/cactus/source/css/_highlight/brown-paper.styl","hash":"d14846542a26b75fd26df5b5df6c5493733f73f6","modified":1704593035997},{"_id":"themes/cactus/source/css/_highlight/brown-papersq.png","hash":"3a1332ede3a75a3d24f60b6ed69035b72da5e182","modified":1704593035998},{"_id":"themes/cactus/source/css/_highlight/color-brewer.styl","hash":"9c4905eab730d0b389e6972e907057577f7e25f1","modified":1704593035998},{"_id":"themes/cactus/source/css/_highlight/codepen-embed.styl","hash":"1de45e603e2c71c7f6b0c1372a3ba00b1bc153a8","modified":1704593035998},{"_id":"themes/cactus/source/css/_highlight/darkula.styl","hash":"8965ad6920601c275ca97e617beff5536925a266","modified":1704593036000},{"_id":"themes/cactus/source/css/_highlight/dark.styl","hash":"98d7884806838a0b46132d759d60ac27c0c4bd9c","modified":1704593035999},{"_id":"themes/cactus/source/css/_highlight/docco.styl","hash":"7bd3389ce16d20488ab336d557056cc703c921c7","modified":1704593036000},{"_id":"themes/cactus/source/css/_highlight/far.styl","hash":"8da83d66724f2ce508a40f21b4f6dc0d704be562","modified":1704593036001},{"_id":"themes/cactus/source/css/_highlight/foundation.styl","hash":"28c59a31467c33bd51cbf3b6085782c2a724ff6c","modified":1704593036001},{"_id":"themes/cactus/source/css/_highlight/github-gist.styl","hash":"71f4b0fca91a587e6eba15a5306dca963bb8f441","modified":1704593036002},{"_id":"themes/cactus/source/css/_highlight/github.styl","hash":"a84eb710b302006120c3e7f8ca18f9e6fbc231c3","modified":1704593036002},{"_id":"themes/cactus/source/css/_highlight/googlecode.styl","hash":"7f5082ae008925a23eb713f160773fe647eb3ff7","modified":1704593036003},{"_id":"themes/cactus/source/css/_highlight/grayscale.styl","hash":"c83804abe39faebd80f8f4ff64fbd7137674cb1c","modified":1704593036003},{"_id":"themes/cactus/source/css/_highlight/gruvbox-dark.styl","hash":"f66403ce77dcb16b1f98a5061b72f7581630d69f","modified":1704593036004},{"_id":"themes/cactus/source/css/_highlight/hopscotch.styl","hash":"dd3c78c42d4a865f11623235e5e5f6829d789706","modified":1704593036004},{"_id":"themes/cactus/source/css/_highlight/highlightjs.styl","hash":"fd796a58c5d4590cda67c998187933788d45f30a","modified":1704593036004},{"_id":"themes/cactus/source/css/_highlight/hybrid.styl","hash":"4906456025787de04b48a87c42bb704c5ff67065","modified":1704593036005},{"_id":"themes/cactus/source/css/_highlight/idea.styl","hash":"e284c1760e8da0848f56cd5601d867ceeb0192d7","modified":1704593036005},{"_id":"themes/cactus/source/css/_highlight/ir-black.styl","hash":"aa31b30069ebee39e2c3ebb75e2c96ba8678eb14","modified":1704593036006},{"_id":"themes/cactus/source/css/_highlight/index.styl","hash":"36c44375229613a5bb9ee84a8e90214978070439","modified":1704593036006},{"_id":"themes/cactus/source/css/_highlight/kimbie.light.styl","hash":"e901738455ec9a1bddde7b62bbd8595de6033e1e","modified":1704593036007},{"_id":"themes/cactus/source/css/_highlight/magula.styl","hash":"ab179306c12a1cf2949482beaca328e379ef034a","modified":1704593036008},{"_id":"themes/cactus/source/css/_highlight/kimbie.dark.styl","hash":"3b998c640eeb2c6192fee24bc78b4137de475dd7","modified":1704593036007},{"_id":"themes/cactus/source/css/_highlight/kimbie.styl","hash":"13113af220dfed09cb49d85102babb352c3eff97","modified":1704593036008},{"_id":"themes/cactus/source/css/_highlight/monokai-sublime.styl","hash":"84a27bd29d939105d65f4164c219d6cc2e09ae60","modified":1704593036009},{"_id":"themes/cactus/source/css/_highlight/mono-blue.styl","hash":"14fb8678739b77f35771b6d63101ddbf1e7a9fbc","modified":1704593036009},{"_id":"themes/cactus/source/css/_highlight/obsidian.styl","hash":"efba069860181d2b709e1548dd16cf102ca267fa","modified":1704593036010},{"_id":"themes/cactus/source/css/_highlight/paraiso-dark.styl","hash":"50f1cee8a5b3b165b4184ead0a99dc564b62ef4f","modified":1704593036010},{"_id":"themes/cactus/source/css/_highlight/monokai.styl","hash":"c3a3bfae1eb864505fbc8748db734600057af1af","modified":1704593036010},{"_id":"themes/cactus/source/css/_highlight/paraiso-light.styl","hash":"e428e8202b01e83b0f018a96058d806e7f4c76bf","modified":1704593036011},{"_id":"themes/cactus/source/css/_highlight/pojoaque.jpg","hash":"c5fe6533b88b21f8d90d3d03954c6b29baa67791","modified":1704593036012},{"_id":"themes/cactus/source/css/_highlight/paraiso.styl","hash":"846a06a57fa0b3db7f83ec7ac2bf34911f32cf66","modified":1704593036011},{"_id":"themes/cactus/source/css/_highlight/railscasts.styl","hash":"5dc9ce33cecee87fe9ca8f2ed9342602194484ec","modified":1704593036013},{"_id":"themes/cactus/source/css/_highlight/pojoaque.styl","hash":"4d4a9360c35f3c5a0c5b9b49a1f2284e7e21317b","modified":1704593036012},{"_id":"themes/cactus/source/css/_highlight/rainbow.styl","hash":"95246afef181bd96f9adb1a2e84fb3ef302d4598","modified":1704593036013},{"_id":"themes/cactus/source/css/_highlight/school-book.png","hash":"711ec983c874e093bb89eb77afcbdf6741fa61ee","modified":1704593036014},{"_id":"themes/cactus/source/css/_highlight/school-book.styl","hash":"186c37e9c39e65aa291cce3317e35904693598d1","modified":1704593036014},{"_id":"themes/cactus/source/css/_highlight/solarized-light.styl","hash":"bb04944fc06c12ecd7b56ad933dbedde60c2259a","modified":1704593036015},{"_id":"themes/cactus/source/css/_highlight/solarized-dark.styl","hash":"9fc9400d3a8cae97eb5761c284140acb0f847538","modified":1704593036015},{"_id":"themes/cactus/source/css/_highlight/sunburst.styl","hash":"e6e4c009b10b9805f0c593446bf013edec47d146","modified":1704593036016},{"_id":"themes/cactus/source/css/_highlight/tomorrow-night-blue.styl","hash":"92f4423d4964fcfe34ff7ca6cb21012b5738c697","modified":1704593036016},{"_id":"themes/cactus/source/css/_highlight/tomorrow-night.styl","hash":"eb8441364bb1664ecebde77b965dc36c91133aa0","modified":1704593036018},{"_id":"themes/cactus/source/css/_highlight/tomorrow-night-eighties.styl","hash":"8b16876cf205111d5d5454100de712bc3ea8f477","modified":1704593036017},{"_id":"themes/cactus/source/css/_highlight/tomorrow-night-bright.styl","hash":"e6b025b247e4027fb3c1b7833588f5a5b04a549c","modified":1704593036017},{"_id":"themes/cactus/source/css/_highlight/tomorrow.styl","hash":"502335f0fac07ed74ca78207bcf3ef8dd2252cf6","modified":1704593036018},{"_id":"themes/cactus/source/css/_highlight/vs.styl","hash":"14fbb0c43af440a290280b26968c8a5c0786b27f","modified":1704593036019},{"_id":"themes/cactus/source/css/_highlight/zenburn.styl","hash":"f63534764dd6598e81177d64714a184f98153b11","modified":1704593036019},{"_id":"themes/cactus/source/css/_highlight/xcode.styl","hash":"5fa8999c7f807c1aae29c7a1cdf681678576fb69","modified":1704593036019},{"_id":"themes/cactus/source/css/_partial/archive.styl","hash":"301bf71b6878c965b3ea49dc19aba3f1c111cd3a","modified":1704593036021},{"_id":"themes/cactus/source/css/_partial/categories.styl","hash":"92fffe2baacb9d19021b3d120d2038417ca466df","modified":1704593036021},{"_id":"themes/cactus/source/css/_partial/article.styl","hash":"abdbf82d71c7ec89c2f3ebaf8cc0606ab4ec1e03","modified":1704593036021},{"_id":"themes/cactus/source/css/_partial/comments.styl","hash":"6e839bae0ddc11447579c34541e79b50d3670bbd","modified":1704593036022},{"_id":"themes/cactus/source/css/_partial/footer.styl","hash":"5bc59fd8cadd7cff06d989c9c7e8e4eb0d0872d8","modified":1704593036022},{"_id":"themes/cactus/source/css/_partial/index.styl","hash":"4a0da5d7052204b23d390a7f76cdc903b9eef52b","modified":1704593036023},{"_id":"themes/cactus/source/css/_partial/header.styl","hash":"f08c8bd685ddced854cdf2183684013c0644527c","modified":1704593036023},{"_id":"themes/cactus/source/css/_partial/pagination.styl","hash":"4ff9755163aae6039bb72eac8360bc1c50fa26b6","modified":1704593036024},{"_id":"themes/cactus/source/css/_partial/tags.styl","hash":"7a2f9051b21bce525ecb71799d37c4b65a4f9171","modified":1704593036026},{"_id":"themes/cactus/source/css/_partial/search.styl","hash":"680ea535e5a20c01a31bee4d3eb680b86267a281","modified":1704593036025},{"_id":"themes/cactus/source/css/_partial/tooltip.styl","hash":"6cb13a9f4a7c01aa7ab8f73739a7d385377c5465","modified":1704593036026},{"_id":"themes/cactus/source/lib/clipboard/clipboard.min.js","hash":"d62dcb0905e038e69ff24ab9eef9e3306d45535e","modified":1704593036035},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Black.woff","hash":"f6fda2de0348b3e3b7de73267f9f8e97a62f8353","modified":1704593036101},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Black.woff2","hash":"7ea4fd7dd4cd4f480af78a0e2c5849eb921b1aeb","modified":1704593036102},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Bold.woff2","hash":"6e40d0c7669c1adbcbf034bdc459f7bed4d6676d","modified":1704593036107},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Bold.woff","hash":"56e632c9196fac364c66f812a3b4635dd999ad1c","modified":1704593036106},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Light.woff","hash":"1c3dbf17411b1f6a6b22c2b76e9d8511586643d0","modified":1704593036110},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Light.woff2","hash":"50b654d916204c30987d1987abd890ef92085ae3","modified":1704593036111},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Medium.woff","hash":"43a8aaa3fca8721dd32a5d20f7a98dfbc87c97fd","modified":1704593036115},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Medium.woff2","hash":"14b3e257c51a6a11d23b2a078017ff340c9777e4","modified":1704593036115},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Regular.woff2","hash":"a9714ffb842afc74836e64de04b52d8c37c87c8a","modified":1704593036119},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Regular.woff","hash":"235889d59ddad2b1f3243ccaab7733bd713a2a21","modified":1704593036118},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Thin.woff","hash":"c0e784de2eb5261cca244928f8a81fd893c3fe16","modified":1704593036122},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Thin.woff2","hash":"9b03b1a9071709f5b7dbca13412ecef6cb7a2a67","modified":1704593036123},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Variable.woff","hash":"2e8e6d38d361def5f48baac366f04e3db3ed4828","modified":1704593036126},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Variable.woff2","hash":"e213bb26bc7f10e1df3fe2d03d3ecaecd6e6d371","modified":1704593036126},{"_id":"themes/cactus/source/lib/vazir-font/font-face.css","hash":"a3dca7ea2f1fedafc2dfb687884d8ac792d15947","modified":1704593036127},{"_id":"themes/cactus/source/css/_partial/post/actions_mobile.styl","hash":"b06410ed34b5ecbcac11357aa359149e1f827aa6","modified":1704593036025},{"_id":"themes/cactus/source/css/_partial/post/actions_desktop.styl","hash":"c25ccdd505ca1b7c74a7fb2365ad2c262f8025ba","modified":1704593036024},{"_id":"themes/cactus/source/lib/font-awesome/webfonts/fa-regular-400.ttf","hash":"67afa6237670ab99125056f2899129f22912dcf3","modified":1704593036041},{"_id":"themes/cactus/source/lib/font-awesome/webfonts/fa-regular-400.woff2","hash":"fb363d27cfdfe71a243fa2ac3dab2815232b9b7e","modified":1704593036042},{"_id":"themes/cactus/source/lib/font-awesome/webfonts/fa-v4compatibility.ttf","hash":"a9d072aca9e0fadc2a7167671ce3d6b18d9cd2cc","modified":1704593036047},{"_id":"themes/cactus/source/lib/font-awesome/webfonts/fa-v4compatibility.woff2","hash":"8f80d0bbe995f7fe92320fdaec10cd5ccd710a51","modified":1704593036047},{"_id":"themes/cactus/source/lib/justified-gallery/js/jquery.justifiedGallery.min.js","hash":"8d7e041394387fd523991bf827d417ade2747e35","modified":1704593036051},{"_id":"themes/cactus/source/lib/justified-gallery/css/justifiedGallery.min.css","hash":"4a8d364c99df8471c6a0c7192710631e605af635","modified":1704593036050},{"_id":"themes/cactus/source/images/logo.png","hash":"440b7933239a6d93fb41a0865d9aed8a6832aac2","modified":1704596747604},{"_id":"themes/cactus/source/lib/jquery/jquery.min.js","hash":"edf8a6a066f201b1ffad32c585bd79c9982d4433","modified":1704593036049},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Black.eot","hash":"91152bd73e7ff8d943e3bde3ddb0fa0a018e1c21","modified":1704593036098},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Black.ttf","hash":"b65915e3fa57b5c19995d15dc2341d115c1971b9","modified":1704593036100},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Bold.eot","hash":"5c1c680fade45393e4a5bb4548a092cd5ea6811e","modified":1704593036103},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Bold.ttf","hash":"122bb778b17a152c426a825ee981610a4bd59bf3","modified":1704593036105},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Light.eot","hash":"a059359e9bea17dc2ff2ede955a05bf0dc4d00d0","modified":1704593036108},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Light.ttf","hash":"df82b80c4d3b11e70dcd269fc62ac97cbfa0414d","modified":1704593036109},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Medium.ttf","hash":"948a091f0fdb8c7ae17d5ef8e51bd8830d65dd9a","modified":1704593036114},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Medium.eot","hash":"d9ec1f9f3fefd57e446cbe86dc297f1ff269b6de","modified":1704593036112},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Regular.eot","hash":"521c01f0eb79a48025e972ecbe21b0d7fb15437b","modified":1704593036116},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Regular.ttf","hash":"643c28c8f8a2bce1a0d62525aa045cd9883773cd","modified":1704593036117},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Thin.eot","hash":"a0ea0bdaef00b35544f9a21d25d35db9a79f7189","modified":1704593036120},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Thin.ttf","hash":"6aacb0eecb03c660570b6e159ba5ca97ca7461cf","modified":1704593036121},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Variable.eot","hash":"af46f7f4e10a1440a4c97b350622d279143e6798","modified":1704593036124},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Variable.ttf","hash":"1e08b6373c2e086f24776df9b11e4be6bbcc8a4a","modified":1704593036125},{"_id":"themes/cactus/source/lib/font-awesome/css/all.min.css","hash":"2bf056f1697bf3afdf49e56573d63b114374661e","modified":1704593036036},{"_id":"themes/cactus/source/lib/font-awesome/webfonts/fa-brands-400.woff2","hash":"4350f9ba93384634faf35f41c503c99c767f1069","modified":1704593036040},{"_id":"themes/cactus/source/lib/font-awesome/webfonts/fa-brands-400.ttf","hash":"f0982a77285d53653845b0a78170b4688db972f1","modified":1704593036039},{"_id":"themes/cactus/source/lib/font-awesome/webfonts/fa-solid-900.woff2","hash":"6b99aa650bd12a36caa14e0127435d8f4cd3ba73","modified":1704593036046},{"_id":"themes/cactus/source/lib/font-awesome/webfonts/fa-solid-900.ttf","hash":"20bd663830188cbadd2264e1daf9497c3ffc3621","modified":1704593036045},{"_id":"themes/cactus/source/lib/meslo-LG/MesloLGL-Italic.ttf","hash":"96c97a0a098ca40802f948ae56fa37aa6683d034","modified":1704593036065},{"_id":"themes/cactus/source/lib/meslo-LG/MesloLGM-Italic.ttf","hash":"68700db02debd4b922304134da83b829cbfddfc9","modified":1704593036082},{"_id":"themes/cactus/source/lib/meslo-LG/MesloLGS-Italic.ttf","hash":"7f7cdbdcc26279c04046632e22d872f111bc9399","modified":1704593036094},{"_id":"themes/cactus/source/lib/meslo-LG/MesloLGL-BoldItalic.ttf","hash":"a9a431fc7a6c3a67c98021d4035c12a07a4f1070","modified":1704593036060},{"_id":"themes/cactus/source/lib/meslo-LG/MesloLGL-Bold.ttf","hash":"bfa1ed9a263ed78462f06d322de13bd5bd0906b2","modified":1704593036056},{"_id":"themes/cactus/source/lib/meslo-LG/MesloLGL-Regular.ttf","hash":"2b912dd13f052f645ee19951604610bb350d50af","modified":1704593036070},{"_id":"themes/cactus/source/lib/meslo-LG/MesloLGM-BoldItalic.ttf","hash":"65ddb11e75ee93909e845ab912a36717c48f1c94","modified":1704593036078},{"_id":"themes/cactus/source/lib/meslo-LG/MesloLGM-Bold.ttf","hash":"a8a8df3393bccc365335fc5eb0a62a6b7ccd32b9","modified":1704593036073},{"_id":"themes/cactus/source/lib/meslo-LG/MesloLGM-Regular.ttf","hash":"5e220152adefe905b2197f873d7cee99eca50e91","modified":1704593036085},{"_id":"themes/cactus/source/lib/meslo-LG/MesloLGS-Bold.ttf","hash":"df202ce09cbdc70bc16b81983a13ef0f94e46f10","modified":1704593036088},{"_id":"themes/cactus/source/lib/meslo-LG/MesloLGS-Regular.ttf","hash":"56fa0e33a390b704afc56af93a31576ccdbbdd9e","modified":1704593036096},{"_id":"themes/cactus/source/lib/meslo-LG/MesloLGS-BoldItalic.ttf","hash":"d895a1bd25e36c58b7f463ebe14de09f186d5ab4","modified":1704593036091}],"Category":[],"Data":[],"Page":[{"title":"archives","date":"2022-08-02T06:41:14.000Z","type":"archives","comments":0,"_content":"","source":"archives/index.md","raw":"---\ntitle: archives\ndate: 2022-08-02 14:41:14\ntype: \"archives\"\ncomments: false\n---\n","updated":"2022-08-02T06:41:50.000Z","path":"archives/index.html","layout":"page","_id":"clr4d2jtt0000gwv0hhq5e8tw","content":"","site":{"data":{}},"length":0,"excerpt":"","more":""},{"comments":0,"_content":"# SIDE PROJECT\n\n# RESEARCH\n\n# ABOUT ME\n\n### Name | YuanXin Zhou\n\n### Education | SCUT(South China University of Technology) | Interactive Design | 2020 - 2024\n\n### Interests | **Image Synthesis**, Game Dev, Design\n\n### Compute Skills | C++, C#, Lua, Python, Haskell\n\n----\n\n### **Social Media** |\n- [GITHUB](https://github.com/talentstream) \n- talentstream254@gmail.com | 447721326@qq.com","source":"index.md","raw":"---\ncomments: false\n---\n# SIDE PROJECT\n\n# RESEARCH\n\n# ABOUT ME\n\n### Name | YuanXin Zhou\n\n### Education | SCUT(South China University of Technology) | Interactive Design | 2020 - 2024\n\n### Interests | **Image Synthesis**, Game Dev, Design\n\n### Compute Skills | C++, C#, Lua, Python, Haskell\n\n----\n\n### **Social Media** |\n- [GITHUB](https://github.com/talentstream) \n- talentstream254@gmail.com | 447721326@qq.com","date":"2024-01-07T11:55:44.552Z","updated":"2024-01-07T11:55:44.552Z","path":"index.html","title":"","layout":"page","_id":"clr4d2jty0002gwv07j10g0rw","content":"<h1 id=\"SIDE-PROJECT\"><a href=\"#SIDE-PROJECT\" class=\"headerlink\" title=\"SIDE PROJECT\"></a>SIDE PROJECT</h1><h1 id=\"RESEARCH\"><a href=\"#RESEARCH\" class=\"headerlink\" title=\"RESEARCH\"></a>RESEARCH</h1><h1 id=\"ABOUT-ME\"><a href=\"#ABOUT-ME\" class=\"headerlink\" title=\"ABOUT ME\"></a>ABOUT ME</h1><h3 id=\"Name-YuanXin-Zhou\"><a href=\"#Name-YuanXin-Zhou\" class=\"headerlink\" title=\"Name | YuanXin Zhou\"></a>Name | YuanXin Zhou</h3><h3 id=\"Education-SCUT-South-China-University-of-Technology-Interactive-Design-2020-2024\"><a href=\"#Education-SCUT-South-China-University-of-Technology-Interactive-Design-2020-2024\" class=\"headerlink\" title=\"Education | SCUT(South China University of Technology) | Interactive Design | 2020 - 2024\"></a>Education | SCUT(South China University of Technology) | Interactive Design | 2020 - 2024</h3><h3 id=\"Interests-Image-Synthesis-Game-Dev-Design\"><a href=\"#Interests-Image-Synthesis-Game-Dev-Design\" class=\"headerlink\" title=\"Interests | Image Synthesis, Game Dev, Design\"></a>Interests | <strong>Image Synthesis</strong>, Game Dev, Design</h3><h3 id=\"Compute-Skills-C-C-Lua-Python-Haskell\"><a href=\"#Compute-Skills-C-C-Lua-Python-Haskell\" class=\"headerlink\" title=\"Compute Skills | C++, C#, Lua, Python, Haskell\"></a>Compute Skills | C++, C#, Lua, Python, Haskell</h3><hr>\n<h3 id=\"Social-Media\"><a href=\"#Social-Media\" class=\"headerlink\" title=\"Social Media |\"></a><strong>Social Media</strong> |</h3><ul>\n<li><a href=\"https://github.com/talentstream\">GITHUB</a> </li>\n<li><a href=\"mailto:&#x74;&#x61;&#108;&#x65;&#110;&#116;&#x73;&#116;&#114;&#x65;&#97;&#x6d;&#x32;&#x35;&#x34;&#x40;&#x67;&#x6d;&#97;&#x69;&#x6c;&#x2e;&#x63;&#x6f;&#x6d;\">&#x74;&#x61;&#108;&#x65;&#110;&#116;&#x73;&#116;&#114;&#x65;&#97;&#x6d;&#x32;&#x35;&#x34;&#x40;&#x67;&#x6d;&#97;&#x69;&#x6c;&#x2e;&#x63;&#x6f;&#x6d;</a> | <a href=\"mailto:&#x34;&#x34;&#55;&#x37;&#x32;&#49;&#x33;&#50;&#54;&#x40;&#113;&#113;&#x2e;&#x63;&#x6f;&#109;\">&#x34;&#x34;&#55;&#x37;&#x32;&#49;&#x33;&#50;&#54;&#x40;&#113;&#113;&#x2e;&#x63;&#x6f;&#109;</a></li>\n</ul>\n","site":{"data":{}},"length":455,"excerpt":"","more":"<h1 id=\"SIDE-PROJECT\"><a href=\"#SIDE-PROJECT\" class=\"headerlink\" title=\"SIDE PROJECT\"></a>SIDE PROJECT</h1><h1 id=\"RESEARCH\"><a href=\"#RESEARCH\" class=\"headerlink\" title=\"RESEARCH\"></a>RESEARCH</h1><h1 id=\"ABOUT-ME\"><a href=\"#ABOUT-ME\" class=\"headerlink\" title=\"ABOUT ME\"></a>ABOUT ME</h1><h3 id=\"Name-YuanXin-Zhou\"><a href=\"#Name-YuanXin-Zhou\" class=\"headerlink\" title=\"Name | YuanXin Zhou\"></a>Name | YuanXin Zhou</h3><h3 id=\"Education-SCUT-South-China-University-of-Technology-Interactive-Design-2020-2024\"><a href=\"#Education-SCUT-South-China-University-of-Technology-Interactive-Design-2020-2024\" class=\"headerlink\" title=\"Education | SCUT(South China University of Technology) | Interactive Design | 2020 - 2024\"></a>Education | SCUT(South China University of Technology) | Interactive Design | 2020 - 2024</h3><h3 id=\"Interests-Image-Synthesis-Game-Dev-Design\"><a href=\"#Interests-Image-Synthesis-Game-Dev-Design\" class=\"headerlink\" title=\"Interests | Image Synthesis, Game Dev, Design\"></a>Interests | <strong>Image Synthesis</strong>, Game Dev, Design</h3><h3 id=\"Compute-Skills-C-C-Lua-Python-Haskell\"><a href=\"#Compute-Skills-C-C-Lua-Python-Haskell\" class=\"headerlink\" title=\"Compute Skills | C++, C#, Lua, Python, Haskell\"></a>Compute Skills | C++, C#, Lua, Python, Haskell</h3><hr>\n<h3 id=\"Social-Media\"><a href=\"#Social-Media\" class=\"headerlink\" title=\"Social Media |\"></a><strong>Social Media</strong> |</h3><ul>\n<li><a href=\"https://github.com/talentstream\">GITHUB</a> </li>\n<li><a href=\"mailto:&#x74;&#x61;&#108;&#x65;&#110;&#116;&#x73;&#116;&#114;&#x65;&#97;&#x6d;&#x32;&#x35;&#x34;&#x40;&#x67;&#x6d;&#97;&#x69;&#x6c;&#x2e;&#x63;&#x6f;&#x6d;\">&#x74;&#x61;&#108;&#x65;&#110;&#116;&#x73;&#116;&#114;&#x65;&#97;&#x6d;&#x32;&#x35;&#x34;&#x40;&#x67;&#x6d;&#97;&#x69;&#x6c;&#x2e;&#x63;&#x6f;&#x6d;</a> | <a href=\"mailto:&#x34;&#x34;&#55;&#x37;&#x32;&#49;&#x33;&#50;&#54;&#x40;&#113;&#113;&#x2e;&#x63;&#x6f;&#109;\">&#x34;&#x34;&#55;&#x37;&#x32;&#49;&#x33;&#50;&#54;&#x40;&#113;&#113;&#x2e;&#x63;&#x6f;&#109;</a></li>\n</ul>\n"},{"title":"search","type":"search","date":"2024-01-07T02:44:19.000Z","_content":"\n","source":"search/index.md","raw":"---\ntitle: search\ntype: search\ndate: 2024-01-07 10:44:19\n---\n\n","updated":"2024-01-07T02:44:47.110Z","path":"search/index.html","comments":1,"layout":"page","_id":"clr4d2jtz0004gwv0bj6ld3cp","content":"","site":{"data":{}},"length":0,"excerpt":"","more":""}],"Post":[{"title":"2021 å¹¿å·æ ¸èšå˜","date":"2021-11-28T04:03:23.000Z","_content":"\n### è®¤è¯†æœºæ ¸\n\nè¯´èµ·æ ¸èšå˜ï¼Œå°±ä¸å¾—ä¸è¯´æ˜¯å¦‚ä½•çŸ¥é“æœºæ ¸çš„ã€‚å¦‚æœä¸çŸ¥é“æœºæ ¸çš„è¯ï¼ŒåŸºæœ¬ä¸Šæ˜¯ä¸çŸ¥é“æœ‰è¿™ä¸ªæ´»åŠ¨çš„ã€‚å½“æ—¶æ˜æ—¥æ–¹èˆŸäºŒå‘¨å¹´æ´»åŠ¨â€”â€”è¦†æ½®ä¹‹ä¸‹ï¼Œç‰¹åˆ«å…‹è‹é²ï¼Œå½“æ—¶å°±æ‰“ç®—äº†è§£ä¸€ä¸‹å…‹è‹é²ï¼ŒPVè¯„è®ºä¸‹æœ‰ä»‹ç»æ•…äº‹èƒŒæ™¯ï¼Œä¾¿æœç´¢äº†å°æ–¯èŒ…æ–¯çš„é˜´éœ¾ï¼Œä¾¿æ¥è§¦äº†bç«™çš„æœºæ ¸ç½‘ã€‚åˆ°äº†æš‘å‡ï¼Œå®åœ¨æ˜¯æ— èŠï¼Œä¾¿æ‰“ç®—å¬å¬ç”µå°ï¼Œäºæ˜¯ä¾¿æ‰“å¼€äº†æœºæ ¸ç½‘é¡µç‰ˆï¼Œå¼€å§‹å¬å„ç§å„æ ·çš„ç”µå°ï¼Œå¬ä¸€å †å¤§å”èƒ¡é€¼å¹ç‰›è®²æ•…äº‹è¿˜æŒºæœ‰æ„æ€ã€‚\n\n### å»æ ¸èšå˜ä¹‹å‰çš„å‡†å¤‡\n\nå‡†å¤‡åœ¨æœºæ ¸å¬ç”µå°çš„æ—¶å€™çœ‹åˆ°æ–°çš„ä¸€æ¬¡æ ¸èšå˜è¦æ¥å¹¿å·ä¸¾åŠï¼Œæƒ³ç€æˆ‘ä¹Ÿæ²¡å»å‚è§‚è¿‡æ¸¸æˆå±•ï¼Œäºæ˜¯ä¾¿æ‰“ç®—å»äº†ã€‚é‚£æ®µæ—¶é—´ddlè¿˜ç‰¹åˆ«å¤šï¼Œ11.20ã€11.21æˆ‘ä¸¤å¤©éƒ½æƒ³å»ï¼Œäºæ˜¯æˆ‘æŠŠddlæå‰æ‰“ç®—æå‰åšå®Œï¼Œé‚£3å‘¨æ˜¯çœŸçš„ä¸€ç›´è‚ä½œä¸šï¼Œæ—©ä¸Šä¸‹åˆä¸Šè¯¾ï¼Œæ™šä¸Šè‚ä½œä¸šã€‚çº¦ä¸Š2ä¸ªæœ‹å‹é™ªæˆ‘å‚åŠ ç¬¬ä¸€å¤©çš„æ ¸èšå˜ï¼Œç¬¬äºŒå¤©æ‰“ç®—è‡ªå·±ä¸€ä¸ªäººå»ç©ï¼Œè®¤ä¸ºä½“éªŒä¼šæœ‰æ‰€ä¸ä¸€æ ·ï¼Œäº‹å®ä¹Ÿæ˜¯ï¼Œç¡®å®æ˜¯ä¸ªæœ‰æ„æ€çš„ç»å†ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/1.png)\n\nä¸å¹¸çš„æ˜¯ï¼Œæˆ‘åœ¨å†³å®šå¥½äº†ä¹‹åæˆ‘ä»¬é™¢çš„é™¢è¿ä¼šå®‰æ’åœ¨11.21ï¼Œæ’äº†æ—¥æœŸå¾ˆæ˜¯ç³Ÿç³•ï¼Œè€Œä¸”è¿˜å¿…é¡»å‚åŠ å¼€å¹•å¼ğŸ¤•ï¼Œç­çº§é€‰çš„å…¥åœºè¡¨æ¼”æˆ‘è§‰å¾—ä¸å¤ªå¥½ï¼Œäºæ˜¯å‚åŠ å½©æ——é˜Ÿï¼Œä¸€å¼€å§‹ä»¥ä¸ºå½©æ——é˜Ÿä¼šåƒå¤§ä¸€åŸæ¥çš„ç”µä¿¡å­¦é™¢ä¸€æ ·è½»æ¾ï¼Œå°±å¼€å¹•å¼ä¸¾ç€æ——å­èµ°è¿‡å»ï¼Œæ²¡æƒ³åˆ°ç°åœ¨è¿™ä¸ªå­¦é™¢è¦åšå¥½å¤šåŠ¨ä½œï¼Œå¤§æ¦‚æ’ç»ƒäº†å…­ä¸ƒæ¬¡ï¼Œæ¯æ¬¡åŠä¸ªé’ŸğŸ˜‚ã€‚ä¸è¿‡è¿˜æ˜¯æ²¡å‚åŠ ä»»ä½•ä¸€ä¸ªé¡¹ç›®ï¼Œå†³å®šå¼€å¹•å¼ç»“æŸå°±å‡†å¤‡æºœã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/2.png)\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/3.png)\n\n### æ ¸èšå˜ç¬¬ä¸€å¤©\n\nä»å¤§å­¦åŸå—åˆ°è¾¾ç¶æ´²ï¼Œåªç”¨å3ä¸ªåœ°é“ç«™ï¼ŒäºŒååˆ†é’Ÿå·¦å³å°±åˆ°äº†ï¼Œè¿˜æ˜¯è›®è¿‘çš„ã€‚å½“å¤©æœ‰ä¸‰ä¸ªå±•è§ˆï¼Œä¸€ä¸ªå¹¿äº¤ä¼šï¼Œä¸€ä¸ªè½¦å±•ï¼Œä¸€ä¸ªæ ¸èšå˜ï¼Œæˆ‘åƒä¸ªé“¸å¸ä¸€æ ·è·Ÿç€äººæµåˆ°äº†æ ¸èšå˜å±•é¦†çš„å¯¹é¢ã€‚åˆ°é—¨å£çš„æ—¶å€™å‘ç°ä¸å¯¹åŠ²ï¼Œèµ¶ç´§ç©¿è¿‡åœ°é“ç«™åˆ°è¾¾ä¿åˆ©ä¸–è´¸åšè§ˆé¦†ï¼Œè¿˜è®°å¾—å»å¹´å›½åº†å»æ¼«å±•ä¹Ÿæ˜¯åˆ°çš„è¿™é‡Œã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/4.png)\n\nç­‰å€™åŒå­¦ï¼Œæ²¡æƒ³åˆ°ä»–å¿˜å¸¦èº«ä»½è¯äº†ï¼Œè¿˜å¥½æ”¯ä»˜å®æœ‰ç”µå­èº«ä»½è¯ï¼Œè™½ç„¶ä¹Ÿæ²¡ç”¨åˆ°ï¼Œæœ€åä¹Ÿåªæ˜¯ç™»è®°å°±è¿‡äº†ğŸ˜‚ã€‚æ²¡æƒ³åˆ°çš„æ˜¯å¹¿å·å…¬å®‰å€Ÿæ­¤å†²ä¸šç»©ï¼ˆ ä¸‹è½½å›½å®¶åè¯ˆAPPï¼‰ï¼Œè™½ç„¶å­¦æ ¡å·²ç»å¼ºåˆ¶è¦æ±‚æˆ‘ä»¬ä¸‹è½½äº†ï¼Œä½†æ˜¯å‚åŠ è¿™ä¸ªå±•è§ˆä¸»è¦è¿˜æ˜¯ç¤¾ä¼šäººå£«ï¼Œäºæ˜¯å› æ­¤æ’äº†å¾ˆä¹…ã€‚èº«ä»½è¯éªŒè¯çš„æ—¶å€™æˆ‘åè€Œæ¯”æˆ‘å¿˜å¸¦èº«ä»½è¯çš„åŒå­¦æ…¢ï¼Œäººè„¸è¯†åˆ«çš„æœºå™¨å¯¹æˆ‘æ¥è¯´å¤ªçŸ®äº†ï¼Œæˆ‘ä¸€å¼€å§‹è¹²ä¸‹ä¸€ç›´æ²¡æ£€æµ‹åˆ°ï¼Œçœ‹ç€å…¶ä»–åˆ—çš„åˆ«äººå…ˆè¿‡å»ï¼Œè¿˜æ˜¯ååˆ†å°´å°¬çš„ã€‚\n\næ‰«ç æ­£å¼è¿›å…¥åœºé¦†ï¼Œé¢†äº†ä¸€ä¸ªè“è‰²day01æ‰‹ç¯ï¼Œä¸€ä¸ªtaptapé›†å°ç« çš„æ‰‹å†Œï¼Œå’Œä¸€ä¸ªæ ¸èšå˜å±•è§ˆæ‰‹å†Œã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/5.png)\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/6.png)\n\næ˜¯è·Ÿä¸¤ä¸ªåŒå­¦ä¸€èµ·æ¥ï¼Œä½†æ˜¯è¿˜æœ‰ä¸€ä¸ªäººæ²¡æœ‰åˆ°ï¼Œäºæ˜¯æˆ‘ä»¬æ‰“ç®—å¤§è‡´é€›ä¸€ä¸‹ã€‚çœ‹äº†ä¸€ä¼šå‘ç°æœ‰å¾ˆå¤šå¥½ç©çš„ï¼Œäºæ˜¯æ‰“ç®—ç­‰é‚£ä¸ªåŒå­¦æ¥äº†ä¹‹åå†ä¸€èµ·ç©ã€‚äºæ˜¯åˆ°äº†ç‹¬ç«‹æ¸¸æˆåŒºï¼Œåœ¨å»æ ¸èšå˜ä¹‹å‰ï¼Œæˆ‘æœ‰åœ¨çœ‹æœºæ ¸å‘å¸ƒçš„ç‹¬ç«‹æ¸¸æˆå±•ç¤ºçš„ç›´æ’­å½•åƒã€‚åœ¨ä¼—å¤šç‹¬ç«‹æ¸¸æˆä¹‹ä¸­ï¼Œæˆ‘å†³å®šå…ˆçœ‹çœ‹åŒç›¸ï¼Œæ˜¯ä¸€ä¸ªä¸é”™çš„å¹³å°è·³è·ƒæ¸¸æˆï¼Œæ¸¸æˆéš¾åº¦é€‚ä¸­ï¼Œè§£è°œä¹ŸæŒºä¸é”™çš„ã€‚ç©åˆ°ç¬¬ä¸ƒå…³å¡åœ¨é‚£äº†ï¼ˆæ€»å…±æœ‰å…«å…³ï¼‰ï¼Œæ­¤æ—¶å·²ç»åä¸€ç‚¹å¤šäº†ï¼Œå¦ä¸€ä¸ªåŒå­¦ä¹Ÿæ¥äº†ï¼Œè®©ä»–å¸¦äº†ä»½éº¦å½“åŠ³ã€‚æˆ‘ä»¬å‡†å¤‡åœ¨ä¸­åˆä¼‘æ¯æ—¶åƒå®Œç„¶åå¼€å§‹ç©ã€‚\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/7.png)\nä»12ç‚¹å¤šå¼€å§‹ï¼Œæˆ‘ä»¬ç°åœ¨taptapåŒºæ¸¸è¡ï¼Œä¸€å¼€å§‹ç©é€è§†å’Œæ·±æ²‰ä¹‹ç«ï¼Œéƒ½æ˜¯éå¸¸æœ‰æ„æ€çš„æ¸¸æˆã€‚ä¸è¿‡æ·±æ²‰ä¹‹ç«å¤ªå¤šäººç©äº†ï¼Œæ ¹æœ¬æ’ä¸åˆ°é˜Ÿä¼ï¼Œä½†æ˜¯æœ‰ç¼˜è·Ÿå¼€å‘è€…èŠå…³äºæ¸¸æˆå¼€å‘çš„ä¸€äº›è¾¹è¾¹è§’è§’ã€‚ä¸ºäº†é›†20ä¸ªç« ï¼Œå»å¾—ä¸€ä¸ªtaptapçš„ç”»å†Œï¼ˆäº‹åæœ‰ç‚¹åæ‚”ï¼Œæ„Ÿè§‰è´¨é‡ä¸€èˆ¬ï¼Œä¸è¿‡æ¯•ç«Ÿä¸æ˜¯ä¹°çš„ï¼Œä¹Ÿä¸æ˜¯é‚£ç§å¾ˆè´µçš„ç”»å†Œï¼‰ã€‚é™¤äº†å‰é¢çš„æ¸¸æˆï¼Œå…¶ä¸­æ¯”è¾ƒæœ‰æ„æ€çš„æ¸¸æˆï¼Œéœ“è™¹æ·±æ¸Šï¼Œåƒç´ ç±»æ¨ªæ¿è·³è·ƒrougelikeå¼¹å¹•æ¸¸æˆï¼Œè¿æ°”æ¯”è¾ƒæ¬§ï¼Œæ‰“ä¸‰ä¸ªbossï¼Œç¬¬ä¸€ä¸ªæ‰“å®Œå°±æ‹¿åˆ°äº†æœ€å¥½çš„æ¿€å…‰æªï¼Œåœ¨é‚£ç«™æ’¸ï¼Œ2åˆ†é’Ÿå°±å®Œæˆäº†ä»»åŠ¡ï¼Œè·å¾—äº†ä¸ªé©¬å…‹æ¯ï¼Œè¿˜ç®—ä¸é”™ï¼Œæ¥ç€æ–­æ–­ç»­ç»­çš„ç©åˆ°3ç‚¹å¤šï¼Œç»ˆäºé›†é½äºŒåä¸ªç« ï¼Œä¾¿è·‘å»æ ¸èšå˜çš„ä¸»åœºé¦†ç©æ¸¸æˆã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/8.png)\n\né¦–å…ˆæ˜¯å‰‘ç‰ï¼Œä¸€ä¸ªæŒºå¥½ç©çš„ç©å…·ï¼Œè¿˜å¯ä»¥é›†å°ç« ï¼Œæ¯ä¸ªäººæœ‰ä¸‰æ¬¡æŒ‘æˆ˜æœºä¼šï¼Œæˆ‘åœ¨ç¬¬ä¸‰æ¬¡çš„æ—¶å€™æŒ‘æˆ˜æˆåŠŸäº†ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/9.png)\n\næ¥ç€åˆ°æ—è¾¹å»ç©äº†é¬¼ç­ä¹‹åˆƒçš„ç«ç¥é›ªé£è°­ï¼Œå¯ä»¥è¯´å°±æ˜¯3dçš„æ‹³çš‡ï¼Œååˆ†æœ‰æ„æ€ï¼Œï¼ˆç¬¬äºŒå¤©æˆ‘ä¹Ÿå»ç©äº†ï¼Œä¹Ÿå°±æ˜¯è¿™ä¸ªæ¸¸æˆï¼Œè®©æˆ‘æœ‰äº†ä¸€ä¸ªå¥‡å¦™çš„ç»å†ï¼‰ï¼ŒåŒæ ·ä¹Ÿæ²¡æœ‰æ‹ç…§ç•™å¿µğŸ˜‡ã€‚åŒäººæˆè¡Œå’Œåœ°å¹³çº¿5æ’é˜Ÿçš„äººå¤ªå¤šäº†ï¼Œäºæ˜¯åˆ°ä»»å¤©å ‚å¤§ä¹±æ–—åŒºç©ï¼Œ2v2ï¼Œä»»å¤©å ‚çš„æ¸¸æˆå°±æ˜¯å¥½ç©ã€‚æ­¤æ—¶å·²ç»å››ç‚¹äº†ï¼Œå»çœ‹çœ‹ä¸»èˆå°çš„æœ€åæ´»åŠ¨ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/10.png)\n\nä»Šæ—¥æ ¸èšå˜ç»“æŸï¼Œæ™šåˆ°çš„åŒå­¦ä¸åœ¨å¹¿å·è¯»å¤§å­¦ï¼Œè¿™æ¬¡æ¥æ˜¯ä¸ºäº†é¡ºä¾¿æ‰¾å¥³æœ‹å‹ï¼Œäºæ˜¯å‰©ä¸‹çš„ä¸¤ä¸ªå•èº«ç‹—åˆ°æ—è¾¹çš„å•†åŸåƒé¥­ï¼Œæ¸¯å¼èŒ¶é¤å…ï¼Œç”œè…»çš„è¦æ­»ï¼Œæœ‰ä¸ªé¸¡è„†éª¨éƒ½æ²¡åƒå¤šå°‘ã€‚å†™çš„æ—¶å€™æ‰å‘ç°è‡ªå·±å¹¶æ²¡æœ‰æ‹ç…§(;Â´à¼àº¶Ğ”à¼àº¶`)ï¼Œè™½ç„¶è¿‡äºç”œè…»ï¼Œä½†æ˜¯å–ç›¸è¿˜æ˜¯ä¸é”™çš„ï¼ˆå¤§ä¼—ç‚¹è¯„æ‰¾åˆ°çš„å›¾ã€‚Â æŠ¥èœåï¼šæ»‘è›‹ç‰›è‚‰é¥­ï¼ˆçœ‹ç€åˆ†é‡å°‘ï¼Œä¸€å¼€å§‹ä»¥ä¸ºä¸å¤Ÿåƒï¼Œæ²¡æƒ³åˆ°ç³–åŠ äº†å¥½å¤šï¼Œå¤ªè…»æ­ªäº†ï¼‰ï¼Œé¸¡è„†éª¨ï¼ˆå¥½åƒï¼Œä½†æ˜¯æœ€ååƒä¸ä¸‹äº†ï¼‰ï¼Œå°é£Ÿæ‹¼ç›˜ï¼ˆé¦™è‚ ã€çŒªè‚ ç²‰ã€é±¼è›‹ã€é¸¡ç¿¼å°–ï¼‰ï¼Œè¥¿å¤šå£«ï¼ˆæ— æ•Œå¥½åƒğŸ˜‹ï¼Œ12å—é’±9ä¸ªï¼Œå…¨åœºæœ€å€¼çš„ï¼‰\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/11.png)\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/12.png)\n\næ™šä¸Šå›åˆ°å®¿èˆå·²ç»æ˜¯ä¸ƒç‚¹å¤šäº†ï¼Œæ”¶æ‹¾ä¸‹ä¸œè¥¿æ´—ä¸ªæ¾¡å‘ç°è‡ªå·±å¿˜è®°åšé™æ—¶ç­”é¢˜äº†ï¼Œå¥½åœ¨å‘¨æ—¥è¿˜æœ‰å¾—ç­”é¢˜ï¼Œå®šä¸‹é—¹é’Ÿã€‚\n\n### æ ¸èšå˜ç¬¬äºŒå¤©\n\nå‘¨æ—¥é™¢è¿ä¼šå¼€å®Œå·²ç»æ˜¯10ç‚¹åŠäº†æ¯”å®˜æ–¹æ‰‹å†Œé¢„è®¡çš„æ—¶é—´è¿˜å»¶è¿Ÿäº†åŠä¸ªé’Ÿï¼ˆğŸ˜‚100ç±³ 10ç‚¹å¼€è·‘ï¼‰ï¼Œåœ¨ç«™çš„æ—¶å€™è¿˜æ”¶åˆ°æ¶ˆæ¯è¯´æˆ‘çš„å¤§ä½œä¸šå»ºæ¨¡çš„æ¨¡å‹ä¸èƒ½ç”¨äº3dæ‰“å°ï¼Œåªå¥½æ‰¾æ·˜å®ä¿®å¤å¹¶æ‰“å°ï¼ŒèŠ±äº†150å¤§æ´‹ğŸ˜­ğŸ˜­ã€‚ä¸€ç»“æŸï¼Œåœ¨å°å–éƒ¨ä¹°äº†ä¸¤ä¸ªé¢åŒ…æ¥åº”ä»˜ä¸­åˆåƒçš„ä¸œè¥¿ï¼Œåä¸Šåœ°é“11ç‚¹10åˆ†å°±è¿›å…¥åœºé¦†äº†ï¼ˆå‰é¢å¹¶æ²¡æœ‰æ’é˜Ÿï¼Œä¼°è®¡æ˜¯å¤ªæ™šäº†ï¼‰ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/13.png)\n\nä¸€å¼€å§‹å…ˆæƒ³ç€æŠŠç« ç»™æ”¶é›†äº†ï¼Œç„¶åå†ç©ä¸ªç—›å¿«ï¼Œå…ˆå»ç©äº†æš–é›ªï¼ŒæŒºå®¹æ˜“ä¸Šæ‰‹çš„ã€‚ç„¶åä¸“é—¨æ’äº†40åˆ†é’Ÿç©åœ°å¹³çº¿5ï¼Œæ‰‹æŸ„+å¤§å±å¹•çœŸæ˜¯çˆ½çˆ†äº†ï¼Œä¸è¿‡æ²¡å»æ’æœ‰æ–¹å‘ç›˜çš„é˜Ÿä¼ğŸ˜¢ï¼ˆå¾ˆå¯æƒœï¼Œè€Œä¸”æˆ‘è¿˜æ²¡æŒ‘æˆ˜æˆåŠŸï¼Œç¬¬ä¸€æ¬¡ç”¨æ‰‹æŸ„ç©èµ›è½¦æ¸¸æˆï¼‰ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/14.png)\n\nç„¶åå»ç©å¸å›½æ—¶ä»£IVï¼Œè¿˜æ˜¯ä¸é”™çš„æ¸¸æˆï¼Œä»¥å‰æŒºå–œæ¬¢ç©çš„æ¸¸æˆç±»å‹ï¼Œç°åœ¨æ›´å–œæ¬¢åŠ¨ä½œç±»å’Œè§£è°œç±»æ¸¸æˆäº†ã€‚åˆæ’äº†ä¸€ä¸‹é˜Ÿç©å®Œå¼‚æ˜Ÿæ±‚ç”Ÿï¼Œå†³å®šå†ç©ä¸€ä¸ªæ¸¸æˆï¼Œé¬¼ç­ä¹‹åˆƒï¼Œè¿™ä¸ªæ˜¯æˆ‘è®¤è¯†é‚£ä½é™Œç”Ÿäººçš„å¥‘æœºã€‚åŸæœ¬åªæ‰“äº†ä¸€æŠŠ5å±€ä¸‰èƒœçš„æ²¡æœ‰èŠèµ·æ¥ï¼Œä½†æ˜¯çœ‹åˆ°å·¥ä½œäººå‘˜æ²¡æœ‰è¿‡æ¥ï¼Œæˆ‘ä»¬ä¾¿å†å¼€äº†ä¸€æŠŠï¼Œäºæ˜¯ä¾¿å¼€å§‹èŠèµ·æ¥äº†ï¼Œè°ˆè®ºè‡ªå·±å¹³å¸¸ç©ä»€ä¹ˆæ¸¸æˆã€‚ç„¶åå¸¦ä»–å»é›†ç« ï¼Œä»–æ˜¯å‘¨å…­ä¸Šç­ï¼Œå‘¨æ—¥è¿‡æ¥çš„ï¼ˆåªæœ‰å•ä¼‘ï¼Œæ‰“å·¥äººå‘½è‹¦å•Šï¼‰ï¼Œä»åŒ—æ–¹ä¸€ä¸ªäººè¿‡æ¥æ¥å¹¿å·ä¸€ä¸ªå¤–è´¸å…¬å¸å½“è®¾è®¡(ç‰¹åˆ«æœ‰å‹‡æ°”ï¼Œæ•¬ä½©)ã€‚å¸¦ä»–å»ç©åŒäººå†°å£¶ï¼Œä»»å¤©å ‚ï¼Œè¿˜æœ‰éœ“è™¹æ·±æ¸Šï¼Œå¯æƒœçš„æ˜¯éœ“è™¹æ·±æ¸Šä»Šå¤©ç¿»è½¦äº†ï¼Œæ²¡èƒ½æˆåŠŸå†æ¬¡æ‹¿åˆ°ç¤¼å“ğŸ¤£ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/15.png)\n\nåœ¨é—­å¹•å‰ç»ˆäºç©åˆ°æ·±æ²‰ä¹‹ç«äº†ï¼Œç©å®Œåæˆ‘ä»¬ä¾¿ç¦»å¼€åœºé¦†ï¼Œæˆ‘æˆåŠŸçªç ´ç¤¾æçš„ç¬¬ä¸€æ­¥ï¼Œé‚€è¯·ä»–ä¸€èµ·åƒé¥­ï¼Œä»ç„¶æ˜¯åˆ°æ—è¾¹çš„å…­å…ƒç´ åƒé¥­ï¼Œä¸è¿‡è¿™æ¬¡æ˜¯å¤§å¸ˆå…„ï¼ˆé™•è¥¿é¢ï¼‰ã€‚åˆæ²¡æ‹ç…§ğŸ¤ï¼ˆæ²¡æœ‰æ‹åƒçš„é¥­çš„ä¹ æƒ¯ï¼‰ã€‚ä»–è¯·äº†æˆ‘ä¸€ä¸ªè‚‰å¤¹é¦ï¼ŒåŸæœ¬æƒ³è¦å…¨è¯·æˆ‘çš„ï¼Œä½†æ˜¯æ¯•ç«Ÿä»–æ˜¯ç¬¬ä¸€å¹´ä¸Šç­ï¼Œä»–å…¨è¯·è¿˜æ˜¯ä¸å¤ªå¥½ã€‚\n\nåœ¨åœ°é“ç«™åˆ†é“æ‰¬é•³ï¼Œä»–ä¸æˆ‘æ˜¯ç›¸åçš„è·¯çº¿ï¼Œä»–ä½ç™½äº‘åŒºï¼Œæˆ‘ä½ç•ªç¦ºåŒºã€‚\n\n### ç»“æŸå\n\næŠ½å¥–æŠ½äº†ä¸¤ä¸ªcå¥–ï¼ˆå¸†å¸ƒè¢‹å’Œæ¡Œå¸ƒï¼‰ï¼Œè™½ç„¶å¾ˆçœ¼é¦‹Så¥–ï¼ˆXbox series xï¼‰ï¼Œä½†æ˜¯è‡ªå·±æ˜¯éé…‹ã€‚\n\nç¬¬ä¸€æ¬¡å†™é‚£ä¹ˆé•¿çš„åšå®¢ï¼Œæœ‰ç‚¹åƒæµæ°´è´¦äº†ï¼ˆå…¶å®å°±æ˜¯äº†ï¼‰ï¼Œèµ¶å¤§ä½œä¸šå»äº†â€”â€”æ¶¦~\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/16.png)\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/17.png)\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/18.png)\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/19.png)\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/20.png)\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/21.png)\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/22.png)","source":"_posts/2021-å¹¿å·æ ¸èšå˜.md","raw":"---\ntitle: 2021 å¹¿å·æ ¸èšå˜\ndate: 2021-11-28 12:03:23\n---\n\n### è®¤è¯†æœºæ ¸\n\nè¯´èµ·æ ¸èšå˜ï¼Œå°±ä¸å¾—ä¸è¯´æ˜¯å¦‚ä½•çŸ¥é“æœºæ ¸çš„ã€‚å¦‚æœä¸çŸ¥é“æœºæ ¸çš„è¯ï¼ŒåŸºæœ¬ä¸Šæ˜¯ä¸çŸ¥é“æœ‰è¿™ä¸ªæ´»åŠ¨çš„ã€‚å½“æ—¶æ˜æ—¥æ–¹èˆŸäºŒå‘¨å¹´æ´»åŠ¨â€”â€”è¦†æ½®ä¹‹ä¸‹ï¼Œç‰¹åˆ«å…‹è‹é²ï¼Œå½“æ—¶å°±æ‰“ç®—äº†è§£ä¸€ä¸‹å…‹è‹é²ï¼ŒPVè¯„è®ºä¸‹æœ‰ä»‹ç»æ•…äº‹èƒŒæ™¯ï¼Œä¾¿æœç´¢äº†å°æ–¯èŒ…æ–¯çš„é˜´éœ¾ï¼Œä¾¿æ¥è§¦äº†bç«™çš„æœºæ ¸ç½‘ã€‚åˆ°äº†æš‘å‡ï¼Œå®åœ¨æ˜¯æ— èŠï¼Œä¾¿æ‰“ç®—å¬å¬ç”µå°ï¼Œäºæ˜¯ä¾¿æ‰“å¼€äº†æœºæ ¸ç½‘é¡µç‰ˆï¼Œå¼€å§‹å¬å„ç§å„æ ·çš„ç”µå°ï¼Œå¬ä¸€å †å¤§å”èƒ¡é€¼å¹ç‰›è®²æ•…äº‹è¿˜æŒºæœ‰æ„æ€ã€‚\n\n### å»æ ¸èšå˜ä¹‹å‰çš„å‡†å¤‡\n\nå‡†å¤‡åœ¨æœºæ ¸å¬ç”µå°çš„æ—¶å€™çœ‹åˆ°æ–°çš„ä¸€æ¬¡æ ¸èšå˜è¦æ¥å¹¿å·ä¸¾åŠï¼Œæƒ³ç€æˆ‘ä¹Ÿæ²¡å»å‚è§‚è¿‡æ¸¸æˆå±•ï¼Œäºæ˜¯ä¾¿æ‰“ç®—å»äº†ã€‚é‚£æ®µæ—¶é—´ddlè¿˜ç‰¹åˆ«å¤šï¼Œ11.20ã€11.21æˆ‘ä¸¤å¤©éƒ½æƒ³å»ï¼Œäºæ˜¯æˆ‘æŠŠddlæå‰æ‰“ç®—æå‰åšå®Œï¼Œé‚£3å‘¨æ˜¯çœŸçš„ä¸€ç›´è‚ä½œä¸šï¼Œæ—©ä¸Šä¸‹åˆä¸Šè¯¾ï¼Œæ™šä¸Šè‚ä½œä¸šã€‚çº¦ä¸Š2ä¸ªæœ‹å‹é™ªæˆ‘å‚åŠ ç¬¬ä¸€å¤©çš„æ ¸èšå˜ï¼Œç¬¬äºŒå¤©æ‰“ç®—è‡ªå·±ä¸€ä¸ªäººå»ç©ï¼Œè®¤ä¸ºä½“éªŒä¼šæœ‰æ‰€ä¸ä¸€æ ·ï¼Œäº‹å®ä¹Ÿæ˜¯ï¼Œç¡®å®æ˜¯ä¸ªæœ‰æ„æ€çš„ç»å†ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/1.png)\n\nä¸å¹¸çš„æ˜¯ï¼Œæˆ‘åœ¨å†³å®šå¥½äº†ä¹‹åæˆ‘ä»¬é™¢çš„é™¢è¿ä¼šå®‰æ’åœ¨11.21ï¼Œæ’äº†æ—¥æœŸå¾ˆæ˜¯ç³Ÿç³•ï¼Œè€Œä¸”è¿˜å¿…é¡»å‚åŠ å¼€å¹•å¼ğŸ¤•ï¼Œç­çº§é€‰çš„å…¥åœºè¡¨æ¼”æˆ‘è§‰å¾—ä¸å¤ªå¥½ï¼Œäºæ˜¯å‚åŠ å½©æ——é˜Ÿï¼Œä¸€å¼€å§‹ä»¥ä¸ºå½©æ——é˜Ÿä¼šåƒå¤§ä¸€åŸæ¥çš„ç”µä¿¡å­¦é™¢ä¸€æ ·è½»æ¾ï¼Œå°±å¼€å¹•å¼ä¸¾ç€æ——å­èµ°è¿‡å»ï¼Œæ²¡æƒ³åˆ°ç°åœ¨è¿™ä¸ªå­¦é™¢è¦åšå¥½å¤šåŠ¨ä½œï¼Œå¤§æ¦‚æ’ç»ƒäº†å…­ä¸ƒæ¬¡ï¼Œæ¯æ¬¡åŠä¸ªé’ŸğŸ˜‚ã€‚ä¸è¿‡è¿˜æ˜¯æ²¡å‚åŠ ä»»ä½•ä¸€ä¸ªé¡¹ç›®ï¼Œå†³å®šå¼€å¹•å¼ç»“æŸå°±å‡†å¤‡æºœã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/2.png)\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/3.png)\n\n### æ ¸èšå˜ç¬¬ä¸€å¤©\n\nä»å¤§å­¦åŸå—åˆ°è¾¾ç¶æ´²ï¼Œåªç”¨å3ä¸ªåœ°é“ç«™ï¼ŒäºŒååˆ†é’Ÿå·¦å³å°±åˆ°äº†ï¼Œè¿˜æ˜¯è›®è¿‘çš„ã€‚å½“å¤©æœ‰ä¸‰ä¸ªå±•è§ˆï¼Œä¸€ä¸ªå¹¿äº¤ä¼šï¼Œä¸€ä¸ªè½¦å±•ï¼Œä¸€ä¸ªæ ¸èšå˜ï¼Œæˆ‘åƒä¸ªé“¸å¸ä¸€æ ·è·Ÿç€äººæµåˆ°äº†æ ¸èšå˜å±•é¦†çš„å¯¹é¢ã€‚åˆ°é—¨å£çš„æ—¶å€™å‘ç°ä¸å¯¹åŠ²ï¼Œèµ¶ç´§ç©¿è¿‡åœ°é“ç«™åˆ°è¾¾ä¿åˆ©ä¸–è´¸åšè§ˆé¦†ï¼Œè¿˜è®°å¾—å»å¹´å›½åº†å»æ¼«å±•ä¹Ÿæ˜¯åˆ°çš„è¿™é‡Œã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/4.png)\n\nç­‰å€™åŒå­¦ï¼Œæ²¡æƒ³åˆ°ä»–å¿˜å¸¦èº«ä»½è¯äº†ï¼Œè¿˜å¥½æ”¯ä»˜å®æœ‰ç”µå­èº«ä»½è¯ï¼Œè™½ç„¶ä¹Ÿæ²¡ç”¨åˆ°ï¼Œæœ€åä¹Ÿåªæ˜¯ç™»è®°å°±è¿‡äº†ğŸ˜‚ã€‚æ²¡æƒ³åˆ°çš„æ˜¯å¹¿å·å…¬å®‰å€Ÿæ­¤å†²ä¸šç»©ï¼ˆ ä¸‹è½½å›½å®¶åè¯ˆAPPï¼‰ï¼Œè™½ç„¶å­¦æ ¡å·²ç»å¼ºåˆ¶è¦æ±‚æˆ‘ä»¬ä¸‹è½½äº†ï¼Œä½†æ˜¯å‚åŠ è¿™ä¸ªå±•è§ˆä¸»è¦è¿˜æ˜¯ç¤¾ä¼šäººå£«ï¼Œäºæ˜¯å› æ­¤æ’äº†å¾ˆä¹…ã€‚èº«ä»½è¯éªŒè¯çš„æ—¶å€™æˆ‘åè€Œæ¯”æˆ‘å¿˜å¸¦èº«ä»½è¯çš„åŒå­¦æ…¢ï¼Œäººè„¸è¯†åˆ«çš„æœºå™¨å¯¹æˆ‘æ¥è¯´å¤ªçŸ®äº†ï¼Œæˆ‘ä¸€å¼€å§‹è¹²ä¸‹ä¸€ç›´æ²¡æ£€æµ‹åˆ°ï¼Œçœ‹ç€å…¶ä»–åˆ—çš„åˆ«äººå…ˆè¿‡å»ï¼Œè¿˜æ˜¯ååˆ†å°´å°¬çš„ã€‚\n\næ‰«ç æ­£å¼è¿›å…¥åœºé¦†ï¼Œé¢†äº†ä¸€ä¸ªè“è‰²day01æ‰‹ç¯ï¼Œä¸€ä¸ªtaptapé›†å°ç« çš„æ‰‹å†Œï¼Œå’Œä¸€ä¸ªæ ¸èšå˜å±•è§ˆæ‰‹å†Œã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/5.png)\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/6.png)\n\næ˜¯è·Ÿä¸¤ä¸ªåŒå­¦ä¸€èµ·æ¥ï¼Œä½†æ˜¯è¿˜æœ‰ä¸€ä¸ªäººæ²¡æœ‰åˆ°ï¼Œäºæ˜¯æˆ‘ä»¬æ‰“ç®—å¤§è‡´é€›ä¸€ä¸‹ã€‚çœ‹äº†ä¸€ä¼šå‘ç°æœ‰å¾ˆå¤šå¥½ç©çš„ï¼Œäºæ˜¯æ‰“ç®—ç­‰é‚£ä¸ªåŒå­¦æ¥äº†ä¹‹åå†ä¸€èµ·ç©ã€‚äºæ˜¯åˆ°äº†ç‹¬ç«‹æ¸¸æˆåŒºï¼Œåœ¨å»æ ¸èšå˜ä¹‹å‰ï¼Œæˆ‘æœ‰åœ¨çœ‹æœºæ ¸å‘å¸ƒçš„ç‹¬ç«‹æ¸¸æˆå±•ç¤ºçš„ç›´æ’­å½•åƒã€‚åœ¨ä¼—å¤šç‹¬ç«‹æ¸¸æˆä¹‹ä¸­ï¼Œæˆ‘å†³å®šå…ˆçœ‹çœ‹åŒç›¸ï¼Œæ˜¯ä¸€ä¸ªä¸é”™çš„å¹³å°è·³è·ƒæ¸¸æˆï¼Œæ¸¸æˆéš¾åº¦é€‚ä¸­ï¼Œè§£è°œä¹ŸæŒºä¸é”™çš„ã€‚ç©åˆ°ç¬¬ä¸ƒå…³å¡åœ¨é‚£äº†ï¼ˆæ€»å…±æœ‰å…«å…³ï¼‰ï¼Œæ­¤æ—¶å·²ç»åä¸€ç‚¹å¤šäº†ï¼Œå¦ä¸€ä¸ªåŒå­¦ä¹Ÿæ¥äº†ï¼Œè®©ä»–å¸¦äº†ä»½éº¦å½“åŠ³ã€‚æˆ‘ä»¬å‡†å¤‡åœ¨ä¸­åˆä¼‘æ¯æ—¶åƒå®Œç„¶åå¼€å§‹ç©ã€‚\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/7.png)\nä»12ç‚¹å¤šå¼€å§‹ï¼Œæˆ‘ä»¬ç°åœ¨taptapåŒºæ¸¸è¡ï¼Œä¸€å¼€å§‹ç©é€è§†å’Œæ·±æ²‰ä¹‹ç«ï¼Œéƒ½æ˜¯éå¸¸æœ‰æ„æ€çš„æ¸¸æˆã€‚ä¸è¿‡æ·±æ²‰ä¹‹ç«å¤ªå¤šäººç©äº†ï¼Œæ ¹æœ¬æ’ä¸åˆ°é˜Ÿä¼ï¼Œä½†æ˜¯æœ‰ç¼˜è·Ÿå¼€å‘è€…èŠå…³äºæ¸¸æˆå¼€å‘çš„ä¸€äº›è¾¹è¾¹è§’è§’ã€‚ä¸ºäº†é›†20ä¸ªç« ï¼Œå»å¾—ä¸€ä¸ªtaptapçš„ç”»å†Œï¼ˆäº‹åæœ‰ç‚¹åæ‚”ï¼Œæ„Ÿè§‰è´¨é‡ä¸€èˆ¬ï¼Œä¸è¿‡æ¯•ç«Ÿä¸æ˜¯ä¹°çš„ï¼Œä¹Ÿä¸æ˜¯é‚£ç§å¾ˆè´µçš„ç”»å†Œï¼‰ã€‚é™¤äº†å‰é¢çš„æ¸¸æˆï¼Œå…¶ä¸­æ¯”è¾ƒæœ‰æ„æ€çš„æ¸¸æˆï¼Œéœ“è™¹æ·±æ¸Šï¼Œåƒç´ ç±»æ¨ªæ¿è·³è·ƒrougelikeå¼¹å¹•æ¸¸æˆï¼Œè¿æ°”æ¯”è¾ƒæ¬§ï¼Œæ‰“ä¸‰ä¸ªbossï¼Œç¬¬ä¸€ä¸ªæ‰“å®Œå°±æ‹¿åˆ°äº†æœ€å¥½çš„æ¿€å…‰æªï¼Œåœ¨é‚£ç«™æ’¸ï¼Œ2åˆ†é’Ÿå°±å®Œæˆäº†ä»»åŠ¡ï¼Œè·å¾—äº†ä¸ªé©¬å…‹æ¯ï¼Œè¿˜ç®—ä¸é”™ï¼Œæ¥ç€æ–­æ–­ç»­ç»­çš„ç©åˆ°3ç‚¹å¤šï¼Œç»ˆäºé›†é½äºŒåä¸ªç« ï¼Œä¾¿è·‘å»æ ¸èšå˜çš„ä¸»åœºé¦†ç©æ¸¸æˆã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/8.png)\n\né¦–å…ˆæ˜¯å‰‘ç‰ï¼Œä¸€ä¸ªæŒºå¥½ç©çš„ç©å…·ï¼Œè¿˜å¯ä»¥é›†å°ç« ï¼Œæ¯ä¸ªäººæœ‰ä¸‰æ¬¡æŒ‘æˆ˜æœºä¼šï¼Œæˆ‘åœ¨ç¬¬ä¸‰æ¬¡çš„æ—¶å€™æŒ‘æˆ˜æˆåŠŸäº†ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/9.png)\n\næ¥ç€åˆ°æ—è¾¹å»ç©äº†é¬¼ç­ä¹‹åˆƒçš„ç«ç¥é›ªé£è°­ï¼Œå¯ä»¥è¯´å°±æ˜¯3dçš„æ‹³çš‡ï¼Œååˆ†æœ‰æ„æ€ï¼Œï¼ˆç¬¬äºŒå¤©æˆ‘ä¹Ÿå»ç©äº†ï¼Œä¹Ÿå°±æ˜¯è¿™ä¸ªæ¸¸æˆï¼Œè®©æˆ‘æœ‰äº†ä¸€ä¸ªå¥‡å¦™çš„ç»å†ï¼‰ï¼ŒåŒæ ·ä¹Ÿæ²¡æœ‰æ‹ç…§ç•™å¿µğŸ˜‡ã€‚åŒäººæˆè¡Œå’Œåœ°å¹³çº¿5æ’é˜Ÿçš„äººå¤ªå¤šäº†ï¼Œäºæ˜¯åˆ°ä»»å¤©å ‚å¤§ä¹±æ–—åŒºç©ï¼Œ2v2ï¼Œä»»å¤©å ‚çš„æ¸¸æˆå°±æ˜¯å¥½ç©ã€‚æ­¤æ—¶å·²ç»å››ç‚¹äº†ï¼Œå»çœ‹çœ‹ä¸»èˆå°çš„æœ€åæ´»åŠ¨ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/10.png)\n\nä»Šæ—¥æ ¸èšå˜ç»“æŸï¼Œæ™šåˆ°çš„åŒå­¦ä¸åœ¨å¹¿å·è¯»å¤§å­¦ï¼Œè¿™æ¬¡æ¥æ˜¯ä¸ºäº†é¡ºä¾¿æ‰¾å¥³æœ‹å‹ï¼Œäºæ˜¯å‰©ä¸‹çš„ä¸¤ä¸ªå•èº«ç‹—åˆ°æ—è¾¹çš„å•†åŸåƒé¥­ï¼Œæ¸¯å¼èŒ¶é¤å…ï¼Œç”œè…»çš„è¦æ­»ï¼Œæœ‰ä¸ªé¸¡è„†éª¨éƒ½æ²¡åƒå¤šå°‘ã€‚å†™çš„æ—¶å€™æ‰å‘ç°è‡ªå·±å¹¶æ²¡æœ‰æ‹ç…§(;Â´à¼àº¶Ğ”à¼àº¶`)ï¼Œè™½ç„¶è¿‡äºç”œè…»ï¼Œä½†æ˜¯å–ç›¸è¿˜æ˜¯ä¸é”™çš„ï¼ˆå¤§ä¼—ç‚¹è¯„æ‰¾åˆ°çš„å›¾ã€‚Â æŠ¥èœåï¼šæ»‘è›‹ç‰›è‚‰é¥­ï¼ˆçœ‹ç€åˆ†é‡å°‘ï¼Œä¸€å¼€å§‹ä»¥ä¸ºä¸å¤Ÿåƒï¼Œæ²¡æƒ³åˆ°ç³–åŠ äº†å¥½å¤šï¼Œå¤ªè…»æ­ªäº†ï¼‰ï¼Œé¸¡è„†éª¨ï¼ˆå¥½åƒï¼Œä½†æ˜¯æœ€ååƒä¸ä¸‹äº†ï¼‰ï¼Œå°é£Ÿæ‹¼ç›˜ï¼ˆé¦™è‚ ã€çŒªè‚ ç²‰ã€é±¼è›‹ã€é¸¡ç¿¼å°–ï¼‰ï¼Œè¥¿å¤šå£«ï¼ˆæ— æ•Œå¥½åƒğŸ˜‹ï¼Œ12å—é’±9ä¸ªï¼Œå…¨åœºæœ€å€¼çš„ï¼‰\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/11.png)\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/12.png)\n\næ™šä¸Šå›åˆ°å®¿èˆå·²ç»æ˜¯ä¸ƒç‚¹å¤šäº†ï¼Œæ”¶æ‹¾ä¸‹ä¸œè¥¿æ´—ä¸ªæ¾¡å‘ç°è‡ªå·±å¿˜è®°åšé™æ—¶ç­”é¢˜äº†ï¼Œå¥½åœ¨å‘¨æ—¥è¿˜æœ‰å¾—ç­”é¢˜ï¼Œå®šä¸‹é—¹é’Ÿã€‚\n\n### æ ¸èšå˜ç¬¬äºŒå¤©\n\nå‘¨æ—¥é™¢è¿ä¼šå¼€å®Œå·²ç»æ˜¯10ç‚¹åŠäº†æ¯”å®˜æ–¹æ‰‹å†Œé¢„è®¡çš„æ—¶é—´è¿˜å»¶è¿Ÿäº†åŠä¸ªé’Ÿï¼ˆğŸ˜‚100ç±³ 10ç‚¹å¼€è·‘ï¼‰ï¼Œåœ¨ç«™çš„æ—¶å€™è¿˜æ”¶åˆ°æ¶ˆæ¯è¯´æˆ‘çš„å¤§ä½œä¸šå»ºæ¨¡çš„æ¨¡å‹ä¸èƒ½ç”¨äº3dæ‰“å°ï¼Œåªå¥½æ‰¾æ·˜å®ä¿®å¤å¹¶æ‰“å°ï¼ŒèŠ±äº†150å¤§æ´‹ğŸ˜­ğŸ˜­ã€‚ä¸€ç»“æŸï¼Œåœ¨å°å–éƒ¨ä¹°äº†ä¸¤ä¸ªé¢åŒ…æ¥åº”ä»˜ä¸­åˆåƒçš„ä¸œè¥¿ï¼Œåä¸Šåœ°é“11ç‚¹10åˆ†å°±è¿›å…¥åœºé¦†äº†ï¼ˆå‰é¢å¹¶æ²¡æœ‰æ’é˜Ÿï¼Œä¼°è®¡æ˜¯å¤ªæ™šäº†ï¼‰ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/13.png)\n\nä¸€å¼€å§‹å…ˆæƒ³ç€æŠŠç« ç»™æ”¶é›†äº†ï¼Œç„¶åå†ç©ä¸ªç—›å¿«ï¼Œå…ˆå»ç©äº†æš–é›ªï¼ŒæŒºå®¹æ˜“ä¸Šæ‰‹çš„ã€‚ç„¶åä¸“é—¨æ’äº†40åˆ†é’Ÿç©åœ°å¹³çº¿5ï¼Œæ‰‹æŸ„+å¤§å±å¹•çœŸæ˜¯çˆ½çˆ†äº†ï¼Œä¸è¿‡æ²¡å»æ’æœ‰æ–¹å‘ç›˜çš„é˜Ÿä¼ğŸ˜¢ï¼ˆå¾ˆå¯æƒœï¼Œè€Œä¸”æˆ‘è¿˜æ²¡æŒ‘æˆ˜æˆåŠŸï¼Œç¬¬ä¸€æ¬¡ç”¨æ‰‹æŸ„ç©èµ›è½¦æ¸¸æˆï¼‰ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/14.png)\n\nç„¶åå»ç©å¸å›½æ—¶ä»£IVï¼Œè¿˜æ˜¯ä¸é”™çš„æ¸¸æˆï¼Œä»¥å‰æŒºå–œæ¬¢ç©çš„æ¸¸æˆç±»å‹ï¼Œç°åœ¨æ›´å–œæ¬¢åŠ¨ä½œç±»å’Œè§£è°œç±»æ¸¸æˆäº†ã€‚åˆæ’äº†ä¸€ä¸‹é˜Ÿç©å®Œå¼‚æ˜Ÿæ±‚ç”Ÿï¼Œå†³å®šå†ç©ä¸€ä¸ªæ¸¸æˆï¼Œé¬¼ç­ä¹‹åˆƒï¼Œè¿™ä¸ªæ˜¯æˆ‘è®¤è¯†é‚£ä½é™Œç”Ÿäººçš„å¥‘æœºã€‚åŸæœ¬åªæ‰“äº†ä¸€æŠŠ5å±€ä¸‰èƒœçš„æ²¡æœ‰èŠèµ·æ¥ï¼Œä½†æ˜¯çœ‹åˆ°å·¥ä½œäººå‘˜æ²¡æœ‰è¿‡æ¥ï¼Œæˆ‘ä»¬ä¾¿å†å¼€äº†ä¸€æŠŠï¼Œäºæ˜¯ä¾¿å¼€å§‹èŠèµ·æ¥äº†ï¼Œè°ˆè®ºè‡ªå·±å¹³å¸¸ç©ä»€ä¹ˆæ¸¸æˆã€‚ç„¶åå¸¦ä»–å»é›†ç« ï¼Œä»–æ˜¯å‘¨å…­ä¸Šç­ï¼Œå‘¨æ—¥è¿‡æ¥çš„ï¼ˆåªæœ‰å•ä¼‘ï¼Œæ‰“å·¥äººå‘½è‹¦å•Šï¼‰ï¼Œä»åŒ—æ–¹ä¸€ä¸ªäººè¿‡æ¥æ¥å¹¿å·ä¸€ä¸ªå¤–è´¸å…¬å¸å½“è®¾è®¡(ç‰¹åˆ«æœ‰å‹‡æ°”ï¼Œæ•¬ä½©)ã€‚å¸¦ä»–å»ç©åŒäººå†°å£¶ï¼Œä»»å¤©å ‚ï¼Œè¿˜æœ‰éœ“è™¹æ·±æ¸Šï¼Œå¯æƒœçš„æ˜¯éœ“è™¹æ·±æ¸Šä»Šå¤©ç¿»è½¦äº†ï¼Œæ²¡èƒ½æˆåŠŸå†æ¬¡æ‹¿åˆ°ç¤¼å“ğŸ¤£ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/15.png)\n\nåœ¨é—­å¹•å‰ç»ˆäºç©åˆ°æ·±æ²‰ä¹‹ç«äº†ï¼Œç©å®Œåæˆ‘ä»¬ä¾¿ç¦»å¼€åœºé¦†ï¼Œæˆ‘æˆåŠŸçªç ´ç¤¾æçš„ç¬¬ä¸€æ­¥ï¼Œé‚€è¯·ä»–ä¸€èµ·åƒé¥­ï¼Œä»ç„¶æ˜¯åˆ°æ—è¾¹çš„å…­å…ƒç´ åƒé¥­ï¼Œä¸è¿‡è¿™æ¬¡æ˜¯å¤§å¸ˆå…„ï¼ˆé™•è¥¿é¢ï¼‰ã€‚åˆæ²¡æ‹ç…§ğŸ¤ï¼ˆæ²¡æœ‰æ‹åƒçš„é¥­çš„ä¹ æƒ¯ï¼‰ã€‚ä»–è¯·äº†æˆ‘ä¸€ä¸ªè‚‰å¤¹é¦ï¼ŒåŸæœ¬æƒ³è¦å…¨è¯·æˆ‘çš„ï¼Œä½†æ˜¯æ¯•ç«Ÿä»–æ˜¯ç¬¬ä¸€å¹´ä¸Šç­ï¼Œä»–å…¨è¯·è¿˜æ˜¯ä¸å¤ªå¥½ã€‚\n\nåœ¨åœ°é“ç«™åˆ†é“æ‰¬é•³ï¼Œä»–ä¸æˆ‘æ˜¯ç›¸åçš„è·¯çº¿ï¼Œä»–ä½ç™½äº‘åŒºï¼Œæˆ‘ä½ç•ªç¦ºåŒºã€‚\n\n### ç»“æŸå\n\næŠ½å¥–æŠ½äº†ä¸¤ä¸ªcå¥–ï¼ˆå¸†å¸ƒè¢‹å’Œæ¡Œå¸ƒï¼‰ï¼Œè™½ç„¶å¾ˆçœ¼é¦‹Så¥–ï¼ˆXbox series xï¼‰ï¼Œä½†æ˜¯è‡ªå·±æ˜¯éé…‹ã€‚\n\nç¬¬ä¸€æ¬¡å†™é‚£ä¹ˆé•¿çš„åšå®¢ï¼Œæœ‰ç‚¹åƒæµæ°´è´¦äº†ï¼ˆå…¶å®å°±æ˜¯äº†ï¼‰ï¼Œèµ¶å¤§ä½œä¸šå»äº†â€”â€”æ¶¦~\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/16.png)\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/17.png)\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/18.png)\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/19.png)\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/20.png)\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/21.png)\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/22.png)","slug":"2021-å¹¿å·æ ¸èšå˜","published":1,"updated":"2024-01-07T07:44:17.787Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clr4d2jtv0001gwv07ftudl32","content":"<h3 id=\"è®¤è¯†æœºæ ¸\"><a href=\"#è®¤è¯†æœºæ ¸\" class=\"headerlink\" title=\"è®¤è¯†æœºæ ¸\"></a>è®¤è¯†æœºæ ¸</h3><p>è¯´èµ·æ ¸èšå˜ï¼Œå°±ä¸å¾—ä¸è¯´æ˜¯å¦‚ä½•çŸ¥é“æœºæ ¸çš„ã€‚å¦‚æœä¸çŸ¥é“æœºæ ¸çš„è¯ï¼ŒåŸºæœ¬ä¸Šæ˜¯ä¸çŸ¥é“æœ‰è¿™ä¸ªæ´»åŠ¨çš„ã€‚å½“æ—¶æ˜æ—¥æ–¹èˆŸäºŒå‘¨å¹´æ´»åŠ¨â€”â€”è¦†æ½®ä¹‹ä¸‹ï¼Œç‰¹åˆ«å…‹è‹é²ï¼Œå½“æ—¶å°±æ‰“ç®—äº†è§£ä¸€ä¸‹å…‹è‹é²ï¼ŒPVè¯„è®ºä¸‹æœ‰ä»‹ç»æ•…äº‹èƒŒæ™¯ï¼Œä¾¿æœç´¢äº†å°æ–¯èŒ…æ–¯çš„é˜´éœ¾ï¼Œä¾¿æ¥è§¦äº†bç«™çš„æœºæ ¸ç½‘ã€‚åˆ°äº†æš‘å‡ï¼Œå®åœ¨æ˜¯æ— èŠï¼Œä¾¿æ‰“ç®—å¬å¬ç”µå°ï¼Œäºæ˜¯ä¾¿æ‰“å¼€äº†æœºæ ¸ç½‘é¡µç‰ˆï¼Œå¼€å§‹å¬å„ç§å„æ ·çš„ç”µå°ï¼Œå¬ä¸€å †å¤§å”èƒ¡é€¼å¹ç‰›è®²æ•…äº‹è¿˜æŒºæœ‰æ„æ€ã€‚</p>\n<h3 id=\"å»æ ¸èšå˜ä¹‹å‰çš„å‡†å¤‡\"><a href=\"#å»æ ¸èšå˜ä¹‹å‰çš„å‡†å¤‡\" class=\"headerlink\" title=\"å»æ ¸èšå˜ä¹‹å‰çš„å‡†å¤‡\"></a>å»æ ¸èšå˜ä¹‹å‰çš„å‡†å¤‡</h3><p>å‡†å¤‡åœ¨æœºæ ¸å¬ç”µå°çš„æ—¶å€™çœ‹åˆ°æ–°çš„ä¸€æ¬¡æ ¸èšå˜è¦æ¥å¹¿å·ä¸¾åŠï¼Œæƒ³ç€æˆ‘ä¹Ÿæ²¡å»å‚è§‚è¿‡æ¸¸æˆå±•ï¼Œäºæ˜¯ä¾¿æ‰“ç®—å»äº†ã€‚é‚£æ®µæ—¶é—´ddlè¿˜ç‰¹åˆ«å¤šï¼Œ11.20ã€11.21æˆ‘ä¸¤å¤©éƒ½æƒ³å»ï¼Œäºæ˜¯æˆ‘æŠŠddlæå‰æ‰“ç®—æå‰åšå®Œï¼Œé‚£3å‘¨æ˜¯çœŸçš„ä¸€ç›´è‚ä½œä¸šï¼Œæ—©ä¸Šä¸‹åˆä¸Šè¯¾ï¼Œæ™šä¸Šè‚ä½œä¸šã€‚çº¦ä¸Š2ä¸ªæœ‹å‹é™ªæˆ‘å‚åŠ ç¬¬ä¸€å¤©çš„æ ¸èšå˜ï¼Œç¬¬äºŒå¤©æ‰“ç®—è‡ªå·±ä¸€ä¸ªäººå»ç©ï¼Œè®¤ä¸ºä½“éªŒä¼šæœ‰æ‰€ä¸ä¸€æ ·ï¼Œäº‹å®ä¹Ÿæ˜¯ï¼Œç¡®å®æ˜¯ä¸ªæœ‰æ„æ€çš„ç»å†ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/1.png\" alt=\"img\"></p>\n<p>ä¸å¹¸çš„æ˜¯ï¼Œæˆ‘åœ¨å†³å®šå¥½äº†ä¹‹åæˆ‘ä»¬é™¢çš„é™¢è¿ä¼šå®‰æ’åœ¨11.21ï¼Œæ’äº†æ—¥æœŸå¾ˆæ˜¯ç³Ÿç³•ï¼Œè€Œä¸”è¿˜å¿…é¡»å‚åŠ å¼€å¹•å¼ğŸ¤•ï¼Œç­çº§é€‰çš„å…¥åœºè¡¨æ¼”æˆ‘è§‰å¾—ä¸å¤ªå¥½ï¼Œäºæ˜¯å‚åŠ å½©æ——é˜Ÿï¼Œä¸€å¼€å§‹ä»¥ä¸ºå½©æ——é˜Ÿä¼šåƒå¤§ä¸€åŸæ¥çš„ç”µä¿¡å­¦é™¢ä¸€æ ·è½»æ¾ï¼Œå°±å¼€å¹•å¼ä¸¾ç€æ——å­èµ°è¿‡å»ï¼Œæ²¡æƒ³åˆ°ç°åœ¨è¿™ä¸ªå­¦é™¢è¦åšå¥½å¤šåŠ¨ä½œï¼Œå¤§æ¦‚æ’ç»ƒäº†å…­ä¸ƒæ¬¡ï¼Œæ¯æ¬¡åŠä¸ªé’ŸğŸ˜‚ã€‚ä¸è¿‡è¿˜æ˜¯æ²¡å‚åŠ ä»»ä½•ä¸€ä¸ªé¡¹ç›®ï¼Œå†³å®šå¼€å¹•å¼ç»“æŸå°±å‡†å¤‡æºœã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/2.png\" alt=\"img\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/3.png\" alt=\"img\"></p>\n<h3 id=\"æ ¸èšå˜ç¬¬ä¸€å¤©\"><a href=\"#æ ¸èšå˜ç¬¬ä¸€å¤©\" class=\"headerlink\" title=\"æ ¸èšå˜ç¬¬ä¸€å¤©\"></a>æ ¸èšå˜ç¬¬ä¸€å¤©</h3><p>ä»å¤§å­¦åŸå—åˆ°è¾¾ç¶æ´²ï¼Œåªç”¨å3ä¸ªåœ°é“ç«™ï¼ŒäºŒååˆ†é’Ÿå·¦å³å°±åˆ°äº†ï¼Œè¿˜æ˜¯è›®è¿‘çš„ã€‚å½“å¤©æœ‰ä¸‰ä¸ªå±•è§ˆï¼Œä¸€ä¸ªå¹¿äº¤ä¼šï¼Œä¸€ä¸ªè½¦å±•ï¼Œä¸€ä¸ªæ ¸èšå˜ï¼Œæˆ‘åƒä¸ªé“¸å¸ä¸€æ ·è·Ÿç€äººæµåˆ°äº†æ ¸èšå˜å±•é¦†çš„å¯¹é¢ã€‚åˆ°é—¨å£çš„æ—¶å€™å‘ç°ä¸å¯¹åŠ²ï¼Œèµ¶ç´§ç©¿è¿‡åœ°é“ç«™åˆ°è¾¾ä¿åˆ©ä¸–è´¸åšè§ˆé¦†ï¼Œè¿˜è®°å¾—å»å¹´å›½åº†å»æ¼«å±•ä¹Ÿæ˜¯åˆ°çš„è¿™é‡Œã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/4.png\" alt=\"img\"></p>\n<p>ç­‰å€™åŒå­¦ï¼Œæ²¡æƒ³åˆ°ä»–å¿˜å¸¦èº«ä»½è¯äº†ï¼Œè¿˜å¥½æ”¯ä»˜å®æœ‰ç”µå­èº«ä»½è¯ï¼Œè™½ç„¶ä¹Ÿæ²¡ç”¨åˆ°ï¼Œæœ€åä¹Ÿåªæ˜¯ç™»è®°å°±è¿‡äº†ğŸ˜‚ã€‚æ²¡æƒ³åˆ°çš„æ˜¯å¹¿å·å…¬å®‰å€Ÿæ­¤å†²ä¸šç»©ï¼ˆ ä¸‹è½½å›½å®¶åè¯ˆAPPï¼‰ï¼Œè™½ç„¶å­¦æ ¡å·²ç»å¼ºåˆ¶è¦æ±‚æˆ‘ä»¬ä¸‹è½½äº†ï¼Œä½†æ˜¯å‚åŠ è¿™ä¸ªå±•è§ˆä¸»è¦è¿˜æ˜¯ç¤¾ä¼šäººå£«ï¼Œäºæ˜¯å› æ­¤æ’äº†å¾ˆä¹…ã€‚èº«ä»½è¯éªŒè¯çš„æ—¶å€™æˆ‘åè€Œæ¯”æˆ‘å¿˜å¸¦èº«ä»½è¯çš„åŒå­¦æ…¢ï¼Œäººè„¸è¯†åˆ«çš„æœºå™¨å¯¹æˆ‘æ¥è¯´å¤ªçŸ®äº†ï¼Œæˆ‘ä¸€å¼€å§‹è¹²ä¸‹ä¸€ç›´æ²¡æ£€æµ‹åˆ°ï¼Œçœ‹ç€å…¶ä»–åˆ—çš„åˆ«äººå…ˆè¿‡å»ï¼Œè¿˜æ˜¯ååˆ†å°´å°¬çš„ã€‚</p>\n<p>æ‰«ç æ­£å¼è¿›å…¥åœºé¦†ï¼Œé¢†äº†ä¸€ä¸ªè“è‰²day01æ‰‹ç¯ï¼Œä¸€ä¸ªtaptapé›†å°ç« çš„æ‰‹å†Œï¼Œå’Œä¸€ä¸ªæ ¸èšå˜å±•è§ˆæ‰‹å†Œã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/5.png\" alt=\"img\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/6.png\" alt=\"img\"></p>\n<p>æ˜¯è·Ÿä¸¤ä¸ªåŒå­¦ä¸€èµ·æ¥ï¼Œä½†æ˜¯è¿˜æœ‰ä¸€ä¸ªäººæ²¡æœ‰åˆ°ï¼Œäºæ˜¯æˆ‘ä»¬æ‰“ç®—å¤§è‡´é€›ä¸€ä¸‹ã€‚çœ‹äº†ä¸€ä¼šå‘ç°æœ‰å¾ˆå¤šå¥½ç©çš„ï¼Œäºæ˜¯æ‰“ç®—ç­‰é‚£ä¸ªåŒå­¦æ¥äº†ä¹‹åå†ä¸€èµ·ç©ã€‚äºæ˜¯åˆ°äº†ç‹¬ç«‹æ¸¸æˆåŒºï¼Œåœ¨å»æ ¸èšå˜ä¹‹å‰ï¼Œæˆ‘æœ‰åœ¨çœ‹æœºæ ¸å‘å¸ƒçš„ç‹¬ç«‹æ¸¸æˆå±•ç¤ºçš„ç›´æ’­å½•åƒã€‚åœ¨ä¼—å¤šç‹¬ç«‹æ¸¸æˆä¹‹ä¸­ï¼Œæˆ‘å†³å®šå…ˆçœ‹çœ‹åŒç›¸ï¼Œæ˜¯ä¸€ä¸ªä¸é”™çš„å¹³å°è·³è·ƒæ¸¸æˆï¼Œæ¸¸æˆéš¾åº¦é€‚ä¸­ï¼Œè§£è°œä¹ŸæŒºä¸é”™çš„ã€‚ç©åˆ°ç¬¬ä¸ƒå…³å¡åœ¨é‚£äº†ï¼ˆæ€»å…±æœ‰å…«å…³ï¼‰ï¼Œæ­¤æ—¶å·²ç»åä¸€ç‚¹å¤šäº†ï¼Œå¦ä¸€ä¸ªåŒå­¦ä¹Ÿæ¥äº†ï¼Œè®©ä»–å¸¦äº†ä»½éº¦å½“åŠ³ã€‚æˆ‘ä»¬å‡†å¤‡åœ¨ä¸­åˆä¼‘æ¯æ—¶åƒå®Œç„¶åå¼€å§‹ç©ã€‚<br><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/7.png\" alt=\"img\"><br>ä»12ç‚¹å¤šå¼€å§‹ï¼Œæˆ‘ä»¬ç°åœ¨taptapåŒºæ¸¸è¡ï¼Œä¸€å¼€å§‹ç©é€è§†å’Œæ·±æ²‰ä¹‹ç«ï¼Œéƒ½æ˜¯éå¸¸æœ‰æ„æ€çš„æ¸¸æˆã€‚ä¸è¿‡æ·±æ²‰ä¹‹ç«å¤ªå¤šäººç©äº†ï¼Œæ ¹æœ¬æ’ä¸åˆ°é˜Ÿä¼ï¼Œä½†æ˜¯æœ‰ç¼˜è·Ÿå¼€å‘è€…èŠå…³äºæ¸¸æˆå¼€å‘çš„ä¸€äº›è¾¹è¾¹è§’è§’ã€‚ä¸ºäº†é›†20ä¸ªç« ï¼Œå»å¾—ä¸€ä¸ªtaptapçš„ç”»å†Œï¼ˆäº‹åæœ‰ç‚¹åæ‚”ï¼Œæ„Ÿè§‰è´¨é‡ä¸€èˆ¬ï¼Œä¸è¿‡æ¯•ç«Ÿä¸æ˜¯ä¹°çš„ï¼Œä¹Ÿä¸æ˜¯é‚£ç§å¾ˆè´µçš„ç”»å†Œï¼‰ã€‚é™¤äº†å‰é¢çš„æ¸¸æˆï¼Œå…¶ä¸­æ¯”è¾ƒæœ‰æ„æ€çš„æ¸¸æˆï¼Œéœ“è™¹æ·±æ¸Šï¼Œåƒç´ ç±»æ¨ªæ¿è·³è·ƒrougelikeå¼¹å¹•æ¸¸æˆï¼Œè¿æ°”æ¯”è¾ƒæ¬§ï¼Œæ‰“ä¸‰ä¸ªbossï¼Œç¬¬ä¸€ä¸ªæ‰“å®Œå°±æ‹¿åˆ°äº†æœ€å¥½çš„æ¿€å…‰æªï¼Œåœ¨é‚£ç«™æ’¸ï¼Œ2åˆ†é’Ÿå°±å®Œæˆäº†ä»»åŠ¡ï¼Œè·å¾—äº†ä¸ªé©¬å…‹æ¯ï¼Œè¿˜ç®—ä¸é”™ï¼Œæ¥ç€æ–­æ–­ç»­ç»­çš„ç©åˆ°3ç‚¹å¤šï¼Œç»ˆäºé›†é½äºŒåä¸ªç« ï¼Œä¾¿è·‘å»æ ¸èšå˜çš„ä¸»åœºé¦†ç©æ¸¸æˆã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/8.png\" alt=\"img\"></p>\n<p>é¦–å…ˆæ˜¯å‰‘ç‰ï¼Œä¸€ä¸ªæŒºå¥½ç©çš„ç©å…·ï¼Œè¿˜å¯ä»¥é›†å°ç« ï¼Œæ¯ä¸ªäººæœ‰ä¸‰æ¬¡æŒ‘æˆ˜æœºä¼šï¼Œæˆ‘åœ¨ç¬¬ä¸‰æ¬¡çš„æ—¶å€™æŒ‘æˆ˜æˆåŠŸäº†ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/9.png\" alt=\"img\"></p>\n<p>æ¥ç€åˆ°æ—è¾¹å»ç©äº†é¬¼ç­ä¹‹åˆƒçš„ç«ç¥é›ªé£è°­ï¼Œå¯ä»¥è¯´å°±æ˜¯3dçš„æ‹³çš‡ï¼Œååˆ†æœ‰æ„æ€ï¼Œï¼ˆç¬¬äºŒå¤©æˆ‘ä¹Ÿå»ç©äº†ï¼Œä¹Ÿå°±æ˜¯è¿™ä¸ªæ¸¸æˆï¼Œè®©æˆ‘æœ‰äº†ä¸€ä¸ªå¥‡å¦™çš„ç»å†ï¼‰ï¼ŒåŒæ ·ä¹Ÿæ²¡æœ‰æ‹ç…§ç•™å¿µğŸ˜‡ã€‚åŒäººæˆè¡Œå’Œåœ°å¹³çº¿5æ’é˜Ÿçš„äººå¤ªå¤šäº†ï¼Œäºæ˜¯åˆ°ä»»å¤©å ‚å¤§ä¹±æ–—åŒºç©ï¼Œ2v2ï¼Œä»»å¤©å ‚çš„æ¸¸æˆå°±æ˜¯å¥½ç©ã€‚æ­¤æ—¶å·²ç»å››ç‚¹äº†ï¼Œå»çœ‹çœ‹ä¸»èˆå°çš„æœ€åæ´»åŠ¨ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/10.png\" alt=\"img\"></p>\n<p>ä»Šæ—¥æ ¸èšå˜ç»“æŸï¼Œæ™šåˆ°çš„åŒå­¦ä¸åœ¨å¹¿å·è¯»å¤§å­¦ï¼Œè¿™æ¬¡æ¥æ˜¯ä¸ºäº†é¡ºä¾¿æ‰¾å¥³æœ‹å‹ï¼Œäºæ˜¯å‰©ä¸‹çš„ä¸¤ä¸ªå•èº«ç‹—åˆ°æ—è¾¹çš„å•†åŸåƒé¥­ï¼Œæ¸¯å¼èŒ¶é¤å…ï¼Œç”œè…»çš„è¦æ­»ï¼Œæœ‰ä¸ªé¸¡è„†éª¨éƒ½æ²¡åƒå¤šå°‘ã€‚å†™çš„æ—¶å€™æ‰å‘ç°è‡ªå·±å¹¶æ²¡æœ‰æ‹ç…§(;Â´à¼àº¶Ğ”à¼àº¶&#96;)ï¼Œè™½ç„¶è¿‡äºç”œè…»ï¼Œä½†æ˜¯å–ç›¸è¿˜æ˜¯ä¸é”™çš„ï¼ˆå¤§ä¼—ç‚¹è¯„æ‰¾åˆ°çš„å›¾ã€‚Â æŠ¥èœåï¼šæ»‘è›‹ç‰›è‚‰é¥­ï¼ˆçœ‹ç€åˆ†é‡å°‘ï¼Œä¸€å¼€å§‹ä»¥ä¸ºä¸å¤Ÿåƒï¼Œæ²¡æƒ³åˆ°ç³–åŠ äº†å¥½å¤šï¼Œå¤ªè…»æ­ªäº†ï¼‰ï¼Œé¸¡è„†éª¨ï¼ˆå¥½åƒï¼Œä½†æ˜¯æœ€ååƒä¸ä¸‹äº†ï¼‰ï¼Œå°é£Ÿæ‹¼ç›˜ï¼ˆé¦™è‚ ã€çŒªè‚ ç²‰ã€é±¼è›‹ã€é¸¡ç¿¼å°–ï¼‰ï¼Œè¥¿å¤šå£«ï¼ˆæ— æ•Œå¥½åƒğŸ˜‹ï¼Œ12å—é’±9ä¸ªï¼Œå…¨åœºæœ€å€¼çš„ï¼‰</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/11.png\" alt=\"img\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/12.png\" alt=\"img\"></p>\n<p>æ™šä¸Šå›åˆ°å®¿èˆå·²ç»æ˜¯ä¸ƒç‚¹å¤šäº†ï¼Œæ”¶æ‹¾ä¸‹ä¸œè¥¿æ´—ä¸ªæ¾¡å‘ç°è‡ªå·±å¿˜è®°åšé™æ—¶ç­”é¢˜äº†ï¼Œå¥½åœ¨å‘¨æ—¥è¿˜æœ‰å¾—ç­”é¢˜ï¼Œå®šä¸‹é—¹é’Ÿã€‚</p>\n<h3 id=\"æ ¸èšå˜ç¬¬äºŒå¤©\"><a href=\"#æ ¸èšå˜ç¬¬äºŒå¤©\" class=\"headerlink\" title=\"æ ¸èšå˜ç¬¬äºŒå¤©\"></a>æ ¸èšå˜ç¬¬äºŒå¤©</h3><p>å‘¨æ—¥é™¢è¿ä¼šå¼€å®Œå·²ç»æ˜¯10ç‚¹åŠäº†æ¯”å®˜æ–¹æ‰‹å†Œé¢„è®¡çš„æ—¶é—´è¿˜å»¶è¿Ÿäº†åŠä¸ªé’Ÿï¼ˆğŸ˜‚100ç±³ 10ç‚¹å¼€è·‘ï¼‰ï¼Œåœ¨ç«™çš„æ—¶å€™è¿˜æ”¶åˆ°æ¶ˆæ¯è¯´æˆ‘çš„å¤§ä½œä¸šå»ºæ¨¡çš„æ¨¡å‹ä¸èƒ½ç”¨äº3dæ‰“å°ï¼Œåªå¥½æ‰¾æ·˜å®ä¿®å¤å¹¶æ‰“å°ï¼ŒèŠ±äº†150å¤§æ´‹ğŸ˜­ğŸ˜­ã€‚ä¸€ç»“æŸï¼Œåœ¨å°å–éƒ¨ä¹°äº†ä¸¤ä¸ªé¢åŒ…æ¥åº”ä»˜ä¸­åˆåƒçš„ä¸œè¥¿ï¼Œåä¸Šåœ°é“11ç‚¹10åˆ†å°±è¿›å…¥åœºé¦†äº†ï¼ˆå‰é¢å¹¶æ²¡æœ‰æ’é˜Ÿï¼Œä¼°è®¡æ˜¯å¤ªæ™šäº†ï¼‰ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/13.png\" alt=\"img\"></p>\n<p>ä¸€å¼€å§‹å…ˆæƒ³ç€æŠŠç« ç»™æ”¶é›†äº†ï¼Œç„¶åå†ç©ä¸ªç—›å¿«ï¼Œå…ˆå»ç©äº†æš–é›ªï¼ŒæŒºå®¹æ˜“ä¸Šæ‰‹çš„ã€‚ç„¶åä¸“é—¨æ’äº†40åˆ†é’Ÿç©åœ°å¹³çº¿5ï¼Œæ‰‹æŸ„+å¤§å±å¹•çœŸæ˜¯çˆ½çˆ†äº†ï¼Œä¸è¿‡æ²¡å»æ’æœ‰æ–¹å‘ç›˜çš„é˜Ÿä¼ğŸ˜¢ï¼ˆå¾ˆå¯æƒœï¼Œè€Œä¸”æˆ‘è¿˜æ²¡æŒ‘æˆ˜æˆåŠŸï¼Œç¬¬ä¸€æ¬¡ç”¨æ‰‹æŸ„ç©èµ›è½¦æ¸¸æˆï¼‰ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/14.png\" alt=\"img\"></p>\n<p>ç„¶åå»ç©å¸å›½æ—¶ä»£IVï¼Œè¿˜æ˜¯ä¸é”™çš„æ¸¸æˆï¼Œä»¥å‰æŒºå–œæ¬¢ç©çš„æ¸¸æˆç±»å‹ï¼Œç°åœ¨æ›´å–œæ¬¢åŠ¨ä½œç±»å’Œè§£è°œç±»æ¸¸æˆäº†ã€‚åˆæ’äº†ä¸€ä¸‹é˜Ÿç©å®Œå¼‚æ˜Ÿæ±‚ç”Ÿï¼Œå†³å®šå†ç©ä¸€ä¸ªæ¸¸æˆï¼Œé¬¼ç­ä¹‹åˆƒï¼Œè¿™ä¸ªæ˜¯æˆ‘è®¤è¯†é‚£ä½é™Œç”Ÿäººçš„å¥‘æœºã€‚åŸæœ¬åªæ‰“äº†ä¸€æŠŠ5å±€ä¸‰èƒœçš„æ²¡æœ‰èŠèµ·æ¥ï¼Œä½†æ˜¯çœ‹åˆ°å·¥ä½œäººå‘˜æ²¡æœ‰è¿‡æ¥ï¼Œæˆ‘ä»¬ä¾¿å†å¼€äº†ä¸€æŠŠï¼Œäºæ˜¯ä¾¿å¼€å§‹èŠèµ·æ¥äº†ï¼Œè°ˆè®ºè‡ªå·±å¹³å¸¸ç©ä»€ä¹ˆæ¸¸æˆã€‚ç„¶åå¸¦ä»–å»é›†ç« ï¼Œä»–æ˜¯å‘¨å…­ä¸Šç­ï¼Œå‘¨æ—¥è¿‡æ¥çš„ï¼ˆåªæœ‰å•ä¼‘ï¼Œæ‰“å·¥äººå‘½è‹¦å•Šï¼‰ï¼Œä»åŒ—æ–¹ä¸€ä¸ªäººè¿‡æ¥æ¥å¹¿å·ä¸€ä¸ªå¤–è´¸å…¬å¸å½“è®¾è®¡(ç‰¹åˆ«æœ‰å‹‡æ°”ï¼Œæ•¬ä½©)ã€‚å¸¦ä»–å»ç©åŒäººå†°å£¶ï¼Œä»»å¤©å ‚ï¼Œè¿˜æœ‰éœ“è™¹æ·±æ¸Šï¼Œå¯æƒœçš„æ˜¯éœ“è™¹æ·±æ¸Šä»Šå¤©ç¿»è½¦äº†ï¼Œæ²¡èƒ½æˆåŠŸå†æ¬¡æ‹¿åˆ°ç¤¼å“ğŸ¤£ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/15.png\" alt=\"img\"></p>\n<p>åœ¨é—­å¹•å‰ç»ˆäºç©åˆ°æ·±æ²‰ä¹‹ç«äº†ï¼Œç©å®Œåæˆ‘ä»¬ä¾¿ç¦»å¼€åœºé¦†ï¼Œæˆ‘æˆåŠŸçªç ´ç¤¾æçš„ç¬¬ä¸€æ­¥ï¼Œé‚€è¯·ä»–ä¸€èµ·åƒé¥­ï¼Œä»ç„¶æ˜¯åˆ°æ—è¾¹çš„å…­å…ƒç´ åƒé¥­ï¼Œä¸è¿‡è¿™æ¬¡æ˜¯å¤§å¸ˆå…„ï¼ˆé™•è¥¿é¢ï¼‰ã€‚åˆæ²¡æ‹ç…§ğŸ¤ï¼ˆæ²¡æœ‰æ‹åƒçš„é¥­çš„ä¹ æƒ¯ï¼‰ã€‚ä»–è¯·äº†æˆ‘ä¸€ä¸ªè‚‰å¤¹é¦ï¼ŒåŸæœ¬æƒ³è¦å…¨è¯·æˆ‘çš„ï¼Œä½†æ˜¯æ¯•ç«Ÿä»–æ˜¯ç¬¬ä¸€å¹´ä¸Šç­ï¼Œä»–å…¨è¯·è¿˜æ˜¯ä¸å¤ªå¥½ã€‚</p>\n<p>åœ¨åœ°é“ç«™åˆ†é“æ‰¬é•³ï¼Œä»–ä¸æˆ‘æ˜¯ç›¸åçš„è·¯çº¿ï¼Œä»–ä½ç™½äº‘åŒºï¼Œæˆ‘ä½ç•ªç¦ºåŒºã€‚</p>\n<h3 id=\"ç»“æŸå\"><a href=\"#ç»“æŸå\" class=\"headerlink\" title=\"ç»“æŸå\"></a>ç»“æŸå</h3><p>æŠ½å¥–æŠ½äº†ä¸¤ä¸ªcå¥–ï¼ˆå¸†å¸ƒè¢‹å’Œæ¡Œå¸ƒï¼‰ï¼Œè™½ç„¶å¾ˆçœ¼é¦‹Så¥–ï¼ˆXbox series xï¼‰ï¼Œä½†æ˜¯è‡ªå·±æ˜¯éé…‹ã€‚</p>\n<p>ç¬¬ä¸€æ¬¡å†™é‚£ä¹ˆé•¿çš„åšå®¢ï¼Œæœ‰ç‚¹åƒæµæ°´è´¦äº†ï¼ˆå…¶å®å°±æ˜¯äº†ï¼‰ï¼Œèµ¶å¤§ä½œä¸šå»äº†â€”â€”æ¶¦~<br><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/16.png\" alt=\"img\"><br><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/17.png\" alt=\"img\"><br><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/18.png\" alt=\"img\"><br><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/19.png\" alt=\"img\"><br><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/20.png\" alt=\"img\"><br><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/21.png\" alt=\"img\"><br><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/22.png\" alt=\"img\"></p>\n","site":{"data":{}},"length":2651,"excerpt":"","more":"<h3 id=\"è®¤è¯†æœºæ ¸\"><a href=\"#è®¤è¯†æœºæ ¸\" class=\"headerlink\" title=\"è®¤è¯†æœºæ ¸\"></a>è®¤è¯†æœºæ ¸</h3><p>è¯´èµ·æ ¸èšå˜ï¼Œå°±ä¸å¾—ä¸è¯´æ˜¯å¦‚ä½•çŸ¥é“æœºæ ¸çš„ã€‚å¦‚æœä¸çŸ¥é“æœºæ ¸çš„è¯ï¼ŒåŸºæœ¬ä¸Šæ˜¯ä¸çŸ¥é“æœ‰è¿™ä¸ªæ´»åŠ¨çš„ã€‚å½“æ—¶æ˜æ—¥æ–¹èˆŸäºŒå‘¨å¹´æ´»åŠ¨â€”â€”è¦†æ½®ä¹‹ä¸‹ï¼Œç‰¹åˆ«å…‹è‹é²ï¼Œå½“æ—¶å°±æ‰“ç®—äº†è§£ä¸€ä¸‹å…‹è‹é²ï¼ŒPVè¯„è®ºä¸‹æœ‰ä»‹ç»æ•…äº‹èƒŒæ™¯ï¼Œä¾¿æœç´¢äº†å°æ–¯èŒ…æ–¯çš„é˜´éœ¾ï¼Œä¾¿æ¥è§¦äº†bç«™çš„æœºæ ¸ç½‘ã€‚åˆ°äº†æš‘å‡ï¼Œå®åœ¨æ˜¯æ— èŠï¼Œä¾¿æ‰“ç®—å¬å¬ç”µå°ï¼Œäºæ˜¯ä¾¿æ‰“å¼€äº†æœºæ ¸ç½‘é¡µç‰ˆï¼Œå¼€å§‹å¬å„ç§å„æ ·çš„ç”µå°ï¼Œå¬ä¸€å †å¤§å”èƒ¡é€¼å¹ç‰›è®²æ•…äº‹è¿˜æŒºæœ‰æ„æ€ã€‚</p>\n<h3 id=\"å»æ ¸èšå˜ä¹‹å‰çš„å‡†å¤‡\"><a href=\"#å»æ ¸èšå˜ä¹‹å‰çš„å‡†å¤‡\" class=\"headerlink\" title=\"å»æ ¸èšå˜ä¹‹å‰çš„å‡†å¤‡\"></a>å»æ ¸èšå˜ä¹‹å‰çš„å‡†å¤‡</h3><p>å‡†å¤‡åœ¨æœºæ ¸å¬ç”µå°çš„æ—¶å€™çœ‹åˆ°æ–°çš„ä¸€æ¬¡æ ¸èšå˜è¦æ¥å¹¿å·ä¸¾åŠï¼Œæƒ³ç€æˆ‘ä¹Ÿæ²¡å»å‚è§‚è¿‡æ¸¸æˆå±•ï¼Œäºæ˜¯ä¾¿æ‰“ç®—å»äº†ã€‚é‚£æ®µæ—¶é—´ddlè¿˜ç‰¹åˆ«å¤šï¼Œ11.20ã€11.21æˆ‘ä¸¤å¤©éƒ½æƒ³å»ï¼Œäºæ˜¯æˆ‘æŠŠddlæå‰æ‰“ç®—æå‰åšå®Œï¼Œé‚£3å‘¨æ˜¯çœŸçš„ä¸€ç›´è‚ä½œä¸šï¼Œæ—©ä¸Šä¸‹åˆä¸Šè¯¾ï¼Œæ™šä¸Šè‚ä½œä¸šã€‚çº¦ä¸Š2ä¸ªæœ‹å‹é™ªæˆ‘å‚åŠ ç¬¬ä¸€å¤©çš„æ ¸èšå˜ï¼Œç¬¬äºŒå¤©æ‰“ç®—è‡ªå·±ä¸€ä¸ªäººå»ç©ï¼Œè®¤ä¸ºä½“éªŒä¼šæœ‰æ‰€ä¸ä¸€æ ·ï¼Œäº‹å®ä¹Ÿæ˜¯ï¼Œç¡®å®æ˜¯ä¸ªæœ‰æ„æ€çš„ç»å†ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/1.png\" alt=\"img\"></p>\n<p>ä¸å¹¸çš„æ˜¯ï¼Œæˆ‘åœ¨å†³å®šå¥½äº†ä¹‹åæˆ‘ä»¬é™¢çš„é™¢è¿ä¼šå®‰æ’åœ¨11.21ï¼Œæ’äº†æ—¥æœŸå¾ˆæ˜¯ç³Ÿç³•ï¼Œè€Œä¸”è¿˜å¿…é¡»å‚åŠ å¼€å¹•å¼ğŸ¤•ï¼Œç­çº§é€‰çš„å…¥åœºè¡¨æ¼”æˆ‘è§‰å¾—ä¸å¤ªå¥½ï¼Œäºæ˜¯å‚åŠ å½©æ——é˜Ÿï¼Œä¸€å¼€å§‹ä»¥ä¸ºå½©æ——é˜Ÿä¼šåƒå¤§ä¸€åŸæ¥çš„ç”µä¿¡å­¦é™¢ä¸€æ ·è½»æ¾ï¼Œå°±å¼€å¹•å¼ä¸¾ç€æ——å­èµ°è¿‡å»ï¼Œæ²¡æƒ³åˆ°ç°åœ¨è¿™ä¸ªå­¦é™¢è¦åšå¥½å¤šåŠ¨ä½œï¼Œå¤§æ¦‚æ’ç»ƒäº†å…­ä¸ƒæ¬¡ï¼Œæ¯æ¬¡åŠä¸ªé’ŸğŸ˜‚ã€‚ä¸è¿‡è¿˜æ˜¯æ²¡å‚åŠ ä»»ä½•ä¸€ä¸ªé¡¹ç›®ï¼Œå†³å®šå¼€å¹•å¼ç»“æŸå°±å‡†å¤‡æºœã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/2.png\" alt=\"img\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/3.png\" alt=\"img\"></p>\n<h3 id=\"æ ¸èšå˜ç¬¬ä¸€å¤©\"><a href=\"#æ ¸èšå˜ç¬¬ä¸€å¤©\" class=\"headerlink\" title=\"æ ¸èšå˜ç¬¬ä¸€å¤©\"></a>æ ¸èšå˜ç¬¬ä¸€å¤©</h3><p>ä»å¤§å­¦åŸå—åˆ°è¾¾ç¶æ´²ï¼Œåªç”¨å3ä¸ªåœ°é“ç«™ï¼ŒäºŒååˆ†é’Ÿå·¦å³å°±åˆ°äº†ï¼Œè¿˜æ˜¯è›®è¿‘çš„ã€‚å½“å¤©æœ‰ä¸‰ä¸ªå±•è§ˆï¼Œä¸€ä¸ªå¹¿äº¤ä¼šï¼Œä¸€ä¸ªè½¦å±•ï¼Œä¸€ä¸ªæ ¸èšå˜ï¼Œæˆ‘åƒä¸ªé“¸å¸ä¸€æ ·è·Ÿç€äººæµåˆ°äº†æ ¸èšå˜å±•é¦†çš„å¯¹é¢ã€‚åˆ°é—¨å£çš„æ—¶å€™å‘ç°ä¸å¯¹åŠ²ï¼Œèµ¶ç´§ç©¿è¿‡åœ°é“ç«™åˆ°è¾¾ä¿åˆ©ä¸–è´¸åšè§ˆé¦†ï¼Œè¿˜è®°å¾—å»å¹´å›½åº†å»æ¼«å±•ä¹Ÿæ˜¯åˆ°çš„è¿™é‡Œã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/4.png\" alt=\"img\"></p>\n<p>ç­‰å€™åŒå­¦ï¼Œæ²¡æƒ³åˆ°ä»–å¿˜å¸¦èº«ä»½è¯äº†ï¼Œè¿˜å¥½æ”¯ä»˜å®æœ‰ç”µå­èº«ä»½è¯ï¼Œè™½ç„¶ä¹Ÿæ²¡ç”¨åˆ°ï¼Œæœ€åä¹Ÿåªæ˜¯ç™»è®°å°±è¿‡äº†ğŸ˜‚ã€‚æ²¡æƒ³åˆ°çš„æ˜¯å¹¿å·å…¬å®‰å€Ÿæ­¤å†²ä¸šç»©ï¼ˆ ä¸‹è½½å›½å®¶åè¯ˆAPPï¼‰ï¼Œè™½ç„¶å­¦æ ¡å·²ç»å¼ºåˆ¶è¦æ±‚æˆ‘ä»¬ä¸‹è½½äº†ï¼Œä½†æ˜¯å‚åŠ è¿™ä¸ªå±•è§ˆä¸»è¦è¿˜æ˜¯ç¤¾ä¼šäººå£«ï¼Œäºæ˜¯å› æ­¤æ’äº†å¾ˆä¹…ã€‚èº«ä»½è¯éªŒè¯çš„æ—¶å€™æˆ‘åè€Œæ¯”æˆ‘å¿˜å¸¦èº«ä»½è¯çš„åŒå­¦æ…¢ï¼Œäººè„¸è¯†åˆ«çš„æœºå™¨å¯¹æˆ‘æ¥è¯´å¤ªçŸ®äº†ï¼Œæˆ‘ä¸€å¼€å§‹è¹²ä¸‹ä¸€ç›´æ²¡æ£€æµ‹åˆ°ï¼Œçœ‹ç€å…¶ä»–åˆ—çš„åˆ«äººå…ˆè¿‡å»ï¼Œè¿˜æ˜¯ååˆ†å°´å°¬çš„ã€‚</p>\n<p>æ‰«ç æ­£å¼è¿›å…¥åœºé¦†ï¼Œé¢†äº†ä¸€ä¸ªè“è‰²day01æ‰‹ç¯ï¼Œä¸€ä¸ªtaptapé›†å°ç« çš„æ‰‹å†Œï¼Œå’Œä¸€ä¸ªæ ¸èšå˜å±•è§ˆæ‰‹å†Œã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/5.png\" alt=\"img\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/6.png\" alt=\"img\"></p>\n<p>æ˜¯è·Ÿä¸¤ä¸ªåŒå­¦ä¸€èµ·æ¥ï¼Œä½†æ˜¯è¿˜æœ‰ä¸€ä¸ªäººæ²¡æœ‰åˆ°ï¼Œäºæ˜¯æˆ‘ä»¬æ‰“ç®—å¤§è‡´é€›ä¸€ä¸‹ã€‚çœ‹äº†ä¸€ä¼šå‘ç°æœ‰å¾ˆå¤šå¥½ç©çš„ï¼Œäºæ˜¯æ‰“ç®—ç­‰é‚£ä¸ªåŒå­¦æ¥äº†ä¹‹åå†ä¸€èµ·ç©ã€‚äºæ˜¯åˆ°äº†ç‹¬ç«‹æ¸¸æˆåŒºï¼Œåœ¨å»æ ¸èšå˜ä¹‹å‰ï¼Œæˆ‘æœ‰åœ¨çœ‹æœºæ ¸å‘å¸ƒçš„ç‹¬ç«‹æ¸¸æˆå±•ç¤ºçš„ç›´æ’­å½•åƒã€‚åœ¨ä¼—å¤šç‹¬ç«‹æ¸¸æˆä¹‹ä¸­ï¼Œæˆ‘å†³å®šå…ˆçœ‹çœ‹åŒç›¸ï¼Œæ˜¯ä¸€ä¸ªä¸é”™çš„å¹³å°è·³è·ƒæ¸¸æˆï¼Œæ¸¸æˆéš¾åº¦é€‚ä¸­ï¼Œè§£è°œä¹ŸæŒºä¸é”™çš„ã€‚ç©åˆ°ç¬¬ä¸ƒå…³å¡åœ¨é‚£äº†ï¼ˆæ€»å…±æœ‰å…«å…³ï¼‰ï¼Œæ­¤æ—¶å·²ç»åä¸€ç‚¹å¤šäº†ï¼Œå¦ä¸€ä¸ªåŒå­¦ä¹Ÿæ¥äº†ï¼Œè®©ä»–å¸¦äº†ä»½éº¦å½“åŠ³ã€‚æˆ‘ä»¬å‡†å¤‡åœ¨ä¸­åˆä¼‘æ¯æ—¶åƒå®Œç„¶åå¼€å§‹ç©ã€‚<br><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/7.png\" alt=\"img\"><br>ä»12ç‚¹å¤šå¼€å§‹ï¼Œæˆ‘ä»¬ç°åœ¨taptapåŒºæ¸¸è¡ï¼Œä¸€å¼€å§‹ç©é€è§†å’Œæ·±æ²‰ä¹‹ç«ï¼Œéƒ½æ˜¯éå¸¸æœ‰æ„æ€çš„æ¸¸æˆã€‚ä¸è¿‡æ·±æ²‰ä¹‹ç«å¤ªå¤šäººç©äº†ï¼Œæ ¹æœ¬æ’ä¸åˆ°é˜Ÿä¼ï¼Œä½†æ˜¯æœ‰ç¼˜è·Ÿå¼€å‘è€…èŠå…³äºæ¸¸æˆå¼€å‘çš„ä¸€äº›è¾¹è¾¹è§’è§’ã€‚ä¸ºäº†é›†20ä¸ªç« ï¼Œå»å¾—ä¸€ä¸ªtaptapçš„ç”»å†Œï¼ˆäº‹åæœ‰ç‚¹åæ‚”ï¼Œæ„Ÿè§‰è´¨é‡ä¸€èˆ¬ï¼Œä¸è¿‡æ¯•ç«Ÿä¸æ˜¯ä¹°çš„ï¼Œä¹Ÿä¸æ˜¯é‚£ç§å¾ˆè´µçš„ç”»å†Œï¼‰ã€‚é™¤äº†å‰é¢çš„æ¸¸æˆï¼Œå…¶ä¸­æ¯”è¾ƒæœ‰æ„æ€çš„æ¸¸æˆï¼Œéœ“è™¹æ·±æ¸Šï¼Œåƒç´ ç±»æ¨ªæ¿è·³è·ƒrougelikeå¼¹å¹•æ¸¸æˆï¼Œè¿æ°”æ¯”è¾ƒæ¬§ï¼Œæ‰“ä¸‰ä¸ªbossï¼Œç¬¬ä¸€ä¸ªæ‰“å®Œå°±æ‹¿åˆ°äº†æœ€å¥½çš„æ¿€å…‰æªï¼Œåœ¨é‚£ç«™æ’¸ï¼Œ2åˆ†é’Ÿå°±å®Œæˆäº†ä»»åŠ¡ï¼Œè·å¾—äº†ä¸ªé©¬å…‹æ¯ï¼Œè¿˜ç®—ä¸é”™ï¼Œæ¥ç€æ–­æ–­ç»­ç»­çš„ç©åˆ°3ç‚¹å¤šï¼Œç»ˆäºé›†é½äºŒåä¸ªç« ï¼Œä¾¿è·‘å»æ ¸èšå˜çš„ä¸»åœºé¦†ç©æ¸¸æˆã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/8.png\" alt=\"img\"></p>\n<p>é¦–å…ˆæ˜¯å‰‘ç‰ï¼Œä¸€ä¸ªæŒºå¥½ç©çš„ç©å…·ï¼Œè¿˜å¯ä»¥é›†å°ç« ï¼Œæ¯ä¸ªäººæœ‰ä¸‰æ¬¡æŒ‘æˆ˜æœºä¼šï¼Œæˆ‘åœ¨ç¬¬ä¸‰æ¬¡çš„æ—¶å€™æŒ‘æˆ˜æˆåŠŸäº†ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/9.png\" alt=\"img\"></p>\n<p>æ¥ç€åˆ°æ—è¾¹å»ç©äº†é¬¼ç­ä¹‹åˆƒçš„ç«ç¥é›ªé£è°­ï¼Œå¯ä»¥è¯´å°±æ˜¯3dçš„æ‹³çš‡ï¼Œååˆ†æœ‰æ„æ€ï¼Œï¼ˆç¬¬äºŒå¤©æˆ‘ä¹Ÿå»ç©äº†ï¼Œä¹Ÿå°±æ˜¯è¿™ä¸ªæ¸¸æˆï¼Œè®©æˆ‘æœ‰äº†ä¸€ä¸ªå¥‡å¦™çš„ç»å†ï¼‰ï¼ŒåŒæ ·ä¹Ÿæ²¡æœ‰æ‹ç…§ç•™å¿µğŸ˜‡ã€‚åŒäººæˆè¡Œå’Œåœ°å¹³çº¿5æ’é˜Ÿçš„äººå¤ªå¤šäº†ï¼Œäºæ˜¯åˆ°ä»»å¤©å ‚å¤§ä¹±æ–—åŒºç©ï¼Œ2v2ï¼Œä»»å¤©å ‚çš„æ¸¸æˆå°±æ˜¯å¥½ç©ã€‚æ­¤æ—¶å·²ç»å››ç‚¹äº†ï¼Œå»çœ‹çœ‹ä¸»èˆå°çš„æœ€åæ´»åŠ¨ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/10.png\" alt=\"img\"></p>\n<p>ä»Šæ—¥æ ¸èšå˜ç»“æŸï¼Œæ™šåˆ°çš„åŒå­¦ä¸åœ¨å¹¿å·è¯»å¤§å­¦ï¼Œè¿™æ¬¡æ¥æ˜¯ä¸ºäº†é¡ºä¾¿æ‰¾å¥³æœ‹å‹ï¼Œäºæ˜¯å‰©ä¸‹çš„ä¸¤ä¸ªå•èº«ç‹—åˆ°æ—è¾¹çš„å•†åŸåƒé¥­ï¼Œæ¸¯å¼èŒ¶é¤å…ï¼Œç”œè…»çš„è¦æ­»ï¼Œæœ‰ä¸ªé¸¡è„†éª¨éƒ½æ²¡åƒå¤šå°‘ã€‚å†™çš„æ—¶å€™æ‰å‘ç°è‡ªå·±å¹¶æ²¡æœ‰æ‹ç…§(;Â´à¼àº¶Ğ”à¼àº¶&#96;)ï¼Œè™½ç„¶è¿‡äºç”œè…»ï¼Œä½†æ˜¯å–ç›¸è¿˜æ˜¯ä¸é”™çš„ï¼ˆå¤§ä¼—ç‚¹è¯„æ‰¾åˆ°çš„å›¾ã€‚Â æŠ¥èœåï¼šæ»‘è›‹ç‰›è‚‰é¥­ï¼ˆçœ‹ç€åˆ†é‡å°‘ï¼Œä¸€å¼€å§‹ä»¥ä¸ºä¸å¤Ÿåƒï¼Œæ²¡æƒ³åˆ°ç³–åŠ äº†å¥½å¤šï¼Œå¤ªè…»æ­ªäº†ï¼‰ï¼Œé¸¡è„†éª¨ï¼ˆå¥½åƒï¼Œä½†æ˜¯æœ€ååƒä¸ä¸‹äº†ï¼‰ï¼Œå°é£Ÿæ‹¼ç›˜ï¼ˆé¦™è‚ ã€çŒªè‚ ç²‰ã€é±¼è›‹ã€é¸¡ç¿¼å°–ï¼‰ï¼Œè¥¿å¤šå£«ï¼ˆæ— æ•Œå¥½åƒğŸ˜‹ï¼Œ12å—é’±9ä¸ªï¼Œå…¨åœºæœ€å€¼çš„ï¼‰</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/11.png\" alt=\"img\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/12.png\" alt=\"img\"></p>\n<p>æ™šä¸Šå›åˆ°å®¿èˆå·²ç»æ˜¯ä¸ƒç‚¹å¤šäº†ï¼Œæ”¶æ‹¾ä¸‹ä¸œè¥¿æ´—ä¸ªæ¾¡å‘ç°è‡ªå·±å¿˜è®°åšé™æ—¶ç­”é¢˜äº†ï¼Œå¥½åœ¨å‘¨æ—¥è¿˜æœ‰å¾—ç­”é¢˜ï¼Œå®šä¸‹é—¹é’Ÿã€‚</p>\n<h3 id=\"æ ¸èšå˜ç¬¬äºŒå¤©\"><a href=\"#æ ¸èšå˜ç¬¬äºŒå¤©\" class=\"headerlink\" title=\"æ ¸èšå˜ç¬¬äºŒå¤©\"></a>æ ¸èšå˜ç¬¬äºŒå¤©</h3><p>å‘¨æ—¥é™¢è¿ä¼šå¼€å®Œå·²ç»æ˜¯10ç‚¹åŠäº†æ¯”å®˜æ–¹æ‰‹å†Œé¢„è®¡çš„æ—¶é—´è¿˜å»¶è¿Ÿäº†åŠä¸ªé’Ÿï¼ˆğŸ˜‚100ç±³ 10ç‚¹å¼€è·‘ï¼‰ï¼Œåœ¨ç«™çš„æ—¶å€™è¿˜æ”¶åˆ°æ¶ˆæ¯è¯´æˆ‘çš„å¤§ä½œä¸šå»ºæ¨¡çš„æ¨¡å‹ä¸èƒ½ç”¨äº3dæ‰“å°ï¼Œåªå¥½æ‰¾æ·˜å®ä¿®å¤å¹¶æ‰“å°ï¼ŒèŠ±äº†150å¤§æ´‹ğŸ˜­ğŸ˜­ã€‚ä¸€ç»“æŸï¼Œåœ¨å°å–éƒ¨ä¹°äº†ä¸¤ä¸ªé¢åŒ…æ¥åº”ä»˜ä¸­åˆåƒçš„ä¸œè¥¿ï¼Œåä¸Šåœ°é“11ç‚¹10åˆ†å°±è¿›å…¥åœºé¦†äº†ï¼ˆå‰é¢å¹¶æ²¡æœ‰æ’é˜Ÿï¼Œä¼°è®¡æ˜¯å¤ªæ™šäº†ï¼‰ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/13.png\" alt=\"img\"></p>\n<p>ä¸€å¼€å§‹å…ˆæƒ³ç€æŠŠç« ç»™æ”¶é›†äº†ï¼Œç„¶åå†ç©ä¸ªç—›å¿«ï¼Œå…ˆå»ç©äº†æš–é›ªï¼ŒæŒºå®¹æ˜“ä¸Šæ‰‹çš„ã€‚ç„¶åä¸“é—¨æ’äº†40åˆ†é’Ÿç©åœ°å¹³çº¿5ï¼Œæ‰‹æŸ„+å¤§å±å¹•çœŸæ˜¯çˆ½çˆ†äº†ï¼Œä¸è¿‡æ²¡å»æ’æœ‰æ–¹å‘ç›˜çš„é˜Ÿä¼ğŸ˜¢ï¼ˆå¾ˆå¯æƒœï¼Œè€Œä¸”æˆ‘è¿˜æ²¡æŒ‘æˆ˜æˆåŠŸï¼Œç¬¬ä¸€æ¬¡ç”¨æ‰‹æŸ„ç©èµ›è½¦æ¸¸æˆï¼‰ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/14.png\" alt=\"img\"></p>\n<p>ç„¶åå»ç©å¸å›½æ—¶ä»£IVï¼Œè¿˜æ˜¯ä¸é”™çš„æ¸¸æˆï¼Œä»¥å‰æŒºå–œæ¬¢ç©çš„æ¸¸æˆç±»å‹ï¼Œç°åœ¨æ›´å–œæ¬¢åŠ¨ä½œç±»å’Œè§£è°œç±»æ¸¸æˆäº†ã€‚åˆæ’äº†ä¸€ä¸‹é˜Ÿç©å®Œå¼‚æ˜Ÿæ±‚ç”Ÿï¼Œå†³å®šå†ç©ä¸€ä¸ªæ¸¸æˆï¼Œé¬¼ç­ä¹‹åˆƒï¼Œè¿™ä¸ªæ˜¯æˆ‘è®¤è¯†é‚£ä½é™Œç”Ÿäººçš„å¥‘æœºã€‚åŸæœ¬åªæ‰“äº†ä¸€æŠŠ5å±€ä¸‰èƒœçš„æ²¡æœ‰èŠèµ·æ¥ï¼Œä½†æ˜¯çœ‹åˆ°å·¥ä½œäººå‘˜æ²¡æœ‰è¿‡æ¥ï¼Œæˆ‘ä»¬ä¾¿å†å¼€äº†ä¸€æŠŠï¼Œäºæ˜¯ä¾¿å¼€å§‹èŠèµ·æ¥äº†ï¼Œè°ˆè®ºè‡ªå·±å¹³å¸¸ç©ä»€ä¹ˆæ¸¸æˆã€‚ç„¶åå¸¦ä»–å»é›†ç« ï¼Œä»–æ˜¯å‘¨å…­ä¸Šç­ï¼Œå‘¨æ—¥è¿‡æ¥çš„ï¼ˆåªæœ‰å•ä¼‘ï¼Œæ‰“å·¥äººå‘½è‹¦å•Šï¼‰ï¼Œä»åŒ—æ–¹ä¸€ä¸ªäººè¿‡æ¥æ¥å¹¿å·ä¸€ä¸ªå¤–è´¸å…¬å¸å½“è®¾è®¡(ç‰¹åˆ«æœ‰å‹‡æ°”ï¼Œæ•¬ä½©)ã€‚å¸¦ä»–å»ç©åŒäººå†°å£¶ï¼Œä»»å¤©å ‚ï¼Œè¿˜æœ‰éœ“è™¹æ·±æ¸Šï¼Œå¯æƒœçš„æ˜¯éœ“è™¹æ·±æ¸Šä»Šå¤©ç¿»è½¦äº†ï¼Œæ²¡èƒ½æˆåŠŸå†æ¬¡æ‹¿åˆ°ç¤¼å“ğŸ¤£ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/15.png\" alt=\"img\"></p>\n<p>åœ¨é—­å¹•å‰ç»ˆäºç©åˆ°æ·±æ²‰ä¹‹ç«äº†ï¼Œç©å®Œåæˆ‘ä»¬ä¾¿ç¦»å¼€åœºé¦†ï¼Œæˆ‘æˆåŠŸçªç ´ç¤¾æçš„ç¬¬ä¸€æ­¥ï¼Œé‚€è¯·ä»–ä¸€èµ·åƒé¥­ï¼Œä»ç„¶æ˜¯åˆ°æ—è¾¹çš„å…­å…ƒç´ åƒé¥­ï¼Œä¸è¿‡è¿™æ¬¡æ˜¯å¤§å¸ˆå…„ï¼ˆé™•è¥¿é¢ï¼‰ã€‚åˆæ²¡æ‹ç…§ğŸ¤ï¼ˆæ²¡æœ‰æ‹åƒçš„é¥­çš„ä¹ æƒ¯ï¼‰ã€‚ä»–è¯·äº†æˆ‘ä¸€ä¸ªè‚‰å¤¹é¦ï¼ŒåŸæœ¬æƒ³è¦å…¨è¯·æˆ‘çš„ï¼Œä½†æ˜¯æ¯•ç«Ÿä»–æ˜¯ç¬¬ä¸€å¹´ä¸Šç­ï¼Œä»–å…¨è¯·è¿˜æ˜¯ä¸å¤ªå¥½ã€‚</p>\n<p>åœ¨åœ°é“ç«™åˆ†é“æ‰¬é•³ï¼Œä»–ä¸æˆ‘æ˜¯ç›¸åçš„è·¯çº¿ï¼Œä»–ä½ç™½äº‘åŒºï¼Œæˆ‘ä½ç•ªç¦ºåŒºã€‚</p>\n<h3 id=\"ç»“æŸå\"><a href=\"#ç»“æŸå\" class=\"headerlink\" title=\"ç»“æŸå\"></a>ç»“æŸå</h3><p>æŠ½å¥–æŠ½äº†ä¸¤ä¸ªcå¥–ï¼ˆå¸†å¸ƒè¢‹å’Œæ¡Œå¸ƒï¼‰ï¼Œè™½ç„¶å¾ˆçœ¼é¦‹Så¥–ï¼ˆXbox series xï¼‰ï¼Œä½†æ˜¯è‡ªå·±æ˜¯éé…‹ã€‚</p>\n<p>ç¬¬ä¸€æ¬¡å†™é‚£ä¹ˆé•¿çš„åšå®¢ï¼Œæœ‰ç‚¹åƒæµæ°´è´¦äº†ï¼ˆå…¶å®å°±æ˜¯äº†ï¼‰ï¼Œèµ¶å¤§ä½œä¸šå»äº†â€”â€”æ¶¦~<br><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/16.png\" alt=\"img\"><br><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/17.png\" alt=\"img\"><br><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/18.png\" alt=\"img\"><br><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/19.png\" alt=\"img\"><br><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/20.png\" alt=\"img\"><br><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/21.png\" alt=\"img\"><br><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021HeJuBian/22.png\" alt=\"img\"></p>\n"},{"title":"Fast Fibonacci","date":"2024-01-07T15:31:17.000Z","_content":"\n### Introduction:\n\næœ¬æ–‡å°†æ¢è®¨ä¸€äº›è¸©å‘ç‚¹å’Œç®—æ³•çš„å®ç°ï¼Œå¹¶ä¸ä¼šæ¢è®¨ Fibonacci ä¸ºä½•ï¼ŒåŠå¦‚ä½•æ¨å¯¼å…¬å¼ã€‚\n\n### F(n) = F(n - 1) + F(n - 2):\n\nè¿™ç®—æ˜¯æœ€å®¹æ˜“æƒ³åˆ°çš„ç®—æ³•äº†ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º$O(n)$, ç”¨é€’å½’ç©ºé—´å¤æ‚åº¦ä¼šåˆ°$O(n)$, é€’æ¨ä¼šä¼˜åŒ–åˆ°$O(1)$ ã€‚\n\n```C++\n<<Recursive Function>>\nint Recursive(int n)\n{\n    <<end condition>>\n    return Recursive(n - 1) + Recursive(n - 2);\n}\n\n<<DP Function>>\nint DP(int n)\n{\n    <<0,1 condition>>\n    for i~n\n        new = old1 + old2\n        <<swap new,old1,old2>>\n    return old1;\n}\n```\n\n### Matrix Exponentiation\n\né€šè¿‡å°†é€’æ¨å…¬å¼è½¬åŒ–ä¸ºçŸ©é˜µä¹˜æ³•çš„å½¢å¼ï¼Œç”±äºæ ¼å¼å¾ˆå®Œç¾ï¼Œå¯ä»¥æ¨å‡º $n$ æ¬¡é¡¹é€šå¼, å…·ä½“è¯æ˜å¯çœ‹å‚è€ƒã€‚\n\nè¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™ä¸ªå…¬å¼åªé€‚ç”¨äº$0,1,1,2..$ è¿™ä¸ªæ•°åˆ—,å¦‚æœä»¥å…¶ä»–ä¸ºèµ·å§‹çš„è¯ï¼Œæ¨å‡ºçš„å…¬å¼å¹¶ä¸æ˜¯å¾ˆé€šç”¨\næ¯”å¦‚ä»¥$5,5,10..$ è¿™æ ·çš„æ•°åˆ—ï¼Œå±•å¼€çš„çŸ©é˜µä¼šä¸å¤ªé€šç”¨\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20240108104029.png)\n\næ’‡å¼€å…¶ä»–æ•°åˆ—ï¼Œå›åˆ°åŸæ¥çš„æ•°åˆ—ï¼ŒçŸ©é˜µå½¢å¼$a^n$ååˆ†é€‚åˆåš**å¿«é€Ÿå¹‚**ã€‚æ—¶é—´å¤æ‚åº¦ä¸º$O(log_2N)$\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20240108104450.png)\n\n``` c++\n<<MatrixExponentiation Function>>\nint MatrixExponentiation(int n)\n{\n    <<init>>\n    matrix2 orig = {{1,1},{1,0}};\n    matrix2 result = {{1,0},{0,1}};\n    <<FastPow>>\n        <<matrix pow>>\n    <<FastPow>>\n    return result;\n}\n```\n\nçŸ©é˜µå¹‚æ¨å‡ºçš„ç®—æ³•ï¼Œæˆ‘ä»¬å¯ä»¥å€Ÿæ­¤æ¨ä¸€ä¸ªé€šé¡¹å…¬å¼ï¼Œè™½ç„¶æ—¶é—´å¤æ‚åº¦ä¸å˜ï¼Œä½†æ˜¯å¯ä»¥è·å¾—ä¸€ç‚¹å¸¸æ•°çº§çš„ä¼˜åŒ–ï¼ˆé¿å…åšçŸ©é˜µä¹˜æ³•ï¼‰\n\n```C++\n<<FastFib Function>>\nint FastFib(int counter)\n{\n    <<end condition>>\n    if even counter return Fn(2Fn+1 - Fn);\n    else return (Fn+1)^2 + (Fn)^2;\n}\n```\n\n### Conclusion\n\nå½“ç„¶ï¼Œè¿˜å¯ä»¥å€Ÿä»¥ä¸Šæ¨å‡ºé€šç”¨å…¬å¼$f_n = xf_{n-1} + yf_{n-2}$ï¼Œä¸è¿‡è¦ç¬¦åˆä»¥ä¸‹å½¢å¼\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20240108105825.png)\n\nè¿˜æœ‰ä¸€äº›éœ€è¦æ³¨æ„çš„ç‚¹\n\nå½“æ•°å­—å¾ˆå¤§çš„æ—¶å€™ï¼Œå› ä¸ºè¦è¿›è¡Œå¤§æ•°è¿ç®—ï¼Œæ‰€ä»¥éœ€è¦ä¹˜ä¸€ä¸ª$O(n)$ çš„å¤æ‚åº¦ï¼Œæ­¤æ—¶ï¼Œå¿«é€ŸçŸ©é˜µå¹‚çš„é€Ÿåº¦ä¼šæ¯”é€šé¡¹å…¬å¼æ…¢å¾ˆå¤šã€‚åœ¨**å°è§„æ¨¡ï¼ˆåœ¨100ä»¥å†…ï¼‰**çš„æ—¶å€™ï¼Œç”¨dpå³å¯ï¼Œå› ä¸ºçŸ©é˜µä¹˜æ³•ä¹Ÿä¼šè€—æ—¶ã€‚å½“å¤§æ•°æ—¶ï¼Œå¯ä»¥ä½¿ç”¨**Karatsuba multiplication**ï¼Œç›¸å¯¹äºæ™®é€šä¹˜æ³•$O(n^2)$çš„æ—¶é—´å¤æ‚åº¦ï¼Œå¯ä»¥ä¼˜åŒ–åˆ°$O(n^{log_23}) \\approx O(n^{1.58})$ çš„æ—¶é—´å¤æ‚åº¦,ç®€å•æ¥è¯´å°±æ˜¯åšäºŒåˆ†ï¼Œç„¶åæ¯æ¬¡äºŒåˆ†åšä¸‰æ¬¡ä¹˜æ³•è¿ç®—ã€‚\n\n```C++\nint Karatsuba(int x, int y)\n    // b ä¸º 10, 10è¿›åˆ¶\n    <<if x, y low, do naive>>\n    <<get highbits & lowbits for x,y>>\n    <<recursive for a,d,e>>\n    return a*b^n + e*b^(n/2) + d;\n}\n```\n\n### Reference:\n\n- https://brilliant.org/wiki/fast-fibonacci-transform/\n- https://www.nayuki.io/page/fast-fibonacci-algorithms\n- https://en.wikipedia.org/wiki/Fibonacci_sequence#Other\n- https://www.nayuki.io/page/karatsuba-multiplication\n","source":"_posts/Fast-Fibonacci.md","raw":"---\ntitle: Fast Fibonacci\ndate: 2024-01-07 23:31:17\n---\n\n### Introduction:\n\næœ¬æ–‡å°†æ¢è®¨ä¸€äº›è¸©å‘ç‚¹å’Œç®—æ³•çš„å®ç°ï¼Œå¹¶ä¸ä¼šæ¢è®¨ Fibonacci ä¸ºä½•ï¼ŒåŠå¦‚ä½•æ¨å¯¼å…¬å¼ã€‚\n\n### F(n) = F(n - 1) + F(n - 2):\n\nè¿™ç®—æ˜¯æœ€å®¹æ˜“æƒ³åˆ°çš„ç®—æ³•äº†ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º$O(n)$, ç”¨é€’å½’ç©ºé—´å¤æ‚åº¦ä¼šåˆ°$O(n)$, é€’æ¨ä¼šä¼˜åŒ–åˆ°$O(1)$ ã€‚\n\n```C++\n<<Recursive Function>>\nint Recursive(int n)\n{\n    <<end condition>>\n    return Recursive(n - 1) + Recursive(n - 2);\n}\n\n<<DP Function>>\nint DP(int n)\n{\n    <<0,1 condition>>\n    for i~n\n        new = old1 + old2\n        <<swap new,old1,old2>>\n    return old1;\n}\n```\n\n### Matrix Exponentiation\n\né€šè¿‡å°†é€’æ¨å…¬å¼è½¬åŒ–ä¸ºçŸ©é˜µä¹˜æ³•çš„å½¢å¼ï¼Œç”±äºæ ¼å¼å¾ˆå®Œç¾ï¼Œå¯ä»¥æ¨å‡º $n$ æ¬¡é¡¹é€šå¼, å…·ä½“è¯æ˜å¯çœ‹å‚è€ƒã€‚\n\nè¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™ä¸ªå…¬å¼åªé€‚ç”¨äº$0,1,1,2..$ è¿™ä¸ªæ•°åˆ—,å¦‚æœä»¥å…¶ä»–ä¸ºèµ·å§‹çš„è¯ï¼Œæ¨å‡ºçš„å…¬å¼å¹¶ä¸æ˜¯å¾ˆé€šç”¨\næ¯”å¦‚ä»¥$5,5,10..$ è¿™æ ·çš„æ•°åˆ—ï¼Œå±•å¼€çš„çŸ©é˜µä¼šä¸å¤ªé€šç”¨\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20240108104029.png)\n\næ’‡å¼€å…¶ä»–æ•°åˆ—ï¼Œå›åˆ°åŸæ¥çš„æ•°åˆ—ï¼ŒçŸ©é˜µå½¢å¼$a^n$ååˆ†é€‚åˆåš**å¿«é€Ÿå¹‚**ã€‚æ—¶é—´å¤æ‚åº¦ä¸º$O(log_2N)$\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20240108104450.png)\n\n``` c++\n<<MatrixExponentiation Function>>\nint MatrixExponentiation(int n)\n{\n    <<init>>\n    matrix2 orig = {{1,1},{1,0}};\n    matrix2 result = {{1,0},{0,1}};\n    <<FastPow>>\n        <<matrix pow>>\n    <<FastPow>>\n    return result;\n}\n```\n\nçŸ©é˜µå¹‚æ¨å‡ºçš„ç®—æ³•ï¼Œæˆ‘ä»¬å¯ä»¥å€Ÿæ­¤æ¨ä¸€ä¸ªé€šé¡¹å…¬å¼ï¼Œè™½ç„¶æ—¶é—´å¤æ‚åº¦ä¸å˜ï¼Œä½†æ˜¯å¯ä»¥è·å¾—ä¸€ç‚¹å¸¸æ•°çº§çš„ä¼˜åŒ–ï¼ˆé¿å…åšçŸ©é˜µä¹˜æ³•ï¼‰\n\n```C++\n<<FastFib Function>>\nint FastFib(int counter)\n{\n    <<end condition>>\n    if even counter return Fn(2Fn+1 - Fn);\n    else return (Fn+1)^2 + (Fn)^2;\n}\n```\n\n### Conclusion\n\nå½“ç„¶ï¼Œè¿˜å¯ä»¥å€Ÿä»¥ä¸Šæ¨å‡ºé€šç”¨å…¬å¼$f_n = xf_{n-1} + yf_{n-2}$ï¼Œä¸è¿‡è¦ç¬¦åˆä»¥ä¸‹å½¢å¼\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20240108105825.png)\n\nè¿˜æœ‰ä¸€äº›éœ€è¦æ³¨æ„çš„ç‚¹\n\nå½“æ•°å­—å¾ˆå¤§çš„æ—¶å€™ï¼Œå› ä¸ºè¦è¿›è¡Œå¤§æ•°è¿ç®—ï¼Œæ‰€ä»¥éœ€è¦ä¹˜ä¸€ä¸ª$O(n)$ çš„å¤æ‚åº¦ï¼Œæ­¤æ—¶ï¼Œå¿«é€ŸçŸ©é˜µå¹‚çš„é€Ÿåº¦ä¼šæ¯”é€šé¡¹å…¬å¼æ…¢å¾ˆå¤šã€‚åœ¨**å°è§„æ¨¡ï¼ˆåœ¨100ä»¥å†…ï¼‰**çš„æ—¶å€™ï¼Œç”¨dpå³å¯ï¼Œå› ä¸ºçŸ©é˜µä¹˜æ³•ä¹Ÿä¼šè€—æ—¶ã€‚å½“å¤§æ•°æ—¶ï¼Œå¯ä»¥ä½¿ç”¨**Karatsuba multiplication**ï¼Œç›¸å¯¹äºæ™®é€šä¹˜æ³•$O(n^2)$çš„æ—¶é—´å¤æ‚åº¦ï¼Œå¯ä»¥ä¼˜åŒ–åˆ°$O(n^{log_23}) \\approx O(n^{1.58})$ çš„æ—¶é—´å¤æ‚åº¦,ç®€å•æ¥è¯´å°±æ˜¯åšäºŒåˆ†ï¼Œç„¶åæ¯æ¬¡äºŒåˆ†åšä¸‰æ¬¡ä¹˜æ³•è¿ç®—ã€‚\n\n```C++\nint Karatsuba(int x, int y)\n    // b ä¸º 10, 10è¿›åˆ¶\n    <<if x, y low, do naive>>\n    <<get highbits & lowbits for x,y>>\n    <<recursive for a,d,e>>\n    return a*b^n + e*b^(n/2) + d;\n}\n```\n\n### Reference:\n\n- https://brilliant.org/wiki/fast-fibonacci-transform/\n- https://www.nayuki.io/page/fast-fibonacci-algorithms\n- https://en.wikipedia.org/wiki/Fibonacci_sequence#Other\n- https://www.nayuki.io/page/karatsuba-multiplication\n","slug":"Fast-Fibonacci","published":1,"updated":"2024-01-08T03:25:21.650Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clr4d2jty0003gwv07yghemmp","content":"<h3 id=\"Introduction\"><a href=\"#Introduction\" class=\"headerlink\" title=\"Introduction:\"></a>Introduction:</h3><p>æœ¬æ–‡å°†æ¢è®¨ä¸€äº›è¸©å‘ç‚¹å’Œç®—æ³•çš„å®ç°ï¼Œå¹¶ä¸ä¼šæ¢è®¨ Fibonacci ä¸ºä½•ï¼ŒåŠå¦‚ä½•æ¨å¯¼å…¬å¼ã€‚</p>\n<h3 id=\"F-n-x3D-F-n-1-F-n-2\"><a href=\"#F-n-x3D-F-n-1-F-n-2\" class=\"headerlink\" title=\"F(n) &#x3D; F(n - 1) + F(n - 2):\"></a>F(n) &#x3D; F(n - 1) + F(n - 2):</h3><p>è¿™ç®—æ˜¯æœ€å®¹æ˜“æƒ³åˆ°çš„ç®—æ³•äº†ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º$O(n)$, ç”¨é€’å½’ç©ºé—´å¤æ‚åº¦ä¼šåˆ°$O(n)$, é€’æ¨ä¼šä¼˜åŒ–åˆ°$O(1)$ ã€‚</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"code\"><pre><span class=\"line\">&lt;&lt;Recursive Function&gt;&gt;</span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">Recursive</span><span class=\"params\">(<span class=\"type\">int</span> n)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    &lt;&lt;end condition&gt;&gt;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">Recursive</span>(n - <span class=\"number\">1</span>) + <span class=\"built_in\">Recursive</span>(n - <span class=\"number\">2</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;&lt;DP Function&gt;&gt;</span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">DP</span><span class=\"params\">(<span class=\"type\">int</span> n)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    &lt;&lt;<span class=\"number\">0</span>,<span class=\"number\">1</span> condition&gt;&gt;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i~n</span><br><span class=\"line\">        <span class=\"keyword\">new</span> = old1 + old2</span><br><span class=\"line\">        &lt;&lt;swap <span class=\"keyword\">new</span>,old1,old2&gt;&gt;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> old1;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Matrix-Exponentiation\"><a href=\"#Matrix-Exponentiation\" class=\"headerlink\" title=\"Matrix Exponentiation\"></a>Matrix Exponentiation</h3><p>é€šè¿‡å°†é€’æ¨å…¬å¼è½¬åŒ–ä¸ºçŸ©é˜µä¹˜æ³•çš„å½¢å¼ï¼Œç”±äºæ ¼å¼å¾ˆå®Œç¾ï¼Œå¯ä»¥æ¨å‡º $n$ æ¬¡é¡¹é€šå¼, å…·ä½“è¯æ˜å¯çœ‹å‚è€ƒã€‚</p>\n<p>è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™ä¸ªå…¬å¼åªé€‚ç”¨äº$0,1,1,2..$ è¿™ä¸ªæ•°åˆ—,å¦‚æœä»¥å…¶ä»–ä¸ºèµ·å§‹çš„è¯ï¼Œæ¨å‡ºçš„å…¬å¼å¹¶ä¸æ˜¯å¾ˆé€šç”¨<br>æ¯”å¦‚ä»¥$5,5,10..$ è¿™æ ·çš„æ•°åˆ—ï¼Œå±•å¼€çš„çŸ©é˜µä¼šä¸å¤ªé€šç”¨<br><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20240108104029.png\"></p>\n<p>æ’‡å¼€å…¶ä»–æ•°åˆ—ï¼Œå›åˆ°åŸæ¥çš„æ•°åˆ—ï¼ŒçŸ©é˜µå½¢å¼$a^n$ååˆ†é€‚åˆåš<strong>å¿«é€Ÿå¹‚</strong>ã€‚æ—¶é—´å¤æ‚åº¦ä¸º$O(log_2N)$</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20240108104450.png\"></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"code\"><pre><span class=\"line\">&lt;&lt;MatrixExponentiation Function&gt;&gt;</span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">MatrixExponentiation</span><span class=\"params\">(<span class=\"type\">int</span> n)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    &lt;&lt;init&gt;&gt;</span><br><span class=\"line\">    matrix2 orig = &#123;&#123;<span class=\"number\">1</span>,<span class=\"number\">1</span>&#125;,&#123;<span class=\"number\">1</span>,<span class=\"number\">0</span>&#125;&#125;;</span><br><span class=\"line\">    matrix2 result = &#123;&#123;<span class=\"number\">1</span>,<span class=\"number\">0</span>&#125;,&#123;<span class=\"number\">0</span>,<span class=\"number\">1</span>&#125;&#125;;</span><br><span class=\"line\">    &lt;&lt;FastPow&gt;&gt;</span><br><span class=\"line\">        &lt;&lt;matrix pow&gt;&gt;</span><br><span class=\"line\">    &lt;&lt;FastPow&gt;&gt;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>çŸ©é˜µå¹‚æ¨å‡ºçš„ç®—æ³•ï¼Œæˆ‘ä»¬å¯ä»¥å€Ÿæ­¤æ¨ä¸€ä¸ªé€šé¡¹å…¬å¼ï¼Œè™½ç„¶æ—¶é—´å¤æ‚åº¦ä¸å˜ï¼Œä½†æ˜¯å¯ä»¥è·å¾—ä¸€ç‚¹å¸¸æ•°çº§çš„ä¼˜åŒ–ï¼ˆé¿å…åšçŸ©é˜µä¹˜æ³•ï¼‰</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"code\"><pre><span class=\"line\">&lt;&lt;FastFib Function&gt;&gt;</span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">FastFib</span><span class=\"params\">(<span class=\"type\">int</span> counter)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    &lt;&lt;end condition&gt;&gt;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">if</span> even counter <span class=\"keyword\">return</span> <span class=\"title\">Fn</span><span class=\"params\">(<span class=\"number\">2F</span>n+<span class=\"number\">1</span> - Fn)</span></span>;</span><br><span class=\"line\">    <span class=\"keyword\">else</span> <span class=\"built_in\">return</span> (Fn+<span class=\"number\">1</span>)^<span class=\"number\">2</span> + (Fn)^<span class=\"number\">2</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Conclusion\"><a href=\"#Conclusion\" class=\"headerlink\" title=\"Conclusion\"></a>Conclusion</h3><p>å½“ç„¶ï¼Œè¿˜å¯ä»¥å€Ÿä»¥ä¸Šæ¨å‡ºé€šç”¨å…¬å¼$f_n &#x3D; xf_{n-1} + yf_{n-2}$ï¼Œä¸è¿‡è¦ç¬¦åˆä»¥ä¸‹å½¢å¼</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20240108105825.png\"></p>\n<p>è¿˜æœ‰ä¸€äº›éœ€è¦æ³¨æ„çš„ç‚¹</p>\n<p>å½“æ•°å­—å¾ˆå¤§çš„æ—¶å€™ï¼Œå› ä¸ºè¦è¿›è¡Œå¤§æ•°è¿ç®—ï¼Œæ‰€ä»¥éœ€è¦ä¹˜ä¸€ä¸ª$O(n)$ çš„å¤æ‚åº¦ï¼Œæ­¤æ—¶ï¼Œå¿«é€ŸçŸ©é˜µå¹‚çš„é€Ÿåº¦ä¼šæ¯”é€šé¡¹å…¬å¼æ…¢å¾ˆå¤šã€‚åœ¨<strong>å°è§„æ¨¡ï¼ˆåœ¨100ä»¥å†…ï¼‰</strong>çš„æ—¶å€™ï¼Œç”¨dpå³å¯ï¼Œå› ä¸ºçŸ©é˜µä¹˜æ³•ä¹Ÿä¼šè€—æ—¶ã€‚å½“å¤§æ•°æ—¶ï¼Œå¯ä»¥ä½¿ç”¨<strong>Karatsuba multiplication</strong>ï¼Œç›¸å¯¹äºæ™®é€šä¹˜æ³•$O(n^2)$çš„æ—¶é—´å¤æ‚åº¦ï¼Œå¯ä»¥ä¼˜åŒ–åˆ°$O(n^{log_23}) \\approx O(n^{1.58})$ çš„æ—¶é—´å¤æ‚åº¦,ç®€å•æ¥è¯´å°±æ˜¯åšäºŒåˆ†ï¼Œç„¶åæ¯æ¬¡äºŒåˆ†åšä¸‰æ¬¡ä¹˜æ³•è¿ç®—ã€‚</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">Karatsuba</span><span class=\"params\">(<span class=\"type\">int</span> x, <span class=\"type\">int</span> y)</span></span></span><br><span class=\"line\"><span class=\"function\">    <span class=\"comment\">// b ä¸º 10, 10è¿›åˆ¶</span></span></span><br><span class=\"line\"><span class=\"function\">    &lt;&lt;<span class=\"keyword\">if</span> x, y low, <span class=\"keyword\">do</span> naive&gt;&gt;</span></span><br><span class=\"line\"><span class=\"function\">    &lt;&lt;get highbits &amp; lowbits <span class=\"keyword\">for</span> x,y&gt;&gt;</span></span><br><span class=\"line\"><span class=\"function\">    &lt;&lt;recursive <span class=\"keyword\">for</span> a,d,e&gt;&gt;</span></span><br><span class=\"line\"><span class=\"function\">    <span class=\"keyword\">return</span> a*b^n + e*b^<span class=\"params\">(n/<span class=\"number\">2</span>)</span> + d</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Reference\"><a href=\"#Reference\" class=\"headerlink\" title=\"Reference:\"></a>Reference:</h3><ul>\n<li><a href=\"https://brilliant.org/wiki/fast-fibonacci-transform/\">https://brilliant.org/wiki/fast-fibonacci-transform/</a></li>\n<li><a href=\"https://www.nayuki.io/page/fast-fibonacci-algorithms\">https://www.nayuki.io/page/fast-fibonacci-algorithms</a></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Fibonacci_sequence#Other\">https://en.wikipedia.org/wiki/Fibonacci_sequence#Other</a></li>\n<li><a href=\"https://www.nayuki.io/page/karatsuba-multiplication\">https://www.nayuki.io/page/karatsuba-multiplication</a></li>\n</ul>\n","site":{"data":{}},"length":1794,"excerpt":"","more":"<h3 id=\"Introduction\"><a href=\"#Introduction\" class=\"headerlink\" title=\"Introduction:\"></a>Introduction:</h3><p>æœ¬æ–‡å°†æ¢è®¨ä¸€äº›è¸©å‘ç‚¹å’Œç®—æ³•çš„å®ç°ï¼Œå¹¶ä¸ä¼šæ¢è®¨ Fibonacci ä¸ºä½•ï¼ŒåŠå¦‚ä½•æ¨å¯¼å…¬å¼ã€‚</p>\n<h3 id=\"F-n-x3D-F-n-1-F-n-2\"><a href=\"#F-n-x3D-F-n-1-F-n-2\" class=\"headerlink\" title=\"F(n) &#x3D; F(n - 1) + F(n - 2):\"></a>F(n) &#x3D; F(n - 1) + F(n - 2):</h3><p>è¿™ç®—æ˜¯æœ€å®¹æ˜“æƒ³åˆ°çš„ç®—æ³•äº†ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º$O(n)$, ç”¨é€’å½’ç©ºé—´å¤æ‚åº¦ä¼šåˆ°$O(n)$, é€’æ¨ä¼šä¼˜åŒ–åˆ°$O(1)$ ã€‚</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"code\"><pre><span class=\"line\">&lt;&lt;Recursive Function&gt;&gt;</span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">Recursive</span><span class=\"params\">(<span class=\"type\">int</span> n)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    &lt;&lt;end condition&gt;&gt;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">Recursive</span>(n - <span class=\"number\">1</span>) + <span class=\"built_in\">Recursive</span>(n - <span class=\"number\">2</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;&lt;DP Function&gt;&gt;</span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">DP</span><span class=\"params\">(<span class=\"type\">int</span> n)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    &lt;&lt;<span class=\"number\">0</span>,<span class=\"number\">1</span> condition&gt;&gt;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i~n</span><br><span class=\"line\">        <span class=\"keyword\">new</span> = old1 + old2</span><br><span class=\"line\">        &lt;&lt;swap <span class=\"keyword\">new</span>,old1,old2&gt;&gt;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> old1;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Matrix-Exponentiation\"><a href=\"#Matrix-Exponentiation\" class=\"headerlink\" title=\"Matrix Exponentiation\"></a>Matrix Exponentiation</h3><p>é€šè¿‡å°†é€’æ¨å…¬å¼è½¬åŒ–ä¸ºçŸ©é˜µä¹˜æ³•çš„å½¢å¼ï¼Œç”±äºæ ¼å¼å¾ˆå®Œç¾ï¼Œå¯ä»¥æ¨å‡º $n$ æ¬¡é¡¹é€šå¼, å…·ä½“è¯æ˜å¯çœ‹å‚è€ƒã€‚</p>\n<p>è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™ä¸ªå…¬å¼åªé€‚ç”¨äº$0,1,1,2..$ è¿™ä¸ªæ•°åˆ—,å¦‚æœä»¥å…¶ä»–ä¸ºèµ·å§‹çš„è¯ï¼Œæ¨å‡ºçš„å…¬å¼å¹¶ä¸æ˜¯å¾ˆé€šç”¨<br>æ¯”å¦‚ä»¥$5,5,10..$ è¿™æ ·çš„æ•°åˆ—ï¼Œå±•å¼€çš„çŸ©é˜µä¼šä¸å¤ªé€šç”¨<br><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20240108104029.png\"></p>\n<p>æ’‡å¼€å…¶ä»–æ•°åˆ—ï¼Œå›åˆ°åŸæ¥çš„æ•°åˆ—ï¼ŒçŸ©é˜µå½¢å¼$a^n$ååˆ†é€‚åˆåš<strong>å¿«é€Ÿå¹‚</strong>ã€‚æ—¶é—´å¤æ‚åº¦ä¸º$O(log_2N)$</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20240108104450.png\"></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"code\"><pre><span class=\"line\">&lt;&lt;MatrixExponentiation Function&gt;&gt;</span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">MatrixExponentiation</span><span class=\"params\">(<span class=\"type\">int</span> n)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    &lt;&lt;init&gt;&gt;</span><br><span class=\"line\">    matrix2 orig = &#123;&#123;<span class=\"number\">1</span>,<span class=\"number\">1</span>&#125;,&#123;<span class=\"number\">1</span>,<span class=\"number\">0</span>&#125;&#125;;</span><br><span class=\"line\">    matrix2 result = &#123;&#123;<span class=\"number\">1</span>,<span class=\"number\">0</span>&#125;,&#123;<span class=\"number\">0</span>,<span class=\"number\">1</span>&#125;&#125;;</span><br><span class=\"line\">    &lt;&lt;FastPow&gt;&gt;</span><br><span class=\"line\">        &lt;&lt;matrix pow&gt;&gt;</span><br><span class=\"line\">    &lt;&lt;FastPow&gt;&gt;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>çŸ©é˜µå¹‚æ¨å‡ºçš„ç®—æ³•ï¼Œæˆ‘ä»¬å¯ä»¥å€Ÿæ­¤æ¨ä¸€ä¸ªé€šé¡¹å…¬å¼ï¼Œè™½ç„¶æ—¶é—´å¤æ‚åº¦ä¸å˜ï¼Œä½†æ˜¯å¯ä»¥è·å¾—ä¸€ç‚¹å¸¸æ•°çº§çš„ä¼˜åŒ–ï¼ˆé¿å…åšçŸ©é˜µä¹˜æ³•ï¼‰</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"code\"><pre><span class=\"line\">&lt;&lt;FastFib Function&gt;&gt;</span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">FastFib</span><span class=\"params\">(<span class=\"type\">int</span> counter)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    &lt;&lt;end condition&gt;&gt;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">if</span> even counter <span class=\"keyword\">return</span> <span class=\"title\">Fn</span><span class=\"params\">(<span class=\"number\">2F</span>n+<span class=\"number\">1</span> - Fn)</span></span>;</span><br><span class=\"line\">    <span class=\"keyword\">else</span> <span class=\"built_in\">return</span> (Fn+<span class=\"number\">1</span>)^<span class=\"number\">2</span> + (Fn)^<span class=\"number\">2</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Conclusion\"><a href=\"#Conclusion\" class=\"headerlink\" title=\"Conclusion\"></a>Conclusion</h3><p>å½“ç„¶ï¼Œè¿˜å¯ä»¥å€Ÿä»¥ä¸Šæ¨å‡ºé€šç”¨å…¬å¼$f_n &#x3D; xf_{n-1} + yf_{n-2}$ï¼Œä¸è¿‡è¦ç¬¦åˆä»¥ä¸‹å½¢å¼</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20240108105825.png\"></p>\n<p>è¿˜æœ‰ä¸€äº›éœ€è¦æ³¨æ„çš„ç‚¹</p>\n<p>å½“æ•°å­—å¾ˆå¤§çš„æ—¶å€™ï¼Œå› ä¸ºè¦è¿›è¡Œå¤§æ•°è¿ç®—ï¼Œæ‰€ä»¥éœ€è¦ä¹˜ä¸€ä¸ª$O(n)$ çš„å¤æ‚åº¦ï¼Œæ­¤æ—¶ï¼Œå¿«é€ŸçŸ©é˜µå¹‚çš„é€Ÿåº¦ä¼šæ¯”é€šé¡¹å…¬å¼æ…¢å¾ˆå¤šã€‚åœ¨<strong>å°è§„æ¨¡ï¼ˆåœ¨100ä»¥å†…ï¼‰</strong>çš„æ—¶å€™ï¼Œç”¨dpå³å¯ï¼Œå› ä¸ºçŸ©é˜µä¹˜æ³•ä¹Ÿä¼šè€—æ—¶ã€‚å½“å¤§æ•°æ—¶ï¼Œå¯ä»¥ä½¿ç”¨<strong>Karatsuba multiplication</strong>ï¼Œç›¸å¯¹äºæ™®é€šä¹˜æ³•$O(n^2)$çš„æ—¶é—´å¤æ‚åº¦ï¼Œå¯ä»¥ä¼˜åŒ–åˆ°$O(n^{log_23}) \\approx O(n^{1.58})$ çš„æ—¶é—´å¤æ‚åº¦,ç®€å•æ¥è¯´å°±æ˜¯åšäºŒåˆ†ï¼Œç„¶åæ¯æ¬¡äºŒåˆ†åšä¸‰æ¬¡ä¹˜æ³•è¿ç®—ã€‚</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">Karatsuba</span><span class=\"params\">(<span class=\"type\">int</span> x, <span class=\"type\">int</span> y)</span></span></span><br><span class=\"line\"><span class=\"function\">    <span class=\"comment\">// b ä¸º 10, 10è¿›åˆ¶</span></span></span><br><span class=\"line\"><span class=\"function\">    &lt;&lt;<span class=\"keyword\">if</span> x, y low, <span class=\"keyword\">do</span> naive&gt;&gt;</span></span><br><span class=\"line\"><span class=\"function\">    &lt;&lt;get highbits &amp; lowbits <span class=\"keyword\">for</span> x,y&gt;&gt;</span></span><br><span class=\"line\"><span class=\"function\">    &lt;&lt;recursive <span class=\"keyword\">for</span> a,d,e&gt;&gt;</span></span><br><span class=\"line\"><span class=\"function\">    <span class=\"keyword\">return</span> a*b^n + e*b^<span class=\"params\">(n/<span class=\"number\">2</span>)</span> + d</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Reference\"><a href=\"#Reference\" class=\"headerlink\" title=\"Reference:\"></a>Reference:</h3><ul>\n<li><a href=\"https://brilliant.org/wiki/fast-fibonacci-transform/\">https://brilliant.org/wiki/fast-fibonacci-transform/</a></li>\n<li><a href=\"https://www.nayuki.io/page/fast-fibonacci-algorithms\">https://www.nayuki.io/page/fast-fibonacci-algorithms</a></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Fibonacci_sequence#Other\">https://en.wikipedia.org/wiki/Fibonacci_sequence#Other</a></li>\n<li><a href=\"https://www.nayuki.io/page/karatsuba-multiplication\">https://www.nayuki.io/page/karatsuba-multiplication</a></li>\n</ul>\n"},{"title":"LRU & TopK","date":"2023-05-26T13:54:41.000Z","_content":"\n### LRU\n\n> æœ€è¿‘æœ€å°‘ä½¿ç”¨(Least Recently Used) ï¼ŒåŠ å…¥æ–°çš„å°†æœ€å°‘ä½¿ç”¨çš„å…ƒç´ æ·˜æ±°æ‰\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230526231747.png)\n\nä¸¤ç§æ“ä½œï¼š\n- å½“è®¿é—®æ—¶ï¼Œå¦‚æœæœ‰å°±å°†è®¿é—®çš„æŒªåˆ°å¤´\n- å½“åŠ å…¥æ—¶ï¼Œå°†æ–°çš„æŒªåˆ°å¤´ï¼Œå¦‚æœé“¾è¡¨æ»¡äº†ï¼Œå°†å°¾ç§»é™¤\n\nO(1)æ“ä½œå¤´å°¾å…ƒç´ ï¼Œç”¨åŒå‘é“¾è¡¨ï¼ŒO(1)æ—¶é—´è®¿é—®ç”¨å“ˆå¸Œè¡¨\n\n**æ‰‹æ“åŒå‘é“¾è¡¨å®ç°**:\n```c++\nclass LRUCache {\npublic:\n    struct DLNode{\n        int key,value;\n        DLNode* prev,*post;\n        DLNode(int k, int v): key(k),value(v),prev(nullptr),post(nullptr){}\n    }*head,*tail;\n\n    int capacity;\n    unordered_map<int,DLNode*> hashmap;\n\n    LRUCache(int capacity):capacity(capacity) {\n        head = new DLNode(-1,-1);\n        tail = new DLNode(-1,-1);\n        head->post = tail;\n        tail->prev = head;\n    }\n    \n    void remove(DLNode* cur)\n    {\n        cur->post->prev = cur->prev;\n        cur->prev->post = cur->post;\n    }\n    void insert(DLNode* cur)\n    {\n        cur->post = head->post;\n        cur->prev = head;\n        head->post->prev = cur;\n        head->post = cur;\n    }\n    int get(int key) {\n        if(hashmap.count(key) == 0) return -1;\n        auto cur = hashmap[key];\n        remove(cur);\n        insert(cur);\n        return cur->value;\n    }\n    \n    void put(int key, int value) {\n        if(hashmap.count(key) > 0)\n        {\n            auto cur = hashmap[key];\n            cur->value = value;\n            remove(cur);\n            insert(cur);\n        }\n        else \n        {\n            if(hashmap.size() == capacity)\n            {\n                auto leastUse = tail->prev;\n                remove(leastUse);\n                hashmap.erase(leastUse->key);\n                delete leastUse;\n            }\n            auto cur = new DLNode(key,value);\n            hashmap[key] = cur;\n            insert(cur);\n        }\n    }\n};\n```\n\n**ä¼˜é›…çš„STLç‰ˆæœ¬**:\n```c++\nclass LRUCache {\npublic:\n    LRUCache(int capacity): capacity(capacity) {\n\n    }\n    \n    int get(int key) {\n        if(map.find(key) == map.end()) return -1;\n        auto key_value = *map[key];\n        cache.erase(map[key]);\n        cache.push_front(key_value);\n        map[key] = cache.begin();\n        return key_value.second;\n    }\n    \n    void put(int key, int value) {\n        if(map.find(key) != map.end()) cache.erase(map[key]);\n        else if(cache.size() == capacity)\n        {\n            map.erase(cache.back().first);\n            cache.pop_back();\n        }\n        cache.push_front({key,value});\n        map[key] = cache.begin();\n    }\nprivate:\n    int capacity;\n    list<pair<int,int>> cache;\n    unordered_map<int,list<pair<int,int>>::iterator> map;\n};\n```\n\n### TopK\n\n> å­—é¢æ„æ€ï¼Œå°±æ˜¯æ±‚æ— åºæ•°ç»„çš„ç¬¬kå¤§çš„æ•°\n\n#### æœ€å¤§å€¼æœ€å°å€¼\n\nå…ˆä»å¯»æ‰¾æœ€å¤§å€¼æœ€å°å€¼å¼€å§‹ï¼Œç›´æ¥éå†ä¹Ÿå°±æ˜¯O(n)çš„æ—¶é—´å¤æ‚åº¦ã€‚\n\n**ä¼ªä»£ç **ï¼š\n```\nmin = A[1]\nfor i = 2 to A.length \n    if min > A[i] min = A[i]\n\n# ä¸Šè¿°ä¼ªä»£ç ä¸€çœ¼O(n)\n# å¦‚æœæ±‚åŒæ—¶æœ€å¤§æœ€å°å€¼ï¼Œå¯ä»¥ç¨å¾®ä¼˜åŒ–ä¸€ä¸‹ï¼Œä»æ¯ä¸ªæ•°ä¸min å’Œ max æ¯”è¾ƒï¼Œæ€»å…±ä¸€è½®æ˜¯ä¸¤æ¬¡çš„æ¯”è¾ƒï¼Œä¼˜åŒ–åˆ°3/2æ¬¡æ¯”è¾ƒ\n\nmin = A[1] vs A[2] \nmax = A[1] vs A[2]\nfor i = 3 to A.length \n    if(A[i] < A[i + 1])\n        if(min > A[i]) min = A[i]\n        if(max < A[i + 1]) max = A[i + 1]\n    else \n        ...\n    i += 2\n\n# è¿™æ ·å­æˆå¯¹å¤„ç†å°±ä¼šä¼˜åŒ–åˆ°æ€»å…± 3n/2 - 2 æ¬¡æ¯”è¾ƒ\n```\n\n#### TopK\n\n- åœ¨è¿™é‡Œæˆ‘ä»¬æ‰¾ç¬¬ k å°çš„æ•°\n- åˆ©ç”¨å¿«é€Ÿæ’åºçš„partitionæ€æƒ³\n- å½“partitionåˆ†å‡ºæ¥çš„ i < k æ—¶ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬æ‰¾åˆ°ç¬¬ i å°çš„æ•°ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ i + 1 ~ nä¸­æ‰¾ç¬¬kå°çš„æ•°ã€‚å½“ i > k æ—¶ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ 1 ~ i - 1ä¸­æ‰¾ç¬¬kå°çš„æ•°ã€‚\n- å¦‚æœ i == k è¯´æ˜åˆšå¥½æ‰¾åˆ°\n- partition çš„æ€æƒ³å°±æ˜¯è®© i å·¦è¾¹çš„æ•°éƒ½å°äº i å³è¾¹çš„æ•°éƒ½å¤§äº i ï¼Œä¸care i å·¦å³ä¸¤è¾¹å†…éƒ¨çš„é¡ºåºï¼Œåªcare i çš„ä½ç½®ã€‚\n\n**æœŸæœ›æ—¶é—´å¤æ‚åº¦**ä¸ºO(n)ï¼Œå‡è®¾æ¯æ¬¡éƒ½æ˜¯åˆšå¥½åˆ†åŠ, æœ‰å¯èƒ½è¿˜æ›´å° T(n) + T(n/2) + T(n/4) +... T(1) ä¹Ÿå°±æ˜¯ç­‰ç§¯æ•°åˆ—æ±‚å’Œä¸º T(2n) æ‰€ä»¥ä¸ºO(n)\n\n**æœ€åæƒ…å†µ**ä¸ºO(n^2)ï¼Œå¦‚æœå¾ˆä¸å¹¸æ¯æ¬¡éƒ½æ˜¯æ‰¾åˆ°ä¸€ç»„çš„æœ€å¤§å…ƒç´ è¿›è¡Œpartition å°±ä¼šé€ æˆ T(n) + T(n - 1) + T(n - 2) + .. T(1) çš„æƒ…å†µ æœ€åä¸ºT(n^2),æ‰€ä»¥ç”¨randomåˆ’åˆ†æ¥å°½å¯èƒ½åœ°é¿å…è¯¥æƒ…å†µ\n\n**ä¼ªä»£ç **:ç®—æ³•å¯¼è®ºä¸­ç¬¬ä¸ƒç« çš„å¿«æ’çš„partitionååˆ†ä¼˜é›…ï¼Œå¯ä»¥çœ‹çœ‹\n```c++\n#include <iostream>\n#include <vector>\n\nint RandomPartition(std::vector<int> &nums, int l, int r)\n{\n    int q = rand()%(r - l + 1) + l;\n    std::swap(nums[q],nums[r]);\n    auto x = nums[r];\n    int i = l - 1;\n    for (int j = l; j < r; ++j)\n    {\n        if (nums[j] <= x)\n            std::swap(nums[++i], nums[j]);\n    }\n    std::swap(nums[i + 1], nums[r]);\n    return i;\n}\n\nint TopK(std::vector<int> &nums, int l, int r, int k)\n{\n    int i = RandomPartition(nums, l, r);\n    if (i == k)\n        return nums[i];\n    else\n        return i < k ? TopK(nums, i + 1, r, k) : TopK(nums, l, i - 1, k);\n}\nint main()\n{\n    srand(time(0));\n    std::vector<int> nums{2, 8, 7, 1, 3, 5, 6, 4};\n\n    int ans = TopK(nums, 0, nums.size() - 1, 3);\n    std::cout << ans;\n    return 0;\n}\n```","source":"_posts/LRU-TopK.md","raw":"---\ntitle: LRU & TopK\ndate: 2023-05-26 21:54:41\n---\n\n### LRU\n\n> æœ€è¿‘æœ€å°‘ä½¿ç”¨(Least Recently Used) ï¼ŒåŠ å…¥æ–°çš„å°†æœ€å°‘ä½¿ç”¨çš„å…ƒç´ æ·˜æ±°æ‰\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230526231747.png)\n\nä¸¤ç§æ“ä½œï¼š\n- å½“è®¿é—®æ—¶ï¼Œå¦‚æœæœ‰å°±å°†è®¿é—®çš„æŒªåˆ°å¤´\n- å½“åŠ å…¥æ—¶ï¼Œå°†æ–°çš„æŒªåˆ°å¤´ï¼Œå¦‚æœé“¾è¡¨æ»¡äº†ï¼Œå°†å°¾ç§»é™¤\n\nO(1)æ“ä½œå¤´å°¾å…ƒç´ ï¼Œç”¨åŒå‘é“¾è¡¨ï¼ŒO(1)æ—¶é—´è®¿é—®ç”¨å“ˆå¸Œè¡¨\n\n**æ‰‹æ“åŒå‘é“¾è¡¨å®ç°**:\n```c++\nclass LRUCache {\npublic:\n    struct DLNode{\n        int key,value;\n        DLNode* prev,*post;\n        DLNode(int k, int v): key(k),value(v),prev(nullptr),post(nullptr){}\n    }*head,*tail;\n\n    int capacity;\n    unordered_map<int,DLNode*> hashmap;\n\n    LRUCache(int capacity):capacity(capacity) {\n        head = new DLNode(-1,-1);\n        tail = new DLNode(-1,-1);\n        head->post = tail;\n        tail->prev = head;\n    }\n    \n    void remove(DLNode* cur)\n    {\n        cur->post->prev = cur->prev;\n        cur->prev->post = cur->post;\n    }\n    void insert(DLNode* cur)\n    {\n        cur->post = head->post;\n        cur->prev = head;\n        head->post->prev = cur;\n        head->post = cur;\n    }\n    int get(int key) {\n        if(hashmap.count(key) == 0) return -1;\n        auto cur = hashmap[key];\n        remove(cur);\n        insert(cur);\n        return cur->value;\n    }\n    \n    void put(int key, int value) {\n        if(hashmap.count(key) > 0)\n        {\n            auto cur = hashmap[key];\n            cur->value = value;\n            remove(cur);\n            insert(cur);\n        }\n        else \n        {\n            if(hashmap.size() == capacity)\n            {\n                auto leastUse = tail->prev;\n                remove(leastUse);\n                hashmap.erase(leastUse->key);\n                delete leastUse;\n            }\n            auto cur = new DLNode(key,value);\n            hashmap[key] = cur;\n            insert(cur);\n        }\n    }\n};\n```\n\n**ä¼˜é›…çš„STLç‰ˆæœ¬**:\n```c++\nclass LRUCache {\npublic:\n    LRUCache(int capacity): capacity(capacity) {\n\n    }\n    \n    int get(int key) {\n        if(map.find(key) == map.end()) return -1;\n        auto key_value = *map[key];\n        cache.erase(map[key]);\n        cache.push_front(key_value);\n        map[key] = cache.begin();\n        return key_value.second;\n    }\n    \n    void put(int key, int value) {\n        if(map.find(key) != map.end()) cache.erase(map[key]);\n        else if(cache.size() == capacity)\n        {\n            map.erase(cache.back().first);\n            cache.pop_back();\n        }\n        cache.push_front({key,value});\n        map[key] = cache.begin();\n    }\nprivate:\n    int capacity;\n    list<pair<int,int>> cache;\n    unordered_map<int,list<pair<int,int>>::iterator> map;\n};\n```\n\n### TopK\n\n> å­—é¢æ„æ€ï¼Œå°±æ˜¯æ±‚æ— åºæ•°ç»„çš„ç¬¬kå¤§çš„æ•°\n\n#### æœ€å¤§å€¼æœ€å°å€¼\n\nå…ˆä»å¯»æ‰¾æœ€å¤§å€¼æœ€å°å€¼å¼€å§‹ï¼Œç›´æ¥éå†ä¹Ÿå°±æ˜¯O(n)çš„æ—¶é—´å¤æ‚åº¦ã€‚\n\n**ä¼ªä»£ç **ï¼š\n```\nmin = A[1]\nfor i = 2 to A.length \n    if min > A[i] min = A[i]\n\n# ä¸Šè¿°ä¼ªä»£ç ä¸€çœ¼O(n)\n# å¦‚æœæ±‚åŒæ—¶æœ€å¤§æœ€å°å€¼ï¼Œå¯ä»¥ç¨å¾®ä¼˜åŒ–ä¸€ä¸‹ï¼Œä»æ¯ä¸ªæ•°ä¸min å’Œ max æ¯”è¾ƒï¼Œæ€»å…±ä¸€è½®æ˜¯ä¸¤æ¬¡çš„æ¯”è¾ƒï¼Œä¼˜åŒ–åˆ°3/2æ¬¡æ¯”è¾ƒ\n\nmin = A[1] vs A[2] \nmax = A[1] vs A[2]\nfor i = 3 to A.length \n    if(A[i] < A[i + 1])\n        if(min > A[i]) min = A[i]\n        if(max < A[i + 1]) max = A[i + 1]\n    else \n        ...\n    i += 2\n\n# è¿™æ ·å­æˆå¯¹å¤„ç†å°±ä¼šä¼˜åŒ–åˆ°æ€»å…± 3n/2 - 2 æ¬¡æ¯”è¾ƒ\n```\n\n#### TopK\n\n- åœ¨è¿™é‡Œæˆ‘ä»¬æ‰¾ç¬¬ k å°çš„æ•°\n- åˆ©ç”¨å¿«é€Ÿæ’åºçš„partitionæ€æƒ³\n- å½“partitionåˆ†å‡ºæ¥çš„ i < k æ—¶ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬æ‰¾åˆ°ç¬¬ i å°çš„æ•°ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ i + 1 ~ nä¸­æ‰¾ç¬¬kå°çš„æ•°ã€‚å½“ i > k æ—¶ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ 1 ~ i - 1ä¸­æ‰¾ç¬¬kå°çš„æ•°ã€‚\n- å¦‚æœ i == k è¯´æ˜åˆšå¥½æ‰¾åˆ°\n- partition çš„æ€æƒ³å°±æ˜¯è®© i å·¦è¾¹çš„æ•°éƒ½å°äº i å³è¾¹çš„æ•°éƒ½å¤§äº i ï¼Œä¸care i å·¦å³ä¸¤è¾¹å†…éƒ¨çš„é¡ºåºï¼Œåªcare i çš„ä½ç½®ã€‚\n\n**æœŸæœ›æ—¶é—´å¤æ‚åº¦**ä¸ºO(n)ï¼Œå‡è®¾æ¯æ¬¡éƒ½æ˜¯åˆšå¥½åˆ†åŠ, æœ‰å¯èƒ½è¿˜æ›´å° T(n) + T(n/2) + T(n/4) +... T(1) ä¹Ÿå°±æ˜¯ç­‰ç§¯æ•°åˆ—æ±‚å’Œä¸º T(2n) æ‰€ä»¥ä¸ºO(n)\n\n**æœ€åæƒ…å†µ**ä¸ºO(n^2)ï¼Œå¦‚æœå¾ˆä¸å¹¸æ¯æ¬¡éƒ½æ˜¯æ‰¾åˆ°ä¸€ç»„çš„æœ€å¤§å…ƒç´ è¿›è¡Œpartition å°±ä¼šé€ æˆ T(n) + T(n - 1) + T(n - 2) + .. T(1) çš„æƒ…å†µ æœ€åä¸ºT(n^2),æ‰€ä»¥ç”¨randomåˆ’åˆ†æ¥å°½å¯èƒ½åœ°é¿å…è¯¥æƒ…å†µ\n\n**ä¼ªä»£ç **:ç®—æ³•å¯¼è®ºä¸­ç¬¬ä¸ƒç« çš„å¿«æ’çš„partitionååˆ†ä¼˜é›…ï¼Œå¯ä»¥çœ‹çœ‹\n```c++\n#include <iostream>\n#include <vector>\n\nint RandomPartition(std::vector<int> &nums, int l, int r)\n{\n    int q = rand()%(r - l + 1) + l;\n    std::swap(nums[q],nums[r]);\n    auto x = nums[r];\n    int i = l - 1;\n    for (int j = l; j < r; ++j)\n    {\n        if (nums[j] <= x)\n            std::swap(nums[++i], nums[j]);\n    }\n    std::swap(nums[i + 1], nums[r]);\n    return i;\n}\n\nint TopK(std::vector<int> &nums, int l, int r, int k)\n{\n    int i = RandomPartition(nums, l, r);\n    if (i == k)\n        return nums[i];\n    else\n        return i < k ? TopK(nums, i + 1, r, k) : TopK(nums, l, i - 1, k);\n}\nint main()\n{\n    srand(time(0));\n    std::vector<int> nums{2, 8, 7, 1, 3, 5, 6, 4};\n\n    int ans = TopK(nums, 0, nums.size() - 1, 3);\n    std::cout << ans;\n    return 0;\n}\n```","slug":"LRU-TopK","published":1,"updated":"2024-01-07T07:46:23.417Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clr4d2ju00005gwv061yv00wy","content":"<h3 id=\"LRU\"><a href=\"#LRU\" class=\"headerlink\" title=\"LRU\"></a>LRU</h3><blockquote>\n<p>æœ€è¿‘æœ€å°‘ä½¿ç”¨(Least Recently Used) ï¼ŒåŠ å…¥æ–°çš„å°†æœ€å°‘ä½¿ç”¨çš„å…ƒç´ æ·˜æ±°æ‰</p>\n</blockquote>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230526231747.png\"></p>\n<p>ä¸¤ç§æ“ä½œï¼š</p>\n<ul>\n<li>å½“è®¿é—®æ—¶ï¼Œå¦‚æœæœ‰å°±å°†è®¿é—®çš„æŒªåˆ°å¤´</li>\n<li>å½“åŠ å…¥æ—¶ï¼Œå°†æ–°çš„æŒªåˆ°å¤´ï¼Œå¦‚æœé“¾è¡¨æ»¡äº†ï¼Œå°†å°¾ç§»é™¤</li>\n</ul>\n<p>O(1)æ“ä½œå¤´å°¾å…ƒç´ ï¼Œç”¨åŒå‘é“¾è¡¨ï¼ŒO(1)æ—¶é—´è®¿é—®ç”¨å“ˆå¸Œè¡¨</p>\n<p><strong>æ‰‹æ“åŒå‘é“¾è¡¨å®ç°</strong>:</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">LRUCache</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"keyword\">struct</span> <span class=\"title class_\">DLNode</span>&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> key,value;</span><br><span class=\"line\">        DLNode* prev,*post;</span><br><span class=\"line\">        <span class=\"built_in\">DLNode</span>(<span class=\"type\">int</span> k, <span class=\"type\">int</span> v): <span class=\"built_in\">key</span>(k),<span class=\"built_in\">value</span>(v),<span class=\"built_in\">prev</span>(<span class=\"literal\">nullptr</span>),<span class=\"built_in\">post</span>(<span class=\"literal\">nullptr</span>)&#123;&#125;</span><br><span class=\"line\">    &#125;*head,*tail;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"type\">int</span> capacity;</span><br><span class=\"line\">    unordered_map&lt;<span class=\"type\">int</span>,DLNode*&gt; hashmap;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"built_in\">LRUCache</span>(<span class=\"type\">int</span> capacity):<span class=\"built_in\">capacity</span>(capacity) &#123;</span><br><span class=\"line\">        head = <span class=\"keyword\">new</span> <span class=\"built_in\">DLNode</span>(<span class=\"number\">-1</span>,<span class=\"number\">-1</span>);</span><br><span class=\"line\">        tail = <span class=\"keyword\">new</span> <span class=\"built_in\">DLNode</span>(<span class=\"number\">-1</span>,<span class=\"number\">-1</span>);</span><br><span class=\"line\">        head-&gt;post = tail;</span><br><span class=\"line\">        tail-&gt;prev = head;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">remove</span><span class=\"params\">(DLNode* cur)</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        cur-&gt;post-&gt;prev = cur-&gt;prev;</span><br><span class=\"line\">        cur-&gt;prev-&gt;post = cur-&gt;post;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">insert</span><span class=\"params\">(DLNode* cur)</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        cur-&gt;post = head-&gt;post;</span><br><span class=\"line\">        cur-&gt;prev = head;</span><br><span class=\"line\">        head-&gt;post-&gt;prev = cur;</span><br><span class=\"line\">        head-&gt;post = cur;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">get</span><span class=\"params\">(<span class=\"type\">int</span> key)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(hashmap.<span class=\"built_in\">count</span>(key) == <span class=\"number\">0</span>) <span class=\"keyword\">return</span> <span class=\"number\">-1</span>;</span><br><span class=\"line\">        <span class=\"keyword\">auto</span> cur = hashmap[key];</span><br><span class=\"line\">        <span class=\"built_in\">remove</span>(cur);</span><br><span class=\"line\">        <span class=\"built_in\">insert</span>(cur);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> cur-&gt;value;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">put</span><span class=\"params\">(<span class=\"type\">int</span> key, <span class=\"type\">int</span> value)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(hashmap.<span class=\"built_in\">count</span>(key) &gt; <span class=\"number\">0</span>)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">auto</span> cur = hashmap[key];</span><br><span class=\"line\">            cur-&gt;value = value;</span><br><span class=\"line\">            <span class=\"built_in\">remove</span>(cur);</span><br><span class=\"line\">            <span class=\"built_in\">insert</span>(cur);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">else</span> </span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(hashmap.<span class=\"built_in\">size</span>() == capacity)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">auto</span> leastUse = tail-&gt;prev;</span><br><span class=\"line\">                <span class=\"built_in\">remove</span>(leastUse);</span><br><span class=\"line\">                hashmap.<span class=\"built_in\">erase</span>(leastUse-&gt;key);</span><br><span class=\"line\">                <span class=\"keyword\">delete</span> leastUse;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">auto</span> cur = <span class=\"keyword\">new</span> <span class=\"built_in\">DLNode</span>(key,value);</span><br><span class=\"line\">            hashmap[key] = cur;</span><br><span class=\"line\">            <span class=\"built_in\">insert</span>(cur);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p><strong>ä¼˜é›…çš„STLç‰ˆæœ¬</strong>:</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">LRUCache</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"built_in\">LRUCache</span>(<span class=\"type\">int</span> capacity): <span class=\"built_in\">capacity</span>(capacity) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">get</span><span class=\"params\">(<span class=\"type\">int</span> key)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(map.<span class=\"built_in\">find</span>(key) == map.<span class=\"built_in\">end</span>()) <span class=\"keyword\">return</span> <span class=\"number\">-1</span>;</span><br><span class=\"line\">        <span class=\"keyword\">auto</span> key_value = *map[key];</span><br><span class=\"line\">        cache.<span class=\"built_in\">erase</span>(map[key]);</span><br><span class=\"line\">        cache.<span class=\"built_in\">push_front</span>(key_value);</span><br><span class=\"line\">        map[key] = cache.<span class=\"built_in\">begin</span>();</span><br><span class=\"line\">        <span class=\"keyword\">return</span> key_value.second;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">put</span><span class=\"params\">(<span class=\"type\">int</span> key, <span class=\"type\">int</span> value)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(map.<span class=\"built_in\">find</span>(key) != map.<span class=\"built_in\">end</span>()) cache.<span class=\"built_in\">erase</span>(map[key]);</span><br><span class=\"line\">        <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(cache.<span class=\"built_in\">size</span>() == capacity)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            map.<span class=\"built_in\">erase</span>(cache.<span class=\"built_in\">back</span>().first);</span><br><span class=\"line\">            cache.<span class=\"built_in\">pop_back</span>();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        cache.<span class=\"built_in\">push_front</span>(&#123;key,value&#125;);</span><br><span class=\"line\">        map[key] = cache.<span class=\"built_in\">begin</span>();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"><span class=\"keyword\">private</span>:</span><br><span class=\"line\">    <span class=\"type\">int</span> capacity;</span><br><span class=\"line\">    list&lt;pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt;&gt; cache;</span><br><span class=\"line\">    unordered_map&lt;<span class=\"type\">int</span>,list&lt;pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt;&gt;::iterator&gt; map;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"TopK\"><a href=\"#TopK\" class=\"headerlink\" title=\"TopK\"></a>TopK</h3><blockquote>\n<p>å­—é¢æ„æ€ï¼Œå°±æ˜¯æ±‚æ— åºæ•°ç»„çš„ç¬¬kå¤§çš„æ•°</p>\n</blockquote>\n<h4 id=\"æœ€å¤§å€¼æœ€å°å€¼\"><a href=\"#æœ€å¤§å€¼æœ€å°å€¼\" class=\"headerlink\" title=\"æœ€å¤§å€¼æœ€å°å€¼\"></a>æœ€å¤§å€¼æœ€å°å€¼</h4><p>å…ˆä»å¯»æ‰¾æœ€å¤§å€¼æœ€å°å€¼å¼€å§‹ï¼Œç›´æ¥éå†ä¹Ÿå°±æ˜¯O(n)çš„æ—¶é—´å¤æ‚åº¦ã€‚</p>\n<p><strong>ä¼ªä»£ç </strong>ï¼š</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">min = A[1]</span><br><span class=\"line\">for i = 2 to A.length </span><br><span class=\"line\">    if min &gt; A[i] min = A[i]</span><br><span class=\"line\"></span><br><span class=\"line\"># ä¸Šè¿°ä¼ªä»£ç ä¸€çœ¼O(n)</span><br><span class=\"line\"># å¦‚æœæ±‚åŒæ—¶æœ€å¤§æœ€å°å€¼ï¼Œå¯ä»¥ç¨å¾®ä¼˜åŒ–ä¸€ä¸‹ï¼Œä»æ¯ä¸ªæ•°ä¸min å’Œ max æ¯”è¾ƒï¼Œæ€»å…±ä¸€è½®æ˜¯ä¸¤æ¬¡çš„æ¯”è¾ƒï¼Œä¼˜åŒ–åˆ°3/2æ¬¡æ¯”è¾ƒ</span><br><span class=\"line\"></span><br><span class=\"line\">min = A[1] vs A[2] </span><br><span class=\"line\">max = A[1] vs A[2]</span><br><span class=\"line\">for i = 3 to A.length </span><br><span class=\"line\">    if(A[i] &lt; A[i + 1])</span><br><span class=\"line\">        if(min &gt; A[i]) min = A[i]</span><br><span class=\"line\">        if(max &lt; A[i + 1]) max = A[i + 1]</span><br><span class=\"line\">    else </span><br><span class=\"line\">        ...</span><br><span class=\"line\">    i += 2</span><br><span class=\"line\"></span><br><span class=\"line\"># è¿™æ ·å­æˆå¯¹å¤„ç†å°±ä¼šä¼˜åŒ–åˆ°æ€»å…± 3n/2 - 2 æ¬¡æ¯”è¾ƒ</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"TopK-1\"><a href=\"#TopK-1\" class=\"headerlink\" title=\"TopK\"></a>TopK</h4><ul>\n<li>åœ¨è¿™é‡Œæˆ‘ä»¬æ‰¾ç¬¬ k å°çš„æ•°</li>\n<li>åˆ©ç”¨å¿«é€Ÿæ’åºçš„partitionæ€æƒ³</li>\n<li>å½“partitionåˆ†å‡ºæ¥çš„ i &lt; k æ—¶ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬æ‰¾åˆ°ç¬¬ i å°çš„æ•°ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ i + 1 ~ nä¸­æ‰¾ç¬¬kå°çš„æ•°ã€‚å½“ i &gt; k æ—¶ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ 1 ~ i - 1ä¸­æ‰¾ç¬¬kå°çš„æ•°ã€‚</li>\n<li>å¦‚æœ i &#x3D;&#x3D; k è¯´æ˜åˆšå¥½æ‰¾åˆ°</li>\n<li>partition çš„æ€æƒ³å°±æ˜¯è®© i å·¦è¾¹çš„æ•°éƒ½å°äº i å³è¾¹çš„æ•°éƒ½å¤§äº i ï¼Œä¸care i å·¦å³ä¸¤è¾¹å†…éƒ¨çš„é¡ºåºï¼Œåªcare i çš„ä½ç½®ã€‚</li>\n</ul>\n<p><strong>æœŸæœ›æ—¶é—´å¤æ‚åº¦</strong>ä¸ºO(n)ï¼Œå‡è®¾æ¯æ¬¡éƒ½æ˜¯åˆšå¥½åˆ†åŠ, æœ‰å¯èƒ½è¿˜æ›´å° T(n) + T(n&#x2F;2) + T(n&#x2F;4) +â€¦ T(1) ä¹Ÿå°±æ˜¯ç­‰ç§¯æ•°åˆ—æ±‚å’Œä¸º T(2n) æ‰€ä»¥ä¸ºO(n)</p>\n<p><strong>æœ€åæƒ…å†µ</strong>ä¸ºO(n^2)ï¼Œå¦‚æœå¾ˆä¸å¹¸æ¯æ¬¡éƒ½æ˜¯æ‰¾åˆ°ä¸€ç»„çš„æœ€å¤§å…ƒç´ è¿›è¡Œpartition å°±ä¼šé€ æˆ T(n) + T(n - 1) + T(n - 2) + .. T(1) çš„æƒ…å†µ æœ€åä¸ºT(n^2),æ‰€ä»¥ç”¨randomåˆ’åˆ†æ¥å°½å¯èƒ½åœ°é¿å…è¯¥æƒ…å†µ</p>\n<p><strong>ä¼ªä»£ç </strong>:ç®—æ³•å¯¼è®ºä¸­ç¬¬ä¸ƒç« çš„å¿«æ’çš„partitionååˆ†ä¼˜é›…ï¼Œå¯ä»¥çœ‹çœ‹</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;iostream&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;vector&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">RandomPartition</span><span class=\"params\">(std::vector&lt;<span class=\"type\">int</span>&gt; &amp;nums, <span class=\"type\">int</span> l, <span class=\"type\">int</span> r)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> q = <span class=\"built_in\">rand</span>()%(r - l + <span class=\"number\">1</span>) + l;</span><br><span class=\"line\">    std::<span class=\"built_in\">swap</span>(nums[q],nums[r]);</span><br><span class=\"line\">    <span class=\"keyword\">auto</span> x = nums[r];</span><br><span class=\"line\">    <span class=\"type\">int</span> i = l - <span class=\"number\">1</span>;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> j = l; j &lt; r; ++j)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (nums[j] &lt;= x)</span><br><span class=\"line\">            std::<span class=\"built_in\">swap</span>(nums[++i], nums[j]);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    std::<span class=\"built_in\">swap</span>(nums[i + <span class=\"number\">1</span>], nums[r]);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> i;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">TopK</span><span class=\"params\">(std::vector&lt;<span class=\"type\">int</span>&gt; &amp;nums, <span class=\"type\">int</span> l, <span class=\"type\">int</span> r, <span class=\"type\">int</span> k)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> i = <span class=\"built_in\">RandomPartition</span>(nums, l, r);</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (i == k)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> nums[i];</span><br><span class=\"line\">    <span class=\"keyword\">else</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> i &lt; k ? <span class=\"built_in\">TopK</span>(nums, i + <span class=\"number\">1</span>, r, k) : <span class=\"built_in\">TopK</span>(nums, l, i - <span class=\"number\">1</span>, k);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">srand</span>(<span class=\"built_in\">time</span>(<span class=\"number\">0</span>));</span><br><span class=\"line\">    std::vector&lt;<span class=\"type\">int</span>&gt; nums&#123;<span class=\"number\">2</span>, <span class=\"number\">8</span>, <span class=\"number\">7</span>, <span class=\"number\">1</span>, <span class=\"number\">3</span>, <span class=\"number\">5</span>, <span class=\"number\">6</span>, <span class=\"number\">4</span>&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"type\">int</span> ans = <span class=\"built_in\">TopK</span>(nums, <span class=\"number\">0</span>, nums.<span class=\"built_in\">size</span>() - <span class=\"number\">1</span>, <span class=\"number\">3</span>);</span><br><span class=\"line\">    std::cout &lt;&lt; ans;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>","site":{"data":{}},"length":3204,"excerpt":"","more":"<h3 id=\"LRU\"><a href=\"#LRU\" class=\"headerlink\" title=\"LRU\"></a>LRU</h3><blockquote>\n<p>æœ€è¿‘æœ€å°‘ä½¿ç”¨(Least Recently Used) ï¼ŒåŠ å…¥æ–°çš„å°†æœ€å°‘ä½¿ç”¨çš„å…ƒç´ æ·˜æ±°æ‰</p>\n</blockquote>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230526231747.png\"></p>\n<p>ä¸¤ç§æ“ä½œï¼š</p>\n<ul>\n<li>å½“è®¿é—®æ—¶ï¼Œå¦‚æœæœ‰å°±å°†è®¿é—®çš„æŒªåˆ°å¤´</li>\n<li>å½“åŠ å…¥æ—¶ï¼Œå°†æ–°çš„æŒªåˆ°å¤´ï¼Œå¦‚æœé“¾è¡¨æ»¡äº†ï¼Œå°†å°¾ç§»é™¤</li>\n</ul>\n<p>O(1)æ“ä½œå¤´å°¾å…ƒç´ ï¼Œç”¨åŒå‘é“¾è¡¨ï¼ŒO(1)æ—¶é—´è®¿é—®ç”¨å“ˆå¸Œè¡¨</p>\n<p><strong>æ‰‹æ“åŒå‘é“¾è¡¨å®ç°</strong>:</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">LRUCache</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"keyword\">struct</span> <span class=\"title class_\">DLNode</span>&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> key,value;</span><br><span class=\"line\">        DLNode* prev,*post;</span><br><span class=\"line\">        <span class=\"built_in\">DLNode</span>(<span class=\"type\">int</span> k, <span class=\"type\">int</span> v): <span class=\"built_in\">key</span>(k),<span class=\"built_in\">value</span>(v),<span class=\"built_in\">prev</span>(<span class=\"literal\">nullptr</span>),<span class=\"built_in\">post</span>(<span class=\"literal\">nullptr</span>)&#123;&#125;</span><br><span class=\"line\">    &#125;*head,*tail;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"type\">int</span> capacity;</span><br><span class=\"line\">    unordered_map&lt;<span class=\"type\">int</span>,DLNode*&gt; hashmap;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"built_in\">LRUCache</span>(<span class=\"type\">int</span> capacity):<span class=\"built_in\">capacity</span>(capacity) &#123;</span><br><span class=\"line\">        head = <span class=\"keyword\">new</span> <span class=\"built_in\">DLNode</span>(<span class=\"number\">-1</span>,<span class=\"number\">-1</span>);</span><br><span class=\"line\">        tail = <span class=\"keyword\">new</span> <span class=\"built_in\">DLNode</span>(<span class=\"number\">-1</span>,<span class=\"number\">-1</span>);</span><br><span class=\"line\">        head-&gt;post = tail;</span><br><span class=\"line\">        tail-&gt;prev = head;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">remove</span><span class=\"params\">(DLNode* cur)</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        cur-&gt;post-&gt;prev = cur-&gt;prev;</span><br><span class=\"line\">        cur-&gt;prev-&gt;post = cur-&gt;post;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">insert</span><span class=\"params\">(DLNode* cur)</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        cur-&gt;post = head-&gt;post;</span><br><span class=\"line\">        cur-&gt;prev = head;</span><br><span class=\"line\">        head-&gt;post-&gt;prev = cur;</span><br><span class=\"line\">        head-&gt;post = cur;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">get</span><span class=\"params\">(<span class=\"type\">int</span> key)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(hashmap.<span class=\"built_in\">count</span>(key) == <span class=\"number\">0</span>) <span class=\"keyword\">return</span> <span class=\"number\">-1</span>;</span><br><span class=\"line\">        <span class=\"keyword\">auto</span> cur = hashmap[key];</span><br><span class=\"line\">        <span class=\"built_in\">remove</span>(cur);</span><br><span class=\"line\">        <span class=\"built_in\">insert</span>(cur);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> cur-&gt;value;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">put</span><span class=\"params\">(<span class=\"type\">int</span> key, <span class=\"type\">int</span> value)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(hashmap.<span class=\"built_in\">count</span>(key) &gt; <span class=\"number\">0</span>)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">auto</span> cur = hashmap[key];</span><br><span class=\"line\">            cur-&gt;value = value;</span><br><span class=\"line\">            <span class=\"built_in\">remove</span>(cur);</span><br><span class=\"line\">            <span class=\"built_in\">insert</span>(cur);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">else</span> </span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(hashmap.<span class=\"built_in\">size</span>() == capacity)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">auto</span> leastUse = tail-&gt;prev;</span><br><span class=\"line\">                <span class=\"built_in\">remove</span>(leastUse);</span><br><span class=\"line\">                hashmap.<span class=\"built_in\">erase</span>(leastUse-&gt;key);</span><br><span class=\"line\">                <span class=\"keyword\">delete</span> leastUse;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">auto</span> cur = <span class=\"keyword\">new</span> <span class=\"built_in\">DLNode</span>(key,value);</span><br><span class=\"line\">            hashmap[key] = cur;</span><br><span class=\"line\">            <span class=\"built_in\">insert</span>(cur);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p><strong>ä¼˜é›…çš„STLç‰ˆæœ¬</strong>:</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">LRUCache</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"built_in\">LRUCache</span>(<span class=\"type\">int</span> capacity): <span class=\"built_in\">capacity</span>(capacity) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">get</span><span class=\"params\">(<span class=\"type\">int</span> key)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(map.<span class=\"built_in\">find</span>(key) == map.<span class=\"built_in\">end</span>()) <span class=\"keyword\">return</span> <span class=\"number\">-1</span>;</span><br><span class=\"line\">        <span class=\"keyword\">auto</span> key_value = *map[key];</span><br><span class=\"line\">        cache.<span class=\"built_in\">erase</span>(map[key]);</span><br><span class=\"line\">        cache.<span class=\"built_in\">push_front</span>(key_value);</span><br><span class=\"line\">        map[key] = cache.<span class=\"built_in\">begin</span>();</span><br><span class=\"line\">        <span class=\"keyword\">return</span> key_value.second;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">put</span><span class=\"params\">(<span class=\"type\">int</span> key, <span class=\"type\">int</span> value)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(map.<span class=\"built_in\">find</span>(key) != map.<span class=\"built_in\">end</span>()) cache.<span class=\"built_in\">erase</span>(map[key]);</span><br><span class=\"line\">        <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(cache.<span class=\"built_in\">size</span>() == capacity)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            map.<span class=\"built_in\">erase</span>(cache.<span class=\"built_in\">back</span>().first);</span><br><span class=\"line\">            cache.<span class=\"built_in\">pop_back</span>();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        cache.<span class=\"built_in\">push_front</span>(&#123;key,value&#125;);</span><br><span class=\"line\">        map[key] = cache.<span class=\"built_in\">begin</span>();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"><span class=\"keyword\">private</span>:</span><br><span class=\"line\">    <span class=\"type\">int</span> capacity;</span><br><span class=\"line\">    list&lt;pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt;&gt; cache;</span><br><span class=\"line\">    unordered_map&lt;<span class=\"type\">int</span>,list&lt;pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt;&gt;::iterator&gt; map;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"TopK\"><a href=\"#TopK\" class=\"headerlink\" title=\"TopK\"></a>TopK</h3><blockquote>\n<p>å­—é¢æ„æ€ï¼Œå°±æ˜¯æ±‚æ— åºæ•°ç»„çš„ç¬¬kå¤§çš„æ•°</p>\n</blockquote>\n<h4 id=\"æœ€å¤§å€¼æœ€å°å€¼\"><a href=\"#æœ€å¤§å€¼æœ€å°å€¼\" class=\"headerlink\" title=\"æœ€å¤§å€¼æœ€å°å€¼\"></a>æœ€å¤§å€¼æœ€å°å€¼</h4><p>å…ˆä»å¯»æ‰¾æœ€å¤§å€¼æœ€å°å€¼å¼€å§‹ï¼Œç›´æ¥éå†ä¹Ÿå°±æ˜¯O(n)çš„æ—¶é—´å¤æ‚åº¦ã€‚</p>\n<p><strong>ä¼ªä»£ç </strong>ï¼š</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">min = A[1]</span><br><span class=\"line\">for i = 2 to A.length </span><br><span class=\"line\">    if min &gt; A[i] min = A[i]</span><br><span class=\"line\"></span><br><span class=\"line\"># ä¸Šè¿°ä¼ªä»£ç ä¸€çœ¼O(n)</span><br><span class=\"line\"># å¦‚æœæ±‚åŒæ—¶æœ€å¤§æœ€å°å€¼ï¼Œå¯ä»¥ç¨å¾®ä¼˜åŒ–ä¸€ä¸‹ï¼Œä»æ¯ä¸ªæ•°ä¸min å’Œ max æ¯”è¾ƒï¼Œæ€»å…±ä¸€è½®æ˜¯ä¸¤æ¬¡çš„æ¯”è¾ƒï¼Œä¼˜åŒ–åˆ°3/2æ¬¡æ¯”è¾ƒ</span><br><span class=\"line\"></span><br><span class=\"line\">min = A[1] vs A[2] </span><br><span class=\"line\">max = A[1] vs A[2]</span><br><span class=\"line\">for i = 3 to A.length </span><br><span class=\"line\">    if(A[i] &lt; A[i + 1])</span><br><span class=\"line\">        if(min &gt; A[i]) min = A[i]</span><br><span class=\"line\">        if(max &lt; A[i + 1]) max = A[i + 1]</span><br><span class=\"line\">    else </span><br><span class=\"line\">        ...</span><br><span class=\"line\">    i += 2</span><br><span class=\"line\"></span><br><span class=\"line\"># è¿™æ ·å­æˆå¯¹å¤„ç†å°±ä¼šä¼˜åŒ–åˆ°æ€»å…± 3n/2 - 2 æ¬¡æ¯”è¾ƒ</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"TopK-1\"><a href=\"#TopK-1\" class=\"headerlink\" title=\"TopK\"></a>TopK</h4><ul>\n<li>åœ¨è¿™é‡Œæˆ‘ä»¬æ‰¾ç¬¬ k å°çš„æ•°</li>\n<li>åˆ©ç”¨å¿«é€Ÿæ’åºçš„partitionæ€æƒ³</li>\n<li>å½“partitionåˆ†å‡ºæ¥çš„ i &lt; k æ—¶ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬æ‰¾åˆ°ç¬¬ i å°çš„æ•°ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ i + 1 ~ nä¸­æ‰¾ç¬¬kå°çš„æ•°ã€‚å½“ i &gt; k æ—¶ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ 1 ~ i - 1ä¸­æ‰¾ç¬¬kå°çš„æ•°ã€‚</li>\n<li>å¦‚æœ i &#x3D;&#x3D; k è¯´æ˜åˆšå¥½æ‰¾åˆ°</li>\n<li>partition çš„æ€æƒ³å°±æ˜¯è®© i å·¦è¾¹çš„æ•°éƒ½å°äº i å³è¾¹çš„æ•°éƒ½å¤§äº i ï¼Œä¸care i å·¦å³ä¸¤è¾¹å†…éƒ¨çš„é¡ºåºï¼Œåªcare i çš„ä½ç½®ã€‚</li>\n</ul>\n<p><strong>æœŸæœ›æ—¶é—´å¤æ‚åº¦</strong>ä¸ºO(n)ï¼Œå‡è®¾æ¯æ¬¡éƒ½æ˜¯åˆšå¥½åˆ†åŠ, æœ‰å¯èƒ½è¿˜æ›´å° T(n) + T(n&#x2F;2) + T(n&#x2F;4) +â€¦ T(1) ä¹Ÿå°±æ˜¯ç­‰ç§¯æ•°åˆ—æ±‚å’Œä¸º T(2n) æ‰€ä»¥ä¸ºO(n)</p>\n<p><strong>æœ€åæƒ…å†µ</strong>ä¸ºO(n^2)ï¼Œå¦‚æœå¾ˆä¸å¹¸æ¯æ¬¡éƒ½æ˜¯æ‰¾åˆ°ä¸€ç»„çš„æœ€å¤§å…ƒç´ è¿›è¡Œpartition å°±ä¼šé€ æˆ T(n) + T(n - 1) + T(n - 2) + .. T(1) çš„æƒ…å†µ æœ€åä¸ºT(n^2),æ‰€ä»¥ç”¨randomåˆ’åˆ†æ¥å°½å¯èƒ½åœ°é¿å…è¯¥æƒ…å†µ</p>\n<p><strong>ä¼ªä»£ç </strong>:ç®—æ³•å¯¼è®ºä¸­ç¬¬ä¸ƒç« çš„å¿«æ’çš„partitionååˆ†ä¼˜é›…ï¼Œå¯ä»¥çœ‹çœ‹</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;iostream&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;vector&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">RandomPartition</span><span class=\"params\">(std::vector&lt;<span class=\"type\">int</span>&gt; &amp;nums, <span class=\"type\">int</span> l, <span class=\"type\">int</span> r)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> q = <span class=\"built_in\">rand</span>()%(r - l + <span class=\"number\">1</span>) + l;</span><br><span class=\"line\">    std::<span class=\"built_in\">swap</span>(nums[q],nums[r]);</span><br><span class=\"line\">    <span class=\"keyword\">auto</span> x = nums[r];</span><br><span class=\"line\">    <span class=\"type\">int</span> i = l - <span class=\"number\">1</span>;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> j = l; j &lt; r; ++j)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (nums[j] &lt;= x)</span><br><span class=\"line\">            std::<span class=\"built_in\">swap</span>(nums[++i], nums[j]);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    std::<span class=\"built_in\">swap</span>(nums[i + <span class=\"number\">1</span>], nums[r]);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> i;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">TopK</span><span class=\"params\">(std::vector&lt;<span class=\"type\">int</span>&gt; &amp;nums, <span class=\"type\">int</span> l, <span class=\"type\">int</span> r, <span class=\"type\">int</span> k)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> i = <span class=\"built_in\">RandomPartition</span>(nums, l, r);</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (i == k)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> nums[i];</span><br><span class=\"line\">    <span class=\"keyword\">else</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> i &lt; k ? <span class=\"built_in\">TopK</span>(nums, i + <span class=\"number\">1</span>, r, k) : <span class=\"built_in\">TopK</span>(nums, l, i - <span class=\"number\">1</span>, k);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">srand</span>(<span class=\"built_in\">time</span>(<span class=\"number\">0</span>));</span><br><span class=\"line\">    std::vector&lt;<span class=\"type\">int</span>&gt; nums&#123;<span class=\"number\">2</span>, <span class=\"number\">8</span>, <span class=\"number\">7</span>, <span class=\"number\">1</span>, <span class=\"number\">3</span>, <span class=\"number\">5</span>, <span class=\"number\">6</span>, <span class=\"number\">4</span>&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"type\">int</span> ans = <span class=\"built_in\">TopK</span>(nums, <span class=\"number\">0</span>, nums.<span class=\"built_in\">size</span>() - <span class=\"number\">1</span>, <span class=\"number\">3</span>);</span><br><span class=\"line\">    std::cout &lt;&lt; ans;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>"},{"title":"Sortings","date":"2023-02-04T05:03:21.000Z","_content":"\n### å‰è¨€\n\nç®—æ˜¯æ¯”è¾ƒç³»ç»Ÿçš„é‡æ–°å­¦ä¸€éç®—æ³•ï¼Œé¦–å…ˆå­¦ç®—æ³•ï¼Œç¬¬ä¸€ä½æ¥è§¦çš„å°±æ˜¯æ’åºç®—æ³•äº†ã€‚è™½ç„¶å¾ˆä¹…ä»¥å‰ç”¨çš„å°±æ¯”è¾ƒç†Ÿäº†ï¼Œå­¦ä¹ èµ·æ¥æ²¡ä»€ä¹ˆéš¾åº¦ã€‚ä¸è¿‡ï¼Œé€šè¿‡çœ‹githubé‚£äº›å¤§ç‰›å†™çš„ä»£ç ï¼ŒåŒæ ·å—ç›ŠåŒªæµ…ï¼Œåœ¨ä¸€äº›ä»£ç å¤„ç†ä¸Šç®—æ˜¯ååˆ†ä¼˜ç§€äº†ï¼Œä¹Ÿå­¦åˆ°äº†ä¸€äº›æµ‹è¯•æ–¹æ³•â€”â€”å•å…ƒæµ‹è¯•çš„AAAè§„åˆ™ï¼ŒArrange,Act,Assertã€‚åŒæ—¶è¿˜åœ¨è‡ªå·±ç¼–å†™ä¿®æ”¹ä»£ç æ—¶å­¦ä¸Šä¸€äº›githubå·¥ä½œæµç¨‹ï¼Œè™½ç„¶åªæ˜¯å­¦çš„æ¯›çš®ï¼Œä¸è¿‡å¤Ÿç”¨å°±è¡Œäº†ã€‚\n\n### æ’åºç®—æ³•ä¸Šä½¿ç”¨çš„API\n\næ‰€æœ‰æ’åºç®—æ³•çš„æ¥å£\n\n```csharp\npublic interface IComparisonSorter<T>\n{\n    /// <summary>\n    ///     æ’åºæ–¹æ³•\n    /// </summary>\n    /// <param name=\"array\">éœ€è¦æ’åºçš„æ•°ç»„</param>\n    /// <param name=\"comparer\">æ¯”è¾ƒç”¨çš„Comparer <paramref name=\"array\" />.</param>\n    void Sort(T[] array, IComparer<T> comparer);\n}\n```\n\ncompareræ¥å£çš„æ¯”è¾ƒè§„åˆ™\n\n```csharp\ninternal class IntComparer : IComparer<int>\n{\n    int IComparer<int>.Compare(int x, int y)\n    {\n        return x.CompareTo(y);\n    }\n\n    // public int Compare(int x, int y) => x.CompareTo(y);\n}\n```\n\n### å†’æ³¡æ’åº\n\nå†’æ³¡æ’åºç®—æ˜¯æœ€ç®€å•çš„æ’åºç®—æ³•ï¼Œä¸¤ä¸¤è¿›è¡Œæ¯”è¾ƒäº¤æ¢ç›´åˆ°ä¸éœ€è¦è¢«äº¤æ¢\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/202302041354888.gif)\n\n```csharp\n/// <summary>\n///     å†’æ³¡æ’åºç±»\n/// </summary>\n/// <typeparam name=\"T\">æ•°ç»„å…ƒç´ ç±»å‹</typeparam>\npublic class BubbleSorter<T> : IComparisonSorter<T>\n{\n    /// <summary>\n    ///     æ—¶é—´å¤æ‚åº¦ O(n^2)\n    ///     ç©ºé—´å¤æ‚åº¦ O(1)\n    ///     åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬æŒ‰ç…§å‡åºæ’åº\n    ///     æ¯”è¾ƒç›¸é‚»å…ƒç´ ï¼Œå¤§çš„æ”¾åœ¨åé¢\n    ///     è¿™æ ·å­æ¯æ¬¡æœ€åä¸€ä¸ªæ˜¯æœ€å¤§å…ƒç´ \n    ///     åœ¨ä¸åŒ…å«æœ€å¤§å…ƒç´ çš„èŒƒå›´é‡å¤æ­¥éª¤ï¼Œç›´åˆ°æ²¡å¾—äº¤æ¢\n    ///     æœ€å¥½æƒ…å†µæ˜¯ N - 1 æ¬¡äº¤æ¢å’Œ 0 æ¬¡äº¤æ¢\n    ///     æœ€åæƒ…å†µæ˜¯ N * (N - 1)/2 æ¬¡äº¤æ¢\n    /// </summary>\n    /// <param name=\"array\">è¦æ’åºçš„æ•°ç»„</param>\n    /// <param name=\"comparer\">æ¯”è¾ƒå™¨</param>\n    public void Sort(T[] array, IComparer<T> comparer)\n    {\n        for (var i = 0; i < array.Length - 1; i++)\n        {\n            var wasChanged = false;\n            for (var j = 0; j < array.Length - i - 1; j++)\n            {\n                if (comparer.Compare(array[j], array[j + 1]) > 0)\n                {\n                    var temp = array[j];\n                        array[j] = array[j + 1];\n                    array[j + 1] = temp;\n                    wasChanged = true;\n                }\n            }\n\n            if (!wasChanged)\n            {\n                break;\n            }\n        }\n    }\n}\n```\n\n### é€‰æ‹©æ’åº\n\né€‰æ‹©æ’åºä¹Ÿæ˜¯ç‰¹åˆ«ç®€å•çš„ç®—æ³•ä¹‹ä¸€ï¼Œå³åœ¨æœªæ’åºçš„æ‰¾åˆ°æœ€å°ï¼ˆå¤§ï¼‰å…ƒç´ æ”¾åœ¨æ’åºåºåˆ—çš„èµ·å§‹ä½ç½®ï¼Œç„¶åé‡å¤æ­¥éª¤ã€‚\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/202302041400592.gif)\n\n```csharp\nnamespace Algorithms.Sorters\n{\n    /// <summary>\n    ///     å®ç°é€‰æ‹©æ’åºçš„ç±»\n    /// </summary>\n    /// <typeparam name=\"T\">æ•°ç»„å…ƒç´ ç±»å‹</typeparam>\n    public class SelectionSorter<T> : IComparisonSorter<T>\n    {\n        /// <summary>\n        ///     æ—¶é—´å¤æ‚åº¦ O(n^2)\n        ///     ç©ºé—´å¤æ‚åº¦ O(1)\n        ///     æ‰¾åˆ°æ•°ç»„æœ€å°å…ƒç´ ï¼Œç„¶åå’Œç¬¬ä¸€ä¸ªä½ç½®äº¤æ¢\n        ///     æŒ‡é’ˆå‘åç§»åŠ¨ä¸€ä½ï¼Œç„¶åå†åœ¨å‰©ä¸‹çš„æ•°ç»„å…ƒç´ æ‰¾å‡ºæœ€å°\n        ///     å¦‚æ­¤å¾€å¤ï¼Œæ€»å…±è¿›è¡Œäº† N æ¬¡äº¤æ¢\n        /// </summary>\n        /// <param name=\"array\">æ’åºæ•°ç»„</param>\n        /// <param name=\"comparer\">æ¯”è¾ƒå™¨</param>\n        public void Sort(T[] array, IComparer<T> comparer)\n        {\n            for (var i = 0; i < array.Length - 1; i++)\n            {\n                var jmin = i;\n                for(var j = i + 1; j < array.Length; j++)\n                {\n                    if(comparer.Compare(array[jmin], array[j]) > 0)\n                    {\n                        jmin = j;\n                    }\n                }\n                var temp = array[i];\n                array[i] = array[jmin];\n                array[jmin] = temp;\n            }\n        }\n    }\n}\n```\n\n### æ’å…¥æ’åº\n\næ’å…¥æ’åºçš„å·¥ä½œåŸç†å°±æ˜¯ä»å‰å¾€åæ‰«æï¼Œå°†æœªæ’åºçš„å…ƒç´ æ’å…¥åˆ°å·²æ’åºå…ƒç´ ä¸­ã€‚\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/202302041408746.gif)\n\n```csharp\nnamespace Algorithms.Sorters\n{\n    /// <summary>\n    ///     å®ç°æ’å…¥æ’åºçš„ç®—æ³•\n    /// </summary>\n    /// <typeparam name=\"T\">æ•°ç»„å…ƒç´ ç±»å‹</typeparam>\n    public class InsertionSorter<T> : IComparisonSorter<T>\n    {\n        /// <summary>\n        ///     æ—¶é—´å¤æ‚åº¦ O(n^2)\n        ///     ç©ºé—´å¤æ‚åº¦ O(1)\n        ///     æˆ‘ä»¬ä¿è¯å½“å‰éœ€è¦æ’åºçš„å…ƒç´ çš„å‰é¢æ˜¯æœ‰åºçš„\n        ///     ç„¶åå°†è¯¥å…ƒç´ æ’å…¥å‰é¢ä¸­\n        ///     ç”±äºå‰é¢æ˜¯æœ‰åºçš„ï¼Œå‡è®¾æ˜¯å‡åº\n        ///     åªè¦æ‰¾åˆ°ç¬¬ä¸€ä¸ªæ¯”å®ƒå°çš„å…ƒç´ æ’å…¥å°±åœæ­¢\n        ///     å¦åˆ™å°±ä¸€ç›´ä¸¤ä¸¤äº¤æ¢ä½ç½®ç›´åˆ°ç¬¬ä¸€ä½\n        ///     å¹³å‡æƒ…å†µä¸‹éœ€è¦ N^2/4 æ¬¡äº¤æ¢\n        ///     æœ€åæƒ…å†µéœ€è¦ N^2/2 æ¬¡äº¤æ¢\n        ///     æœ€å¥½æƒ…å†µéœ€è¦ N - 1 æ¬¡äº¤æ¢ å’Œ 0 æ¬¡äº¤æ¢\n        /// </summary>\n        /// <param name=\"array\">æ’åºæ•°ç»„</param>\n        /// <param name=\"comparer\">æ¯”è¾ƒå™¨</param>\n        public void Sort(T[] array, IComparer<T> comparer)\n        {\n            for (var i = 1; i < array.Length; i++)\n            {\n                for (var j = i; j > 0 && comparer.Compare(array[j], array[j - 1]) < 0; j--)\n                {\n                    var temp = array[j - 1];\n                    array[j - 1] = array[j];\n                    array[j] = temp;\n                }\n            }\n        }\n    }\n}\n```\n\n### å¸Œå°”æ’åº\n\nå¸Œå°”æ’åºæ˜¯ä¼˜åŒ–è¿‡çš„æ’å…¥æ’åºï¼Œç›¸å¯¹äºæ’å…¥æ’åºåªèƒ½ä¸€å°æ­¥ä¸€å°æ­¥çš„äº¤æ¢ï¼Œå¸Œå°”æ’åºå¯ä»¥ä¸€å¤§æ­¥ä¸€å¤§æ­¥çš„äº¤æ¢ï¼Œå–å†³äºå½“å‰çš„æ­¥é•¿ã€‚\n\n```csharp\nnamespace Algorithms.Sorters\n{\n    /// <summary>\n    ///     å®ç°å¸Œå°”æ’åºçš„ç±»\n    /// </summary>\n    /// <typeparam name=\"T\">æ•°ç»„å…ƒç´ ç±»å‹</typeparam>\n    public class ShellSorter<T> : IComparisonSorter<T>\n    {\n        /// <summary>\n        ///     å¸Œå°”æ’åºçš„æœ€åæ—¶é—´å¤æ‚åº¦å–å†³äºstep\n        ///     åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ä½¿ç”¨æ¯”è¾ƒæ™®éçš„ 1,4,13,40 æ•°åˆ—\n        ///     è‹¥ä½¿ç”¨ å¯¹æ•°ç»„é•¿åº¦è¿›è¡Œå¯¹åŠå–ï¼Œæœ€åæ—¶é—´å¤æ‚åº¦å¤§æ¦‚ä¸º O(n^2)\n        ///     3*n+1 å¤§æ¦‚åœ¨ O(n^(3/2))\n        ///     å¸Œå°”æ’åºå°±æ˜¯ç”¨è·³è·ƒå¼çš„æ¥å‡å°‘æœ€åæƒ…å†µçš„å‘ç”Ÿ\n        ///     ä¹Ÿå°±æ˜¯è¯´ï¼ŒåŸæœ¬æ’å…¥å¯èƒ½è¦ N æ¬¡ äº¤æ¢ï¼Œå˜åˆ° 3 æ¬¡äº¤æ¢\n        ///     æœ€ä¼˜çš„æœ€åæ—¶é—´å¤æ‚åº¦ä¸ºO(n*(logn)^2),ä½†æ˜¯stepçš„è®¡ç®—æ¯”è¾ƒéº»çƒ¦\n        ///     æ‰€ä»¥é€šå¸¸ç”¨ 3 ä¸ºå€æ•°\n        /// </summary>\n        /// <param name=\"array\">æ’åºæ•°ç»„</param>\n        /// <param name=\"comparer\">æ¯”è¾ƒå™¨</param>\n        public void Sort(T[] array, IComparer<T> comparer)\n        {\n            var step = 1;\n            while (step < array.Length / 3) step = 3 * step + 1;\n            while (step >= 1)\n            {\n                GappedInsertionSort(array, comparer, step);\n                step /= 3;\n            }\n        }\n\n        private static void GappedInsertionSort(T[] array, IComparer<T> comparer, int step)\n        {\n            for (var i = step; i < array.Length; i++)\n            {\n                for (var j = i; j >= step && comparer.Compare(array[j], array[j - step]) < 0; j -= step)\n                {\n                    var temp = array[j];\n                    array[j] = array[j - step];\n                    array[j - step] = temp;\n                }\n            }\n        }\n    }\n}\n```\n\n### å½’å¹¶æ’åº\n\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/202302051332826.gif)\n\n```csharp\nnamespace Algorithms.Sorters\n{\n    /// <summary>\n    ///     å®ç°å½’å¹¶æ’åºçš„ç±»\n    /// </summary>\n    /// <typeparam name=\"T\">æ•°ç»„å‚æ•°ç±»å‹</typeparam>\n    public class MergeSorter<T> : IComparisonSorter<T>\n    {\n        /// <summary>\n        ///     æ—¶é—´å¤æ‚åº¦ O(n*logn)\n        ///     ç©ºé—´å¤æ‚åº¦ O(n)\n        ///     å½’å¹¶æ•°ç»„å°±æ˜¯å°†ä¸¤ä¸ªæœ‰åºçš„æ•°ç»„å½’å¹¶æˆæ›´å¤§çš„æœ‰åºæ•°ç»„\n        ///     é€šå¸¸ç”¨è‡ªé¡¶å‘ä¸‹æ¯”è¾ƒå®¹æ˜“ç†è§£\n        ///     ä¸æ–­é€’å½’åˆ°å¤§å°åªæœ‰ 1 çš„æ•°ç»„ï¼Œç„¶åé€æ­¥å‘ä¸Šå½’å¹¶\n        /// </summary>\n        /// <param name=\"array\"></param>\n        /// <param name=\"comparer\"></param>\n        public void Sort(T[] array, IComparer<T> comparer)\n        {\n            if (array.Length <= 1)\n            {\n                return;\n            }\n\n            var (left, right) = Split(array);\n            Sort(left, comparer);\n            Sort(right, comparer);\n            Merge(array, left, right, comparer);\n        }\n\n        private static void Merge(T[] array, T[] left, T[] right, IComparer<T> comparer)\n        {\n            var mainIndex = 0;\n            var leftIndex = 0;\n            var rightIndex = 0;\n\n            while (leftIndex < left.Length && rightIndex < right.Length)\n            {\n                var compResult = comparer.Compare(left[leftIndex], right[rightIndex]);\n                array[mainIndex++] = compResult <= 0 ? left[leftIndex++] : right[rightIndex++];\n            }\n\n            while (leftIndex < left.Length)\n            {\n                array[mainIndex++] = left[leftIndex++];\n            }\n\n            while (rightIndex < right.Length)\n            {\n                array[mainIndex++] = right[rightIndex++];\n            }\n        }\n\n        private static (T[] left, T[] right) Split(T[] array)\n        {\n            var mid = array.Length / 2;\n            return (array.Take(mid).ToArray(), array.Skip(mid).ToArray());\n        }\n    }\n}\n```\n\n### å¿«é€Ÿæ’åº\n\n```csharp\nnamespace Algorithms.Sorters\n{\n    /// <summary>\n    ///     å®ç°å¿«é€Ÿæ’åºçš„ç±»\n    /// </summary>\n    /// <typeparam name=\"T\"></typeparam>\n    public abstract class QuickSorter<T> : IComparisonSorter<T>\n    {\n        /// <summary>\n        ///     å¹³å‡æ—¶é—´å¤æ‚åº¦ O(nlogn)\n        ///     æœ€åæƒ…å†µä¸‹æ—¶é—´å¤æ‚åº¦ O(n^2)\n        ///     ç©ºé—´å¤æ‚åº¦ O(logn)\n        ///     é€‰å®šä¸€ä¸ªå‚æ•°ï¼Œå°†æ¯”å®ƒå°çš„æ•°æ”¾å·¦è¾¹ï¼Œæ¯”å®ƒå¤§çš„æ•°æ”¾å³è¾¹  \n        /// \n        /// </summary>\n        /// <param name=\"array\"></param>\n        /// <param name=\"comparer\"></param>\n        public void Sort(T[] array, IComparer<T> comparer) => Sort(array, comparer, 0, array.Length - 1);\n\n        protected abstract T SelectPivot(T[] array, IComparer<T> comparer, int left, int right);\n\n        private void Sort(T[] array, IComparer<T> comparer, int left, int right)\n        {\n            if (left >= right)\n            {\n                return;\n            }\n            var mid = Partition(array, comparer, left, right);\n            Sort(array, comparer, left, mid);\n            Sort(array, comparer, mid + 1, right);\n        }\n\n        private int Partition(T[] array, IComparer<T> comparer, int left, int right)\n        {\n            var pivot = SelectPivot(array, comparer, left, right);\n            var nleft = left;\n            var nright = right;\n            while (true)\n            {\n                while (comparer.Compare(array[nleft], pivot) < 0)\n                {\n                    nleft++;\n                }\n                while (comparer.Compare(array[nright], pivot) > 0)\n                {\n                    nright--;\n                }\n\n                if (nleft >= nright)\n                {\n                    return nright;\n                }\n\n                var temp = array[nleft];\n                array[nleft] = array[nright];\n                array[nright] = temp;\n\n                nleft++;\n                nright--;\n            }\n        }\n    }\n}\n```\n\n**éšä¾¿é€‰ä¸€ä½å‚æ•°**\n\n```csharp\nnamespace Algorithms.Sorters\n{\n    /// <summary>\n    ///     éšä¾¿é€‰ä¸€ä¸ªä½œä¸ºå‚æ•°è¿›è¡Œå¿«æ’\n    /// </summary>\n    /// <typeparam name=\"T\"></typeparam>\n    public sealed class RandomPivotQuickSorter<T> : QuickSorter<T>\n    {\n        private readonly Random _random = new();\n        protected override T SelectPivot(T[] array, IComparer<T> comparer, int left, int right)\n            => array[_random.Next(left, right + 1)];\n    }\n}\n```\n\n**é€‰ä¸­é—´ä¸ºå‚æ•°**\n\n```csharp\nnamespace Algorithms.Sorters\n{\n    /// <summary>\n    ///     ä»¥æ•°ç»„ä¸­é—´ä¸ºå‚æ•°ï¼Œè¿›è¡Œå¿«æ’\n    /// </summary>\n    /// <typeparam name=\"T\"></typeparam>\n    public sealed class MiddlePointQuickSorter<T> : QuickSorter<T>\n    {\n        protected override T SelectPivot(T[] array, IComparer<T> comparer, int left, int right)\n            => array[left + (right - left) / 2];\n    }\n}\n```\n\n### ä¸‰å‘åˆ‡åˆ†å¿«é€Ÿæ’åº\n\n```csharp\nnamespace Algorithms.Sorters\n{\n    /// <summary>\n    ///     å®ç°ä¸‰å‘åˆ‡åˆ†å¿«æ’çš„ç±»\n    /// </summary>\n    /// <typeparam name=\"T\"></typeparam>\n    public class Quick3waySorter<T> : IComparisonSorter<T>\n    {\n        /// <summary>\n        ///     æ—¶é—´å¤æ‚åº¦ä¸å¿«æ’å·®ä¸å¤š\n        ///     ä½†æ˜¯å¯¹å¤§é‡é‡å¤å…ƒç´ æ‰§è¡Œæ•ˆç‡æ›´é«˜\n        ///     åœ¨å¿«æ’çš„åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬é€‰ä¸€ä¸ªå‚æ•°\n        ///     ä½†æ˜¯æœ‰é‡å¤å…ƒç´ ï¼Œæˆ‘ä»¬å°†é‡å¤å…ƒç´ æ”¾åœ¨ä¸­é—´\n        ///     ç„¶åå¯¹å·¦å¯¹å³è¿›è¡Œåˆ†åˆ«é€’å½’\n        ///     è¿™æ ·å­å‡å°‘å¯¹é‡å¤çš„æ’åº\n        /// </summary>\n        /// <param name=\"array\"></param>\n        /// <param name=\"comparer\"></param>\n        public void Sort(T[] array, IComparer<T> comparer)\n            => Sort(array, comparer, 0, array.Length - 1);\n        private void Sort(T[] array, IComparer<T> comparer, int left, int right)\n        {\n            if (left >= right)\n            {\n                return;\n            }\n\n            var (lt, rt) = Partition(array, comparer, left, right);\n            Sort(array, comparer, left, lt - 1);\n            Sort(array, comparer, rt + 1, right);\n        }\n\n        private (int lt, int rt) Partition(T[] array, IComparer<T> comparer, int left, int right)\n        {\n            var pivot = array[left];\n            var lt = left;\n            var i = left + 1;\n            var rt = right;\n\n            while (i <= rt)\n            {\n\n                var cmp = comparer.Compare(array[i], pivot);\n                if (cmp < 0)\n                {\n                    Swap(array, lt++, i++);\n                }\n                else if (cmp > 0)\n                {\n                    Swap(array, i, rt--);\n                }\n                else\n                {\n                    i++;\n                }\n            }\n\n            return (lt, rt);\n        }\n\n        private void Swap(T[] array, int x, int y)\n        {\n            var temp = array[x];\n            array[x] = array[y];\n            array[y] = temp;\n        }\n    }\n}\n```\n\n### å †æ’åº\n\nå †æ’åºå³æ˜¯åˆ©ç”¨å †çš„ç‰¹æ€§æ¥è¿›è¡Œæ’åºï¼Œå¾—å‡ºå¾—ç»“æœæ˜¯è®©æ•°ç»„ä¸ºä¸€ä¸ªå¤§æ ¹å †æ•°ç»„ï¼Œè€Œä¸æ˜¯æœ‰åºæ•°ç»„ï¼Œè‹¥è¦è·å¾—æœ‰åºæ•°ç»„ï¼Œéœ€è¦å°†å †é¡¶ä¸€ä¸ªä¸€ä¸ªæ‹¿å‡ºæ¥ï¼Œæ‹¿å‡ºå †é¡¶æ—¶é—´ä¸ºO(1)ï¼Œç»´æŠ¤å‰©ä½™çš„å †éœ€è¦lognï¼Œæ‰€ä»¥æ€»çš„æ—¶é—´å¤æ‚åº¦ä¸ºnlogn \n\n```csharp\nnamespace Algorithms.Sorters\n{\n    /// <summary>\n    ///     å®ç°å †æ’åºçš„ç±» è¿™é‡Œæ˜¯å°æ ¹å †\n    /// </summary>\n    /// <typeparam name=\"T\">æ•°ç»„å…ƒç´ ç±»å‹</typeparam>\n    public class HeapSorter<T> : IComparisonSorter<T>\n    {\n        /// <summary>\n        ///     æ—¶é—´å¤æ‚åº¦ O(nlogn)\n        /// </summary>\n        /// <param name=\"array\"></param>\n        /// <param name=\"comparer\"></param>\n        public void Sort(T[] array, IComparer<T> comparer)\n            => HeapSort(array, comparer);\n\n        private static void HeapSort(IList<T> data, IComparer<T> comparer)\n        {\n            // åˆ›å»ºå †ï¼Ÿ\n            var heapSize = data.Count;\n            for (var p = (heapSize - 1) / 2; p >= 0; p--)\n            {\n                  MakeHeap(data, heapSize, p, comparer);\n            }\n\n            // å°†é™åºå †è½¬åŒ–ä¸ºå‡åºé˜Ÿåˆ—ï¼Œå³å°†æ¯ä¸ªå¤§æ ¹å †å †é¡¶çš„å…ƒç´ å–èµ°ç„¶åé‡å¡‘å †\n            for (var i = data.Count - 1; i >= 0; i--)\n            {\n                var temp = data[i];\n                data[i] = data[0];\n                data[0] = temp;\n\n                heapSize--;\n                MakeHeap(data, heapSize, 0, comparer);\n            }\n        }\n\n        private static void MakeHeap(IList<T> data, int heapSize, int index, IComparer<T> comparer)\n        {\n            var largest = index;\n            var left = 2 * (index + 1) - 1;\n            var right = 2 * (index + 1);\n\n            if (left < heapSize && comparer.Compare(data[left], data[largest]) > 0)\n            {\n                largest = left;\n            }\n\n            if (right < heapSize && comparer.Compare(data[right], data[largest]) > 0)\n            {\n                largest = right;\n            }\n\n            if (largest != index)\n            {\n                var temp = data[index];\n                data[index] = data[largest];\n                data[largest] = temp;\n\n                MakeHeap(data, heapSize, largest, comparer);\n            }\n        }\n    }\n}\n```\n\n### æ€»ç»“\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/202302051329717.png)\n\nå¯ä»¥ç›´ç™½çš„è¯´ï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œå¿«é€Ÿæ’åºæ˜¯æœ€ä½³é€‰æ‹©ã€‚æˆ‘ä»¬åœ¨å·¥ç¨‹å®è·µä¸Šé€šå¸¸ç”¨çš„æ˜¯å®˜æ–¹æä¾›çš„åº“ï¼Œé™¤éæ˜¯è¦å†™çš„è¯­è¨€æ²¡æœ‰æä¾›å®˜æ–¹åº“ï¼Œæˆ–è€…æ˜¯å®˜æ–¹åº“çš„ç®—æ³•ä¸å¤ªç†æƒ³ï¼Œæ‰ä¼šå»è‡ªå·±æ‰‹å†™æ’åºã€‚","source":"_posts/Sortings.md","raw":"---\ntitle: Sortings\ndate: 2023-02-04 13:03:21\n---\n\n### å‰è¨€\n\nç®—æ˜¯æ¯”è¾ƒç³»ç»Ÿçš„é‡æ–°å­¦ä¸€éç®—æ³•ï¼Œé¦–å…ˆå­¦ç®—æ³•ï¼Œç¬¬ä¸€ä½æ¥è§¦çš„å°±æ˜¯æ’åºç®—æ³•äº†ã€‚è™½ç„¶å¾ˆä¹…ä»¥å‰ç”¨çš„å°±æ¯”è¾ƒç†Ÿäº†ï¼Œå­¦ä¹ èµ·æ¥æ²¡ä»€ä¹ˆéš¾åº¦ã€‚ä¸è¿‡ï¼Œé€šè¿‡çœ‹githubé‚£äº›å¤§ç‰›å†™çš„ä»£ç ï¼ŒåŒæ ·å—ç›ŠåŒªæµ…ï¼Œåœ¨ä¸€äº›ä»£ç å¤„ç†ä¸Šç®—æ˜¯ååˆ†ä¼˜ç§€äº†ï¼Œä¹Ÿå­¦åˆ°äº†ä¸€äº›æµ‹è¯•æ–¹æ³•â€”â€”å•å…ƒæµ‹è¯•çš„AAAè§„åˆ™ï¼ŒArrange,Act,Assertã€‚åŒæ—¶è¿˜åœ¨è‡ªå·±ç¼–å†™ä¿®æ”¹ä»£ç æ—¶å­¦ä¸Šä¸€äº›githubå·¥ä½œæµç¨‹ï¼Œè™½ç„¶åªæ˜¯å­¦çš„æ¯›çš®ï¼Œä¸è¿‡å¤Ÿç”¨å°±è¡Œäº†ã€‚\n\n### æ’åºç®—æ³•ä¸Šä½¿ç”¨çš„API\n\næ‰€æœ‰æ’åºç®—æ³•çš„æ¥å£\n\n```csharp\npublic interface IComparisonSorter<T>\n{\n    /// <summary>\n    ///     æ’åºæ–¹æ³•\n    /// </summary>\n    /// <param name=\"array\">éœ€è¦æ’åºçš„æ•°ç»„</param>\n    /// <param name=\"comparer\">æ¯”è¾ƒç”¨çš„Comparer <paramref name=\"array\" />.</param>\n    void Sort(T[] array, IComparer<T> comparer);\n}\n```\n\ncompareræ¥å£çš„æ¯”è¾ƒè§„åˆ™\n\n```csharp\ninternal class IntComparer : IComparer<int>\n{\n    int IComparer<int>.Compare(int x, int y)\n    {\n        return x.CompareTo(y);\n    }\n\n    // public int Compare(int x, int y) => x.CompareTo(y);\n}\n```\n\n### å†’æ³¡æ’åº\n\nå†’æ³¡æ’åºç®—æ˜¯æœ€ç®€å•çš„æ’åºç®—æ³•ï¼Œä¸¤ä¸¤è¿›è¡Œæ¯”è¾ƒäº¤æ¢ç›´åˆ°ä¸éœ€è¦è¢«äº¤æ¢\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/202302041354888.gif)\n\n```csharp\n/// <summary>\n///     å†’æ³¡æ’åºç±»\n/// </summary>\n/// <typeparam name=\"T\">æ•°ç»„å…ƒç´ ç±»å‹</typeparam>\npublic class BubbleSorter<T> : IComparisonSorter<T>\n{\n    /// <summary>\n    ///     æ—¶é—´å¤æ‚åº¦ O(n^2)\n    ///     ç©ºé—´å¤æ‚åº¦ O(1)\n    ///     åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬æŒ‰ç…§å‡åºæ’åº\n    ///     æ¯”è¾ƒç›¸é‚»å…ƒç´ ï¼Œå¤§çš„æ”¾åœ¨åé¢\n    ///     è¿™æ ·å­æ¯æ¬¡æœ€åä¸€ä¸ªæ˜¯æœ€å¤§å…ƒç´ \n    ///     åœ¨ä¸åŒ…å«æœ€å¤§å…ƒç´ çš„èŒƒå›´é‡å¤æ­¥éª¤ï¼Œç›´åˆ°æ²¡å¾—äº¤æ¢\n    ///     æœ€å¥½æƒ…å†µæ˜¯ N - 1 æ¬¡äº¤æ¢å’Œ 0 æ¬¡äº¤æ¢\n    ///     æœ€åæƒ…å†µæ˜¯ N * (N - 1)/2 æ¬¡äº¤æ¢\n    /// </summary>\n    /// <param name=\"array\">è¦æ’åºçš„æ•°ç»„</param>\n    /// <param name=\"comparer\">æ¯”è¾ƒå™¨</param>\n    public void Sort(T[] array, IComparer<T> comparer)\n    {\n        for (var i = 0; i < array.Length - 1; i++)\n        {\n            var wasChanged = false;\n            for (var j = 0; j < array.Length - i - 1; j++)\n            {\n                if (comparer.Compare(array[j], array[j + 1]) > 0)\n                {\n                    var temp = array[j];\n                        array[j] = array[j + 1];\n                    array[j + 1] = temp;\n                    wasChanged = true;\n                }\n            }\n\n            if (!wasChanged)\n            {\n                break;\n            }\n        }\n    }\n}\n```\n\n### é€‰æ‹©æ’åº\n\né€‰æ‹©æ’åºä¹Ÿæ˜¯ç‰¹åˆ«ç®€å•çš„ç®—æ³•ä¹‹ä¸€ï¼Œå³åœ¨æœªæ’åºçš„æ‰¾åˆ°æœ€å°ï¼ˆå¤§ï¼‰å…ƒç´ æ”¾åœ¨æ’åºåºåˆ—çš„èµ·å§‹ä½ç½®ï¼Œç„¶åé‡å¤æ­¥éª¤ã€‚\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/202302041400592.gif)\n\n```csharp\nnamespace Algorithms.Sorters\n{\n    /// <summary>\n    ///     å®ç°é€‰æ‹©æ’åºçš„ç±»\n    /// </summary>\n    /// <typeparam name=\"T\">æ•°ç»„å…ƒç´ ç±»å‹</typeparam>\n    public class SelectionSorter<T> : IComparisonSorter<T>\n    {\n        /// <summary>\n        ///     æ—¶é—´å¤æ‚åº¦ O(n^2)\n        ///     ç©ºé—´å¤æ‚åº¦ O(1)\n        ///     æ‰¾åˆ°æ•°ç»„æœ€å°å…ƒç´ ï¼Œç„¶åå’Œç¬¬ä¸€ä¸ªä½ç½®äº¤æ¢\n        ///     æŒ‡é’ˆå‘åç§»åŠ¨ä¸€ä½ï¼Œç„¶åå†åœ¨å‰©ä¸‹çš„æ•°ç»„å…ƒç´ æ‰¾å‡ºæœ€å°\n        ///     å¦‚æ­¤å¾€å¤ï¼Œæ€»å…±è¿›è¡Œäº† N æ¬¡äº¤æ¢\n        /// </summary>\n        /// <param name=\"array\">æ’åºæ•°ç»„</param>\n        /// <param name=\"comparer\">æ¯”è¾ƒå™¨</param>\n        public void Sort(T[] array, IComparer<T> comparer)\n        {\n            for (var i = 0; i < array.Length - 1; i++)\n            {\n                var jmin = i;\n                for(var j = i + 1; j < array.Length; j++)\n                {\n                    if(comparer.Compare(array[jmin], array[j]) > 0)\n                    {\n                        jmin = j;\n                    }\n                }\n                var temp = array[i];\n                array[i] = array[jmin];\n                array[jmin] = temp;\n            }\n        }\n    }\n}\n```\n\n### æ’å…¥æ’åº\n\næ’å…¥æ’åºçš„å·¥ä½œåŸç†å°±æ˜¯ä»å‰å¾€åæ‰«æï¼Œå°†æœªæ’åºçš„å…ƒç´ æ’å…¥åˆ°å·²æ’åºå…ƒç´ ä¸­ã€‚\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/202302041408746.gif)\n\n```csharp\nnamespace Algorithms.Sorters\n{\n    /// <summary>\n    ///     å®ç°æ’å…¥æ’åºçš„ç®—æ³•\n    /// </summary>\n    /// <typeparam name=\"T\">æ•°ç»„å…ƒç´ ç±»å‹</typeparam>\n    public class InsertionSorter<T> : IComparisonSorter<T>\n    {\n        /// <summary>\n        ///     æ—¶é—´å¤æ‚åº¦ O(n^2)\n        ///     ç©ºé—´å¤æ‚åº¦ O(1)\n        ///     æˆ‘ä»¬ä¿è¯å½“å‰éœ€è¦æ’åºçš„å…ƒç´ çš„å‰é¢æ˜¯æœ‰åºçš„\n        ///     ç„¶åå°†è¯¥å…ƒç´ æ’å…¥å‰é¢ä¸­\n        ///     ç”±äºå‰é¢æ˜¯æœ‰åºçš„ï¼Œå‡è®¾æ˜¯å‡åº\n        ///     åªè¦æ‰¾åˆ°ç¬¬ä¸€ä¸ªæ¯”å®ƒå°çš„å…ƒç´ æ’å…¥å°±åœæ­¢\n        ///     å¦åˆ™å°±ä¸€ç›´ä¸¤ä¸¤äº¤æ¢ä½ç½®ç›´åˆ°ç¬¬ä¸€ä½\n        ///     å¹³å‡æƒ…å†µä¸‹éœ€è¦ N^2/4 æ¬¡äº¤æ¢\n        ///     æœ€åæƒ…å†µéœ€è¦ N^2/2 æ¬¡äº¤æ¢\n        ///     æœ€å¥½æƒ…å†µéœ€è¦ N - 1 æ¬¡äº¤æ¢ å’Œ 0 æ¬¡äº¤æ¢\n        /// </summary>\n        /// <param name=\"array\">æ’åºæ•°ç»„</param>\n        /// <param name=\"comparer\">æ¯”è¾ƒå™¨</param>\n        public void Sort(T[] array, IComparer<T> comparer)\n        {\n            for (var i = 1; i < array.Length; i++)\n            {\n                for (var j = i; j > 0 && comparer.Compare(array[j], array[j - 1]) < 0; j--)\n                {\n                    var temp = array[j - 1];\n                    array[j - 1] = array[j];\n                    array[j] = temp;\n                }\n            }\n        }\n    }\n}\n```\n\n### å¸Œå°”æ’åº\n\nå¸Œå°”æ’åºæ˜¯ä¼˜åŒ–è¿‡çš„æ’å…¥æ’åºï¼Œç›¸å¯¹äºæ’å…¥æ’åºåªèƒ½ä¸€å°æ­¥ä¸€å°æ­¥çš„äº¤æ¢ï¼Œå¸Œå°”æ’åºå¯ä»¥ä¸€å¤§æ­¥ä¸€å¤§æ­¥çš„äº¤æ¢ï¼Œå–å†³äºå½“å‰çš„æ­¥é•¿ã€‚\n\n```csharp\nnamespace Algorithms.Sorters\n{\n    /// <summary>\n    ///     å®ç°å¸Œå°”æ’åºçš„ç±»\n    /// </summary>\n    /// <typeparam name=\"T\">æ•°ç»„å…ƒç´ ç±»å‹</typeparam>\n    public class ShellSorter<T> : IComparisonSorter<T>\n    {\n        /// <summary>\n        ///     å¸Œå°”æ’åºçš„æœ€åæ—¶é—´å¤æ‚åº¦å–å†³äºstep\n        ///     åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ä½¿ç”¨æ¯”è¾ƒæ™®éçš„ 1,4,13,40 æ•°åˆ—\n        ///     è‹¥ä½¿ç”¨ å¯¹æ•°ç»„é•¿åº¦è¿›è¡Œå¯¹åŠå–ï¼Œæœ€åæ—¶é—´å¤æ‚åº¦å¤§æ¦‚ä¸º O(n^2)\n        ///     3*n+1 å¤§æ¦‚åœ¨ O(n^(3/2))\n        ///     å¸Œå°”æ’åºå°±æ˜¯ç”¨è·³è·ƒå¼çš„æ¥å‡å°‘æœ€åæƒ…å†µçš„å‘ç”Ÿ\n        ///     ä¹Ÿå°±æ˜¯è¯´ï¼ŒåŸæœ¬æ’å…¥å¯èƒ½è¦ N æ¬¡ äº¤æ¢ï¼Œå˜åˆ° 3 æ¬¡äº¤æ¢\n        ///     æœ€ä¼˜çš„æœ€åæ—¶é—´å¤æ‚åº¦ä¸ºO(n*(logn)^2),ä½†æ˜¯stepçš„è®¡ç®—æ¯”è¾ƒéº»çƒ¦\n        ///     æ‰€ä»¥é€šå¸¸ç”¨ 3 ä¸ºå€æ•°\n        /// </summary>\n        /// <param name=\"array\">æ’åºæ•°ç»„</param>\n        /// <param name=\"comparer\">æ¯”è¾ƒå™¨</param>\n        public void Sort(T[] array, IComparer<T> comparer)\n        {\n            var step = 1;\n            while (step < array.Length / 3) step = 3 * step + 1;\n            while (step >= 1)\n            {\n                GappedInsertionSort(array, comparer, step);\n                step /= 3;\n            }\n        }\n\n        private static void GappedInsertionSort(T[] array, IComparer<T> comparer, int step)\n        {\n            for (var i = step; i < array.Length; i++)\n            {\n                for (var j = i; j >= step && comparer.Compare(array[j], array[j - step]) < 0; j -= step)\n                {\n                    var temp = array[j];\n                    array[j] = array[j - step];\n                    array[j - step] = temp;\n                }\n            }\n        }\n    }\n}\n```\n\n### å½’å¹¶æ’åº\n\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/202302051332826.gif)\n\n```csharp\nnamespace Algorithms.Sorters\n{\n    /// <summary>\n    ///     å®ç°å½’å¹¶æ’åºçš„ç±»\n    /// </summary>\n    /// <typeparam name=\"T\">æ•°ç»„å‚æ•°ç±»å‹</typeparam>\n    public class MergeSorter<T> : IComparisonSorter<T>\n    {\n        /// <summary>\n        ///     æ—¶é—´å¤æ‚åº¦ O(n*logn)\n        ///     ç©ºé—´å¤æ‚åº¦ O(n)\n        ///     å½’å¹¶æ•°ç»„å°±æ˜¯å°†ä¸¤ä¸ªæœ‰åºçš„æ•°ç»„å½’å¹¶æˆæ›´å¤§çš„æœ‰åºæ•°ç»„\n        ///     é€šå¸¸ç”¨è‡ªé¡¶å‘ä¸‹æ¯”è¾ƒå®¹æ˜“ç†è§£\n        ///     ä¸æ–­é€’å½’åˆ°å¤§å°åªæœ‰ 1 çš„æ•°ç»„ï¼Œç„¶åé€æ­¥å‘ä¸Šå½’å¹¶\n        /// </summary>\n        /// <param name=\"array\"></param>\n        /// <param name=\"comparer\"></param>\n        public void Sort(T[] array, IComparer<T> comparer)\n        {\n            if (array.Length <= 1)\n            {\n                return;\n            }\n\n            var (left, right) = Split(array);\n            Sort(left, comparer);\n            Sort(right, comparer);\n            Merge(array, left, right, comparer);\n        }\n\n        private static void Merge(T[] array, T[] left, T[] right, IComparer<T> comparer)\n        {\n            var mainIndex = 0;\n            var leftIndex = 0;\n            var rightIndex = 0;\n\n            while (leftIndex < left.Length && rightIndex < right.Length)\n            {\n                var compResult = comparer.Compare(left[leftIndex], right[rightIndex]);\n                array[mainIndex++] = compResult <= 0 ? left[leftIndex++] : right[rightIndex++];\n            }\n\n            while (leftIndex < left.Length)\n            {\n                array[mainIndex++] = left[leftIndex++];\n            }\n\n            while (rightIndex < right.Length)\n            {\n                array[mainIndex++] = right[rightIndex++];\n            }\n        }\n\n        private static (T[] left, T[] right) Split(T[] array)\n        {\n            var mid = array.Length / 2;\n            return (array.Take(mid).ToArray(), array.Skip(mid).ToArray());\n        }\n    }\n}\n```\n\n### å¿«é€Ÿæ’åº\n\n```csharp\nnamespace Algorithms.Sorters\n{\n    /// <summary>\n    ///     å®ç°å¿«é€Ÿæ’åºçš„ç±»\n    /// </summary>\n    /// <typeparam name=\"T\"></typeparam>\n    public abstract class QuickSorter<T> : IComparisonSorter<T>\n    {\n        /// <summary>\n        ///     å¹³å‡æ—¶é—´å¤æ‚åº¦ O(nlogn)\n        ///     æœ€åæƒ…å†µä¸‹æ—¶é—´å¤æ‚åº¦ O(n^2)\n        ///     ç©ºé—´å¤æ‚åº¦ O(logn)\n        ///     é€‰å®šä¸€ä¸ªå‚æ•°ï¼Œå°†æ¯”å®ƒå°çš„æ•°æ”¾å·¦è¾¹ï¼Œæ¯”å®ƒå¤§çš„æ•°æ”¾å³è¾¹  \n        /// \n        /// </summary>\n        /// <param name=\"array\"></param>\n        /// <param name=\"comparer\"></param>\n        public void Sort(T[] array, IComparer<T> comparer) => Sort(array, comparer, 0, array.Length - 1);\n\n        protected abstract T SelectPivot(T[] array, IComparer<T> comparer, int left, int right);\n\n        private void Sort(T[] array, IComparer<T> comparer, int left, int right)\n        {\n            if (left >= right)\n            {\n                return;\n            }\n            var mid = Partition(array, comparer, left, right);\n            Sort(array, comparer, left, mid);\n            Sort(array, comparer, mid + 1, right);\n        }\n\n        private int Partition(T[] array, IComparer<T> comparer, int left, int right)\n        {\n            var pivot = SelectPivot(array, comparer, left, right);\n            var nleft = left;\n            var nright = right;\n            while (true)\n            {\n                while (comparer.Compare(array[nleft], pivot) < 0)\n                {\n                    nleft++;\n                }\n                while (comparer.Compare(array[nright], pivot) > 0)\n                {\n                    nright--;\n                }\n\n                if (nleft >= nright)\n                {\n                    return nright;\n                }\n\n                var temp = array[nleft];\n                array[nleft] = array[nright];\n                array[nright] = temp;\n\n                nleft++;\n                nright--;\n            }\n        }\n    }\n}\n```\n\n**éšä¾¿é€‰ä¸€ä½å‚æ•°**\n\n```csharp\nnamespace Algorithms.Sorters\n{\n    /// <summary>\n    ///     éšä¾¿é€‰ä¸€ä¸ªä½œä¸ºå‚æ•°è¿›è¡Œå¿«æ’\n    /// </summary>\n    /// <typeparam name=\"T\"></typeparam>\n    public sealed class RandomPivotQuickSorter<T> : QuickSorter<T>\n    {\n        private readonly Random _random = new();\n        protected override T SelectPivot(T[] array, IComparer<T> comparer, int left, int right)\n            => array[_random.Next(left, right + 1)];\n    }\n}\n```\n\n**é€‰ä¸­é—´ä¸ºå‚æ•°**\n\n```csharp\nnamespace Algorithms.Sorters\n{\n    /// <summary>\n    ///     ä»¥æ•°ç»„ä¸­é—´ä¸ºå‚æ•°ï¼Œè¿›è¡Œå¿«æ’\n    /// </summary>\n    /// <typeparam name=\"T\"></typeparam>\n    public sealed class MiddlePointQuickSorter<T> : QuickSorter<T>\n    {\n        protected override T SelectPivot(T[] array, IComparer<T> comparer, int left, int right)\n            => array[left + (right - left) / 2];\n    }\n}\n```\n\n### ä¸‰å‘åˆ‡åˆ†å¿«é€Ÿæ’åº\n\n```csharp\nnamespace Algorithms.Sorters\n{\n    /// <summary>\n    ///     å®ç°ä¸‰å‘åˆ‡åˆ†å¿«æ’çš„ç±»\n    /// </summary>\n    /// <typeparam name=\"T\"></typeparam>\n    public class Quick3waySorter<T> : IComparisonSorter<T>\n    {\n        /// <summary>\n        ///     æ—¶é—´å¤æ‚åº¦ä¸å¿«æ’å·®ä¸å¤š\n        ///     ä½†æ˜¯å¯¹å¤§é‡é‡å¤å…ƒç´ æ‰§è¡Œæ•ˆç‡æ›´é«˜\n        ///     åœ¨å¿«æ’çš„åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬é€‰ä¸€ä¸ªå‚æ•°\n        ///     ä½†æ˜¯æœ‰é‡å¤å…ƒç´ ï¼Œæˆ‘ä»¬å°†é‡å¤å…ƒç´ æ”¾åœ¨ä¸­é—´\n        ///     ç„¶åå¯¹å·¦å¯¹å³è¿›è¡Œåˆ†åˆ«é€’å½’\n        ///     è¿™æ ·å­å‡å°‘å¯¹é‡å¤çš„æ’åº\n        /// </summary>\n        /// <param name=\"array\"></param>\n        /// <param name=\"comparer\"></param>\n        public void Sort(T[] array, IComparer<T> comparer)\n            => Sort(array, comparer, 0, array.Length - 1);\n        private void Sort(T[] array, IComparer<T> comparer, int left, int right)\n        {\n            if (left >= right)\n            {\n                return;\n            }\n\n            var (lt, rt) = Partition(array, comparer, left, right);\n            Sort(array, comparer, left, lt - 1);\n            Sort(array, comparer, rt + 1, right);\n        }\n\n        private (int lt, int rt) Partition(T[] array, IComparer<T> comparer, int left, int right)\n        {\n            var pivot = array[left];\n            var lt = left;\n            var i = left + 1;\n            var rt = right;\n\n            while (i <= rt)\n            {\n\n                var cmp = comparer.Compare(array[i], pivot);\n                if (cmp < 0)\n                {\n                    Swap(array, lt++, i++);\n                }\n                else if (cmp > 0)\n                {\n                    Swap(array, i, rt--);\n                }\n                else\n                {\n                    i++;\n                }\n            }\n\n            return (lt, rt);\n        }\n\n        private void Swap(T[] array, int x, int y)\n        {\n            var temp = array[x];\n            array[x] = array[y];\n            array[y] = temp;\n        }\n    }\n}\n```\n\n### å †æ’åº\n\nå †æ’åºå³æ˜¯åˆ©ç”¨å †çš„ç‰¹æ€§æ¥è¿›è¡Œæ’åºï¼Œå¾—å‡ºå¾—ç»“æœæ˜¯è®©æ•°ç»„ä¸ºä¸€ä¸ªå¤§æ ¹å †æ•°ç»„ï¼Œè€Œä¸æ˜¯æœ‰åºæ•°ç»„ï¼Œè‹¥è¦è·å¾—æœ‰åºæ•°ç»„ï¼Œéœ€è¦å°†å †é¡¶ä¸€ä¸ªä¸€ä¸ªæ‹¿å‡ºæ¥ï¼Œæ‹¿å‡ºå †é¡¶æ—¶é—´ä¸ºO(1)ï¼Œç»´æŠ¤å‰©ä½™çš„å †éœ€è¦lognï¼Œæ‰€ä»¥æ€»çš„æ—¶é—´å¤æ‚åº¦ä¸ºnlogn \n\n```csharp\nnamespace Algorithms.Sorters\n{\n    /// <summary>\n    ///     å®ç°å †æ’åºçš„ç±» è¿™é‡Œæ˜¯å°æ ¹å †\n    /// </summary>\n    /// <typeparam name=\"T\">æ•°ç»„å…ƒç´ ç±»å‹</typeparam>\n    public class HeapSorter<T> : IComparisonSorter<T>\n    {\n        /// <summary>\n        ///     æ—¶é—´å¤æ‚åº¦ O(nlogn)\n        /// </summary>\n        /// <param name=\"array\"></param>\n        /// <param name=\"comparer\"></param>\n        public void Sort(T[] array, IComparer<T> comparer)\n            => HeapSort(array, comparer);\n\n        private static void HeapSort(IList<T> data, IComparer<T> comparer)\n        {\n            // åˆ›å»ºå †ï¼Ÿ\n            var heapSize = data.Count;\n            for (var p = (heapSize - 1) / 2; p >= 0; p--)\n            {\n                  MakeHeap(data, heapSize, p, comparer);\n            }\n\n            // å°†é™åºå †è½¬åŒ–ä¸ºå‡åºé˜Ÿåˆ—ï¼Œå³å°†æ¯ä¸ªå¤§æ ¹å †å †é¡¶çš„å…ƒç´ å–èµ°ç„¶åé‡å¡‘å †\n            for (var i = data.Count - 1; i >= 0; i--)\n            {\n                var temp = data[i];\n                data[i] = data[0];\n                data[0] = temp;\n\n                heapSize--;\n                MakeHeap(data, heapSize, 0, comparer);\n            }\n        }\n\n        private static void MakeHeap(IList<T> data, int heapSize, int index, IComparer<T> comparer)\n        {\n            var largest = index;\n            var left = 2 * (index + 1) - 1;\n            var right = 2 * (index + 1);\n\n            if (left < heapSize && comparer.Compare(data[left], data[largest]) > 0)\n            {\n                largest = left;\n            }\n\n            if (right < heapSize && comparer.Compare(data[right], data[largest]) > 0)\n            {\n                largest = right;\n            }\n\n            if (largest != index)\n            {\n                var temp = data[index];\n                data[index] = data[largest];\n                data[largest] = temp;\n\n                MakeHeap(data, heapSize, largest, comparer);\n            }\n        }\n    }\n}\n```\n\n### æ€»ç»“\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/202302051329717.png)\n\nå¯ä»¥ç›´ç™½çš„è¯´ï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œå¿«é€Ÿæ’åºæ˜¯æœ€ä½³é€‰æ‹©ã€‚æˆ‘ä»¬åœ¨å·¥ç¨‹å®è·µä¸Šé€šå¸¸ç”¨çš„æ˜¯å®˜æ–¹æä¾›çš„åº“ï¼Œé™¤éæ˜¯è¦å†™çš„è¯­è¨€æ²¡æœ‰æä¾›å®˜æ–¹åº“ï¼Œæˆ–è€…æ˜¯å®˜æ–¹åº“çš„ç®—æ³•ä¸å¤ªç†æƒ³ï¼Œæ‰ä¼šå»è‡ªå·±æ‰‹å†™æ’åºã€‚","slug":"Sortings","published":1,"updated":"2024-01-07T07:52:06.792Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clr4d2ju10006gwv0a4z2h7k0","content":"<h3 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h3><p>ç®—æ˜¯æ¯”è¾ƒç³»ç»Ÿçš„é‡æ–°å­¦ä¸€éç®—æ³•ï¼Œé¦–å…ˆå­¦ç®—æ³•ï¼Œç¬¬ä¸€ä½æ¥è§¦çš„å°±æ˜¯æ’åºç®—æ³•äº†ã€‚è™½ç„¶å¾ˆä¹…ä»¥å‰ç”¨çš„å°±æ¯”è¾ƒç†Ÿäº†ï¼Œå­¦ä¹ èµ·æ¥æ²¡ä»€ä¹ˆéš¾åº¦ã€‚ä¸è¿‡ï¼Œé€šè¿‡çœ‹githubé‚£äº›å¤§ç‰›å†™çš„ä»£ç ï¼ŒåŒæ ·å—ç›ŠåŒªæµ…ï¼Œåœ¨ä¸€äº›ä»£ç å¤„ç†ä¸Šç®—æ˜¯ååˆ†ä¼˜ç§€äº†ï¼Œä¹Ÿå­¦åˆ°äº†ä¸€äº›æµ‹è¯•æ–¹æ³•â€”â€”å•å…ƒæµ‹è¯•çš„AAAè§„åˆ™ï¼ŒArrange,Act,Assertã€‚åŒæ—¶è¿˜åœ¨è‡ªå·±ç¼–å†™ä¿®æ”¹ä»£ç æ—¶å­¦ä¸Šä¸€äº›githubå·¥ä½œæµç¨‹ï¼Œè™½ç„¶åªæ˜¯å­¦çš„æ¯›çš®ï¼Œä¸è¿‡å¤Ÿç”¨å°±è¡Œäº†ã€‚</p>\n<h3 id=\"æ’åºç®—æ³•ä¸Šä½¿ç”¨çš„API\"><a href=\"#æ’åºç®—æ³•ä¸Šä½¿ç”¨çš„API\" class=\"headerlink\" title=\"æ’åºç®—æ³•ä¸Šä½¿ç”¨çš„API\"></a>æ’åºç®—æ³•ä¸Šä½¿ç”¨çš„API</h3><p>æ‰€æœ‰æ’åºç®—æ³•çš„æ¥å£</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title\">IComparisonSorter</span>&lt;<span class=\"title\">T</span>&gt;</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span>     æ’åºæ–¹æ³•</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;array&quot;&gt;</span>éœ€è¦æ’åºçš„æ•°ç»„<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;comparer&quot;&gt;</span>æ¯”è¾ƒç”¨çš„Comparer <span class=\"doctag\">&lt;paramref name=&quot;array&quot; /&gt;</span>.<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">Sort</span>(<span class=\"params\">T[] array, IComparer&lt;T&gt; comparer</span>)</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>compareræ¥å£çš„æ¯”è¾ƒè§„åˆ™</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">internal</span> <span class=\"keyword\">class</span> <span class=\"title\">IntComparer</span> : <span class=\"title\">IComparer</span>&lt;<span class=\"title\">int</span>&gt;</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"built_in\">int</span> IComparer&lt;<span class=\"built_in\">int</span>&gt;.Compare(<span class=\"built_in\">int</span> x, <span class=\"built_in\">int</span> y)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> x.CompareTo(y);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// public int Compare(int x, int y) =&gt; x.CompareTo(y);</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"å†’æ³¡æ’åº\"><a href=\"#å†’æ³¡æ’åº\" class=\"headerlink\" title=\"å†’æ³¡æ’åº\"></a>å†’æ³¡æ’åº</h3><p>å†’æ³¡æ’åºç®—æ˜¯æœ€ç®€å•çš„æ’åºç®—æ³•ï¼Œä¸¤ä¸¤è¿›è¡Œæ¯”è¾ƒäº¤æ¢ç›´åˆ°ä¸éœ€è¦è¢«äº¤æ¢</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/202302041354888.gif\"></p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span>     å†’æ³¡æ’åºç±»</span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;typeparam name=&quot;T&quot;&gt;</span>æ•°ç»„å…ƒç´ ç±»å‹<span class=\"doctag\">&lt;/typeparam&gt;</span></span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">BubbleSorter</span>&lt;<span class=\"title\">T</span>&gt; : <span class=\"title\">IComparisonSorter</span>&lt;<span class=\"title\">T</span>&gt;</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span>     æ—¶é—´å¤æ‚åº¦ O(n^2)</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span>     ç©ºé—´å¤æ‚åº¦ O(1)</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span>     åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬æŒ‰ç…§å‡åºæ’åº</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span>     æ¯”è¾ƒç›¸é‚»å…ƒç´ ï¼Œå¤§çš„æ”¾åœ¨åé¢</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span>     è¿™æ ·å­æ¯æ¬¡æœ€åä¸€ä¸ªæ˜¯æœ€å¤§å…ƒç´ </span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span>     åœ¨ä¸åŒ…å«æœ€å¤§å…ƒç´ çš„èŒƒå›´é‡å¤æ­¥éª¤ï¼Œç›´åˆ°æ²¡å¾—äº¤æ¢</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span>     æœ€å¥½æƒ…å†µæ˜¯ N - 1 æ¬¡äº¤æ¢å’Œ 0 æ¬¡äº¤æ¢</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span>     æœ€åæƒ…å†µæ˜¯ N * (N - 1)/2 æ¬¡äº¤æ¢</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;array&quot;&gt;</span>è¦æ’åºçš„æ•°ç»„<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;comparer&quot;&gt;</span>æ¯”è¾ƒå™¨<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Sort</span>(<span class=\"params\">T[] array, IComparer&lt;T&gt; comparer</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; array.Length - <span class=\"number\">1</span>; i++)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> wasChanged = <span class=\"literal\">false</span>;</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> j = <span class=\"number\">0</span>; j &lt; array.Length - i - <span class=\"number\">1</span>; j++)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (comparer.Compare(array[j], array[j + <span class=\"number\">1</span>]) &gt; <span class=\"number\">0</span>)</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    <span class=\"keyword\">var</span> temp = array[j];</span><br><span class=\"line\">                        array[j] = array[j + <span class=\"number\">1</span>];</span><br><span class=\"line\">                    array[j + <span class=\"number\">1</span>] = temp;</span><br><span class=\"line\">                    wasChanged = <span class=\"literal\">true</span>;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (!wasChanged)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">break</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"é€‰æ‹©æ’åº\"><a href=\"#é€‰æ‹©æ’åº\" class=\"headerlink\" title=\"é€‰æ‹©æ’åº\"></a>é€‰æ‹©æ’åº</h3><p>é€‰æ‹©æ’åºä¹Ÿæ˜¯ç‰¹åˆ«ç®€å•çš„ç®—æ³•ä¹‹ä¸€ï¼Œå³åœ¨æœªæ’åºçš„æ‰¾åˆ°æœ€å°ï¼ˆå¤§ï¼‰å…ƒç´ æ”¾åœ¨æ’åºåºåˆ—çš„èµ·å§‹ä½ç½®ï¼Œç„¶åé‡å¤æ­¥éª¤ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/202302041400592.gif\"></p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">Algorithms.Sorters</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span>     å®ç°é€‰æ‹©æ’åºçš„ç±»</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;typeparam name=&quot;T&quot;&gt;</span>æ•°ç»„å…ƒç´ ç±»å‹<span class=\"doctag\">&lt;/typeparam&gt;</span></span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">SelectionSorter</span>&lt;<span class=\"title\">T</span>&gt; : <span class=\"title\">IComparisonSorter</span>&lt;<span class=\"title\">T</span>&gt;</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>     æ—¶é—´å¤æ‚åº¦ O(n^2)</span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>     ç©ºé—´å¤æ‚åº¦ O(1)</span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>     æ‰¾åˆ°æ•°ç»„æœ€å°å…ƒç´ ï¼Œç„¶åå’Œç¬¬ä¸€ä¸ªä½ç½®äº¤æ¢</span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>     æŒ‡é’ˆå‘åç§»åŠ¨ä¸€ä½ï¼Œç„¶åå†åœ¨å‰©ä¸‹çš„æ•°ç»„å…ƒç´ æ‰¾å‡ºæœ€å°</span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>     å¦‚æ­¤å¾€å¤ï¼Œæ€»å…±è¿›è¡Œäº† N æ¬¡äº¤æ¢</span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;array&quot;&gt;</span>æ’åºæ•°ç»„<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;comparer&quot;&gt;</span>æ¯”è¾ƒå™¨<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Sort</span>(<span class=\"params\">T[] array, IComparer&lt;T&gt; comparer</span>)</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; array.Length - <span class=\"number\">1</span>; i++)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">var</span> jmin = i;</span><br><span class=\"line\">                <span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> j = i + <span class=\"number\">1</span>; j &lt; array.Length; j++)</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    <span class=\"keyword\">if</span>(comparer.Compare(array[jmin], array[j]) &gt; <span class=\"number\">0</span>)</span><br><span class=\"line\">                    &#123;</span><br><span class=\"line\">                        jmin = j;</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                <span class=\"keyword\">var</span> temp = array[i];</span><br><span class=\"line\">                array[i] = array[jmin];</span><br><span class=\"line\">                array[jmin] = temp;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"æ’å…¥æ’åº\"><a href=\"#æ’å…¥æ’åº\" class=\"headerlink\" title=\"æ’å…¥æ’åº\"></a>æ’å…¥æ’åº</h3><p>æ’å…¥æ’åºçš„å·¥ä½œåŸç†å°±æ˜¯ä»å‰å¾€åæ‰«æï¼Œå°†æœªæ’åºçš„å…ƒç´ æ’å…¥åˆ°å·²æ’åºå…ƒç´ ä¸­ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/202302041408746.gif\"></p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">Algorithms.Sorters</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span>     å®ç°æ’å…¥æ’åºçš„ç®—æ³•</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;typeparam name=&quot;T&quot;&gt;</span>æ•°ç»„å…ƒç´ ç±»å‹<span class=\"doctag\">&lt;/typeparam&gt;</span></span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">InsertionSorter</span>&lt;<span class=\"title\">T</span>&gt; : <span class=\"title\">IComparisonSorter</span>&lt;<span class=\"title\">T</span>&gt;</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>     æ—¶é—´å¤æ‚åº¦ O(n^2)</span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>     ç©ºé—´å¤æ‚åº¦ O(1)</span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>     æˆ‘ä»¬ä¿è¯å½“å‰éœ€è¦æ’åºçš„å…ƒç´ çš„å‰é¢æ˜¯æœ‰åºçš„</span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>     ç„¶åå°†è¯¥å…ƒç´ æ’å…¥å‰é¢ä¸­</span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>     ç”±äºå‰é¢æ˜¯æœ‰åºçš„ï¼Œå‡è®¾æ˜¯å‡åº</span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>     åªè¦æ‰¾åˆ°ç¬¬ä¸€ä¸ªæ¯”å®ƒå°çš„å…ƒç´ æ’å…¥å°±åœæ­¢</span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>     å¦åˆ™å°±ä¸€ç›´ä¸¤ä¸¤äº¤æ¢ä½ç½®ç›´åˆ°ç¬¬ä¸€ä½</span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>     å¹³å‡æƒ…å†µä¸‹éœ€è¦ N^2/4 æ¬¡äº¤æ¢</span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>     æœ€åæƒ…å†µéœ€è¦ N^2/2 æ¬¡äº¤æ¢</span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>     æœ€å¥½æƒ…å†µéœ€è¦ N - 1 æ¬¡äº¤æ¢ å’Œ 0 æ¬¡äº¤æ¢</span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;array&quot;&gt;</span>æ’åºæ•°ç»„<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;comparer&quot;&gt;</span>æ¯”è¾ƒå™¨<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Sort</span>(<span class=\"params\">T[] array, IComparer&lt;T&gt; comparer</span>)</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">1</span>; i &lt; array.Length; i++)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> j = i; j &gt; <span class=\"number\">0</span> &amp;&amp; comparer.Compare(array[j], array[j - <span class=\"number\">1</span>]) &lt; <span class=\"number\">0</span>; j--)</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    <span class=\"keyword\">var</span> temp = array[j - <span class=\"number\">1</span>];</span><br><span class=\"line\">                    array[j - <span class=\"number\">1</span>] = array[j];</span><br><span class=\"line\">                    array[j] = temp;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"å¸Œå°”æ’åº\"><a href=\"#å¸Œå°”æ’åº\" class=\"headerlink\" title=\"å¸Œå°”æ’åº\"></a>å¸Œå°”æ’åº</h3><p>å¸Œå°”æ’åºæ˜¯ä¼˜åŒ–è¿‡çš„æ’å…¥æ’åºï¼Œç›¸å¯¹äºæ’å…¥æ’åºåªèƒ½ä¸€å°æ­¥ä¸€å°æ­¥çš„äº¤æ¢ï¼Œå¸Œå°”æ’åºå¯ä»¥ä¸€å¤§æ­¥ä¸€å¤§æ­¥çš„äº¤æ¢ï¼Œå–å†³äºå½“å‰çš„æ­¥é•¿ã€‚</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">Algorithms.Sorters</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span>     å®ç°å¸Œå°”æ’åºçš„ç±»</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;typeparam name=&quot;T&quot;&gt;</span>æ•°ç»„å…ƒç´ ç±»å‹<span class=\"doctag\">&lt;/typeparam&gt;</span></span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">ShellSorter</span>&lt;<span class=\"title\">T</span>&gt; : <span class=\"title\">IComparisonSorter</span>&lt;<span class=\"title\">T</span>&gt;</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>     å¸Œå°”æ’åºçš„æœ€åæ—¶é—´å¤æ‚åº¦å–å†³äºstep</span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>     åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ä½¿ç”¨æ¯”è¾ƒæ™®éçš„ 1,4,13,40 æ•°åˆ—</span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>     è‹¥ä½¿ç”¨ å¯¹æ•°ç»„é•¿åº¦è¿›è¡Œå¯¹åŠå–ï¼Œæœ€åæ—¶é—´å¤æ‚åº¦å¤§æ¦‚ä¸º O(n^2)</span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>     3*n+1 å¤§æ¦‚åœ¨ O(n^(3/2))</span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>     å¸Œå°”æ’åºå°±æ˜¯ç”¨è·³è·ƒå¼çš„æ¥å‡å°‘æœ€åæƒ…å†µçš„å‘ç”Ÿ</span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>     ä¹Ÿå°±æ˜¯è¯´ï¼ŒåŸæœ¬æ’å…¥å¯èƒ½è¦ N æ¬¡ äº¤æ¢ï¼Œå˜åˆ° 3 æ¬¡äº¤æ¢</span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>     æœ€ä¼˜çš„æœ€åæ—¶é—´å¤æ‚åº¦ä¸ºO(n*(logn)^2),ä½†æ˜¯stepçš„è®¡ç®—æ¯”è¾ƒéº»çƒ¦</span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>     æ‰€ä»¥é€šå¸¸ç”¨ 3 ä¸ºå€æ•°</span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;array&quot;&gt;</span>æ’åºæ•°ç»„<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;comparer&quot;&gt;</span>æ¯”è¾ƒå™¨<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Sort</span>(<span class=\"params\">T[] array, IComparer&lt;T&gt; comparer</span>)</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> step = <span class=\"number\">1</span>;</span><br><span class=\"line\">            <span class=\"keyword\">while</span> (step &lt; array.Length / <span class=\"number\">3</span>) step = <span class=\"number\">3</span> * step + <span class=\"number\">1</span>;</span><br><span class=\"line\">            <span class=\"keyword\">while</span> (step &gt;= <span class=\"number\">1</span>)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                GappedInsertionSort(array, comparer, step);</span><br><span class=\"line\">                step /= <span class=\"number\">3</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">GappedInsertionSort</span>(<span class=\"params\">T[] array, IComparer&lt;T&gt; comparer, <span class=\"built_in\">int</span> step</span>)</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = step; i &lt; array.Length; i++)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> j = i; j &gt;= step &amp;&amp; comparer.Compare(array[j], array[j - step]) &lt; <span class=\"number\">0</span>; j -= step)</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    <span class=\"keyword\">var</span> temp = array[j];</span><br><span class=\"line\">                    array[j] = array[j - step];</span><br><span class=\"line\">                    array[j - step] = temp;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"å½’å¹¶æ’åº\"><a href=\"#å½’å¹¶æ’åº\" class=\"headerlink\" title=\"å½’å¹¶æ’åº\"></a>å½’å¹¶æ’åº</h3><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/202302051332826.gif\"></p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">Algorithms.Sorters</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span>     å®ç°å½’å¹¶æ’åºçš„ç±»</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;typeparam name=&quot;T&quot;&gt;</span>æ•°ç»„å‚æ•°ç±»å‹<span class=\"doctag\">&lt;/typeparam&gt;</span></span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">MergeSorter</span>&lt;<span class=\"title\">T</span>&gt; : <span class=\"title\">IComparisonSorter</span>&lt;<span class=\"title\">T</span>&gt;</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>     æ—¶é—´å¤æ‚åº¦ O(n*logn)</span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>     ç©ºé—´å¤æ‚åº¦ O(n)</span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>     å½’å¹¶æ•°ç»„å°±æ˜¯å°†ä¸¤ä¸ªæœ‰åºçš„æ•°ç»„å½’å¹¶æˆæ›´å¤§çš„æœ‰åºæ•°ç»„</span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>     é€šå¸¸ç”¨è‡ªé¡¶å‘ä¸‹æ¯”è¾ƒå®¹æ˜“ç†è§£</span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>     ä¸æ–­é€’å½’åˆ°å¤§å°åªæœ‰ 1 çš„æ•°ç»„ï¼Œç„¶åé€æ­¥å‘ä¸Šå½’å¹¶</span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;array&quot;&gt;</span><span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;comparer&quot;&gt;</span><span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Sort</span>(<span class=\"params\">T[] array, IComparer&lt;T&gt; comparer</span>)</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (array.Length &lt;= <span class=\"number\">1</span>)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">var</span> (left, right) = Split(array);</span><br><span class=\"line\">            Sort(left, comparer);</span><br><span class=\"line\">            Sort(right, comparer);</span><br><span class=\"line\">            Merge(array, left, right, comparer);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">Merge</span>(<span class=\"params\">T[] array, T[] left, T[] right, IComparer&lt;T&gt; comparer</span>)</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> mainIndex = <span class=\"number\">0</span>;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> leftIndex = <span class=\"number\">0</span>;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> rightIndex = <span class=\"number\">0</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">while</span> (leftIndex &lt; left.Length &amp;&amp; rightIndex &lt; right.Length)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">var</span> compResult = comparer.Compare(left[leftIndex], right[rightIndex]);</span><br><span class=\"line\">                array[mainIndex++] = compResult &lt;= <span class=\"number\">0</span> ? left[leftIndex++] : right[rightIndex++];</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">while</span> (leftIndex &lt; left.Length)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                array[mainIndex++] = left[leftIndex++];</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">while</span> (rightIndex &lt; right.Length)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                array[mainIndex++] = right[rightIndex++];</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">static</span> (<span class=\"params\">T[] left, T[] right</span>) <span class=\"title\">Split</span>(<span class=\"params\">T[] array</span>)</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> mid = array.Length / <span class=\"number\">2</span>;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> (array.Take(mid).ToArray(), array.Skip(mid).ToArray());</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"å¿«é€Ÿæ’åº\"><a href=\"#å¿«é€Ÿæ’åº\" class=\"headerlink\" title=\"å¿«é€Ÿæ’åº\"></a>å¿«é€Ÿæ’åº</h3><figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">Algorithms.Sorters</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span>     å®ç°å¿«é€Ÿæ’åºçš„ç±»</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;typeparam name=&quot;T&quot;&gt;</span><span class=\"doctag\">&lt;/typeparam&gt;</span></span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> <span class=\"keyword\">class</span> <span class=\"title\">QuickSorter</span>&lt;<span class=\"title\">T</span>&gt; : <span class=\"title\">IComparisonSorter</span>&lt;<span class=\"title\">T</span>&gt;</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>     å¹³å‡æ—¶é—´å¤æ‚åº¦ O(nlogn)</span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>     æœ€åæƒ…å†µä¸‹æ—¶é—´å¤æ‚åº¦ O(n^2)</span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>     ç©ºé—´å¤æ‚åº¦ O(logn)</span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>     é€‰å®šä¸€ä¸ªå‚æ•°ï¼Œå°†æ¯”å®ƒå°çš„æ•°æ”¾å·¦è¾¹ï¼Œæ¯”å®ƒå¤§çš„æ•°æ”¾å³è¾¹  </span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span> </span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;array&quot;&gt;</span><span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;comparer&quot;&gt;</span><span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Sort</span>(<span class=\"params\">T[] array, IComparer&lt;T&gt; comparer</span>)</span> =&gt; Sort(array, comparer, <span class=\"number\">0</span>, array.Length - <span class=\"number\">1</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">abstract</span> T <span class=\"title\">SelectPivot</span>(<span class=\"params\">T[] array, IComparer&lt;T&gt; comparer, <span class=\"built_in\">int</span> left, <span class=\"built_in\">int</span> right</span>)</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title\">Sort</span>(<span class=\"params\">T[] array, IComparer&lt;T&gt; comparer, <span class=\"built_in\">int</span> left, <span class=\"built_in\">int</span> right</span>)</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (left &gt;= right)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> mid = Partition(array, comparer, left, right);</span><br><span class=\"line\">            Sort(array, comparer, left, mid);</span><br><span class=\"line\">            Sort(array, comparer, mid + <span class=\"number\">1</span>, right);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"built_in\">int</span> <span class=\"title\">Partition</span>(<span class=\"params\">T[] array, IComparer&lt;T&gt; comparer, <span class=\"built_in\">int</span> left, <span class=\"built_in\">int</span> right</span>)</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> pivot = SelectPivot(array, comparer, left, right);</span><br><span class=\"line\">            <span class=\"keyword\">var</span> nleft = left;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> nright = right;</span><br><span class=\"line\">            <span class=\"keyword\">while</span> (<span class=\"literal\">true</span>)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">while</span> (comparer.Compare(array[nleft], pivot) &lt; <span class=\"number\">0</span>)</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    nleft++;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                <span class=\"keyword\">while</span> (comparer.Compare(array[nright], pivot) &gt; <span class=\"number\">0</span>)</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    nright--;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">                <span class=\"keyword\">if</span> (nleft &gt;= nright)</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    <span class=\"keyword\">return</span> nright;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">                <span class=\"keyword\">var</span> temp = array[nleft];</span><br><span class=\"line\">                array[nleft] = array[nright];</span><br><span class=\"line\">                array[nright] = temp;</span><br><span class=\"line\"></span><br><span class=\"line\">                nleft++;</span><br><span class=\"line\">                nright--;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>éšä¾¿é€‰ä¸€ä½å‚æ•°</strong></p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">Algorithms.Sorters</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span>     éšä¾¿é€‰ä¸€ä¸ªä½œä¸ºå‚æ•°è¿›è¡Œå¿«æ’</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;typeparam name=&quot;T&quot;&gt;</span><span class=\"doctag\">&lt;/typeparam&gt;</span></span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">sealed</span> <span class=\"keyword\">class</span> <span class=\"title\">RandomPivotQuickSorter</span>&lt;<span class=\"title\">T</span>&gt; : <span class=\"title\">QuickSorter</span>&lt;<span class=\"title\">T</span>&gt;</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">private</span> <span class=\"keyword\">readonly</span> Random _random = <span class=\"keyword\">new</span>();</span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">override</span> T <span class=\"title\">SelectPivot</span>(<span class=\"params\">T[] array, IComparer&lt;T&gt; comparer, <span class=\"built_in\">int</span> left, <span class=\"built_in\">int</span> right</span>)</span></span><br><span class=\"line\">            =&gt; array[_random.Next(left, right + <span class=\"number\">1</span>)];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>é€‰ä¸­é—´ä¸ºå‚æ•°</strong></p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">Algorithms.Sorters</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span>     ä»¥æ•°ç»„ä¸­é—´ä¸ºå‚æ•°ï¼Œè¿›è¡Œå¿«æ’</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;typeparam name=&quot;T&quot;&gt;</span><span class=\"doctag\">&lt;/typeparam&gt;</span></span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">sealed</span> <span class=\"keyword\">class</span> <span class=\"title\">MiddlePointQuickSorter</span>&lt;<span class=\"title\">T</span>&gt; : <span class=\"title\">QuickSorter</span>&lt;<span class=\"title\">T</span>&gt;</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">override</span> T <span class=\"title\">SelectPivot</span>(<span class=\"params\">T[] array, IComparer&lt;T&gt; comparer, <span class=\"built_in\">int</span> left, <span class=\"built_in\">int</span> right</span>)</span></span><br><span class=\"line\">            =&gt; array[left + (right - left) / <span class=\"number\">2</span>];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"ä¸‰å‘åˆ‡åˆ†å¿«é€Ÿæ’åº\"><a href=\"#ä¸‰å‘åˆ‡åˆ†å¿«é€Ÿæ’åº\" class=\"headerlink\" title=\"ä¸‰å‘åˆ‡åˆ†å¿«é€Ÿæ’åº\"></a>ä¸‰å‘åˆ‡åˆ†å¿«é€Ÿæ’åº</h3><figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">Algorithms.Sorters</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span>     å®ç°ä¸‰å‘åˆ‡åˆ†å¿«æ’çš„ç±»</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;typeparam name=&quot;T&quot;&gt;</span><span class=\"doctag\">&lt;/typeparam&gt;</span></span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">Quick3waySorter</span>&lt;<span class=\"title\">T</span>&gt; : <span class=\"title\">IComparisonSorter</span>&lt;<span class=\"title\">T</span>&gt;</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>     æ—¶é—´å¤æ‚åº¦ä¸å¿«æ’å·®ä¸å¤š</span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>     ä½†æ˜¯å¯¹å¤§é‡é‡å¤å…ƒç´ æ‰§è¡Œæ•ˆç‡æ›´é«˜</span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>     åœ¨å¿«æ’çš„åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬é€‰ä¸€ä¸ªå‚æ•°</span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>     ä½†æ˜¯æœ‰é‡å¤å…ƒç´ ï¼Œæˆ‘ä»¬å°†é‡å¤å…ƒç´ æ”¾åœ¨ä¸­é—´</span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>     ç„¶åå¯¹å·¦å¯¹å³è¿›è¡Œåˆ†åˆ«é€’å½’</span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>     è¿™æ ·å­å‡å°‘å¯¹é‡å¤çš„æ’åº</span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;array&quot;&gt;</span><span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;comparer&quot;&gt;</span><span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Sort</span>(<span class=\"params\">T[] array, IComparer&lt;T&gt; comparer</span>)</span></span><br><span class=\"line\">            =&gt; Sort(array, comparer, <span class=\"number\">0</span>, array.Length - <span class=\"number\">1</span>);</span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title\">Sort</span>(<span class=\"params\">T[] array, IComparer&lt;T&gt; comparer, <span class=\"built_in\">int</span> left, <span class=\"built_in\">int</span> right</span>)</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (left &gt;= right)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">var</span> (lt, rt) = Partition(array, comparer, left, right);</span><br><span class=\"line\">            Sort(array, comparer, left, lt - <span class=\"number\">1</span>);</span><br><span class=\"line\">            Sort(array, comparer, rt + <span class=\"number\">1</span>, right);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">private</span> (<span class=\"built_in\">int</span> lt, <span class=\"built_in\">int</span> rt) Partition(T[] array, IComparer&lt;T&gt; comparer, <span class=\"built_in\">int</span> left, <span class=\"built_in\">int</span> right)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> pivot = array[left];</span><br><span class=\"line\">            <span class=\"keyword\">var</span> lt = left;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> i = left + <span class=\"number\">1</span>;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> rt = right;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">while</span> (i &lt;= rt)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">                <span class=\"keyword\">var</span> cmp = comparer.Compare(array[i], pivot);</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (cmp &lt; <span class=\"number\">0</span>)</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    Swap(array, lt++, i++);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (cmp &gt; <span class=\"number\">0</span>)</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    Swap(array, i, rt--);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                <span class=\"keyword\">else</span></span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    i++;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">return</span> (lt, rt);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title\">Swap</span>(<span class=\"params\">T[] array, <span class=\"built_in\">int</span> x, <span class=\"built_in\">int</span> y</span>)</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> temp = array[x];</span><br><span class=\"line\">            array[x] = array[y];</span><br><span class=\"line\">            array[y] = temp;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"å †æ’åº\"><a href=\"#å †æ’åº\" class=\"headerlink\" title=\"å †æ’åº\"></a>å †æ’åº</h3><p>å †æ’åºå³æ˜¯åˆ©ç”¨å †çš„ç‰¹æ€§æ¥è¿›è¡Œæ’åºï¼Œå¾—å‡ºå¾—ç»“æœæ˜¯è®©æ•°ç»„ä¸ºä¸€ä¸ªå¤§æ ¹å †æ•°ç»„ï¼Œè€Œä¸æ˜¯æœ‰åºæ•°ç»„ï¼Œè‹¥è¦è·å¾—æœ‰åºæ•°ç»„ï¼Œéœ€è¦å°†å †é¡¶ä¸€ä¸ªä¸€ä¸ªæ‹¿å‡ºæ¥ï¼Œæ‹¿å‡ºå †é¡¶æ—¶é—´ä¸ºO(1)ï¼Œç»´æŠ¤å‰©ä½™çš„å †éœ€è¦lognï¼Œæ‰€ä»¥æ€»çš„æ—¶é—´å¤æ‚åº¦ä¸ºnlogn </p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">Algorithms.Sorters</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span>     å®ç°å †æ’åºçš„ç±» è¿™é‡Œæ˜¯å°æ ¹å †</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;typeparam name=&quot;T&quot;&gt;</span>æ•°ç»„å…ƒç´ ç±»å‹<span class=\"doctag\">&lt;/typeparam&gt;</span></span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">HeapSorter</span>&lt;<span class=\"title\">T</span>&gt; : <span class=\"title\">IComparisonSorter</span>&lt;<span class=\"title\">T</span>&gt;</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>     æ—¶é—´å¤æ‚åº¦ O(nlogn)</span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;array&quot;&gt;</span><span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;comparer&quot;&gt;</span><span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Sort</span>(<span class=\"params\">T[] array, IComparer&lt;T&gt; comparer</span>)</span></span><br><span class=\"line\">            =&gt; HeapSort(array, comparer);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">HeapSort</span>(<span class=\"params\">IList&lt;T&gt; data, IComparer&lt;T&gt; comparer</span>)</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"comment\">// åˆ›å»ºå †ï¼Ÿ</span></span><br><span class=\"line\">            <span class=\"keyword\">var</span> heapSize = data.Count;</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> p = (heapSize - <span class=\"number\">1</span>) / <span class=\"number\">2</span>; p &gt;= <span class=\"number\">0</span>; p--)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                  MakeHeap(data, heapSize, p, comparer);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\">// å°†é™åºå †è½¬åŒ–ä¸ºå‡åºé˜Ÿåˆ—ï¼Œå³å°†æ¯ä¸ªå¤§æ ¹å †å †é¡¶çš„å…ƒç´ å–èµ°ç„¶åé‡å¡‘å †</span></span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = data.Count - <span class=\"number\">1</span>; i &gt;= <span class=\"number\">0</span>; i--)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">var</span> temp = data[i];</span><br><span class=\"line\">                data[i] = data[<span class=\"number\">0</span>];</span><br><span class=\"line\">                data[<span class=\"number\">0</span>] = temp;</span><br><span class=\"line\"></span><br><span class=\"line\">                heapSize--;</span><br><span class=\"line\">                MakeHeap(data, heapSize, <span class=\"number\">0</span>, comparer);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">MakeHeap</span>(<span class=\"params\">IList&lt;T&gt; data, <span class=\"built_in\">int</span> heapSize, <span class=\"built_in\">int</span> index, IComparer&lt;T&gt; comparer</span>)</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> largest = index;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> left = <span class=\"number\">2</span> * (index + <span class=\"number\">1</span>) - <span class=\"number\">1</span>;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> right = <span class=\"number\">2</span> * (index + <span class=\"number\">1</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (left &lt; heapSize &amp;&amp; comparer.Compare(data[left], data[largest]) &gt; <span class=\"number\">0</span>)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                largest = left;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (right &lt; heapSize &amp;&amp; comparer.Compare(data[right], data[largest]) &gt; <span class=\"number\">0</span>)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                largest = right;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (largest != index)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">var</span> temp = data[index];</span><br><span class=\"line\">                data[index] = data[largest];</span><br><span class=\"line\">                data[largest] = temp;</span><br><span class=\"line\"></span><br><span class=\"line\">                MakeHeap(data, heapSize, largest, comparer);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"æ€»ç»“\"><a href=\"#æ€»ç»“\" class=\"headerlink\" title=\"æ€»ç»“\"></a>æ€»ç»“</h3><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/202302051329717.png\" alt=\"img\"></p>\n<p>å¯ä»¥ç›´ç™½çš„è¯´ï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œå¿«é€Ÿæ’åºæ˜¯æœ€ä½³é€‰æ‹©ã€‚æˆ‘ä»¬åœ¨å·¥ç¨‹å®è·µä¸Šé€šå¸¸ç”¨çš„æ˜¯å®˜æ–¹æä¾›çš„åº“ï¼Œé™¤éæ˜¯è¦å†™çš„è¯­è¨€æ²¡æœ‰æä¾›å®˜æ–¹åº“ï¼Œæˆ–è€…æ˜¯å®˜æ–¹åº“çš„ç®—æ³•ä¸å¤ªç†æƒ³ï¼Œæ‰ä¼šå»è‡ªå·±æ‰‹å†™æ’åºã€‚</p>\n","site":{"data":{}},"length":10479,"excerpt":"","more":"<h3 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h3><p>ç®—æ˜¯æ¯”è¾ƒç³»ç»Ÿçš„é‡æ–°å­¦ä¸€éç®—æ³•ï¼Œé¦–å…ˆå­¦ç®—æ³•ï¼Œç¬¬ä¸€ä½æ¥è§¦çš„å°±æ˜¯æ’åºç®—æ³•äº†ã€‚è™½ç„¶å¾ˆä¹…ä»¥å‰ç”¨çš„å°±æ¯”è¾ƒç†Ÿäº†ï¼Œå­¦ä¹ èµ·æ¥æ²¡ä»€ä¹ˆéš¾åº¦ã€‚ä¸è¿‡ï¼Œé€šè¿‡çœ‹githubé‚£äº›å¤§ç‰›å†™çš„ä»£ç ï¼ŒåŒæ ·å—ç›ŠåŒªæµ…ï¼Œåœ¨ä¸€äº›ä»£ç å¤„ç†ä¸Šç®—æ˜¯ååˆ†ä¼˜ç§€äº†ï¼Œä¹Ÿå­¦åˆ°äº†ä¸€äº›æµ‹è¯•æ–¹æ³•â€”â€”å•å…ƒæµ‹è¯•çš„AAAè§„åˆ™ï¼ŒArrange,Act,Assertã€‚åŒæ—¶è¿˜åœ¨è‡ªå·±ç¼–å†™ä¿®æ”¹ä»£ç æ—¶å­¦ä¸Šä¸€äº›githubå·¥ä½œæµç¨‹ï¼Œè™½ç„¶åªæ˜¯å­¦çš„æ¯›çš®ï¼Œä¸è¿‡å¤Ÿç”¨å°±è¡Œäº†ã€‚</p>\n<h3 id=\"æ’åºç®—æ³•ä¸Šä½¿ç”¨çš„API\"><a href=\"#æ’åºç®—æ³•ä¸Šä½¿ç”¨çš„API\" class=\"headerlink\" title=\"æ’åºç®—æ³•ä¸Šä½¿ç”¨çš„API\"></a>æ’åºç®—æ³•ä¸Šä½¿ç”¨çš„API</h3><p>æ‰€æœ‰æ’åºç®—æ³•çš„æ¥å£</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title\">IComparisonSorter</span>&lt;<span class=\"title\">T</span>&gt;</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span>     æ’åºæ–¹æ³•</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;array&quot;&gt;</span>éœ€è¦æ’åºçš„æ•°ç»„<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;comparer&quot;&gt;</span>æ¯”è¾ƒç”¨çš„Comparer <span class=\"doctag\">&lt;paramref name=&quot;array&quot; /&gt;</span>.<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">Sort</span>(<span class=\"params\">T[] array, IComparer&lt;T&gt; comparer</span>)</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>compareræ¥å£çš„æ¯”è¾ƒè§„åˆ™</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">internal</span> <span class=\"keyword\">class</span> <span class=\"title\">IntComparer</span> : <span class=\"title\">IComparer</span>&lt;<span class=\"title\">int</span>&gt;</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"built_in\">int</span> IComparer&lt;<span class=\"built_in\">int</span>&gt;.Compare(<span class=\"built_in\">int</span> x, <span class=\"built_in\">int</span> y)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> x.CompareTo(y);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// public int Compare(int x, int y) =&gt; x.CompareTo(y);</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"å†’æ³¡æ’åº\"><a href=\"#å†’æ³¡æ’åº\" class=\"headerlink\" title=\"å†’æ³¡æ’åº\"></a>å†’æ³¡æ’åº</h3><p>å†’æ³¡æ’åºç®—æ˜¯æœ€ç®€å•çš„æ’åºç®—æ³•ï¼Œä¸¤ä¸¤è¿›è¡Œæ¯”è¾ƒäº¤æ¢ç›´åˆ°ä¸éœ€è¦è¢«äº¤æ¢</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/202302041354888.gif\"></p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span>     å†’æ³¡æ’åºç±»</span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;typeparam name=&quot;T&quot;&gt;</span>æ•°ç»„å…ƒç´ ç±»å‹<span class=\"doctag\">&lt;/typeparam&gt;</span></span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">BubbleSorter</span>&lt;<span class=\"title\">T</span>&gt; : <span class=\"title\">IComparisonSorter</span>&lt;<span class=\"title\">T</span>&gt;</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span>     æ—¶é—´å¤æ‚åº¦ O(n^2)</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span>     ç©ºé—´å¤æ‚åº¦ O(1)</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span>     åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬æŒ‰ç…§å‡åºæ’åº</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span>     æ¯”è¾ƒç›¸é‚»å…ƒç´ ï¼Œå¤§çš„æ”¾åœ¨åé¢</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span>     è¿™æ ·å­æ¯æ¬¡æœ€åä¸€ä¸ªæ˜¯æœ€å¤§å…ƒç´ </span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span>     åœ¨ä¸åŒ…å«æœ€å¤§å…ƒç´ çš„èŒƒå›´é‡å¤æ­¥éª¤ï¼Œç›´åˆ°æ²¡å¾—äº¤æ¢</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span>     æœ€å¥½æƒ…å†µæ˜¯ N - 1 æ¬¡äº¤æ¢å’Œ 0 æ¬¡äº¤æ¢</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span>     æœ€åæƒ…å†µæ˜¯ N * (N - 1)/2 æ¬¡äº¤æ¢</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;array&quot;&gt;</span>è¦æ’åºçš„æ•°ç»„<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;comparer&quot;&gt;</span>æ¯”è¾ƒå™¨<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Sort</span>(<span class=\"params\">T[] array, IComparer&lt;T&gt; comparer</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; array.Length - <span class=\"number\">1</span>; i++)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> wasChanged = <span class=\"literal\">false</span>;</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> j = <span class=\"number\">0</span>; j &lt; array.Length - i - <span class=\"number\">1</span>; j++)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (comparer.Compare(array[j], array[j + <span class=\"number\">1</span>]) &gt; <span class=\"number\">0</span>)</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    <span class=\"keyword\">var</span> temp = array[j];</span><br><span class=\"line\">                        array[j] = array[j + <span class=\"number\">1</span>];</span><br><span class=\"line\">                    array[j + <span class=\"number\">1</span>] = temp;</span><br><span class=\"line\">                    wasChanged = <span class=\"literal\">true</span>;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (!wasChanged)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">break</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"é€‰æ‹©æ’åº\"><a href=\"#é€‰æ‹©æ’åº\" class=\"headerlink\" title=\"é€‰æ‹©æ’åº\"></a>é€‰æ‹©æ’åº</h3><p>é€‰æ‹©æ’åºä¹Ÿæ˜¯ç‰¹åˆ«ç®€å•çš„ç®—æ³•ä¹‹ä¸€ï¼Œå³åœ¨æœªæ’åºçš„æ‰¾åˆ°æœ€å°ï¼ˆå¤§ï¼‰å…ƒç´ æ”¾åœ¨æ’åºåºåˆ—çš„èµ·å§‹ä½ç½®ï¼Œç„¶åé‡å¤æ­¥éª¤ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/202302041400592.gif\"></p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">Algorithms.Sorters</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span>     å®ç°é€‰æ‹©æ’åºçš„ç±»</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;typeparam name=&quot;T&quot;&gt;</span>æ•°ç»„å…ƒç´ ç±»å‹<span class=\"doctag\">&lt;/typeparam&gt;</span></span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">SelectionSorter</span>&lt;<span class=\"title\">T</span>&gt; : <span class=\"title\">IComparisonSorter</span>&lt;<span class=\"title\">T</span>&gt;</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>     æ—¶é—´å¤æ‚åº¦ O(n^2)</span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>     ç©ºé—´å¤æ‚åº¦ O(1)</span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>     æ‰¾åˆ°æ•°ç»„æœ€å°å…ƒç´ ï¼Œç„¶åå’Œç¬¬ä¸€ä¸ªä½ç½®äº¤æ¢</span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>     æŒ‡é’ˆå‘åç§»åŠ¨ä¸€ä½ï¼Œç„¶åå†åœ¨å‰©ä¸‹çš„æ•°ç»„å…ƒç´ æ‰¾å‡ºæœ€å°</span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>     å¦‚æ­¤å¾€å¤ï¼Œæ€»å…±è¿›è¡Œäº† N æ¬¡äº¤æ¢</span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;array&quot;&gt;</span>æ’åºæ•°ç»„<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;comparer&quot;&gt;</span>æ¯”è¾ƒå™¨<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Sort</span>(<span class=\"params\">T[] array, IComparer&lt;T&gt; comparer</span>)</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; array.Length - <span class=\"number\">1</span>; i++)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">var</span> jmin = i;</span><br><span class=\"line\">                <span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> j = i + <span class=\"number\">1</span>; j &lt; array.Length; j++)</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    <span class=\"keyword\">if</span>(comparer.Compare(array[jmin], array[j]) &gt; <span class=\"number\">0</span>)</span><br><span class=\"line\">                    &#123;</span><br><span class=\"line\">                        jmin = j;</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                <span class=\"keyword\">var</span> temp = array[i];</span><br><span class=\"line\">                array[i] = array[jmin];</span><br><span class=\"line\">                array[jmin] = temp;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"æ’å…¥æ’åº\"><a href=\"#æ’å…¥æ’åº\" class=\"headerlink\" title=\"æ’å…¥æ’åº\"></a>æ’å…¥æ’åº</h3><p>æ’å…¥æ’åºçš„å·¥ä½œåŸç†å°±æ˜¯ä»å‰å¾€åæ‰«æï¼Œå°†æœªæ’åºçš„å…ƒç´ æ’å…¥åˆ°å·²æ’åºå…ƒç´ ä¸­ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/202302041408746.gif\"></p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">Algorithms.Sorters</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span>     å®ç°æ’å…¥æ’åºçš„ç®—æ³•</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;typeparam name=&quot;T&quot;&gt;</span>æ•°ç»„å…ƒç´ ç±»å‹<span class=\"doctag\">&lt;/typeparam&gt;</span></span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">InsertionSorter</span>&lt;<span class=\"title\">T</span>&gt; : <span class=\"title\">IComparisonSorter</span>&lt;<span class=\"title\">T</span>&gt;</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>     æ—¶é—´å¤æ‚åº¦ O(n^2)</span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>     ç©ºé—´å¤æ‚åº¦ O(1)</span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>     æˆ‘ä»¬ä¿è¯å½“å‰éœ€è¦æ’åºçš„å…ƒç´ çš„å‰é¢æ˜¯æœ‰åºçš„</span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>     ç„¶åå°†è¯¥å…ƒç´ æ’å…¥å‰é¢ä¸­</span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>     ç”±äºå‰é¢æ˜¯æœ‰åºçš„ï¼Œå‡è®¾æ˜¯å‡åº</span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>     åªè¦æ‰¾åˆ°ç¬¬ä¸€ä¸ªæ¯”å®ƒå°çš„å…ƒç´ æ’å…¥å°±åœæ­¢</span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>     å¦åˆ™å°±ä¸€ç›´ä¸¤ä¸¤äº¤æ¢ä½ç½®ç›´åˆ°ç¬¬ä¸€ä½</span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>     å¹³å‡æƒ…å†µä¸‹éœ€è¦ N^2/4 æ¬¡äº¤æ¢</span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>     æœ€åæƒ…å†µéœ€è¦ N^2/2 æ¬¡äº¤æ¢</span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>     æœ€å¥½æƒ…å†µéœ€è¦ N - 1 æ¬¡äº¤æ¢ å’Œ 0 æ¬¡äº¤æ¢</span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;array&quot;&gt;</span>æ’åºæ•°ç»„<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;comparer&quot;&gt;</span>æ¯”è¾ƒå™¨<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Sort</span>(<span class=\"params\">T[] array, IComparer&lt;T&gt; comparer</span>)</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">1</span>; i &lt; array.Length; i++)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> j = i; j &gt; <span class=\"number\">0</span> &amp;&amp; comparer.Compare(array[j], array[j - <span class=\"number\">1</span>]) &lt; <span class=\"number\">0</span>; j--)</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    <span class=\"keyword\">var</span> temp = array[j - <span class=\"number\">1</span>];</span><br><span class=\"line\">                    array[j - <span class=\"number\">1</span>] = array[j];</span><br><span class=\"line\">                    array[j] = temp;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"å¸Œå°”æ’åº\"><a href=\"#å¸Œå°”æ’åº\" class=\"headerlink\" title=\"å¸Œå°”æ’åº\"></a>å¸Œå°”æ’åº</h3><p>å¸Œå°”æ’åºæ˜¯ä¼˜åŒ–è¿‡çš„æ’å…¥æ’åºï¼Œç›¸å¯¹äºæ’å…¥æ’åºåªèƒ½ä¸€å°æ­¥ä¸€å°æ­¥çš„äº¤æ¢ï¼Œå¸Œå°”æ’åºå¯ä»¥ä¸€å¤§æ­¥ä¸€å¤§æ­¥çš„äº¤æ¢ï¼Œå–å†³äºå½“å‰çš„æ­¥é•¿ã€‚</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">Algorithms.Sorters</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span>     å®ç°å¸Œå°”æ’åºçš„ç±»</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;typeparam name=&quot;T&quot;&gt;</span>æ•°ç»„å…ƒç´ ç±»å‹<span class=\"doctag\">&lt;/typeparam&gt;</span></span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">ShellSorter</span>&lt;<span class=\"title\">T</span>&gt; : <span class=\"title\">IComparisonSorter</span>&lt;<span class=\"title\">T</span>&gt;</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>     å¸Œå°”æ’åºçš„æœ€åæ—¶é—´å¤æ‚åº¦å–å†³äºstep</span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>     åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ä½¿ç”¨æ¯”è¾ƒæ™®éçš„ 1,4,13,40 æ•°åˆ—</span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>     è‹¥ä½¿ç”¨ å¯¹æ•°ç»„é•¿åº¦è¿›è¡Œå¯¹åŠå–ï¼Œæœ€åæ—¶é—´å¤æ‚åº¦å¤§æ¦‚ä¸º O(n^2)</span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>     3*n+1 å¤§æ¦‚åœ¨ O(n^(3/2))</span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>     å¸Œå°”æ’åºå°±æ˜¯ç”¨è·³è·ƒå¼çš„æ¥å‡å°‘æœ€åæƒ…å†µçš„å‘ç”Ÿ</span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>     ä¹Ÿå°±æ˜¯è¯´ï¼ŒåŸæœ¬æ’å…¥å¯èƒ½è¦ N æ¬¡ äº¤æ¢ï¼Œå˜åˆ° 3 æ¬¡äº¤æ¢</span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>     æœ€ä¼˜çš„æœ€åæ—¶é—´å¤æ‚åº¦ä¸ºO(n*(logn)^2),ä½†æ˜¯stepçš„è®¡ç®—æ¯”è¾ƒéº»çƒ¦</span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>     æ‰€ä»¥é€šå¸¸ç”¨ 3 ä¸ºå€æ•°</span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;array&quot;&gt;</span>æ’åºæ•°ç»„<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;comparer&quot;&gt;</span>æ¯”è¾ƒå™¨<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Sort</span>(<span class=\"params\">T[] array, IComparer&lt;T&gt; comparer</span>)</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> step = <span class=\"number\">1</span>;</span><br><span class=\"line\">            <span class=\"keyword\">while</span> (step &lt; array.Length / <span class=\"number\">3</span>) step = <span class=\"number\">3</span> * step + <span class=\"number\">1</span>;</span><br><span class=\"line\">            <span class=\"keyword\">while</span> (step &gt;= <span class=\"number\">1</span>)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                GappedInsertionSort(array, comparer, step);</span><br><span class=\"line\">                step /= <span class=\"number\">3</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">GappedInsertionSort</span>(<span class=\"params\">T[] array, IComparer&lt;T&gt; comparer, <span class=\"built_in\">int</span> step</span>)</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = step; i &lt; array.Length; i++)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> j = i; j &gt;= step &amp;&amp; comparer.Compare(array[j], array[j - step]) &lt; <span class=\"number\">0</span>; j -= step)</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    <span class=\"keyword\">var</span> temp = array[j];</span><br><span class=\"line\">                    array[j] = array[j - step];</span><br><span class=\"line\">                    array[j - step] = temp;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"å½’å¹¶æ’åº\"><a href=\"#å½’å¹¶æ’åº\" class=\"headerlink\" title=\"å½’å¹¶æ’åº\"></a>å½’å¹¶æ’åº</h3><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/202302051332826.gif\"></p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">Algorithms.Sorters</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span>     å®ç°å½’å¹¶æ’åºçš„ç±»</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;typeparam name=&quot;T&quot;&gt;</span>æ•°ç»„å‚æ•°ç±»å‹<span class=\"doctag\">&lt;/typeparam&gt;</span></span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">MergeSorter</span>&lt;<span class=\"title\">T</span>&gt; : <span class=\"title\">IComparisonSorter</span>&lt;<span class=\"title\">T</span>&gt;</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>     æ—¶é—´å¤æ‚åº¦ O(n*logn)</span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>     ç©ºé—´å¤æ‚åº¦ O(n)</span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>     å½’å¹¶æ•°ç»„å°±æ˜¯å°†ä¸¤ä¸ªæœ‰åºçš„æ•°ç»„å½’å¹¶æˆæ›´å¤§çš„æœ‰åºæ•°ç»„</span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>     é€šå¸¸ç”¨è‡ªé¡¶å‘ä¸‹æ¯”è¾ƒå®¹æ˜“ç†è§£</span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>     ä¸æ–­é€’å½’åˆ°å¤§å°åªæœ‰ 1 çš„æ•°ç»„ï¼Œç„¶åé€æ­¥å‘ä¸Šå½’å¹¶</span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;array&quot;&gt;</span><span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;comparer&quot;&gt;</span><span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Sort</span>(<span class=\"params\">T[] array, IComparer&lt;T&gt; comparer</span>)</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (array.Length &lt;= <span class=\"number\">1</span>)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">var</span> (left, right) = Split(array);</span><br><span class=\"line\">            Sort(left, comparer);</span><br><span class=\"line\">            Sort(right, comparer);</span><br><span class=\"line\">            Merge(array, left, right, comparer);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">Merge</span>(<span class=\"params\">T[] array, T[] left, T[] right, IComparer&lt;T&gt; comparer</span>)</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> mainIndex = <span class=\"number\">0</span>;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> leftIndex = <span class=\"number\">0</span>;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> rightIndex = <span class=\"number\">0</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">while</span> (leftIndex &lt; left.Length &amp;&amp; rightIndex &lt; right.Length)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">var</span> compResult = comparer.Compare(left[leftIndex], right[rightIndex]);</span><br><span class=\"line\">                array[mainIndex++] = compResult &lt;= <span class=\"number\">0</span> ? left[leftIndex++] : right[rightIndex++];</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">while</span> (leftIndex &lt; left.Length)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                array[mainIndex++] = left[leftIndex++];</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">while</span> (rightIndex &lt; right.Length)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                array[mainIndex++] = right[rightIndex++];</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">static</span> (<span class=\"params\">T[] left, T[] right</span>) <span class=\"title\">Split</span>(<span class=\"params\">T[] array</span>)</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> mid = array.Length / <span class=\"number\">2</span>;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> (array.Take(mid).ToArray(), array.Skip(mid).ToArray());</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"å¿«é€Ÿæ’åº\"><a href=\"#å¿«é€Ÿæ’åº\" class=\"headerlink\" title=\"å¿«é€Ÿæ’åº\"></a>å¿«é€Ÿæ’åº</h3><figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">Algorithms.Sorters</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span>     å®ç°å¿«é€Ÿæ’åºçš„ç±»</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;typeparam name=&quot;T&quot;&gt;</span><span class=\"doctag\">&lt;/typeparam&gt;</span></span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> <span class=\"keyword\">class</span> <span class=\"title\">QuickSorter</span>&lt;<span class=\"title\">T</span>&gt; : <span class=\"title\">IComparisonSorter</span>&lt;<span class=\"title\">T</span>&gt;</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>     å¹³å‡æ—¶é—´å¤æ‚åº¦ O(nlogn)</span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>     æœ€åæƒ…å†µä¸‹æ—¶é—´å¤æ‚åº¦ O(n^2)</span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>     ç©ºé—´å¤æ‚åº¦ O(logn)</span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>     é€‰å®šä¸€ä¸ªå‚æ•°ï¼Œå°†æ¯”å®ƒå°çš„æ•°æ”¾å·¦è¾¹ï¼Œæ¯”å®ƒå¤§çš„æ•°æ”¾å³è¾¹  </span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span> </span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;array&quot;&gt;</span><span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;comparer&quot;&gt;</span><span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Sort</span>(<span class=\"params\">T[] array, IComparer&lt;T&gt; comparer</span>)</span> =&gt; Sort(array, comparer, <span class=\"number\">0</span>, array.Length - <span class=\"number\">1</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">abstract</span> T <span class=\"title\">SelectPivot</span>(<span class=\"params\">T[] array, IComparer&lt;T&gt; comparer, <span class=\"built_in\">int</span> left, <span class=\"built_in\">int</span> right</span>)</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title\">Sort</span>(<span class=\"params\">T[] array, IComparer&lt;T&gt; comparer, <span class=\"built_in\">int</span> left, <span class=\"built_in\">int</span> right</span>)</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (left &gt;= right)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> mid = Partition(array, comparer, left, right);</span><br><span class=\"line\">            Sort(array, comparer, left, mid);</span><br><span class=\"line\">            Sort(array, comparer, mid + <span class=\"number\">1</span>, right);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"built_in\">int</span> <span class=\"title\">Partition</span>(<span class=\"params\">T[] array, IComparer&lt;T&gt; comparer, <span class=\"built_in\">int</span> left, <span class=\"built_in\">int</span> right</span>)</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> pivot = SelectPivot(array, comparer, left, right);</span><br><span class=\"line\">            <span class=\"keyword\">var</span> nleft = left;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> nright = right;</span><br><span class=\"line\">            <span class=\"keyword\">while</span> (<span class=\"literal\">true</span>)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">while</span> (comparer.Compare(array[nleft], pivot) &lt; <span class=\"number\">0</span>)</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    nleft++;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                <span class=\"keyword\">while</span> (comparer.Compare(array[nright], pivot) &gt; <span class=\"number\">0</span>)</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    nright--;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">                <span class=\"keyword\">if</span> (nleft &gt;= nright)</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    <span class=\"keyword\">return</span> nright;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">                <span class=\"keyword\">var</span> temp = array[nleft];</span><br><span class=\"line\">                array[nleft] = array[nright];</span><br><span class=\"line\">                array[nright] = temp;</span><br><span class=\"line\"></span><br><span class=\"line\">                nleft++;</span><br><span class=\"line\">                nright--;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>éšä¾¿é€‰ä¸€ä½å‚æ•°</strong></p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">Algorithms.Sorters</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span>     éšä¾¿é€‰ä¸€ä¸ªä½œä¸ºå‚æ•°è¿›è¡Œå¿«æ’</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;typeparam name=&quot;T&quot;&gt;</span><span class=\"doctag\">&lt;/typeparam&gt;</span></span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">sealed</span> <span class=\"keyword\">class</span> <span class=\"title\">RandomPivotQuickSorter</span>&lt;<span class=\"title\">T</span>&gt; : <span class=\"title\">QuickSorter</span>&lt;<span class=\"title\">T</span>&gt;</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">private</span> <span class=\"keyword\">readonly</span> Random _random = <span class=\"keyword\">new</span>();</span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">override</span> T <span class=\"title\">SelectPivot</span>(<span class=\"params\">T[] array, IComparer&lt;T&gt; comparer, <span class=\"built_in\">int</span> left, <span class=\"built_in\">int</span> right</span>)</span></span><br><span class=\"line\">            =&gt; array[_random.Next(left, right + <span class=\"number\">1</span>)];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>é€‰ä¸­é—´ä¸ºå‚æ•°</strong></p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">Algorithms.Sorters</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span>     ä»¥æ•°ç»„ä¸­é—´ä¸ºå‚æ•°ï¼Œè¿›è¡Œå¿«æ’</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;typeparam name=&quot;T&quot;&gt;</span><span class=\"doctag\">&lt;/typeparam&gt;</span></span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">sealed</span> <span class=\"keyword\">class</span> <span class=\"title\">MiddlePointQuickSorter</span>&lt;<span class=\"title\">T</span>&gt; : <span class=\"title\">QuickSorter</span>&lt;<span class=\"title\">T</span>&gt;</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">override</span> T <span class=\"title\">SelectPivot</span>(<span class=\"params\">T[] array, IComparer&lt;T&gt; comparer, <span class=\"built_in\">int</span> left, <span class=\"built_in\">int</span> right</span>)</span></span><br><span class=\"line\">            =&gt; array[left + (right - left) / <span class=\"number\">2</span>];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"ä¸‰å‘åˆ‡åˆ†å¿«é€Ÿæ’åº\"><a href=\"#ä¸‰å‘åˆ‡åˆ†å¿«é€Ÿæ’åº\" class=\"headerlink\" title=\"ä¸‰å‘åˆ‡åˆ†å¿«é€Ÿæ’åº\"></a>ä¸‰å‘åˆ‡åˆ†å¿«é€Ÿæ’åº</h3><figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">Algorithms.Sorters</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span>     å®ç°ä¸‰å‘åˆ‡åˆ†å¿«æ’çš„ç±»</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;typeparam name=&quot;T&quot;&gt;</span><span class=\"doctag\">&lt;/typeparam&gt;</span></span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">Quick3waySorter</span>&lt;<span class=\"title\">T</span>&gt; : <span class=\"title\">IComparisonSorter</span>&lt;<span class=\"title\">T</span>&gt;</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>     æ—¶é—´å¤æ‚åº¦ä¸å¿«æ’å·®ä¸å¤š</span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>     ä½†æ˜¯å¯¹å¤§é‡é‡å¤å…ƒç´ æ‰§è¡Œæ•ˆç‡æ›´é«˜</span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>     åœ¨å¿«æ’çš„åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬é€‰ä¸€ä¸ªå‚æ•°</span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>     ä½†æ˜¯æœ‰é‡å¤å…ƒç´ ï¼Œæˆ‘ä»¬å°†é‡å¤å…ƒç´ æ”¾åœ¨ä¸­é—´</span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>     ç„¶åå¯¹å·¦å¯¹å³è¿›è¡Œåˆ†åˆ«é€’å½’</span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>     è¿™æ ·å­å‡å°‘å¯¹é‡å¤çš„æ’åº</span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;array&quot;&gt;</span><span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;comparer&quot;&gt;</span><span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Sort</span>(<span class=\"params\">T[] array, IComparer&lt;T&gt; comparer</span>)</span></span><br><span class=\"line\">            =&gt; Sort(array, comparer, <span class=\"number\">0</span>, array.Length - <span class=\"number\">1</span>);</span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title\">Sort</span>(<span class=\"params\">T[] array, IComparer&lt;T&gt; comparer, <span class=\"built_in\">int</span> left, <span class=\"built_in\">int</span> right</span>)</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (left &gt;= right)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">var</span> (lt, rt) = Partition(array, comparer, left, right);</span><br><span class=\"line\">            Sort(array, comparer, left, lt - <span class=\"number\">1</span>);</span><br><span class=\"line\">            Sort(array, comparer, rt + <span class=\"number\">1</span>, right);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">private</span> (<span class=\"built_in\">int</span> lt, <span class=\"built_in\">int</span> rt) Partition(T[] array, IComparer&lt;T&gt; comparer, <span class=\"built_in\">int</span> left, <span class=\"built_in\">int</span> right)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> pivot = array[left];</span><br><span class=\"line\">            <span class=\"keyword\">var</span> lt = left;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> i = left + <span class=\"number\">1</span>;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> rt = right;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">while</span> (i &lt;= rt)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">                <span class=\"keyword\">var</span> cmp = comparer.Compare(array[i], pivot);</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (cmp &lt; <span class=\"number\">0</span>)</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    Swap(array, lt++, i++);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (cmp &gt; <span class=\"number\">0</span>)</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    Swap(array, i, rt--);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                <span class=\"keyword\">else</span></span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    i++;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">return</span> (lt, rt);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title\">Swap</span>(<span class=\"params\">T[] array, <span class=\"built_in\">int</span> x, <span class=\"built_in\">int</span> y</span>)</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> temp = array[x];</span><br><span class=\"line\">            array[x] = array[y];</span><br><span class=\"line\">            array[y] = temp;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"å †æ’åº\"><a href=\"#å †æ’åº\" class=\"headerlink\" title=\"å †æ’åº\"></a>å †æ’åº</h3><p>å †æ’åºå³æ˜¯åˆ©ç”¨å †çš„ç‰¹æ€§æ¥è¿›è¡Œæ’åºï¼Œå¾—å‡ºå¾—ç»“æœæ˜¯è®©æ•°ç»„ä¸ºä¸€ä¸ªå¤§æ ¹å †æ•°ç»„ï¼Œè€Œä¸æ˜¯æœ‰åºæ•°ç»„ï¼Œè‹¥è¦è·å¾—æœ‰åºæ•°ç»„ï¼Œéœ€è¦å°†å †é¡¶ä¸€ä¸ªä¸€ä¸ªæ‹¿å‡ºæ¥ï¼Œæ‹¿å‡ºå †é¡¶æ—¶é—´ä¸ºO(1)ï¼Œç»´æŠ¤å‰©ä½™çš„å †éœ€è¦lognï¼Œæ‰€ä»¥æ€»çš„æ—¶é—´å¤æ‚åº¦ä¸ºnlogn </p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">Algorithms.Sorters</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span>     å®ç°å †æ’åºçš„ç±» è¿™é‡Œæ˜¯å°æ ¹å †</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;typeparam name=&quot;T&quot;&gt;</span>æ•°ç»„å…ƒç´ ç±»å‹<span class=\"doctag\">&lt;/typeparam&gt;</span></span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">HeapSorter</span>&lt;<span class=\"title\">T</span>&gt; : <span class=\"title\">IComparisonSorter</span>&lt;<span class=\"title\">T</span>&gt;</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>     æ—¶é—´å¤æ‚åº¦ O(nlogn)</span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;array&quot;&gt;</span><span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;comparer&quot;&gt;</span><span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Sort</span>(<span class=\"params\">T[] array, IComparer&lt;T&gt; comparer</span>)</span></span><br><span class=\"line\">            =&gt; HeapSort(array, comparer);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">HeapSort</span>(<span class=\"params\">IList&lt;T&gt; data, IComparer&lt;T&gt; comparer</span>)</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"comment\">// åˆ›å»ºå †ï¼Ÿ</span></span><br><span class=\"line\">            <span class=\"keyword\">var</span> heapSize = data.Count;</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> p = (heapSize - <span class=\"number\">1</span>) / <span class=\"number\">2</span>; p &gt;= <span class=\"number\">0</span>; p--)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                  MakeHeap(data, heapSize, p, comparer);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\">// å°†é™åºå †è½¬åŒ–ä¸ºå‡åºé˜Ÿåˆ—ï¼Œå³å°†æ¯ä¸ªå¤§æ ¹å †å †é¡¶çš„å…ƒç´ å–èµ°ç„¶åé‡å¡‘å †</span></span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = data.Count - <span class=\"number\">1</span>; i &gt;= <span class=\"number\">0</span>; i--)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">var</span> temp = data[i];</span><br><span class=\"line\">                data[i] = data[<span class=\"number\">0</span>];</span><br><span class=\"line\">                data[<span class=\"number\">0</span>] = temp;</span><br><span class=\"line\"></span><br><span class=\"line\">                heapSize--;</span><br><span class=\"line\">                MakeHeap(data, heapSize, <span class=\"number\">0</span>, comparer);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">MakeHeap</span>(<span class=\"params\">IList&lt;T&gt; data, <span class=\"built_in\">int</span> heapSize, <span class=\"built_in\">int</span> index, IComparer&lt;T&gt; comparer</span>)</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> largest = index;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> left = <span class=\"number\">2</span> * (index + <span class=\"number\">1</span>) - <span class=\"number\">1</span>;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> right = <span class=\"number\">2</span> * (index + <span class=\"number\">1</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (left &lt; heapSize &amp;&amp; comparer.Compare(data[left], data[largest]) &gt; <span class=\"number\">0</span>)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                largest = left;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (right &lt; heapSize &amp;&amp; comparer.Compare(data[right], data[largest]) &gt; <span class=\"number\">0</span>)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                largest = right;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (largest != index)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">var</span> temp = data[index];</span><br><span class=\"line\">                data[index] = data[largest];</span><br><span class=\"line\">                data[largest] = temp;</span><br><span class=\"line\"></span><br><span class=\"line\">                MakeHeap(data, heapSize, largest, comparer);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"æ€»ç»“\"><a href=\"#æ€»ç»“\" class=\"headerlink\" title=\"æ€»ç»“\"></a>æ€»ç»“</h3><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/202302051329717.png\" alt=\"img\"></p>\n<p>å¯ä»¥ç›´ç™½çš„è¯´ï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œå¿«é€Ÿæ’åºæ˜¯æœ€ä½³é€‰æ‹©ã€‚æˆ‘ä»¬åœ¨å·¥ç¨‹å®è·µä¸Šé€šå¸¸ç”¨çš„æ˜¯å®˜æ–¹æä¾›çš„åº“ï¼Œé™¤éæ˜¯è¦å†™çš„è¯­è¨€æ²¡æœ‰æä¾›å®˜æ–¹åº“ï¼Œæˆ–è€…æ˜¯å®˜æ–¹åº“çš„ç®—æ³•ä¸å¤ªç†æƒ³ï¼Œæ‰ä¼šå»è‡ªå·±æ‰‹å†™æ’åºã€‚</p>\n"},{"title":"TSP","date":"2023-05-28T11:01:14.000Z","_content":"\n#### ç®€ä»‹\n\n> TSPå…¨ç§°ä¸ºTravelling Salesman Problemï¼ˆæ—…è¡Œå•†é—®é¢˜ï¼‰ï¼Œé€šä¿—è€Œè¨€ï¼Œå®ƒæ˜¯æŒ‡å¯¹äºç»™å®šçš„ä¸€ç³»åˆ—åŸå¸‚å’Œæ¯å¯¹åŸå¸‚ä¹‹é—´çš„è·ç¦»ï¼Œæ‰¾åˆ°è®¿é—®æ¯ä¸€åº§åŸå¸‚ä»…ä¸€æ¬¡å¹¶å›åˆ°èµ·å§‹åŸå¸‚çš„æœ€çŸ­å›è·¯ã€‚\n> ç”±äºæ±‚ç²¾ç¡®è§£çš„æ—¶é—´å¤æ‚åº¦å¾ˆå¤§ï¼Œè¡ç”Ÿå‡ºäº†å¾ˆå¤šè¿‘ä¼¼ç®—æ³•ï¼Œä¸è¿‡åœ¨è¿™é‡Œä¸è®¨è®ºï¼Œæˆ‘ä»¬åœ¨è¿™é‡Œåªè®¨è®ºç²¾ç¡®è§£DPç®—æ³•\n\n- æœ‰nä¸ªåŸå¸‚ï¼Œä»èµ·ç‚¹ 0 å¼€å§‹æ¸¸å†æ¯ä¸€ä¸ªåŸå¸‚ï¼Œåªè®¿é—®æ¯ä¸ªåŸå¸‚ä¸€æ¬¡ï¼Œæœ€åå›åˆ°èµ·ç‚¹ï¼Œæ‰€éœ€è¦çš„æœ€çŸ­è·¯å¾„æ˜¯å¤šå°‘ï¼Ÿ\n- å®šä¹‰dp[S][i] ,Sä¸ºé›†åˆå³å·²ç»èµ°è¿‡çš„åŸå¸‚ï¼Œä½†æ˜¯ä»0ä¸ªåŸå¸‚åˆ°æ‰€æœ‰åŸå¸‚çš„é›†åˆå¤ªå¤šäº†ï¼Œæ‰€ä»¥æˆ‘ä»¬é‡‡ç”¨çŠ¶æ€å‹ç¼©ï¼Œä¾¿äºéå†ã€‚dp[S][i] å³åœ¨iç‚¹ç»“æŸï¼Œé›†åˆSä¸­æ¯ä¸ªç‚¹æ°å¥½èµ°è¿‡ä¸€æ¬¡æ—¶çš„æœ€çŸ­è·¯é•¿åº¦\n- æ‰€ä»¥æœ€ç»ˆç­”æ¡ˆæ˜¯ min(dp[S][i]),Sä¸ºæ‰€æœ‰åŸå¸‚ï¼Œiçš„è¯æ¯ä¸ªç‚¹éƒ½å¯èƒ½æ˜¯ç»ˆç‚¹ã€‚\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230528224632.png)\n\nå®¹æ˜“å¾—å‡ºä»¥ä¸ŠçŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼Œå³dp[S][i] = min(ä¸åŒ…æ‹¬ i çš„é›†åˆ + j åˆ° i çš„è·ç¦») \nä¸Šå›¾æœ‰äº›é”™è¯¯ï¼Œåº”è¯¥æ˜¯ **dp[S-{i}]** ,ä¸‹é¢çœ‹ä»£ç \n\n\n\n**å‚è€ƒä»£ç ï¼Œæ¨¡æ¿**ï¼š\n```c++\n#include <iostream>\n#include <vector>\n\nusing namespace std;\n\nconst int n = 4;\n\nint d[n][n] = {\n    {0, 10, 15, 20},\n    {10, 0, 25, 25},\n    {15, 25, 0, 30},\n    {20, 25, 30, 0},\n};\n\nint main()\n{\n    int minn = INT_MAX;\n    vector<vector<int>> dp(1 << n, vector<int>(n));\n\n    for (int nowstate = 1; nowstate < (1 << n); ++nowstate) // é›†åˆå˜åŒ–\n    {\n        dp[nowstate] = vector<int>(n, INT_MAX);// åˆå§‹åŒ–dpæ•°ç»„\n        for (int j = 0; j < n; ++j)\n        {\n            if ((nowstate & (1 << j))) // å¦‚æœç°åœ¨çš„çŠ¶æ€åŒ…æ‹¬ j è¿™ä¸ªåŸå¸‚\n            {\n                int preState = nowstate ^ (1 << j);\n                if (preState == 0) // å¦‚æœé›†åˆåªåŒ…æ‹¬ j è¿™ä¸ªåŸå¸‚ é‚£ä¹ˆdpå€¼ä¸º d[0][j] å‡è®¾èµ·ç‚¹æ˜¯0çš„è¯\n                    dp[nowstate][j] = d[0][j];\n                else // é›†åˆä¸æ­¢ j è¿™ä¸ªåŸå¸‚ , éå† 0 ~ n åŸå¸‚ï¼Œå¦‚æœå‰ç½®çŠ¶æ€ä¹Ÿå°±æ˜¯ S - {j} è¿™ä¸ªé›†åˆéƒ½æ²¡æ›´æ–°çš„è¯å°±ä¸ç”¨ç†äº†ï¼Œå¦‚æœæ›´æ–°äº†å°±è¿›è¡Œæ¯”è¾ƒ\n                {\n                    for (int i = 0; i < n; ++i)\n                    {\n                        if (dp[preState][i] < INT_MAX && dp[preState][i] + d[i][j] < dp[nowstate][j])\n                            dp[nowstate][j] = dp[preState][i] + d[i][j];\n                    }\n                }\n            }\n        }\n    }\n    for (int j = 0; j < n; ++j)\n        minn = min(minn, dp[(1 << n) - 1][j] + d[0][j]); // å¦‚æœæ˜¯è¦æ±‚ç¯å°±åŠ ä¸Š d[0][j] å¦‚æœä¸æ˜¯çš„è¯å°±ä¸ç”¨åŠ \n    cout << minn << endl;\n    return 0;\n}\n```\n\n**943.æœ€çŸ­è¶…çº§ä¸²**:\n```c++\n#include <iostream>\n#include <string>\n#include <vector>\n#include <stack>\n#include <bitset>\nusing namespace std;\n\nint calu(const string &a, const string &b);\n\nstring shortestSuperstring(vector<string> &words)\n{\n    int n = words.size();\n\n    vector<vector<int>> graph(n, vector<int>(n));\n\n    for (int i = 0; i < n; ++i)\n    {\n        for (int j = 0; j < i; ++j)\n        {\n            graph[i][j] = calu(words[i], words[j]);\n            graph[j][i] = calu(words[j], words[i]);\n        }\n    }\n\n    vector<vector<int>> dp(1 << n, vector<int>(n));\n    vector<vector<int>> path(1 << n, vector<int>(n));\n\n    for (int now_state = 1; now_state < (1 << n); ++now_state)\n    {\n        dp[now_state] = vector<int>(n, INT_MAX);\n\n        for (int j = 0; j < n; ++j)\n        {\n            if ((now_state & (1 << j)) > 0)\n            {\n                int pre_state = now_state ^ (1 << j);\n                if (pre_state == 0)\n                    dp[now_state][j] = words[j].size();\n                else\n                {\n                    for (int i = 0; i < n; ++i)\n                    {\n                        if (dp[pre_state][i] < INT_MAX && dp[pre_state][i] + graph[i][j] < dp[now_state][j])\n                        {\n                            dp[now_state][j] = dp[pre_state][i] + graph[i][j];\n                            path[now_state][j] = i;\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    int last = -1, minn = INT_MAX;\n    for (int i = (1 << n) - 1, j = 0; j < n; ++j)\n    {\n        if (dp[i][j] < minn)\n        {\n            minn = dp[i][j];\n            last = j;\n        }\n    }\n\n    int cur = (1 << n) - 1;\n    stack<int> s;\n    while (cur > 0)\n    {\n        s.push(last);\n        int temp = cur;\n        cur ^= (1 << last);\n        last = path[temp][last];\n    }\n\n    string result = \"\";\n    int i = s.top();\n    s.pop();\n    result += words[i];\n    while (!s.empty())\n    {\n        int j = s.top();\n        s.pop();\n        result += (words[j].substr(words[j].size() - graph[i][j]));\n        i = j;\n    }\n    return result;\n}\n\nint calu(const string &a, const string &b)\n{\n    for (int i = 0; i < a.size(); ++i)\n        if (b.rfind(a.substr(i), 0) == 0)\n            return b.size() - (a.size() - i);\n\n    return b.size();\n}\n\nint main()\n{\n    vector<string> words{\"ab\", \"a\", \"b\"};\n\n    cout << shortestSuperstring(words);\n\n    return 0;\n}\n```\n\n#### å‚è€ƒ\n\n- [Leetcode -Travelling Salesman Problem](https://leetcode.com/problems/find-the-shortest-superstring/solutions/194932/travelling-salesman-problem/)\n- [å¼€å­¦ç®—æ³•ç»ƒä¹ â€”çŠ¶æ€å‹ç¼©DPè§£å†³TSPé—®é¢˜](https://zhuanlan.zhihu.com/p/609551220)\n- [Travelling Salesman Problem using Dynamic Programming](https://www.geeksforgeeks.org/travelling-salesman-problem-using-dynamic-programming/)\n- [é¢˜è§£ P1433 ã€åƒå¥¶é…ªã€‘](https://www.luogu.com.cn/blog/Starlight237/solution-p1433)\n","source":"_posts/TSP.md","raw":"---\ntitle: TSP\ndate: 2023-05-28 19:01:14\n---\n\n#### ç®€ä»‹\n\n> TSPå…¨ç§°ä¸ºTravelling Salesman Problemï¼ˆæ—…è¡Œå•†é—®é¢˜ï¼‰ï¼Œé€šä¿—è€Œè¨€ï¼Œå®ƒæ˜¯æŒ‡å¯¹äºç»™å®šçš„ä¸€ç³»åˆ—åŸå¸‚å’Œæ¯å¯¹åŸå¸‚ä¹‹é—´çš„è·ç¦»ï¼Œæ‰¾åˆ°è®¿é—®æ¯ä¸€åº§åŸå¸‚ä»…ä¸€æ¬¡å¹¶å›åˆ°èµ·å§‹åŸå¸‚çš„æœ€çŸ­å›è·¯ã€‚\n> ç”±äºæ±‚ç²¾ç¡®è§£çš„æ—¶é—´å¤æ‚åº¦å¾ˆå¤§ï¼Œè¡ç”Ÿå‡ºäº†å¾ˆå¤šè¿‘ä¼¼ç®—æ³•ï¼Œä¸è¿‡åœ¨è¿™é‡Œä¸è®¨è®ºï¼Œæˆ‘ä»¬åœ¨è¿™é‡Œåªè®¨è®ºç²¾ç¡®è§£DPç®—æ³•\n\n- æœ‰nä¸ªåŸå¸‚ï¼Œä»èµ·ç‚¹ 0 å¼€å§‹æ¸¸å†æ¯ä¸€ä¸ªåŸå¸‚ï¼Œåªè®¿é—®æ¯ä¸ªåŸå¸‚ä¸€æ¬¡ï¼Œæœ€åå›åˆ°èµ·ç‚¹ï¼Œæ‰€éœ€è¦çš„æœ€çŸ­è·¯å¾„æ˜¯å¤šå°‘ï¼Ÿ\n- å®šä¹‰dp[S][i] ,Sä¸ºé›†åˆå³å·²ç»èµ°è¿‡çš„åŸå¸‚ï¼Œä½†æ˜¯ä»0ä¸ªåŸå¸‚åˆ°æ‰€æœ‰åŸå¸‚çš„é›†åˆå¤ªå¤šäº†ï¼Œæ‰€ä»¥æˆ‘ä»¬é‡‡ç”¨çŠ¶æ€å‹ç¼©ï¼Œä¾¿äºéå†ã€‚dp[S][i] å³åœ¨iç‚¹ç»“æŸï¼Œé›†åˆSä¸­æ¯ä¸ªç‚¹æ°å¥½èµ°è¿‡ä¸€æ¬¡æ—¶çš„æœ€çŸ­è·¯é•¿åº¦\n- æ‰€ä»¥æœ€ç»ˆç­”æ¡ˆæ˜¯ min(dp[S][i]),Sä¸ºæ‰€æœ‰åŸå¸‚ï¼Œiçš„è¯æ¯ä¸ªç‚¹éƒ½å¯èƒ½æ˜¯ç»ˆç‚¹ã€‚\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230528224632.png)\n\nå®¹æ˜“å¾—å‡ºä»¥ä¸ŠçŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼Œå³dp[S][i] = min(ä¸åŒ…æ‹¬ i çš„é›†åˆ + j åˆ° i çš„è·ç¦») \nä¸Šå›¾æœ‰äº›é”™è¯¯ï¼Œåº”è¯¥æ˜¯ **dp[S-{i}]** ,ä¸‹é¢çœ‹ä»£ç \n\n\n\n**å‚è€ƒä»£ç ï¼Œæ¨¡æ¿**ï¼š\n```c++\n#include <iostream>\n#include <vector>\n\nusing namespace std;\n\nconst int n = 4;\n\nint d[n][n] = {\n    {0, 10, 15, 20},\n    {10, 0, 25, 25},\n    {15, 25, 0, 30},\n    {20, 25, 30, 0},\n};\n\nint main()\n{\n    int minn = INT_MAX;\n    vector<vector<int>> dp(1 << n, vector<int>(n));\n\n    for (int nowstate = 1; nowstate < (1 << n); ++nowstate) // é›†åˆå˜åŒ–\n    {\n        dp[nowstate] = vector<int>(n, INT_MAX);// åˆå§‹åŒ–dpæ•°ç»„\n        for (int j = 0; j < n; ++j)\n        {\n            if ((nowstate & (1 << j))) // å¦‚æœç°åœ¨çš„çŠ¶æ€åŒ…æ‹¬ j è¿™ä¸ªåŸå¸‚\n            {\n                int preState = nowstate ^ (1 << j);\n                if (preState == 0) // å¦‚æœé›†åˆåªåŒ…æ‹¬ j è¿™ä¸ªåŸå¸‚ é‚£ä¹ˆdpå€¼ä¸º d[0][j] å‡è®¾èµ·ç‚¹æ˜¯0çš„è¯\n                    dp[nowstate][j] = d[0][j];\n                else // é›†åˆä¸æ­¢ j è¿™ä¸ªåŸå¸‚ , éå† 0 ~ n åŸå¸‚ï¼Œå¦‚æœå‰ç½®çŠ¶æ€ä¹Ÿå°±æ˜¯ S - {j} è¿™ä¸ªé›†åˆéƒ½æ²¡æ›´æ–°çš„è¯å°±ä¸ç”¨ç†äº†ï¼Œå¦‚æœæ›´æ–°äº†å°±è¿›è¡Œæ¯”è¾ƒ\n                {\n                    for (int i = 0; i < n; ++i)\n                    {\n                        if (dp[preState][i] < INT_MAX && dp[preState][i] + d[i][j] < dp[nowstate][j])\n                            dp[nowstate][j] = dp[preState][i] + d[i][j];\n                    }\n                }\n            }\n        }\n    }\n    for (int j = 0; j < n; ++j)\n        minn = min(minn, dp[(1 << n) - 1][j] + d[0][j]); // å¦‚æœæ˜¯è¦æ±‚ç¯å°±åŠ ä¸Š d[0][j] å¦‚æœä¸æ˜¯çš„è¯å°±ä¸ç”¨åŠ \n    cout << minn << endl;\n    return 0;\n}\n```\n\n**943.æœ€çŸ­è¶…çº§ä¸²**:\n```c++\n#include <iostream>\n#include <string>\n#include <vector>\n#include <stack>\n#include <bitset>\nusing namespace std;\n\nint calu(const string &a, const string &b);\n\nstring shortestSuperstring(vector<string> &words)\n{\n    int n = words.size();\n\n    vector<vector<int>> graph(n, vector<int>(n));\n\n    for (int i = 0; i < n; ++i)\n    {\n        for (int j = 0; j < i; ++j)\n        {\n            graph[i][j] = calu(words[i], words[j]);\n            graph[j][i] = calu(words[j], words[i]);\n        }\n    }\n\n    vector<vector<int>> dp(1 << n, vector<int>(n));\n    vector<vector<int>> path(1 << n, vector<int>(n));\n\n    for (int now_state = 1; now_state < (1 << n); ++now_state)\n    {\n        dp[now_state] = vector<int>(n, INT_MAX);\n\n        for (int j = 0; j < n; ++j)\n        {\n            if ((now_state & (1 << j)) > 0)\n            {\n                int pre_state = now_state ^ (1 << j);\n                if (pre_state == 0)\n                    dp[now_state][j] = words[j].size();\n                else\n                {\n                    for (int i = 0; i < n; ++i)\n                    {\n                        if (dp[pre_state][i] < INT_MAX && dp[pre_state][i] + graph[i][j] < dp[now_state][j])\n                        {\n                            dp[now_state][j] = dp[pre_state][i] + graph[i][j];\n                            path[now_state][j] = i;\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    int last = -1, minn = INT_MAX;\n    for (int i = (1 << n) - 1, j = 0; j < n; ++j)\n    {\n        if (dp[i][j] < minn)\n        {\n            minn = dp[i][j];\n            last = j;\n        }\n    }\n\n    int cur = (1 << n) - 1;\n    stack<int> s;\n    while (cur > 0)\n    {\n        s.push(last);\n        int temp = cur;\n        cur ^= (1 << last);\n        last = path[temp][last];\n    }\n\n    string result = \"\";\n    int i = s.top();\n    s.pop();\n    result += words[i];\n    while (!s.empty())\n    {\n        int j = s.top();\n        s.pop();\n        result += (words[j].substr(words[j].size() - graph[i][j]));\n        i = j;\n    }\n    return result;\n}\n\nint calu(const string &a, const string &b)\n{\n    for (int i = 0; i < a.size(); ++i)\n        if (b.rfind(a.substr(i), 0) == 0)\n            return b.size() - (a.size() - i);\n\n    return b.size();\n}\n\nint main()\n{\n    vector<string> words{\"ab\", \"a\", \"b\"};\n\n    cout << shortestSuperstring(words);\n\n    return 0;\n}\n```\n\n#### å‚è€ƒ\n\n- [Leetcode -Travelling Salesman Problem](https://leetcode.com/problems/find-the-shortest-superstring/solutions/194932/travelling-salesman-problem/)\n- [å¼€å­¦ç®—æ³•ç»ƒä¹ â€”çŠ¶æ€å‹ç¼©DPè§£å†³TSPé—®é¢˜](https://zhuanlan.zhihu.com/p/609551220)\n- [Travelling Salesman Problem using Dynamic Programming](https://www.geeksforgeeks.org/travelling-salesman-problem-using-dynamic-programming/)\n- [é¢˜è§£ P1433 ã€åƒå¥¶é…ªã€‘](https://www.luogu.com.cn/blog/Starlight237/solution-p1433)\n","slug":"TSP","published":1,"updated":"2024-01-07T07:46:38.663Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clr4d2ju10007gwv00t535uxl","content":"<h4 id=\"ç®€ä»‹\"><a href=\"#ç®€ä»‹\" class=\"headerlink\" title=\"ç®€ä»‹\"></a>ç®€ä»‹</h4><blockquote>\n<p>TSPå…¨ç§°ä¸ºTravelling Salesman Problemï¼ˆæ—…è¡Œå•†é—®é¢˜ï¼‰ï¼Œé€šä¿—è€Œè¨€ï¼Œå®ƒæ˜¯æŒ‡å¯¹äºç»™å®šçš„ä¸€ç³»åˆ—åŸå¸‚å’Œæ¯å¯¹åŸå¸‚ä¹‹é—´çš„è·ç¦»ï¼Œæ‰¾åˆ°è®¿é—®æ¯ä¸€åº§åŸå¸‚ä»…ä¸€æ¬¡å¹¶å›åˆ°èµ·å§‹åŸå¸‚çš„æœ€çŸ­å›è·¯ã€‚<br>ç”±äºæ±‚ç²¾ç¡®è§£çš„æ—¶é—´å¤æ‚åº¦å¾ˆå¤§ï¼Œè¡ç”Ÿå‡ºäº†å¾ˆå¤šè¿‘ä¼¼ç®—æ³•ï¼Œä¸è¿‡åœ¨è¿™é‡Œä¸è®¨è®ºï¼Œæˆ‘ä»¬åœ¨è¿™é‡Œåªè®¨è®ºç²¾ç¡®è§£DPç®—æ³•</p>\n</blockquote>\n<ul>\n<li>æœ‰nä¸ªåŸå¸‚ï¼Œä»èµ·ç‚¹ 0 å¼€å§‹æ¸¸å†æ¯ä¸€ä¸ªåŸå¸‚ï¼Œåªè®¿é—®æ¯ä¸ªåŸå¸‚ä¸€æ¬¡ï¼Œæœ€åå›åˆ°èµ·ç‚¹ï¼Œæ‰€éœ€è¦çš„æœ€çŸ­è·¯å¾„æ˜¯å¤šå°‘ï¼Ÿ</li>\n<li>å®šä¹‰dp[S][i] ,Sä¸ºé›†åˆå³å·²ç»èµ°è¿‡çš„åŸå¸‚ï¼Œä½†æ˜¯ä»0ä¸ªåŸå¸‚åˆ°æ‰€æœ‰åŸå¸‚çš„é›†åˆå¤ªå¤šäº†ï¼Œæ‰€ä»¥æˆ‘ä»¬é‡‡ç”¨çŠ¶æ€å‹ç¼©ï¼Œä¾¿äºéå†ã€‚dp[S][i] å³åœ¨iç‚¹ç»“æŸï¼Œé›†åˆSä¸­æ¯ä¸ªç‚¹æ°å¥½èµ°è¿‡ä¸€æ¬¡æ—¶çš„æœ€çŸ­è·¯é•¿åº¦</li>\n<li>æ‰€ä»¥æœ€ç»ˆç­”æ¡ˆæ˜¯ min(dp[S][i]),Sä¸ºæ‰€æœ‰åŸå¸‚ï¼Œiçš„è¯æ¯ä¸ªç‚¹éƒ½å¯èƒ½æ˜¯ç»ˆç‚¹ã€‚</li>\n</ul>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230528224632.png\"></p>\n<p>å®¹æ˜“å¾—å‡ºä»¥ä¸ŠçŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼Œå³dp[S][i] &#x3D; min(ä¸åŒ…æ‹¬ i çš„é›†åˆ + j åˆ° i çš„è·ç¦»)<br>ä¸Šå›¾æœ‰äº›é”™è¯¯ï¼Œåº”è¯¥æ˜¯ <strong>dp[S-{i}]</strong> ,ä¸‹é¢çœ‹ä»£ç </p>\n<p><strong>å‚è€ƒä»£ç ï¼Œæ¨¡æ¿</strong>ï¼š</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;iostream&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;vector&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> n = <span class=\"number\">4</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> d[n][n] = &#123;</span><br><span class=\"line\">    &#123;<span class=\"number\">0</span>, <span class=\"number\">10</span>, <span class=\"number\">15</span>, <span class=\"number\">20</span>&#125;,</span><br><span class=\"line\">    &#123;<span class=\"number\">10</span>, <span class=\"number\">0</span>, <span class=\"number\">25</span>, <span class=\"number\">25</span>&#125;,</span><br><span class=\"line\">    &#123;<span class=\"number\">15</span>, <span class=\"number\">25</span>, <span class=\"number\">0</span>, <span class=\"number\">30</span>&#125;,</span><br><span class=\"line\">    &#123;<span class=\"number\">20</span>, <span class=\"number\">25</span>, <span class=\"number\">30</span>, <span class=\"number\">0</span>&#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> minn = INT_MAX;</span><br><span class=\"line\">    vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; <span class=\"built_in\">dp</span>(<span class=\"number\">1</span> &lt;&lt; n, <span class=\"built_in\">vector</span>&lt;<span class=\"type\">int</span>&gt;(n));</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> nowstate = <span class=\"number\">1</span>; nowstate &lt; (<span class=\"number\">1</span> &lt;&lt; n); ++nowstate) <span class=\"comment\">// é›†åˆå˜åŒ–</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        dp[nowstate] = <span class=\"built_in\">vector</span>&lt;<span class=\"type\">int</span>&gt;(n, INT_MAX);<span class=\"comment\">// åˆå§‹åŒ–dpæ•°ç»„</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> j = <span class=\"number\">0</span>; j &lt; n; ++j)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> ((nowstate &amp; (<span class=\"number\">1</span> &lt;&lt; j))) <span class=\"comment\">// å¦‚æœç°åœ¨çš„çŠ¶æ€åŒ…æ‹¬ j è¿™ä¸ªåŸå¸‚</span></span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"type\">int</span> preState = nowstate ^ (<span class=\"number\">1</span> &lt;&lt; j);</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (preState == <span class=\"number\">0</span>) <span class=\"comment\">// å¦‚æœé›†åˆåªåŒ…æ‹¬ j è¿™ä¸ªåŸå¸‚ é‚£ä¹ˆdpå€¼ä¸º d[0][j] å‡è®¾èµ·ç‚¹æ˜¯0çš„è¯</span></span><br><span class=\"line\">                    dp[nowstate][j] = d[<span class=\"number\">0</span>][j];</span><br><span class=\"line\">                <span class=\"keyword\">else</span> <span class=\"comment\">// é›†åˆä¸æ­¢ j è¿™ä¸ªåŸå¸‚ , éå† 0 ~ n åŸå¸‚ï¼Œå¦‚æœå‰ç½®çŠ¶æ€ä¹Ÿå°±æ˜¯ S - &#123;j&#125; è¿™ä¸ªé›†åˆéƒ½æ²¡æ›´æ–°çš„è¯å°±ä¸ç”¨ç†äº†ï¼Œå¦‚æœæ›´æ–°äº†å°±è¿›è¡Œæ¯”è¾ƒ</span></span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; n; ++i)</span><br><span class=\"line\">                    &#123;</span><br><span class=\"line\">                        <span class=\"keyword\">if</span> (dp[preState][i] &lt; INT_MAX &amp;&amp; dp[preState][i] + d[i][j] &lt; dp[nowstate][j])</span><br><span class=\"line\">                            dp[nowstate][j] = dp[preState][i] + d[i][j];</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> j = <span class=\"number\">0</span>; j &lt; n; ++j)</span><br><span class=\"line\">        minn = <span class=\"built_in\">min</span>(minn, dp[(<span class=\"number\">1</span> &lt;&lt; n) - <span class=\"number\">1</span>][j] + d[<span class=\"number\">0</span>][j]); <span class=\"comment\">// å¦‚æœæ˜¯è¦æ±‚ç¯å°±åŠ ä¸Š d[0][j] å¦‚æœä¸æ˜¯çš„è¯å°±ä¸ç”¨åŠ </span></span><br><span class=\"line\">    cout &lt;&lt; minn &lt;&lt; endl;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>943.æœ€çŸ­è¶…çº§ä¸²</strong>:</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;iostream&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;string&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;vector&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;stack&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;bitset&gt;</span></span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">calu</span><span class=\"params\">(<span class=\"type\">const</span> string &amp;a, <span class=\"type\">const</span> string &amp;b)</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\">string <span class=\"title\">shortestSuperstring</span><span class=\"params\">(vector&lt;string&gt; &amp;words)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> n = words.<span class=\"built_in\">size</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">    vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; <span class=\"built_in\">graph</span>(n, <span class=\"built_in\">vector</span>&lt;<span class=\"type\">int</span>&gt;(n));</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; n; ++i)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> j = <span class=\"number\">0</span>; j &lt; i; ++j)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            graph[i][j] = <span class=\"built_in\">calu</span>(words[i], words[j]);</span><br><span class=\"line\">            graph[j][i] = <span class=\"built_in\">calu</span>(words[j], words[i]);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; <span class=\"built_in\">dp</span>(<span class=\"number\">1</span> &lt;&lt; n, <span class=\"built_in\">vector</span>&lt;<span class=\"type\">int</span>&gt;(n));</span><br><span class=\"line\">    vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; <span class=\"built_in\">path</span>(<span class=\"number\">1</span> &lt;&lt; n, <span class=\"built_in\">vector</span>&lt;<span class=\"type\">int</span>&gt;(n));</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> now_state = <span class=\"number\">1</span>; now_state &lt; (<span class=\"number\">1</span> &lt;&lt; n); ++now_state)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        dp[now_state] = <span class=\"built_in\">vector</span>&lt;<span class=\"type\">int</span>&gt;(n, INT_MAX);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> j = <span class=\"number\">0</span>; j &lt; n; ++j)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> ((now_state &amp; (<span class=\"number\">1</span> &lt;&lt; j)) &gt; <span class=\"number\">0</span>)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"type\">int</span> pre_state = now_state ^ (<span class=\"number\">1</span> &lt;&lt; j);</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (pre_state == <span class=\"number\">0</span>)</span><br><span class=\"line\">                    dp[now_state][j] = words[j].<span class=\"built_in\">size</span>();</span><br><span class=\"line\">                <span class=\"keyword\">else</span></span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; n; ++i)</span><br><span class=\"line\">                    &#123;</span><br><span class=\"line\">                        <span class=\"keyword\">if</span> (dp[pre_state][i] &lt; INT_MAX &amp;&amp; dp[pre_state][i] + graph[i][j] &lt; dp[now_state][j])</span><br><span class=\"line\">                        &#123;</span><br><span class=\"line\">                            dp[now_state][j] = dp[pre_state][i] + graph[i][j];</span><br><span class=\"line\">                            path[now_state][j] = i;</span><br><span class=\"line\">                        &#125;</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"type\">int</span> last = <span class=\"number\">-1</span>, minn = INT_MAX;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = (<span class=\"number\">1</span> &lt;&lt; n) - <span class=\"number\">1</span>, j = <span class=\"number\">0</span>; j &lt; n; ++j)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (dp[i][j] &lt; minn)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            minn = dp[i][j];</span><br><span class=\"line\">            last = j;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"type\">int</span> cur = (<span class=\"number\">1</span> &lt;&lt; n) - <span class=\"number\">1</span>;</span><br><span class=\"line\">    stack&lt;<span class=\"type\">int</span>&gt; s;</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (cur &gt; <span class=\"number\">0</span>)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        s.<span class=\"built_in\">push</span>(last);</span><br><span class=\"line\">        <span class=\"type\">int</span> temp = cur;</span><br><span class=\"line\">        cur ^= (<span class=\"number\">1</span> &lt;&lt; last);</span><br><span class=\"line\">        last = path[temp][last];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    string result = <span class=\"string\">&quot;&quot;</span>;</span><br><span class=\"line\">    <span class=\"type\">int</span> i = s.<span class=\"built_in\">top</span>();</span><br><span class=\"line\">    s.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">    result += words[i];</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (!s.<span class=\"built_in\">empty</span>())</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> j = s.<span class=\"built_in\">top</span>();</span><br><span class=\"line\">        s.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">        result += (words[j].<span class=\"built_in\">substr</span>(words[j].<span class=\"built_in\">size</span>() - graph[i][j]));</span><br><span class=\"line\">        i = j;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">calu</span><span class=\"params\">(<span class=\"type\">const</span> string &amp;a, <span class=\"type\">const</span> string &amp;b)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; a.<span class=\"built_in\">size</span>(); ++i)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (b.<span class=\"built_in\">rfind</span>(a.<span class=\"built_in\">substr</span>(i), <span class=\"number\">0</span>) == <span class=\"number\">0</span>)</span><br><span class=\"line\">            <span class=\"keyword\">return</span> b.<span class=\"built_in\">size</span>() - (a.<span class=\"built_in\">size</span>() - i);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> b.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    vector&lt;string&gt; words&#123;<span class=\"string\">&quot;ab&quot;</span>, <span class=\"string\">&quot;a&quot;</span>, <span class=\"string\">&quot;b&quot;</span>&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    cout &lt;&lt; <span class=\"built_in\">shortestSuperstring</span>(words);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"å‚è€ƒ\"><a href=\"#å‚è€ƒ\" class=\"headerlink\" title=\"å‚è€ƒ\"></a>å‚è€ƒ</h4><ul>\n<li><a href=\"https://leetcode.com/problems/find-the-shortest-superstring/solutions/194932/travelling-salesman-problem/\">Leetcode -Travelling Salesman Problem</a></li>\n<li><a href=\"https://zhuanlan.zhihu.com/p/609551220\">å¼€å­¦ç®—æ³•ç»ƒä¹ â€”çŠ¶æ€å‹ç¼©DPè§£å†³TSPé—®é¢˜</a></li>\n<li><a href=\"https://www.geeksforgeeks.org/travelling-salesman-problem-using-dynamic-programming/\">Travelling Salesman Problem using Dynamic Programming</a></li>\n<li><a href=\"https://www.luogu.com.cn/blog/Starlight237/solution-p1433\">é¢˜è§£ P1433 ã€åƒå¥¶é…ªã€‘</a></li>\n</ul>\n","site":{"data":{}},"length":3379,"excerpt":"","more":"<h4 id=\"ç®€ä»‹\"><a href=\"#ç®€ä»‹\" class=\"headerlink\" title=\"ç®€ä»‹\"></a>ç®€ä»‹</h4><blockquote>\n<p>TSPå…¨ç§°ä¸ºTravelling Salesman Problemï¼ˆæ—…è¡Œå•†é—®é¢˜ï¼‰ï¼Œé€šä¿—è€Œè¨€ï¼Œå®ƒæ˜¯æŒ‡å¯¹äºç»™å®šçš„ä¸€ç³»åˆ—åŸå¸‚å’Œæ¯å¯¹åŸå¸‚ä¹‹é—´çš„è·ç¦»ï¼Œæ‰¾åˆ°è®¿é—®æ¯ä¸€åº§åŸå¸‚ä»…ä¸€æ¬¡å¹¶å›åˆ°èµ·å§‹åŸå¸‚çš„æœ€çŸ­å›è·¯ã€‚<br>ç”±äºæ±‚ç²¾ç¡®è§£çš„æ—¶é—´å¤æ‚åº¦å¾ˆå¤§ï¼Œè¡ç”Ÿå‡ºäº†å¾ˆå¤šè¿‘ä¼¼ç®—æ³•ï¼Œä¸è¿‡åœ¨è¿™é‡Œä¸è®¨è®ºï¼Œæˆ‘ä»¬åœ¨è¿™é‡Œåªè®¨è®ºç²¾ç¡®è§£DPç®—æ³•</p>\n</blockquote>\n<ul>\n<li>æœ‰nä¸ªåŸå¸‚ï¼Œä»èµ·ç‚¹ 0 å¼€å§‹æ¸¸å†æ¯ä¸€ä¸ªåŸå¸‚ï¼Œåªè®¿é—®æ¯ä¸ªåŸå¸‚ä¸€æ¬¡ï¼Œæœ€åå›åˆ°èµ·ç‚¹ï¼Œæ‰€éœ€è¦çš„æœ€çŸ­è·¯å¾„æ˜¯å¤šå°‘ï¼Ÿ</li>\n<li>å®šä¹‰dp[S][i] ,Sä¸ºé›†åˆå³å·²ç»èµ°è¿‡çš„åŸå¸‚ï¼Œä½†æ˜¯ä»0ä¸ªåŸå¸‚åˆ°æ‰€æœ‰åŸå¸‚çš„é›†åˆå¤ªå¤šäº†ï¼Œæ‰€ä»¥æˆ‘ä»¬é‡‡ç”¨çŠ¶æ€å‹ç¼©ï¼Œä¾¿äºéå†ã€‚dp[S][i] å³åœ¨iç‚¹ç»“æŸï¼Œé›†åˆSä¸­æ¯ä¸ªç‚¹æ°å¥½èµ°è¿‡ä¸€æ¬¡æ—¶çš„æœ€çŸ­è·¯é•¿åº¦</li>\n<li>æ‰€ä»¥æœ€ç»ˆç­”æ¡ˆæ˜¯ min(dp[S][i]),Sä¸ºæ‰€æœ‰åŸå¸‚ï¼Œiçš„è¯æ¯ä¸ªç‚¹éƒ½å¯èƒ½æ˜¯ç»ˆç‚¹ã€‚</li>\n</ul>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230528224632.png\"></p>\n<p>å®¹æ˜“å¾—å‡ºä»¥ä¸ŠçŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼Œå³dp[S][i] &#x3D; min(ä¸åŒ…æ‹¬ i çš„é›†åˆ + j åˆ° i çš„è·ç¦»)<br>ä¸Šå›¾æœ‰äº›é”™è¯¯ï¼Œåº”è¯¥æ˜¯ <strong>dp[S-{i}]</strong> ,ä¸‹é¢çœ‹ä»£ç </p>\n<p><strong>å‚è€ƒä»£ç ï¼Œæ¨¡æ¿</strong>ï¼š</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;iostream&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;vector&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> n = <span class=\"number\">4</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> d[n][n] = &#123;</span><br><span class=\"line\">    &#123;<span class=\"number\">0</span>, <span class=\"number\">10</span>, <span class=\"number\">15</span>, <span class=\"number\">20</span>&#125;,</span><br><span class=\"line\">    &#123;<span class=\"number\">10</span>, <span class=\"number\">0</span>, <span class=\"number\">25</span>, <span class=\"number\">25</span>&#125;,</span><br><span class=\"line\">    &#123;<span class=\"number\">15</span>, <span class=\"number\">25</span>, <span class=\"number\">0</span>, <span class=\"number\">30</span>&#125;,</span><br><span class=\"line\">    &#123;<span class=\"number\">20</span>, <span class=\"number\">25</span>, <span class=\"number\">30</span>, <span class=\"number\">0</span>&#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> minn = INT_MAX;</span><br><span class=\"line\">    vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; <span class=\"built_in\">dp</span>(<span class=\"number\">1</span> &lt;&lt; n, <span class=\"built_in\">vector</span>&lt;<span class=\"type\">int</span>&gt;(n));</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> nowstate = <span class=\"number\">1</span>; nowstate &lt; (<span class=\"number\">1</span> &lt;&lt; n); ++nowstate) <span class=\"comment\">// é›†åˆå˜åŒ–</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        dp[nowstate] = <span class=\"built_in\">vector</span>&lt;<span class=\"type\">int</span>&gt;(n, INT_MAX);<span class=\"comment\">// åˆå§‹åŒ–dpæ•°ç»„</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> j = <span class=\"number\">0</span>; j &lt; n; ++j)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> ((nowstate &amp; (<span class=\"number\">1</span> &lt;&lt; j))) <span class=\"comment\">// å¦‚æœç°åœ¨çš„çŠ¶æ€åŒ…æ‹¬ j è¿™ä¸ªåŸå¸‚</span></span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"type\">int</span> preState = nowstate ^ (<span class=\"number\">1</span> &lt;&lt; j);</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (preState == <span class=\"number\">0</span>) <span class=\"comment\">// å¦‚æœé›†åˆåªåŒ…æ‹¬ j è¿™ä¸ªåŸå¸‚ é‚£ä¹ˆdpå€¼ä¸º d[0][j] å‡è®¾èµ·ç‚¹æ˜¯0çš„è¯</span></span><br><span class=\"line\">                    dp[nowstate][j] = d[<span class=\"number\">0</span>][j];</span><br><span class=\"line\">                <span class=\"keyword\">else</span> <span class=\"comment\">// é›†åˆä¸æ­¢ j è¿™ä¸ªåŸå¸‚ , éå† 0 ~ n åŸå¸‚ï¼Œå¦‚æœå‰ç½®çŠ¶æ€ä¹Ÿå°±æ˜¯ S - &#123;j&#125; è¿™ä¸ªé›†åˆéƒ½æ²¡æ›´æ–°çš„è¯å°±ä¸ç”¨ç†äº†ï¼Œå¦‚æœæ›´æ–°äº†å°±è¿›è¡Œæ¯”è¾ƒ</span></span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; n; ++i)</span><br><span class=\"line\">                    &#123;</span><br><span class=\"line\">                        <span class=\"keyword\">if</span> (dp[preState][i] &lt; INT_MAX &amp;&amp; dp[preState][i] + d[i][j] &lt; dp[nowstate][j])</span><br><span class=\"line\">                            dp[nowstate][j] = dp[preState][i] + d[i][j];</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> j = <span class=\"number\">0</span>; j &lt; n; ++j)</span><br><span class=\"line\">        minn = <span class=\"built_in\">min</span>(minn, dp[(<span class=\"number\">1</span> &lt;&lt; n) - <span class=\"number\">1</span>][j] + d[<span class=\"number\">0</span>][j]); <span class=\"comment\">// å¦‚æœæ˜¯è¦æ±‚ç¯å°±åŠ ä¸Š d[0][j] å¦‚æœä¸æ˜¯çš„è¯å°±ä¸ç”¨åŠ </span></span><br><span class=\"line\">    cout &lt;&lt; minn &lt;&lt; endl;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>943.æœ€çŸ­è¶…çº§ä¸²</strong>:</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;iostream&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;string&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;vector&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;stack&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;bitset&gt;</span></span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">calu</span><span class=\"params\">(<span class=\"type\">const</span> string &amp;a, <span class=\"type\">const</span> string &amp;b)</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\">string <span class=\"title\">shortestSuperstring</span><span class=\"params\">(vector&lt;string&gt; &amp;words)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> n = words.<span class=\"built_in\">size</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">    vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; <span class=\"built_in\">graph</span>(n, <span class=\"built_in\">vector</span>&lt;<span class=\"type\">int</span>&gt;(n));</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; n; ++i)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> j = <span class=\"number\">0</span>; j &lt; i; ++j)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            graph[i][j] = <span class=\"built_in\">calu</span>(words[i], words[j]);</span><br><span class=\"line\">            graph[j][i] = <span class=\"built_in\">calu</span>(words[j], words[i]);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; <span class=\"built_in\">dp</span>(<span class=\"number\">1</span> &lt;&lt; n, <span class=\"built_in\">vector</span>&lt;<span class=\"type\">int</span>&gt;(n));</span><br><span class=\"line\">    vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; <span class=\"built_in\">path</span>(<span class=\"number\">1</span> &lt;&lt; n, <span class=\"built_in\">vector</span>&lt;<span class=\"type\">int</span>&gt;(n));</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> now_state = <span class=\"number\">1</span>; now_state &lt; (<span class=\"number\">1</span> &lt;&lt; n); ++now_state)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        dp[now_state] = <span class=\"built_in\">vector</span>&lt;<span class=\"type\">int</span>&gt;(n, INT_MAX);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> j = <span class=\"number\">0</span>; j &lt; n; ++j)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> ((now_state &amp; (<span class=\"number\">1</span> &lt;&lt; j)) &gt; <span class=\"number\">0</span>)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"type\">int</span> pre_state = now_state ^ (<span class=\"number\">1</span> &lt;&lt; j);</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (pre_state == <span class=\"number\">0</span>)</span><br><span class=\"line\">                    dp[now_state][j] = words[j].<span class=\"built_in\">size</span>();</span><br><span class=\"line\">                <span class=\"keyword\">else</span></span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; n; ++i)</span><br><span class=\"line\">                    &#123;</span><br><span class=\"line\">                        <span class=\"keyword\">if</span> (dp[pre_state][i] &lt; INT_MAX &amp;&amp; dp[pre_state][i] + graph[i][j] &lt; dp[now_state][j])</span><br><span class=\"line\">                        &#123;</span><br><span class=\"line\">                            dp[now_state][j] = dp[pre_state][i] + graph[i][j];</span><br><span class=\"line\">                            path[now_state][j] = i;</span><br><span class=\"line\">                        &#125;</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"type\">int</span> last = <span class=\"number\">-1</span>, minn = INT_MAX;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = (<span class=\"number\">1</span> &lt;&lt; n) - <span class=\"number\">1</span>, j = <span class=\"number\">0</span>; j &lt; n; ++j)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (dp[i][j] &lt; minn)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            minn = dp[i][j];</span><br><span class=\"line\">            last = j;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"type\">int</span> cur = (<span class=\"number\">1</span> &lt;&lt; n) - <span class=\"number\">1</span>;</span><br><span class=\"line\">    stack&lt;<span class=\"type\">int</span>&gt; s;</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (cur &gt; <span class=\"number\">0</span>)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        s.<span class=\"built_in\">push</span>(last);</span><br><span class=\"line\">        <span class=\"type\">int</span> temp = cur;</span><br><span class=\"line\">        cur ^= (<span class=\"number\">1</span> &lt;&lt; last);</span><br><span class=\"line\">        last = path[temp][last];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    string result = <span class=\"string\">&quot;&quot;</span>;</span><br><span class=\"line\">    <span class=\"type\">int</span> i = s.<span class=\"built_in\">top</span>();</span><br><span class=\"line\">    s.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">    result += words[i];</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (!s.<span class=\"built_in\">empty</span>())</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> j = s.<span class=\"built_in\">top</span>();</span><br><span class=\"line\">        s.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">        result += (words[j].<span class=\"built_in\">substr</span>(words[j].<span class=\"built_in\">size</span>() - graph[i][j]));</span><br><span class=\"line\">        i = j;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">calu</span><span class=\"params\">(<span class=\"type\">const</span> string &amp;a, <span class=\"type\">const</span> string &amp;b)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; a.<span class=\"built_in\">size</span>(); ++i)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (b.<span class=\"built_in\">rfind</span>(a.<span class=\"built_in\">substr</span>(i), <span class=\"number\">0</span>) == <span class=\"number\">0</span>)</span><br><span class=\"line\">            <span class=\"keyword\">return</span> b.<span class=\"built_in\">size</span>() - (a.<span class=\"built_in\">size</span>() - i);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> b.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    vector&lt;string&gt; words&#123;<span class=\"string\">&quot;ab&quot;</span>, <span class=\"string\">&quot;a&quot;</span>, <span class=\"string\">&quot;b&quot;</span>&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    cout &lt;&lt; <span class=\"built_in\">shortestSuperstring</span>(words);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"å‚è€ƒ\"><a href=\"#å‚è€ƒ\" class=\"headerlink\" title=\"å‚è€ƒ\"></a>å‚è€ƒ</h4><ul>\n<li><a href=\"https://leetcode.com/problems/find-the-shortest-superstring/solutions/194932/travelling-salesman-problem/\">Leetcode -Travelling Salesman Problem</a></li>\n<li><a href=\"https://zhuanlan.zhihu.com/p/609551220\">å¼€å­¦ç®—æ³•ç»ƒä¹ â€”çŠ¶æ€å‹ç¼©DPè§£å†³TSPé—®é¢˜</a></li>\n<li><a href=\"https://www.geeksforgeeks.org/travelling-salesman-problem-using-dynamic-programming/\">Travelling Salesman Problem using Dynamic Programming</a></li>\n<li><a href=\"https://www.luogu.com.cn/blog/Starlight237/solution-p1433\">é¢˜è§£ P1433 ã€åƒå¥¶é…ªã€‘</a></li>\n</ul>\n"},{"title":"Topological Sorting","date":"2023-05-25T13:57:36.000Z","_content":"\n#### ä»‹ç»\n\n> Topological Sorting(æ‹“æ‰‘æ’åº) ä¸»è¦ç”¨äºæœ‰å‘æ— ç¯å›¾ï¼ˆDAGï¼‰ï¼Œç”¨æ¥æ’åºç‚¹çš„å…ˆåå…³ç³»æˆ–è€…åˆ¤æ–­è¯¥å›¾æ˜¯å¦æœ‰ç¯\n\n- å°†æ‰€æœ‰å…¥åº¦ä¸º0çš„ç‚¹æ”¾å…¥æ ˆæˆ–é˜Ÿåˆ—ä¸­\n- ç„¶åéå†æ ˆä¸­çš„ç‚¹ï¼Œå°†ç‚¹çš„å‡ºåº¦è¾¹åˆ é™¤\n- ç„¶åé‡å¤å‰ä¸¤éƒ¨ç›´åˆ°æ²¡æœ‰ç‚¹å¯ä»¥æ”¾å…¥æ ˆä¸­\n- å½“å‡ºæ ˆæ•° == æ€»ç‚¹æ•°ï¼Œè¯´æ˜æ˜¯DAGã€\n\n#### ä»£ç \n\n```c++\n// åŠ›æ‰£207\nclass Solution {\npublic:\n    bool canFinish(int numCourses, vector<vector<int>>& prerequisites) {\n        vector<int> inDegree(numCourses);// è®¡ç®—æ¯ä¸ªç‚¹çš„å…¥åº¦\n        unordered_map<int,vector<int>> edgeMap;// å­˜è¡¨ï¼Œåœ¨è¿™é‡Œä¸éœ€è¦æ’åºæ‰€ä»¥ç”¨unordered_map\n\n        // ç¬¬ä¸€æ­¥\n        for(auto prerequisite : prerequisites)\n        {\n            ++inDegree[prerequisite[0]];\n            edgeMap[prerequisite[1]].emplace_back(prerequisite[0]);\n        }\n\n        queue<int> q;\n        for(int i = 0; i < numCourses; ++i) \n            if(inDegree[i] == 0) q.push(i);\n\n        // å¾ªç¯äºŒä¸‰æ­¥\n        int count = 0;\n        while(!q.empty())\n        {\n            int now = q.front();\n            q.pop();\n            ++count;\n            vector<int> nextCourses = edgeMap[now];\n            if(!nextCourses.empty())\n            {\n                for(int i = 0; i < nextCourses.size(); ++i) \n                {\n                    // åˆ å‡ºåº¦è¾¹\n                    if(--inDegree[nextCourses[i]] == 0) q.push(nextCourses[i]);\n                }\n            }\n        }\n\n        if(count == numCourses) return true;\n        else return false;\n    }\n};\n```\n\n#### å‚è€ƒ\n\n- [leetcode - 207. è¯¾ç¨‹è¡¨](https://leetcode.cn/problems/course-schedule/)\n- [æ‹“æ‰‘æ’åºè¯¦è§£ é€šä¿—æ˜“æ‡‚](https://zhuanlan.zhihu.com/p/339709006)\n","source":"_posts/Topological-Sorting.md","raw":"---\ntitle: Topological Sorting\ndate: 2023-05-25 21:57:36\n---\n\n#### ä»‹ç»\n\n> Topological Sorting(æ‹“æ‰‘æ’åº) ä¸»è¦ç”¨äºæœ‰å‘æ— ç¯å›¾ï¼ˆDAGï¼‰ï¼Œç”¨æ¥æ’åºç‚¹çš„å…ˆåå…³ç³»æˆ–è€…åˆ¤æ–­è¯¥å›¾æ˜¯å¦æœ‰ç¯\n\n- å°†æ‰€æœ‰å…¥åº¦ä¸º0çš„ç‚¹æ”¾å…¥æ ˆæˆ–é˜Ÿåˆ—ä¸­\n- ç„¶åéå†æ ˆä¸­çš„ç‚¹ï¼Œå°†ç‚¹çš„å‡ºåº¦è¾¹åˆ é™¤\n- ç„¶åé‡å¤å‰ä¸¤éƒ¨ç›´åˆ°æ²¡æœ‰ç‚¹å¯ä»¥æ”¾å…¥æ ˆä¸­\n- å½“å‡ºæ ˆæ•° == æ€»ç‚¹æ•°ï¼Œè¯´æ˜æ˜¯DAGã€\n\n#### ä»£ç \n\n```c++\n// åŠ›æ‰£207\nclass Solution {\npublic:\n    bool canFinish(int numCourses, vector<vector<int>>& prerequisites) {\n        vector<int> inDegree(numCourses);// è®¡ç®—æ¯ä¸ªç‚¹çš„å…¥åº¦\n        unordered_map<int,vector<int>> edgeMap;// å­˜è¡¨ï¼Œåœ¨è¿™é‡Œä¸éœ€è¦æ’åºæ‰€ä»¥ç”¨unordered_map\n\n        // ç¬¬ä¸€æ­¥\n        for(auto prerequisite : prerequisites)\n        {\n            ++inDegree[prerequisite[0]];\n            edgeMap[prerequisite[1]].emplace_back(prerequisite[0]);\n        }\n\n        queue<int> q;\n        for(int i = 0; i < numCourses; ++i) \n            if(inDegree[i] == 0) q.push(i);\n\n        // å¾ªç¯äºŒä¸‰æ­¥\n        int count = 0;\n        while(!q.empty())\n        {\n            int now = q.front();\n            q.pop();\n            ++count;\n            vector<int> nextCourses = edgeMap[now];\n            if(!nextCourses.empty())\n            {\n                for(int i = 0; i < nextCourses.size(); ++i) \n                {\n                    // åˆ å‡ºåº¦è¾¹\n                    if(--inDegree[nextCourses[i]] == 0) q.push(nextCourses[i]);\n                }\n            }\n        }\n\n        if(count == numCourses) return true;\n        else return false;\n    }\n};\n```\n\n#### å‚è€ƒ\n\n- [leetcode - 207. è¯¾ç¨‹è¡¨](https://leetcode.cn/problems/course-schedule/)\n- [æ‹“æ‰‘æ’åºè¯¦è§£ é€šä¿—æ˜“æ‡‚](https://zhuanlan.zhihu.com/p/339709006)\n","slug":"Topological-Sorting","published":1,"updated":"2024-01-07T07:46:34.827Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clr4d2ju20008gwv068of6j9e","content":"<h4 id=\"ä»‹ç»\"><a href=\"#ä»‹ç»\" class=\"headerlink\" title=\"ä»‹ç»\"></a>ä»‹ç»</h4><blockquote>\n<p>Topological Sorting(æ‹“æ‰‘æ’åº) ä¸»è¦ç”¨äºæœ‰å‘æ— ç¯å›¾ï¼ˆDAGï¼‰ï¼Œç”¨æ¥æ’åºç‚¹çš„å…ˆåå…³ç³»æˆ–è€…åˆ¤æ–­è¯¥å›¾æ˜¯å¦æœ‰ç¯</p>\n</blockquote>\n<ul>\n<li>å°†æ‰€æœ‰å…¥åº¦ä¸º0çš„ç‚¹æ”¾å…¥æ ˆæˆ–é˜Ÿåˆ—ä¸­</li>\n<li>ç„¶åéå†æ ˆä¸­çš„ç‚¹ï¼Œå°†ç‚¹çš„å‡ºåº¦è¾¹åˆ é™¤</li>\n<li>ç„¶åé‡å¤å‰ä¸¤éƒ¨ç›´åˆ°æ²¡æœ‰ç‚¹å¯ä»¥æ”¾å…¥æ ˆä¸­</li>\n<li>å½“å‡ºæ ˆæ•° &#x3D;&#x3D; æ€»ç‚¹æ•°ï¼Œè¯´æ˜æ˜¯DAGã€</li>\n</ul>\n<h4 id=\"ä»£ç \"><a href=\"#ä»£ç \" class=\"headerlink\" title=\"ä»£ç \"></a>ä»£ç </h4><figure class=\"highlight c++\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// åŠ›æ‰£207</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">canFinish</span><span class=\"params\">(<span class=\"type\">int</span> numCourses, vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt;&amp; prerequisites)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">inDegree</span><span class=\"params\">(numCourses)</span></span>;<span class=\"comment\">// è®¡ç®—æ¯ä¸ªç‚¹çš„å…¥åº¦</span></span><br><span class=\"line\">        unordered_map&lt;<span class=\"type\">int</span>,vector&lt;<span class=\"type\">int</span>&gt;&gt; edgeMap;<span class=\"comment\">// å­˜è¡¨ï¼Œåœ¨è¿™é‡Œä¸éœ€è¦æ’åºæ‰€ä»¥ç”¨unordered_map</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// ç¬¬ä¸€æ­¥</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">auto</span> prerequisite : prerequisites)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            ++inDegree[prerequisite[<span class=\"number\">0</span>]];</span><br><span class=\"line\">            edgeMap[prerequisite[<span class=\"number\">1</span>]].<span class=\"built_in\">emplace_back</span>(prerequisite[<span class=\"number\">0</span>]);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        queue&lt;<span class=\"type\">int</span>&gt; q;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; numCourses; ++i) </span><br><span class=\"line\">            <span class=\"keyword\">if</span>(inDegree[i] == <span class=\"number\">0</span>) q.<span class=\"built_in\">push</span>(i);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// å¾ªç¯äºŒä¸‰æ­¥</span></span><br><span class=\"line\">        <span class=\"type\">int</span> count = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(!q.<span class=\"built_in\">empty</span>())</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> now = q.<span class=\"built_in\">front</span>();</span><br><span class=\"line\">            q.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">            ++count;</span><br><span class=\"line\">            vector&lt;<span class=\"type\">int</span>&gt; nextCourses = edgeMap[now];</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(!nextCourses.<span class=\"built_in\">empty</span>())</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; nextCourses.<span class=\"built_in\">size</span>(); ++i) </span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    <span class=\"comment\">// åˆ å‡ºåº¦è¾¹</span></span><br><span class=\"line\">                    <span class=\"keyword\">if</span>(--inDegree[nextCourses[i]] == <span class=\"number\">0</span>) q.<span class=\"built_in\">push</span>(nextCourses[i]);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span>(count == numCourses) <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">        <span class=\"keyword\">else</span> <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"å‚è€ƒ\"><a href=\"#å‚è€ƒ\" class=\"headerlink\" title=\"å‚è€ƒ\"></a>å‚è€ƒ</h4><ul>\n<li><a href=\"https://leetcode.cn/problems/course-schedule/\">leetcode - 207. è¯¾ç¨‹è¡¨</a></li>\n<li><a href=\"https://zhuanlan.zhihu.com/p/339709006\">æ‹“æ‰‘æ’åºè¯¦è§£ é€šä¿—æ˜“æ‡‚</a></li>\n</ul>\n","site":{"data":{}},"length":957,"excerpt":"","more":"<h4 id=\"ä»‹ç»\"><a href=\"#ä»‹ç»\" class=\"headerlink\" title=\"ä»‹ç»\"></a>ä»‹ç»</h4><blockquote>\n<p>Topological Sorting(æ‹“æ‰‘æ’åº) ä¸»è¦ç”¨äºæœ‰å‘æ— ç¯å›¾ï¼ˆDAGï¼‰ï¼Œç”¨æ¥æ’åºç‚¹çš„å…ˆåå…³ç³»æˆ–è€…åˆ¤æ–­è¯¥å›¾æ˜¯å¦æœ‰ç¯</p>\n</blockquote>\n<ul>\n<li>å°†æ‰€æœ‰å…¥åº¦ä¸º0çš„ç‚¹æ”¾å…¥æ ˆæˆ–é˜Ÿåˆ—ä¸­</li>\n<li>ç„¶åéå†æ ˆä¸­çš„ç‚¹ï¼Œå°†ç‚¹çš„å‡ºåº¦è¾¹åˆ é™¤</li>\n<li>ç„¶åé‡å¤å‰ä¸¤éƒ¨ç›´åˆ°æ²¡æœ‰ç‚¹å¯ä»¥æ”¾å…¥æ ˆä¸­</li>\n<li>å½“å‡ºæ ˆæ•° &#x3D;&#x3D; æ€»ç‚¹æ•°ï¼Œè¯´æ˜æ˜¯DAGã€</li>\n</ul>\n<h4 id=\"ä»£ç \"><a href=\"#ä»£ç \" class=\"headerlink\" title=\"ä»£ç \"></a>ä»£ç </h4><figure class=\"highlight c++\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// åŠ›æ‰£207</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">canFinish</span><span class=\"params\">(<span class=\"type\">int</span> numCourses, vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt;&amp; prerequisites)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">inDegree</span><span class=\"params\">(numCourses)</span></span>;<span class=\"comment\">// è®¡ç®—æ¯ä¸ªç‚¹çš„å…¥åº¦</span></span><br><span class=\"line\">        unordered_map&lt;<span class=\"type\">int</span>,vector&lt;<span class=\"type\">int</span>&gt;&gt; edgeMap;<span class=\"comment\">// å­˜è¡¨ï¼Œåœ¨è¿™é‡Œä¸éœ€è¦æ’åºæ‰€ä»¥ç”¨unordered_map</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// ç¬¬ä¸€æ­¥</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">auto</span> prerequisite : prerequisites)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            ++inDegree[prerequisite[<span class=\"number\">0</span>]];</span><br><span class=\"line\">            edgeMap[prerequisite[<span class=\"number\">1</span>]].<span class=\"built_in\">emplace_back</span>(prerequisite[<span class=\"number\">0</span>]);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        queue&lt;<span class=\"type\">int</span>&gt; q;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; numCourses; ++i) </span><br><span class=\"line\">            <span class=\"keyword\">if</span>(inDegree[i] == <span class=\"number\">0</span>) q.<span class=\"built_in\">push</span>(i);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// å¾ªç¯äºŒä¸‰æ­¥</span></span><br><span class=\"line\">        <span class=\"type\">int</span> count = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(!q.<span class=\"built_in\">empty</span>())</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> now = q.<span class=\"built_in\">front</span>();</span><br><span class=\"line\">            q.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">            ++count;</span><br><span class=\"line\">            vector&lt;<span class=\"type\">int</span>&gt; nextCourses = edgeMap[now];</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(!nextCourses.<span class=\"built_in\">empty</span>())</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; nextCourses.<span class=\"built_in\">size</span>(); ++i) </span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    <span class=\"comment\">// åˆ å‡ºåº¦è¾¹</span></span><br><span class=\"line\">                    <span class=\"keyword\">if</span>(--inDegree[nextCourses[i]] == <span class=\"number\">0</span>) q.<span class=\"built_in\">push</span>(nextCourses[i]);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span>(count == numCourses) <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">        <span class=\"keyword\">else</span> <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"å‚è€ƒ\"><a href=\"#å‚è€ƒ\" class=\"headerlink\" title=\"å‚è€ƒ\"></a>å‚è€ƒ</h4><ul>\n<li><a href=\"https://leetcode.cn/problems/course-schedule/\">leetcode - 207. è¯¾ç¨‹è¡¨</a></li>\n<li><a href=\"https://zhuanlan.zhihu.com/p/339709006\">æ‹“æ‰‘æ’åºè¯¦è§£ é€šä¿—æ˜“æ‡‚</a></li>\n</ul>\n"},{"title":"Union Find","date":"2022-08-31T01:37:01.000Z","_content":"\n### å‰è¨€\n\nå¹¶æŸ¥é›†åœ¨æ‰“ç«èµ›çš„æ—¶å€™å°±å­¦è¿‡äº†ï¼Œç°åœ¨å·®ä¸å¤šè¿‡äº†ä¸¤å¹´åŠï¼Œé‡æ‹¾ç®—æ³•ï¼Œè®¤çœŸå­¦å­¦ã€‚å½“æ—¶åœ¨å­¦çš„æ—¶å€™å®Œå…¨ä¸ç†è§£å¹¶æŸ¥é›†æ˜¯ä»€ä¹ˆæ„æ€ï¼Œåªèƒ½è¯´å½“æ–‡ç§‘èƒŒäº†ã€‚è®¤çœŸçœ‹äº†è‹±æ–‡ç‰ˆçš„ALgorithm 4thï¼Œæ‰å®Œå…¨ç†è§£äº†è¿™ä¸ªå¹¶ã€æŸ¥æ˜¯ä»€ä¹ˆæ„æ€ï¼Œé›†åº”è¯¥æ˜¯é›†åˆï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯æ•°æ®ç»“æ„çš„æ„æ€ï¼Œä¸çŸ¥é“æ˜¯è°ç¿»è¯‘çš„ã€‚å¦‚æœé˜…è¯»CSç›¸å…³çš„ä¹¦ï¼Œå°¤å…¶æ˜¯åŸºç¡€ä¹¦(å³å‰ç½®çŸ¥è¯†åªéœ€è¦ä½ ä¼šå†™ä»£ç å³å¯)ï¼Œæˆ‘æ¨èçœ‹è‹±æ–‡ç‰ˆã€‚è™½ç„¶ä¸€å¼€å§‹çœ‹çš„å¾ˆè¾›è‹¦ï¼Œä½†æ˜¯ä¸€æ—¦è¿›å…¥çŠ¶æ€ï¼ŒåŸºæœ¬èƒ½å¤Ÿäº†è§£ä½œè€…æƒ³è¦å‘Šè¯‰ä½ ä»€ä¹ˆï¼Œè€Œä¸”ä¹¦é‡Œé¢çš„è‹±è¯­åŸºæœ¬ä¸Šæ˜¯è‹±æ–‡çš„å¤§ç™½è¯ï¼Œé™¤å»å‡ ä¸ªä¸“æœ‰åè¯éœ€è¦æŸ¥ä¸€ä¸‹ï¼Œå…¶ä»–åŸºæœ¬ä¸Šéƒ½æ˜¯é«˜ä¸­å­¦è¿‡çš„å•è¯ã€‚å¸Œæœ›æˆ‘èƒ½é€šè¿‡è¿™æ®µæ—¶é—´çš„è‹±æ–‡æ•™æé˜…è¯»æ¥ç»ƒä¹ è‡ªå·±ä»¥åé˜…è¯»è‹±æ–‡æ–‡æ¡£çš„èƒ½åŠ›å§ã€‚\nå…³äºå¹¶æŸ¥é›†ï¼Œæˆ‘ä»¬ç›´æ¥çœ‹è‹±æ–‡ï¼ŒUnion - Findï¼ŒUnionå³ä¸ºå¹¶ï¼Œå³é“¾æ¥ï¼ŒFindä¸ºæŸ¥æ‰¾ï¼ŒæŸ¥æ‰¾å‡ºæ‰€åœ¨çš„é›†åˆã€‚ä¹‹æ‰€ä»¥å«è¿™ä¸ªåå­—ï¼Œæ˜¯å› ä¸ºUnionå’ŒFindè¿™ä¸¤ä¸ªæ–¹æ³•æ˜¯å¿…ä¸å¯å°‘çš„ï¼Œè€Œä¸”åç»­è®¨è®ºä¼˜åŒ–ä¹Ÿæ˜¯åœ¨è¿™ä¸¤ä¸ªæ–¹æ³•ä¸­ä¼˜åŒ–ã€‚\n\n### å¹¶æŸ¥é›†\n\n#### ç‰¹æ€§\n\nå½“æˆ‘ä»¬è¯´p qæ—¶ï¼Œå³è¯´pè¿æ¥äº†qï¼Œç„¶åæœ‰ä»¥ä¸‹ç‰¹ç‚¹ ï¼š\n\n- åèº«æ€§ï¼špè‡ªèº«è¿æ¥è‡ªå·±\n- å¯¹ç§°æ€§ï¼šå¦‚æœpè¿æ¥äº†qï¼Œåˆ™qè¿æ¥äº†p\n- ä¼ é€’æ€§ï¼šå¦‚æœpè¿æ¥äº†qä¸”qè¿æ¥äº†rï¼Œåˆ™pè¿æ¥äº†r \n\n```csharp\npublic class UF\n{\n    UF(int N)//åˆå§‹åŒ–\n    void Union(int p,int q)//è¿æ¥på’Œqï¼Œå³è®©ä»–ä»¬åœ¨åŒä¸€ä¸ªé›†åˆ\n    int Find(int p)//æ‰¾åˆ°pæ‰€åœ¨çš„é›†åˆ\n    bool Connected(int p,int q)//åˆ¤æ–­på’Œqç‚¹æ˜¯å¦åœ¨åŒä¸€ä¸ªé›†åˆ\n    int Count()//è¿”å›æœ‰å¤šå°‘ä¸ªé›†åˆ\n}\n```\n\nç®€å•æ¥è¯´ï¼Œå¹¶æŸ¥é›†å°±æ˜¯è®©ä¸€ä¸ªä¸€ä¸ªå­¤ç«‹çš„ç‚¹è¿åœ¨ä¸€èµ·ï¼Œè¿åœ¨ä¸€èµ·çš„ç‚¹æœ‰ä¸€ä¸ªå…±åŒçš„é›†åˆ\n\n#### åŸºæœ¬æ¶æ„å®ç°\n\nè¿™é‡Œç»™å‡ºåŸºæœ¬æ¶æ„ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œéœ€è¦æ›´æ”¹çš„åŸºæœ¬ä¸Šæ˜¯Findå’ŒUnion\n\n```csharp\npublic class UF\n{\n    private int[] id;//é›†åˆçš„id\n    private int count;\n\n    public UF(int N)\n    {\n        count = N;\n        id = new int[N];\n        for(int i = 0; i < N; i++)\n            id[i] = i ;\n    }\n\n    public int Count()\n    {\n        return count;\n    }\n\n    public bool Connected(int p, int q)\n    {\n        return Find(p)==Find(q);\n    }\n\n    public int Find(int p)//Findå‡½æ•°ï¼Œåé¢ä¼šå®ç°\n\n    public void Union(int p,int q)//Unionå‡½æ•°ï¼Œåé¢ä¼šå®ç°\n}\n```\n\n#### Quick-Findå®ç°\n\nå…ˆæ¥å¿«é€Ÿçœ‹çœ‹å®ç°çš„ä»£ç \n\n```csharp\npublic int Find(int p)\n{\n    return id[p];\n}\npublic void Union(int p, int q)\n{\n    int pId = Find(p);\n    int qId = Find(q);\n    if(pID == qID) return ;\n    for(int i=0; i < id.Length; i++)\n        if(id[i] == pId) \n            id[i] = qId;\n    count--;\n}\n```\n\nå…¶å®è¿™é‡Œå¾ˆç®€å•ï¼Œidå°±æ˜¯pæ‰€åœ¨çš„é›†åˆç¼–å·ï¼Œå¦‚æœåœ¨Unionä¸­ä¸¤ä¸ªidä¸åŒï¼Œé‚£ä¹ˆå°±ä¼šéå†å…¨éƒ¨é›†åˆï¼Œå¦‚æœéå†åˆ°çš„ç‚¹éƒ½å±äºpæ‰€åœ¨çš„é›†åˆï¼Œé‚£ä¹ˆæˆ‘ä»¬æŠŠéå†åˆ°çš„ç‚¹çš„idæ”¹ä¸ºqæ‰€å±çš„é›†åˆçš„idã€‚\n\nä¸è¿‡æˆ‘ä»¬æƒ³æƒ³ï¼ŒFindçš„æ—¶é—´å¤æ‚åº¦ä¸º O(1),è€ŒUnionçš„æ—¶é—´å¤æ‚åº¦ä¸º O(N)ã€‚å‡è®¾æˆ‘ä»¬ä»…ä»…ä½¿ç”¨äº†N-1æ¬¡è¿æ¥æˆ‘ä»¬å°±å¯ä»¥ä½¿æ•´ä¸ªè¿æ¥æˆä¸€ä¸ªé›†åˆï¼Œé‚£æ—¶é—´å¤æ‚åº¦ä¹Ÿè‡³å°‘æ˜¯ N*(N-1),ä¹Ÿå°±æ˜¯O(N^2)ï¼Œé‚£å½“Nå¤§çš„æ—¶å€™æ¶ˆè€—çš„æ—¶é—´å°†ä¼šå¾ˆå¤šã€‚æ‰€ä»¥æ¥ä¸‹æ¥æˆ‘ä»¬æ¥ä¼˜åŒ–ä¸€ä¸‹Unionæ–¹æ³•ã€‚\n\n#### Quick-Unionå®ç°\n\nå…ˆæ¥å¿«é€Ÿçœ‹çœ‹ä¸¤ä¸ªæ–¹æ³•é‡Œçš„ä»£ç \n\n```csharp\npublic int Find(int p)\n{\n    while(p != parent[p]) \n        p = parent[p];\n    return p;\n}\npublic void Union(int p,int q)\n{\n    int pRoot = Find(p);\n    int qRoot = Find(q);\n    if(pRoot == qRoot) return ;\n    id[pRoot] = qRoot;\n    count--;\n}\n```\n\næˆ‘ä»¬å¯ä»¥çœ‹åˆ°Findå’ŒUnionåšäº†äº›è®¸æ”¹å˜ï¼Œparentå’Œrootå¯ä»¥è®©æˆ‘ä»¬å¾ˆå¿«çš„è”æƒ³åˆ°æ ‘çš„ç»“æ„ï¼Œæˆ‘ä»¬å°†æ ‘æ ¹ä½œä¸ºé›†åˆçš„ç¼–å·ï¼Œè¿™æ ·å­Unionä»…ä»…éœ€è¦O(1)å³å¯å®Œæˆä¸€æ¬¡è¿æ¥ï¼Œè€ŒFindæ¶ˆè€—çš„æ—¶é—´å¤æ‚åº¦è™½ç„¶å˜å¤šäº†ï¼Œä½†æ˜¯è¿˜æ˜¯å¯ä»¥æ¥å—çš„ã€‚ä¸è¿‡è¿™å¹¶ä¸æ˜¯ä¸€ä¸ªç¨³å®šçš„ç®—æ³•ï¼Œå‡å¦‚Unionå°†æ ‘å½¢é›†åˆè¿æ¥æˆäº†ä¸€ä¸ªæ ‘é“¾ï¼Œé‚£ä¹ˆFindçš„æ€»æ—¶é—´å°±ä¼šå˜ä¸º(1+2+...N) ~ N^2/2 ~ N^2,è™½ç„¶æœ€åçš„æƒ…å†µä¹Ÿä¼šæ¯”ä¹‹å‰Quick-Findå¿«ï¼Œä½†æ˜¯ä½œä¸ºO(N^2)çº§åˆ«çš„æ—¶é—´å¤æ‚åº¦ï¼Œå½“æ•°æ®é‡è¶³å¤Ÿå¤§ä¹Ÿä¸Quick-Findå·®åˆ«ä¸å¤§ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥æ”¹å˜è¿æ¥çš„æ–¹å¼ï¼Œé¿å…æ ‘é“¾çš„å‡ºç°ã€‚\n\n#### Weighted Quick-Union å®ç°\n\nå…ˆæ¥çœ‹çœ‹è¿™æ¬¡çš„Unionä»£ç ï¼ŒFindå®ç°æ²¡æœ‰å˜ï¼Œè¿™æ¬¡æˆ‘ä»¬å¢åŠ äº†ä¸€ä¸ªWeightçš„å®ç°,å³æ ‘çš„æƒé‡(ä»¥é›†åˆé‡Œé¢æœ‰å¤šå°‘ä¸ªç‚¹æ¥è®¡ç®—ï¼Œå¦‚æœæœ‰Nä¸ªç‚¹ï¼Œåˆ™Weightä¸ºN)ï¼ŒåŠ æƒæ ‘æœ‰ä¸€ä¸ªç‰¹ç‚¹ï¼Œå®ƒå¯ä»¥ä¿è¯æ ‘çš„æœ€å¤§æ·±åº¦<=lgNï¼Œå› ä¸ºä¸å¯èƒ½æœ‰æ ‘é“¾çš„æƒ…å†µäº§ç”Ÿï¼Œä¸”ä¿è¯è¾ƒå°çš„æ ‘æ˜¯ç›´æ¥åŠ åˆ°æ ¹ä¸Šçš„ï¼Œè¿™æ ·æœ€å¤šä»…ä»…è®©æ ‘çš„æ·±åº¦ +1\n\n```csharp\npublic void Union()\n{\n    int pRoot = Find(p);\n    int qRoot = Find(q);\n    if(pRoot == qRoot) return ;\n    if(weight[pRoot] < weight[qRoot]) \n    {\n        parent[pRoot] = qRoot; \n        weight[qRoot] += weight[pRoot];\n    }\n    else \n    {\n        parent[qRoot] = pRoot;\n        weight[pRoot] +=weight[qRoot];\n    }\n    count--;\n}\n```\n\næˆ‘ä»¬åœ¨è¿™æ¬¡Weighted Quick-Unionåšçš„æ”¹å˜å°±æ˜¯å°½å¯èƒ½åœ°è®©å°æ ‘ç›´æ¥è¿åœ¨å¤§æ ‘çš„æ ¹ä¸Šï¼Œè¿™æ ·å­åŸºæœ¬ä¸Šä¸ä¼šå‡ºç°æœ‰æ ‘é“¾çš„æƒ…å†µã€‚æˆ‘ä»¬æ¥è¯æ˜ä¸€ä¸‹ï¼Œå‡è®¾è®©å°æ ‘ç›´æ¥è¿æ¥åœ¨å¤§æ ‘çš„æ ¹ä¸Šï¼Œè®¾ä¸¤æ£µæ ‘çš„æƒé‡åˆ†åˆ«ä¸º i ï¼Œj ä¸” i <= jï¼Œè®¾ i+j = k,å¤§æ ‘æœ¬èº«æ‰€éœ€è¦çš„éå†æ—¶é—´ä¸å˜ï¼Œè€Œå°æ ‘çš„æœ€å¤§éå†æ—¶é—´ä¼šå¢åŠ  1 ,å³æœ€å¤§éå†æ—¶é—´å˜ä¸º 1 + lgi = lg(i+i) <= lg(i+j) = lg(k)ï¼Œå³ lgk æœ€å¤šå¯èƒ½ç­‰äº lgi + 1ã€‚æ‰€ä»¥å¯ä»¥ä¿è¯æœ€åæ—¶é—´å¤æ‚åº¦ä¸º N*(2*lgN)å³ä¸ºO(NlgN)ã€‚\n\næˆ‘ä»¬å¯ä»¥æ›´åŠ æé™ä¸€ç‚¹ï¼Œè®©æ¯ä¸ªç‚¹ç›´æ¥è¿ç€æ ¹ï¼Œå³è·¯å¾„å‹ç¼©\n\n#### Weighted Quick-Union with Path Compression å®ç°\n\næˆ‘ä»¬ä»…ä»…éœ€è¦åœ¨Findä¸­çˆ¬æ ‘çš„è¿‡ç¨‹ä¸­å°†çˆ¬è¿‡çš„ç‚¹ç›´æ¥é™„ç€åœ¨æ ¹ä¸Šï¼Œè¿™æ ·å¯ä»¥ä¿è¯æ ‘çš„æ·±åº¦åœ¨Findåå¾ˆéš¾è¶…è¿‡2ï¼Œä½¿æ—¶é—´å¤æ‚åº¦æ¥è¿‘ 1\n\n```csharp\npublic int Find(int p)\n{\n    int root = p;\n    //é¦–å…ˆå…ˆæ‰¾å‡ºæ ¹\n    while (root != parent[root])\n        root = parent[root];\n    //ç„¶åå†æ¬¡æ‰¾æ ¹åœ¨éå†çš„è¿‡ç¨‹ä¸­æŠŠæ¯ä¸ªèŠ‚ç‚¹ç›´æ¥é™„ç€åœ¨æ ¹ä¸Š\n    while (p != root)\n    {\n        int newp = parent[p];\n        parent[p] = root;\n        p = newp;\n    }\n    return root;\n}\n```\n\n### Algorithmé…å¥—ä¹ é¢˜\n\nç”±äºé…å¥—ä¹ é¢˜å®åœ¨æ˜¯å¤ªå¤šäº†ï¼Œæˆ‘ä»¬è¿™é‡Œåªçœ‹ç½‘ç«™ä¸Šæä¾›çš„é¢˜ç›®\n\n**1.5.8** ç»™å‡ºåä¾‹æ¥è¯´æ˜ä¸ºä»€ä¹ˆè¿™ä¸ªquickFindä¸­çš„Unionæ–¹æ³•æ˜¯é”™è¯¯çš„\n\n```csharp\npublic void union(int p, int q) {\n   if (connected(p, q)) return;\n   for (int i = 0; i < id.length; i++)\n      if (id[i] == id[p]) id[i] = id[q];\n   count--;\n}\n/*å¯¹æ¯”\npublic void Union(int p, int q)\n{\n    int pId = Find(p);\n    int qId = Find(q);\n    if(pID == qID) return ;\n    for(int i=0; i < id.Length; i++)\n        if(id[i] == pId) \n            id[i] = qId;\n    count--;\n}\n*/\n```\n\nç­”ï¼šæˆ‘ä»¬å¯ä»¥çœ‹åˆ°forå¾ªç¯ä¸­id[i] == id[p]è¿™é‡Œï¼Œåœ¨éå†ä¸­ï¼Œæˆ‘ä»¬å¯èƒ½æ”¹å˜äº†id[p]çš„å€¼ï¼Œæ¯”å¦‚(id[i] == id[p],i==p)ï¼Œè¿™æ ·å­å½“ i > p æ—¶ï¼Œåé¢çš„éƒ½ä¼šå¤±æ•ˆã€‚\n\n**1.5.10** åœ¨Weighted Quick-Unionä¸­ï¼Œå‡è®¾æˆ‘ä»¬è®©id[rootp] == q æ¥ä»£æ›¿id[rootp]==id[rootq].ç®—æ³•çš„ç»“æœä¼šå‡ºé”™å—ï¼Ÿ\n\n```csharp\npublic void Union()\n{\n    int pRoot = Find(p);\n    int qRoot = Find(q);\n    if(pRoot == qRoot) return ;\n    if(weight[pRoot] < weight[qRoot]) \n    {\n        parent[pRoot] = qRoot; \n        //parent[pRoot] = q;\n        weight[qRoot] += weight[pRoot];\n    }\n    else \n    {\n        parent[qRoot] = pRoot;\n        weight[pRoot] +=weight[qRoot];\n    }\n    count--;\n}\n```\n\nç­”ï¼šä¸ä¼š.ä½†æ˜¯è¿™æ ·å­ä¸èƒ½è®©å°æ ‘ç›´æ¥é™„ç€åœ¨å¤§æ ‘çš„æ ¹ä¸Šï¼Œè¿™æ ·æ—¶é—´å¤æ‚åº¦å¹¶ä¸èƒ½è¾¾åˆ°æˆ‘ä»¬æƒ³è¦çš„æ•ˆæœã€‚\n\n#### ç®—æ³•ç½‘å€åŠGithubä»£ç \n\næœ‰ä¸€äº›éƒ¨åˆ†é¢˜ç›®æ˜¯å†™ä»£ç ï¼Œç›´æ¥æ”¾åœ¨githubä¸­äº†ï¼Œå¯ä»¥çœ‹çœ‹ç½‘å€ï¼Œæœ‰å›¾åŠ©äºç†è§£\n\n- <https://algs4.cs.princeton.edu/15uf/>\n- <https://github.com/talentstream/Algorithm-4th-Practice-/tree/main/Union-Find>\n","source":"_posts/Union-Find.md","raw":"---\ntitle: Union Find\ndate: 2022-08-31 09:37:01\n---\n\n### å‰è¨€\n\nå¹¶æŸ¥é›†åœ¨æ‰“ç«èµ›çš„æ—¶å€™å°±å­¦è¿‡äº†ï¼Œç°åœ¨å·®ä¸å¤šè¿‡äº†ä¸¤å¹´åŠï¼Œé‡æ‹¾ç®—æ³•ï¼Œè®¤çœŸå­¦å­¦ã€‚å½“æ—¶åœ¨å­¦çš„æ—¶å€™å®Œå…¨ä¸ç†è§£å¹¶æŸ¥é›†æ˜¯ä»€ä¹ˆæ„æ€ï¼Œåªèƒ½è¯´å½“æ–‡ç§‘èƒŒäº†ã€‚è®¤çœŸçœ‹äº†è‹±æ–‡ç‰ˆçš„ALgorithm 4thï¼Œæ‰å®Œå…¨ç†è§£äº†è¿™ä¸ªå¹¶ã€æŸ¥æ˜¯ä»€ä¹ˆæ„æ€ï¼Œé›†åº”è¯¥æ˜¯é›†åˆï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯æ•°æ®ç»“æ„çš„æ„æ€ï¼Œä¸çŸ¥é“æ˜¯è°ç¿»è¯‘çš„ã€‚å¦‚æœé˜…è¯»CSç›¸å…³çš„ä¹¦ï¼Œå°¤å…¶æ˜¯åŸºç¡€ä¹¦(å³å‰ç½®çŸ¥è¯†åªéœ€è¦ä½ ä¼šå†™ä»£ç å³å¯)ï¼Œæˆ‘æ¨èçœ‹è‹±æ–‡ç‰ˆã€‚è™½ç„¶ä¸€å¼€å§‹çœ‹çš„å¾ˆè¾›è‹¦ï¼Œä½†æ˜¯ä¸€æ—¦è¿›å…¥çŠ¶æ€ï¼ŒåŸºæœ¬èƒ½å¤Ÿäº†è§£ä½œè€…æƒ³è¦å‘Šè¯‰ä½ ä»€ä¹ˆï¼Œè€Œä¸”ä¹¦é‡Œé¢çš„è‹±è¯­åŸºæœ¬ä¸Šæ˜¯è‹±æ–‡çš„å¤§ç™½è¯ï¼Œé™¤å»å‡ ä¸ªä¸“æœ‰åè¯éœ€è¦æŸ¥ä¸€ä¸‹ï¼Œå…¶ä»–åŸºæœ¬ä¸Šéƒ½æ˜¯é«˜ä¸­å­¦è¿‡çš„å•è¯ã€‚å¸Œæœ›æˆ‘èƒ½é€šè¿‡è¿™æ®µæ—¶é—´çš„è‹±æ–‡æ•™æé˜…è¯»æ¥ç»ƒä¹ è‡ªå·±ä»¥åé˜…è¯»è‹±æ–‡æ–‡æ¡£çš„èƒ½åŠ›å§ã€‚\nå…³äºå¹¶æŸ¥é›†ï¼Œæˆ‘ä»¬ç›´æ¥çœ‹è‹±æ–‡ï¼ŒUnion - Findï¼ŒUnionå³ä¸ºå¹¶ï¼Œå³é“¾æ¥ï¼ŒFindä¸ºæŸ¥æ‰¾ï¼ŒæŸ¥æ‰¾å‡ºæ‰€åœ¨çš„é›†åˆã€‚ä¹‹æ‰€ä»¥å«è¿™ä¸ªåå­—ï¼Œæ˜¯å› ä¸ºUnionå’ŒFindè¿™ä¸¤ä¸ªæ–¹æ³•æ˜¯å¿…ä¸å¯å°‘çš„ï¼Œè€Œä¸”åç»­è®¨è®ºä¼˜åŒ–ä¹Ÿæ˜¯åœ¨è¿™ä¸¤ä¸ªæ–¹æ³•ä¸­ä¼˜åŒ–ã€‚\n\n### å¹¶æŸ¥é›†\n\n#### ç‰¹æ€§\n\nå½“æˆ‘ä»¬è¯´p qæ—¶ï¼Œå³è¯´pè¿æ¥äº†qï¼Œç„¶åæœ‰ä»¥ä¸‹ç‰¹ç‚¹ ï¼š\n\n- åèº«æ€§ï¼špè‡ªèº«è¿æ¥è‡ªå·±\n- å¯¹ç§°æ€§ï¼šå¦‚æœpè¿æ¥äº†qï¼Œåˆ™qè¿æ¥äº†p\n- ä¼ é€’æ€§ï¼šå¦‚æœpè¿æ¥äº†qä¸”qè¿æ¥äº†rï¼Œåˆ™pè¿æ¥äº†r \n\n```csharp\npublic class UF\n{\n    UF(int N)//åˆå§‹åŒ–\n    void Union(int p,int q)//è¿æ¥på’Œqï¼Œå³è®©ä»–ä»¬åœ¨åŒä¸€ä¸ªé›†åˆ\n    int Find(int p)//æ‰¾åˆ°pæ‰€åœ¨çš„é›†åˆ\n    bool Connected(int p,int q)//åˆ¤æ–­på’Œqç‚¹æ˜¯å¦åœ¨åŒä¸€ä¸ªé›†åˆ\n    int Count()//è¿”å›æœ‰å¤šå°‘ä¸ªé›†åˆ\n}\n```\n\nç®€å•æ¥è¯´ï¼Œå¹¶æŸ¥é›†å°±æ˜¯è®©ä¸€ä¸ªä¸€ä¸ªå­¤ç«‹çš„ç‚¹è¿åœ¨ä¸€èµ·ï¼Œè¿åœ¨ä¸€èµ·çš„ç‚¹æœ‰ä¸€ä¸ªå…±åŒçš„é›†åˆ\n\n#### åŸºæœ¬æ¶æ„å®ç°\n\nè¿™é‡Œç»™å‡ºåŸºæœ¬æ¶æ„ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œéœ€è¦æ›´æ”¹çš„åŸºæœ¬ä¸Šæ˜¯Findå’ŒUnion\n\n```csharp\npublic class UF\n{\n    private int[] id;//é›†åˆçš„id\n    private int count;\n\n    public UF(int N)\n    {\n        count = N;\n        id = new int[N];\n        for(int i = 0; i < N; i++)\n            id[i] = i ;\n    }\n\n    public int Count()\n    {\n        return count;\n    }\n\n    public bool Connected(int p, int q)\n    {\n        return Find(p)==Find(q);\n    }\n\n    public int Find(int p)//Findå‡½æ•°ï¼Œåé¢ä¼šå®ç°\n\n    public void Union(int p,int q)//Unionå‡½æ•°ï¼Œåé¢ä¼šå®ç°\n}\n```\n\n#### Quick-Findå®ç°\n\nå…ˆæ¥å¿«é€Ÿçœ‹çœ‹å®ç°çš„ä»£ç \n\n```csharp\npublic int Find(int p)\n{\n    return id[p];\n}\npublic void Union(int p, int q)\n{\n    int pId = Find(p);\n    int qId = Find(q);\n    if(pID == qID) return ;\n    for(int i=0; i < id.Length; i++)\n        if(id[i] == pId) \n            id[i] = qId;\n    count--;\n}\n```\n\nå…¶å®è¿™é‡Œå¾ˆç®€å•ï¼Œidå°±æ˜¯pæ‰€åœ¨çš„é›†åˆç¼–å·ï¼Œå¦‚æœåœ¨Unionä¸­ä¸¤ä¸ªidä¸åŒï¼Œé‚£ä¹ˆå°±ä¼šéå†å…¨éƒ¨é›†åˆï¼Œå¦‚æœéå†åˆ°çš„ç‚¹éƒ½å±äºpæ‰€åœ¨çš„é›†åˆï¼Œé‚£ä¹ˆæˆ‘ä»¬æŠŠéå†åˆ°çš„ç‚¹çš„idæ”¹ä¸ºqæ‰€å±çš„é›†åˆçš„idã€‚\n\nä¸è¿‡æˆ‘ä»¬æƒ³æƒ³ï¼ŒFindçš„æ—¶é—´å¤æ‚åº¦ä¸º O(1),è€ŒUnionçš„æ—¶é—´å¤æ‚åº¦ä¸º O(N)ã€‚å‡è®¾æˆ‘ä»¬ä»…ä»…ä½¿ç”¨äº†N-1æ¬¡è¿æ¥æˆ‘ä»¬å°±å¯ä»¥ä½¿æ•´ä¸ªè¿æ¥æˆä¸€ä¸ªé›†åˆï¼Œé‚£æ—¶é—´å¤æ‚åº¦ä¹Ÿè‡³å°‘æ˜¯ N*(N-1),ä¹Ÿå°±æ˜¯O(N^2)ï¼Œé‚£å½“Nå¤§çš„æ—¶å€™æ¶ˆè€—çš„æ—¶é—´å°†ä¼šå¾ˆå¤šã€‚æ‰€ä»¥æ¥ä¸‹æ¥æˆ‘ä»¬æ¥ä¼˜åŒ–ä¸€ä¸‹Unionæ–¹æ³•ã€‚\n\n#### Quick-Unionå®ç°\n\nå…ˆæ¥å¿«é€Ÿçœ‹çœ‹ä¸¤ä¸ªæ–¹æ³•é‡Œçš„ä»£ç \n\n```csharp\npublic int Find(int p)\n{\n    while(p != parent[p]) \n        p = parent[p];\n    return p;\n}\npublic void Union(int p,int q)\n{\n    int pRoot = Find(p);\n    int qRoot = Find(q);\n    if(pRoot == qRoot) return ;\n    id[pRoot] = qRoot;\n    count--;\n}\n```\n\næˆ‘ä»¬å¯ä»¥çœ‹åˆ°Findå’ŒUnionåšäº†äº›è®¸æ”¹å˜ï¼Œparentå’Œrootå¯ä»¥è®©æˆ‘ä»¬å¾ˆå¿«çš„è”æƒ³åˆ°æ ‘çš„ç»“æ„ï¼Œæˆ‘ä»¬å°†æ ‘æ ¹ä½œä¸ºé›†åˆçš„ç¼–å·ï¼Œè¿™æ ·å­Unionä»…ä»…éœ€è¦O(1)å³å¯å®Œæˆä¸€æ¬¡è¿æ¥ï¼Œè€ŒFindæ¶ˆè€—çš„æ—¶é—´å¤æ‚åº¦è™½ç„¶å˜å¤šäº†ï¼Œä½†æ˜¯è¿˜æ˜¯å¯ä»¥æ¥å—çš„ã€‚ä¸è¿‡è¿™å¹¶ä¸æ˜¯ä¸€ä¸ªç¨³å®šçš„ç®—æ³•ï¼Œå‡å¦‚Unionå°†æ ‘å½¢é›†åˆè¿æ¥æˆäº†ä¸€ä¸ªæ ‘é“¾ï¼Œé‚£ä¹ˆFindçš„æ€»æ—¶é—´å°±ä¼šå˜ä¸º(1+2+...N) ~ N^2/2 ~ N^2,è™½ç„¶æœ€åçš„æƒ…å†µä¹Ÿä¼šæ¯”ä¹‹å‰Quick-Findå¿«ï¼Œä½†æ˜¯ä½œä¸ºO(N^2)çº§åˆ«çš„æ—¶é—´å¤æ‚åº¦ï¼Œå½“æ•°æ®é‡è¶³å¤Ÿå¤§ä¹Ÿä¸Quick-Findå·®åˆ«ä¸å¤§ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥æ”¹å˜è¿æ¥çš„æ–¹å¼ï¼Œé¿å…æ ‘é“¾çš„å‡ºç°ã€‚\n\n#### Weighted Quick-Union å®ç°\n\nå…ˆæ¥çœ‹çœ‹è¿™æ¬¡çš„Unionä»£ç ï¼ŒFindå®ç°æ²¡æœ‰å˜ï¼Œè¿™æ¬¡æˆ‘ä»¬å¢åŠ äº†ä¸€ä¸ªWeightçš„å®ç°,å³æ ‘çš„æƒé‡(ä»¥é›†åˆé‡Œé¢æœ‰å¤šå°‘ä¸ªç‚¹æ¥è®¡ç®—ï¼Œå¦‚æœæœ‰Nä¸ªç‚¹ï¼Œåˆ™Weightä¸ºN)ï¼ŒåŠ æƒæ ‘æœ‰ä¸€ä¸ªç‰¹ç‚¹ï¼Œå®ƒå¯ä»¥ä¿è¯æ ‘çš„æœ€å¤§æ·±åº¦<=lgNï¼Œå› ä¸ºä¸å¯èƒ½æœ‰æ ‘é“¾çš„æƒ…å†µäº§ç”Ÿï¼Œä¸”ä¿è¯è¾ƒå°çš„æ ‘æ˜¯ç›´æ¥åŠ åˆ°æ ¹ä¸Šçš„ï¼Œè¿™æ ·æœ€å¤šä»…ä»…è®©æ ‘çš„æ·±åº¦ +1\n\n```csharp\npublic void Union()\n{\n    int pRoot = Find(p);\n    int qRoot = Find(q);\n    if(pRoot == qRoot) return ;\n    if(weight[pRoot] < weight[qRoot]) \n    {\n        parent[pRoot] = qRoot; \n        weight[qRoot] += weight[pRoot];\n    }\n    else \n    {\n        parent[qRoot] = pRoot;\n        weight[pRoot] +=weight[qRoot];\n    }\n    count--;\n}\n```\n\næˆ‘ä»¬åœ¨è¿™æ¬¡Weighted Quick-Unionåšçš„æ”¹å˜å°±æ˜¯å°½å¯èƒ½åœ°è®©å°æ ‘ç›´æ¥è¿åœ¨å¤§æ ‘çš„æ ¹ä¸Šï¼Œè¿™æ ·å­åŸºæœ¬ä¸Šä¸ä¼šå‡ºç°æœ‰æ ‘é“¾çš„æƒ…å†µã€‚æˆ‘ä»¬æ¥è¯æ˜ä¸€ä¸‹ï¼Œå‡è®¾è®©å°æ ‘ç›´æ¥è¿æ¥åœ¨å¤§æ ‘çš„æ ¹ä¸Šï¼Œè®¾ä¸¤æ£µæ ‘çš„æƒé‡åˆ†åˆ«ä¸º i ï¼Œj ä¸” i <= jï¼Œè®¾ i+j = k,å¤§æ ‘æœ¬èº«æ‰€éœ€è¦çš„éå†æ—¶é—´ä¸å˜ï¼Œè€Œå°æ ‘çš„æœ€å¤§éå†æ—¶é—´ä¼šå¢åŠ  1 ,å³æœ€å¤§éå†æ—¶é—´å˜ä¸º 1 + lgi = lg(i+i) <= lg(i+j) = lg(k)ï¼Œå³ lgk æœ€å¤šå¯èƒ½ç­‰äº lgi + 1ã€‚æ‰€ä»¥å¯ä»¥ä¿è¯æœ€åæ—¶é—´å¤æ‚åº¦ä¸º N*(2*lgN)å³ä¸ºO(NlgN)ã€‚\n\næˆ‘ä»¬å¯ä»¥æ›´åŠ æé™ä¸€ç‚¹ï¼Œè®©æ¯ä¸ªç‚¹ç›´æ¥è¿ç€æ ¹ï¼Œå³è·¯å¾„å‹ç¼©\n\n#### Weighted Quick-Union with Path Compression å®ç°\n\næˆ‘ä»¬ä»…ä»…éœ€è¦åœ¨Findä¸­çˆ¬æ ‘çš„è¿‡ç¨‹ä¸­å°†çˆ¬è¿‡çš„ç‚¹ç›´æ¥é™„ç€åœ¨æ ¹ä¸Šï¼Œè¿™æ ·å¯ä»¥ä¿è¯æ ‘çš„æ·±åº¦åœ¨Findåå¾ˆéš¾è¶…è¿‡2ï¼Œä½¿æ—¶é—´å¤æ‚åº¦æ¥è¿‘ 1\n\n```csharp\npublic int Find(int p)\n{\n    int root = p;\n    //é¦–å…ˆå…ˆæ‰¾å‡ºæ ¹\n    while (root != parent[root])\n        root = parent[root];\n    //ç„¶åå†æ¬¡æ‰¾æ ¹åœ¨éå†çš„è¿‡ç¨‹ä¸­æŠŠæ¯ä¸ªèŠ‚ç‚¹ç›´æ¥é™„ç€åœ¨æ ¹ä¸Š\n    while (p != root)\n    {\n        int newp = parent[p];\n        parent[p] = root;\n        p = newp;\n    }\n    return root;\n}\n```\n\n### Algorithmé…å¥—ä¹ é¢˜\n\nç”±äºé…å¥—ä¹ é¢˜å®åœ¨æ˜¯å¤ªå¤šäº†ï¼Œæˆ‘ä»¬è¿™é‡Œåªçœ‹ç½‘ç«™ä¸Šæä¾›çš„é¢˜ç›®\n\n**1.5.8** ç»™å‡ºåä¾‹æ¥è¯´æ˜ä¸ºä»€ä¹ˆè¿™ä¸ªquickFindä¸­çš„Unionæ–¹æ³•æ˜¯é”™è¯¯çš„\n\n```csharp\npublic void union(int p, int q) {\n   if (connected(p, q)) return;\n   for (int i = 0; i < id.length; i++)\n      if (id[i] == id[p]) id[i] = id[q];\n   count--;\n}\n/*å¯¹æ¯”\npublic void Union(int p, int q)\n{\n    int pId = Find(p);\n    int qId = Find(q);\n    if(pID == qID) return ;\n    for(int i=0; i < id.Length; i++)\n        if(id[i] == pId) \n            id[i] = qId;\n    count--;\n}\n*/\n```\n\nç­”ï¼šæˆ‘ä»¬å¯ä»¥çœ‹åˆ°forå¾ªç¯ä¸­id[i] == id[p]è¿™é‡Œï¼Œåœ¨éå†ä¸­ï¼Œæˆ‘ä»¬å¯èƒ½æ”¹å˜äº†id[p]çš„å€¼ï¼Œæ¯”å¦‚(id[i] == id[p],i==p)ï¼Œè¿™æ ·å­å½“ i > p æ—¶ï¼Œåé¢çš„éƒ½ä¼šå¤±æ•ˆã€‚\n\n**1.5.10** åœ¨Weighted Quick-Unionä¸­ï¼Œå‡è®¾æˆ‘ä»¬è®©id[rootp] == q æ¥ä»£æ›¿id[rootp]==id[rootq].ç®—æ³•çš„ç»“æœä¼šå‡ºé”™å—ï¼Ÿ\n\n```csharp\npublic void Union()\n{\n    int pRoot = Find(p);\n    int qRoot = Find(q);\n    if(pRoot == qRoot) return ;\n    if(weight[pRoot] < weight[qRoot]) \n    {\n        parent[pRoot] = qRoot; \n        //parent[pRoot] = q;\n        weight[qRoot] += weight[pRoot];\n    }\n    else \n    {\n        parent[qRoot] = pRoot;\n        weight[pRoot] +=weight[qRoot];\n    }\n    count--;\n}\n```\n\nç­”ï¼šä¸ä¼š.ä½†æ˜¯è¿™æ ·å­ä¸èƒ½è®©å°æ ‘ç›´æ¥é™„ç€åœ¨å¤§æ ‘çš„æ ¹ä¸Šï¼Œè¿™æ ·æ—¶é—´å¤æ‚åº¦å¹¶ä¸èƒ½è¾¾åˆ°æˆ‘ä»¬æƒ³è¦çš„æ•ˆæœã€‚\n\n#### ç®—æ³•ç½‘å€åŠGithubä»£ç \n\næœ‰ä¸€äº›éƒ¨åˆ†é¢˜ç›®æ˜¯å†™ä»£ç ï¼Œç›´æ¥æ”¾åœ¨githubä¸­äº†ï¼Œå¯ä»¥çœ‹çœ‹ç½‘å€ï¼Œæœ‰å›¾åŠ©äºç†è§£\n\n- <https://algs4.cs.princeton.edu/15uf/>\n- <https://github.com/talentstream/Algorithm-4th-Practice-/tree/main/Union-Find>\n","slug":"Union-Find","published":1,"updated":"2024-01-07T07:53:01.518Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clr4d2ju20009gwv06znu3huk","content":"<h3 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h3><p>å¹¶æŸ¥é›†åœ¨æ‰“ç«èµ›çš„æ—¶å€™å°±å­¦è¿‡äº†ï¼Œç°åœ¨å·®ä¸å¤šè¿‡äº†ä¸¤å¹´åŠï¼Œé‡æ‹¾ç®—æ³•ï¼Œè®¤çœŸå­¦å­¦ã€‚å½“æ—¶åœ¨å­¦çš„æ—¶å€™å®Œå…¨ä¸ç†è§£å¹¶æŸ¥é›†æ˜¯ä»€ä¹ˆæ„æ€ï¼Œåªèƒ½è¯´å½“æ–‡ç§‘èƒŒäº†ã€‚è®¤çœŸçœ‹äº†è‹±æ–‡ç‰ˆçš„ALgorithm 4thï¼Œæ‰å®Œå…¨ç†è§£äº†è¿™ä¸ªå¹¶ã€æŸ¥æ˜¯ä»€ä¹ˆæ„æ€ï¼Œé›†åº”è¯¥æ˜¯é›†åˆï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯æ•°æ®ç»“æ„çš„æ„æ€ï¼Œä¸çŸ¥é“æ˜¯è°ç¿»è¯‘çš„ã€‚å¦‚æœé˜…è¯»CSç›¸å…³çš„ä¹¦ï¼Œå°¤å…¶æ˜¯åŸºç¡€ä¹¦(å³å‰ç½®çŸ¥è¯†åªéœ€è¦ä½ ä¼šå†™ä»£ç å³å¯)ï¼Œæˆ‘æ¨èçœ‹è‹±æ–‡ç‰ˆã€‚è™½ç„¶ä¸€å¼€å§‹çœ‹çš„å¾ˆè¾›è‹¦ï¼Œä½†æ˜¯ä¸€æ—¦è¿›å…¥çŠ¶æ€ï¼ŒåŸºæœ¬èƒ½å¤Ÿäº†è§£ä½œè€…æƒ³è¦å‘Šè¯‰ä½ ä»€ä¹ˆï¼Œè€Œä¸”ä¹¦é‡Œé¢çš„è‹±è¯­åŸºæœ¬ä¸Šæ˜¯è‹±æ–‡çš„å¤§ç™½è¯ï¼Œé™¤å»å‡ ä¸ªä¸“æœ‰åè¯éœ€è¦æŸ¥ä¸€ä¸‹ï¼Œå…¶ä»–åŸºæœ¬ä¸Šéƒ½æ˜¯é«˜ä¸­å­¦è¿‡çš„å•è¯ã€‚å¸Œæœ›æˆ‘èƒ½é€šè¿‡è¿™æ®µæ—¶é—´çš„è‹±æ–‡æ•™æé˜…è¯»æ¥ç»ƒä¹ è‡ªå·±ä»¥åé˜…è¯»è‹±æ–‡æ–‡æ¡£çš„èƒ½åŠ›å§ã€‚<br>å…³äºå¹¶æŸ¥é›†ï¼Œæˆ‘ä»¬ç›´æ¥çœ‹è‹±æ–‡ï¼ŒUnion - Findï¼ŒUnionå³ä¸ºå¹¶ï¼Œå³é“¾æ¥ï¼ŒFindä¸ºæŸ¥æ‰¾ï¼ŒæŸ¥æ‰¾å‡ºæ‰€åœ¨çš„é›†åˆã€‚ä¹‹æ‰€ä»¥å«è¿™ä¸ªåå­—ï¼Œæ˜¯å› ä¸ºUnionå’ŒFindè¿™ä¸¤ä¸ªæ–¹æ³•æ˜¯å¿…ä¸å¯å°‘çš„ï¼Œè€Œä¸”åç»­è®¨è®ºä¼˜åŒ–ä¹Ÿæ˜¯åœ¨è¿™ä¸¤ä¸ªæ–¹æ³•ä¸­ä¼˜åŒ–ã€‚</p>\n<h3 id=\"å¹¶æŸ¥é›†\"><a href=\"#å¹¶æŸ¥é›†\" class=\"headerlink\" title=\"å¹¶æŸ¥é›†\"></a>å¹¶æŸ¥é›†</h3><h4 id=\"ç‰¹æ€§\"><a href=\"#ç‰¹æ€§\" class=\"headerlink\" title=\"ç‰¹æ€§\"></a>ç‰¹æ€§</h4><p>å½“æˆ‘ä»¬è¯´p qæ—¶ï¼Œå³è¯´pè¿æ¥äº†qï¼Œç„¶åæœ‰ä»¥ä¸‹ç‰¹ç‚¹ ï¼š</p>\n<ul>\n<li>åèº«æ€§ï¼špè‡ªèº«è¿æ¥è‡ªå·±</li>\n<li>å¯¹ç§°æ€§ï¼šå¦‚æœpè¿æ¥äº†qï¼Œåˆ™qè¿æ¥äº†p</li>\n<li>ä¼ é€’æ€§ï¼šå¦‚æœpè¿æ¥äº†qä¸”qè¿æ¥äº†rï¼Œåˆ™pè¿æ¥äº†r</li>\n</ul>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">UF</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    UF(<span class=\"built_in\">int</span> N)<span class=\"comment\">//åˆå§‹åŒ–</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">Union</span>(<span class=\"params\"><span class=\"built_in\">int</span> p,<span class=\"built_in\">int</span> q</span>)<span class=\"comment\">//è¿æ¥på’Œqï¼Œå³è®©ä»–ä»¬åœ¨åŒä¸€ä¸ªé›†åˆ</span></span></span><br><span class=\"line\"><span class=\"function\">    <span class=\"built_in\">int</span> <span class=\"title\">Find</span>(<span class=\"params\"><span class=\"built_in\">int</span> p</span>)<span class=\"comment\">//æ‰¾åˆ°pæ‰€åœ¨çš„é›†åˆ</span></span></span><br><span class=\"line\"><span class=\"function\">    <span class=\"built_in\">bool</span> <span class=\"title\">Connected</span>(<span class=\"params\"><span class=\"built_in\">int</span> p,<span class=\"built_in\">int</span> q</span>)<span class=\"comment\">//åˆ¤æ–­på’Œqç‚¹æ˜¯å¦åœ¨åŒä¸€ä¸ªé›†åˆ</span></span></span><br><span class=\"line\"><span class=\"function\">    <span class=\"built_in\">int</span> <span class=\"title\">Count</span>()<span class=\"comment\">//è¿”å›æœ‰å¤šå°‘ä¸ªé›†åˆ</span></span></span><br><span class=\"line\"><span class=\"function\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p>ç®€å•æ¥è¯´ï¼Œå¹¶æŸ¥é›†å°±æ˜¯è®©ä¸€ä¸ªä¸€ä¸ªå­¤ç«‹çš„ç‚¹è¿åœ¨ä¸€èµ·ï¼Œè¿åœ¨ä¸€èµ·çš„ç‚¹æœ‰ä¸€ä¸ªå…±åŒçš„é›†åˆ</p>\n<h4 id=\"åŸºæœ¬æ¶æ„å®ç°\"><a href=\"#åŸºæœ¬æ¶æ„å®ç°\" class=\"headerlink\" title=\"åŸºæœ¬æ¶æ„å®ç°\"></a>åŸºæœ¬æ¶æ„å®ç°</h4><p>è¿™é‡Œç»™å‡ºåŸºæœ¬æ¶æ„ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œéœ€è¦æ›´æ”¹çš„åŸºæœ¬ä¸Šæ˜¯Findå’ŒUnion</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">UF</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"built_in\">int</span>[] id;<span class=\"comment\">//é›†åˆçš„id</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"built_in\">int</span> count;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">UF</span>(<span class=\"params\"><span class=\"built_in\">int</span> N</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        count = N;</span><br><span class=\"line\">        id = <span class=\"keyword\">new</span> <span class=\"built_in\">int</span>[N];</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"built_in\">int</span> i = <span class=\"number\">0</span>; i &lt; N; i++)</span><br><span class=\"line\">            id[i] = i ;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"built_in\">int</span> <span class=\"title\">Count</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> count;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"built_in\">bool</span> <span class=\"title\">Connected</span>(<span class=\"params\"><span class=\"built_in\">int</span> p, <span class=\"built_in\">int</span> q</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> Find(p)==Find(q);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"built_in\">int</span> <span class=\"title\">Find</span>(<span class=\"params\"><span class=\"built_in\">int</span> p</span>)<span class=\"comment\">//Findå‡½æ•°ï¼Œåé¢ä¼šå®ç°</span></span></span><br><span class=\"line\"><span class=\"function\"></span></span><br><span class=\"line\"><span class=\"function\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Union</span>(<span class=\"params\"><span class=\"built_in\">int</span> p,<span class=\"built_in\">int</span> q</span>)<span class=\"comment\">//Unionå‡½æ•°ï¼Œåé¢ä¼šå®ç°</span></span></span><br><span class=\"line\"><span class=\"function\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"Quick-Findå®ç°\"><a href=\"#Quick-Findå®ç°\" class=\"headerlink\" title=\"Quick-Findå®ç°\"></a>Quick-Findå®ç°</h4><p>å…ˆæ¥å¿«é€Ÿçœ‹çœ‹å®ç°çš„ä»£ç </p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"built_in\">int</span> <span class=\"title\">Find</span>(<span class=\"params\"><span class=\"built_in\">int</span> p</span>)</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> id[p];</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Union</span>(<span class=\"params\"><span class=\"built_in\">int</span> p, <span class=\"built_in\">int</span> q</span>)</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"built_in\">int</span> pId = Find(p);</span><br><span class=\"line\">    <span class=\"built_in\">int</span> qId = Find(q);</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(pID == qID) <span class=\"keyword\">return</span> ;</span><br><span class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"built_in\">int</span> i=<span class=\"number\">0</span>; i &lt; id.Length; i++)</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(id[i] == pId) </span><br><span class=\"line\">            id[i] = qId;</span><br><span class=\"line\">    count--;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>å…¶å®è¿™é‡Œå¾ˆç®€å•ï¼Œidå°±æ˜¯pæ‰€åœ¨çš„é›†åˆç¼–å·ï¼Œå¦‚æœåœ¨Unionä¸­ä¸¤ä¸ªidä¸åŒï¼Œé‚£ä¹ˆå°±ä¼šéå†å…¨éƒ¨é›†åˆï¼Œå¦‚æœéå†åˆ°çš„ç‚¹éƒ½å±äºpæ‰€åœ¨çš„é›†åˆï¼Œé‚£ä¹ˆæˆ‘ä»¬æŠŠéå†åˆ°çš„ç‚¹çš„idæ”¹ä¸ºqæ‰€å±çš„é›†åˆçš„idã€‚</p>\n<p>ä¸è¿‡æˆ‘ä»¬æƒ³æƒ³ï¼ŒFindçš„æ—¶é—´å¤æ‚åº¦ä¸º O(1),è€ŒUnionçš„æ—¶é—´å¤æ‚åº¦ä¸º O(N)ã€‚å‡è®¾æˆ‘ä»¬ä»…ä»…ä½¿ç”¨äº†N-1æ¬¡è¿æ¥æˆ‘ä»¬å°±å¯ä»¥ä½¿æ•´ä¸ªè¿æ¥æˆä¸€ä¸ªé›†åˆï¼Œé‚£æ—¶é—´å¤æ‚åº¦ä¹Ÿè‡³å°‘æ˜¯ N*(N-1),ä¹Ÿå°±æ˜¯O(N^2)ï¼Œé‚£å½“Nå¤§çš„æ—¶å€™æ¶ˆè€—çš„æ—¶é—´å°†ä¼šå¾ˆå¤šã€‚æ‰€ä»¥æ¥ä¸‹æ¥æˆ‘ä»¬æ¥ä¼˜åŒ–ä¸€ä¸‹Unionæ–¹æ³•ã€‚</p>\n<h4 id=\"Quick-Unionå®ç°\"><a href=\"#Quick-Unionå®ç°\" class=\"headerlink\" title=\"Quick-Unionå®ç°\"></a>Quick-Unionå®ç°</h4><p>å…ˆæ¥å¿«é€Ÿçœ‹çœ‹ä¸¤ä¸ªæ–¹æ³•é‡Œçš„ä»£ç </p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"built_in\">int</span> <span class=\"title\">Find</span>(<span class=\"params\"><span class=\"built_in\">int</span> p</span>)</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">while</span>(p != parent[p]) </span><br><span class=\"line\">        p = parent[p];</span><br><span class=\"line\">    <span class=\"keyword\">return</span> p;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Union</span>(<span class=\"params\"><span class=\"built_in\">int</span> p,<span class=\"built_in\">int</span> q</span>)</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"built_in\">int</span> pRoot = Find(p);</span><br><span class=\"line\">    <span class=\"built_in\">int</span> qRoot = Find(q);</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(pRoot == qRoot) <span class=\"keyword\">return</span> ;</span><br><span class=\"line\">    id[pRoot] = qRoot;</span><br><span class=\"line\">    count--;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°Findå’ŒUnionåšäº†äº›è®¸æ”¹å˜ï¼Œparentå’Œrootå¯ä»¥è®©æˆ‘ä»¬å¾ˆå¿«çš„è”æƒ³åˆ°æ ‘çš„ç»“æ„ï¼Œæˆ‘ä»¬å°†æ ‘æ ¹ä½œä¸ºé›†åˆçš„ç¼–å·ï¼Œè¿™æ ·å­Unionä»…ä»…éœ€è¦O(1)å³å¯å®Œæˆä¸€æ¬¡è¿æ¥ï¼Œè€ŒFindæ¶ˆè€—çš„æ—¶é—´å¤æ‚åº¦è™½ç„¶å˜å¤šäº†ï¼Œä½†æ˜¯è¿˜æ˜¯å¯ä»¥æ¥å—çš„ã€‚ä¸è¿‡è¿™å¹¶ä¸æ˜¯ä¸€ä¸ªç¨³å®šçš„ç®—æ³•ï¼Œå‡å¦‚Unionå°†æ ‘å½¢é›†åˆè¿æ¥æˆäº†ä¸€ä¸ªæ ‘é“¾ï¼Œé‚£ä¹ˆFindçš„æ€»æ—¶é—´å°±ä¼šå˜ä¸º(1+2+â€¦N) ~ N^2&#x2F;2 ~ N^2,è™½ç„¶æœ€åçš„æƒ…å†µä¹Ÿä¼šæ¯”ä¹‹å‰Quick-Findå¿«ï¼Œä½†æ˜¯ä½œä¸ºO(N^2)çº§åˆ«çš„æ—¶é—´å¤æ‚åº¦ï¼Œå½“æ•°æ®é‡è¶³å¤Ÿå¤§ä¹Ÿä¸Quick-Findå·®åˆ«ä¸å¤§ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥æ”¹å˜è¿æ¥çš„æ–¹å¼ï¼Œé¿å…æ ‘é“¾çš„å‡ºç°ã€‚</p>\n<h4 id=\"Weighted-Quick-Union-å®ç°\"><a href=\"#Weighted-Quick-Union-å®ç°\" class=\"headerlink\" title=\"Weighted Quick-Union å®ç°\"></a>Weighted Quick-Union å®ç°</h4><p>å…ˆæ¥çœ‹çœ‹è¿™æ¬¡çš„Unionä»£ç ï¼ŒFindå®ç°æ²¡æœ‰å˜ï¼Œè¿™æ¬¡æˆ‘ä»¬å¢åŠ äº†ä¸€ä¸ªWeightçš„å®ç°,å³æ ‘çš„æƒé‡(ä»¥é›†åˆé‡Œé¢æœ‰å¤šå°‘ä¸ªç‚¹æ¥è®¡ç®—ï¼Œå¦‚æœæœ‰Nä¸ªç‚¹ï¼Œåˆ™Weightä¸ºN)ï¼ŒåŠ æƒæ ‘æœ‰ä¸€ä¸ªç‰¹ç‚¹ï¼Œå®ƒå¯ä»¥ä¿è¯æ ‘çš„æœ€å¤§æ·±åº¦&lt;&#x3D;lgNï¼Œå› ä¸ºä¸å¯èƒ½æœ‰æ ‘é“¾çš„æƒ…å†µäº§ç”Ÿï¼Œä¸”ä¿è¯è¾ƒå°çš„æ ‘æ˜¯ç›´æ¥åŠ åˆ°æ ¹ä¸Šçš„ï¼Œè¿™æ ·æœ€å¤šä»…ä»…è®©æ ‘çš„æ·±åº¦ +1</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Union</span>()</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"built_in\">int</span> pRoot = Find(p);</span><br><span class=\"line\">    <span class=\"built_in\">int</span> qRoot = Find(q);</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(pRoot == qRoot) <span class=\"keyword\">return</span> ;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(weight[pRoot] &lt; weight[qRoot]) </span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        parent[pRoot] = qRoot; </span><br><span class=\"line\">        weight[qRoot] += weight[pRoot];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">else</span> </span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        parent[qRoot] = pRoot;</span><br><span class=\"line\">        weight[pRoot] +=weight[qRoot];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    count--;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>æˆ‘ä»¬åœ¨è¿™æ¬¡Weighted Quick-Unionåšçš„æ”¹å˜å°±æ˜¯å°½å¯èƒ½åœ°è®©å°æ ‘ç›´æ¥è¿åœ¨å¤§æ ‘çš„æ ¹ä¸Šï¼Œè¿™æ ·å­åŸºæœ¬ä¸Šä¸ä¼šå‡ºç°æœ‰æ ‘é“¾çš„æƒ…å†µã€‚æˆ‘ä»¬æ¥è¯æ˜ä¸€ä¸‹ï¼Œå‡è®¾è®©å°æ ‘ç›´æ¥è¿æ¥åœ¨å¤§æ ‘çš„æ ¹ä¸Šï¼Œè®¾ä¸¤æ£µæ ‘çš„æƒé‡åˆ†åˆ«ä¸º i ï¼Œj ä¸” i &lt;&#x3D; jï¼Œè®¾ i+j &#x3D; k,å¤§æ ‘æœ¬èº«æ‰€éœ€è¦çš„éå†æ—¶é—´ä¸å˜ï¼Œè€Œå°æ ‘çš„æœ€å¤§éå†æ—¶é—´ä¼šå¢åŠ  1 ,å³æœ€å¤§éå†æ—¶é—´å˜ä¸º 1 + lgi &#x3D; lg(i+i) &lt;&#x3D; lg(i+j) &#x3D; lg(k)ï¼Œå³ lgk æœ€å¤šå¯èƒ½ç­‰äº lgi + 1ã€‚æ‰€ä»¥å¯ä»¥ä¿è¯æœ€åæ—¶é—´å¤æ‚åº¦ä¸º N*(2*lgN)å³ä¸ºO(NlgN)ã€‚</p>\n<p>æˆ‘ä»¬å¯ä»¥æ›´åŠ æé™ä¸€ç‚¹ï¼Œè®©æ¯ä¸ªç‚¹ç›´æ¥è¿ç€æ ¹ï¼Œå³è·¯å¾„å‹ç¼©</p>\n<h4 id=\"Weighted-Quick-Union-with-Path-Compression-å®ç°\"><a href=\"#Weighted-Quick-Union-with-Path-Compression-å®ç°\" class=\"headerlink\" title=\"Weighted Quick-Union with Path Compression å®ç°\"></a>Weighted Quick-Union with Path Compression å®ç°</h4><p>æˆ‘ä»¬ä»…ä»…éœ€è¦åœ¨Findä¸­çˆ¬æ ‘çš„è¿‡ç¨‹ä¸­å°†çˆ¬è¿‡çš„ç‚¹ç›´æ¥é™„ç€åœ¨æ ¹ä¸Šï¼Œè¿™æ ·å¯ä»¥ä¿è¯æ ‘çš„æ·±åº¦åœ¨Findåå¾ˆéš¾è¶…è¿‡2ï¼Œä½¿æ—¶é—´å¤æ‚åº¦æ¥è¿‘ 1</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"built_in\">int</span> <span class=\"title\">Find</span>(<span class=\"params\"><span class=\"built_in\">int</span> p</span>)</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"built_in\">int</span> root = p;</span><br><span class=\"line\">    <span class=\"comment\">//é¦–å…ˆå…ˆæ‰¾å‡ºæ ¹</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> (root != parent[root])</span><br><span class=\"line\">        root = parent[root];</span><br><span class=\"line\">    <span class=\"comment\">//ç„¶åå†æ¬¡æ‰¾æ ¹åœ¨éå†çš„è¿‡ç¨‹ä¸­æŠŠæ¯ä¸ªèŠ‚ç‚¹ç›´æ¥é™„ç€åœ¨æ ¹ä¸Š</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> (p != root)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"built_in\">int</span> newp = parent[p];</span><br><span class=\"line\">        parent[p] = root;</span><br><span class=\"line\">        p = newp;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> root;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Algorithmé…å¥—ä¹ é¢˜\"><a href=\"#Algorithmé…å¥—ä¹ é¢˜\" class=\"headerlink\" title=\"Algorithmé…å¥—ä¹ é¢˜\"></a>Algorithmé…å¥—ä¹ é¢˜</h3><p>ç”±äºé…å¥—ä¹ é¢˜å®åœ¨æ˜¯å¤ªå¤šäº†ï¼Œæˆ‘ä»¬è¿™é‡Œåªçœ‹ç½‘ç«™ä¸Šæä¾›çš„é¢˜ç›®</p>\n<p><strong>1.5.8</strong> ç»™å‡ºåä¾‹æ¥è¯´æ˜ä¸ºä»€ä¹ˆè¿™ä¸ªquickFindä¸­çš„Unionæ–¹æ³•æ˜¯é”™è¯¯çš„</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">union</span>(<span class=\"params\"><span class=\"built_in\">int</span> p, <span class=\"built_in\">int</span> q</span>)</span> &#123;</span><br><span class=\"line\">   <span class=\"keyword\">if</span> (connected(p, q)) <span class=\"keyword\">return</span>;</span><br><span class=\"line\">   <span class=\"keyword\">for</span> (<span class=\"built_in\">int</span> i = <span class=\"number\">0</span>; i &lt; id.length; i++)</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (id[i] == id[p]) id[i] = id[q];</span><br><span class=\"line\">   count--;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">/*å¯¹æ¯”</span></span><br><span class=\"line\"><span class=\"comment\">public void Union(int p, int q)</span></span><br><span class=\"line\"><span class=\"comment\">&#123;</span></span><br><span class=\"line\"><span class=\"comment\">    int pId = Find(p);</span></span><br><span class=\"line\"><span class=\"comment\">    int qId = Find(q);</span></span><br><span class=\"line\"><span class=\"comment\">    if(pID == qID) return ;</span></span><br><span class=\"line\"><span class=\"comment\">    for(int i=0; i &lt; id.Length; i++)</span></span><br><span class=\"line\"><span class=\"comment\">        if(id[i] == pId) </span></span><br><span class=\"line\"><span class=\"comment\">            id[i] = qId;</span></span><br><span class=\"line\"><span class=\"comment\">    count--;</span></span><br><span class=\"line\"><span class=\"comment\">&#125;</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br></pre></td></tr></table></figure>\n\n<p>ç­”ï¼šæˆ‘ä»¬å¯ä»¥çœ‹åˆ°forå¾ªç¯ä¸­id[i] &#x3D;&#x3D; id[p]è¿™é‡Œï¼Œåœ¨éå†ä¸­ï¼Œæˆ‘ä»¬å¯èƒ½æ”¹å˜äº†id[p]çš„å€¼ï¼Œæ¯”å¦‚(id[i] &#x3D;&#x3D; id[p],i&#x3D;&#x3D;p)ï¼Œè¿™æ ·å­å½“ i &gt; p æ—¶ï¼Œåé¢çš„éƒ½ä¼šå¤±æ•ˆã€‚</p>\n<p><strong>1.5.10</strong> åœ¨Weighted Quick-Unionä¸­ï¼Œå‡è®¾æˆ‘ä»¬è®©id[rootp] &#x3D;&#x3D; q æ¥ä»£æ›¿id[rootp]&#x3D;&#x3D;id[rootq].ç®—æ³•çš„ç»“æœä¼šå‡ºé”™å—ï¼Ÿ</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Union</span>()</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"built_in\">int</span> pRoot = Find(p);</span><br><span class=\"line\">    <span class=\"built_in\">int</span> qRoot = Find(q);</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(pRoot == qRoot) <span class=\"keyword\">return</span> ;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(weight[pRoot] &lt; weight[qRoot]) </span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        parent[pRoot] = qRoot; </span><br><span class=\"line\">        <span class=\"comment\">//parent[pRoot] = q;</span></span><br><span class=\"line\">        weight[qRoot] += weight[pRoot];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">else</span> </span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        parent[qRoot] = pRoot;</span><br><span class=\"line\">        weight[pRoot] +=weight[qRoot];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    count--;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>ç­”ï¼šä¸ä¼š.ä½†æ˜¯è¿™æ ·å­ä¸èƒ½è®©å°æ ‘ç›´æ¥é™„ç€åœ¨å¤§æ ‘çš„æ ¹ä¸Šï¼Œè¿™æ ·æ—¶é—´å¤æ‚åº¦å¹¶ä¸èƒ½è¾¾åˆ°æˆ‘ä»¬æƒ³è¦çš„æ•ˆæœã€‚</p>\n<h4 id=\"ç®—æ³•ç½‘å€åŠGithubä»£ç \"><a href=\"#ç®—æ³•ç½‘å€åŠGithubä»£ç \" class=\"headerlink\" title=\"ç®—æ³•ç½‘å€åŠGithubä»£ç \"></a>ç®—æ³•ç½‘å€åŠGithubä»£ç </h4><p>æœ‰ä¸€äº›éƒ¨åˆ†é¢˜ç›®æ˜¯å†™ä»£ç ï¼Œç›´æ¥æ”¾åœ¨githubä¸­äº†ï¼Œå¯ä»¥çœ‹çœ‹ç½‘å€ï¼Œæœ‰å›¾åŠ©äºç†è§£</p>\n<ul>\n<li><a href=\"https://algs4.cs.princeton.edu/15uf/\">https://algs4.cs.princeton.edu/15uf/</a></li>\n<li><a href=\"https://github.com/talentstream/Algorithm-4th-Practice-/tree/main/Union-Find\">https://github.com/talentstream/Algorithm-4th-Practice-/tree/main/Union-Find</a></li>\n</ul>\n","site":{"data":{}},"length":4064,"excerpt":"","more":"<h3 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h3><p>å¹¶æŸ¥é›†åœ¨æ‰“ç«èµ›çš„æ—¶å€™å°±å­¦è¿‡äº†ï¼Œç°åœ¨å·®ä¸å¤šè¿‡äº†ä¸¤å¹´åŠï¼Œé‡æ‹¾ç®—æ³•ï¼Œè®¤çœŸå­¦å­¦ã€‚å½“æ—¶åœ¨å­¦çš„æ—¶å€™å®Œå…¨ä¸ç†è§£å¹¶æŸ¥é›†æ˜¯ä»€ä¹ˆæ„æ€ï¼Œåªèƒ½è¯´å½“æ–‡ç§‘èƒŒäº†ã€‚è®¤çœŸçœ‹äº†è‹±æ–‡ç‰ˆçš„ALgorithm 4thï¼Œæ‰å®Œå…¨ç†è§£äº†è¿™ä¸ªå¹¶ã€æŸ¥æ˜¯ä»€ä¹ˆæ„æ€ï¼Œé›†åº”è¯¥æ˜¯é›†åˆï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯æ•°æ®ç»“æ„çš„æ„æ€ï¼Œä¸çŸ¥é“æ˜¯è°ç¿»è¯‘çš„ã€‚å¦‚æœé˜…è¯»CSç›¸å…³çš„ä¹¦ï¼Œå°¤å…¶æ˜¯åŸºç¡€ä¹¦(å³å‰ç½®çŸ¥è¯†åªéœ€è¦ä½ ä¼šå†™ä»£ç å³å¯)ï¼Œæˆ‘æ¨èçœ‹è‹±æ–‡ç‰ˆã€‚è™½ç„¶ä¸€å¼€å§‹çœ‹çš„å¾ˆè¾›è‹¦ï¼Œä½†æ˜¯ä¸€æ—¦è¿›å…¥çŠ¶æ€ï¼ŒåŸºæœ¬èƒ½å¤Ÿäº†è§£ä½œè€…æƒ³è¦å‘Šè¯‰ä½ ä»€ä¹ˆï¼Œè€Œä¸”ä¹¦é‡Œé¢çš„è‹±è¯­åŸºæœ¬ä¸Šæ˜¯è‹±æ–‡çš„å¤§ç™½è¯ï¼Œé™¤å»å‡ ä¸ªä¸“æœ‰åè¯éœ€è¦æŸ¥ä¸€ä¸‹ï¼Œå…¶ä»–åŸºæœ¬ä¸Šéƒ½æ˜¯é«˜ä¸­å­¦è¿‡çš„å•è¯ã€‚å¸Œæœ›æˆ‘èƒ½é€šè¿‡è¿™æ®µæ—¶é—´çš„è‹±æ–‡æ•™æé˜…è¯»æ¥ç»ƒä¹ è‡ªå·±ä»¥åé˜…è¯»è‹±æ–‡æ–‡æ¡£çš„èƒ½åŠ›å§ã€‚<br>å…³äºå¹¶æŸ¥é›†ï¼Œæˆ‘ä»¬ç›´æ¥çœ‹è‹±æ–‡ï¼ŒUnion - Findï¼ŒUnionå³ä¸ºå¹¶ï¼Œå³é“¾æ¥ï¼ŒFindä¸ºæŸ¥æ‰¾ï¼ŒæŸ¥æ‰¾å‡ºæ‰€åœ¨çš„é›†åˆã€‚ä¹‹æ‰€ä»¥å«è¿™ä¸ªåå­—ï¼Œæ˜¯å› ä¸ºUnionå’ŒFindè¿™ä¸¤ä¸ªæ–¹æ³•æ˜¯å¿…ä¸å¯å°‘çš„ï¼Œè€Œä¸”åç»­è®¨è®ºä¼˜åŒ–ä¹Ÿæ˜¯åœ¨è¿™ä¸¤ä¸ªæ–¹æ³•ä¸­ä¼˜åŒ–ã€‚</p>\n<h3 id=\"å¹¶æŸ¥é›†\"><a href=\"#å¹¶æŸ¥é›†\" class=\"headerlink\" title=\"å¹¶æŸ¥é›†\"></a>å¹¶æŸ¥é›†</h3><h4 id=\"ç‰¹æ€§\"><a href=\"#ç‰¹æ€§\" class=\"headerlink\" title=\"ç‰¹æ€§\"></a>ç‰¹æ€§</h4><p>å½“æˆ‘ä»¬è¯´p qæ—¶ï¼Œå³è¯´pè¿æ¥äº†qï¼Œç„¶åæœ‰ä»¥ä¸‹ç‰¹ç‚¹ ï¼š</p>\n<ul>\n<li>åèº«æ€§ï¼špè‡ªèº«è¿æ¥è‡ªå·±</li>\n<li>å¯¹ç§°æ€§ï¼šå¦‚æœpè¿æ¥äº†qï¼Œåˆ™qè¿æ¥äº†p</li>\n<li>ä¼ é€’æ€§ï¼šå¦‚æœpè¿æ¥äº†qä¸”qè¿æ¥äº†rï¼Œåˆ™pè¿æ¥äº†r</li>\n</ul>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">UF</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    UF(<span class=\"built_in\">int</span> N)<span class=\"comment\">//åˆå§‹åŒ–</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">Union</span>(<span class=\"params\"><span class=\"built_in\">int</span> p,<span class=\"built_in\">int</span> q</span>)<span class=\"comment\">//è¿æ¥på’Œqï¼Œå³è®©ä»–ä»¬åœ¨åŒä¸€ä¸ªé›†åˆ</span></span></span><br><span class=\"line\"><span class=\"function\">    <span class=\"built_in\">int</span> <span class=\"title\">Find</span>(<span class=\"params\"><span class=\"built_in\">int</span> p</span>)<span class=\"comment\">//æ‰¾åˆ°pæ‰€åœ¨çš„é›†åˆ</span></span></span><br><span class=\"line\"><span class=\"function\">    <span class=\"built_in\">bool</span> <span class=\"title\">Connected</span>(<span class=\"params\"><span class=\"built_in\">int</span> p,<span class=\"built_in\">int</span> q</span>)<span class=\"comment\">//åˆ¤æ–­på’Œqç‚¹æ˜¯å¦åœ¨åŒä¸€ä¸ªé›†åˆ</span></span></span><br><span class=\"line\"><span class=\"function\">    <span class=\"built_in\">int</span> <span class=\"title\">Count</span>()<span class=\"comment\">//è¿”å›æœ‰å¤šå°‘ä¸ªé›†åˆ</span></span></span><br><span class=\"line\"><span class=\"function\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p>ç®€å•æ¥è¯´ï¼Œå¹¶æŸ¥é›†å°±æ˜¯è®©ä¸€ä¸ªä¸€ä¸ªå­¤ç«‹çš„ç‚¹è¿åœ¨ä¸€èµ·ï¼Œè¿åœ¨ä¸€èµ·çš„ç‚¹æœ‰ä¸€ä¸ªå…±åŒçš„é›†åˆ</p>\n<h4 id=\"åŸºæœ¬æ¶æ„å®ç°\"><a href=\"#åŸºæœ¬æ¶æ„å®ç°\" class=\"headerlink\" title=\"åŸºæœ¬æ¶æ„å®ç°\"></a>åŸºæœ¬æ¶æ„å®ç°</h4><p>è¿™é‡Œç»™å‡ºåŸºæœ¬æ¶æ„ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œéœ€è¦æ›´æ”¹çš„åŸºæœ¬ä¸Šæ˜¯Findå’ŒUnion</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">UF</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"built_in\">int</span>[] id;<span class=\"comment\">//é›†åˆçš„id</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"built_in\">int</span> count;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">UF</span>(<span class=\"params\"><span class=\"built_in\">int</span> N</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        count = N;</span><br><span class=\"line\">        id = <span class=\"keyword\">new</span> <span class=\"built_in\">int</span>[N];</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"built_in\">int</span> i = <span class=\"number\">0</span>; i &lt; N; i++)</span><br><span class=\"line\">            id[i] = i ;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"built_in\">int</span> <span class=\"title\">Count</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> count;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"built_in\">bool</span> <span class=\"title\">Connected</span>(<span class=\"params\"><span class=\"built_in\">int</span> p, <span class=\"built_in\">int</span> q</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> Find(p)==Find(q);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"built_in\">int</span> <span class=\"title\">Find</span>(<span class=\"params\"><span class=\"built_in\">int</span> p</span>)<span class=\"comment\">//Findå‡½æ•°ï¼Œåé¢ä¼šå®ç°</span></span></span><br><span class=\"line\"><span class=\"function\"></span></span><br><span class=\"line\"><span class=\"function\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Union</span>(<span class=\"params\"><span class=\"built_in\">int</span> p,<span class=\"built_in\">int</span> q</span>)<span class=\"comment\">//Unionå‡½æ•°ï¼Œåé¢ä¼šå®ç°</span></span></span><br><span class=\"line\"><span class=\"function\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"Quick-Findå®ç°\"><a href=\"#Quick-Findå®ç°\" class=\"headerlink\" title=\"Quick-Findå®ç°\"></a>Quick-Findå®ç°</h4><p>å…ˆæ¥å¿«é€Ÿçœ‹çœ‹å®ç°çš„ä»£ç </p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"built_in\">int</span> <span class=\"title\">Find</span>(<span class=\"params\"><span class=\"built_in\">int</span> p</span>)</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> id[p];</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Union</span>(<span class=\"params\"><span class=\"built_in\">int</span> p, <span class=\"built_in\">int</span> q</span>)</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"built_in\">int</span> pId = Find(p);</span><br><span class=\"line\">    <span class=\"built_in\">int</span> qId = Find(q);</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(pID == qID) <span class=\"keyword\">return</span> ;</span><br><span class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"built_in\">int</span> i=<span class=\"number\">0</span>; i &lt; id.Length; i++)</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(id[i] == pId) </span><br><span class=\"line\">            id[i] = qId;</span><br><span class=\"line\">    count--;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>å…¶å®è¿™é‡Œå¾ˆç®€å•ï¼Œidå°±æ˜¯pæ‰€åœ¨çš„é›†åˆç¼–å·ï¼Œå¦‚æœåœ¨Unionä¸­ä¸¤ä¸ªidä¸åŒï¼Œé‚£ä¹ˆå°±ä¼šéå†å…¨éƒ¨é›†åˆï¼Œå¦‚æœéå†åˆ°çš„ç‚¹éƒ½å±äºpæ‰€åœ¨çš„é›†åˆï¼Œé‚£ä¹ˆæˆ‘ä»¬æŠŠéå†åˆ°çš„ç‚¹çš„idæ”¹ä¸ºqæ‰€å±çš„é›†åˆçš„idã€‚</p>\n<p>ä¸è¿‡æˆ‘ä»¬æƒ³æƒ³ï¼ŒFindçš„æ—¶é—´å¤æ‚åº¦ä¸º O(1),è€ŒUnionçš„æ—¶é—´å¤æ‚åº¦ä¸º O(N)ã€‚å‡è®¾æˆ‘ä»¬ä»…ä»…ä½¿ç”¨äº†N-1æ¬¡è¿æ¥æˆ‘ä»¬å°±å¯ä»¥ä½¿æ•´ä¸ªè¿æ¥æˆä¸€ä¸ªé›†åˆï¼Œé‚£æ—¶é—´å¤æ‚åº¦ä¹Ÿè‡³å°‘æ˜¯ N*(N-1),ä¹Ÿå°±æ˜¯O(N^2)ï¼Œé‚£å½“Nå¤§çš„æ—¶å€™æ¶ˆè€—çš„æ—¶é—´å°†ä¼šå¾ˆå¤šã€‚æ‰€ä»¥æ¥ä¸‹æ¥æˆ‘ä»¬æ¥ä¼˜åŒ–ä¸€ä¸‹Unionæ–¹æ³•ã€‚</p>\n<h4 id=\"Quick-Unionå®ç°\"><a href=\"#Quick-Unionå®ç°\" class=\"headerlink\" title=\"Quick-Unionå®ç°\"></a>Quick-Unionå®ç°</h4><p>å…ˆæ¥å¿«é€Ÿçœ‹çœ‹ä¸¤ä¸ªæ–¹æ³•é‡Œçš„ä»£ç </p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"built_in\">int</span> <span class=\"title\">Find</span>(<span class=\"params\"><span class=\"built_in\">int</span> p</span>)</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">while</span>(p != parent[p]) </span><br><span class=\"line\">        p = parent[p];</span><br><span class=\"line\">    <span class=\"keyword\">return</span> p;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Union</span>(<span class=\"params\"><span class=\"built_in\">int</span> p,<span class=\"built_in\">int</span> q</span>)</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"built_in\">int</span> pRoot = Find(p);</span><br><span class=\"line\">    <span class=\"built_in\">int</span> qRoot = Find(q);</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(pRoot == qRoot) <span class=\"keyword\">return</span> ;</span><br><span class=\"line\">    id[pRoot] = qRoot;</span><br><span class=\"line\">    count--;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°Findå’ŒUnionåšäº†äº›è®¸æ”¹å˜ï¼Œparentå’Œrootå¯ä»¥è®©æˆ‘ä»¬å¾ˆå¿«çš„è”æƒ³åˆ°æ ‘çš„ç»“æ„ï¼Œæˆ‘ä»¬å°†æ ‘æ ¹ä½œä¸ºé›†åˆçš„ç¼–å·ï¼Œè¿™æ ·å­Unionä»…ä»…éœ€è¦O(1)å³å¯å®Œæˆä¸€æ¬¡è¿æ¥ï¼Œè€ŒFindæ¶ˆè€—çš„æ—¶é—´å¤æ‚åº¦è™½ç„¶å˜å¤šäº†ï¼Œä½†æ˜¯è¿˜æ˜¯å¯ä»¥æ¥å—çš„ã€‚ä¸è¿‡è¿™å¹¶ä¸æ˜¯ä¸€ä¸ªç¨³å®šçš„ç®—æ³•ï¼Œå‡å¦‚Unionå°†æ ‘å½¢é›†åˆè¿æ¥æˆäº†ä¸€ä¸ªæ ‘é“¾ï¼Œé‚£ä¹ˆFindçš„æ€»æ—¶é—´å°±ä¼šå˜ä¸º(1+2+â€¦N) ~ N^2&#x2F;2 ~ N^2,è™½ç„¶æœ€åçš„æƒ…å†µä¹Ÿä¼šæ¯”ä¹‹å‰Quick-Findå¿«ï¼Œä½†æ˜¯ä½œä¸ºO(N^2)çº§åˆ«çš„æ—¶é—´å¤æ‚åº¦ï¼Œå½“æ•°æ®é‡è¶³å¤Ÿå¤§ä¹Ÿä¸Quick-Findå·®åˆ«ä¸å¤§ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥æ”¹å˜è¿æ¥çš„æ–¹å¼ï¼Œé¿å…æ ‘é“¾çš„å‡ºç°ã€‚</p>\n<h4 id=\"Weighted-Quick-Union-å®ç°\"><a href=\"#Weighted-Quick-Union-å®ç°\" class=\"headerlink\" title=\"Weighted Quick-Union å®ç°\"></a>Weighted Quick-Union å®ç°</h4><p>å…ˆæ¥çœ‹çœ‹è¿™æ¬¡çš„Unionä»£ç ï¼ŒFindå®ç°æ²¡æœ‰å˜ï¼Œè¿™æ¬¡æˆ‘ä»¬å¢åŠ äº†ä¸€ä¸ªWeightçš„å®ç°,å³æ ‘çš„æƒé‡(ä»¥é›†åˆé‡Œé¢æœ‰å¤šå°‘ä¸ªç‚¹æ¥è®¡ç®—ï¼Œå¦‚æœæœ‰Nä¸ªç‚¹ï¼Œåˆ™Weightä¸ºN)ï¼ŒåŠ æƒæ ‘æœ‰ä¸€ä¸ªç‰¹ç‚¹ï¼Œå®ƒå¯ä»¥ä¿è¯æ ‘çš„æœ€å¤§æ·±åº¦&lt;&#x3D;lgNï¼Œå› ä¸ºä¸å¯èƒ½æœ‰æ ‘é“¾çš„æƒ…å†µäº§ç”Ÿï¼Œä¸”ä¿è¯è¾ƒå°çš„æ ‘æ˜¯ç›´æ¥åŠ åˆ°æ ¹ä¸Šçš„ï¼Œè¿™æ ·æœ€å¤šä»…ä»…è®©æ ‘çš„æ·±åº¦ +1</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Union</span>()</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"built_in\">int</span> pRoot = Find(p);</span><br><span class=\"line\">    <span class=\"built_in\">int</span> qRoot = Find(q);</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(pRoot == qRoot) <span class=\"keyword\">return</span> ;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(weight[pRoot] &lt; weight[qRoot]) </span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        parent[pRoot] = qRoot; </span><br><span class=\"line\">        weight[qRoot] += weight[pRoot];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">else</span> </span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        parent[qRoot] = pRoot;</span><br><span class=\"line\">        weight[pRoot] +=weight[qRoot];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    count--;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>æˆ‘ä»¬åœ¨è¿™æ¬¡Weighted Quick-Unionåšçš„æ”¹å˜å°±æ˜¯å°½å¯èƒ½åœ°è®©å°æ ‘ç›´æ¥è¿åœ¨å¤§æ ‘çš„æ ¹ä¸Šï¼Œè¿™æ ·å­åŸºæœ¬ä¸Šä¸ä¼šå‡ºç°æœ‰æ ‘é“¾çš„æƒ…å†µã€‚æˆ‘ä»¬æ¥è¯æ˜ä¸€ä¸‹ï¼Œå‡è®¾è®©å°æ ‘ç›´æ¥è¿æ¥åœ¨å¤§æ ‘çš„æ ¹ä¸Šï¼Œè®¾ä¸¤æ£µæ ‘çš„æƒé‡åˆ†åˆ«ä¸º i ï¼Œj ä¸” i &lt;&#x3D; jï¼Œè®¾ i+j &#x3D; k,å¤§æ ‘æœ¬èº«æ‰€éœ€è¦çš„éå†æ—¶é—´ä¸å˜ï¼Œè€Œå°æ ‘çš„æœ€å¤§éå†æ—¶é—´ä¼šå¢åŠ  1 ,å³æœ€å¤§éå†æ—¶é—´å˜ä¸º 1 + lgi &#x3D; lg(i+i) &lt;&#x3D; lg(i+j) &#x3D; lg(k)ï¼Œå³ lgk æœ€å¤šå¯èƒ½ç­‰äº lgi + 1ã€‚æ‰€ä»¥å¯ä»¥ä¿è¯æœ€åæ—¶é—´å¤æ‚åº¦ä¸º N*(2*lgN)å³ä¸ºO(NlgN)ã€‚</p>\n<p>æˆ‘ä»¬å¯ä»¥æ›´åŠ æé™ä¸€ç‚¹ï¼Œè®©æ¯ä¸ªç‚¹ç›´æ¥è¿ç€æ ¹ï¼Œå³è·¯å¾„å‹ç¼©</p>\n<h4 id=\"Weighted-Quick-Union-with-Path-Compression-å®ç°\"><a href=\"#Weighted-Quick-Union-with-Path-Compression-å®ç°\" class=\"headerlink\" title=\"Weighted Quick-Union with Path Compression å®ç°\"></a>Weighted Quick-Union with Path Compression å®ç°</h4><p>æˆ‘ä»¬ä»…ä»…éœ€è¦åœ¨Findä¸­çˆ¬æ ‘çš„è¿‡ç¨‹ä¸­å°†çˆ¬è¿‡çš„ç‚¹ç›´æ¥é™„ç€åœ¨æ ¹ä¸Šï¼Œè¿™æ ·å¯ä»¥ä¿è¯æ ‘çš„æ·±åº¦åœ¨Findåå¾ˆéš¾è¶…è¿‡2ï¼Œä½¿æ—¶é—´å¤æ‚åº¦æ¥è¿‘ 1</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"built_in\">int</span> <span class=\"title\">Find</span>(<span class=\"params\"><span class=\"built_in\">int</span> p</span>)</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"built_in\">int</span> root = p;</span><br><span class=\"line\">    <span class=\"comment\">//é¦–å…ˆå…ˆæ‰¾å‡ºæ ¹</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> (root != parent[root])</span><br><span class=\"line\">        root = parent[root];</span><br><span class=\"line\">    <span class=\"comment\">//ç„¶åå†æ¬¡æ‰¾æ ¹åœ¨éå†çš„è¿‡ç¨‹ä¸­æŠŠæ¯ä¸ªèŠ‚ç‚¹ç›´æ¥é™„ç€åœ¨æ ¹ä¸Š</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> (p != root)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"built_in\">int</span> newp = parent[p];</span><br><span class=\"line\">        parent[p] = root;</span><br><span class=\"line\">        p = newp;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> root;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Algorithmé…å¥—ä¹ é¢˜\"><a href=\"#Algorithmé…å¥—ä¹ é¢˜\" class=\"headerlink\" title=\"Algorithmé…å¥—ä¹ é¢˜\"></a>Algorithmé…å¥—ä¹ é¢˜</h3><p>ç”±äºé…å¥—ä¹ é¢˜å®åœ¨æ˜¯å¤ªå¤šäº†ï¼Œæˆ‘ä»¬è¿™é‡Œåªçœ‹ç½‘ç«™ä¸Šæä¾›çš„é¢˜ç›®</p>\n<p><strong>1.5.8</strong> ç»™å‡ºåä¾‹æ¥è¯´æ˜ä¸ºä»€ä¹ˆè¿™ä¸ªquickFindä¸­çš„Unionæ–¹æ³•æ˜¯é”™è¯¯çš„</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">union</span>(<span class=\"params\"><span class=\"built_in\">int</span> p, <span class=\"built_in\">int</span> q</span>)</span> &#123;</span><br><span class=\"line\">   <span class=\"keyword\">if</span> (connected(p, q)) <span class=\"keyword\">return</span>;</span><br><span class=\"line\">   <span class=\"keyword\">for</span> (<span class=\"built_in\">int</span> i = <span class=\"number\">0</span>; i &lt; id.length; i++)</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (id[i] == id[p]) id[i] = id[q];</span><br><span class=\"line\">   count--;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">/*å¯¹æ¯”</span></span><br><span class=\"line\"><span class=\"comment\">public void Union(int p, int q)</span></span><br><span class=\"line\"><span class=\"comment\">&#123;</span></span><br><span class=\"line\"><span class=\"comment\">    int pId = Find(p);</span></span><br><span class=\"line\"><span class=\"comment\">    int qId = Find(q);</span></span><br><span class=\"line\"><span class=\"comment\">    if(pID == qID) return ;</span></span><br><span class=\"line\"><span class=\"comment\">    for(int i=0; i &lt; id.Length; i++)</span></span><br><span class=\"line\"><span class=\"comment\">        if(id[i] == pId) </span></span><br><span class=\"line\"><span class=\"comment\">            id[i] = qId;</span></span><br><span class=\"line\"><span class=\"comment\">    count--;</span></span><br><span class=\"line\"><span class=\"comment\">&#125;</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br></pre></td></tr></table></figure>\n\n<p>ç­”ï¼šæˆ‘ä»¬å¯ä»¥çœ‹åˆ°forå¾ªç¯ä¸­id[i] &#x3D;&#x3D; id[p]è¿™é‡Œï¼Œåœ¨éå†ä¸­ï¼Œæˆ‘ä»¬å¯èƒ½æ”¹å˜äº†id[p]çš„å€¼ï¼Œæ¯”å¦‚(id[i] &#x3D;&#x3D; id[p],i&#x3D;&#x3D;p)ï¼Œè¿™æ ·å­å½“ i &gt; p æ—¶ï¼Œåé¢çš„éƒ½ä¼šå¤±æ•ˆã€‚</p>\n<p><strong>1.5.10</strong> åœ¨Weighted Quick-Unionä¸­ï¼Œå‡è®¾æˆ‘ä»¬è®©id[rootp] &#x3D;&#x3D; q æ¥ä»£æ›¿id[rootp]&#x3D;&#x3D;id[rootq].ç®—æ³•çš„ç»“æœä¼šå‡ºé”™å—ï¼Ÿ</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Union</span>()</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"built_in\">int</span> pRoot = Find(p);</span><br><span class=\"line\">    <span class=\"built_in\">int</span> qRoot = Find(q);</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(pRoot == qRoot) <span class=\"keyword\">return</span> ;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(weight[pRoot] &lt; weight[qRoot]) </span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        parent[pRoot] = qRoot; </span><br><span class=\"line\">        <span class=\"comment\">//parent[pRoot] = q;</span></span><br><span class=\"line\">        weight[qRoot] += weight[pRoot];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">else</span> </span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        parent[qRoot] = pRoot;</span><br><span class=\"line\">        weight[pRoot] +=weight[qRoot];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    count--;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>ç­”ï¼šä¸ä¼š.ä½†æ˜¯è¿™æ ·å­ä¸èƒ½è®©å°æ ‘ç›´æ¥é™„ç€åœ¨å¤§æ ‘çš„æ ¹ä¸Šï¼Œè¿™æ ·æ—¶é—´å¤æ‚åº¦å¹¶ä¸èƒ½è¾¾åˆ°æˆ‘ä»¬æƒ³è¦çš„æ•ˆæœã€‚</p>\n<h4 id=\"ç®—æ³•ç½‘å€åŠGithubä»£ç \"><a href=\"#ç®—æ³•ç½‘å€åŠGithubä»£ç \" class=\"headerlink\" title=\"ç®—æ³•ç½‘å€åŠGithubä»£ç \"></a>ç®—æ³•ç½‘å€åŠGithubä»£ç </h4><p>æœ‰ä¸€äº›éƒ¨åˆ†é¢˜ç›®æ˜¯å†™ä»£ç ï¼Œç›´æ¥æ”¾åœ¨githubä¸­äº†ï¼Œå¯ä»¥çœ‹çœ‹ç½‘å€ï¼Œæœ‰å›¾åŠ©äºç†è§£</p>\n<ul>\n<li><a href=\"https://algs4.cs.princeton.edu/15uf/\">https://algs4.cs.princeton.edu/15uf/</a></li>\n<li><a href=\"https://github.com/talentstream/Algorithm-4th-Practice-/tree/main/Union-Find\">https://github.com/talentstream/Algorithm-4th-Practice-/tree/main/Union-Find</a></li>\n</ul>\n"},{"title":"Trie","date":"2023-05-25T12:23:41.000Z","_content":"\n#### ä»‹ç»\n\n> Trie(å­—å…¸æ ‘) æ˜¯ä¸€ç§æ ‘å½¢ç»“æ„ï¼Œç”¨äºé«˜æ•ˆå­˜å‚¨å’Œæ£€ç´¢å­—ç¬¦ä¸²é›†ä¸­çš„é”®ã€‚\n\n- Trie æ˜¯ä¸€ä¸ªå¤šå‰æ ‘ï¼Œé€šå¸¸æ˜¯è‹±æ–‡å•è¯ï¼Œæœ‰26ä¸ªå­—æ¯ä¸º26å‰\n- æˆ‘ä»¬åªè¦å­˜å‚¨å­èŠ‚ç‚¹ï¼Œå’Œä¸€ä¸ªboolå˜é‡æ¥åˆ¤æ–­åˆ°è¾¾è¯¥èŠ‚ç‚¹æ—¶æ˜¯å¦æ„æˆä¸€ä¸ªå•è¯é›†é‡Œçš„è¯\n- é€šå¸¸æœ‰Insertå’ŒSearchä¸¤ä¸ªå‡½æ•°\n\nå‡è®¾æœ‰å•è¯è¡¨æœ‰nä¸ªå•è¯ï¼Œå•è¯æœ€é•¿é•¿åº¦ä¸ºm\n\n|Operation|\tæ—¶é—´å¤æ‚åº¦|\tç©ºé—´å¤æ‚åº¦|\n| ----------- | ----------- |------------|\n|Insertion|\tO(m)\t|O(n*m)|\n|Searching|\tO(m)\t| O(1)|\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230525202618.png)\n\n#### ç¤ºä¾‹ä»£ç \n\n```c++\n#include <iostream>\n#include <vector>\n\nconst int CHILDREN_SIZE = 26;\nusing std::cout;\nusing std::endl;\n\nclass TrieNode\n{\n\nprivate:\n    bool isEndOfWord; // è¯¥èŠ‚ç‚¹æ˜¯å¦æ˜¯ä¸€ä¸ªå•è¯çš„ç»“å°¾\n    std::vector<TrieNode *> children;// è¯¥èŠ‚ç‚¹çš„å­èŠ‚ç‚¹\n\npublic:\n    TrieNode() : isEndOfWord(false), children(26, 0) {}\n\n    void Insert(std::string word)\n    {\n        TrieNode *node = this;\n        for (auto c : word)\n        {\n            if (node->children[c - 'a'] == nullptr)\n                node->children[c - 'a'] = new TrieNode();\n            node = node->children[c - 'a'];\n        }\n        node->isEndOfWord = true;\n    }\n\n    bool Search(std::string word)\n    {\n        TrieNode *node = this;\n        for (auto c : word)\n        {\n            node = node->children[c - 'a'];\n            if (node == nullptr)\n                return false;\n        }\n\n        return node->isEndOfWord;\n    }\n};\n\nint main()\n{\n    std::string keys[] = {\"the\", \"a\", \"there\",\n                          \"answer\", \"any\", \"by\",\n                          \"bye\", \"their\"};\n\n    TrieNode *obj = new TrieNode();\n    for (auto key : keys)\n        obj->Insert(key);\n\n    std::string words[] = {\"the\",\"these\",\"thire\",\"their\",\"th\",\"thaw\"};\n    char output[][32] = {\"Not present in trie\", \"Present in trie\"};\n\n    for (auto word : words)\n        cout << word << \" --- \" << output[obj->Search(word)] << endl;\n    return 0;\n}\n\n// Trie.cpp             output\n// the --- Present in trie\n// these --- Not present in trie\n// thire --- Not present in trie\n// their --- Present in trie\n// th --- Not present in trie\n// thaw --- Not present in trie\n```","source":"_posts/Trie.md","raw":"---\ntitle: Trie\ndate: 2023-05-25 20:23:41\n---\n\n#### ä»‹ç»\n\n> Trie(å­—å…¸æ ‘) æ˜¯ä¸€ç§æ ‘å½¢ç»“æ„ï¼Œç”¨äºé«˜æ•ˆå­˜å‚¨å’Œæ£€ç´¢å­—ç¬¦ä¸²é›†ä¸­çš„é”®ã€‚\n\n- Trie æ˜¯ä¸€ä¸ªå¤šå‰æ ‘ï¼Œé€šå¸¸æ˜¯è‹±æ–‡å•è¯ï¼Œæœ‰26ä¸ªå­—æ¯ä¸º26å‰\n- æˆ‘ä»¬åªè¦å­˜å‚¨å­èŠ‚ç‚¹ï¼Œå’Œä¸€ä¸ªboolå˜é‡æ¥åˆ¤æ–­åˆ°è¾¾è¯¥èŠ‚ç‚¹æ—¶æ˜¯å¦æ„æˆä¸€ä¸ªå•è¯é›†é‡Œçš„è¯\n- é€šå¸¸æœ‰Insertå’ŒSearchä¸¤ä¸ªå‡½æ•°\n\nå‡è®¾æœ‰å•è¯è¡¨æœ‰nä¸ªå•è¯ï¼Œå•è¯æœ€é•¿é•¿åº¦ä¸ºm\n\n|Operation|\tæ—¶é—´å¤æ‚åº¦|\tç©ºé—´å¤æ‚åº¦|\n| ----------- | ----------- |------------|\n|Insertion|\tO(m)\t|O(n*m)|\n|Searching|\tO(m)\t| O(1)|\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230525202618.png)\n\n#### ç¤ºä¾‹ä»£ç \n\n```c++\n#include <iostream>\n#include <vector>\n\nconst int CHILDREN_SIZE = 26;\nusing std::cout;\nusing std::endl;\n\nclass TrieNode\n{\n\nprivate:\n    bool isEndOfWord; // è¯¥èŠ‚ç‚¹æ˜¯å¦æ˜¯ä¸€ä¸ªå•è¯çš„ç»“å°¾\n    std::vector<TrieNode *> children;// è¯¥èŠ‚ç‚¹çš„å­èŠ‚ç‚¹\n\npublic:\n    TrieNode() : isEndOfWord(false), children(26, 0) {}\n\n    void Insert(std::string word)\n    {\n        TrieNode *node = this;\n        for (auto c : word)\n        {\n            if (node->children[c - 'a'] == nullptr)\n                node->children[c - 'a'] = new TrieNode();\n            node = node->children[c - 'a'];\n        }\n        node->isEndOfWord = true;\n    }\n\n    bool Search(std::string word)\n    {\n        TrieNode *node = this;\n        for (auto c : word)\n        {\n            node = node->children[c - 'a'];\n            if (node == nullptr)\n                return false;\n        }\n\n        return node->isEndOfWord;\n    }\n};\n\nint main()\n{\n    std::string keys[] = {\"the\", \"a\", \"there\",\n                          \"answer\", \"any\", \"by\",\n                          \"bye\", \"their\"};\n\n    TrieNode *obj = new TrieNode();\n    for (auto key : keys)\n        obj->Insert(key);\n\n    std::string words[] = {\"the\",\"these\",\"thire\",\"their\",\"th\",\"thaw\"};\n    char output[][32] = {\"Not present in trie\", \"Present in trie\"};\n\n    for (auto word : words)\n        cout << word << \" --- \" << output[obj->Search(word)] << endl;\n    return 0;\n}\n\n// Trie.cpp             output\n// the --- Present in trie\n// these --- Not present in trie\n// thire --- Not present in trie\n// their --- Present in trie\n// th --- Not present in trie\n// thaw --- Not present in trie\n```","slug":"Trie","published":1,"updated":"2024-01-07T07:46:36.768Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clr4d2ju3000agwv02557d7fi","content":"<h4 id=\"ä»‹ç»\"><a href=\"#ä»‹ç»\" class=\"headerlink\" title=\"ä»‹ç»\"></a>ä»‹ç»</h4><blockquote>\n<p>Trie(å­—å…¸æ ‘) æ˜¯ä¸€ç§æ ‘å½¢ç»“æ„ï¼Œç”¨äºé«˜æ•ˆå­˜å‚¨å’Œæ£€ç´¢å­—ç¬¦ä¸²é›†ä¸­çš„é”®ã€‚</p>\n</blockquote>\n<ul>\n<li>Trie æ˜¯ä¸€ä¸ªå¤šå‰æ ‘ï¼Œé€šå¸¸æ˜¯è‹±æ–‡å•è¯ï¼Œæœ‰26ä¸ªå­—æ¯ä¸º26å‰</li>\n<li>æˆ‘ä»¬åªè¦å­˜å‚¨å­èŠ‚ç‚¹ï¼Œå’Œä¸€ä¸ªboolå˜é‡æ¥åˆ¤æ–­åˆ°è¾¾è¯¥èŠ‚ç‚¹æ—¶æ˜¯å¦æ„æˆä¸€ä¸ªå•è¯é›†é‡Œçš„è¯</li>\n<li>é€šå¸¸æœ‰Insertå’ŒSearchä¸¤ä¸ªå‡½æ•°</li>\n</ul>\n<p>å‡è®¾æœ‰å•è¯è¡¨æœ‰nä¸ªå•è¯ï¼Œå•è¯æœ€é•¿é•¿åº¦ä¸ºm</p>\n<table>\n<thead>\n<tr>\n<th>Operation</th>\n<th>æ—¶é—´å¤æ‚åº¦</th>\n<th>ç©ºé—´å¤æ‚åº¦</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>Insertion</td>\n<td>O(m)</td>\n<td>O(n*m)</td>\n</tr>\n<tr>\n<td>Searching</td>\n<td>O(m)</td>\n<td>O(1)</td>\n</tr>\n</tbody></table>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230525202618.png\"></p>\n<h4 id=\"ç¤ºä¾‹ä»£ç \"><a href=\"#ç¤ºä¾‹ä»£ç \" class=\"headerlink\" title=\"ç¤ºä¾‹ä»£ç \"></a>ç¤ºä¾‹ä»£ç </h4><figure class=\"highlight c++\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;iostream&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;vector&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> CHILDREN_SIZE = <span class=\"number\">26</span>;</span><br><span class=\"line\"><span class=\"keyword\">using</span> std::cout;</span><br><span class=\"line\"><span class=\"keyword\">using</span> std::endl;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">TrieNode</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">private</span>:</span><br><span class=\"line\">    <span class=\"type\">bool</span> isEndOfWord; <span class=\"comment\">// è¯¥èŠ‚ç‚¹æ˜¯å¦æ˜¯ä¸€ä¸ªå•è¯çš„ç»“å°¾</span></span><br><span class=\"line\">    std::vector&lt;TrieNode *&gt; children;<span class=\"comment\">// è¯¥èŠ‚ç‚¹çš„å­èŠ‚ç‚¹</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"built_in\">TrieNode</span>() : <span class=\"built_in\">isEndOfWord</span>(<span class=\"literal\">false</span>), <span class=\"built_in\">children</span>(<span class=\"number\">26</span>, <span class=\"number\">0</span>) &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">Insert</span><span class=\"params\">(std::string word)</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        TrieNode *node = <span class=\"keyword\">this</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">auto</span> c : word)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (node-&gt;children[c - <span class=\"string\">&#x27;a&#x27;</span>] == <span class=\"literal\">nullptr</span>)</span><br><span class=\"line\">                node-&gt;children[c - <span class=\"string\">&#x27;a&#x27;</span>] = <span class=\"keyword\">new</span> <span class=\"built_in\">TrieNode</span>();</span><br><span class=\"line\">            node = node-&gt;children[c - <span class=\"string\">&#x27;a&#x27;</span>];</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        node-&gt;isEndOfWord = <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">Search</span><span class=\"params\">(std::string word)</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        TrieNode *node = <span class=\"keyword\">this</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">auto</span> c : word)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            node = node-&gt;children[c - <span class=\"string\">&#x27;a&#x27;</span>];</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (node == <span class=\"literal\">nullptr</span>)</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> node-&gt;isEndOfWord;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    std::string keys[] = &#123;<span class=\"string\">&quot;the&quot;</span>, <span class=\"string\">&quot;a&quot;</span>, <span class=\"string\">&quot;there&quot;</span>,</span><br><span class=\"line\">                          <span class=\"string\">&quot;answer&quot;</span>, <span class=\"string\">&quot;any&quot;</span>, <span class=\"string\">&quot;by&quot;</span>,</span><br><span class=\"line\">                          <span class=\"string\">&quot;bye&quot;</span>, <span class=\"string\">&quot;their&quot;</span>&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    TrieNode *obj = <span class=\"keyword\">new</span> <span class=\"built_in\">TrieNode</span>();</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">auto</span> key : keys)</span><br><span class=\"line\">        obj-&gt;<span class=\"built_in\">Insert</span>(key);</span><br><span class=\"line\"></span><br><span class=\"line\">    std::string words[] = &#123;<span class=\"string\">&quot;the&quot;</span>,<span class=\"string\">&quot;these&quot;</span>,<span class=\"string\">&quot;thire&quot;</span>,<span class=\"string\">&quot;their&quot;</span>,<span class=\"string\">&quot;th&quot;</span>,<span class=\"string\">&quot;thaw&quot;</span>&#125;;</span><br><span class=\"line\">    <span class=\"type\">char</span> output[][<span class=\"number\">32</span>] = &#123;<span class=\"string\">&quot;Not present in trie&quot;</span>, <span class=\"string\">&quot;Present in trie&quot;</span>&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">auto</span> word : words)</span><br><span class=\"line\">        cout &lt;&lt; word &lt;&lt; <span class=\"string\">&quot; --- &quot;</span> &lt;&lt; output[obj-&gt;<span class=\"built_in\">Search</span>(word)] &lt;&lt; endl;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Trie.cpp             output</span></span><br><span class=\"line\"><span class=\"comment\">// the --- Present in trie</span></span><br><span class=\"line\"><span class=\"comment\">// these --- Not present in trie</span></span><br><span class=\"line\"><span class=\"comment\">// thire --- Not present in trie</span></span><br><span class=\"line\"><span class=\"comment\">// their --- Present in trie</span></span><br><span class=\"line\"><span class=\"comment\">// th --- Not present in trie</span></span><br><span class=\"line\"><span class=\"comment\">// thaw --- Not present in trie</span></span><br></pre></td></tr></table></figure>","site":{"data":{}},"length":1646,"excerpt":"","more":"<h4 id=\"ä»‹ç»\"><a href=\"#ä»‹ç»\" class=\"headerlink\" title=\"ä»‹ç»\"></a>ä»‹ç»</h4><blockquote>\n<p>Trie(å­—å…¸æ ‘) æ˜¯ä¸€ç§æ ‘å½¢ç»“æ„ï¼Œç”¨äºé«˜æ•ˆå­˜å‚¨å’Œæ£€ç´¢å­—ç¬¦ä¸²é›†ä¸­çš„é”®ã€‚</p>\n</blockquote>\n<ul>\n<li>Trie æ˜¯ä¸€ä¸ªå¤šå‰æ ‘ï¼Œé€šå¸¸æ˜¯è‹±æ–‡å•è¯ï¼Œæœ‰26ä¸ªå­—æ¯ä¸º26å‰</li>\n<li>æˆ‘ä»¬åªè¦å­˜å‚¨å­èŠ‚ç‚¹ï¼Œå’Œä¸€ä¸ªboolå˜é‡æ¥åˆ¤æ–­åˆ°è¾¾è¯¥èŠ‚ç‚¹æ—¶æ˜¯å¦æ„æˆä¸€ä¸ªå•è¯é›†é‡Œçš„è¯</li>\n<li>é€šå¸¸æœ‰Insertå’ŒSearchä¸¤ä¸ªå‡½æ•°</li>\n</ul>\n<p>å‡è®¾æœ‰å•è¯è¡¨æœ‰nä¸ªå•è¯ï¼Œå•è¯æœ€é•¿é•¿åº¦ä¸ºm</p>\n<table>\n<thead>\n<tr>\n<th>Operation</th>\n<th>æ—¶é—´å¤æ‚åº¦</th>\n<th>ç©ºé—´å¤æ‚åº¦</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>Insertion</td>\n<td>O(m)</td>\n<td>O(n*m)</td>\n</tr>\n<tr>\n<td>Searching</td>\n<td>O(m)</td>\n<td>O(1)</td>\n</tr>\n</tbody></table>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230525202618.png\"></p>\n<h4 id=\"ç¤ºä¾‹ä»£ç \"><a href=\"#ç¤ºä¾‹ä»£ç \" class=\"headerlink\" title=\"ç¤ºä¾‹ä»£ç \"></a>ç¤ºä¾‹ä»£ç </h4><figure class=\"highlight c++\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;iostream&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;vector&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> CHILDREN_SIZE = <span class=\"number\">26</span>;</span><br><span class=\"line\"><span class=\"keyword\">using</span> std::cout;</span><br><span class=\"line\"><span class=\"keyword\">using</span> std::endl;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">TrieNode</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">private</span>:</span><br><span class=\"line\">    <span class=\"type\">bool</span> isEndOfWord; <span class=\"comment\">// è¯¥èŠ‚ç‚¹æ˜¯å¦æ˜¯ä¸€ä¸ªå•è¯çš„ç»“å°¾</span></span><br><span class=\"line\">    std::vector&lt;TrieNode *&gt; children;<span class=\"comment\">// è¯¥èŠ‚ç‚¹çš„å­èŠ‚ç‚¹</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"built_in\">TrieNode</span>() : <span class=\"built_in\">isEndOfWord</span>(<span class=\"literal\">false</span>), <span class=\"built_in\">children</span>(<span class=\"number\">26</span>, <span class=\"number\">0</span>) &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">Insert</span><span class=\"params\">(std::string word)</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        TrieNode *node = <span class=\"keyword\">this</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">auto</span> c : word)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (node-&gt;children[c - <span class=\"string\">&#x27;a&#x27;</span>] == <span class=\"literal\">nullptr</span>)</span><br><span class=\"line\">                node-&gt;children[c - <span class=\"string\">&#x27;a&#x27;</span>] = <span class=\"keyword\">new</span> <span class=\"built_in\">TrieNode</span>();</span><br><span class=\"line\">            node = node-&gt;children[c - <span class=\"string\">&#x27;a&#x27;</span>];</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        node-&gt;isEndOfWord = <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">Search</span><span class=\"params\">(std::string word)</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        TrieNode *node = <span class=\"keyword\">this</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">auto</span> c : word)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            node = node-&gt;children[c - <span class=\"string\">&#x27;a&#x27;</span>];</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (node == <span class=\"literal\">nullptr</span>)</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> node-&gt;isEndOfWord;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    std::string keys[] = &#123;<span class=\"string\">&quot;the&quot;</span>, <span class=\"string\">&quot;a&quot;</span>, <span class=\"string\">&quot;there&quot;</span>,</span><br><span class=\"line\">                          <span class=\"string\">&quot;answer&quot;</span>, <span class=\"string\">&quot;any&quot;</span>, <span class=\"string\">&quot;by&quot;</span>,</span><br><span class=\"line\">                          <span class=\"string\">&quot;bye&quot;</span>, <span class=\"string\">&quot;their&quot;</span>&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    TrieNode *obj = <span class=\"keyword\">new</span> <span class=\"built_in\">TrieNode</span>();</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">auto</span> key : keys)</span><br><span class=\"line\">        obj-&gt;<span class=\"built_in\">Insert</span>(key);</span><br><span class=\"line\"></span><br><span class=\"line\">    std::string words[] = &#123;<span class=\"string\">&quot;the&quot;</span>,<span class=\"string\">&quot;these&quot;</span>,<span class=\"string\">&quot;thire&quot;</span>,<span class=\"string\">&quot;their&quot;</span>,<span class=\"string\">&quot;th&quot;</span>,<span class=\"string\">&quot;thaw&quot;</span>&#125;;</span><br><span class=\"line\">    <span class=\"type\">char</span> output[][<span class=\"number\">32</span>] = &#123;<span class=\"string\">&quot;Not present in trie&quot;</span>, <span class=\"string\">&quot;Present in trie&quot;</span>&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">auto</span> word : words)</span><br><span class=\"line\">        cout &lt;&lt; word &lt;&lt; <span class=\"string\">&quot; --- &quot;</span> &lt;&lt; output[obj-&gt;<span class=\"built_in\">Search</span>(word)] &lt;&lt; endl;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Trie.cpp             output</span></span><br><span class=\"line\"><span class=\"comment\">// the --- Present in trie</span></span><br><span class=\"line\"><span class=\"comment\">// these --- Not present in trie</span></span><br><span class=\"line\"><span class=\"comment\">// thire --- Not present in trie</span></span><br><span class=\"line\"><span class=\"comment\">// their --- Present in trie</span></span><br><span class=\"line\"><span class=\"comment\">// th --- Not present in trie</span></span><br><span class=\"line\"><span class=\"comment\">// thaw --- Not present in trie</span></span><br></pre></td></tr></table></figure>"},{"title":"c++ primer","date":"2023-04-15T13:19:35.000Z","_content":"\n### å‰è¨€\n\nç”±äºé¢è¯•è¢«ç‹ ç‹ æ‹·æ‰“ï¼Œå†³å®šæ¶è¡¥c++ã€‚æœ‰äº›æ¦‚å¿µå¤ªé•¿ä¼šä»¥å›¾ç‰‡æ˜¾ç¤º\n\n### å˜é‡å’ŒåŸºæœ¬ç±»å‹\n\n#### åŸºæœ¬ç±»å‹\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418202838.png)\n\nä¸€äº›ç±»å‹é€‰æ‹©çš„å»ºè®®ï¼š\n\n- æ•°å€¼ä¸å¯èƒ½ä¸ºè´Ÿæ—¶ï¼Œé€‰ç”¨æ— ç¬¦å·ç±»å‹\n- ä½¿ç”¨intæ‰§è¡Œæ•´æ•°è¿ç®—ï¼Œå¦‚æœè¶…è¿‡intèŒƒå›´ï¼Œé€‰ç”¨longlong\n- ç®—æœ¯è¡¨è¾¾å¼ä¸­ä¸è¦ä½¿ç”¨charæˆ–bool,åªæœ‰åœ¨å­˜æ”¾å­—ç¬¦æˆ–boolå€¼æ‰ä½¿ç”¨å®ƒä»¬ã€‚å› ä¸ºcharåœ¨æœ‰äº›æœºå™¨æ˜¯æœ‰ç¬¦å·çš„ï¼Œè€Œåœ¨ä¸€äº›æœºå™¨ä¸Šåˆæ˜¯æ— ç¬¦å·çš„ã€‚\n- æ‰§è¡Œæµ®ç‚¹æ•°è¿ç®—ç”¨doubleï¼Œfloatå¸¸å¸¸ç²¾åº¦ä¸å¤Ÿï¼Œè€Œä¸”åŒç²¾åº¦å’Œå•ç²¾åº¦çš„è®¡ç®—ä»£ä»·ç›¸å·®æ— å‡ ã€‚\n\n#### ç±»å‹è½¬æ¢\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418203722.png)\n\n- å°†éboolå‹ç®—æœ¯å€¼èµ‹ç»™boolæ—¶ï¼Œä¸º0åˆ™ç»“æœä¸ºfalseï¼Œå¦åˆ™ä¸ºtrue\n- å½“boolå€¼ç»™éboolå‹ï¼Œä¸ºfalseåˆ™ç»“æœä¸º0ï¼Œtrue ä¸º 1\n- å½“æµ®ç‚¹æ•°èµ‹ç»™æ•´æ•°ç±»å‹æ—¶ï¼Œç æ‰å°æ•°ç‚¹åé¢çš„\n- å½“æ•´æ•°èµ‹ç»™æµ®ç‚¹æ—¶ï¼Œå°æ•°éƒ¨åˆ†ä¸º0\n- å½“ç»™unsignedèµ‹ç»™ä¸€ä¸ªè¶…å‡ºèŒƒå›´çš„å€¼æ—¶ï¼Œç»“æœæ˜¯åˆå§‹å€¼åŠ è¡¨ç¤ºæ•°å€¼æ€»æ•°å–æ¨¡åçš„ä½™æ•°ï¼Œåœ¨è¿™é‡Œå°±æ˜¯(-1+256)%256\n- å½“ç»™ä¸€ä¸ªæœ‰ç¬¦å·ç±»å‹ä¸€ä¸ªè¶…å‡ºèŒƒå›´çš„å€¼æ—¶ï¼Œç»“æœæ—¶æœªå®šä¹‰çš„ã€‚ç¨‹åºå¯èƒ½ç»§ç»­å·¥ä½œã€å¯èƒ½å´©æºƒï¼Œä¹Ÿå¯èƒ½äº§ç”Ÿåƒåœ¾æ•°æ®ã€‚\n\nå½“ä¸€ä¸ªç®—æ•°è¡¨è¾¾å¼æ—¢æœ‰unsignedåˆæœ‰intæ—¶ï¼Œintå°±ä¼šè½¬åŒ–ä¸ºunsigned\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418204711.png)\n\nå½“ u = 0 æ—¶ï¼Œè¿­ä»£è¾“å‡º0ï¼Œç„¶åæ‰§è¡Œ--uï¼Œæ­¤æ—¶ u = -1 è¢«è‡ªåŠ¨è½¬åŒ–ä¸º4294967295ï¼Œæ­¤æ—¶ä¼šæ— é™å¾ªç¯\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418204946.png)\n\n#### å­—é¢å€¼å¸¸é‡\n\nä»¥0å¼€å¤´ä»£è¡¨å…«è¿›åˆ¶æ•°ï¼Œ0xæˆ–0Xå¼€å¤´ä»£è¡¨åå…­è¿›åˆ¶ï¼Œæ¯”å¦‚ï¼š\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418205302.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418205426.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418205542.png)\n\n#### å˜é‡\n\nå½“å¯¹è±¡åœ¨åˆ›å»ºæ—¶è·å¾—äº†ä¸€ä¸ªç‰¹å®šå€¼ï¼Œæˆ‘ä»¬è¯´è¿™ä¸ªå¯¹è±¡è¢«åˆå§‹åŒ–äº†ã€‚å¦‚æœå®šä¹‰å˜é‡æ—¶æ²¡æœ‰æŒ‡å®šåˆå€¼ï¼Œåˆ™å˜é‡è¢«é»˜è®¤åˆå§‹åŒ–ï¼Œæ­¤æ—¶è¢«èµ‹äºˆäº†â€œé»˜è®¤å€¼â€ã€‚å®šä¹‰äºä»»ä½•å‡½æ•°ä½“ä¹‹å¤–çš„å˜é‡è¢«åˆå§‹åŒ–ä¸º0ï¼Œå®šä¹‰åœ¨å‡½æ•°ä½“å†…éƒ¨çš„å†…ç½®å˜é‡å°†ä¸è¢«åˆå§‹åŒ–ï¼Œç”±äºæ˜¯æœªè¢«å®šä¹‰çš„ï¼Œè¯•å›¾æ‹·è´æˆ–ä»¥å…¶ä»–å½¢å¼è®¿é—®æ­¤å€¼å°†å¼•å‘é”™è¯¯ã€‚\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418205841.png)\n\n#### å£°æ˜ä¸å®šä¹‰\n\nc++å°†å£°æ˜å’Œå®šä¹‰åŒºåˆ†å¼€æ¥ï¼Œå£°æ˜ä½¿å¾—åå­—ä¸ºç¨‹åºæ‰€çŸ¥ï¼Œå®šä¹‰è´Ÿè´£åˆ›å»ºä¸åå­—å…³è”çš„å®ä½“ã€‚\n\nå˜é‡å£°æ˜è§„å®šå˜é‡çš„ç±»å‹å’Œåå­—ï¼Œåœ¨è¿™ä¸€ç‚¹ä¸Šå®šä¹‰ä¸ä¹‹ç›¸åŒï¼Œä½†é™¤æ­¤ä¹‹å¤–ï¼Œå®šä¹‰è¿˜ç”³è¯·å­˜å‚¨ç©ºé—´ï¼Œä¹Ÿå¯èƒ½ä¸ºå˜é‡èµ‹ä¸€ä¸ªåˆå§‹å€¼ã€‚\n\n```c++\nextern int i; // å¦‚æœæƒ³å£°æ˜ä¸€ä¸ªå˜é‡è€Œéå®šä¹‰å®ƒï¼Œåœ¨å˜é‡åå‰æ·»åŠ å…³é”®å­—extern\nint j;// å£°æ˜å¹¶å®šä¹‰ j\nextern double pi = 3.1416; // externè¯­å¥å¦‚æœåŒ…å«åˆå§‹å€¼å°±ä¸å†æ˜¯å£°æ˜ï¼Œè€Œå˜æˆå®šä¹‰äº†ã€‚\n// å¦‚æœåœ¨å‡½æ•°ä½“è¿™æ ·å†™ï¼Œå°†ä¼šå¼•å‘é”™è¯¯ã€‚\n```\n\n### æŒ‡é’ˆå’Œå¼•ç”¨\n\n#### å¼•ç”¨\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418211425.png)\n\n- å¼•ç”¨å³åˆ«åã€‚\n- å¼•ç”¨æœ¬èº«å¹¶ä¸æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä¸èƒ½å®šä¹‰å¼•ç”¨çš„å¼•ç”¨ã€‚\n- å¼•ç”¨ç±»å‹è¦ä¸ä¹‹ç»‘å®šçš„å¯¹è±¡ä¸¥æ ¼åŒ¹é…ã€‚\n- å¼•ç”¨åªèƒ½ç»‘å®šåœ¨å¯¹è±¡ä¸Šï¼Œä¸èƒ½ä¸å­—é¢å€¼æˆ–æŸä¸ªè¡¨è¾¾å¼çš„è®¡ç®—ç»“æœç»‘å®šåœ¨ä¸€èµ·ã€‚\n\n#### æŒ‡é’ˆ\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418211747.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418211809.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418211905.png)\n\næŒ‡é’ˆçš„å€¼ï¼ˆåœ°å€ï¼‰åº”å±äºä¸‹åˆ—4ç§çŠ¶æ€ä¹‹ä¸€ï¼š\n\n- æŒ‡å‘ä¸€ä¸ªå¯¹è±¡\n- æŒ‡å‘ç´§é‚»å¯¹è±¡æ‰€å ç©ºé—´çš„ä¸‹ä¸€ä¸ªä½ç½®\n- ç©ºæŒ‡é’ˆï¼Œæ„å‘³ç€æŒ‡é’ˆæ²¡æœ‰æŒ‡å‘ä»»ä½•å¯¹è±¡\n- æ— æ•ˆæŒ‡é’ˆï¼Œä¹Ÿå°±æ˜¯ä¸Šè¿°æƒ…å†µä¹‹å¤–çš„å…¶ä»–å€¼ï¼Œè¯•å›¾æ‹·è´æˆ–ä»¥å…¶ä»–å½¢å¼è®¿é—®æ— æ•ˆæŒ‡é’ˆéƒ½å°†å¼•å‘é”™è¯¯\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418212135.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418212340.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418212627.png)\n\n```c++\nint *&r = p; // ä»å³å¾€å·¦è¯»ï¼Œç¦»å˜é‡åæœ€è¿‘çš„ç¬¦å·å¯¹å˜é‡çš„ç±»å‹æœ‰æœ€ç›´æ¥çš„å½±å“ï¼Œå› æ­¤ræ˜¯ä¸€ä¸ªå¼•ç”¨ã€‚*è¯´æ˜rå¼•ç”¨çš„æ˜¯ä¸€ä¸ªæŒ‡é’ˆã€‚\n```\n\n### const\n\né»˜è®¤çŠ¶æ€ä¸‹ï¼Œconstå¯¹è±¡ä»…åœ¨ä¸€ä¸ªæ–‡ä»¶å†…æœ‰æ•ˆï¼Œå¦‚æœç¨‹åºåŒ…å«å¤šä¸ªæ–‡ä»¶ï¼ŒåŒåçš„constå˜é‡å…¶å®ç­‰åŒäºåœ¨ä¸åŒæ–‡ä»¶ä¸­åˆ†åˆ«å®šä¹‰äº†ç‹¬ç«‹çš„å˜é‡ã€‚è§£å†³çš„æ–¹æ³•ä¾¿æ˜¯åœ¨constå˜é‡å‰åŠ extern\n\n```c++\nextern const int i = 5;\n```\n\n#### constä¸å¼•ç”¨\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418213248.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418213820.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418214147.png)\n\nç”±äºconstå¼•ç”¨ä¹Ÿç»å¸¸è¢«ç§°ä¸ºå¸¸é‡å¼•ç”¨ï¼Œæ‰€ä»¥åœ¨æ­£å¸¸å¼•ç”¨ä¸­ä¸èƒ½åšçš„â€”â€”ä½¿ç”¨å­—é¢å€¼æˆ–è€…è¡¨è¾¾å¼ä½œä¸ºåˆå§‹å€¼ï¼Œç±»å‹ä¸ä¸€è‡´ï¼Œåœ¨constå¼•ç”¨ä¸­éƒ½å¯ä»¥åš\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418214232.png)\n\n#### constä¸æŒ‡é’ˆ\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418214516.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418214614.png)\n\n#### é¡¶å±‚ä¸åº•å±‚const\n\né¡¶å±‚constè¡¨ç¤ºæŒ‡é’ˆæœ¬èº«æ˜¯ä¸ªå¸¸é‡ï¼Œåº•å±‚constè¡¨ç¤ºæŒ‡é’ˆæ‰€æŒ‡çš„å¯¹è±¡æ˜¯ä¸€ä¸ªå¸¸é‡ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œé¡¶å±‚constè¡¨ç¤ºçš„å¯¹è±¡æ˜¯å¸¸é‡ï¼Œæ— æ³•æ”¹å˜ã€‚\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418215607.png)\n\n##### constexpr å’Œå¸¸é‡è¡¨è¾¾å¼\n\nå¸¸é‡è¡¨è¾¾å¼æŒ‡å€¼ä¸ä¼šæ”¹å˜ä¸”åœ¨ç¼–è¯‘è¿‡ç¨‹å°±èƒ½å¾—åˆ°è®¡ç®—ç»“æœçš„è¡¨è¾¾å¼ã€‚\n\n```c++\nconst int max_files = 20; // æ˜¯å¸¸é‡è¡¨è¾¾å¼\nconst int limit = max_files + 1;// æ˜¯å¸¸é‡è¡¨è¾¾å¼\nint staff_size = 27;// ä¸æ˜¯å¸¸é‡è¡¨è¾¾å¼\nconst int sz = get_size();// ä¸æ˜¯å¸¸é‡è¡¨è¾¾å¼\n```\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418220303.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418220655.png)\n\n### å¤„ç†ç±»å‹\n\n#### ç±»å‹åˆ«å\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418220844.png)\n\n#### auto   \n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418221240.png)\n\n#### decltype\n\ndecltype ä½œç”¨æ˜¯é€‰æ‹©å¹¶è¿”å›æ“ä½œæ•°çš„æ•°æ®ç±»å‹ã€‚ç¼–è¯‘å™¨åªåˆ†æè¡¨è¾¾å¼å¾—åˆ°ç±»å‹ï¼Œå´ä¸å®é™…è®¡ç®—è¡¨è¾¾å¼çš„å€¼\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418221458.png)\n\n### æ•°ç»„\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418222613.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418222654.png)\n\nä½¿ç”¨æ•°ç»„ä¸‹æ ‡æ—¶ï¼Œé€šå¸¸å°†å…¶å®šä¹‰ä¸ºsize_tç±»å‹ã€‚\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419093955.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419094201.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419094228.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419094312.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419094545.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419094557.png)\n\nä¸¥æ ¼æ¥è¯´ï¼Œc++æ²¡æœ‰å¤šç»´æ•°ç»„ï¼Œé€šå¸¸è¯´çš„å¤šç»´æ•°ç»„å…¶å®æ˜¯æ•°ç»„çš„æ•°ç»„\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419094706.png)\n\n### è¡¨è¾¾å¼\n\n#### å·¦å€¼å³å€¼\n\nå½“ä¸€ä¸ªå¯¹è±¡è¢«ç”¨ä½œå³å€¼çš„æ—¶å€™ï¼Œç”¨çš„æ˜¯å¯¹è±¡çš„å€¼ï¼ˆå†…å®¹ï¼‰ï¼›å½“å¯¹è±¡è¢«ç”¨ä½œå·¦å€¼çš„æ—¶å€™ï¼Œç”¨çš„æ˜¯å¯¹è±¡çš„èº«ä»½ï¼ˆåœ¨å†…å­˜ä¸­çš„ä½ç½®ï¼‰ã€‚\n\n#### æ±‚å€¼é¡ºåº\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419095331.png)\n\n#### å–ä½™\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419095540.png)\n\n#### ++i è¿˜æ˜¯ i++\n\nå‰ç½®ç‰ˆæœ¬å°†å¯¹è±¡æœ¬èº«ä½œä¸ºå·¦å€¼è¿”å›ï¼Œåç½®ç‰ˆæœ¬åˆ™å°†å¯¹è±¡åŸå§‹å€¼çš„å‰¯æœ¬ä½œä¸ºå³å€¼è¿”å›ã€‚\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419095813.png)\n\n#### æ¡ä»¶è¿ç®—ç¬¦\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419095939.png)\n\n#### ä½è¿ç®—ç¬¦\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419100130.png)\n\n#### sizeof è¿ç®—ç¬¦\n\nsizeof è¿”å›ä¸€æ¡è¡¨è¾¾å¼æˆ–ä¸€ä¸ªç±»å‹åå­—æ‰€å çš„å­—èŠ‚æ•°ã€‚å…¶æ‰€å¾—å€¼æ˜¯ä¸€ä¸ªsize_tç±»å‹çš„å¸¸é‡è¡¨è¾¾å¼ã€‚\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419100642.png)\n\n#### æ˜¾å¼è½¬æ¢\n\n- static_cast: åªè¦ä¸åŒ…å«åº•å±‚constï¼Œå°±å¯ä»¥ç”¨ã€‚å½“éœ€è¦æŠŠä¸€ä¸ªè¾ƒå¤§çš„ç®—æ•°ç±»å‹å¤åˆ¶ç»™è¾ƒå°çš„ç±»å‹æ—¶ï¼ŒåŒæ—¶æˆ‘ä»¬ä¸åœ¨ä¹æ½œåœ¨çš„ç²¾åº¦æŸå¤±ï¼Œstatic_castå°±éå¸¸æœ‰ç”¨ã€‚\n  ![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419104556.png)\n  ![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419132259.png)\n  ![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419132320.png)\n\n- dynamic_cast:è¿è¡Œæ—¶ç±»å‹è¯†åˆ«çš„è¿ç®—ç¬¦ï¼Œç”¨äºå°†åŸºç±»çš„æŒ‡é’ˆæˆ–å¼•ç”¨å®‰å…¨åœ°è½¬åŒ–ä¸ºæ´¾ç”Ÿç±»çš„æŒ‡é’ˆæˆ–å¼•ç”¨ã€‚\n  ![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419132236.png)\n\n- const_cast: å®ƒåªèƒ½æ”¹å˜è¿ç®—å¯¹è±¡çš„åº•å±‚constï¼Œä¸€èˆ¬ç§°å…¶ä¸ºâ€œå»æ‰constæ€§è´¨â€ï¼Œä¸€æ—¦å»æ‰ï¼Œç¼–è¯‘å™¨å°±ä¸å†ç»„ç»‡æˆ‘ä»¬å¯¹è¯¥å¯¹è±¡è¿›è¡Œå†™æ“ä½œäº†ã€‚\n  ![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419105145.png)\n\n- reinterpret_cast: é€šå¸¸ä¸ºè¿ç®—å¯¹è±¡çš„ä½æ¨¡å¼æä¾›è¾ƒä½å±‚æ¬¡çš„é‡æ–°è§£é‡Šã€‚\n  ![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419110344.png)\n```c++\nint* p = new int(65);\nchar* ch = reinterpret_cast<char*> (p);\ncout << *p << endl; // 65\ncout << *ch << endl; // A\ncout << p << endl; // åœ°å€00000249CE417930\ncout << ch << endl; // A\n```\n> ä¸¾ä¸ªä¾‹å­ï¼Œ32ä½ç³»ç»Ÿï¼Œintæ˜¯32ä½ï¼ŒæŒ‡é’ˆä¹Ÿæ˜¯32ä½ï¼Œæˆ‘æ—¢å¯ä»¥æŠŠä¸€ä¸ª32ä½çš„å€¼è§£é‡Šæˆä¸€ä¸ªæ•´æ•°ï¼Œä¹Ÿå¯ä»¥è§£é‡Šæˆä¸€ä¸ªæŒ‡é’ˆã€‚è‡³äºç©¶ç«Ÿèƒ½ä¸èƒ½è¿™æ ·è§£é‡Šï¼Œç”±ç¨‹åºå‘˜è´Ÿè´£ã€‚è€Œreinterpret_castå°±æ˜¯å¹²è¿™ä¸ªäº‹çš„ã€‚\n> [C++ç±»å‹è½¬æ¢ä¹‹reinterpret_cast](https://zhuanlan.zhihu.com/p/33040213)\n\n#### RTTI è¿è¡Œæ—¶ç±»å‹è¯†åˆ«\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419132434.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419132459.png)\n\ntypeid ä½œç”¨äºå¯¹è±¡ï¼Œæˆ‘ä»¬åº”è¯¥ç”¨*bpè€Œébp\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419132655.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419132730.png)\n\n### å‡½æ•°\n\n#### å±€éƒ¨å¯¹è±¡\n\nåå­—æœ‰ä½œç”¨åŸŸã€å¯¹è±¡æœ‰ç”Ÿå‘½å‘¨æœŸã€‚\n\n- åå­—çš„ä½œç”¨åŸŸæ˜¯ç¨‹åºæ–‡æœ¬çš„ä¸€éƒ¨åˆ†ï¼Œåå­—åœ¨å…¶ä¸­å¯è§\n- å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸæ˜¯ç¨‹åºæ‰§è¡Œè¿‡ç¨‹ä¸­è¯¥å¯¹è±¡å­˜åœ¨çš„ä¸€æ®µæ—¶é—´\n\nè‡ªåŠ¨å¯¹è±¡ï¼šæˆ‘ä»¬æŠŠåªå­˜åœ¨äºå—æ‰§è¡ŒæœŸé—´çš„å¯¹è±¡ç§°ä¸ºè‡ªåŠ¨å¯¹è±¡ã€‚å½“å—çš„æ‰§è¡Œç»“æŸåï¼Œå—ä¸­åˆ›å»ºçš„è‡ªåŠ¨å¯¹è±¡çš„å€¼å°±å˜æˆæœªå®šä¹‰çš„äº†ã€‚\n\nå½¢å‚æ˜¯ä¸€ç§è‡ªåŠ¨å¯¹è±¡ã€‚å‡½æ•°å¼€å§‹æ—¶ä¸ºå½¢å‚ç”³è¯·å­˜å‚¨ç©ºé—´ï¼Œå‡½æ•°ä¸€æ—¦ç»ˆæ­¢ï¼Œå½¢å‚å°±è¢«é”€æ¯ã€‚\n\nå±€éƒ¨é™æ€å¯¹è±¡ï¼šåœ¨ç¨‹åºçš„ç¬¬ä¸€æ¬¡æ‰§è¡Œåˆå§‹åŒ–ï¼Œç›´åˆ°ç¨‹åºç»ˆæ­¢æ‰é”€æ¯ã€‚åœ¨æ­¤æœŸé—´ï¼Œå³ä½¿å¯¹è±¡æ‰€åœ¨çš„å‡½æ•°ç»“æŸæ‰§è¡Œä¹Ÿä¸ä¼šå¯¹å®ƒæœ‰æ‰€å½±å“ã€‚\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230421105708.png)\n\n#### ä¼ å€¼å‚æ•°\n\nå½¢å‚åˆå§‹åŒ–çš„åŸç†ä¸å˜é‡åˆå§‹åŒ–ä¸€æ ·ã€‚\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230421110256.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230421110522.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230421110618.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230421110649.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230421110735.png)\n\n**å«æœ‰å¯å˜å½¢å‚çš„å‡½æ•°** ï¼š \n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230421110825.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230421110855.png)\n\n#### å‡½æ•°è¿”å›å€¼\n\nä¸è¦è¿”å›å±€éƒ¨å¯¹è±¡çš„å¼•ç”¨æˆ–æŒ‡é’ˆï¼šå‡½æ•°å®Œæˆåï¼Œå®ƒæ‰€å ç”¨çš„å­˜å‚¨ç©ºé—´ä¹Ÿéšä¹‹è¢«é‡Šæ”¾æ‰ã€‚å› æ­¤ï¼Œå‡½æ•°ç»ˆæ­¢æ„å‘³ç€å±€éƒ¨å˜é‡çš„å¼•ç”¨å°†æŒ‡å‘ä¸å†æœ‰æ•ˆçš„å†…å­˜åŒºåŸŸã€‚\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230421111054.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230421111845.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230421111856.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230421111906.png)\n\n#### å‡½æ•°é‡è½½\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230421112312.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230421112244.png)\n\n#### å†…è”å‡½æ•°\n\nå†…è”å‡½æ•°å¯é¿å…å‡½æ•°è°ƒç”¨çš„å¼€é”€ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œå†…è”æœºåˆ¶ç”¨äºä¼˜åŒ–è§„æ¨¡è¾ƒå°ï¼Œæµç¨‹ç›´æ¥ï¼Œé¢‘ç¹è°ƒç”¨çš„å‡½æ•°ã€‚å°±æ¯”å¦‚è¯´ï¼Œè°ƒç”¨å‡½æ•°æ¯”å‡½æ•°æ‰§è¡Œæ—¶é—´é•¿ï¼Œç”¨å†…è”å‡½æ•°å°±è¡Œäº†ã€‚\n\n#### constexpr å‡½æ•°\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230421125221.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230421125231.png)\n\n#### å®å‚ç±»å‹è½¬æ¢\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230421125357.png)\n\n#### å‡½æ•°æŒ‡é’ˆ\n\næ„Ÿè§‰ç±»ä¼¼äºc#çš„å§”æ‰˜ï¼Œåƒæ˜¯ç»™ä¸€ä¸ªå‡½æ•°çš„åˆ«å\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230421130122.png)\n\n### åˆæ­¥æ¢ç´¢ç±»\n\n#### constæˆå‘˜å‡½æ•°\n\nå¸¸é‡å¯¹è±¡ã€ä»¥åŠå¸¸é‡å¯¹è±¡çš„å¼•ç”¨æˆ–æŒ‡é’ˆéƒ½åªèƒ½è°ƒç”¨å¸¸é‡æˆå‘˜å‡½æ•°ã€‚\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230422204832.png)\n\nç®€å•æ¥è¯´ï¼Œå°±æ˜¯è®©è¯¥å‡½æ•°çš„æƒé™ä¸ºåªè¯»ï¼Œä¹Ÿå°±æ˜¯è¯´æ²¡æ³•å»æ”¹å˜æˆå‘˜å‡½æ•°çš„å€¼ã€‚\nåŒæ—¶ï¼Œå¦‚æœä¸€ä¸ªå¯¹è±¡ä¸ºconstï¼Œå®ƒåªæœ‰æƒåŠ›è°ƒç”¨constå‡½æ•°ï¼Œå› ä¸ºæˆå‘˜å˜é‡ä¸èƒ½æ”¹å˜ã€‚\n\n#### æ„é€ å‡½æ•°\n\nä¸åŒäºå…¶ä»–å‡½æ•°ï¼Œæ„é€ å‡½æ•°ä¸èƒ½è¢«å£°æ˜æˆconstã€‚\n\nå¦‚æœæˆ‘ä»¬çš„ç±»æ²¡æœ‰æ˜¾å¼åœ°å®šä¹‰æ„é€ å‡½æ•°ï¼Œé‚£ä¹ˆç¼–è¯‘å™¨å°±ä¼šä¸ºæˆ‘ä»¬éšå¼åœ°å®šä¹‰ä¸€ä¸ªé»˜è®¤æ„é€ å‡½æ•°ã€‚åˆç§°ä¸ºåˆæˆé»˜è®¤æ„é€ å‡½æ•°ï¼ŒæŒ‰ç…§ä¸€ä¸‹è§„åˆ™åˆå§‹åŒ–ç±»åœ°æ•°æ®æˆå‘˜\n\n- å¦‚æœå­˜åœ¨ç±»å†…çš„åˆå§‹å€¼ï¼Œå°±ç”¨å®ƒæ¥åˆå§‹åŒ–æˆå‘˜\n- å¦åˆ™ï¼Œé»˜è®¤åˆå§‹åŒ–è¯¥æˆå‘˜ã€‚\n\næŸäº›ç±»ä¸èƒ½ä¾èµ–äºåˆæˆçš„é»˜è®¤æ„é€ å‡½æ•°ï¼ŒåŸå› å¦‚ä¸‹ï¼š\n\n- å¯¹äºä¸€ä¸ªæ™®é€šçš„ç±»æ¥è¯´ï¼Œå¿…é¡»å®šä¹‰å®ƒè‡ªå·±çš„é»˜è®¤æ„é€ å‡½æ•°ã€‚åªæœ‰ç±»ä¸åŒ…å«ä»»ä½•æ„é€ å‡½æ•°çš„æƒ…å†µä¸‹æ‰ä¼šè‡ªåŠ¨ç”Ÿæˆé»˜è®¤æ„é€ å‡½æ•°ã€‚\n- å¯¹äºæŸäº›ç±»æ¥è¯´ï¼Œåˆæˆçš„é»˜è®¤æ„é€ å‡½æ•°å¯èƒ½æ‰§è¡Œé”™è¯¯çš„æ“ä½œã€‚å¦‚æœå®šä¹‰åœ¨å—ä¸­çš„å†…ç½®ç±»å‹æˆ–å¤åˆç±»å‹ï¼ˆæ•°ç»„å’ŒæŒ‡é’ˆï¼‰è¢«é»˜è®¤åˆå§‹åŒ–ï¼Œåˆ™å®ƒä»¬çš„å€¼å°†æ˜¯æœªå®šä¹‰çš„ã€‚\n- å¦‚æœç±»ä¸­åŒ…å«ä¸€ä¸ªå…¶ä»–ç±»ç±»å‹çš„æˆå‘˜ä¸”è¿™ä¸ªæˆå‘˜æ²¡æœ‰é»˜è®¤æ„é€ å‡½æ•°ï¼Œé‚£ä¹ˆç¼–è¯‘å™¨å°†æ— æ³•åˆå§‹åŒ–è¯¥æˆå‘˜ã€‚\n\n= defaultï¼Œå³è¦æ±‚ç¼–è¯‘å™¨ç”Ÿæˆé»˜è®¤æ„é€ å‡½æ•°ï¼Œå¦‚æœåœ¨ç±»çš„å†…éƒ¨ï¼Œé»˜è®¤æ˜¯å†…è”çš„ï¼Œå¦‚æœåœ¨ç±»çš„å¤–éƒ¨ï¼Œé»˜è®¤ä¸æ˜¯å†…è”çš„ã€‚\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230422211706.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230422211751.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230422211833.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230422212543.png)\n\n#### å‹å…ƒ\n\nç±»å¯ä»¥å…è®¸å…¶ä»–ç±»æˆ–è€…å‡½æ•°è®¿é—®å®ƒçš„éå…¬æœ‰æˆå‘˜ï¼Œæ–¹æ³•æ˜¯ä»¤å…¶ä»–ç±»æˆ–è€…å‡½æ•°æˆä¸ºå®ƒçš„å‹å…ƒã€‚\n\nå‹å…ƒå£°æ˜åªèƒ½å‡ºç°åœ¨ç±»å®šä¹‰çš„å†…éƒ¨ï¼Œä½†æ˜¯åœ¨ç±»å†…å‡ºç°çš„å…·ä½“ä½ç½®ä¸é™ã€‚å‹å…ƒä¸æ˜¯ç±»çš„æˆå‘˜ä¹Ÿä¸å—å®ƒæ‰€åœ¨åŒºåŸŸè®¿é—®æ§åˆ¶çº§åˆ«çš„çº¦æŸã€‚ä¸€èˆ¬æ¥è¯´ï¼Œæœ€å¥½å®šä¹‰åœ¨ç±»å¼€å§‹çš„ä½ç½®æˆ–è€…ç»“æŸçš„ä½ç½®ã€‚\n\nå‹å…ƒä»…ä»…æŒ‡å®šäº†è®¿é—®æƒé™ï¼Œå¦‚æœå¸Œæœ›ç±»èƒ½å¤Ÿè°ƒç”¨æŸä¸ªå‹å…ƒå‡½æ•°ï¼Œé‚£ä¹ˆå¿…é¡»åœ¨å‹å…ƒå£°æ˜ä¹‹å¤–åœ¨ä¸“é—¨å¯¹å‡½æ•°å®šä¹‰ä¸€æ¬¡ã€‚\n\n#### ç±»çš„inline\n\nåœ¨ç±»ä¸­ï¼Œå¸¸æœ‰ä¸€äº›è§„æ¨¡è¾ƒå°çš„å‡½æ•°é€‚åˆè¢«å£°æ˜å†…è”å‡½æ•°ï¼Œå®šä¹‰åœ¨ç±»å†…éƒ¨çš„æˆå‘˜å‡½æ•°æ˜¯è‡ªåŠ¨inlineçš„ã€‚\n\n#### å¯å˜æ•°æ®æˆå‘˜\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230422211331.png)\n\n#### ç±»çš„é™æ€æˆå‘˜\n\n\nç±»çš„é™æ€æˆå‘˜å­˜åœ¨ä»»ä½•å¯¹è±¡ä¹‹å¤–ï¼Œå¯¹è±¡ä¸­ä¸åŒ…å«ä»»ä½•äºé™æ€æ•°æ®æˆå‘˜æœ‰å…³çš„æ•°æ®ã€‚é™æ€æˆå‘˜å‡½æ•°ä¹Ÿä¸äºˆä»»ä½•å¯¹è±¡ç»‘å®šåœ¨ä¸€èµ·ï¼Œå®ƒä»¬ä¸åŒ…å«thisæŒ‡é’ˆã€‚åŒæ—¶ï¼Œé™æ€æˆå‘˜å‡½æ•°ä¸èƒ½å£°æ˜æˆconstï¼Œä¹Ÿä¸èƒ½åœ¨é‡Œé¢è°ƒç”¨thisæŒ‡é’ˆã€‚\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230422213444.png)\n\n### c++æ ‡å‡†åº“\n\n#### é¡ºåºå®¹å™¨\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425195814.png)\n\né¡ºåºå®¹å™¨çš„é€‰æ‹©ï¼š\n\n- é€šå¸¸é€‰æ‹©vector\n- æœ‰å¾ˆå¤šå°å…ƒç´ ï¼Œç©ºé—´é¢å¤–å¼€é”€å¾ˆé‡è¦ï¼Œä¸è¦ç”¨listæˆ–forward_list\n- éšæœºè®¿é—®å…ƒç´ ï¼Œç”¨vector æˆ– deque\n- åœ¨ä¸­é—´æ’å…¥æˆ–åˆ é™¤å…ƒç´ ï¼Œåº”ä½¿ç”¨listæˆ–forward_list\n- å¤´å°¾æ’å…¥æˆ–åˆ é™¤å…ƒç´ ï¼Œç”¨deque\n- å¦‚æœåªæœ‰åœ¨è¾“å…¥æ—¶è¸©åœ¨ä¸­é—´ä½ç½®æ’å…¥å…ƒç´ ï¼Œéšåéœ€è¦éšæœºè®¿é—®ï¼šè€ƒè™‘è¾“å…¥é˜¶æ®µç”¨listï¼Œè¾“å…¥å®Œæˆåæ‹·è´åˆ°vector\n- åˆè¦éšæœºè®¿é—®ï¼Œåˆè¦åœ¨ä¸­é—´ä½ç½®æ’å…¥å…ƒç´ ï¼Œçœ‹è®¿é—®æ“ä½œå¤šè¿˜æ˜¯æ’å…¥/åˆ é™¤å…ƒç´ æ“ä½œå¤š\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425200215.png)\n\n#### å®¹å™¨è¿­ä»£å™¨\n\nbeginæŒ‡å‘ç¬¬ä¸€ä¸ªå…ƒç´ ï¼ŒendæŒ‡å‘æœ€åä¸€ä¸ªå…ƒç´ ä¹‹åçš„ä½ç½®é€šå¸¸ç§°ä¸ºå·¦é—­å³åˆåŒºé—´ã€‚å³[begin,end)\n\n- å¦‚æœbegin == end è¯´æ˜è¯¥èŒƒå›´ä¸ºç©º\n- å¦‚æœbegin != end è¯´æ˜è‡³å°‘åŒ…å«ä¸€ä¸ªå…ƒç´ ï¼Œä¸”beginæŒ‡å‘è¯¥èŒƒå›´ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ \n- beginå¯ä»¥é€’å¢ï¼Œä½¿å¾—begin == end\n\n```c++\nwhile(begin!=end){\n  *begin = val;\n  ++begin;\n}\n```\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425200629.png)\n\nå½“ä¸éœ€è¦å†™è®¿é—®çš„æ—¶å€™ï¼Œåº”è¯¥ä½¿ç”¨cbeginå’Œcend\n\n#### å®¹å™¨å®šä¹‰å’Œåˆå§‹åŒ–\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425200725.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425200822.png)\n\n#### èµ‹å€¼å’Œswap\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425200902.png)\n\nassign ç›¸å¯¹äºèµ‹å€¼è¿ç®—ç¬¦(=)å…è®¸ä»ä»¥ä¸€ä¸ªä¸åŒä½†ç›¸å®¹çš„ç±»å‹èµ‹å€¼ï¼ˆæ¯”å¦‚char* å’Œ stringï¼‰ï¼Œæˆ–è€…ä»å®¹å™¨çš„ä¸€ä¸ªå­åºåˆ—èµ‹å€¼ã€‚assignæ“ä½œç”¨æ‰€æŒ‡å®šçš„å…ƒç´ çš„æ‹·è´æ›¿æ¢å®¹å™¨ä¸­çš„æ‰€æœ‰å…ƒç´ ã€‚\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425201049.png)\n\nswapæ“ä½œäº¤æ¢ä¸¤ä¸ªç›¸åŒç±»å‹çš„å†…å®¹ï¼Œä¿è¯æ“ä½œå¾ˆå¿«ï¼Œå…ƒç´ æœ¬èº«æœªè¢«äº¤æ¢ï¼Œåªæ˜¯äº¤æ¢äº†ä¸¤ä¸ªå®¹å™¨çš„å†…éƒ¨æ•°æ®ç»“æ„ã€‚\nå…ƒç´ ä¸ä¼šè¢«ç§»åŠ¨æ„å‘³ç€ï¼Œé™¤stringå¤–æŒ‡å‘å®¹å™¨çš„è¿­ä»£å™¨ã€å¼•ç”¨æŒ‡é’ˆåœ¨swapåéƒ½ä¸ä¼šå¤±æ•ˆï¼Œé™¤äº†stringã€‚\nä¸å…¶ä»–å®¹å™¨ä¸åŒï¼Œswapä¸¤ä¸ªarrayä¼šçœŸæ­£åœ°äº¤æ¢å…ƒç´ ã€‚\n\n#### å®¹å™¨æ¯”è¾ƒ\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425201329.png)\n\n#### æ·»åŠ å…ƒç´ \n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425201416.png)\n\n- push_backã€push_frontã€insert:æ”¾å…¥åˆ°å®¹å™¨ä¸­çš„å…ƒç´ æ—¶å¯¹è±¡å€¼åœ°ä¸€ä¸ªæ‹·è´è€Œä¸æ˜¯å¯¹è±¡æœ¬èº«ã€‚\n- emplaceæ“ä½œ:åˆ™æ˜¯å°†å‚æ•°ä¼ é€’ç»™å…ƒç´ ç±»å‹çš„æ„é€ å‡½æ•°ï¼Œç›´æ¥åœ¨å®¹å™¨ç®¡ç†çš„å†…å­˜ç©ºé—´ä¸­ç›´æ¥æ„é€ å…ƒç´ ï¼Œå‚æ•°å¿…é¡»ä¸å…ƒç´ ç±»å‹çš„æ„é€ å‡½æ•°ç›¸åŒ¹é…ã€‚\n\n#### è®¿é—®å…ƒç´ \n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425201920.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425202108.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425202245.png)\n\n#### åˆ é™¤å…ƒç´ \n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425202408.png)\n\n#### æ”¹å˜å®¹å™¨å¤§å°\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425202449.png)\n\n#### string æ“ä½œ\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425202540.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425202609.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425202654.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425202711.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425202727.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425202750.png)\n\n#### å®¹å™¨é€‚é…å™¨\n\nä¹Ÿå°±æ˜¯è®©å®¹å™¨çœ‹èµ·æ¥åƒä¸€ç§ä¸åŒçš„ç±»å‹ï¼Œæ¯”å¦‚è¯´queueæ˜¯åŸºäºdequeå®ç°çš„ã€‚æ¯”è¾ƒå¸¸è§çš„æ—¶stackï¼Œqueue,priority_queueã€‚\n\n### æ³›å‹ç®—æ³•\n\nç®—æ³•æ°¸è¿œä¸ä¼šæ”¹å˜åº•å±‚å®¹å™¨çš„å¤§å°ï¼Œå¯èƒ½æ”¹å˜å€¼ï¼Œå¯èƒ½ç§»åŠ¨å…ƒç´ ï¼Œä½†æ°¸è¿œä¸ä¼šæ·»åŠ æˆ–åˆ é™¤å…ƒç´ \n\n```c++\n// åªè¯»ç®—æ³•\nint *result = find(vec.begin(),vec.end(),val);//æŸ¥æ‰¾ç®—æ³•\nint result = count(vec.begin(),vec.end(),val);// ç»Ÿè®¡ä¸ªæ•°\nint result = accumulate(v.cbegin(),vec.cend(),0);// æ±‚å’Œã€å’Œçš„åˆå€¼è®¾ç½®ä¸º0\nstring result = accumulate(v.cbegin(),vec.cend(),\"\"); // å°†vecçš„æ¯ä¸ªå…ƒç´ è¿èµ·æ¥\nbool result = equal(vec.cbegin(),vec.cend(),other.cbegin());// æ¯”è¾ƒç®—æ³•ï¼Œç¡®å®šä¸¤ä¸ªåºåˆ—æ˜¯å¦ä¿å­˜ç›¸åŒçš„å€¼ï¼ŒåŸºäºä¸¤ä¸ªåºåˆ—ç›¸ç­‰çš„å‡è®¾ã€‚\n\n// å†™ç®—æ³•\nfill(vec.begin(),vec.end());// å°†å…ƒç´ é‡ç½®ä¸º0\nfill(vec.begin(),vec.begin() + vec.size()/2,10);//å°†å­åºåˆ—éƒ½èµ‹ä¸º10\nfill_n(vec.begin(),vec.size(),0); // ä¸fillç¨å¾®ä¸åŒï¼Œæ˜¯ä»vec.beginå¼€å§‹å°†vec.size()ä¸ªå…ƒç´ å˜ä¸º0ã€‚\n// è¦æ³¨æ„çš„æ˜¯ï¼Œfill_nå‡å®šbeginæŒ‡å®šä¸€ä¸ªå…ƒç´ ï¼Œä»beginå¼€å§‹çš„åºåˆ—è‡³å°‘åŒ…å«vec.size()ä¸ªå…ƒç´ ï¼Œå®¹æ˜“çŠ¯çš„é”™è¯¯å°±æ˜¯åœ¨ç©ºå®¹å™¨è°ƒç”¨fill_n\nauto ret = copy(vec.begin(),vec.end(),vec2);// å°†vecæ‹·è´åˆ°vec2ä¸­ï¼Œè¿”å›ç›®çš„ä½ç½®è¿­ä»£å™¨å³vec2ä¸ºå…ƒç´ ä¹‹åçš„ä½ç½®\nreplace(a.begin(),a.end(),0,42);//å°†0å˜ä¸º42\nreplace_copy(a.cbegin(),a.cend(),back_inserter(b),0,42);//å°†aæ‹·è´åˆ°bä½†æ˜¯æ‹·è´æ—¶0éƒ½ç¼–ç¨‹42\n\n// é‡æ’å…ƒç´ ç®—æ³•\nsort(a.begin(),a.end());// ä»å°åˆ°å¤§æ’åº\nauto end_unique = unique(a.begin(),a.end());//æ’åˆ—èŒƒå›´çš„å…ƒç´ ï¼ŒæŒ‡å‘ä¸é‡å¤åŒºåŸŸä¹‹åä¸€ä¸ªä½ç½®çš„è¿­ä»£å™¨\n\n```\n\n#### lambadaè¡¨è¾¾å¼ä¸æ³›å‹ç®—æ³•\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425205348.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425205429.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425205447.png)\n\n```c++\nvoid biggies(vector<string> &words.vector<string>::size_type sz)\n{\n  elimDups(words);//å°†wordsæŒ‰å­—å…¸åºæ’åºï¼Œåˆ é™¤é‡å¤å•è¯\n  stable_sort(words.begin(),words.end(),[](const string &a,const string &b){return a.size() < b.size()});\n  auto wc = find_if(words.begin(),words.end(),[sz](const string &a){return a.size() >= sz});\n  auto count = words.end() - wc;\n  for_each(wc,words.end(),[](const string &s){cout<< s << \" \"});\n}\n```\n\n#### lambada æ•è·\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425211551.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425211902.png)\n\n### åŠ¨æ€å†…å­˜å’Œæ™ºèƒ½æŒ‡é’ˆ\n\nç¨‹åºä½¿ç”¨åŠ¨æ€å†…å­˜çš„åŸå› ï¼š1.ç¨‹åºä¸çŸ¥é“è‡ªå·±éœ€è¦ä½¿ç”¨å¤šå°‘å¯¹è±¡ã€‚ 2.ç¨‹åºä¸çŸ¥é“æ‰€éœ€å¯¹è±¡çš„å‡†ç¡®ç±»å‹ã€‚ 3.ç¨‹åºéœ€è¦åœ¨å¤šä¸ªå¯¹è±¡é—´å…±äº«æ•°æ®ã€‚\nåŠ¨æ€å†…å­˜å¾ˆéš¾ä½¿ç”¨ï¼Œæœ‰æ—¶å€™ä¼šå¿˜è®°é‡Šæ”¾å†…å­˜ï¼Œè¿™æ—¶ä¼šäº§ç”Ÿå†…å­˜æ³„æ¼ï¼›æœ‰æ—¶æŒ‡é’ˆå¼•ç”¨å†…å­˜çš„æƒ…å†µä¸‹æŒ‡é’ˆå·²ç»è¢«é‡Šæ”¾è¿™æ—¶ä¼šäº§ç”Ÿå¼•ç”¨éæ³•å†…å­˜çš„æŒ‡é’ˆã€‚\n\n#### shared_ptr\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230501202449.png)\n\né»˜è®¤åˆå§‹åŒ–çš„æ™ºèƒ½æŒ‡é’ˆä¿å­˜ä¸€ä¸ªç©ºæŒ‡é’ˆ\n\n```c++\nshared_ptr<string> p1;// åˆå§‹åŒ–æ–¹å¼ä¸vectorä¸€æ ·\nif(p1 && p1->empty())\n  *p1 = \"hi\"\n// å¦‚æœp1ä¸ä¸ºç©ºï¼Œæ£€æŸ¥å®ƒæ˜¯å¦æŒ‡å‘ä¸€ä¸ªç©ºstring\n```\n\næœ€å®‰å…¨çš„åˆ†é…å’Œä½¿ç”¨åŠ¨æ€å†…å­˜çš„æ–¹æ³•æ˜¯è°ƒç”¨ä¸€ä¸ªåä¸ºmake_sharedçš„æ ‡å‡†åº“å‡½æ•°ã€‚æ­¤å‡½æ•°åœ¨åŠ¨æ€å†…å­˜ä¸­åˆ†é…ä¸€ä¸ªå¯¹è±¡å¹¶åˆå§‹åŒ–å®ƒï¼Œè¿”å›æŒ‡å‘æ­¤å¯¹è±¡çš„shared_ptr\n\n```c++\n// æŒ‡å‘ä¸€ä¸ªå€¼ä¸º42çš„intçš„shared_ptr\nshared_ptr<int> p3 = make_shared<int>(42);\n// æŒ‡å‘ä¸€ä¸ªå€¼ä¸º\"9999999999\"çš„string\nshared_ptr<string> p4 = make_shared<string>(10,'9');\n// æŒ‡å‘ä¸€ä¸ªå€¼åˆå§‹åŒ–çš„intï¼Œå³ä¸º0\nshared_ptr<int> p5 = make_shared<int>();\n\n// ç±»ä¼¼äºvectorçš„emplaceï¼Œä¼ é€’å‚æ•°ç±»å‹å¿…é¡»ç›¸å¯¹åº”ï¼Œä¸ä¼ é€’çš„è¯å°±ä¼šè¿›è¡Œå€¼åˆå§‹åŒ–ï¼Œé€šå¸¸ç”¨autoæ¥ä¿å­˜\n\nauto p6 = make_shared<int>();\n```\n\nå½“è¿›è¡Œæ‹·è´æˆ–èµ‹å€¼æ“ä½œæ—¶ï¼Œæ¯ä¸ªshared_ptréƒ½ä¼šè®°å½•æœ‰å¤šå°‘ä¸ªå…¶ä»–shared_ptræŒ‡å‘ç›¸åŒçš„å¯¹è±¡ã€‚\næ¯ä¸ªshared_ptréƒ½æœ‰ä¸€ä¸ªå…³è”çš„è®¡æ•°å™¨ï¼Œé€šå¸¸ç§°ä¸º**å¼•ç”¨è®¡æ•°**ã€‚å½“æˆ‘ä»¬ç”¨ä¸€ä¸ªshared_ptrå»åˆå§‹åŒ–å¦ä¸€ä¸ªshared_ptrï¼Œæˆ–è€…ä½œä¸ºå‚æ•°ä¼ é€’ç»™å‡½æ•°ï¼Œæˆ–è€…ä½œä¸ºå‡½æ•°è¿”å›å€¼ï¼Œæ‰€å…³è”çš„è®¡æ•°å™¨éƒ½ä¼š**é€’å¢**ã€‚èµ‹äºˆä¸€ä¸ªæ–°å€¼ï¼Œæˆ–è€…shared_ptré”€æ¯ï¼ˆæ¯”å¦‚ç¦»å¼€ä½œç”¨åŸŸï¼‰è®¡æ•°å™¨é€’å‡ã€‚ä¸€æ—¦ä¸€ä¸ªshared_ptrè®¡æ•°å™¨å˜ä¸º0ï¼Œä¼šè‡ªåŠ¨é‡Šæ”¾è‡ªå·±æ‰€ç®¡ç†çš„å¯¹è±¡\n\n```c++\nauto r = make_shared<int>(42);\nr = q;// ç»™ r èµ‹å€¼è®©å®ƒæŒ‡å‘å¦ä¸€ä¸ªåœ°å€\n// é€’å¢ q æŒ‡å‘å¯¹è±¡çš„å¼•ç”¨è®¡æ•°\n// é€’å‡ r åŸæ¥æŒ‡å‘å¯¹è±¡çš„å¼•ç”¨è®¡æ•°\n// r åŸæ¥æŒ‡å‘çš„å¯¹è±¡æ²¡æœ‰å¼•ç”¨è€…ï¼Œè‡ªåŠ¨é‡Šæ”¾\n```\n\n#### ç›´æ¥ç®¡ç†å†…å­˜\n\nnew åˆ†é…å†…å­˜ï¼Œdeleteé‡Šæ”¾newåˆ†é…çš„å†…å­˜\n\n```c++\nint *pi = new int; // é»˜è®¤åˆå§‹åŒ–ï¼Œ*piçš„å€¼æœªå®šä¹‰\nint *pi1 = new int(); // å€¼åˆå§‹åŒ–ï¼Œ*pi1ä¸º0\nint *pi2 = new int(1024); // pi2æŒ‡å‘çš„å¯¹è±¡çš„å€¼ä¸º1024\nconst int *pci = new const int(1024);// åˆ†é…å¹¶åˆå§‹åŒ–ä¸€ä¸ªconst int\nconst string *pcs = new const string;// åˆ†é…å¹¶é»˜è®¤åˆå§‹åŒ–ä¸€ä¸ªconst çš„ç©ºstring\n// ä¸€ä¸ªåŠ¨æ€åˆ†é…çš„constå¯¹è±¡å¿…é¡»åˆå§‹åŒ–\n// å¯¹äºä¸€ä¸ªå®šä¹‰äº†é»˜è®¤æ„é€ å‡½æ•°çš„ç±»ç±»å‹\n// å…¶conståŠ¨æ€å¯¹è±¡å¯ä»¥éšå¼åˆå§‹åŒ–\n// è€Œå…¶ä»–ç±»å‹å¯¹è±¡å°±å¿…é¡»æ˜¾å¼åˆå§‹åŒ–\n// ç”±äºåˆ†é…å¯¹è±¡æ˜¯constï¼Œnewè¿”å›çš„æŒ‡é’ˆæ˜¯ä¸€ä¸ªæŒ‡å‘constçš„æŒ‡é’ˆ\n\n// å¦‚æœå†…å­˜ä¸å¤Ÿç”¨ï¼Œå†…å­˜åˆ†é…å¤±è´¥\nint *p1 = new int;// newæŠ›å‡ºstd::bad_alloc\nint *p2 = new (nothrow) int;// new è¿”å›ä¸€ä¸ªç©ºæŒ‡é’ˆ\n```\n\ndeleteåšä¸¤æ­¥ï¼šé”€æ¯ç»™å®šæŒ‡é’ˆæŒ‡å‘çš„å¯¹è±¡;é‡Šæ”¾å¯¹åº”çš„å†…å­˜\n\n```c++\nint i;\nint *pi1 = &i;\nint *pi2 = nullptr;\ndouble *pd = new double(33);\ndouble *pd2 = pd;\ndelete i;// é”™è¯¯ï¼Œiä¸æ˜¯æŒ‡é’ˆ\ndelete pi1;// æœªå®šä¹‰,piæŒ‡å‘ä¸€ä¸ªå±€éƒ¨å˜é‡\ndelete pd;// æ­£ç¡®\ndelete pd2;// æœªå®šä¹‰ï¼Œpd2æŒ‡å‘çš„å†…å­˜å·²ç»è¢«é‡Šæ”¾äº†\ndelete pi2;// æ­£ç¡®ï¼Œé‡Šæ”¾ä¸€ä¸ªç©ºæŒ‡é’ˆæ²¡æœ‰é”™è¯¯\n```\n\nç”±å†…ç½®æŒ‡é’ˆç®¡ç†çš„åŠ¨æ€å†…å­˜åœ¨è¢«æ˜¾å¼é‡Šæ”¾(delete)å‰ä¸€ç›´éƒ½ä¼šå­˜åœ¨\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230501205622.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230501205711.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230501210052.png)\n\n#### unique_ptr\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230501210525.png)\n\n- ä¸shared_pträ¸åŒï¼ŒæŸä¸ªæ—¶åˆ»**åªèƒ½æœ‰ä¸€ä¸ªunique_ptræŒ‡å‘ä¸€ä¸ªç»™å®šå¯¹è±¡**ã€‚å½“unique_ptrè¢«é”€æ¯æ—¶ï¼Œæ‰€æŒ‡å‘çš„å¯¹è±¡ä¹Ÿè¢«é”€æ¯ã€‚\n- ä¸shared_pträ¸åŒï¼Œæ²¡æœ‰ç±»ä¼¼make_sharedçš„æ ‡å‡†åº“å‡½æ•°ï¼Œå®šä¹‰unique_ptræ—¶ï¼Œ**éœ€è¦å°†å…¶ç»‘å®šåˆ°ä¸€ä¸ªnewè¿”å›çš„æŒ‡é’ˆä¸Š**ã€‚\n- ç”±äºä¸€ä¸ªunique_ptræ‹¥æœ‰æ‰€æŒ‡å‘çš„å¯¹è±¡ï¼Œæ‰€ä»¥**ä¸æ”¯æŒæ™®é€šçš„æ‹·è´æˆ–èµ‹å€¼æ“ä½œ**ã€‚\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230501210603.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230501210639.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230501210650.png)\n\n#### weak_ptr\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230501210929.png)\n\nweak_ptræ˜¯ä¸€ç§ä¸æ§åˆ¶æ‰€æŒ‡å‘å¯¹è±¡ç”Ÿå­˜æœŸçš„æ™ºèƒ½æŒ‡é’ˆï¼Œå®ƒæŒ‡å‘ç”±ä¸€ä¸ªshared_ptrç®¡ç†çš„å¯¹è±¡ã€‚å°†ä¸€ä¸ªweak_ptrç»‘å®šåˆ°ä¸€ä¸ªshared_pträ¸ä¼šæ”¹å˜å¼•ç”¨è®¡æ•°ã€‚ä¸€æ—¦æœ€åä¸€ä¸ªæŒ‡å‘å¯¹è±¡çš„shared_ptrè¢«é”€æ¯ï¼Œå¯¹è±¡å°±ä¼šè¢«é‡Šæ”¾ã€‚å³ä½¿æœ‰weak_ptræŒ‡å‘å¯¹è±¡ï¼Œå¯¹è±¡ä¹Ÿè¿˜æ˜¯ä¼šè¢«é‡Šæ”¾ã€‚\n\n```c++\n// åˆ›å»ºä¸€ä¸ªweak_ptræ—¶ï¼Œè¦ç”¨ä¸€ä¸ªshared_ptræ¥åˆå§‹åŒ–å®ƒ\nauto p = make_shared<int>(42);\nweak_ptr<int> wp(p); \n\n// ç”±äºå¯¹è±¡å¯èƒ½ä¸å­˜åœ¨ï¼Œä¸èƒ½ä½¿ç”¨weak_ptrç›´æ¥è®¿é—®å¯¹è±¡\n// è€Œå¿…é¡»è°ƒç”¨lockï¼Œæ­¤å‡½æ•°æ£€æŸ¥weak_ptræ‰€æŒ‡å¯¹è±¡æ˜¯å¦ä»ç„¶å­˜åœ¨\nif(shared_ptr<int> np = wp.lock)\n{\n  //åœ¨ifä¸­ï¼Œnpä¸på…±äº«å¯¹è±¡\n}\n```\n\n### æ‹·è´æ§åˆ¶\n\n#### æ‹·è´æ„é€ å‡½æ•°\n\nå¦‚æœä¸€ä¸ª**æ„é€ å‡½æ•°**çš„**ç¬¬ä¸€ä¸ªå‚æ•°**æ˜¯**è‡ªèº«ç±»ç±»å‹**çš„å¼•ç”¨ï¼Œä¸”ä»»ä½•é¢å¤–é»˜è®¤å‚æ•°éƒ½æœ‰é»˜è®¤å€¼ï¼Œåˆ™ä¸ºæ‹·è´æ„é€ å‡½æ•°ã€‚\n\n```c++\nclass Foo{\npublic:\n  Foo();// é»˜è®¤æ„é€ å‡½æ•°\n  Foo(const Foo&);// æ‹·è´æ„é€ å‡½æ•°\n};\n```\n\nå¦‚æœæˆ‘ä»¬æ²¡æœ‰ä¸ºä¸€ä¸ªç±»å®šä¹‰æ‹·è´æ„é€ å‡½æ•°ï¼Œç¼–è¯‘å™¨ä¼šä¸ºæˆ‘ä»¬æ„é€ ä¸€ä¸ªã€‚ä¸åˆæˆé»˜è®¤æ„é€ å‡½æ•°ä¸åŒï¼Œå³ä½¿æˆ‘ä»¬å®šä¹‰äº†å…¶ä»–æ„é€ å‡½æ•°ï¼Œç¼–è¯‘å™¨ä¹Ÿä¼šä¸ºæˆ‘ä»¬åˆæˆä¸€ä¸ªæ‹·è´æ„é€ å‡½æ•°ã€‚ç¼–è¯‘å™¨ä»ç»™å®šå¯¹è±¡ä¸­ä¾æ¬¡å°†æ¯ä¸ªéstaticæˆå‘˜æ‹·è´åˆ°æ­£åœ¨åˆ›å»ºçš„å¯¹è±¡ä¸­ã€‚\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230506195211.png)\n\n**ç›´æ¥åˆå§‹åŒ–**ï¼šå®é™…ä¸Šæ˜¯è¦æ±‚ç¼–è¯‘å™¨ä½¿ç”¨æ™®é€šçš„å‡½æ•°åŒ¹é…æ¥é€‰æ‹©ä¸æˆ‘ä»¬æä¾›çš„å‚æ•°æœ€åŒ¹é…çš„æ„é€ å‡½æ•°ã€‚\n\n**æ‹·è´åˆå§‹åŒ–**ï¼šæˆ‘ä»¬è¦æ±‚ç¼–è¯‘å™¨å°†å³ä¾§è¿ç®—å¯¹è±¡æ‹·è´åˆ°æ­£åœ¨åˆ›å»ºçš„å¯¹è±¡ä¸­ï¼Œå¦‚æœéœ€è¦çš„è¯è¿˜è¦è¿›è¡Œç±»å‹è½¬æ¢ã€‚é€šå¸¸ä½¿ç”¨æ‹·è´æ„é€ å‡½æ•°å®Œæˆï¼Œå¦‚æœæœ‰ç§»åŠ¨æ„é€ å‡½æ•°ï¼Œåˆ™æœ‰æ—¶ä¼šä½¿ç”¨ç§»åŠ¨æ„é€ å‡½æ•°ã€‚\n\næ‹·è´åˆå§‹åŒ–çš„å‘ç”Ÿæƒ…å†µï¼š\n\n- =å®šä¹‰å˜é‡\n- å°†ä¸€ä¸ªå¯¹è±¡ä»å®å‚ä¼ é€’ç»™éå¼•ç”¨çš„å½¢å‚\n- è¿”å›ç±»å‹ä¸ºéå¼•ç”¨ç±»å‹çš„å‡½æ•°è¿”å›çš„å¯¹è±¡\n- ç”¨èŠ±æ‹¬å·åˆ—è¡¨ åˆå§‹åŒ–ä¸€ä¸ªæ•°ç»„ä¸­çš„å…ƒç´ æˆ–ä¸€ä¸ªèšåˆç±»çš„æˆå‘˜\n- æ ‡å‡†åº“å®¹å™¨insert/pushï¼Œä¸ä¹‹ç›¸å¯¹ï¼Œç”¨emplaceåˆ›å»ºçš„å…ƒç´ éƒ½è¿›è¡Œç›´æ¥åˆå§‹åŒ–\n\næ‹·è´å‡½æ•°åœ¨è¿™å‡ ç§æƒ…å†µä¸‹éƒ½ä¼šè¢«éšå¼åœ°ä½¿ç”¨ï¼Œå› æ­¤ï¼Œæ‹·è´æ„é€ å‡½æ•°ä¸åº”æ˜¯explicitçš„\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230506200110.png)\n\n#### æ‹·è´èµ‹å€¼è¿ç®—ç¬¦\n\n```c++\nSales_data trans,accum;\ntrans = accum; // ä½¿ç”¨Sales_data çš„æ‹·è´èµ‹å€¼å…ƒç´ ç¬¦\n```\n\nä¸ç±»æ§åˆ¶å¯¹è±¡å¦‚ä½•åˆå§‹åŒ–ä¸€æ ·ï¼Œç±»ä¹Ÿå¯ä»¥æ§åˆ¶å…¶å¯¹è±¡å¦‚ä½•èµ‹å€¼ã€‚ä¸æ‹·è´æ„é€ å‡½æ•°ä¸€æ ·ï¼Œå¦‚æœæœªå®šä¹‰ï¼Œç¼–è¯‘å™¨ä¼šä¸ºå®ƒåˆæˆä¸€ä¸ªã€‚\n\n```c++\nclass Foo{\n  public:\n    Foo& operator=(const Foo&);//èµ‹å€¼è¿ç®—ç¬¦\n}\n// èµ‹å€¼è¿ç®—ç¬¦é€šå¸¸è¿”å›ä¸€ä¸ªæŒ‡å‘å…¶å·¦ä¾§è¿ç®—å¯¹è±¡çš„å¼•ç”¨\n```\n\næ‹·è´èµ‹å€¼å…ƒç´ è¿ç®—ç¬¦ä¼šå°†å³ä¾§å¯¹è±¡çš„æ¯ä¸ªéstaticæˆå‘˜èµ‹äºˆå·¦ä¾§å¯¹è±¡çš„å¯¹åº”æˆå‘˜\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230506200857.png)\n\n#### ææ„å‡½æ•°\n\nææ„å‡½æ•°é‡Šæ”¾å¯¹è±¡ä½¿ç”¨çš„èµ„æºï¼Œå¹¶é”€æ¯å¯¹è±¡çš„éstaticæ•°æ®æˆå‘˜ã€‚ææ„å‡½æ•°**æ²¡æœ‰è¿”å›å€¼ï¼Œä¹Ÿä¸æ¥å—å‚æ•°ï¼Œä¸èƒ½å‘—é‡è½½ï¼Œä¸€ä¸ªç»™å®šç±»åªæœ‰å”¯ä¸€ä¸€ä¸ªææ„å‡½æ•°**ã€‚åŒæ—¶ï¼Œææ„å‡½æ•°è‡ªåŠ¨è¿è¡Œï¼Œç¨‹åºæŒ‰éœ€åˆ†é…èµ„æºï¼Œé€šå¸¸æ— é¡»å½“å¿ƒä½•æ—¶é‡Šæ”¾è¿™äº›èµ„æº\n\nåœ¨ææ„å‡½æ•°ä¸­ï¼Œå…ˆæ‰§è¡Œå‡½æ•°ä½“ï¼Œç„¶åé”€æ¯æˆå‘˜ã€‚æŒ‰åˆå§‹åŒ–é¡ºåºçš„**é€†åº**é”€æ¯ã€‚é‡Šæ”¾å¯¹è±¡åœ¨ç”Ÿå­˜æœŸåˆ†é…çš„æ‰€æœ‰èµ„æºã€‚\nææ„éƒ¨åˆ†å¼éšå¼çš„ï¼Œæˆå‘˜é”€æ¯æ—¶å®Œå…¨ä¾èµ–äºæˆå‘˜çš„ç±»å‹ã€‚é”€æ¯ç±»ç±»å‹çš„æˆå‘˜éœ€è¦æ‰§è¡Œæˆå‘˜è‡ªå·±çš„ææ„å‡½æ•°ã€‚å†…ç½®ç±»å‹æˆå‘˜æ²¡æœ‰ææ„å‡½æ•°ï¼Œä»€ä¹ˆéƒ½ä¸éœ€è¦åšã€‚\néšå¼é”€æ¯å†…ç½®æŒ‡é’ˆç±»å‹çš„æˆå‘˜ä¸ä¼šdeleteå®ƒæ‰€æŒ‡åœ°å¯¹è±¡ã€‚\n\nè°ƒç”¨ææ„å‡½æ•°çš„æ—¶æœºï¼š\n\n- å˜é‡ç¦»å¼€å…¶ä½œç”¨åŸŸæ—¶\n- å¯¹è±¡è¢«é”€æ¯ï¼Œæˆå‘˜è¢«é”€æ¯\n- å®¹å™¨è¢«é”€æ¯\n- åŠ¨æ€åˆ†é…çš„å¯¹è±¡ï¼Œå¯¹æŒ‡å‘å®ƒçš„æŒ‡é’ˆåº”ç”¨deleteæ—¶\n- ä¸´æ—¶å¯¹è±¡ï¼Œåˆ›å»ºå®ƒçš„å®Œæ•´è¡¨è¾¾å¼ç»“æŸæ—¶è¢«é”€æ¯\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230506201821.png)\n\næœªå®šä¹‰æ—¶ï¼Œç¼–è¯‘å™¨ä¼šä¸ºå®ƒå®šä¹‰ä¸€ä¸ªåˆæˆææ„å‡½æ•°ï¼Œææ„å‡½æ•°ä½“è‡ªèº«ä¸ç›´æ¥é”€æ¯æˆå‘˜ï¼Œæˆå‘˜æ—¶åœ¨ææ„å‡½æ•°ä½“æ‰§è¡Œåéšå¼é”€æ¯çš„ã€‚\n\nå¦‚æœä¸€ä¸ªç±»éœ€è¦è‡ªå®šä¹‰ææ„å‡½æ•°ï¼Œå‡ ä¹è‚¯å®šçš„æ˜¯ï¼Œä¹Ÿéœ€è¦è‡ªå®šä¹‰æ‹·è´èµ‹å€¼è¿ç®—ç¬¦å’Œæ‹·è´æ„é€ å‡½æ•°ã€‚\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230506203014.png)\n\n#### =default\n\nä½¿ç”¨=defaultæ¥æ˜¾å¼åœ°è¦æ±‚ç¼–è¯‘å™¨ç”Ÿæˆåˆæˆçš„ç‰ˆæœ¬\nå½“æˆ‘ä»¬ä½¿ç”¨=defaultæ—¶ï¼Œåˆæˆçš„å‡½æ•°ä¼šè¢«éšå¼åœ°å£°æ˜ä¸ºinline\n\n\n\næˆ‘ä»¬åªèƒ½å¯¹å…·æœ‰åˆæˆç‰ˆæœ¬çš„æˆå‘˜å‡½æ•°ä½¿ç”¨=default\n\n#### =delete\n\næˆ‘ä»¬å¯ä»¥ä¸ºä»»ä½•å‡½æ•°æŒ‡å®š=deleteï¼ˆé™¤äº†ææ„å‡½æ•°ï¼‰\n=deleteå‡½æ•°ï¼šè™½ç„¶æˆ‘ä»¬å£°æ˜äº†å®ƒä»¬ï¼Œä½†ä¸èƒ½ä»¥ä»»ä½•æ–¹å¼ä½¿ç”¨å®ƒä»¬ã€‚\n=deleteä¸»è¦ç”¨äºç¦æ­¢æ‹·è´æ§åˆ¶æˆå‘˜ï¼Œå¦‚æœå¸Œæœ›å¼•å¯¼å‡½æ•°åŒ¹é…è¿‡ç¨‹ï¼Œåˆ é™¤å‡½æ•°æœ‰æ—¶ä¹Ÿæ˜¯æœ‰ç”¨çš„ã€‚\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230506203438.png)\n\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230506203413.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230506203743.png)\n\nå°½å¯èƒ½ä½¿ç”¨=deleteæ¥é˜»æ­¢æ‹·è´ï¼Œè€Œä¸åº”è¯¥å£°æ˜ä¸ºprivate\n\n#### æ‹·è´æ§åˆ¶å’Œèµ„æºç®¡ç†\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230506204218.png)\n\n**è¡Œä¸ºåƒå€¼çš„ç±»**ï¼šæ¯ä¸ªç±»çš„å¯¹è±¡éƒ½æœ‰è‡ªå·±çš„å®ç°\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230506204605.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230506204742.png)\n\n**è¡Œä¸ºåƒæŒ‡é’ˆçš„ç±»**ï¼šæ‰€æœ‰ç±»çš„å¯¹è±¡å…±äº«ç±»çš„èµ„æºï¼Œæ¯”å¦‚shared_ptrã€‚\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230506211340.png)\n\nä¸»è¦çš„ä¸åŒä½“ç°åœ¨æ‹·è´æ„é€ å‡½æ•°ä¸­ï¼Œææ„å‡½æ•°å’Œæ‹·è´èµ‹å€¼è¿ç®—ç¬¦ä¾æ®å¼•ç”¨è®¡æ•°æœ‰æ‰€æ”¹å˜\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230506211509.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230506211603.png)\n\n#### äº¤æ¢æ“ä½œ\n\nå¯¹äºé‡æ‹å…ƒç´ é¡ºåºçš„ç®—æ³•ï¼Œå®šä¹‰swapæ—¶éå¸¸é‡è¦çš„ã€‚\nå¦‚æœä¸€ä¸ªç±»å®šä¹‰äº†è‡ªå·±çš„swapï¼Œé‚£ä¹ˆç®—æ³•å°†ä½¿ç”¨è‡ªå®šä¹‰ç‰ˆæœ¬ï¼Œå¦åˆ™å°†ä½¿ç”¨æ ‡å‡†åº“çš„swapã€‚\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230506211803.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230506211925.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230506212016.png)\n\n### å¯¹è±¡ç§»åŠ¨\n\nåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå¯¹è±¡æ‹·è´åå°±ç«‹å³è¢«é”€æ¯äº†ã€‚è¿™æ—¶å€™ï¼Œç§»åŠ¨è€Œéæ‹·è´å¯¹è±¡ä¼šå¤§å¹…åº¦æå‡æ€§èƒ½ã€‚\n\n#### å³å€¼å¼•ç”¨\n\né€šè¿‡&&æ¥è·å¾—å³å€¼å¼•ç”¨ï¼Œåªèƒ½ç»‘å®šåˆ°**ä¸€ä¸ªå°†è¦é”€æ¯çš„å¯¹è±¡**ã€‚\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230506231308.png)\n\nå˜é‡æ˜¯å·¦å€¼ï¼Œå› æ­¤æˆ‘ä»¬ä¸èƒ½å°†å³å€¼å¼•ç”¨ç»‘å®šåˆ°å˜é‡ä¸Šï¼Œå³ä½¿æ˜¯å³å€¼å¼•ç”¨ç±»å‹ã€‚\n\næ ‡å‡†åº“moveå‡½æ•°ï¼Œå¯ä»¥æ˜¾ç¤ºåœ°å°†ä¸€ä¸ªå·¦å€¼è½¬æ¢ä¸ºå¯¹åº”çš„å³å€¼å¼•ç”¨ç±»å‹ã€‚\n\n```c++\nint &&rr3 = std::move(rr1);\n// moveå‘Šè¯‰ç¼–è¯‘å™¨ï¼Œå°†rr1å½“ä½œå³å€¼ä¸€æ ·å¤„ç†\n// é™¤äº†å¯¹rr1èµ‹å€¼æˆ–é”€æ¯ï¼Œæˆ‘ä»¬ä¸å†ä½¿ç”¨å®ƒ\n```\n\n#### ç§»åŠ¨æ„é€ å‡½æ•°\n\nç§»åŠ¨æ„é€ å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå³å€¼å¼•ç”¨ï¼Œä¿è¯ç§»åå…ƒå¯¹è±¡å¤„äºä¸€ä¸ªçŠ¶æ€â€”â€”é”€æ¯æ— å®³ã€‚ä¸€æ—¦èµ„æºå®Œæˆç§»åŠ¨ï¼Œæºå¯¹è±¡å¿…é¡»ä¸å†æŒ‡å‘è¢«ç§»åŠ¨çš„èµ„æºâ€”â€”è¿™äº›èµ„æºçš„æ‰€æœ‰æƒå½’å±æ–°åˆ›å»ºçš„å¯¹è±¡ã€‚\n\n```c++\nStrVec::StrVec(StrVec &&s) noexcept //å‘Šè¯‰æ ‡å‡†åº“æˆ‘ä»¬çš„æ„é€ å‡½æ•°ä¸æŠ›å‡ºä»»ä½•å¼‚å¸¸\n// æˆå‘˜åˆå§‹åŒ–æ¥ç®¡sçš„èµ„æº\n:elements(s.elements),first_free(s.first_free),cap(s.cap)\n{\n  s.elements = s.first_free = s.cap = nullptr;\n  // è¢«æ¥æ”¶åæŒ‡é’ˆéƒ½ç½®ä¸ºnullptr\n}\n```\n\n#### ç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507001946.png)\n\nåœ¨è¿™é‡Œï¼Œæˆ‘ä»¬æ£€æŸ¥this ä¸ rhsçš„åœ°å€æ˜¯å¦ç›¸åŒã€‚ç›¸åŒä¸åšä»»ä½•äº‹æƒ…ã€‚å¦åˆ™é‡Šæ”¾å·²æœ‰å…ƒç´ ï¼Œç„¶åæ¥ç®¡å³å€¼å¼•ç”¨çš„å…ƒç´ ã€‚å†æŠŠrhsæŒ‡é’ˆèµ‹ä¸ºnullptr\n\n**åœ¨ç§»åŠ¨åï¼Œç§»åæºå¯¹è±¡å¿…é¡»å¯ææ„**ã€‚\n\n#### åˆæˆç§»åŠ¨æ“ä½œ\n\nå¦‚æœä¸€ä¸ªç±»å®šä¹‰äº†æ‹·è´æ„é€ å‡½æ•°ã€æ‹·è´èµ‹å€¼è¿ç®—ç¬¦æˆ–è€…ææ„å‡½æ•°ï¼Œç¼–è¯‘å™¨å°±ä¸ä¼šä¸ºå®ƒåˆæˆç§»åŠ¨æ„é€ å‡½æ•°å’Œç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦ã€‚\nåªæœ‰å½“ä¸€ä¸ªç±»**æ²¡æœ‰å®šä¹‰ä»»ä½•è‡ªå·±ç‰ˆæœ¬çš„æ‹·è´æ§åˆ¶æˆå‘˜**ï¼Œä¸”**ç±»çš„æ¯ä¸ªéstaticæ•°æ®æˆå‘˜éƒ½å¯ä»¥ç§»åŠ¨**æ—¶ï¼Œç¼–è¯‘å™¨æ‰ä¼šä¸ºå®ƒåˆæˆç§»åŠ¨æ„é€ å‡½æ•°æˆ–ç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦ã€‚\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507002510.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507002957.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507003227.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507003912.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507004102.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507004122.png)\n\n\n### é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡\n\né¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡åŸºäºä¸‰ä¸ªåŸºæœ¬æ¦‚å¿µï¼šæ•°æ®æŠ½è±¡ã€ç»§æ‰¿ã€å’ŒåŠ¨æ€ç»‘å®šã€‚\n\n#### æ•°æ®æŠ½è±¡ã€ç»§æ‰¿ã€åŠ¨æ€ç»‘å®š\n\n**æ•°æ®æŠ½è±¡**ï¼šåªå‘å¤–ç•Œæä¾›å…³é”®ä¿¡æ¯ï¼Œå¹¶éšè—å…¶åå°çš„å®ç°ç»†èŠ‚ï¼Œå³åªè¡¨ç°å¿…è¦çš„ä¿¡æ¯è€Œä¸å‘ˆç°ç»†èŠ‚ã€‚C++ ç±»ä¸ºæ•°æ®æŠ½è±¡æä¾›äº†å¯èƒ½ã€‚å®ƒä»¬å‘å¤–ç•Œæä¾›äº†å¤§é‡ç”¨äºæ“ä½œå¯¹è±¡æ•°æ®çš„å…¬å…±æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¤–ç•Œå®é™…ä¸Šå¹¶ä¸æ¸…æ¥šç±»çš„å†…éƒ¨å®ç°ã€‚\n\n**ç»§æ‰¿**ï¼šé€šè¿‡ç»§æ‰¿è”ç³»åœ¨ä¸€èµ·çš„ç±»æ„æˆä¸€ç§å±‚æ¬¡å…³ç³»ã€‚é€šå¸¸æ ¹éƒ¨å«åš**åŸºç±»**ï¼Œç›´æ¥æˆ–é—´æ¥ä»åŸºç±»ç»§æ‰¿è€Œæ¥å«**æ´¾ç”Ÿç±»**ã€‚\n\n**åŠ¨æ€ç»‘å®š**ï¼šå½“æˆ‘ä»¬ä½¿ç”¨åŸºç±»çš„å¼•ç”¨ï¼ˆæˆ–æŒ‡é’ˆï¼‰è°ƒç”¨ä¸€ä¸ªè™šå‡½æ•°æ—¶å°†å‘ç”ŸåŠ¨æ€ç»‘å®šã€‚åŠ¨æ€ç»‘å®šå³æ˜¯åœ¨è¿è¡Œæ—¶é€‰æ‹©å‡½æ•°çš„ç‰ˆæœ¬ï¼Œåœ¨ä¸€å®šç¨‹åº¦ä¸Šå¿½ç•¥ç›¸ä¼¼ç±»å‹çš„åŒºåˆ«ï¼Œè€Œä»¥ç»Ÿä¸€çš„æ–¹å¼ä½¿ç”¨å®ƒä»¬çš„å¯¹è±¡ã€‚\n\n#### åŸºç±»å’Œæ´¾ç”Ÿç±»\n\nåŸºç±»é€šå¸¸åº”è¯¥å®šä¹‰ä¸€ä¸ªè™šææ„å‡½æ•°ï¼Œå³ä½¿è¯¥å‡½æ•°ä¸æ‰§è¡Œä»»ä½•å®é™…æ“ä½œã€‚\n\nå› ä¸ºåœ¨æ´¾ç”Ÿç±»æœ‰ä¸åŸºç±»å¯¹åº”çš„éƒ¨åˆ†ï¼Œæ‰€ä»¥èƒ½æŠŠæ´¾ç”Ÿç±»çš„å¯¹è±¡å½“ä½œåŸºç±»å¯¹è±¡æ¥ä½¿ç”¨ï¼Œä¹Ÿèƒ½å°†åŸºç±»æŒ‡é’ˆæˆ–å¼•ç”¨ç»‘å®šåˆ°æ´¾ç”Ÿç±»å¯¹è±¡ä¸­çš„åŸºç±»éƒ¨åˆ†ä¸Šã€‚\n\n```c++\nQuote item;// åŸºç±»\nBulk_quote bulk;// æ´¾ç”Ÿç±»\nQuote *p = &item;// pæŒ‡å‘Quoteå¯¹è±¡\np = &bulk;// pæŒ‡å‘bulkçš„Quoteéƒ¨åˆ†\nQuote &r = bulk;// rç»‘å®šåˆ°bulkçš„Quoteéƒ¨åˆ†\n```\n\næ´¾ç”Ÿç±»å…ˆåˆå§‹åŒ–åŸºç±»éƒ¨åˆ†ï¼Œç„¶åæŒ‰ç…§å£°æ˜é¡ºåºåˆå§‹åŒ–æ´¾ç”Ÿç±»çš„æˆå‘˜ã€‚\n\nä¸ç®¡ä»åŸºç±»ä¸­æ´¾ç”Ÿå‡ºå¤šå°‘ä¸ªæ´¾ç”Ÿç±»ï¼Œå¯¹äºæ¯ä¸ª**é™æ€æˆå‘˜**æ¥è¯´éƒ½åªå­˜åœ¨**å”¯ä¸€**çš„å®ä¾‹ã€‚\n\né™æ€æˆå‘˜éµå¾ªé€šç”¨çš„è®¿é—®æ§åˆ¶è§„åˆ™\n\n**é˜²æ­¢ç»§æ‰¿**ï¼Œå³åœ¨ç±»ååè·Ÿä¸€ä¸ªå…³é”®å­—final\n\næˆ‘ä»¬å¯ä»¥å°†**åŸºç±»çš„æŒ‡é’ˆï¼ˆå†…ç½®æˆ–æ™ºèƒ½ï¼‰æˆ–å¼•ç”¨ç»‘å®šåˆ°æ´¾ç”Ÿç±»å¯¹è±¡**ä¸Šã€‚ä¾‹å¦‚ï¼Œå¯ä»¥ç”¨Quote&æŒ‡å‘ä¸€ä¸ªBulk_quoteå¯¹è±¡ï¼Œä¹Ÿå¯ä»¥æŠŠä¸€ä¸ªBulk_quoteå¯¹è±¡çš„åœ°å€èµ‹ç»™ä¸€ä¸ªQuote*\n\n```c++\n// é™æ€ç±»å‹åœ¨ç¼–è¯‘æ—¶å°±å·²çŸ¥ï¼Œæ˜¯å˜é‡å£°æ˜æ—¶çš„ç±»å‹æˆ–è¡¨è¾¾å¼ç”Ÿæˆçš„ç±»å‹\n// åŠ¨æ€ç±»å‹åˆ™æ˜¯å˜é‡æˆ–è¡¨è¾¾å¼è¡¨ç¤ºçš„å†…å­˜ä¸­çš„å¯¹è±¡çš„ç±»å‹ï¼Œè¿è¡Œæ—¶æ‰çŸ¥é“\ndouble ret = item.net_price(n);\n// itemçš„é™æ€ç±»å‹æ˜¯Quote&\n// å®ƒçš„åŠ¨æ€ç±»å‹ä¾èµ–äºitemç»‘å®šçš„å®å‚\n// å¦‚æœä¼ é€’ä¸€ä¸ªBulk_quoteï¼Œåˆ™itemåŠ¨æ€ç±»å‹åˆ™æ˜¯Bulk_quote\n// å¦‚æœè¡¨è¾¾å¼æ—¢ä¸æ˜¯å¼•ç”¨ä¹Ÿä¸æ˜¯æŒ‡é’ˆï¼ŒåŠ¨æ€ç±»å‹å’Œé™æ€ç±»å‹æ°¸è¿œä¸€è‡´ã€‚\n// æ¯”å¦‚Quoteç±»å‹å˜é‡æ°¸è¿œæ˜¯ä¸€ä¸ªQuoteå¯¹è±¡\n```\n\n```c++\n// ä¸å­˜åœ¨åŸºç±»å‘æ´¾ç”Ÿç±»çš„éšå¼ç±»å‹è½¬æ¢ï¼Œå³ä½¿ä¸€ä¸ªåŸºç±»æŒ‡é’ˆæˆ–å¼•ç”¨ç»‘å®šåœ¨ä¸€ä¸ªæ´¾ç”Ÿäº†å¯¹è±¡ä¸Š\nQuote base;\nBulk_quote* bulkP = &base;\nBulk_quote& bulkRef = base;\n// ä»¥ä¸Šéƒ½æ˜¯é”™è¯¯çš„ï¼Œä¸èƒ½å°†åŸºç±»è½¬åŒ–ä¸ºæ´¾ç”Ÿç±»\nBulk_quote bulk;\nQuote *itemP = &bulk;// æ­£ç¡®ï¼ŒåŠ¨æ€ç±»å‹æ˜¯Bulk_quote\nBulk_quote *bulkP = itemP;// é”™è¯¯ï¼Œä¸èƒ½å°†åŸºç±»è½¬åŒ–æˆæ´¾ç”Ÿç±»\n\n// å¯ä»¥ç”¨dynamic_cast,å¦‚æœåœ¨åŸºç±»ä¸­å«æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªè™šå‡½æ•°\n// å¦‚æœå·²çŸ¥æŸä¸ªåŸºç±»è½¬åŒ–æ´¾ç”Ÿç±»æ˜¯å®‰å…¨çš„ï¼Œå¯ä»¥ç”¨static_cast\n```\n\nå½“æˆ‘ä»¬ç”¨ä¸€ä¸ªæ´¾ç”Ÿç±»å¯¹è±¡ä¸ºä¸€ä¸ªåŸºç±»å¯¹è±¡åˆå§‹åŒ–æˆ–èµ‹å€¼æ—¶ï¼Œåªæœ‰è¯¥æ´¾ç”Ÿç±»å¯¹è±¡ä¸­çš„åŸºç±»éƒ¨åˆ†ä¼šè¢«æ‹·è´ã€ç§»åŠ¨æˆ–èµ‹å€¼ï¼Œæ´¾ç”Ÿç±»éƒ¨åˆ†ä¼šè¢«å¿½ç•¥ï¼Œä¹Ÿå°±æ˜¯è¢«åˆ‡æ‰\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507144244.png)\n\n#### è™šå‡½æ•°\n\nåŠ¨æ€ç»‘å®š**åªä¼šåœ¨æˆ‘ä»¬é€šè¿‡æŒ‡é’ˆæˆ–å¼•ç”¨è°ƒç”¨è™šå‡½æ•°**æ—¶æ‰ä¼šå‘ç”Ÿã€‚å¦‚æœé€šè¿‡ä¸€ä¸ªæ™®é€šç±»å‹ï¼ˆéå¼•ç”¨éæŒ‡é’ˆï¼‰çš„è¡¨è¾¾å¼è°ƒç”¨è™šå‡½æ•°ï¼Œåœ¨ç¼–è¯‘æ—¶å°±ä¼šå°†è¡¨è¾¾å¼çš„æŠŠå‘¢ä¸èƒ½ç¡®å®šä¸‹æ¥ã€‚\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507152318.png)\n\nåŸºç±»ä¸­çš„è™šå‡½æ•°åœ¨æ´¾ç”Ÿç±»ä¸­éšå«åœ°ä¹Ÿæ˜¯ä¸€ä¸ªè™šå‡½æ•°ã€‚å½“æ´¾ç”Ÿç±»è¦†ç›–äº†æŸä¸ªè™šå‡½æ•°æ—¶ï¼Œè¯¥å‡½æ•°åœ¨åŸºç±»ä¸­çš„å½¢å‚å¿…é¡»ä¸æ´¾ç”Ÿç±»ä¸­çš„å½¢å‚ä¸¥æ ¼åŒ¹é…ã€‚\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507152800.png)\n\nå¦‚æœè™šå‡½æ•°ä½¿ç”¨é»˜è®¤å®å‚ï¼Œåˆ™åŸºç±»å’Œæ´¾ç”Ÿç±»ä¸­å®šä¹‰çš„é»˜è®¤å®å‚æœ€å¥½ä¸€è‡´ã€‚\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507153006.png)\n\n```c++\nclass Base{\n  virtual void foo(){}\n};\nclass Drived : public Base{  \n  void foo()\n  {\n    foo();//é€’å½’è°ƒç”¨è‡ªå·±\n    Base::foo();//æ˜ç¡®å‘Šè¯‰ç¼–è¯‘å™¨ï¼Œè°ƒç”¨Base::fooè€Œä¸æ˜¯è‡ªå·±\n  }\n};\n```\n\n#### æŠ½è±¡åŸºç±»\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507154155.png)\n\nå«æœ‰çº¯è™šå‡½æ•°çš„ç±»æ˜¯æŠ½è±¡åŸºç±»ï¼Œæˆ‘ä»¬**ä¸èƒ½åˆ›å»ºä¸€ä¸ªæŠ½è±¡åŸºç±»çš„å¯¹è±¡**ã€‚å¯ä»¥å®šä¹‰å®ƒçš„æ´¾ç”Ÿç±»ï¼Œå‰ææ˜¯è¿™äº›ç±»è¦†ç›–äº†çº¯è™šå‡½æ•°ã€‚\n\næ´¾ç”Ÿç±»åªåˆå§‹åŒ–å®ƒçš„ç›´æ¥åŸºç±»\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507155227.png)\n\n#### è®¿é—®æ§åˆ¶ä¸ç»§æ‰¿\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507161237.png)\n\nä¸Šè¿°è¡¨ç¤ºï¼Œå¦‚æœå‹å…ƒé€šè¿‡æ´¾ç”Ÿç±»æ¥è®¿é—®protectedæˆå‘˜æ˜¯å¯ä»¥çš„ã€‚ä½†æ˜¯å‹å…ƒç›´æ¥è®¿é—®protectedæˆå‘˜å°±ä¸å¯ä»¥\n\n[C++æ´¾ç”Ÿç±»çš„æˆå‘˜æˆ–å‹å…ƒåªèƒ½é€šè¿‡æ´¾ç”Ÿç±»å¯¹è±¡æ¥è®¿é—®åŸºç±»çš„å—ä¿æŠ¤æˆå‘˜? - é‚±æ˜Šå®‡çš„å›ç­” - çŸ¥ä¹](\nhttps://www.zhihu.com/question/37051531/answer/70216882)\n\nåœ¨ç±»ä¸­ç”¨usingå£°æ˜æ”¹å˜è®¿é—®çº§åˆ«ï¼Œå½“ç„¶æ´¾ç”Ÿç±»åªèƒ½ä¸ºè®¿é—®åˆ°çš„åå­—æä¾›using\n\nstruct é»˜è®¤publicç»§æ‰¿ \nclass é»˜è®¤privateç»§æ‰¿\n\n#### ç»§æ‰¿çš„ç±»ä½œç”¨åŸŸ\n\næ´¾ç”Ÿç±»çš„ä½œç”¨åŸŸä½äºåŸºç±»ä½œç”¨åŸŸä¹‹å†…ï¼Œå¦‚æœä¸€ä¸ªåå­—åœ¨æ´¾ç”Ÿç±»ä¸­æ— æ³•è§£æï¼Œåˆ™ä¼šåœ¨å¤–å±‚åŸºç±»ä½œç”¨åŸŸä¸­å¯»æ‰¾è¯¥åå­—çš„å®šä¹‰ã€‚\n\nåœ¨ç¼–è¯‘æ—¶è¿›è¡Œ**åå­—æŸ¥æ‰¾**ï¼Œæ„å‘³ç€èƒ½å¤Ÿä½¿ç”¨å“ªäº›æˆå‘˜ç”±é™æ€ç±»å‹å†³å®šã€‚\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507164433.png)\n\næ´¾ç”Ÿç±»ä¼šè¦†ç›–åŸºç±»çš„åŒåæˆå‘˜ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä½œç”¨åŸŸè¿ç®—ç¬¦æ¥ä½¿ç”¨åŸºç±»æˆå‘˜ã€‚\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507164558.png)\n\n**åå­—æŸ¥æ‰¾**,å‡è®¾è°ƒç”¨obj->foo():\n\n- é¦–å…ˆç¡®å®šobjçš„é™æ€ç±»å‹\n- ç„¶ååœ¨objçš„é™æ€ç±»å‹å¯¹åº”çš„ç±»ä¸­æŸ¥æ‰¾fooã€‚æ‰¾ä¸åˆ°ï¼Œå°±ä¸€ç›´å¾€ç»§æ‰¿é“¾ä¸Šæ‰¾ã€‚å¦‚æœä¸€ç›´æ‰¾ä¸åˆ°ï¼Œå°±æŠ¥é”™ã€‚\n- ä¸€æ—¦æ‰¾åˆ°fooï¼Œè¿›è¡Œç±»å‹æ£€æŸ¥\n- å¦‚æœåˆæ³•ï¼Œåˆ™ä¼šæ ¹æ®æ˜¯å¦æ˜¯è™šå‡½æ•°è¿›è¡Œè°ƒç”¨ï¼š1.å¦‚æœæ—¶è™šå‡½æ•°ï¼Œåˆ™ä¾æ®objçš„åŠ¨æ€ç±»å‹çš„ç‰ˆæœ¬;2.å¦‚æœä¸æ˜¯ï¼Œç›´æ¥è°ƒç”¨\n\næˆ‘ä»¬å¯ä»¥çœ‹åˆ°**åå­—æŸ¥æ‰¾å…ˆäºç±»å‹æ£€æŸ¥,æ‰€ä»¥ä¼šæœ‰ä»¥ä¸‹ç»“æœ**\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507165048.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507165828.png)\n\n#### è™šææ„å‡½æ•°\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507211827.png)\n\n#### åˆæˆæ‹·è´æ§åˆ¶ä¸ç»§æ‰¿\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507212141.png)\n\n**æ´¾ç”Ÿç±»ä¸­åˆ é™¤çš„æ‹·è´æ§åˆ¶ä¸åŸºç±»çš„å…³ç³»**ï¼š\n\n- åŸºç±»ä¸­çš„é»˜è®¤æ„é€ å‡½æ•°ã€æ‹·è´æ„é€ å‡½æ•°ã€æ‹·è´èµ‹å€¼è¿ç®—ç¬¦æˆ–ææ„å‡½æ•°æ˜¯deleteæˆ–privateï¼Œåˆ™æ´¾ç”Ÿç±»å¯¹åº”çš„æ˜¯deleteçš„ã€‚åŸå› æ˜¯ç¼–è¯‘å™¨ä¸èƒ½ä½¿ç”¨åŸºç±»æˆå‘˜æ¥æ‰§è¡Œè¿™äº›æ“ä½œ\n- å¦‚æœåŸºç±»ä¸­æœ‰ä¸€ä¸ª**privateæˆ–deleteçš„ææ„å‡½æ•°**ï¼Œåˆ™æ´¾ç”Ÿç±»åˆæˆçš„é»˜è®¤å’Œæ‹·è´æ„é€ å‡½æ•°æ˜¯deleteï¼Œå› ä¸ºç¼–è¯‘å™¨æ— æ³•é”€æ¯æ´¾ç”Ÿç±»å¯¹è±¡çš„åŸºç±»éƒ¨åˆ†\n- ç¼–è¯‘å™¨ä¸ä¼šåˆæˆä¸€ä¸ªdeleteç§»åŠ¨æ“ä½œã€‚å½“æˆ‘ä»¬ä½¿ç”¨=defaultï¼Œå¦‚æœåŸºç±»ä¸­å¯¹åº”æ˜¯deleteæˆ–privateï¼Œåˆ™æ´¾ç”Ÿç±»ä¸­æ˜¯deleteï¼ŒåŸå› æ˜¯æ´¾ç”Ÿç±»åŸºç±»éƒ¨åˆ†ä¸å¯ç§»åŠ¨ã€‚åŒæ ·ï¼ŒåŸºç±»ææ„å‡½æ•°deleteæˆ–privateï¼Œåˆ™æ´¾ç”Ÿç±»ç§»åŠ¨æ„é€ å‡½æ•°ä¹Ÿæ˜¯delete\n\n**æ´¾ç”Ÿç±»æ‹·è´æˆ–ç§»åŠ¨æ„é€ å‡½æ•°**ï¼š\n\nåœ¨é»˜è®¤æƒ…å†µä¸‹ï¼ŒåŸºç±»é»˜è®¤æ„é€ å‡½æ•°åˆå§‹åŒ–æ´¾ç”Ÿç±»å¯¹è±¡çš„åŸºç±»éƒ¨åˆ†ã€‚å¦‚æœæƒ³æ‹·è´æˆ–ç§»åŠ¨åŸºç±»éƒ¨åˆ†ï¼Œåˆ™å¿…é¡»åœ¨æ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°åˆå§‹å€¼åˆ—è¡¨ä¸­**æ˜¾å¼åœ°ä½¿ç”¨**åŸºç±»çš„æ‹·è´ï¼ˆæˆ–ç§»åŠ¨ï¼‰æ„é€ å‡½æ•°\n\n**æ´¾ç”Ÿç±»èµ‹å€¼è¿ç®—ç¬¦**ï¼šåŒç†ï¼Œå¤åˆ¶è¿ç®—ç¬¦ä¹Ÿè¦æ˜¾å¼åœ°ä¸ºåŸºç±»éƒ¨åˆ†èµ‹å€¼\n\n**æ´¾ç”Ÿç±»ææ„å‡½æ•°**ï¼šé”€æ¯é¡ºåºä¸åˆ›å»ºé¡ºåºç›¸åï¼Œå…ˆæ‰§è¡Œæ´¾ç”Ÿç±»ææ„å‡½æ•°ï¼Œå†æ‰§è¡ŒåŸºç±»çš„ã€‚\n\nå¦‚æœæ„é€ å‡½æ•°æˆ–ææ„å‡½æ•°è°ƒç”¨äº†æŸä¸ªè™šå‡½æ•°ï¼Œåˆ™åº”è¯¥æ‰§è¡Œä¸ç±»å‹ç›¸å¯¹åº”çš„è™šå‡½æ•°ç‰ˆæœ¬ã€‚\n\n#### ç»§æ‰¿çš„æ„é€ å‡½æ•°\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507213936.png)\n\nusingå£°æ˜ä¸ä¼šæ”¹å˜æ„é€ å‡½æ•°çš„è®¿é—®çº§åˆ«ã€‚\nusingå£°æ˜ä¸èƒ½æŒ‡å®šexplicitæˆ–constexprï¼Œç»§æ‰¿çš„æ„é€ å‡½æ•°å¦‚æœæœ‰è¿™äº›å±æ€§ï¼Œé‚£ä¹ˆä¹Ÿæœ‰ã€‚\næ„é€ å‡½æ•°çš„é»˜è®¤å®å‚ä¸ä¼šè¢«ç»§æ‰¿ã€‚ç›¸åï¼Œä¼šè·å¾—å¤šä¸ªç»§æ‰¿ã€‚æ¯”å¦‚ï¼ŒåŸºç±»æœ‰ä¸€ä¸ªæ¥å—ä¸¤ä¸ªå½¢å‚çš„æ„é€ å‡½æ•°ï¼Œç¬¬äºŒä¸ªå«æœ‰é»˜è®¤å®å‚ï¼Œåˆ™æ´¾ç”Ÿç±»è·å¾—ä¸¤ä¸ªæ„é€ å‡½æ•°ï¼Œä¸€ä¸ªæ¥å—ä¸¤ä¸ªå½¢å‚ï¼Œä¸€ä¸ªåªæ¥å—ä¸€ä¸ªå½¢å‚ï¼Œå¯¹åº”æ²¡æœ‰é»˜è®¤å€¼çš„å½¢å‚ã€‚\n\nå¦‚æœåŸºç±»å«æœ‰å‡ ä¸ªæ„é€ å‡½æ•°ï¼Œå¤§å¤šæ•°æ´¾ç”Ÿç±»ä¼šç»§æ‰¿è¿™äº›æ„é€ å‡½æ•°ã€‚æœ‰ä¸¤ä¸ªä¾‹å¤–æƒ…å†µï¼š\n\n- æ´¾ç”Ÿç±»ç»§æ‰¿ä¸€éƒ¨åˆ†æ„é€ å‡½æ•°ï¼Œä¸ºå…¶ä»–æ„é€ å‡½æ•°å®šä¹‰è‡ªå·±çš„ç‰ˆæœ¬ã€‚\n- é»˜è®¤ã€æ‹·è´å’Œç§»åŠ¨æ„é€ å‡½æ•°ä¸ä¼šè¢«ç»§æ‰¿ï¼Œä¼šæŒ‰ç…§æ­£å¸¸è§„åˆ™è¢«åˆæˆã€‚","source":"_posts/c-primer.md","raw":"---\ntitle: c++ primer\ndate: 2023-04-15 21:19:35\n---\n\n### å‰è¨€\n\nç”±äºé¢è¯•è¢«ç‹ ç‹ æ‹·æ‰“ï¼Œå†³å®šæ¶è¡¥c++ã€‚æœ‰äº›æ¦‚å¿µå¤ªé•¿ä¼šä»¥å›¾ç‰‡æ˜¾ç¤º\n\n### å˜é‡å’ŒåŸºæœ¬ç±»å‹\n\n#### åŸºæœ¬ç±»å‹\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418202838.png)\n\nä¸€äº›ç±»å‹é€‰æ‹©çš„å»ºè®®ï¼š\n\n- æ•°å€¼ä¸å¯èƒ½ä¸ºè´Ÿæ—¶ï¼Œé€‰ç”¨æ— ç¬¦å·ç±»å‹\n- ä½¿ç”¨intæ‰§è¡Œæ•´æ•°è¿ç®—ï¼Œå¦‚æœè¶…è¿‡intèŒƒå›´ï¼Œé€‰ç”¨longlong\n- ç®—æœ¯è¡¨è¾¾å¼ä¸­ä¸è¦ä½¿ç”¨charæˆ–bool,åªæœ‰åœ¨å­˜æ”¾å­—ç¬¦æˆ–boolå€¼æ‰ä½¿ç”¨å®ƒä»¬ã€‚å› ä¸ºcharåœ¨æœ‰äº›æœºå™¨æ˜¯æœ‰ç¬¦å·çš„ï¼Œè€Œåœ¨ä¸€äº›æœºå™¨ä¸Šåˆæ˜¯æ— ç¬¦å·çš„ã€‚\n- æ‰§è¡Œæµ®ç‚¹æ•°è¿ç®—ç”¨doubleï¼Œfloatå¸¸å¸¸ç²¾åº¦ä¸å¤Ÿï¼Œè€Œä¸”åŒç²¾åº¦å’Œå•ç²¾åº¦çš„è®¡ç®—ä»£ä»·ç›¸å·®æ— å‡ ã€‚\n\n#### ç±»å‹è½¬æ¢\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418203722.png)\n\n- å°†éboolå‹ç®—æœ¯å€¼èµ‹ç»™boolæ—¶ï¼Œä¸º0åˆ™ç»“æœä¸ºfalseï¼Œå¦åˆ™ä¸ºtrue\n- å½“boolå€¼ç»™éboolå‹ï¼Œä¸ºfalseåˆ™ç»“æœä¸º0ï¼Œtrue ä¸º 1\n- å½“æµ®ç‚¹æ•°èµ‹ç»™æ•´æ•°ç±»å‹æ—¶ï¼Œç æ‰å°æ•°ç‚¹åé¢çš„\n- å½“æ•´æ•°èµ‹ç»™æµ®ç‚¹æ—¶ï¼Œå°æ•°éƒ¨åˆ†ä¸º0\n- å½“ç»™unsignedèµ‹ç»™ä¸€ä¸ªè¶…å‡ºèŒƒå›´çš„å€¼æ—¶ï¼Œç»“æœæ˜¯åˆå§‹å€¼åŠ è¡¨ç¤ºæ•°å€¼æ€»æ•°å–æ¨¡åçš„ä½™æ•°ï¼Œåœ¨è¿™é‡Œå°±æ˜¯(-1+256)%256\n- å½“ç»™ä¸€ä¸ªæœ‰ç¬¦å·ç±»å‹ä¸€ä¸ªè¶…å‡ºèŒƒå›´çš„å€¼æ—¶ï¼Œç»“æœæ—¶æœªå®šä¹‰çš„ã€‚ç¨‹åºå¯èƒ½ç»§ç»­å·¥ä½œã€å¯èƒ½å´©æºƒï¼Œä¹Ÿå¯èƒ½äº§ç”Ÿåƒåœ¾æ•°æ®ã€‚\n\nå½“ä¸€ä¸ªç®—æ•°è¡¨è¾¾å¼æ—¢æœ‰unsignedåˆæœ‰intæ—¶ï¼Œintå°±ä¼šè½¬åŒ–ä¸ºunsigned\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418204711.png)\n\nå½“ u = 0 æ—¶ï¼Œè¿­ä»£è¾“å‡º0ï¼Œç„¶åæ‰§è¡Œ--uï¼Œæ­¤æ—¶ u = -1 è¢«è‡ªåŠ¨è½¬åŒ–ä¸º4294967295ï¼Œæ­¤æ—¶ä¼šæ— é™å¾ªç¯\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418204946.png)\n\n#### å­—é¢å€¼å¸¸é‡\n\nä»¥0å¼€å¤´ä»£è¡¨å…«è¿›åˆ¶æ•°ï¼Œ0xæˆ–0Xå¼€å¤´ä»£è¡¨åå…­è¿›åˆ¶ï¼Œæ¯”å¦‚ï¼š\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418205302.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418205426.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418205542.png)\n\n#### å˜é‡\n\nå½“å¯¹è±¡åœ¨åˆ›å»ºæ—¶è·å¾—äº†ä¸€ä¸ªç‰¹å®šå€¼ï¼Œæˆ‘ä»¬è¯´è¿™ä¸ªå¯¹è±¡è¢«åˆå§‹åŒ–äº†ã€‚å¦‚æœå®šä¹‰å˜é‡æ—¶æ²¡æœ‰æŒ‡å®šåˆå€¼ï¼Œåˆ™å˜é‡è¢«é»˜è®¤åˆå§‹åŒ–ï¼Œæ­¤æ—¶è¢«èµ‹äºˆäº†â€œé»˜è®¤å€¼â€ã€‚å®šä¹‰äºä»»ä½•å‡½æ•°ä½“ä¹‹å¤–çš„å˜é‡è¢«åˆå§‹åŒ–ä¸º0ï¼Œå®šä¹‰åœ¨å‡½æ•°ä½“å†…éƒ¨çš„å†…ç½®å˜é‡å°†ä¸è¢«åˆå§‹åŒ–ï¼Œç”±äºæ˜¯æœªè¢«å®šä¹‰çš„ï¼Œè¯•å›¾æ‹·è´æˆ–ä»¥å…¶ä»–å½¢å¼è®¿é—®æ­¤å€¼å°†å¼•å‘é”™è¯¯ã€‚\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418205841.png)\n\n#### å£°æ˜ä¸å®šä¹‰\n\nc++å°†å£°æ˜å’Œå®šä¹‰åŒºåˆ†å¼€æ¥ï¼Œå£°æ˜ä½¿å¾—åå­—ä¸ºç¨‹åºæ‰€çŸ¥ï¼Œå®šä¹‰è´Ÿè´£åˆ›å»ºä¸åå­—å…³è”çš„å®ä½“ã€‚\n\nå˜é‡å£°æ˜è§„å®šå˜é‡çš„ç±»å‹å’Œåå­—ï¼Œåœ¨è¿™ä¸€ç‚¹ä¸Šå®šä¹‰ä¸ä¹‹ç›¸åŒï¼Œä½†é™¤æ­¤ä¹‹å¤–ï¼Œå®šä¹‰è¿˜ç”³è¯·å­˜å‚¨ç©ºé—´ï¼Œä¹Ÿå¯èƒ½ä¸ºå˜é‡èµ‹ä¸€ä¸ªåˆå§‹å€¼ã€‚\n\n```c++\nextern int i; // å¦‚æœæƒ³å£°æ˜ä¸€ä¸ªå˜é‡è€Œéå®šä¹‰å®ƒï¼Œåœ¨å˜é‡åå‰æ·»åŠ å…³é”®å­—extern\nint j;// å£°æ˜å¹¶å®šä¹‰ j\nextern double pi = 3.1416; // externè¯­å¥å¦‚æœåŒ…å«åˆå§‹å€¼å°±ä¸å†æ˜¯å£°æ˜ï¼Œè€Œå˜æˆå®šä¹‰äº†ã€‚\n// å¦‚æœåœ¨å‡½æ•°ä½“è¿™æ ·å†™ï¼Œå°†ä¼šå¼•å‘é”™è¯¯ã€‚\n```\n\n### æŒ‡é’ˆå’Œå¼•ç”¨\n\n#### å¼•ç”¨\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418211425.png)\n\n- å¼•ç”¨å³åˆ«åã€‚\n- å¼•ç”¨æœ¬èº«å¹¶ä¸æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä¸èƒ½å®šä¹‰å¼•ç”¨çš„å¼•ç”¨ã€‚\n- å¼•ç”¨ç±»å‹è¦ä¸ä¹‹ç»‘å®šçš„å¯¹è±¡ä¸¥æ ¼åŒ¹é…ã€‚\n- å¼•ç”¨åªèƒ½ç»‘å®šåœ¨å¯¹è±¡ä¸Šï¼Œä¸èƒ½ä¸å­—é¢å€¼æˆ–æŸä¸ªè¡¨è¾¾å¼çš„è®¡ç®—ç»“æœç»‘å®šåœ¨ä¸€èµ·ã€‚\n\n#### æŒ‡é’ˆ\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418211747.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418211809.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418211905.png)\n\næŒ‡é’ˆçš„å€¼ï¼ˆåœ°å€ï¼‰åº”å±äºä¸‹åˆ—4ç§çŠ¶æ€ä¹‹ä¸€ï¼š\n\n- æŒ‡å‘ä¸€ä¸ªå¯¹è±¡\n- æŒ‡å‘ç´§é‚»å¯¹è±¡æ‰€å ç©ºé—´çš„ä¸‹ä¸€ä¸ªä½ç½®\n- ç©ºæŒ‡é’ˆï¼Œæ„å‘³ç€æŒ‡é’ˆæ²¡æœ‰æŒ‡å‘ä»»ä½•å¯¹è±¡\n- æ— æ•ˆæŒ‡é’ˆï¼Œä¹Ÿå°±æ˜¯ä¸Šè¿°æƒ…å†µä¹‹å¤–çš„å…¶ä»–å€¼ï¼Œè¯•å›¾æ‹·è´æˆ–ä»¥å…¶ä»–å½¢å¼è®¿é—®æ— æ•ˆæŒ‡é’ˆéƒ½å°†å¼•å‘é”™è¯¯\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418212135.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418212340.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418212627.png)\n\n```c++\nint *&r = p; // ä»å³å¾€å·¦è¯»ï¼Œç¦»å˜é‡åæœ€è¿‘çš„ç¬¦å·å¯¹å˜é‡çš„ç±»å‹æœ‰æœ€ç›´æ¥çš„å½±å“ï¼Œå› æ­¤ræ˜¯ä¸€ä¸ªå¼•ç”¨ã€‚*è¯´æ˜rå¼•ç”¨çš„æ˜¯ä¸€ä¸ªæŒ‡é’ˆã€‚\n```\n\n### const\n\né»˜è®¤çŠ¶æ€ä¸‹ï¼Œconstå¯¹è±¡ä»…åœ¨ä¸€ä¸ªæ–‡ä»¶å†…æœ‰æ•ˆï¼Œå¦‚æœç¨‹åºåŒ…å«å¤šä¸ªæ–‡ä»¶ï¼ŒåŒåçš„constå˜é‡å…¶å®ç­‰åŒäºåœ¨ä¸åŒæ–‡ä»¶ä¸­åˆ†åˆ«å®šä¹‰äº†ç‹¬ç«‹çš„å˜é‡ã€‚è§£å†³çš„æ–¹æ³•ä¾¿æ˜¯åœ¨constå˜é‡å‰åŠ extern\n\n```c++\nextern const int i = 5;\n```\n\n#### constä¸å¼•ç”¨\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418213248.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418213820.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418214147.png)\n\nç”±äºconstå¼•ç”¨ä¹Ÿç»å¸¸è¢«ç§°ä¸ºå¸¸é‡å¼•ç”¨ï¼Œæ‰€ä»¥åœ¨æ­£å¸¸å¼•ç”¨ä¸­ä¸èƒ½åšçš„â€”â€”ä½¿ç”¨å­—é¢å€¼æˆ–è€…è¡¨è¾¾å¼ä½œä¸ºåˆå§‹å€¼ï¼Œç±»å‹ä¸ä¸€è‡´ï¼Œåœ¨constå¼•ç”¨ä¸­éƒ½å¯ä»¥åš\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418214232.png)\n\n#### constä¸æŒ‡é’ˆ\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418214516.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418214614.png)\n\n#### é¡¶å±‚ä¸åº•å±‚const\n\né¡¶å±‚constè¡¨ç¤ºæŒ‡é’ˆæœ¬èº«æ˜¯ä¸ªå¸¸é‡ï¼Œåº•å±‚constè¡¨ç¤ºæŒ‡é’ˆæ‰€æŒ‡çš„å¯¹è±¡æ˜¯ä¸€ä¸ªå¸¸é‡ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œé¡¶å±‚constè¡¨ç¤ºçš„å¯¹è±¡æ˜¯å¸¸é‡ï¼Œæ— æ³•æ”¹å˜ã€‚\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418215607.png)\n\n##### constexpr å’Œå¸¸é‡è¡¨è¾¾å¼\n\nå¸¸é‡è¡¨è¾¾å¼æŒ‡å€¼ä¸ä¼šæ”¹å˜ä¸”åœ¨ç¼–è¯‘è¿‡ç¨‹å°±èƒ½å¾—åˆ°è®¡ç®—ç»“æœçš„è¡¨è¾¾å¼ã€‚\n\n```c++\nconst int max_files = 20; // æ˜¯å¸¸é‡è¡¨è¾¾å¼\nconst int limit = max_files + 1;// æ˜¯å¸¸é‡è¡¨è¾¾å¼\nint staff_size = 27;// ä¸æ˜¯å¸¸é‡è¡¨è¾¾å¼\nconst int sz = get_size();// ä¸æ˜¯å¸¸é‡è¡¨è¾¾å¼\n```\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418220303.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418220655.png)\n\n### å¤„ç†ç±»å‹\n\n#### ç±»å‹åˆ«å\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418220844.png)\n\n#### auto   \n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418221240.png)\n\n#### decltype\n\ndecltype ä½œç”¨æ˜¯é€‰æ‹©å¹¶è¿”å›æ“ä½œæ•°çš„æ•°æ®ç±»å‹ã€‚ç¼–è¯‘å™¨åªåˆ†æè¡¨è¾¾å¼å¾—åˆ°ç±»å‹ï¼Œå´ä¸å®é™…è®¡ç®—è¡¨è¾¾å¼çš„å€¼\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418221458.png)\n\n### æ•°ç»„\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418222613.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418222654.png)\n\nä½¿ç”¨æ•°ç»„ä¸‹æ ‡æ—¶ï¼Œé€šå¸¸å°†å…¶å®šä¹‰ä¸ºsize_tç±»å‹ã€‚\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419093955.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419094201.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419094228.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419094312.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419094545.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419094557.png)\n\nä¸¥æ ¼æ¥è¯´ï¼Œc++æ²¡æœ‰å¤šç»´æ•°ç»„ï¼Œé€šå¸¸è¯´çš„å¤šç»´æ•°ç»„å…¶å®æ˜¯æ•°ç»„çš„æ•°ç»„\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419094706.png)\n\n### è¡¨è¾¾å¼\n\n#### å·¦å€¼å³å€¼\n\nå½“ä¸€ä¸ªå¯¹è±¡è¢«ç”¨ä½œå³å€¼çš„æ—¶å€™ï¼Œç”¨çš„æ˜¯å¯¹è±¡çš„å€¼ï¼ˆå†…å®¹ï¼‰ï¼›å½“å¯¹è±¡è¢«ç”¨ä½œå·¦å€¼çš„æ—¶å€™ï¼Œç”¨çš„æ˜¯å¯¹è±¡çš„èº«ä»½ï¼ˆåœ¨å†…å­˜ä¸­çš„ä½ç½®ï¼‰ã€‚\n\n#### æ±‚å€¼é¡ºåº\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419095331.png)\n\n#### å–ä½™\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419095540.png)\n\n#### ++i è¿˜æ˜¯ i++\n\nå‰ç½®ç‰ˆæœ¬å°†å¯¹è±¡æœ¬èº«ä½œä¸ºå·¦å€¼è¿”å›ï¼Œåç½®ç‰ˆæœ¬åˆ™å°†å¯¹è±¡åŸå§‹å€¼çš„å‰¯æœ¬ä½œä¸ºå³å€¼è¿”å›ã€‚\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419095813.png)\n\n#### æ¡ä»¶è¿ç®—ç¬¦\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419095939.png)\n\n#### ä½è¿ç®—ç¬¦\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419100130.png)\n\n#### sizeof è¿ç®—ç¬¦\n\nsizeof è¿”å›ä¸€æ¡è¡¨è¾¾å¼æˆ–ä¸€ä¸ªç±»å‹åå­—æ‰€å çš„å­—èŠ‚æ•°ã€‚å…¶æ‰€å¾—å€¼æ˜¯ä¸€ä¸ªsize_tç±»å‹çš„å¸¸é‡è¡¨è¾¾å¼ã€‚\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419100642.png)\n\n#### æ˜¾å¼è½¬æ¢\n\n- static_cast: åªè¦ä¸åŒ…å«åº•å±‚constï¼Œå°±å¯ä»¥ç”¨ã€‚å½“éœ€è¦æŠŠä¸€ä¸ªè¾ƒå¤§çš„ç®—æ•°ç±»å‹å¤åˆ¶ç»™è¾ƒå°çš„ç±»å‹æ—¶ï¼ŒåŒæ—¶æˆ‘ä»¬ä¸åœ¨ä¹æ½œåœ¨çš„ç²¾åº¦æŸå¤±ï¼Œstatic_castå°±éå¸¸æœ‰ç”¨ã€‚\n  ![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419104556.png)\n  ![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419132259.png)\n  ![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419132320.png)\n\n- dynamic_cast:è¿è¡Œæ—¶ç±»å‹è¯†åˆ«çš„è¿ç®—ç¬¦ï¼Œç”¨äºå°†åŸºç±»çš„æŒ‡é’ˆæˆ–å¼•ç”¨å®‰å…¨åœ°è½¬åŒ–ä¸ºæ´¾ç”Ÿç±»çš„æŒ‡é’ˆæˆ–å¼•ç”¨ã€‚\n  ![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419132236.png)\n\n- const_cast: å®ƒåªèƒ½æ”¹å˜è¿ç®—å¯¹è±¡çš„åº•å±‚constï¼Œä¸€èˆ¬ç§°å…¶ä¸ºâ€œå»æ‰constæ€§è´¨â€ï¼Œä¸€æ—¦å»æ‰ï¼Œç¼–è¯‘å™¨å°±ä¸å†ç»„ç»‡æˆ‘ä»¬å¯¹è¯¥å¯¹è±¡è¿›è¡Œå†™æ“ä½œäº†ã€‚\n  ![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419105145.png)\n\n- reinterpret_cast: é€šå¸¸ä¸ºè¿ç®—å¯¹è±¡çš„ä½æ¨¡å¼æä¾›è¾ƒä½å±‚æ¬¡çš„é‡æ–°è§£é‡Šã€‚\n  ![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419110344.png)\n```c++\nint* p = new int(65);\nchar* ch = reinterpret_cast<char*> (p);\ncout << *p << endl; // 65\ncout << *ch << endl; // A\ncout << p << endl; // åœ°å€00000249CE417930\ncout << ch << endl; // A\n```\n> ä¸¾ä¸ªä¾‹å­ï¼Œ32ä½ç³»ç»Ÿï¼Œintæ˜¯32ä½ï¼ŒæŒ‡é’ˆä¹Ÿæ˜¯32ä½ï¼Œæˆ‘æ—¢å¯ä»¥æŠŠä¸€ä¸ª32ä½çš„å€¼è§£é‡Šæˆä¸€ä¸ªæ•´æ•°ï¼Œä¹Ÿå¯ä»¥è§£é‡Šæˆä¸€ä¸ªæŒ‡é’ˆã€‚è‡³äºç©¶ç«Ÿèƒ½ä¸èƒ½è¿™æ ·è§£é‡Šï¼Œç”±ç¨‹åºå‘˜è´Ÿè´£ã€‚è€Œreinterpret_castå°±æ˜¯å¹²è¿™ä¸ªäº‹çš„ã€‚\n> [C++ç±»å‹è½¬æ¢ä¹‹reinterpret_cast](https://zhuanlan.zhihu.com/p/33040213)\n\n#### RTTI è¿è¡Œæ—¶ç±»å‹è¯†åˆ«\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419132434.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419132459.png)\n\ntypeid ä½œç”¨äºå¯¹è±¡ï¼Œæˆ‘ä»¬åº”è¯¥ç”¨*bpè€Œébp\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419132655.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419132730.png)\n\n### å‡½æ•°\n\n#### å±€éƒ¨å¯¹è±¡\n\nåå­—æœ‰ä½œç”¨åŸŸã€å¯¹è±¡æœ‰ç”Ÿå‘½å‘¨æœŸã€‚\n\n- åå­—çš„ä½œç”¨åŸŸæ˜¯ç¨‹åºæ–‡æœ¬çš„ä¸€éƒ¨åˆ†ï¼Œåå­—åœ¨å…¶ä¸­å¯è§\n- å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸæ˜¯ç¨‹åºæ‰§è¡Œè¿‡ç¨‹ä¸­è¯¥å¯¹è±¡å­˜åœ¨çš„ä¸€æ®µæ—¶é—´\n\nè‡ªåŠ¨å¯¹è±¡ï¼šæˆ‘ä»¬æŠŠåªå­˜åœ¨äºå—æ‰§è¡ŒæœŸé—´çš„å¯¹è±¡ç§°ä¸ºè‡ªåŠ¨å¯¹è±¡ã€‚å½“å—çš„æ‰§è¡Œç»“æŸåï¼Œå—ä¸­åˆ›å»ºçš„è‡ªåŠ¨å¯¹è±¡çš„å€¼å°±å˜æˆæœªå®šä¹‰çš„äº†ã€‚\n\nå½¢å‚æ˜¯ä¸€ç§è‡ªåŠ¨å¯¹è±¡ã€‚å‡½æ•°å¼€å§‹æ—¶ä¸ºå½¢å‚ç”³è¯·å­˜å‚¨ç©ºé—´ï¼Œå‡½æ•°ä¸€æ—¦ç»ˆæ­¢ï¼Œå½¢å‚å°±è¢«é”€æ¯ã€‚\n\nå±€éƒ¨é™æ€å¯¹è±¡ï¼šåœ¨ç¨‹åºçš„ç¬¬ä¸€æ¬¡æ‰§è¡Œåˆå§‹åŒ–ï¼Œç›´åˆ°ç¨‹åºç»ˆæ­¢æ‰é”€æ¯ã€‚åœ¨æ­¤æœŸé—´ï¼Œå³ä½¿å¯¹è±¡æ‰€åœ¨çš„å‡½æ•°ç»“æŸæ‰§è¡Œä¹Ÿä¸ä¼šå¯¹å®ƒæœ‰æ‰€å½±å“ã€‚\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230421105708.png)\n\n#### ä¼ å€¼å‚æ•°\n\nå½¢å‚åˆå§‹åŒ–çš„åŸç†ä¸å˜é‡åˆå§‹åŒ–ä¸€æ ·ã€‚\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230421110256.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230421110522.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230421110618.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230421110649.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230421110735.png)\n\n**å«æœ‰å¯å˜å½¢å‚çš„å‡½æ•°** ï¼š \n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230421110825.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230421110855.png)\n\n#### å‡½æ•°è¿”å›å€¼\n\nä¸è¦è¿”å›å±€éƒ¨å¯¹è±¡çš„å¼•ç”¨æˆ–æŒ‡é’ˆï¼šå‡½æ•°å®Œæˆåï¼Œå®ƒæ‰€å ç”¨çš„å­˜å‚¨ç©ºé—´ä¹Ÿéšä¹‹è¢«é‡Šæ”¾æ‰ã€‚å› æ­¤ï¼Œå‡½æ•°ç»ˆæ­¢æ„å‘³ç€å±€éƒ¨å˜é‡çš„å¼•ç”¨å°†æŒ‡å‘ä¸å†æœ‰æ•ˆçš„å†…å­˜åŒºåŸŸã€‚\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230421111054.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230421111845.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230421111856.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230421111906.png)\n\n#### å‡½æ•°é‡è½½\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230421112312.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230421112244.png)\n\n#### å†…è”å‡½æ•°\n\nå†…è”å‡½æ•°å¯é¿å…å‡½æ•°è°ƒç”¨çš„å¼€é”€ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œå†…è”æœºåˆ¶ç”¨äºä¼˜åŒ–è§„æ¨¡è¾ƒå°ï¼Œæµç¨‹ç›´æ¥ï¼Œé¢‘ç¹è°ƒç”¨çš„å‡½æ•°ã€‚å°±æ¯”å¦‚è¯´ï¼Œè°ƒç”¨å‡½æ•°æ¯”å‡½æ•°æ‰§è¡Œæ—¶é—´é•¿ï¼Œç”¨å†…è”å‡½æ•°å°±è¡Œäº†ã€‚\n\n#### constexpr å‡½æ•°\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230421125221.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230421125231.png)\n\n#### å®å‚ç±»å‹è½¬æ¢\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230421125357.png)\n\n#### å‡½æ•°æŒ‡é’ˆ\n\næ„Ÿè§‰ç±»ä¼¼äºc#çš„å§”æ‰˜ï¼Œåƒæ˜¯ç»™ä¸€ä¸ªå‡½æ•°çš„åˆ«å\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230421130122.png)\n\n### åˆæ­¥æ¢ç´¢ç±»\n\n#### constæˆå‘˜å‡½æ•°\n\nå¸¸é‡å¯¹è±¡ã€ä»¥åŠå¸¸é‡å¯¹è±¡çš„å¼•ç”¨æˆ–æŒ‡é’ˆéƒ½åªèƒ½è°ƒç”¨å¸¸é‡æˆå‘˜å‡½æ•°ã€‚\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230422204832.png)\n\nç®€å•æ¥è¯´ï¼Œå°±æ˜¯è®©è¯¥å‡½æ•°çš„æƒé™ä¸ºåªè¯»ï¼Œä¹Ÿå°±æ˜¯è¯´æ²¡æ³•å»æ”¹å˜æˆå‘˜å‡½æ•°çš„å€¼ã€‚\nåŒæ—¶ï¼Œå¦‚æœä¸€ä¸ªå¯¹è±¡ä¸ºconstï¼Œå®ƒåªæœ‰æƒåŠ›è°ƒç”¨constå‡½æ•°ï¼Œå› ä¸ºæˆå‘˜å˜é‡ä¸èƒ½æ”¹å˜ã€‚\n\n#### æ„é€ å‡½æ•°\n\nä¸åŒäºå…¶ä»–å‡½æ•°ï¼Œæ„é€ å‡½æ•°ä¸èƒ½è¢«å£°æ˜æˆconstã€‚\n\nå¦‚æœæˆ‘ä»¬çš„ç±»æ²¡æœ‰æ˜¾å¼åœ°å®šä¹‰æ„é€ å‡½æ•°ï¼Œé‚£ä¹ˆç¼–è¯‘å™¨å°±ä¼šä¸ºæˆ‘ä»¬éšå¼åœ°å®šä¹‰ä¸€ä¸ªé»˜è®¤æ„é€ å‡½æ•°ã€‚åˆç§°ä¸ºåˆæˆé»˜è®¤æ„é€ å‡½æ•°ï¼ŒæŒ‰ç…§ä¸€ä¸‹è§„åˆ™åˆå§‹åŒ–ç±»åœ°æ•°æ®æˆå‘˜\n\n- å¦‚æœå­˜åœ¨ç±»å†…çš„åˆå§‹å€¼ï¼Œå°±ç”¨å®ƒæ¥åˆå§‹åŒ–æˆå‘˜\n- å¦åˆ™ï¼Œé»˜è®¤åˆå§‹åŒ–è¯¥æˆå‘˜ã€‚\n\næŸäº›ç±»ä¸èƒ½ä¾èµ–äºåˆæˆçš„é»˜è®¤æ„é€ å‡½æ•°ï¼ŒåŸå› å¦‚ä¸‹ï¼š\n\n- å¯¹äºä¸€ä¸ªæ™®é€šçš„ç±»æ¥è¯´ï¼Œå¿…é¡»å®šä¹‰å®ƒè‡ªå·±çš„é»˜è®¤æ„é€ å‡½æ•°ã€‚åªæœ‰ç±»ä¸åŒ…å«ä»»ä½•æ„é€ å‡½æ•°çš„æƒ…å†µä¸‹æ‰ä¼šè‡ªåŠ¨ç”Ÿæˆé»˜è®¤æ„é€ å‡½æ•°ã€‚\n- å¯¹äºæŸäº›ç±»æ¥è¯´ï¼Œåˆæˆçš„é»˜è®¤æ„é€ å‡½æ•°å¯èƒ½æ‰§è¡Œé”™è¯¯çš„æ“ä½œã€‚å¦‚æœå®šä¹‰åœ¨å—ä¸­çš„å†…ç½®ç±»å‹æˆ–å¤åˆç±»å‹ï¼ˆæ•°ç»„å’ŒæŒ‡é’ˆï¼‰è¢«é»˜è®¤åˆå§‹åŒ–ï¼Œåˆ™å®ƒä»¬çš„å€¼å°†æ˜¯æœªå®šä¹‰çš„ã€‚\n- å¦‚æœç±»ä¸­åŒ…å«ä¸€ä¸ªå…¶ä»–ç±»ç±»å‹çš„æˆå‘˜ä¸”è¿™ä¸ªæˆå‘˜æ²¡æœ‰é»˜è®¤æ„é€ å‡½æ•°ï¼Œé‚£ä¹ˆç¼–è¯‘å™¨å°†æ— æ³•åˆå§‹åŒ–è¯¥æˆå‘˜ã€‚\n\n= defaultï¼Œå³è¦æ±‚ç¼–è¯‘å™¨ç”Ÿæˆé»˜è®¤æ„é€ å‡½æ•°ï¼Œå¦‚æœåœ¨ç±»çš„å†…éƒ¨ï¼Œé»˜è®¤æ˜¯å†…è”çš„ï¼Œå¦‚æœåœ¨ç±»çš„å¤–éƒ¨ï¼Œé»˜è®¤ä¸æ˜¯å†…è”çš„ã€‚\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230422211706.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230422211751.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230422211833.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230422212543.png)\n\n#### å‹å…ƒ\n\nç±»å¯ä»¥å…è®¸å…¶ä»–ç±»æˆ–è€…å‡½æ•°è®¿é—®å®ƒçš„éå…¬æœ‰æˆå‘˜ï¼Œæ–¹æ³•æ˜¯ä»¤å…¶ä»–ç±»æˆ–è€…å‡½æ•°æˆä¸ºå®ƒçš„å‹å…ƒã€‚\n\nå‹å…ƒå£°æ˜åªèƒ½å‡ºç°åœ¨ç±»å®šä¹‰çš„å†…éƒ¨ï¼Œä½†æ˜¯åœ¨ç±»å†…å‡ºç°çš„å…·ä½“ä½ç½®ä¸é™ã€‚å‹å…ƒä¸æ˜¯ç±»çš„æˆå‘˜ä¹Ÿä¸å—å®ƒæ‰€åœ¨åŒºåŸŸè®¿é—®æ§åˆ¶çº§åˆ«çš„çº¦æŸã€‚ä¸€èˆ¬æ¥è¯´ï¼Œæœ€å¥½å®šä¹‰åœ¨ç±»å¼€å§‹çš„ä½ç½®æˆ–è€…ç»“æŸçš„ä½ç½®ã€‚\n\nå‹å…ƒä»…ä»…æŒ‡å®šäº†è®¿é—®æƒé™ï¼Œå¦‚æœå¸Œæœ›ç±»èƒ½å¤Ÿè°ƒç”¨æŸä¸ªå‹å…ƒå‡½æ•°ï¼Œé‚£ä¹ˆå¿…é¡»åœ¨å‹å…ƒå£°æ˜ä¹‹å¤–åœ¨ä¸“é—¨å¯¹å‡½æ•°å®šä¹‰ä¸€æ¬¡ã€‚\n\n#### ç±»çš„inline\n\nåœ¨ç±»ä¸­ï¼Œå¸¸æœ‰ä¸€äº›è§„æ¨¡è¾ƒå°çš„å‡½æ•°é€‚åˆè¢«å£°æ˜å†…è”å‡½æ•°ï¼Œå®šä¹‰åœ¨ç±»å†…éƒ¨çš„æˆå‘˜å‡½æ•°æ˜¯è‡ªåŠ¨inlineçš„ã€‚\n\n#### å¯å˜æ•°æ®æˆå‘˜\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230422211331.png)\n\n#### ç±»çš„é™æ€æˆå‘˜\n\n\nç±»çš„é™æ€æˆå‘˜å­˜åœ¨ä»»ä½•å¯¹è±¡ä¹‹å¤–ï¼Œå¯¹è±¡ä¸­ä¸åŒ…å«ä»»ä½•äºé™æ€æ•°æ®æˆå‘˜æœ‰å…³çš„æ•°æ®ã€‚é™æ€æˆå‘˜å‡½æ•°ä¹Ÿä¸äºˆä»»ä½•å¯¹è±¡ç»‘å®šåœ¨ä¸€èµ·ï¼Œå®ƒä»¬ä¸åŒ…å«thisæŒ‡é’ˆã€‚åŒæ—¶ï¼Œé™æ€æˆå‘˜å‡½æ•°ä¸èƒ½å£°æ˜æˆconstï¼Œä¹Ÿä¸èƒ½åœ¨é‡Œé¢è°ƒç”¨thisæŒ‡é’ˆã€‚\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230422213444.png)\n\n### c++æ ‡å‡†åº“\n\n#### é¡ºåºå®¹å™¨\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425195814.png)\n\né¡ºåºå®¹å™¨çš„é€‰æ‹©ï¼š\n\n- é€šå¸¸é€‰æ‹©vector\n- æœ‰å¾ˆå¤šå°å…ƒç´ ï¼Œç©ºé—´é¢å¤–å¼€é”€å¾ˆé‡è¦ï¼Œä¸è¦ç”¨listæˆ–forward_list\n- éšæœºè®¿é—®å…ƒç´ ï¼Œç”¨vector æˆ– deque\n- åœ¨ä¸­é—´æ’å…¥æˆ–åˆ é™¤å…ƒç´ ï¼Œåº”ä½¿ç”¨listæˆ–forward_list\n- å¤´å°¾æ’å…¥æˆ–åˆ é™¤å…ƒç´ ï¼Œç”¨deque\n- å¦‚æœåªæœ‰åœ¨è¾“å…¥æ—¶è¸©åœ¨ä¸­é—´ä½ç½®æ’å…¥å…ƒç´ ï¼Œéšåéœ€è¦éšæœºè®¿é—®ï¼šè€ƒè™‘è¾“å…¥é˜¶æ®µç”¨listï¼Œè¾“å…¥å®Œæˆåæ‹·è´åˆ°vector\n- åˆè¦éšæœºè®¿é—®ï¼Œåˆè¦åœ¨ä¸­é—´ä½ç½®æ’å…¥å…ƒç´ ï¼Œçœ‹è®¿é—®æ“ä½œå¤šè¿˜æ˜¯æ’å…¥/åˆ é™¤å…ƒç´ æ“ä½œå¤š\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425200215.png)\n\n#### å®¹å™¨è¿­ä»£å™¨\n\nbeginæŒ‡å‘ç¬¬ä¸€ä¸ªå…ƒç´ ï¼ŒendæŒ‡å‘æœ€åä¸€ä¸ªå…ƒç´ ä¹‹åçš„ä½ç½®é€šå¸¸ç§°ä¸ºå·¦é—­å³åˆåŒºé—´ã€‚å³[begin,end)\n\n- å¦‚æœbegin == end è¯´æ˜è¯¥èŒƒå›´ä¸ºç©º\n- å¦‚æœbegin != end è¯´æ˜è‡³å°‘åŒ…å«ä¸€ä¸ªå…ƒç´ ï¼Œä¸”beginæŒ‡å‘è¯¥èŒƒå›´ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ \n- beginå¯ä»¥é€’å¢ï¼Œä½¿å¾—begin == end\n\n```c++\nwhile(begin!=end){\n  *begin = val;\n  ++begin;\n}\n```\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425200629.png)\n\nå½“ä¸éœ€è¦å†™è®¿é—®çš„æ—¶å€™ï¼Œåº”è¯¥ä½¿ç”¨cbeginå’Œcend\n\n#### å®¹å™¨å®šä¹‰å’Œåˆå§‹åŒ–\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425200725.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425200822.png)\n\n#### èµ‹å€¼å’Œswap\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425200902.png)\n\nassign ç›¸å¯¹äºèµ‹å€¼è¿ç®—ç¬¦(=)å…è®¸ä»ä»¥ä¸€ä¸ªä¸åŒä½†ç›¸å®¹çš„ç±»å‹èµ‹å€¼ï¼ˆæ¯”å¦‚char* å’Œ stringï¼‰ï¼Œæˆ–è€…ä»å®¹å™¨çš„ä¸€ä¸ªå­åºåˆ—èµ‹å€¼ã€‚assignæ“ä½œç”¨æ‰€æŒ‡å®šçš„å…ƒç´ çš„æ‹·è´æ›¿æ¢å®¹å™¨ä¸­çš„æ‰€æœ‰å…ƒç´ ã€‚\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425201049.png)\n\nswapæ“ä½œäº¤æ¢ä¸¤ä¸ªç›¸åŒç±»å‹çš„å†…å®¹ï¼Œä¿è¯æ“ä½œå¾ˆå¿«ï¼Œå…ƒç´ æœ¬èº«æœªè¢«äº¤æ¢ï¼Œåªæ˜¯äº¤æ¢äº†ä¸¤ä¸ªå®¹å™¨çš„å†…éƒ¨æ•°æ®ç»“æ„ã€‚\nå…ƒç´ ä¸ä¼šè¢«ç§»åŠ¨æ„å‘³ç€ï¼Œé™¤stringå¤–æŒ‡å‘å®¹å™¨çš„è¿­ä»£å™¨ã€å¼•ç”¨æŒ‡é’ˆåœ¨swapåéƒ½ä¸ä¼šå¤±æ•ˆï¼Œé™¤äº†stringã€‚\nä¸å…¶ä»–å®¹å™¨ä¸åŒï¼Œswapä¸¤ä¸ªarrayä¼šçœŸæ­£åœ°äº¤æ¢å…ƒç´ ã€‚\n\n#### å®¹å™¨æ¯”è¾ƒ\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425201329.png)\n\n#### æ·»åŠ å…ƒç´ \n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425201416.png)\n\n- push_backã€push_frontã€insert:æ”¾å…¥åˆ°å®¹å™¨ä¸­çš„å…ƒç´ æ—¶å¯¹è±¡å€¼åœ°ä¸€ä¸ªæ‹·è´è€Œä¸æ˜¯å¯¹è±¡æœ¬èº«ã€‚\n- emplaceæ“ä½œ:åˆ™æ˜¯å°†å‚æ•°ä¼ é€’ç»™å…ƒç´ ç±»å‹çš„æ„é€ å‡½æ•°ï¼Œç›´æ¥åœ¨å®¹å™¨ç®¡ç†çš„å†…å­˜ç©ºé—´ä¸­ç›´æ¥æ„é€ å…ƒç´ ï¼Œå‚æ•°å¿…é¡»ä¸å…ƒç´ ç±»å‹çš„æ„é€ å‡½æ•°ç›¸åŒ¹é…ã€‚\n\n#### è®¿é—®å…ƒç´ \n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425201920.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425202108.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425202245.png)\n\n#### åˆ é™¤å…ƒç´ \n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425202408.png)\n\n#### æ”¹å˜å®¹å™¨å¤§å°\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425202449.png)\n\n#### string æ“ä½œ\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425202540.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425202609.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425202654.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425202711.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425202727.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425202750.png)\n\n#### å®¹å™¨é€‚é…å™¨\n\nä¹Ÿå°±æ˜¯è®©å®¹å™¨çœ‹èµ·æ¥åƒä¸€ç§ä¸åŒçš„ç±»å‹ï¼Œæ¯”å¦‚è¯´queueæ˜¯åŸºäºdequeå®ç°çš„ã€‚æ¯”è¾ƒå¸¸è§çš„æ—¶stackï¼Œqueue,priority_queueã€‚\n\n### æ³›å‹ç®—æ³•\n\nç®—æ³•æ°¸è¿œä¸ä¼šæ”¹å˜åº•å±‚å®¹å™¨çš„å¤§å°ï¼Œå¯èƒ½æ”¹å˜å€¼ï¼Œå¯èƒ½ç§»åŠ¨å…ƒç´ ï¼Œä½†æ°¸è¿œä¸ä¼šæ·»åŠ æˆ–åˆ é™¤å…ƒç´ \n\n```c++\n// åªè¯»ç®—æ³•\nint *result = find(vec.begin(),vec.end(),val);//æŸ¥æ‰¾ç®—æ³•\nint result = count(vec.begin(),vec.end(),val);// ç»Ÿè®¡ä¸ªæ•°\nint result = accumulate(v.cbegin(),vec.cend(),0);// æ±‚å’Œã€å’Œçš„åˆå€¼è®¾ç½®ä¸º0\nstring result = accumulate(v.cbegin(),vec.cend(),\"\"); // å°†vecçš„æ¯ä¸ªå…ƒç´ è¿èµ·æ¥\nbool result = equal(vec.cbegin(),vec.cend(),other.cbegin());// æ¯”è¾ƒç®—æ³•ï¼Œç¡®å®šä¸¤ä¸ªåºåˆ—æ˜¯å¦ä¿å­˜ç›¸åŒçš„å€¼ï¼ŒåŸºäºä¸¤ä¸ªåºåˆ—ç›¸ç­‰çš„å‡è®¾ã€‚\n\n// å†™ç®—æ³•\nfill(vec.begin(),vec.end());// å°†å…ƒç´ é‡ç½®ä¸º0\nfill(vec.begin(),vec.begin() + vec.size()/2,10);//å°†å­åºåˆ—éƒ½èµ‹ä¸º10\nfill_n(vec.begin(),vec.size(),0); // ä¸fillç¨å¾®ä¸åŒï¼Œæ˜¯ä»vec.beginå¼€å§‹å°†vec.size()ä¸ªå…ƒç´ å˜ä¸º0ã€‚\n// è¦æ³¨æ„çš„æ˜¯ï¼Œfill_nå‡å®šbeginæŒ‡å®šä¸€ä¸ªå…ƒç´ ï¼Œä»beginå¼€å§‹çš„åºåˆ—è‡³å°‘åŒ…å«vec.size()ä¸ªå…ƒç´ ï¼Œå®¹æ˜“çŠ¯çš„é”™è¯¯å°±æ˜¯åœ¨ç©ºå®¹å™¨è°ƒç”¨fill_n\nauto ret = copy(vec.begin(),vec.end(),vec2);// å°†vecæ‹·è´åˆ°vec2ä¸­ï¼Œè¿”å›ç›®çš„ä½ç½®è¿­ä»£å™¨å³vec2ä¸ºå…ƒç´ ä¹‹åçš„ä½ç½®\nreplace(a.begin(),a.end(),0,42);//å°†0å˜ä¸º42\nreplace_copy(a.cbegin(),a.cend(),back_inserter(b),0,42);//å°†aæ‹·è´åˆ°bä½†æ˜¯æ‹·è´æ—¶0éƒ½ç¼–ç¨‹42\n\n// é‡æ’å…ƒç´ ç®—æ³•\nsort(a.begin(),a.end());// ä»å°åˆ°å¤§æ’åº\nauto end_unique = unique(a.begin(),a.end());//æ’åˆ—èŒƒå›´çš„å…ƒç´ ï¼ŒæŒ‡å‘ä¸é‡å¤åŒºåŸŸä¹‹åä¸€ä¸ªä½ç½®çš„è¿­ä»£å™¨\n\n```\n\n#### lambadaè¡¨è¾¾å¼ä¸æ³›å‹ç®—æ³•\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425205348.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425205429.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425205447.png)\n\n```c++\nvoid biggies(vector<string> &words.vector<string>::size_type sz)\n{\n  elimDups(words);//å°†wordsæŒ‰å­—å…¸åºæ’åºï¼Œåˆ é™¤é‡å¤å•è¯\n  stable_sort(words.begin(),words.end(),[](const string &a,const string &b){return a.size() < b.size()});\n  auto wc = find_if(words.begin(),words.end(),[sz](const string &a){return a.size() >= sz});\n  auto count = words.end() - wc;\n  for_each(wc,words.end(),[](const string &s){cout<< s << \" \"});\n}\n```\n\n#### lambada æ•è·\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425211551.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425211902.png)\n\n### åŠ¨æ€å†…å­˜å’Œæ™ºèƒ½æŒ‡é’ˆ\n\nç¨‹åºä½¿ç”¨åŠ¨æ€å†…å­˜çš„åŸå› ï¼š1.ç¨‹åºä¸çŸ¥é“è‡ªå·±éœ€è¦ä½¿ç”¨å¤šå°‘å¯¹è±¡ã€‚ 2.ç¨‹åºä¸çŸ¥é“æ‰€éœ€å¯¹è±¡çš„å‡†ç¡®ç±»å‹ã€‚ 3.ç¨‹åºéœ€è¦åœ¨å¤šä¸ªå¯¹è±¡é—´å…±äº«æ•°æ®ã€‚\nåŠ¨æ€å†…å­˜å¾ˆéš¾ä½¿ç”¨ï¼Œæœ‰æ—¶å€™ä¼šå¿˜è®°é‡Šæ”¾å†…å­˜ï¼Œè¿™æ—¶ä¼šäº§ç”Ÿå†…å­˜æ³„æ¼ï¼›æœ‰æ—¶æŒ‡é’ˆå¼•ç”¨å†…å­˜çš„æƒ…å†µä¸‹æŒ‡é’ˆå·²ç»è¢«é‡Šæ”¾è¿™æ—¶ä¼šäº§ç”Ÿå¼•ç”¨éæ³•å†…å­˜çš„æŒ‡é’ˆã€‚\n\n#### shared_ptr\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230501202449.png)\n\né»˜è®¤åˆå§‹åŒ–çš„æ™ºèƒ½æŒ‡é’ˆä¿å­˜ä¸€ä¸ªç©ºæŒ‡é’ˆ\n\n```c++\nshared_ptr<string> p1;// åˆå§‹åŒ–æ–¹å¼ä¸vectorä¸€æ ·\nif(p1 && p1->empty())\n  *p1 = \"hi\"\n// å¦‚æœp1ä¸ä¸ºç©ºï¼Œæ£€æŸ¥å®ƒæ˜¯å¦æŒ‡å‘ä¸€ä¸ªç©ºstring\n```\n\næœ€å®‰å…¨çš„åˆ†é…å’Œä½¿ç”¨åŠ¨æ€å†…å­˜çš„æ–¹æ³•æ˜¯è°ƒç”¨ä¸€ä¸ªåä¸ºmake_sharedçš„æ ‡å‡†åº“å‡½æ•°ã€‚æ­¤å‡½æ•°åœ¨åŠ¨æ€å†…å­˜ä¸­åˆ†é…ä¸€ä¸ªå¯¹è±¡å¹¶åˆå§‹åŒ–å®ƒï¼Œè¿”å›æŒ‡å‘æ­¤å¯¹è±¡çš„shared_ptr\n\n```c++\n// æŒ‡å‘ä¸€ä¸ªå€¼ä¸º42çš„intçš„shared_ptr\nshared_ptr<int> p3 = make_shared<int>(42);\n// æŒ‡å‘ä¸€ä¸ªå€¼ä¸º\"9999999999\"çš„string\nshared_ptr<string> p4 = make_shared<string>(10,'9');\n// æŒ‡å‘ä¸€ä¸ªå€¼åˆå§‹åŒ–çš„intï¼Œå³ä¸º0\nshared_ptr<int> p5 = make_shared<int>();\n\n// ç±»ä¼¼äºvectorçš„emplaceï¼Œä¼ é€’å‚æ•°ç±»å‹å¿…é¡»ç›¸å¯¹åº”ï¼Œä¸ä¼ é€’çš„è¯å°±ä¼šè¿›è¡Œå€¼åˆå§‹åŒ–ï¼Œé€šå¸¸ç”¨autoæ¥ä¿å­˜\n\nauto p6 = make_shared<int>();\n```\n\nå½“è¿›è¡Œæ‹·è´æˆ–èµ‹å€¼æ“ä½œæ—¶ï¼Œæ¯ä¸ªshared_ptréƒ½ä¼šè®°å½•æœ‰å¤šå°‘ä¸ªå…¶ä»–shared_ptræŒ‡å‘ç›¸åŒçš„å¯¹è±¡ã€‚\næ¯ä¸ªshared_ptréƒ½æœ‰ä¸€ä¸ªå…³è”çš„è®¡æ•°å™¨ï¼Œé€šå¸¸ç§°ä¸º**å¼•ç”¨è®¡æ•°**ã€‚å½“æˆ‘ä»¬ç”¨ä¸€ä¸ªshared_ptrå»åˆå§‹åŒ–å¦ä¸€ä¸ªshared_ptrï¼Œæˆ–è€…ä½œä¸ºå‚æ•°ä¼ é€’ç»™å‡½æ•°ï¼Œæˆ–è€…ä½œä¸ºå‡½æ•°è¿”å›å€¼ï¼Œæ‰€å…³è”çš„è®¡æ•°å™¨éƒ½ä¼š**é€’å¢**ã€‚èµ‹äºˆä¸€ä¸ªæ–°å€¼ï¼Œæˆ–è€…shared_ptré”€æ¯ï¼ˆæ¯”å¦‚ç¦»å¼€ä½œç”¨åŸŸï¼‰è®¡æ•°å™¨é€’å‡ã€‚ä¸€æ—¦ä¸€ä¸ªshared_ptrè®¡æ•°å™¨å˜ä¸º0ï¼Œä¼šè‡ªåŠ¨é‡Šæ”¾è‡ªå·±æ‰€ç®¡ç†çš„å¯¹è±¡\n\n```c++\nauto r = make_shared<int>(42);\nr = q;// ç»™ r èµ‹å€¼è®©å®ƒæŒ‡å‘å¦ä¸€ä¸ªåœ°å€\n// é€’å¢ q æŒ‡å‘å¯¹è±¡çš„å¼•ç”¨è®¡æ•°\n// é€’å‡ r åŸæ¥æŒ‡å‘å¯¹è±¡çš„å¼•ç”¨è®¡æ•°\n// r åŸæ¥æŒ‡å‘çš„å¯¹è±¡æ²¡æœ‰å¼•ç”¨è€…ï¼Œè‡ªåŠ¨é‡Šæ”¾\n```\n\n#### ç›´æ¥ç®¡ç†å†…å­˜\n\nnew åˆ†é…å†…å­˜ï¼Œdeleteé‡Šæ”¾newåˆ†é…çš„å†…å­˜\n\n```c++\nint *pi = new int; // é»˜è®¤åˆå§‹åŒ–ï¼Œ*piçš„å€¼æœªå®šä¹‰\nint *pi1 = new int(); // å€¼åˆå§‹åŒ–ï¼Œ*pi1ä¸º0\nint *pi2 = new int(1024); // pi2æŒ‡å‘çš„å¯¹è±¡çš„å€¼ä¸º1024\nconst int *pci = new const int(1024);// åˆ†é…å¹¶åˆå§‹åŒ–ä¸€ä¸ªconst int\nconst string *pcs = new const string;// åˆ†é…å¹¶é»˜è®¤åˆå§‹åŒ–ä¸€ä¸ªconst çš„ç©ºstring\n// ä¸€ä¸ªåŠ¨æ€åˆ†é…çš„constå¯¹è±¡å¿…é¡»åˆå§‹åŒ–\n// å¯¹äºä¸€ä¸ªå®šä¹‰äº†é»˜è®¤æ„é€ å‡½æ•°çš„ç±»ç±»å‹\n// å…¶conståŠ¨æ€å¯¹è±¡å¯ä»¥éšå¼åˆå§‹åŒ–\n// è€Œå…¶ä»–ç±»å‹å¯¹è±¡å°±å¿…é¡»æ˜¾å¼åˆå§‹åŒ–\n// ç”±äºåˆ†é…å¯¹è±¡æ˜¯constï¼Œnewè¿”å›çš„æŒ‡é’ˆæ˜¯ä¸€ä¸ªæŒ‡å‘constçš„æŒ‡é’ˆ\n\n// å¦‚æœå†…å­˜ä¸å¤Ÿç”¨ï¼Œå†…å­˜åˆ†é…å¤±è´¥\nint *p1 = new int;// newæŠ›å‡ºstd::bad_alloc\nint *p2 = new (nothrow) int;// new è¿”å›ä¸€ä¸ªç©ºæŒ‡é’ˆ\n```\n\ndeleteåšä¸¤æ­¥ï¼šé”€æ¯ç»™å®šæŒ‡é’ˆæŒ‡å‘çš„å¯¹è±¡;é‡Šæ”¾å¯¹åº”çš„å†…å­˜\n\n```c++\nint i;\nint *pi1 = &i;\nint *pi2 = nullptr;\ndouble *pd = new double(33);\ndouble *pd2 = pd;\ndelete i;// é”™è¯¯ï¼Œiä¸æ˜¯æŒ‡é’ˆ\ndelete pi1;// æœªå®šä¹‰,piæŒ‡å‘ä¸€ä¸ªå±€éƒ¨å˜é‡\ndelete pd;// æ­£ç¡®\ndelete pd2;// æœªå®šä¹‰ï¼Œpd2æŒ‡å‘çš„å†…å­˜å·²ç»è¢«é‡Šæ”¾äº†\ndelete pi2;// æ­£ç¡®ï¼Œé‡Šæ”¾ä¸€ä¸ªç©ºæŒ‡é’ˆæ²¡æœ‰é”™è¯¯\n```\n\nç”±å†…ç½®æŒ‡é’ˆç®¡ç†çš„åŠ¨æ€å†…å­˜åœ¨è¢«æ˜¾å¼é‡Šæ”¾(delete)å‰ä¸€ç›´éƒ½ä¼šå­˜åœ¨\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230501205622.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230501205711.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230501210052.png)\n\n#### unique_ptr\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230501210525.png)\n\n- ä¸shared_pträ¸åŒï¼ŒæŸä¸ªæ—¶åˆ»**åªèƒ½æœ‰ä¸€ä¸ªunique_ptræŒ‡å‘ä¸€ä¸ªç»™å®šå¯¹è±¡**ã€‚å½“unique_ptrè¢«é”€æ¯æ—¶ï¼Œæ‰€æŒ‡å‘çš„å¯¹è±¡ä¹Ÿè¢«é”€æ¯ã€‚\n- ä¸shared_pträ¸åŒï¼Œæ²¡æœ‰ç±»ä¼¼make_sharedçš„æ ‡å‡†åº“å‡½æ•°ï¼Œå®šä¹‰unique_ptræ—¶ï¼Œ**éœ€è¦å°†å…¶ç»‘å®šåˆ°ä¸€ä¸ªnewè¿”å›çš„æŒ‡é’ˆä¸Š**ã€‚\n- ç”±äºä¸€ä¸ªunique_ptræ‹¥æœ‰æ‰€æŒ‡å‘çš„å¯¹è±¡ï¼Œæ‰€ä»¥**ä¸æ”¯æŒæ™®é€šçš„æ‹·è´æˆ–èµ‹å€¼æ“ä½œ**ã€‚\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230501210603.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230501210639.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230501210650.png)\n\n#### weak_ptr\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230501210929.png)\n\nweak_ptræ˜¯ä¸€ç§ä¸æ§åˆ¶æ‰€æŒ‡å‘å¯¹è±¡ç”Ÿå­˜æœŸçš„æ™ºèƒ½æŒ‡é’ˆï¼Œå®ƒæŒ‡å‘ç”±ä¸€ä¸ªshared_ptrç®¡ç†çš„å¯¹è±¡ã€‚å°†ä¸€ä¸ªweak_ptrç»‘å®šåˆ°ä¸€ä¸ªshared_pträ¸ä¼šæ”¹å˜å¼•ç”¨è®¡æ•°ã€‚ä¸€æ—¦æœ€åä¸€ä¸ªæŒ‡å‘å¯¹è±¡çš„shared_ptrè¢«é”€æ¯ï¼Œå¯¹è±¡å°±ä¼šè¢«é‡Šæ”¾ã€‚å³ä½¿æœ‰weak_ptræŒ‡å‘å¯¹è±¡ï¼Œå¯¹è±¡ä¹Ÿè¿˜æ˜¯ä¼šè¢«é‡Šæ”¾ã€‚\n\n```c++\n// åˆ›å»ºä¸€ä¸ªweak_ptræ—¶ï¼Œè¦ç”¨ä¸€ä¸ªshared_ptræ¥åˆå§‹åŒ–å®ƒ\nauto p = make_shared<int>(42);\nweak_ptr<int> wp(p); \n\n// ç”±äºå¯¹è±¡å¯èƒ½ä¸å­˜åœ¨ï¼Œä¸èƒ½ä½¿ç”¨weak_ptrç›´æ¥è®¿é—®å¯¹è±¡\n// è€Œå¿…é¡»è°ƒç”¨lockï¼Œæ­¤å‡½æ•°æ£€æŸ¥weak_ptræ‰€æŒ‡å¯¹è±¡æ˜¯å¦ä»ç„¶å­˜åœ¨\nif(shared_ptr<int> np = wp.lock)\n{\n  //åœ¨ifä¸­ï¼Œnpä¸på…±äº«å¯¹è±¡\n}\n```\n\n### æ‹·è´æ§åˆ¶\n\n#### æ‹·è´æ„é€ å‡½æ•°\n\nå¦‚æœä¸€ä¸ª**æ„é€ å‡½æ•°**çš„**ç¬¬ä¸€ä¸ªå‚æ•°**æ˜¯**è‡ªèº«ç±»ç±»å‹**çš„å¼•ç”¨ï¼Œä¸”ä»»ä½•é¢å¤–é»˜è®¤å‚æ•°éƒ½æœ‰é»˜è®¤å€¼ï¼Œåˆ™ä¸ºæ‹·è´æ„é€ å‡½æ•°ã€‚\n\n```c++\nclass Foo{\npublic:\n  Foo();// é»˜è®¤æ„é€ å‡½æ•°\n  Foo(const Foo&);// æ‹·è´æ„é€ å‡½æ•°\n};\n```\n\nå¦‚æœæˆ‘ä»¬æ²¡æœ‰ä¸ºä¸€ä¸ªç±»å®šä¹‰æ‹·è´æ„é€ å‡½æ•°ï¼Œç¼–è¯‘å™¨ä¼šä¸ºæˆ‘ä»¬æ„é€ ä¸€ä¸ªã€‚ä¸åˆæˆé»˜è®¤æ„é€ å‡½æ•°ä¸åŒï¼Œå³ä½¿æˆ‘ä»¬å®šä¹‰äº†å…¶ä»–æ„é€ å‡½æ•°ï¼Œç¼–è¯‘å™¨ä¹Ÿä¼šä¸ºæˆ‘ä»¬åˆæˆä¸€ä¸ªæ‹·è´æ„é€ å‡½æ•°ã€‚ç¼–è¯‘å™¨ä»ç»™å®šå¯¹è±¡ä¸­ä¾æ¬¡å°†æ¯ä¸ªéstaticæˆå‘˜æ‹·è´åˆ°æ­£åœ¨åˆ›å»ºçš„å¯¹è±¡ä¸­ã€‚\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230506195211.png)\n\n**ç›´æ¥åˆå§‹åŒ–**ï¼šå®é™…ä¸Šæ˜¯è¦æ±‚ç¼–è¯‘å™¨ä½¿ç”¨æ™®é€šçš„å‡½æ•°åŒ¹é…æ¥é€‰æ‹©ä¸æˆ‘ä»¬æä¾›çš„å‚æ•°æœ€åŒ¹é…çš„æ„é€ å‡½æ•°ã€‚\n\n**æ‹·è´åˆå§‹åŒ–**ï¼šæˆ‘ä»¬è¦æ±‚ç¼–è¯‘å™¨å°†å³ä¾§è¿ç®—å¯¹è±¡æ‹·è´åˆ°æ­£åœ¨åˆ›å»ºçš„å¯¹è±¡ä¸­ï¼Œå¦‚æœéœ€è¦çš„è¯è¿˜è¦è¿›è¡Œç±»å‹è½¬æ¢ã€‚é€šå¸¸ä½¿ç”¨æ‹·è´æ„é€ å‡½æ•°å®Œæˆï¼Œå¦‚æœæœ‰ç§»åŠ¨æ„é€ å‡½æ•°ï¼Œåˆ™æœ‰æ—¶ä¼šä½¿ç”¨ç§»åŠ¨æ„é€ å‡½æ•°ã€‚\n\næ‹·è´åˆå§‹åŒ–çš„å‘ç”Ÿæƒ…å†µï¼š\n\n- =å®šä¹‰å˜é‡\n- å°†ä¸€ä¸ªå¯¹è±¡ä»å®å‚ä¼ é€’ç»™éå¼•ç”¨çš„å½¢å‚\n- è¿”å›ç±»å‹ä¸ºéå¼•ç”¨ç±»å‹çš„å‡½æ•°è¿”å›çš„å¯¹è±¡\n- ç”¨èŠ±æ‹¬å·åˆ—è¡¨ åˆå§‹åŒ–ä¸€ä¸ªæ•°ç»„ä¸­çš„å…ƒç´ æˆ–ä¸€ä¸ªèšåˆç±»çš„æˆå‘˜\n- æ ‡å‡†åº“å®¹å™¨insert/pushï¼Œä¸ä¹‹ç›¸å¯¹ï¼Œç”¨emplaceåˆ›å»ºçš„å…ƒç´ éƒ½è¿›è¡Œç›´æ¥åˆå§‹åŒ–\n\næ‹·è´å‡½æ•°åœ¨è¿™å‡ ç§æƒ…å†µä¸‹éƒ½ä¼šè¢«éšå¼åœ°ä½¿ç”¨ï¼Œå› æ­¤ï¼Œæ‹·è´æ„é€ å‡½æ•°ä¸åº”æ˜¯explicitçš„\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230506200110.png)\n\n#### æ‹·è´èµ‹å€¼è¿ç®—ç¬¦\n\n```c++\nSales_data trans,accum;\ntrans = accum; // ä½¿ç”¨Sales_data çš„æ‹·è´èµ‹å€¼å…ƒç´ ç¬¦\n```\n\nä¸ç±»æ§åˆ¶å¯¹è±¡å¦‚ä½•åˆå§‹åŒ–ä¸€æ ·ï¼Œç±»ä¹Ÿå¯ä»¥æ§åˆ¶å…¶å¯¹è±¡å¦‚ä½•èµ‹å€¼ã€‚ä¸æ‹·è´æ„é€ å‡½æ•°ä¸€æ ·ï¼Œå¦‚æœæœªå®šä¹‰ï¼Œç¼–è¯‘å™¨ä¼šä¸ºå®ƒåˆæˆä¸€ä¸ªã€‚\n\n```c++\nclass Foo{\n  public:\n    Foo& operator=(const Foo&);//èµ‹å€¼è¿ç®—ç¬¦\n}\n// èµ‹å€¼è¿ç®—ç¬¦é€šå¸¸è¿”å›ä¸€ä¸ªæŒ‡å‘å…¶å·¦ä¾§è¿ç®—å¯¹è±¡çš„å¼•ç”¨\n```\n\næ‹·è´èµ‹å€¼å…ƒç´ è¿ç®—ç¬¦ä¼šå°†å³ä¾§å¯¹è±¡çš„æ¯ä¸ªéstaticæˆå‘˜èµ‹äºˆå·¦ä¾§å¯¹è±¡çš„å¯¹åº”æˆå‘˜\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230506200857.png)\n\n#### ææ„å‡½æ•°\n\nææ„å‡½æ•°é‡Šæ”¾å¯¹è±¡ä½¿ç”¨çš„èµ„æºï¼Œå¹¶é”€æ¯å¯¹è±¡çš„éstaticæ•°æ®æˆå‘˜ã€‚ææ„å‡½æ•°**æ²¡æœ‰è¿”å›å€¼ï¼Œä¹Ÿä¸æ¥å—å‚æ•°ï¼Œä¸èƒ½å‘—é‡è½½ï¼Œä¸€ä¸ªç»™å®šç±»åªæœ‰å”¯ä¸€ä¸€ä¸ªææ„å‡½æ•°**ã€‚åŒæ—¶ï¼Œææ„å‡½æ•°è‡ªåŠ¨è¿è¡Œï¼Œç¨‹åºæŒ‰éœ€åˆ†é…èµ„æºï¼Œé€šå¸¸æ— é¡»å½“å¿ƒä½•æ—¶é‡Šæ”¾è¿™äº›èµ„æº\n\nåœ¨ææ„å‡½æ•°ä¸­ï¼Œå…ˆæ‰§è¡Œå‡½æ•°ä½“ï¼Œç„¶åé”€æ¯æˆå‘˜ã€‚æŒ‰åˆå§‹åŒ–é¡ºåºçš„**é€†åº**é”€æ¯ã€‚é‡Šæ”¾å¯¹è±¡åœ¨ç”Ÿå­˜æœŸåˆ†é…çš„æ‰€æœ‰èµ„æºã€‚\nææ„éƒ¨åˆ†å¼éšå¼çš„ï¼Œæˆå‘˜é”€æ¯æ—¶å®Œå…¨ä¾èµ–äºæˆå‘˜çš„ç±»å‹ã€‚é”€æ¯ç±»ç±»å‹çš„æˆå‘˜éœ€è¦æ‰§è¡Œæˆå‘˜è‡ªå·±çš„ææ„å‡½æ•°ã€‚å†…ç½®ç±»å‹æˆå‘˜æ²¡æœ‰ææ„å‡½æ•°ï¼Œä»€ä¹ˆéƒ½ä¸éœ€è¦åšã€‚\néšå¼é”€æ¯å†…ç½®æŒ‡é’ˆç±»å‹çš„æˆå‘˜ä¸ä¼šdeleteå®ƒæ‰€æŒ‡åœ°å¯¹è±¡ã€‚\n\nè°ƒç”¨ææ„å‡½æ•°çš„æ—¶æœºï¼š\n\n- å˜é‡ç¦»å¼€å…¶ä½œç”¨åŸŸæ—¶\n- å¯¹è±¡è¢«é”€æ¯ï¼Œæˆå‘˜è¢«é”€æ¯\n- å®¹å™¨è¢«é”€æ¯\n- åŠ¨æ€åˆ†é…çš„å¯¹è±¡ï¼Œå¯¹æŒ‡å‘å®ƒçš„æŒ‡é’ˆåº”ç”¨deleteæ—¶\n- ä¸´æ—¶å¯¹è±¡ï¼Œåˆ›å»ºå®ƒçš„å®Œæ•´è¡¨è¾¾å¼ç»“æŸæ—¶è¢«é”€æ¯\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230506201821.png)\n\næœªå®šä¹‰æ—¶ï¼Œç¼–è¯‘å™¨ä¼šä¸ºå®ƒå®šä¹‰ä¸€ä¸ªåˆæˆææ„å‡½æ•°ï¼Œææ„å‡½æ•°ä½“è‡ªèº«ä¸ç›´æ¥é”€æ¯æˆå‘˜ï¼Œæˆå‘˜æ—¶åœ¨ææ„å‡½æ•°ä½“æ‰§è¡Œåéšå¼é”€æ¯çš„ã€‚\n\nå¦‚æœä¸€ä¸ªç±»éœ€è¦è‡ªå®šä¹‰ææ„å‡½æ•°ï¼Œå‡ ä¹è‚¯å®šçš„æ˜¯ï¼Œä¹Ÿéœ€è¦è‡ªå®šä¹‰æ‹·è´èµ‹å€¼è¿ç®—ç¬¦å’Œæ‹·è´æ„é€ å‡½æ•°ã€‚\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230506203014.png)\n\n#### =default\n\nä½¿ç”¨=defaultæ¥æ˜¾å¼åœ°è¦æ±‚ç¼–è¯‘å™¨ç”Ÿæˆåˆæˆçš„ç‰ˆæœ¬\nå½“æˆ‘ä»¬ä½¿ç”¨=defaultæ—¶ï¼Œåˆæˆçš„å‡½æ•°ä¼šè¢«éšå¼åœ°å£°æ˜ä¸ºinline\n\n\n\næˆ‘ä»¬åªèƒ½å¯¹å…·æœ‰åˆæˆç‰ˆæœ¬çš„æˆå‘˜å‡½æ•°ä½¿ç”¨=default\n\n#### =delete\n\næˆ‘ä»¬å¯ä»¥ä¸ºä»»ä½•å‡½æ•°æŒ‡å®š=deleteï¼ˆé™¤äº†ææ„å‡½æ•°ï¼‰\n=deleteå‡½æ•°ï¼šè™½ç„¶æˆ‘ä»¬å£°æ˜äº†å®ƒä»¬ï¼Œä½†ä¸èƒ½ä»¥ä»»ä½•æ–¹å¼ä½¿ç”¨å®ƒä»¬ã€‚\n=deleteä¸»è¦ç”¨äºç¦æ­¢æ‹·è´æ§åˆ¶æˆå‘˜ï¼Œå¦‚æœå¸Œæœ›å¼•å¯¼å‡½æ•°åŒ¹é…è¿‡ç¨‹ï¼Œåˆ é™¤å‡½æ•°æœ‰æ—¶ä¹Ÿæ˜¯æœ‰ç”¨çš„ã€‚\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230506203438.png)\n\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230506203413.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230506203743.png)\n\nå°½å¯èƒ½ä½¿ç”¨=deleteæ¥é˜»æ­¢æ‹·è´ï¼Œè€Œä¸åº”è¯¥å£°æ˜ä¸ºprivate\n\n#### æ‹·è´æ§åˆ¶å’Œèµ„æºç®¡ç†\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230506204218.png)\n\n**è¡Œä¸ºåƒå€¼çš„ç±»**ï¼šæ¯ä¸ªç±»çš„å¯¹è±¡éƒ½æœ‰è‡ªå·±çš„å®ç°\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230506204605.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230506204742.png)\n\n**è¡Œä¸ºåƒæŒ‡é’ˆçš„ç±»**ï¼šæ‰€æœ‰ç±»çš„å¯¹è±¡å…±äº«ç±»çš„èµ„æºï¼Œæ¯”å¦‚shared_ptrã€‚\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230506211340.png)\n\nä¸»è¦çš„ä¸åŒä½“ç°åœ¨æ‹·è´æ„é€ å‡½æ•°ä¸­ï¼Œææ„å‡½æ•°å’Œæ‹·è´èµ‹å€¼è¿ç®—ç¬¦ä¾æ®å¼•ç”¨è®¡æ•°æœ‰æ‰€æ”¹å˜\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230506211509.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230506211603.png)\n\n#### äº¤æ¢æ“ä½œ\n\nå¯¹äºé‡æ‹å…ƒç´ é¡ºåºçš„ç®—æ³•ï¼Œå®šä¹‰swapæ—¶éå¸¸é‡è¦çš„ã€‚\nå¦‚æœä¸€ä¸ªç±»å®šä¹‰äº†è‡ªå·±çš„swapï¼Œé‚£ä¹ˆç®—æ³•å°†ä½¿ç”¨è‡ªå®šä¹‰ç‰ˆæœ¬ï¼Œå¦åˆ™å°†ä½¿ç”¨æ ‡å‡†åº“çš„swapã€‚\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230506211803.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230506211925.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230506212016.png)\n\n### å¯¹è±¡ç§»åŠ¨\n\nåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå¯¹è±¡æ‹·è´åå°±ç«‹å³è¢«é”€æ¯äº†ã€‚è¿™æ—¶å€™ï¼Œç§»åŠ¨è€Œéæ‹·è´å¯¹è±¡ä¼šå¤§å¹…åº¦æå‡æ€§èƒ½ã€‚\n\n#### å³å€¼å¼•ç”¨\n\né€šè¿‡&&æ¥è·å¾—å³å€¼å¼•ç”¨ï¼Œåªèƒ½ç»‘å®šåˆ°**ä¸€ä¸ªå°†è¦é”€æ¯çš„å¯¹è±¡**ã€‚\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230506231308.png)\n\nå˜é‡æ˜¯å·¦å€¼ï¼Œå› æ­¤æˆ‘ä»¬ä¸èƒ½å°†å³å€¼å¼•ç”¨ç»‘å®šåˆ°å˜é‡ä¸Šï¼Œå³ä½¿æ˜¯å³å€¼å¼•ç”¨ç±»å‹ã€‚\n\næ ‡å‡†åº“moveå‡½æ•°ï¼Œå¯ä»¥æ˜¾ç¤ºåœ°å°†ä¸€ä¸ªå·¦å€¼è½¬æ¢ä¸ºå¯¹åº”çš„å³å€¼å¼•ç”¨ç±»å‹ã€‚\n\n```c++\nint &&rr3 = std::move(rr1);\n// moveå‘Šè¯‰ç¼–è¯‘å™¨ï¼Œå°†rr1å½“ä½œå³å€¼ä¸€æ ·å¤„ç†\n// é™¤äº†å¯¹rr1èµ‹å€¼æˆ–é”€æ¯ï¼Œæˆ‘ä»¬ä¸å†ä½¿ç”¨å®ƒ\n```\n\n#### ç§»åŠ¨æ„é€ å‡½æ•°\n\nç§»åŠ¨æ„é€ å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå³å€¼å¼•ç”¨ï¼Œä¿è¯ç§»åå…ƒå¯¹è±¡å¤„äºä¸€ä¸ªçŠ¶æ€â€”â€”é”€æ¯æ— å®³ã€‚ä¸€æ—¦èµ„æºå®Œæˆç§»åŠ¨ï¼Œæºå¯¹è±¡å¿…é¡»ä¸å†æŒ‡å‘è¢«ç§»åŠ¨çš„èµ„æºâ€”â€”è¿™äº›èµ„æºçš„æ‰€æœ‰æƒå½’å±æ–°åˆ›å»ºçš„å¯¹è±¡ã€‚\n\n```c++\nStrVec::StrVec(StrVec &&s) noexcept //å‘Šè¯‰æ ‡å‡†åº“æˆ‘ä»¬çš„æ„é€ å‡½æ•°ä¸æŠ›å‡ºä»»ä½•å¼‚å¸¸\n// æˆå‘˜åˆå§‹åŒ–æ¥ç®¡sçš„èµ„æº\n:elements(s.elements),first_free(s.first_free),cap(s.cap)\n{\n  s.elements = s.first_free = s.cap = nullptr;\n  // è¢«æ¥æ”¶åæŒ‡é’ˆéƒ½ç½®ä¸ºnullptr\n}\n```\n\n#### ç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507001946.png)\n\nåœ¨è¿™é‡Œï¼Œæˆ‘ä»¬æ£€æŸ¥this ä¸ rhsçš„åœ°å€æ˜¯å¦ç›¸åŒã€‚ç›¸åŒä¸åšä»»ä½•äº‹æƒ…ã€‚å¦åˆ™é‡Šæ”¾å·²æœ‰å…ƒç´ ï¼Œç„¶åæ¥ç®¡å³å€¼å¼•ç”¨çš„å…ƒç´ ã€‚å†æŠŠrhsæŒ‡é’ˆèµ‹ä¸ºnullptr\n\n**åœ¨ç§»åŠ¨åï¼Œç§»åæºå¯¹è±¡å¿…é¡»å¯ææ„**ã€‚\n\n#### åˆæˆç§»åŠ¨æ“ä½œ\n\nå¦‚æœä¸€ä¸ªç±»å®šä¹‰äº†æ‹·è´æ„é€ å‡½æ•°ã€æ‹·è´èµ‹å€¼è¿ç®—ç¬¦æˆ–è€…ææ„å‡½æ•°ï¼Œç¼–è¯‘å™¨å°±ä¸ä¼šä¸ºå®ƒåˆæˆç§»åŠ¨æ„é€ å‡½æ•°å’Œç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦ã€‚\nåªæœ‰å½“ä¸€ä¸ªç±»**æ²¡æœ‰å®šä¹‰ä»»ä½•è‡ªå·±ç‰ˆæœ¬çš„æ‹·è´æ§åˆ¶æˆå‘˜**ï¼Œä¸”**ç±»çš„æ¯ä¸ªéstaticæ•°æ®æˆå‘˜éƒ½å¯ä»¥ç§»åŠ¨**æ—¶ï¼Œç¼–è¯‘å™¨æ‰ä¼šä¸ºå®ƒåˆæˆç§»åŠ¨æ„é€ å‡½æ•°æˆ–ç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦ã€‚\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507002510.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507002957.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507003227.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507003912.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507004102.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507004122.png)\n\n\n### é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡\n\né¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡åŸºäºä¸‰ä¸ªåŸºæœ¬æ¦‚å¿µï¼šæ•°æ®æŠ½è±¡ã€ç»§æ‰¿ã€å’ŒåŠ¨æ€ç»‘å®šã€‚\n\n#### æ•°æ®æŠ½è±¡ã€ç»§æ‰¿ã€åŠ¨æ€ç»‘å®š\n\n**æ•°æ®æŠ½è±¡**ï¼šåªå‘å¤–ç•Œæä¾›å…³é”®ä¿¡æ¯ï¼Œå¹¶éšè—å…¶åå°çš„å®ç°ç»†èŠ‚ï¼Œå³åªè¡¨ç°å¿…è¦çš„ä¿¡æ¯è€Œä¸å‘ˆç°ç»†èŠ‚ã€‚C++ ç±»ä¸ºæ•°æ®æŠ½è±¡æä¾›äº†å¯èƒ½ã€‚å®ƒä»¬å‘å¤–ç•Œæä¾›äº†å¤§é‡ç”¨äºæ“ä½œå¯¹è±¡æ•°æ®çš„å…¬å…±æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¤–ç•Œå®é™…ä¸Šå¹¶ä¸æ¸…æ¥šç±»çš„å†…éƒ¨å®ç°ã€‚\n\n**ç»§æ‰¿**ï¼šé€šè¿‡ç»§æ‰¿è”ç³»åœ¨ä¸€èµ·çš„ç±»æ„æˆä¸€ç§å±‚æ¬¡å…³ç³»ã€‚é€šå¸¸æ ¹éƒ¨å«åš**åŸºç±»**ï¼Œç›´æ¥æˆ–é—´æ¥ä»åŸºç±»ç»§æ‰¿è€Œæ¥å«**æ´¾ç”Ÿç±»**ã€‚\n\n**åŠ¨æ€ç»‘å®š**ï¼šå½“æˆ‘ä»¬ä½¿ç”¨åŸºç±»çš„å¼•ç”¨ï¼ˆæˆ–æŒ‡é’ˆï¼‰è°ƒç”¨ä¸€ä¸ªè™šå‡½æ•°æ—¶å°†å‘ç”ŸåŠ¨æ€ç»‘å®šã€‚åŠ¨æ€ç»‘å®šå³æ˜¯åœ¨è¿è¡Œæ—¶é€‰æ‹©å‡½æ•°çš„ç‰ˆæœ¬ï¼Œåœ¨ä¸€å®šç¨‹åº¦ä¸Šå¿½ç•¥ç›¸ä¼¼ç±»å‹çš„åŒºåˆ«ï¼Œè€Œä»¥ç»Ÿä¸€çš„æ–¹å¼ä½¿ç”¨å®ƒä»¬çš„å¯¹è±¡ã€‚\n\n#### åŸºç±»å’Œæ´¾ç”Ÿç±»\n\nåŸºç±»é€šå¸¸åº”è¯¥å®šä¹‰ä¸€ä¸ªè™šææ„å‡½æ•°ï¼Œå³ä½¿è¯¥å‡½æ•°ä¸æ‰§è¡Œä»»ä½•å®é™…æ“ä½œã€‚\n\nå› ä¸ºåœ¨æ´¾ç”Ÿç±»æœ‰ä¸åŸºç±»å¯¹åº”çš„éƒ¨åˆ†ï¼Œæ‰€ä»¥èƒ½æŠŠæ´¾ç”Ÿç±»çš„å¯¹è±¡å½“ä½œåŸºç±»å¯¹è±¡æ¥ä½¿ç”¨ï¼Œä¹Ÿèƒ½å°†åŸºç±»æŒ‡é’ˆæˆ–å¼•ç”¨ç»‘å®šåˆ°æ´¾ç”Ÿç±»å¯¹è±¡ä¸­çš„åŸºç±»éƒ¨åˆ†ä¸Šã€‚\n\n```c++\nQuote item;// åŸºç±»\nBulk_quote bulk;// æ´¾ç”Ÿç±»\nQuote *p = &item;// pæŒ‡å‘Quoteå¯¹è±¡\np = &bulk;// pæŒ‡å‘bulkçš„Quoteéƒ¨åˆ†\nQuote &r = bulk;// rç»‘å®šåˆ°bulkçš„Quoteéƒ¨åˆ†\n```\n\næ´¾ç”Ÿç±»å…ˆåˆå§‹åŒ–åŸºç±»éƒ¨åˆ†ï¼Œç„¶åæŒ‰ç…§å£°æ˜é¡ºåºåˆå§‹åŒ–æ´¾ç”Ÿç±»çš„æˆå‘˜ã€‚\n\nä¸ç®¡ä»åŸºç±»ä¸­æ´¾ç”Ÿå‡ºå¤šå°‘ä¸ªæ´¾ç”Ÿç±»ï¼Œå¯¹äºæ¯ä¸ª**é™æ€æˆå‘˜**æ¥è¯´éƒ½åªå­˜åœ¨**å”¯ä¸€**çš„å®ä¾‹ã€‚\n\né™æ€æˆå‘˜éµå¾ªé€šç”¨çš„è®¿é—®æ§åˆ¶è§„åˆ™\n\n**é˜²æ­¢ç»§æ‰¿**ï¼Œå³åœ¨ç±»ååè·Ÿä¸€ä¸ªå…³é”®å­—final\n\næˆ‘ä»¬å¯ä»¥å°†**åŸºç±»çš„æŒ‡é’ˆï¼ˆå†…ç½®æˆ–æ™ºèƒ½ï¼‰æˆ–å¼•ç”¨ç»‘å®šåˆ°æ´¾ç”Ÿç±»å¯¹è±¡**ä¸Šã€‚ä¾‹å¦‚ï¼Œå¯ä»¥ç”¨Quote&æŒ‡å‘ä¸€ä¸ªBulk_quoteå¯¹è±¡ï¼Œä¹Ÿå¯ä»¥æŠŠä¸€ä¸ªBulk_quoteå¯¹è±¡çš„åœ°å€èµ‹ç»™ä¸€ä¸ªQuote*\n\n```c++\n// é™æ€ç±»å‹åœ¨ç¼–è¯‘æ—¶å°±å·²çŸ¥ï¼Œæ˜¯å˜é‡å£°æ˜æ—¶çš„ç±»å‹æˆ–è¡¨è¾¾å¼ç”Ÿæˆçš„ç±»å‹\n// åŠ¨æ€ç±»å‹åˆ™æ˜¯å˜é‡æˆ–è¡¨è¾¾å¼è¡¨ç¤ºçš„å†…å­˜ä¸­çš„å¯¹è±¡çš„ç±»å‹ï¼Œè¿è¡Œæ—¶æ‰çŸ¥é“\ndouble ret = item.net_price(n);\n// itemçš„é™æ€ç±»å‹æ˜¯Quote&\n// å®ƒçš„åŠ¨æ€ç±»å‹ä¾èµ–äºitemç»‘å®šçš„å®å‚\n// å¦‚æœä¼ é€’ä¸€ä¸ªBulk_quoteï¼Œåˆ™itemåŠ¨æ€ç±»å‹åˆ™æ˜¯Bulk_quote\n// å¦‚æœè¡¨è¾¾å¼æ—¢ä¸æ˜¯å¼•ç”¨ä¹Ÿä¸æ˜¯æŒ‡é’ˆï¼ŒåŠ¨æ€ç±»å‹å’Œé™æ€ç±»å‹æ°¸è¿œä¸€è‡´ã€‚\n// æ¯”å¦‚Quoteç±»å‹å˜é‡æ°¸è¿œæ˜¯ä¸€ä¸ªQuoteå¯¹è±¡\n```\n\n```c++\n// ä¸å­˜åœ¨åŸºç±»å‘æ´¾ç”Ÿç±»çš„éšå¼ç±»å‹è½¬æ¢ï¼Œå³ä½¿ä¸€ä¸ªåŸºç±»æŒ‡é’ˆæˆ–å¼•ç”¨ç»‘å®šåœ¨ä¸€ä¸ªæ´¾ç”Ÿäº†å¯¹è±¡ä¸Š\nQuote base;\nBulk_quote* bulkP = &base;\nBulk_quote& bulkRef = base;\n// ä»¥ä¸Šéƒ½æ˜¯é”™è¯¯çš„ï¼Œä¸èƒ½å°†åŸºç±»è½¬åŒ–ä¸ºæ´¾ç”Ÿç±»\nBulk_quote bulk;\nQuote *itemP = &bulk;// æ­£ç¡®ï¼ŒåŠ¨æ€ç±»å‹æ˜¯Bulk_quote\nBulk_quote *bulkP = itemP;// é”™è¯¯ï¼Œä¸èƒ½å°†åŸºç±»è½¬åŒ–æˆæ´¾ç”Ÿç±»\n\n// å¯ä»¥ç”¨dynamic_cast,å¦‚æœåœ¨åŸºç±»ä¸­å«æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªè™šå‡½æ•°\n// å¦‚æœå·²çŸ¥æŸä¸ªåŸºç±»è½¬åŒ–æ´¾ç”Ÿç±»æ˜¯å®‰å…¨çš„ï¼Œå¯ä»¥ç”¨static_cast\n```\n\nå½“æˆ‘ä»¬ç”¨ä¸€ä¸ªæ´¾ç”Ÿç±»å¯¹è±¡ä¸ºä¸€ä¸ªåŸºç±»å¯¹è±¡åˆå§‹åŒ–æˆ–èµ‹å€¼æ—¶ï¼Œåªæœ‰è¯¥æ´¾ç”Ÿç±»å¯¹è±¡ä¸­çš„åŸºç±»éƒ¨åˆ†ä¼šè¢«æ‹·è´ã€ç§»åŠ¨æˆ–èµ‹å€¼ï¼Œæ´¾ç”Ÿç±»éƒ¨åˆ†ä¼šè¢«å¿½ç•¥ï¼Œä¹Ÿå°±æ˜¯è¢«åˆ‡æ‰\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507144244.png)\n\n#### è™šå‡½æ•°\n\nåŠ¨æ€ç»‘å®š**åªä¼šåœ¨æˆ‘ä»¬é€šè¿‡æŒ‡é’ˆæˆ–å¼•ç”¨è°ƒç”¨è™šå‡½æ•°**æ—¶æ‰ä¼šå‘ç”Ÿã€‚å¦‚æœé€šè¿‡ä¸€ä¸ªæ™®é€šç±»å‹ï¼ˆéå¼•ç”¨éæŒ‡é’ˆï¼‰çš„è¡¨è¾¾å¼è°ƒç”¨è™šå‡½æ•°ï¼Œåœ¨ç¼–è¯‘æ—¶å°±ä¼šå°†è¡¨è¾¾å¼çš„æŠŠå‘¢ä¸èƒ½ç¡®å®šä¸‹æ¥ã€‚\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507152318.png)\n\nåŸºç±»ä¸­çš„è™šå‡½æ•°åœ¨æ´¾ç”Ÿç±»ä¸­éšå«åœ°ä¹Ÿæ˜¯ä¸€ä¸ªè™šå‡½æ•°ã€‚å½“æ´¾ç”Ÿç±»è¦†ç›–äº†æŸä¸ªè™šå‡½æ•°æ—¶ï¼Œè¯¥å‡½æ•°åœ¨åŸºç±»ä¸­çš„å½¢å‚å¿…é¡»ä¸æ´¾ç”Ÿç±»ä¸­çš„å½¢å‚ä¸¥æ ¼åŒ¹é…ã€‚\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507152800.png)\n\nå¦‚æœè™šå‡½æ•°ä½¿ç”¨é»˜è®¤å®å‚ï¼Œåˆ™åŸºç±»å’Œæ´¾ç”Ÿç±»ä¸­å®šä¹‰çš„é»˜è®¤å®å‚æœ€å¥½ä¸€è‡´ã€‚\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507153006.png)\n\n```c++\nclass Base{\n  virtual void foo(){}\n};\nclass Drived : public Base{  \n  void foo()\n  {\n    foo();//é€’å½’è°ƒç”¨è‡ªå·±\n    Base::foo();//æ˜ç¡®å‘Šè¯‰ç¼–è¯‘å™¨ï¼Œè°ƒç”¨Base::fooè€Œä¸æ˜¯è‡ªå·±\n  }\n};\n```\n\n#### æŠ½è±¡åŸºç±»\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507154155.png)\n\nå«æœ‰çº¯è™šå‡½æ•°çš„ç±»æ˜¯æŠ½è±¡åŸºç±»ï¼Œæˆ‘ä»¬**ä¸èƒ½åˆ›å»ºä¸€ä¸ªæŠ½è±¡åŸºç±»çš„å¯¹è±¡**ã€‚å¯ä»¥å®šä¹‰å®ƒçš„æ´¾ç”Ÿç±»ï¼Œå‰ææ˜¯è¿™äº›ç±»è¦†ç›–äº†çº¯è™šå‡½æ•°ã€‚\n\næ´¾ç”Ÿç±»åªåˆå§‹åŒ–å®ƒçš„ç›´æ¥åŸºç±»\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507155227.png)\n\n#### è®¿é—®æ§åˆ¶ä¸ç»§æ‰¿\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507161237.png)\n\nä¸Šè¿°è¡¨ç¤ºï¼Œå¦‚æœå‹å…ƒé€šè¿‡æ´¾ç”Ÿç±»æ¥è®¿é—®protectedæˆå‘˜æ˜¯å¯ä»¥çš„ã€‚ä½†æ˜¯å‹å…ƒç›´æ¥è®¿é—®protectedæˆå‘˜å°±ä¸å¯ä»¥\n\n[C++æ´¾ç”Ÿç±»çš„æˆå‘˜æˆ–å‹å…ƒåªèƒ½é€šè¿‡æ´¾ç”Ÿç±»å¯¹è±¡æ¥è®¿é—®åŸºç±»çš„å—ä¿æŠ¤æˆå‘˜? - é‚±æ˜Šå®‡çš„å›ç­” - çŸ¥ä¹](\nhttps://www.zhihu.com/question/37051531/answer/70216882)\n\nåœ¨ç±»ä¸­ç”¨usingå£°æ˜æ”¹å˜è®¿é—®çº§åˆ«ï¼Œå½“ç„¶æ´¾ç”Ÿç±»åªèƒ½ä¸ºè®¿é—®åˆ°çš„åå­—æä¾›using\n\nstruct é»˜è®¤publicç»§æ‰¿ \nclass é»˜è®¤privateç»§æ‰¿\n\n#### ç»§æ‰¿çš„ç±»ä½œç”¨åŸŸ\n\næ´¾ç”Ÿç±»çš„ä½œç”¨åŸŸä½äºåŸºç±»ä½œç”¨åŸŸä¹‹å†…ï¼Œå¦‚æœä¸€ä¸ªåå­—åœ¨æ´¾ç”Ÿç±»ä¸­æ— æ³•è§£æï¼Œåˆ™ä¼šåœ¨å¤–å±‚åŸºç±»ä½œç”¨åŸŸä¸­å¯»æ‰¾è¯¥åå­—çš„å®šä¹‰ã€‚\n\nåœ¨ç¼–è¯‘æ—¶è¿›è¡Œ**åå­—æŸ¥æ‰¾**ï¼Œæ„å‘³ç€èƒ½å¤Ÿä½¿ç”¨å“ªäº›æˆå‘˜ç”±é™æ€ç±»å‹å†³å®šã€‚\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507164433.png)\n\næ´¾ç”Ÿç±»ä¼šè¦†ç›–åŸºç±»çš„åŒåæˆå‘˜ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä½œç”¨åŸŸè¿ç®—ç¬¦æ¥ä½¿ç”¨åŸºç±»æˆå‘˜ã€‚\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507164558.png)\n\n**åå­—æŸ¥æ‰¾**,å‡è®¾è°ƒç”¨obj->foo():\n\n- é¦–å…ˆç¡®å®šobjçš„é™æ€ç±»å‹\n- ç„¶ååœ¨objçš„é™æ€ç±»å‹å¯¹åº”çš„ç±»ä¸­æŸ¥æ‰¾fooã€‚æ‰¾ä¸åˆ°ï¼Œå°±ä¸€ç›´å¾€ç»§æ‰¿é“¾ä¸Šæ‰¾ã€‚å¦‚æœä¸€ç›´æ‰¾ä¸åˆ°ï¼Œå°±æŠ¥é”™ã€‚\n- ä¸€æ—¦æ‰¾åˆ°fooï¼Œè¿›è¡Œç±»å‹æ£€æŸ¥\n- å¦‚æœåˆæ³•ï¼Œåˆ™ä¼šæ ¹æ®æ˜¯å¦æ˜¯è™šå‡½æ•°è¿›è¡Œè°ƒç”¨ï¼š1.å¦‚æœæ—¶è™šå‡½æ•°ï¼Œåˆ™ä¾æ®objçš„åŠ¨æ€ç±»å‹çš„ç‰ˆæœ¬;2.å¦‚æœä¸æ˜¯ï¼Œç›´æ¥è°ƒç”¨\n\næˆ‘ä»¬å¯ä»¥çœ‹åˆ°**åå­—æŸ¥æ‰¾å…ˆäºç±»å‹æ£€æŸ¥,æ‰€ä»¥ä¼šæœ‰ä»¥ä¸‹ç»“æœ**\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507165048.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507165828.png)\n\n#### è™šææ„å‡½æ•°\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507211827.png)\n\n#### åˆæˆæ‹·è´æ§åˆ¶ä¸ç»§æ‰¿\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507212141.png)\n\n**æ´¾ç”Ÿç±»ä¸­åˆ é™¤çš„æ‹·è´æ§åˆ¶ä¸åŸºç±»çš„å…³ç³»**ï¼š\n\n- åŸºç±»ä¸­çš„é»˜è®¤æ„é€ å‡½æ•°ã€æ‹·è´æ„é€ å‡½æ•°ã€æ‹·è´èµ‹å€¼è¿ç®—ç¬¦æˆ–ææ„å‡½æ•°æ˜¯deleteæˆ–privateï¼Œåˆ™æ´¾ç”Ÿç±»å¯¹åº”çš„æ˜¯deleteçš„ã€‚åŸå› æ˜¯ç¼–è¯‘å™¨ä¸èƒ½ä½¿ç”¨åŸºç±»æˆå‘˜æ¥æ‰§è¡Œè¿™äº›æ“ä½œ\n- å¦‚æœåŸºç±»ä¸­æœ‰ä¸€ä¸ª**privateæˆ–deleteçš„ææ„å‡½æ•°**ï¼Œåˆ™æ´¾ç”Ÿç±»åˆæˆçš„é»˜è®¤å’Œæ‹·è´æ„é€ å‡½æ•°æ˜¯deleteï¼Œå› ä¸ºç¼–è¯‘å™¨æ— æ³•é”€æ¯æ´¾ç”Ÿç±»å¯¹è±¡çš„åŸºç±»éƒ¨åˆ†\n- ç¼–è¯‘å™¨ä¸ä¼šåˆæˆä¸€ä¸ªdeleteç§»åŠ¨æ“ä½œã€‚å½“æˆ‘ä»¬ä½¿ç”¨=defaultï¼Œå¦‚æœåŸºç±»ä¸­å¯¹åº”æ˜¯deleteæˆ–privateï¼Œåˆ™æ´¾ç”Ÿç±»ä¸­æ˜¯deleteï¼ŒåŸå› æ˜¯æ´¾ç”Ÿç±»åŸºç±»éƒ¨åˆ†ä¸å¯ç§»åŠ¨ã€‚åŒæ ·ï¼ŒåŸºç±»ææ„å‡½æ•°deleteæˆ–privateï¼Œåˆ™æ´¾ç”Ÿç±»ç§»åŠ¨æ„é€ å‡½æ•°ä¹Ÿæ˜¯delete\n\n**æ´¾ç”Ÿç±»æ‹·è´æˆ–ç§»åŠ¨æ„é€ å‡½æ•°**ï¼š\n\nåœ¨é»˜è®¤æƒ…å†µä¸‹ï¼ŒåŸºç±»é»˜è®¤æ„é€ å‡½æ•°åˆå§‹åŒ–æ´¾ç”Ÿç±»å¯¹è±¡çš„åŸºç±»éƒ¨åˆ†ã€‚å¦‚æœæƒ³æ‹·è´æˆ–ç§»åŠ¨åŸºç±»éƒ¨åˆ†ï¼Œåˆ™å¿…é¡»åœ¨æ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°åˆå§‹å€¼åˆ—è¡¨ä¸­**æ˜¾å¼åœ°ä½¿ç”¨**åŸºç±»çš„æ‹·è´ï¼ˆæˆ–ç§»åŠ¨ï¼‰æ„é€ å‡½æ•°\n\n**æ´¾ç”Ÿç±»èµ‹å€¼è¿ç®—ç¬¦**ï¼šåŒç†ï¼Œå¤åˆ¶è¿ç®—ç¬¦ä¹Ÿè¦æ˜¾å¼åœ°ä¸ºåŸºç±»éƒ¨åˆ†èµ‹å€¼\n\n**æ´¾ç”Ÿç±»ææ„å‡½æ•°**ï¼šé”€æ¯é¡ºåºä¸åˆ›å»ºé¡ºåºç›¸åï¼Œå…ˆæ‰§è¡Œæ´¾ç”Ÿç±»ææ„å‡½æ•°ï¼Œå†æ‰§è¡ŒåŸºç±»çš„ã€‚\n\nå¦‚æœæ„é€ å‡½æ•°æˆ–ææ„å‡½æ•°è°ƒç”¨äº†æŸä¸ªè™šå‡½æ•°ï¼Œåˆ™åº”è¯¥æ‰§è¡Œä¸ç±»å‹ç›¸å¯¹åº”çš„è™šå‡½æ•°ç‰ˆæœ¬ã€‚\n\n#### ç»§æ‰¿çš„æ„é€ å‡½æ•°\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507213936.png)\n\nusingå£°æ˜ä¸ä¼šæ”¹å˜æ„é€ å‡½æ•°çš„è®¿é—®çº§åˆ«ã€‚\nusingå£°æ˜ä¸èƒ½æŒ‡å®šexplicitæˆ–constexprï¼Œç»§æ‰¿çš„æ„é€ å‡½æ•°å¦‚æœæœ‰è¿™äº›å±æ€§ï¼Œé‚£ä¹ˆä¹Ÿæœ‰ã€‚\næ„é€ å‡½æ•°çš„é»˜è®¤å®å‚ä¸ä¼šè¢«ç»§æ‰¿ã€‚ç›¸åï¼Œä¼šè·å¾—å¤šä¸ªç»§æ‰¿ã€‚æ¯”å¦‚ï¼ŒåŸºç±»æœ‰ä¸€ä¸ªæ¥å—ä¸¤ä¸ªå½¢å‚çš„æ„é€ å‡½æ•°ï¼Œç¬¬äºŒä¸ªå«æœ‰é»˜è®¤å®å‚ï¼Œåˆ™æ´¾ç”Ÿç±»è·å¾—ä¸¤ä¸ªæ„é€ å‡½æ•°ï¼Œä¸€ä¸ªæ¥å—ä¸¤ä¸ªå½¢å‚ï¼Œä¸€ä¸ªåªæ¥å—ä¸€ä¸ªå½¢å‚ï¼Œå¯¹åº”æ²¡æœ‰é»˜è®¤å€¼çš„å½¢å‚ã€‚\n\nå¦‚æœåŸºç±»å«æœ‰å‡ ä¸ªæ„é€ å‡½æ•°ï¼Œå¤§å¤šæ•°æ´¾ç”Ÿç±»ä¼šç»§æ‰¿è¿™äº›æ„é€ å‡½æ•°ã€‚æœ‰ä¸¤ä¸ªä¾‹å¤–æƒ…å†µï¼š\n\n- æ´¾ç”Ÿç±»ç»§æ‰¿ä¸€éƒ¨åˆ†æ„é€ å‡½æ•°ï¼Œä¸ºå…¶ä»–æ„é€ å‡½æ•°å®šä¹‰è‡ªå·±çš„ç‰ˆæœ¬ã€‚\n- é»˜è®¤ã€æ‹·è´å’Œç§»åŠ¨æ„é€ å‡½æ•°ä¸ä¼šè¢«ç»§æ‰¿ï¼Œä¼šæŒ‰ç…§æ­£å¸¸è§„åˆ™è¢«åˆæˆã€‚","slug":"c-primer","published":1,"updated":"2024-01-07T07:46:01.440Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clr4d2ju3000bgwv0er1b8pzr","content":"<h3 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h3><p>ç”±äºé¢è¯•è¢«ç‹ ç‹ æ‹·æ‰“ï¼Œå†³å®šæ¶è¡¥c++ã€‚æœ‰äº›æ¦‚å¿µå¤ªé•¿ä¼šä»¥å›¾ç‰‡æ˜¾ç¤º</p>\n<h3 id=\"å˜é‡å’ŒåŸºæœ¬ç±»å‹\"><a href=\"#å˜é‡å’ŒåŸºæœ¬ç±»å‹\" class=\"headerlink\" title=\"å˜é‡å’ŒåŸºæœ¬ç±»å‹\"></a>å˜é‡å’ŒåŸºæœ¬ç±»å‹</h3><h4 id=\"åŸºæœ¬ç±»å‹\"><a href=\"#åŸºæœ¬ç±»å‹\" class=\"headerlink\" title=\"åŸºæœ¬ç±»å‹\"></a>åŸºæœ¬ç±»å‹</h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418202838.png\"></p>\n<p>ä¸€äº›ç±»å‹é€‰æ‹©çš„å»ºè®®ï¼š</p>\n<ul>\n<li>æ•°å€¼ä¸å¯èƒ½ä¸ºè´Ÿæ—¶ï¼Œé€‰ç”¨æ— ç¬¦å·ç±»å‹</li>\n<li>ä½¿ç”¨intæ‰§è¡Œæ•´æ•°è¿ç®—ï¼Œå¦‚æœè¶…è¿‡intèŒƒå›´ï¼Œé€‰ç”¨longlong</li>\n<li>ç®—æœ¯è¡¨è¾¾å¼ä¸­ä¸è¦ä½¿ç”¨charæˆ–bool,åªæœ‰åœ¨å­˜æ”¾å­—ç¬¦æˆ–boolå€¼æ‰ä½¿ç”¨å®ƒä»¬ã€‚å› ä¸ºcharåœ¨æœ‰äº›æœºå™¨æ˜¯æœ‰ç¬¦å·çš„ï¼Œè€Œåœ¨ä¸€äº›æœºå™¨ä¸Šåˆæ˜¯æ— ç¬¦å·çš„ã€‚</li>\n<li>æ‰§è¡Œæµ®ç‚¹æ•°è¿ç®—ç”¨doubleï¼Œfloatå¸¸å¸¸ç²¾åº¦ä¸å¤Ÿï¼Œè€Œä¸”åŒç²¾åº¦å’Œå•ç²¾åº¦çš„è®¡ç®—ä»£ä»·ç›¸å·®æ— å‡ ã€‚</li>\n</ul>\n<h4 id=\"ç±»å‹è½¬æ¢\"><a href=\"#ç±»å‹è½¬æ¢\" class=\"headerlink\" title=\"ç±»å‹è½¬æ¢\"></a>ç±»å‹è½¬æ¢</h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418203722.png\"></p>\n<ul>\n<li>å°†éboolå‹ç®—æœ¯å€¼èµ‹ç»™boolæ—¶ï¼Œä¸º0åˆ™ç»“æœä¸ºfalseï¼Œå¦åˆ™ä¸ºtrue</li>\n<li>å½“boolå€¼ç»™éboolå‹ï¼Œä¸ºfalseåˆ™ç»“æœä¸º0ï¼Œtrue ä¸º 1</li>\n<li>å½“æµ®ç‚¹æ•°èµ‹ç»™æ•´æ•°ç±»å‹æ—¶ï¼Œç æ‰å°æ•°ç‚¹åé¢çš„</li>\n<li>å½“æ•´æ•°èµ‹ç»™æµ®ç‚¹æ—¶ï¼Œå°æ•°éƒ¨åˆ†ä¸º0</li>\n<li>å½“ç»™unsignedèµ‹ç»™ä¸€ä¸ªè¶…å‡ºèŒƒå›´çš„å€¼æ—¶ï¼Œç»“æœæ˜¯åˆå§‹å€¼åŠ è¡¨ç¤ºæ•°å€¼æ€»æ•°å–æ¨¡åçš„ä½™æ•°ï¼Œåœ¨è¿™é‡Œå°±æ˜¯(-1+256)%256</li>\n<li>å½“ç»™ä¸€ä¸ªæœ‰ç¬¦å·ç±»å‹ä¸€ä¸ªè¶…å‡ºèŒƒå›´çš„å€¼æ—¶ï¼Œç»“æœæ—¶æœªå®šä¹‰çš„ã€‚ç¨‹åºå¯èƒ½ç»§ç»­å·¥ä½œã€å¯èƒ½å´©æºƒï¼Œä¹Ÿå¯èƒ½äº§ç”Ÿåƒåœ¾æ•°æ®ã€‚</li>\n</ul>\n<p>å½“ä¸€ä¸ªç®—æ•°è¡¨è¾¾å¼æ—¢æœ‰unsignedåˆæœ‰intæ—¶ï¼Œintå°±ä¼šè½¬åŒ–ä¸ºunsigned</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418204711.png\"></p>\n<p>å½“ u &#x3D; 0 æ—¶ï¼Œè¿­ä»£è¾“å‡º0ï¼Œç„¶åæ‰§è¡Œâ€“uï¼Œæ­¤æ—¶ u &#x3D; -1 è¢«è‡ªåŠ¨è½¬åŒ–ä¸º4294967295ï¼Œæ­¤æ—¶ä¼šæ— é™å¾ªç¯</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418204946.png\"></p>\n<h4 id=\"å­—é¢å€¼å¸¸é‡\"><a href=\"#å­—é¢å€¼å¸¸é‡\" class=\"headerlink\" title=\"å­—é¢å€¼å¸¸é‡\"></a>å­—é¢å€¼å¸¸é‡</h4><p>ä»¥0å¼€å¤´ä»£è¡¨å…«è¿›åˆ¶æ•°ï¼Œ0xæˆ–0Xå¼€å¤´ä»£è¡¨åå…­è¿›åˆ¶ï¼Œæ¯”å¦‚ï¼š<br><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418205302.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418205426.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418205542.png\"></p>\n<h4 id=\"å˜é‡\"><a href=\"#å˜é‡\" class=\"headerlink\" title=\"å˜é‡\"></a>å˜é‡</h4><p>å½“å¯¹è±¡åœ¨åˆ›å»ºæ—¶è·å¾—äº†ä¸€ä¸ªç‰¹å®šå€¼ï¼Œæˆ‘ä»¬è¯´è¿™ä¸ªå¯¹è±¡è¢«åˆå§‹åŒ–äº†ã€‚å¦‚æœå®šä¹‰å˜é‡æ—¶æ²¡æœ‰æŒ‡å®šåˆå€¼ï¼Œåˆ™å˜é‡è¢«é»˜è®¤åˆå§‹åŒ–ï¼Œæ­¤æ—¶è¢«èµ‹äºˆäº†â€œé»˜è®¤å€¼â€ã€‚å®šä¹‰äºä»»ä½•å‡½æ•°ä½“ä¹‹å¤–çš„å˜é‡è¢«åˆå§‹åŒ–ä¸º0ï¼Œå®šä¹‰åœ¨å‡½æ•°ä½“å†…éƒ¨çš„å†…ç½®å˜é‡å°†ä¸è¢«åˆå§‹åŒ–ï¼Œç”±äºæ˜¯æœªè¢«å®šä¹‰çš„ï¼Œè¯•å›¾æ‹·è´æˆ–ä»¥å…¶ä»–å½¢å¼è®¿é—®æ­¤å€¼å°†å¼•å‘é”™è¯¯ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418205841.png\"></p>\n<h4 id=\"å£°æ˜ä¸å®šä¹‰\"><a href=\"#å£°æ˜ä¸å®šä¹‰\" class=\"headerlink\" title=\"å£°æ˜ä¸å®šä¹‰\"></a>å£°æ˜ä¸å®šä¹‰</h4><p>c++å°†å£°æ˜å’Œå®šä¹‰åŒºåˆ†å¼€æ¥ï¼Œå£°æ˜ä½¿å¾—åå­—ä¸ºç¨‹åºæ‰€çŸ¥ï¼Œå®šä¹‰è´Ÿè´£åˆ›å»ºä¸åå­—å…³è”çš„å®ä½“ã€‚</p>\n<p>å˜é‡å£°æ˜è§„å®šå˜é‡çš„ç±»å‹å’Œåå­—ï¼Œåœ¨è¿™ä¸€ç‚¹ä¸Šå®šä¹‰ä¸ä¹‹ç›¸åŒï¼Œä½†é™¤æ­¤ä¹‹å¤–ï¼Œå®šä¹‰è¿˜ç”³è¯·å­˜å‚¨ç©ºé—´ï¼Œä¹Ÿå¯èƒ½ä¸ºå˜é‡èµ‹ä¸€ä¸ªåˆå§‹å€¼ã€‚</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">extern</span> <span class=\"type\">int</span> i; <span class=\"comment\">// å¦‚æœæƒ³å£°æ˜ä¸€ä¸ªå˜é‡è€Œéå®šä¹‰å®ƒï¼Œåœ¨å˜é‡åå‰æ·»åŠ å…³é”®å­—extern</span></span><br><span class=\"line\"><span class=\"type\">int</span> j;<span class=\"comment\">// å£°æ˜å¹¶å®šä¹‰ j</span></span><br><span class=\"line\"><span class=\"keyword\">extern</span> <span class=\"type\">double</span> pi = <span class=\"number\">3.1416</span>; <span class=\"comment\">// externè¯­å¥å¦‚æœåŒ…å«åˆå§‹å€¼å°±ä¸å†æ˜¯å£°æ˜ï¼Œè€Œå˜æˆå®šä¹‰äº†ã€‚</span></span><br><span class=\"line\"><span class=\"comment\">// å¦‚æœåœ¨å‡½æ•°ä½“è¿™æ ·å†™ï¼Œå°†ä¼šå¼•å‘é”™è¯¯ã€‚</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"æŒ‡é’ˆå’Œå¼•ç”¨\"><a href=\"#æŒ‡é’ˆå’Œå¼•ç”¨\" class=\"headerlink\" title=\"æŒ‡é’ˆå’Œå¼•ç”¨\"></a>æŒ‡é’ˆå’Œå¼•ç”¨</h3><h4 id=\"å¼•ç”¨\"><a href=\"#å¼•ç”¨\" class=\"headerlink\" title=\"å¼•ç”¨\"></a>å¼•ç”¨</h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418211425.png\"></p>\n<ul>\n<li>å¼•ç”¨å³åˆ«åã€‚</li>\n<li>å¼•ç”¨æœ¬èº«å¹¶ä¸æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä¸èƒ½å®šä¹‰å¼•ç”¨çš„å¼•ç”¨ã€‚</li>\n<li>å¼•ç”¨ç±»å‹è¦ä¸ä¹‹ç»‘å®šçš„å¯¹è±¡ä¸¥æ ¼åŒ¹é…ã€‚</li>\n<li>å¼•ç”¨åªèƒ½ç»‘å®šåœ¨å¯¹è±¡ä¸Šï¼Œä¸èƒ½ä¸å­—é¢å€¼æˆ–æŸä¸ªè¡¨è¾¾å¼çš„è®¡ç®—ç»“æœç»‘å®šåœ¨ä¸€èµ·ã€‚</li>\n</ul>\n<h4 id=\"æŒ‡é’ˆ\"><a href=\"#æŒ‡é’ˆ\" class=\"headerlink\" title=\"æŒ‡é’ˆ\"></a>æŒ‡é’ˆ</h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418211747.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418211809.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418211905.png\"></p>\n<p>æŒ‡é’ˆçš„å€¼ï¼ˆåœ°å€ï¼‰åº”å±äºä¸‹åˆ—4ç§çŠ¶æ€ä¹‹ä¸€ï¼š</p>\n<ul>\n<li>æŒ‡å‘ä¸€ä¸ªå¯¹è±¡</li>\n<li>æŒ‡å‘ç´§é‚»å¯¹è±¡æ‰€å ç©ºé—´çš„ä¸‹ä¸€ä¸ªä½ç½®</li>\n<li>ç©ºæŒ‡é’ˆï¼Œæ„å‘³ç€æŒ‡é’ˆæ²¡æœ‰æŒ‡å‘ä»»ä½•å¯¹è±¡</li>\n<li>æ— æ•ˆæŒ‡é’ˆï¼Œä¹Ÿå°±æ˜¯ä¸Šè¿°æƒ…å†µä¹‹å¤–çš„å…¶ä»–å€¼ï¼Œè¯•å›¾æ‹·è´æˆ–ä»¥å…¶ä»–å½¢å¼è®¿é—®æ— æ•ˆæŒ‡é’ˆéƒ½å°†å¼•å‘é”™è¯¯</li>\n</ul>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418212135.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418212340.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418212627.png\"></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">int</span> *&amp;r = p; <span class=\"comment\">// ä»å³å¾€å·¦è¯»ï¼Œç¦»å˜é‡åæœ€è¿‘çš„ç¬¦å·å¯¹å˜é‡çš„ç±»å‹æœ‰æœ€ç›´æ¥çš„å½±å“ï¼Œå› æ­¤ræ˜¯ä¸€ä¸ªå¼•ç”¨ã€‚*è¯´æ˜rå¼•ç”¨çš„æ˜¯ä¸€ä¸ªæŒ‡é’ˆã€‚</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"const\"><a href=\"#const\" class=\"headerlink\" title=\"const\"></a>const</h3><p>é»˜è®¤çŠ¶æ€ä¸‹ï¼Œconstå¯¹è±¡ä»…åœ¨ä¸€ä¸ªæ–‡ä»¶å†…æœ‰æ•ˆï¼Œå¦‚æœç¨‹åºåŒ…å«å¤šä¸ªæ–‡ä»¶ï¼ŒåŒåçš„constå˜é‡å…¶å®ç­‰åŒäºåœ¨ä¸åŒæ–‡ä»¶ä¸­åˆ†åˆ«å®šä¹‰äº†ç‹¬ç«‹çš„å˜é‡ã€‚è§£å†³çš„æ–¹æ³•ä¾¿æ˜¯åœ¨constå˜é‡å‰åŠ extern</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">extern</span> <span class=\"type\">const</span> <span class=\"type\">int</span> i = <span class=\"number\">5</span>;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"constä¸å¼•ç”¨\"><a href=\"#constä¸å¼•ç”¨\" class=\"headerlink\" title=\"constä¸å¼•ç”¨\"></a>constä¸å¼•ç”¨</h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418213248.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418213820.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418214147.png\"></p>\n<p>ç”±äºconstå¼•ç”¨ä¹Ÿç»å¸¸è¢«ç§°ä¸ºå¸¸é‡å¼•ç”¨ï¼Œæ‰€ä»¥åœ¨æ­£å¸¸å¼•ç”¨ä¸­ä¸èƒ½åšçš„â€”â€”ä½¿ç”¨å­—é¢å€¼æˆ–è€…è¡¨è¾¾å¼ä½œä¸ºåˆå§‹å€¼ï¼Œç±»å‹ä¸ä¸€è‡´ï¼Œåœ¨constå¼•ç”¨ä¸­éƒ½å¯ä»¥åš</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418214232.png\"></p>\n<h4 id=\"constä¸æŒ‡é’ˆ\"><a href=\"#constä¸æŒ‡é’ˆ\" class=\"headerlink\" title=\"constä¸æŒ‡é’ˆ\"></a>constä¸æŒ‡é’ˆ</h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418214516.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418214614.png\"></p>\n<h4 id=\"é¡¶å±‚ä¸åº•å±‚const\"><a href=\"#é¡¶å±‚ä¸åº•å±‚const\" class=\"headerlink\" title=\"é¡¶å±‚ä¸åº•å±‚const\"></a>é¡¶å±‚ä¸åº•å±‚const</h4><p>é¡¶å±‚constè¡¨ç¤ºæŒ‡é’ˆæœ¬èº«æ˜¯ä¸ªå¸¸é‡ï¼Œåº•å±‚constè¡¨ç¤ºæŒ‡é’ˆæ‰€æŒ‡çš„å¯¹è±¡æ˜¯ä¸€ä¸ªå¸¸é‡ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œé¡¶å±‚constè¡¨ç¤ºçš„å¯¹è±¡æ˜¯å¸¸é‡ï¼Œæ— æ³•æ”¹å˜ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418215607.png\"></p>\n<h5 id=\"constexpr-å’Œå¸¸é‡è¡¨è¾¾å¼\"><a href=\"#constexpr-å’Œå¸¸é‡è¡¨è¾¾å¼\" class=\"headerlink\" title=\"constexpr å’Œå¸¸é‡è¡¨è¾¾å¼\"></a>constexpr å’Œå¸¸é‡è¡¨è¾¾å¼</h5><p>å¸¸é‡è¡¨è¾¾å¼æŒ‡å€¼ä¸ä¼šæ”¹å˜ä¸”åœ¨ç¼–è¯‘è¿‡ç¨‹å°±èƒ½å¾—åˆ°è®¡ç®—ç»“æœçš„è¡¨è¾¾å¼ã€‚</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> max_files = <span class=\"number\">20</span>; <span class=\"comment\">// æ˜¯å¸¸é‡è¡¨è¾¾å¼</span></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> limit = max_files + <span class=\"number\">1</span>;<span class=\"comment\">// æ˜¯å¸¸é‡è¡¨è¾¾å¼</span></span><br><span class=\"line\"><span class=\"type\">int</span> staff_size = <span class=\"number\">27</span>;<span class=\"comment\">// ä¸æ˜¯å¸¸é‡è¡¨è¾¾å¼</span></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> sz = <span class=\"built_in\">get_size</span>();<span class=\"comment\">// ä¸æ˜¯å¸¸é‡è¡¨è¾¾å¼</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418220303.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418220655.png\"></p>\n<h3 id=\"å¤„ç†ç±»å‹\"><a href=\"#å¤„ç†ç±»å‹\" class=\"headerlink\" title=\"å¤„ç†ç±»å‹\"></a>å¤„ç†ç±»å‹</h3><h4 id=\"ç±»å‹åˆ«å\"><a href=\"#ç±»å‹åˆ«å\" class=\"headerlink\" title=\"ç±»å‹åˆ«å\"></a>ç±»å‹åˆ«å</h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418220844.png\"></p>\n<h4 id=\"auto\"><a href=\"#auto\" class=\"headerlink\" title=\"auto\"></a>auto</h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418221240.png\"></p>\n<h4 id=\"decltype\"><a href=\"#decltype\" class=\"headerlink\" title=\"decltype\"></a>decltype</h4><p>decltype ä½œç”¨æ˜¯é€‰æ‹©å¹¶è¿”å›æ“ä½œæ•°çš„æ•°æ®ç±»å‹ã€‚ç¼–è¯‘å™¨åªåˆ†æè¡¨è¾¾å¼å¾—åˆ°ç±»å‹ï¼Œå´ä¸å®é™…è®¡ç®—è¡¨è¾¾å¼çš„å€¼</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418221458.png\"></p>\n<h3 id=\"æ•°ç»„\"><a href=\"#æ•°ç»„\" class=\"headerlink\" title=\"æ•°ç»„\"></a>æ•°ç»„</h3><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418222613.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418222654.png\"></p>\n<p>ä½¿ç”¨æ•°ç»„ä¸‹æ ‡æ—¶ï¼Œé€šå¸¸å°†å…¶å®šä¹‰ä¸ºsize_tç±»å‹ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419093955.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419094201.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419094228.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419094312.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419094545.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419094557.png\"></p>\n<p>ä¸¥æ ¼æ¥è¯´ï¼Œc++æ²¡æœ‰å¤šç»´æ•°ç»„ï¼Œé€šå¸¸è¯´çš„å¤šç»´æ•°ç»„å…¶å®æ˜¯æ•°ç»„çš„æ•°ç»„</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419094706.png\"></p>\n<h3 id=\"è¡¨è¾¾å¼\"><a href=\"#è¡¨è¾¾å¼\" class=\"headerlink\" title=\"è¡¨è¾¾å¼\"></a>è¡¨è¾¾å¼</h3><h4 id=\"å·¦å€¼å³å€¼\"><a href=\"#å·¦å€¼å³å€¼\" class=\"headerlink\" title=\"å·¦å€¼å³å€¼\"></a>å·¦å€¼å³å€¼</h4><p>å½“ä¸€ä¸ªå¯¹è±¡è¢«ç”¨ä½œå³å€¼çš„æ—¶å€™ï¼Œç”¨çš„æ˜¯å¯¹è±¡çš„å€¼ï¼ˆå†…å®¹ï¼‰ï¼›å½“å¯¹è±¡è¢«ç”¨ä½œå·¦å€¼çš„æ—¶å€™ï¼Œç”¨çš„æ˜¯å¯¹è±¡çš„èº«ä»½ï¼ˆåœ¨å†…å­˜ä¸­çš„ä½ç½®ï¼‰ã€‚</p>\n<h4 id=\"æ±‚å€¼é¡ºåº\"><a href=\"#æ±‚å€¼é¡ºåº\" class=\"headerlink\" title=\"æ±‚å€¼é¡ºåº\"></a>æ±‚å€¼é¡ºåº</h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419095331.png\"></p>\n<h4 id=\"å–ä½™\"><a href=\"#å–ä½™\" class=\"headerlink\" title=\"å–ä½™\"></a>å–ä½™</h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419095540.png\"></p>\n<h4 id=\"i-è¿˜æ˜¯-i\"><a href=\"#i-è¿˜æ˜¯-i\" class=\"headerlink\" title=\"++i è¿˜æ˜¯ i++\"></a>++i è¿˜æ˜¯ i++</h4><p>å‰ç½®ç‰ˆæœ¬å°†å¯¹è±¡æœ¬èº«ä½œä¸ºå·¦å€¼è¿”å›ï¼Œåç½®ç‰ˆæœ¬åˆ™å°†å¯¹è±¡åŸå§‹å€¼çš„å‰¯æœ¬ä½œä¸ºå³å€¼è¿”å›ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419095813.png\"></p>\n<h4 id=\"æ¡ä»¶è¿ç®—ç¬¦\"><a href=\"#æ¡ä»¶è¿ç®—ç¬¦\" class=\"headerlink\" title=\"æ¡ä»¶è¿ç®—ç¬¦\"></a>æ¡ä»¶è¿ç®—ç¬¦</h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419095939.png\"></p>\n<h4 id=\"ä½è¿ç®—ç¬¦\"><a href=\"#ä½è¿ç®—ç¬¦\" class=\"headerlink\" title=\"ä½è¿ç®—ç¬¦\"></a>ä½è¿ç®—ç¬¦</h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419100130.png\"></p>\n<h4 id=\"sizeof-è¿ç®—ç¬¦\"><a href=\"#sizeof-è¿ç®—ç¬¦\" class=\"headerlink\" title=\"sizeof è¿ç®—ç¬¦\"></a>sizeof è¿ç®—ç¬¦</h4><p>sizeof è¿”å›ä¸€æ¡è¡¨è¾¾å¼æˆ–ä¸€ä¸ªç±»å‹åå­—æ‰€å çš„å­—èŠ‚æ•°ã€‚å…¶æ‰€å¾—å€¼æ˜¯ä¸€ä¸ªsize_tç±»å‹çš„å¸¸é‡è¡¨è¾¾å¼ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419100642.png\"></p>\n<h4 id=\"æ˜¾å¼è½¬æ¢\"><a href=\"#æ˜¾å¼è½¬æ¢\" class=\"headerlink\" title=\"æ˜¾å¼è½¬æ¢\"></a>æ˜¾å¼è½¬æ¢</h4><ul>\n<li><p>static_cast: åªè¦ä¸åŒ…å«åº•å±‚constï¼Œå°±å¯ä»¥ç”¨ã€‚å½“éœ€è¦æŠŠä¸€ä¸ªè¾ƒå¤§çš„ç®—æ•°ç±»å‹å¤åˆ¶ç»™è¾ƒå°çš„ç±»å‹æ—¶ï¼ŒåŒæ—¶æˆ‘ä»¬ä¸åœ¨ä¹æ½œåœ¨çš„ç²¾åº¦æŸå¤±ï¼Œstatic_castå°±éå¸¸æœ‰ç”¨ã€‚<br><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419104556.png\"><br><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419132259.png\"><br><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419132320.png\"></p>\n</li>\n<li><p>dynamic_cast:è¿è¡Œæ—¶ç±»å‹è¯†åˆ«çš„è¿ç®—ç¬¦ï¼Œç”¨äºå°†åŸºç±»çš„æŒ‡é’ˆæˆ–å¼•ç”¨å®‰å…¨åœ°è½¬åŒ–ä¸ºæ´¾ç”Ÿç±»çš„æŒ‡é’ˆæˆ–å¼•ç”¨ã€‚<br><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419132236.png\"></p>\n</li>\n<li><p>const_cast: å®ƒåªèƒ½æ”¹å˜è¿ç®—å¯¹è±¡çš„åº•å±‚constï¼Œä¸€èˆ¬ç§°å…¶ä¸ºâ€œå»æ‰constæ€§è´¨â€ï¼Œä¸€æ—¦å»æ‰ï¼Œç¼–è¯‘å™¨å°±ä¸å†ç»„ç»‡æˆ‘ä»¬å¯¹è¯¥å¯¹è±¡è¿›è¡Œå†™æ“ä½œäº†ã€‚<br><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419105145.png\"></p>\n</li>\n<li><p>reinterpret_cast: é€šå¸¸ä¸ºè¿ç®—å¯¹è±¡çš„ä½æ¨¡å¼æä¾›è¾ƒä½å±‚æ¬¡çš„é‡æ–°è§£é‡Šã€‚<br><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419110344.png\"></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">int</span>* p = <span class=\"keyword\">new</span> <span class=\"built_in\">int</span>(<span class=\"number\">65</span>);</span><br><span class=\"line\"><span class=\"type\">char</span>* ch = <span class=\"built_in\">reinterpret_cast</span>&lt;<span class=\"type\">char</span>*&gt; (p);</span><br><span class=\"line\">cout &lt;&lt; *p &lt;&lt; endl; <span class=\"comment\">// 65</span></span><br><span class=\"line\">cout &lt;&lt; *ch &lt;&lt; endl; <span class=\"comment\">// A</span></span><br><span class=\"line\">cout &lt;&lt; p &lt;&lt; endl; <span class=\"comment\">// åœ°å€00000249CE417930</span></span><br><span class=\"line\">cout &lt;&lt; ch &lt;&lt; endl; <span class=\"comment\">// A</span></span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>ä¸¾ä¸ªä¾‹å­ï¼Œ32ä½ç³»ç»Ÿï¼Œintæ˜¯32ä½ï¼ŒæŒ‡é’ˆä¹Ÿæ˜¯32ä½ï¼Œæˆ‘æ—¢å¯ä»¥æŠŠä¸€ä¸ª32ä½çš„å€¼è§£é‡Šæˆä¸€ä¸ªæ•´æ•°ï¼Œä¹Ÿå¯ä»¥è§£é‡Šæˆä¸€ä¸ªæŒ‡é’ˆã€‚è‡³äºç©¶ç«Ÿèƒ½ä¸èƒ½è¿™æ ·è§£é‡Šï¼Œç”±ç¨‹åºå‘˜è´Ÿè´£ã€‚è€Œreinterpret_castå°±æ˜¯å¹²è¿™ä¸ªäº‹çš„ã€‚<br><a href=\"https://zhuanlan.zhihu.com/p/33040213\">C++ç±»å‹è½¬æ¢ä¹‹reinterpret_cast</a></p>\n</blockquote>\n</li>\n</ul>\n<h4 id=\"RTTI-è¿è¡Œæ—¶ç±»å‹è¯†åˆ«\"><a href=\"#RTTI-è¿è¡Œæ—¶ç±»å‹è¯†åˆ«\" class=\"headerlink\" title=\"RTTI è¿è¡Œæ—¶ç±»å‹è¯†åˆ«\"></a>RTTI è¿è¡Œæ—¶ç±»å‹è¯†åˆ«</h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419132434.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419132459.png\"></p>\n<p>typeid ä½œç”¨äºå¯¹è±¡ï¼Œæˆ‘ä»¬åº”è¯¥ç”¨*bpè€Œébp</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419132655.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419132730.png\"></p>\n<h3 id=\"å‡½æ•°\"><a href=\"#å‡½æ•°\" class=\"headerlink\" title=\"å‡½æ•°\"></a>å‡½æ•°</h3><h4 id=\"å±€éƒ¨å¯¹è±¡\"><a href=\"#å±€éƒ¨å¯¹è±¡\" class=\"headerlink\" title=\"å±€éƒ¨å¯¹è±¡\"></a>å±€éƒ¨å¯¹è±¡</h4><p>åå­—æœ‰ä½œç”¨åŸŸã€å¯¹è±¡æœ‰ç”Ÿå‘½å‘¨æœŸã€‚</p>\n<ul>\n<li>åå­—çš„ä½œç”¨åŸŸæ˜¯ç¨‹åºæ–‡æœ¬çš„ä¸€éƒ¨åˆ†ï¼Œåå­—åœ¨å…¶ä¸­å¯è§</li>\n<li>å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸæ˜¯ç¨‹åºæ‰§è¡Œè¿‡ç¨‹ä¸­è¯¥å¯¹è±¡å­˜åœ¨çš„ä¸€æ®µæ—¶é—´</li>\n</ul>\n<p>è‡ªåŠ¨å¯¹è±¡ï¼šæˆ‘ä»¬æŠŠåªå­˜åœ¨äºå—æ‰§è¡ŒæœŸé—´çš„å¯¹è±¡ç§°ä¸ºè‡ªåŠ¨å¯¹è±¡ã€‚å½“å—çš„æ‰§è¡Œç»“æŸåï¼Œå—ä¸­åˆ›å»ºçš„è‡ªåŠ¨å¯¹è±¡çš„å€¼å°±å˜æˆæœªå®šä¹‰çš„äº†ã€‚</p>\n<p>å½¢å‚æ˜¯ä¸€ç§è‡ªåŠ¨å¯¹è±¡ã€‚å‡½æ•°å¼€å§‹æ—¶ä¸ºå½¢å‚ç”³è¯·å­˜å‚¨ç©ºé—´ï¼Œå‡½æ•°ä¸€æ—¦ç»ˆæ­¢ï¼Œå½¢å‚å°±è¢«é”€æ¯ã€‚</p>\n<p>å±€éƒ¨é™æ€å¯¹è±¡ï¼šåœ¨ç¨‹åºçš„ç¬¬ä¸€æ¬¡æ‰§è¡Œåˆå§‹åŒ–ï¼Œç›´åˆ°ç¨‹åºç»ˆæ­¢æ‰é”€æ¯ã€‚åœ¨æ­¤æœŸé—´ï¼Œå³ä½¿å¯¹è±¡æ‰€åœ¨çš„å‡½æ•°ç»“æŸæ‰§è¡Œä¹Ÿä¸ä¼šå¯¹å®ƒæœ‰æ‰€å½±å“ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230421105708.png\"></p>\n<h4 id=\"ä¼ å€¼å‚æ•°\"><a href=\"#ä¼ å€¼å‚æ•°\" class=\"headerlink\" title=\"ä¼ å€¼å‚æ•°\"></a>ä¼ å€¼å‚æ•°</h4><p>å½¢å‚åˆå§‹åŒ–çš„åŸç†ä¸å˜é‡åˆå§‹åŒ–ä¸€æ ·ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230421110256.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230421110522.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230421110618.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230421110649.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230421110735.png\"></p>\n<p><strong>å«æœ‰å¯å˜å½¢å‚çš„å‡½æ•°</strong> ï¼š </p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230421110825.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230421110855.png\"></p>\n<h4 id=\"å‡½æ•°è¿”å›å€¼\"><a href=\"#å‡½æ•°è¿”å›å€¼\" class=\"headerlink\" title=\"å‡½æ•°è¿”å›å€¼\"></a>å‡½æ•°è¿”å›å€¼</h4><p>ä¸è¦è¿”å›å±€éƒ¨å¯¹è±¡çš„å¼•ç”¨æˆ–æŒ‡é’ˆï¼šå‡½æ•°å®Œæˆåï¼Œå®ƒæ‰€å ç”¨çš„å­˜å‚¨ç©ºé—´ä¹Ÿéšä¹‹è¢«é‡Šæ”¾æ‰ã€‚å› æ­¤ï¼Œå‡½æ•°ç»ˆæ­¢æ„å‘³ç€å±€éƒ¨å˜é‡çš„å¼•ç”¨å°†æŒ‡å‘ä¸å†æœ‰æ•ˆçš„å†…å­˜åŒºåŸŸã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230421111054.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230421111845.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230421111856.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230421111906.png\"></p>\n<h4 id=\"å‡½æ•°é‡è½½\"><a href=\"#å‡½æ•°é‡è½½\" class=\"headerlink\" title=\"å‡½æ•°é‡è½½\"></a>å‡½æ•°é‡è½½</h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230421112312.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230421112244.png\"></p>\n<h4 id=\"å†…è”å‡½æ•°\"><a href=\"#å†…è”å‡½æ•°\" class=\"headerlink\" title=\"å†…è”å‡½æ•°\"></a>å†…è”å‡½æ•°</h4><p>å†…è”å‡½æ•°å¯é¿å…å‡½æ•°è°ƒç”¨çš„å¼€é”€ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œå†…è”æœºåˆ¶ç”¨äºä¼˜åŒ–è§„æ¨¡è¾ƒå°ï¼Œæµç¨‹ç›´æ¥ï¼Œé¢‘ç¹è°ƒç”¨çš„å‡½æ•°ã€‚å°±æ¯”å¦‚è¯´ï¼Œè°ƒç”¨å‡½æ•°æ¯”å‡½æ•°æ‰§è¡Œæ—¶é—´é•¿ï¼Œç”¨å†…è”å‡½æ•°å°±è¡Œäº†ã€‚</p>\n<h4 id=\"constexpr-å‡½æ•°\"><a href=\"#constexpr-å‡½æ•°\" class=\"headerlink\" title=\"constexpr å‡½æ•°\"></a>constexpr å‡½æ•°</h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230421125221.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230421125231.png\"></p>\n<h4 id=\"å®å‚ç±»å‹è½¬æ¢\"><a href=\"#å®å‚ç±»å‹è½¬æ¢\" class=\"headerlink\" title=\"å®å‚ç±»å‹è½¬æ¢\"></a>å®å‚ç±»å‹è½¬æ¢</h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230421125357.png\"></p>\n<h4 id=\"å‡½æ•°æŒ‡é’ˆ\"><a href=\"#å‡½æ•°æŒ‡é’ˆ\" class=\"headerlink\" title=\"å‡½æ•°æŒ‡é’ˆ\"></a>å‡½æ•°æŒ‡é’ˆ</h4><p>æ„Ÿè§‰ç±»ä¼¼äºc#çš„å§”æ‰˜ï¼Œåƒæ˜¯ç»™ä¸€ä¸ªå‡½æ•°çš„åˆ«å</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230421130122.png\"></p>\n<h3 id=\"åˆæ­¥æ¢ç´¢ç±»\"><a href=\"#åˆæ­¥æ¢ç´¢ç±»\" class=\"headerlink\" title=\"åˆæ­¥æ¢ç´¢ç±»\"></a>åˆæ­¥æ¢ç´¢ç±»</h3><h4 id=\"constæˆå‘˜å‡½æ•°\"><a href=\"#constæˆå‘˜å‡½æ•°\" class=\"headerlink\" title=\"constæˆå‘˜å‡½æ•°\"></a>constæˆå‘˜å‡½æ•°</h4><p>å¸¸é‡å¯¹è±¡ã€ä»¥åŠå¸¸é‡å¯¹è±¡çš„å¼•ç”¨æˆ–æŒ‡é’ˆéƒ½åªèƒ½è°ƒç”¨å¸¸é‡æˆå‘˜å‡½æ•°ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230422204832.png\"></p>\n<p>ç®€å•æ¥è¯´ï¼Œå°±æ˜¯è®©è¯¥å‡½æ•°çš„æƒé™ä¸ºåªè¯»ï¼Œä¹Ÿå°±æ˜¯è¯´æ²¡æ³•å»æ”¹å˜æˆå‘˜å‡½æ•°çš„å€¼ã€‚<br>åŒæ—¶ï¼Œå¦‚æœä¸€ä¸ªå¯¹è±¡ä¸ºconstï¼Œå®ƒåªæœ‰æƒåŠ›è°ƒç”¨constå‡½æ•°ï¼Œå› ä¸ºæˆå‘˜å˜é‡ä¸èƒ½æ”¹å˜ã€‚</p>\n<h4 id=\"æ„é€ å‡½æ•°\"><a href=\"#æ„é€ å‡½æ•°\" class=\"headerlink\" title=\"æ„é€ å‡½æ•°\"></a>æ„é€ å‡½æ•°</h4><p>ä¸åŒäºå…¶ä»–å‡½æ•°ï¼Œæ„é€ å‡½æ•°ä¸èƒ½è¢«å£°æ˜æˆconstã€‚</p>\n<p>å¦‚æœæˆ‘ä»¬çš„ç±»æ²¡æœ‰æ˜¾å¼åœ°å®šä¹‰æ„é€ å‡½æ•°ï¼Œé‚£ä¹ˆç¼–è¯‘å™¨å°±ä¼šä¸ºæˆ‘ä»¬éšå¼åœ°å®šä¹‰ä¸€ä¸ªé»˜è®¤æ„é€ å‡½æ•°ã€‚åˆç§°ä¸ºåˆæˆé»˜è®¤æ„é€ å‡½æ•°ï¼ŒæŒ‰ç…§ä¸€ä¸‹è§„åˆ™åˆå§‹åŒ–ç±»åœ°æ•°æ®æˆå‘˜</p>\n<ul>\n<li>å¦‚æœå­˜åœ¨ç±»å†…çš„åˆå§‹å€¼ï¼Œå°±ç”¨å®ƒæ¥åˆå§‹åŒ–æˆå‘˜</li>\n<li>å¦åˆ™ï¼Œé»˜è®¤åˆå§‹åŒ–è¯¥æˆå‘˜ã€‚</li>\n</ul>\n<p>æŸäº›ç±»ä¸èƒ½ä¾èµ–äºåˆæˆçš„é»˜è®¤æ„é€ å‡½æ•°ï¼ŒåŸå› å¦‚ä¸‹ï¼š</p>\n<ul>\n<li>å¯¹äºä¸€ä¸ªæ™®é€šçš„ç±»æ¥è¯´ï¼Œå¿…é¡»å®šä¹‰å®ƒè‡ªå·±çš„é»˜è®¤æ„é€ å‡½æ•°ã€‚åªæœ‰ç±»ä¸åŒ…å«ä»»ä½•æ„é€ å‡½æ•°çš„æƒ…å†µä¸‹æ‰ä¼šè‡ªåŠ¨ç”Ÿæˆé»˜è®¤æ„é€ å‡½æ•°ã€‚</li>\n<li>å¯¹äºæŸäº›ç±»æ¥è¯´ï¼Œåˆæˆçš„é»˜è®¤æ„é€ å‡½æ•°å¯èƒ½æ‰§è¡Œé”™è¯¯çš„æ“ä½œã€‚å¦‚æœå®šä¹‰åœ¨å—ä¸­çš„å†…ç½®ç±»å‹æˆ–å¤åˆç±»å‹ï¼ˆæ•°ç»„å’ŒæŒ‡é’ˆï¼‰è¢«é»˜è®¤åˆå§‹åŒ–ï¼Œåˆ™å®ƒä»¬çš„å€¼å°†æ˜¯æœªå®šä¹‰çš„ã€‚</li>\n<li>å¦‚æœç±»ä¸­åŒ…å«ä¸€ä¸ªå…¶ä»–ç±»ç±»å‹çš„æˆå‘˜ä¸”è¿™ä¸ªæˆå‘˜æ²¡æœ‰é»˜è®¤æ„é€ å‡½æ•°ï¼Œé‚£ä¹ˆç¼–è¯‘å™¨å°†æ— æ³•åˆå§‹åŒ–è¯¥æˆå‘˜ã€‚</li>\n</ul>\n<p>&#x3D; defaultï¼Œå³è¦æ±‚ç¼–è¯‘å™¨ç”Ÿæˆé»˜è®¤æ„é€ å‡½æ•°ï¼Œå¦‚æœåœ¨ç±»çš„å†…éƒ¨ï¼Œé»˜è®¤æ˜¯å†…è”çš„ï¼Œå¦‚æœåœ¨ç±»çš„å¤–éƒ¨ï¼Œé»˜è®¤ä¸æ˜¯å†…è”çš„ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230422211706.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230422211751.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230422211833.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230422212543.png\"></p>\n<h4 id=\"å‹å…ƒ\"><a href=\"#å‹å…ƒ\" class=\"headerlink\" title=\"å‹å…ƒ\"></a>å‹å…ƒ</h4><p>ç±»å¯ä»¥å…è®¸å…¶ä»–ç±»æˆ–è€…å‡½æ•°è®¿é—®å®ƒçš„éå…¬æœ‰æˆå‘˜ï¼Œæ–¹æ³•æ˜¯ä»¤å…¶ä»–ç±»æˆ–è€…å‡½æ•°æˆä¸ºå®ƒçš„å‹å…ƒã€‚</p>\n<p>å‹å…ƒå£°æ˜åªèƒ½å‡ºç°åœ¨ç±»å®šä¹‰çš„å†…éƒ¨ï¼Œä½†æ˜¯åœ¨ç±»å†…å‡ºç°çš„å…·ä½“ä½ç½®ä¸é™ã€‚å‹å…ƒä¸æ˜¯ç±»çš„æˆå‘˜ä¹Ÿä¸å—å®ƒæ‰€åœ¨åŒºåŸŸè®¿é—®æ§åˆ¶çº§åˆ«çš„çº¦æŸã€‚ä¸€èˆ¬æ¥è¯´ï¼Œæœ€å¥½å®šä¹‰åœ¨ç±»å¼€å§‹çš„ä½ç½®æˆ–è€…ç»“æŸçš„ä½ç½®ã€‚</p>\n<p>å‹å…ƒä»…ä»…æŒ‡å®šäº†è®¿é—®æƒé™ï¼Œå¦‚æœå¸Œæœ›ç±»èƒ½å¤Ÿè°ƒç”¨æŸä¸ªå‹å…ƒå‡½æ•°ï¼Œé‚£ä¹ˆå¿…é¡»åœ¨å‹å…ƒå£°æ˜ä¹‹å¤–åœ¨ä¸“é—¨å¯¹å‡½æ•°å®šä¹‰ä¸€æ¬¡ã€‚</p>\n<h4 id=\"ç±»çš„inline\"><a href=\"#ç±»çš„inline\" class=\"headerlink\" title=\"ç±»çš„inline\"></a>ç±»çš„inline</h4><p>åœ¨ç±»ä¸­ï¼Œå¸¸æœ‰ä¸€äº›è§„æ¨¡è¾ƒå°çš„å‡½æ•°é€‚åˆè¢«å£°æ˜å†…è”å‡½æ•°ï¼Œå®šä¹‰åœ¨ç±»å†…éƒ¨çš„æˆå‘˜å‡½æ•°æ˜¯è‡ªåŠ¨inlineçš„ã€‚</p>\n<h4 id=\"å¯å˜æ•°æ®æˆå‘˜\"><a href=\"#å¯å˜æ•°æ®æˆå‘˜\" class=\"headerlink\" title=\"å¯å˜æ•°æ®æˆå‘˜\"></a>å¯å˜æ•°æ®æˆå‘˜</h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230422211331.png\"></p>\n<h4 id=\"ç±»çš„é™æ€æˆå‘˜\"><a href=\"#ç±»çš„é™æ€æˆå‘˜\" class=\"headerlink\" title=\"ç±»çš„é™æ€æˆå‘˜\"></a>ç±»çš„é™æ€æˆå‘˜</h4><p>ç±»çš„é™æ€æˆå‘˜å­˜åœ¨ä»»ä½•å¯¹è±¡ä¹‹å¤–ï¼Œå¯¹è±¡ä¸­ä¸åŒ…å«ä»»ä½•äºé™æ€æ•°æ®æˆå‘˜æœ‰å…³çš„æ•°æ®ã€‚é™æ€æˆå‘˜å‡½æ•°ä¹Ÿä¸äºˆä»»ä½•å¯¹è±¡ç»‘å®šåœ¨ä¸€èµ·ï¼Œå®ƒä»¬ä¸åŒ…å«thisæŒ‡é’ˆã€‚åŒæ—¶ï¼Œé™æ€æˆå‘˜å‡½æ•°ä¸èƒ½å£°æ˜æˆconstï¼Œä¹Ÿä¸èƒ½åœ¨é‡Œé¢è°ƒç”¨thisæŒ‡é’ˆã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230422213444.png\"></p>\n<h3 id=\"c-æ ‡å‡†åº“\"><a href=\"#c-æ ‡å‡†åº“\" class=\"headerlink\" title=\"c++æ ‡å‡†åº“\"></a>c++æ ‡å‡†åº“</h3><h4 id=\"é¡ºåºå®¹å™¨\"><a href=\"#é¡ºåºå®¹å™¨\" class=\"headerlink\" title=\"é¡ºåºå®¹å™¨\"></a>é¡ºåºå®¹å™¨</h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425195814.png\"></p>\n<p>é¡ºåºå®¹å™¨çš„é€‰æ‹©ï¼š</p>\n<ul>\n<li>é€šå¸¸é€‰æ‹©vector</li>\n<li>æœ‰å¾ˆå¤šå°å…ƒç´ ï¼Œç©ºé—´é¢å¤–å¼€é”€å¾ˆé‡è¦ï¼Œä¸è¦ç”¨listæˆ–forward_list</li>\n<li>éšæœºè®¿é—®å…ƒç´ ï¼Œç”¨vector æˆ– deque</li>\n<li>åœ¨ä¸­é—´æ’å…¥æˆ–åˆ é™¤å…ƒç´ ï¼Œåº”ä½¿ç”¨listæˆ–forward_list</li>\n<li>å¤´å°¾æ’å…¥æˆ–åˆ é™¤å…ƒç´ ï¼Œç”¨deque</li>\n<li>å¦‚æœåªæœ‰åœ¨è¾“å…¥æ—¶è¸©åœ¨ä¸­é—´ä½ç½®æ’å…¥å…ƒç´ ï¼Œéšåéœ€è¦éšæœºè®¿é—®ï¼šè€ƒè™‘è¾“å…¥é˜¶æ®µç”¨listï¼Œè¾“å…¥å®Œæˆåæ‹·è´åˆ°vector</li>\n<li>åˆè¦éšæœºè®¿é—®ï¼Œåˆè¦åœ¨ä¸­é—´ä½ç½®æ’å…¥å…ƒç´ ï¼Œçœ‹è®¿é—®æ“ä½œå¤šè¿˜æ˜¯æ’å…¥&#x2F;åˆ é™¤å…ƒç´ æ“ä½œå¤š</li>\n</ul>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425200215.png\"></p>\n<h4 id=\"å®¹å™¨è¿­ä»£å™¨\"><a href=\"#å®¹å™¨è¿­ä»£å™¨\" class=\"headerlink\" title=\"å®¹å™¨è¿­ä»£å™¨\"></a>å®¹å™¨è¿­ä»£å™¨</h4><p>beginæŒ‡å‘ç¬¬ä¸€ä¸ªå…ƒç´ ï¼ŒendæŒ‡å‘æœ€åä¸€ä¸ªå…ƒç´ ä¹‹åçš„ä½ç½®é€šå¸¸ç§°ä¸ºå·¦é—­å³åˆåŒºé—´ã€‚å³[begin,end)</p>\n<ul>\n<li>å¦‚æœbegin &#x3D;&#x3D; end è¯´æ˜è¯¥èŒƒå›´ä¸ºç©º</li>\n<li>å¦‚æœbegin !&#x3D; end è¯´æ˜è‡³å°‘åŒ…å«ä¸€ä¸ªå…ƒç´ ï¼Œä¸”beginæŒ‡å‘è¯¥èŒƒå›´ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ </li>\n<li>beginå¯ä»¥é€’å¢ï¼Œä½¿å¾—begin &#x3D;&#x3D; end</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">while</span>(begin!=end)&#123;</span><br><span class=\"line\">  *begin = val;</span><br><span class=\"line\">  ++begin;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425200629.png\"></p>\n<p>å½“ä¸éœ€è¦å†™è®¿é—®çš„æ—¶å€™ï¼Œåº”è¯¥ä½¿ç”¨cbeginå’Œcend</p>\n<h4 id=\"å®¹å™¨å®šä¹‰å’Œåˆå§‹åŒ–\"><a href=\"#å®¹å™¨å®šä¹‰å’Œåˆå§‹åŒ–\" class=\"headerlink\" title=\"å®¹å™¨å®šä¹‰å’Œåˆå§‹åŒ–\"></a>å®¹å™¨å®šä¹‰å’Œåˆå§‹åŒ–</h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425200725.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425200822.png\"></p>\n<h4 id=\"èµ‹å€¼å’Œswap\"><a href=\"#èµ‹å€¼å’Œswap\" class=\"headerlink\" title=\"èµ‹å€¼å’Œswap\"></a>èµ‹å€¼å’Œswap</h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425200902.png\"></p>\n<p>assign ç›¸å¯¹äºèµ‹å€¼è¿ç®—ç¬¦(&#x3D;)å…è®¸ä»ä»¥ä¸€ä¸ªä¸åŒä½†ç›¸å®¹çš„ç±»å‹èµ‹å€¼ï¼ˆæ¯”å¦‚char* å’Œ stringï¼‰ï¼Œæˆ–è€…ä»å®¹å™¨çš„ä¸€ä¸ªå­åºåˆ—èµ‹å€¼ã€‚assignæ“ä½œç”¨æ‰€æŒ‡å®šçš„å…ƒç´ çš„æ‹·è´æ›¿æ¢å®¹å™¨ä¸­çš„æ‰€æœ‰å…ƒç´ ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425201049.png\"></p>\n<p>swapæ“ä½œäº¤æ¢ä¸¤ä¸ªç›¸åŒç±»å‹çš„å†…å®¹ï¼Œä¿è¯æ“ä½œå¾ˆå¿«ï¼Œå…ƒç´ æœ¬èº«æœªè¢«äº¤æ¢ï¼Œåªæ˜¯äº¤æ¢äº†ä¸¤ä¸ªå®¹å™¨çš„å†…éƒ¨æ•°æ®ç»“æ„ã€‚<br>å…ƒç´ ä¸ä¼šè¢«ç§»åŠ¨æ„å‘³ç€ï¼Œé™¤stringå¤–æŒ‡å‘å®¹å™¨çš„è¿­ä»£å™¨ã€å¼•ç”¨æŒ‡é’ˆåœ¨swapåéƒ½ä¸ä¼šå¤±æ•ˆï¼Œé™¤äº†stringã€‚<br>ä¸å…¶ä»–å®¹å™¨ä¸åŒï¼Œswapä¸¤ä¸ªarrayä¼šçœŸæ­£åœ°äº¤æ¢å…ƒç´ ã€‚</p>\n<h4 id=\"å®¹å™¨æ¯”è¾ƒ\"><a href=\"#å®¹å™¨æ¯”è¾ƒ\" class=\"headerlink\" title=\"å®¹å™¨æ¯”è¾ƒ\"></a>å®¹å™¨æ¯”è¾ƒ</h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425201329.png\"></p>\n<h4 id=\"æ·»åŠ å…ƒç´ \"><a href=\"#æ·»åŠ å…ƒç´ \" class=\"headerlink\" title=\"æ·»åŠ å…ƒç´ \"></a>æ·»åŠ å…ƒç´ </h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425201416.png\"></p>\n<ul>\n<li>push_backã€push_frontã€insert:æ”¾å…¥åˆ°å®¹å™¨ä¸­çš„å…ƒç´ æ—¶å¯¹è±¡å€¼åœ°ä¸€ä¸ªæ‹·è´è€Œä¸æ˜¯å¯¹è±¡æœ¬èº«ã€‚</li>\n<li>emplaceæ“ä½œ:åˆ™æ˜¯å°†å‚æ•°ä¼ é€’ç»™å…ƒç´ ç±»å‹çš„æ„é€ å‡½æ•°ï¼Œç›´æ¥åœ¨å®¹å™¨ç®¡ç†çš„å†…å­˜ç©ºé—´ä¸­ç›´æ¥æ„é€ å…ƒç´ ï¼Œå‚æ•°å¿…é¡»ä¸å…ƒç´ ç±»å‹çš„æ„é€ å‡½æ•°ç›¸åŒ¹é…ã€‚</li>\n</ul>\n<h4 id=\"è®¿é—®å…ƒç´ \"><a href=\"#è®¿é—®å…ƒç´ \" class=\"headerlink\" title=\"è®¿é—®å…ƒç´ \"></a>è®¿é—®å…ƒç´ </h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425201920.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425202108.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425202245.png\"></p>\n<h4 id=\"åˆ é™¤å…ƒç´ \"><a href=\"#åˆ é™¤å…ƒç´ \" class=\"headerlink\" title=\"åˆ é™¤å…ƒç´ \"></a>åˆ é™¤å…ƒç´ </h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425202408.png\"></p>\n<h4 id=\"æ”¹å˜å®¹å™¨å¤§å°\"><a href=\"#æ”¹å˜å®¹å™¨å¤§å°\" class=\"headerlink\" title=\"æ”¹å˜å®¹å™¨å¤§å°\"></a>æ”¹å˜å®¹å™¨å¤§å°</h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425202449.png\"></p>\n<h4 id=\"string-æ“ä½œ\"><a href=\"#string-æ“ä½œ\" class=\"headerlink\" title=\"string æ“ä½œ\"></a>string æ“ä½œ</h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425202540.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425202609.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425202654.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425202711.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425202727.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425202750.png\"></p>\n<h4 id=\"å®¹å™¨é€‚é…å™¨\"><a href=\"#å®¹å™¨é€‚é…å™¨\" class=\"headerlink\" title=\"å®¹å™¨é€‚é…å™¨\"></a>å®¹å™¨é€‚é…å™¨</h4><p>ä¹Ÿå°±æ˜¯è®©å®¹å™¨çœ‹èµ·æ¥åƒä¸€ç§ä¸åŒçš„ç±»å‹ï¼Œæ¯”å¦‚è¯´queueæ˜¯åŸºäºdequeå®ç°çš„ã€‚æ¯”è¾ƒå¸¸è§çš„æ—¶stackï¼Œqueue,priority_queueã€‚</p>\n<h3 id=\"æ³›å‹ç®—æ³•\"><a href=\"#æ³›å‹ç®—æ³•\" class=\"headerlink\" title=\"æ³›å‹ç®—æ³•\"></a>æ³›å‹ç®—æ³•</h3><p>ç®—æ³•æ°¸è¿œä¸ä¼šæ”¹å˜åº•å±‚å®¹å™¨çš„å¤§å°ï¼Œå¯èƒ½æ”¹å˜å€¼ï¼Œå¯èƒ½ç§»åŠ¨å…ƒç´ ï¼Œä½†æ°¸è¿œä¸ä¼šæ·»åŠ æˆ–åˆ é™¤å…ƒç´ </p>\n<figure class=\"highlight c++\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// åªè¯»ç®—æ³•</span></span><br><span class=\"line\"><span class=\"type\">int</span> *result = <span class=\"built_in\">find</span>(vec.<span class=\"built_in\">begin</span>(),vec.<span class=\"built_in\">end</span>(),val);<span class=\"comment\">//æŸ¥æ‰¾ç®—æ³•</span></span><br><span class=\"line\"><span class=\"type\">int</span> result = <span class=\"built_in\">count</span>(vec.<span class=\"built_in\">begin</span>(),vec.<span class=\"built_in\">end</span>(),val);<span class=\"comment\">// ç»Ÿè®¡ä¸ªæ•°</span></span><br><span class=\"line\"><span class=\"type\">int</span> result = <span class=\"built_in\">accumulate</span>(v.<span class=\"built_in\">cbegin</span>(),vec.<span class=\"built_in\">cend</span>(),<span class=\"number\">0</span>);<span class=\"comment\">// æ±‚å’Œã€å’Œçš„åˆå€¼è®¾ç½®ä¸º0</span></span><br><span class=\"line\">string result = <span class=\"built_in\">accumulate</span>(v.<span class=\"built_in\">cbegin</span>(),vec.<span class=\"built_in\">cend</span>(),<span class=\"string\">&quot;&quot;</span>); <span class=\"comment\">// å°†vecçš„æ¯ä¸ªå…ƒç´ è¿èµ·æ¥</span></span><br><span class=\"line\"><span class=\"type\">bool</span> result = <span class=\"built_in\">equal</span>(vec.<span class=\"built_in\">cbegin</span>(),vec.<span class=\"built_in\">cend</span>(),other.<span class=\"built_in\">cbegin</span>());<span class=\"comment\">// æ¯”è¾ƒç®—æ³•ï¼Œç¡®å®šä¸¤ä¸ªåºåˆ—æ˜¯å¦ä¿å­˜ç›¸åŒçš„å€¼ï¼ŒåŸºäºä¸¤ä¸ªåºåˆ—ç›¸ç­‰çš„å‡è®¾ã€‚</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å†™ç®—æ³•</span></span><br><span class=\"line\"><span class=\"built_in\">fill</span>(vec.<span class=\"built_in\">begin</span>(),vec.<span class=\"built_in\">end</span>());<span class=\"comment\">// å°†å…ƒç´ é‡ç½®ä¸º0</span></span><br><span class=\"line\"><span class=\"built_in\">fill</span>(vec.<span class=\"built_in\">begin</span>(),vec.<span class=\"built_in\">begin</span>() + vec.<span class=\"built_in\">size</span>()/<span class=\"number\">2</span>,<span class=\"number\">10</span>);<span class=\"comment\">//å°†å­åºåˆ—éƒ½èµ‹ä¸º10</span></span><br><span class=\"line\"><span class=\"built_in\">fill_n</span>(vec.<span class=\"built_in\">begin</span>(),vec.<span class=\"built_in\">size</span>(),<span class=\"number\">0</span>); <span class=\"comment\">// ä¸fillç¨å¾®ä¸åŒï¼Œæ˜¯ä»vec.beginå¼€å§‹å°†vec.size()ä¸ªå…ƒç´ å˜ä¸º0ã€‚</span></span><br><span class=\"line\"><span class=\"comment\">// è¦æ³¨æ„çš„æ˜¯ï¼Œfill_nå‡å®šbeginæŒ‡å®šä¸€ä¸ªå…ƒç´ ï¼Œä»beginå¼€å§‹çš„åºåˆ—è‡³å°‘åŒ…å«vec.size()ä¸ªå…ƒç´ ï¼Œå®¹æ˜“çŠ¯çš„é”™è¯¯å°±æ˜¯åœ¨ç©ºå®¹å™¨è°ƒç”¨fill_n</span></span><br><span class=\"line\"><span class=\"keyword\">auto</span> ret = <span class=\"built_in\">copy</span>(vec.<span class=\"built_in\">begin</span>(),vec.<span class=\"built_in\">end</span>(),vec2);<span class=\"comment\">// å°†vecæ‹·è´åˆ°vec2ä¸­ï¼Œè¿”å›ç›®çš„ä½ç½®è¿­ä»£å™¨å³vec2ä¸ºå…ƒç´ ä¹‹åçš„ä½ç½®</span></span><br><span class=\"line\"><span class=\"built_in\">replace</span>(a.<span class=\"built_in\">begin</span>(),a.<span class=\"built_in\">end</span>(),<span class=\"number\">0</span>,<span class=\"number\">42</span>);<span class=\"comment\">//å°†0å˜ä¸º42</span></span><br><span class=\"line\"><span class=\"built_in\">replace_copy</span>(a.<span class=\"built_in\">cbegin</span>(),a.<span class=\"built_in\">cend</span>(),<span class=\"built_in\">back_inserter</span>(b),<span class=\"number\">0</span>,<span class=\"number\">42</span>);<span class=\"comment\">//å°†aæ‹·è´åˆ°bä½†æ˜¯æ‹·è´æ—¶0éƒ½ç¼–ç¨‹42</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// é‡æ’å…ƒç´ ç®—æ³•</span></span><br><span class=\"line\"><span class=\"built_in\">sort</span>(a.<span class=\"built_in\">begin</span>(),a.<span class=\"built_in\">end</span>());<span class=\"comment\">// ä»å°åˆ°å¤§æ’åº</span></span><br><span class=\"line\"><span class=\"keyword\">auto</span> end_unique = <span class=\"built_in\">unique</span>(a.<span class=\"built_in\">begin</span>(),a.<span class=\"built_in\">end</span>());<span class=\"comment\">//æ’åˆ—èŒƒå›´çš„å…ƒç´ ï¼ŒæŒ‡å‘ä¸é‡å¤åŒºåŸŸä¹‹åä¸€ä¸ªä½ç½®çš„è¿­ä»£å™¨</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"lambadaè¡¨è¾¾å¼ä¸æ³›å‹ç®—æ³•\"><a href=\"#lambadaè¡¨è¾¾å¼ä¸æ³›å‹ç®—æ³•\" class=\"headerlink\" title=\"lambadaè¡¨è¾¾å¼ä¸æ³›å‹ç®—æ³•\"></a>lambadaè¡¨è¾¾å¼ä¸æ³›å‹ç®—æ³•</h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425205348.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425205429.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425205447.png\"></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">biggies</span><span class=\"params\">(vector&lt;string&gt; &amp;words.vector&lt;string&gt;::size_type sz)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">elimDups</span>(words);<span class=\"comment\">//å°†wordsæŒ‰å­—å…¸åºæ’åºï¼Œåˆ é™¤é‡å¤å•è¯</span></span><br><span class=\"line\">  <span class=\"built_in\">stable_sort</span>(words.<span class=\"built_in\">begin</span>(),words.<span class=\"built_in\">end</span>(),[](<span class=\"type\">const</span> string &amp;a,<span class=\"type\">const</span> string &amp;b)&#123;<span class=\"keyword\">return</span> a.<span class=\"built_in\">size</span>() &lt; b.<span class=\"built_in\">size</span>()&#125;);</span><br><span class=\"line\">  <span class=\"keyword\">auto</span> wc = <span class=\"built_in\">find_if</span>(words.<span class=\"built_in\">begin</span>(),words.<span class=\"built_in\">end</span>(),[sz](<span class=\"type\">const</span> string &amp;a)&#123;<span class=\"keyword\">return</span> a.<span class=\"built_in\">size</span>() &gt;= sz&#125;);</span><br><span class=\"line\">  <span class=\"keyword\">auto</span> count = words.<span class=\"built_in\">end</span>() - wc;</span><br><span class=\"line\">  for_each(wc,words.<span class=\"built_in\">end</span>(),[](<span class=\"type\">const</span> string &amp;s)&#123;cout&lt;&lt; s &lt;&lt; <span class=\"string\">&quot; &quot;</span>&#125;);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"lambada-æ•è·\"><a href=\"#lambada-æ•è·\" class=\"headerlink\" title=\"lambada æ•è·\"></a>lambada æ•è·</h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425211551.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425211902.png\"></p>\n<h3 id=\"åŠ¨æ€å†…å­˜å’Œæ™ºèƒ½æŒ‡é’ˆ\"><a href=\"#åŠ¨æ€å†…å­˜å’Œæ™ºèƒ½æŒ‡é’ˆ\" class=\"headerlink\" title=\"åŠ¨æ€å†…å­˜å’Œæ™ºèƒ½æŒ‡é’ˆ\"></a>åŠ¨æ€å†…å­˜å’Œæ™ºèƒ½æŒ‡é’ˆ</h3><p>ç¨‹åºä½¿ç”¨åŠ¨æ€å†…å­˜çš„åŸå› ï¼š1.ç¨‹åºä¸çŸ¥é“è‡ªå·±éœ€è¦ä½¿ç”¨å¤šå°‘å¯¹è±¡ã€‚ 2.ç¨‹åºä¸çŸ¥é“æ‰€éœ€å¯¹è±¡çš„å‡†ç¡®ç±»å‹ã€‚ 3.ç¨‹åºéœ€è¦åœ¨å¤šä¸ªå¯¹è±¡é—´å…±äº«æ•°æ®ã€‚<br>åŠ¨æ€å†…å­˜å¾ˆéš¾ä½¿ç”¨ï¼Œæœ‰æ—¶å€™ä¼šå¿˜è®°é‡Šæ”¾å†…å­˜ï¼Œè¿™æ—¶ä¼šäº§ç”Ÿå†…å­˜æ³„æ¼ï¼›æœ‰æ—¶æŒ‡é’ˆå¼•ç”¨å†…å­˜çš„æƒ…å†µä¸‹æŒ‡é’ˆå·²ç»è¢«é‡Šæ”¾è¿™æ—¶ä¼šäº§ç”Ÿå¼•ç”¨éæ³•å†…å­˜çš„æŒ‡é’ˆã€‚</p>\n<h4 id=\"shared-ptr\"><a href=\"#shared-ptr\" class=\"headerlink\" title=\"shared_ptr\"></a>shared_ptr</h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230501202449.png\"></p>\n<p>é»˜è®¤åˆå§‹åŒ–çš„æ™ºèƒ½æŒ‡é’ˆä¿å­˜ä¸€ä¸ªç©ºæŒ‡é’ˆ</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"code\"><pre><span class=\"line\">shared_ptr&lt;string&gt; p1;<span class=\"comment\">// åˆå§‹åŒ–æ–¹å¼ä¸vectorä¸€æ ·</span></span><br><span class=\"line\"><span class=\"keyword\">if</span>(p1 &amp;&amp; p1-&gt;<span class=\"built_in\">empty</span>())</span><br><span class=\"line\">  *p1 = <span class=\"string\">&quot;hi&quot;</span></span><br><span class=\"line\"><span class=\"comment\">// å¦‚æœp1ä¸ä¸ºç©ºï¼Œæ£€æŸ¥å®ƒæ˜¯å¦æŒ‡å‘ä¸€ä¸ªç©ºstring</span></span><br></pre></td></tr></table></figure>\n\n<p>æœ€å®‰å…¨çš„åˆ†é…å’Œä½¿ç”¨åŠ¨æ€å†…å­˜çš„æ–¹æ³•æ˜¯è°ƒç”¨ä¸€ä¸ªåä¸ºmake_sharedçš„æ ‡å‡†åº“å‡½æ•°ã€‚æ­¤å‡½æ•°åœ¨åŠ¨æ€å†…å­˜ä¸­åˆ†é…ä¸€ä¸ªå¯¹è±¡å¹¶åˆå§‹åŒ–å®ƒï¼Œè¿”å›æŒ‡å‘æ­¤å¯¹è±¡çš„shared_ptr</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// æŒ‡å‘ä¸€ä¸ªå€¼ä¸º42çš„intçš„shared_ptr</span></span><br><span class=\"line\">shared_ptr&lt;<span class=\"type\">int</span>&gt; p3 = <span class=\"built_in\">make_shared</span>&lt;<span class=\"type\">int</span>&gt;(<span class=\"number\">42</span>);</span><br><span class=\"line\"><span class=\"comment\">// æŒ‡å‘ä¸€ä¸ªå€¼ä¸º&quot;9999999999&quot;çš„string</span></span><br><span class=\"line\">shared_ptr&lt;string&gt; p4 = <span class=\"built_in\">make_shared</span>&lt;string&gt;(<span class=\"number\">10</span>,<span class=\"string\">&#x27;9&#x27;</span>);</span><br><span class=\"line\"><span class=\"comment\">// æŒ‡å‘ä¸€ä¸ªå€¼åˆå§‹åŒ–çš„intï¼Œå³ä¸º0</span></span><br><span class=\"line\">shared_ptr&lt;<span class=\"type\">int</span>&gt; p5 = <span class=\"built_in\">make_shared</span>&lt;<span class=\"type\">int</span>&gt;();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ç±»ä¼¼äºvectorçš„emplaceï¼Œä¼ é€’å‚æ•°ç±»å‹å¿…é¡»ç›¸å¯¹åº”ï¼Œä¸ä¼ é€’çš„è¯å°±ä¼šè¿›è¡Œå€¼åˆå§‹åŒ–ï¼Œé€šå¸¸ç”¨autoæ¥ä¿å­˜</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">auto</span> p6 = <span class=\"built_in\">make_shared</span>&lt;<span class=\"type\">int</span>&gt;();</span><br></pre></td></tr></table></figure>\n\n<p>å½“è¿›è¡Œæ‹·è´æˆ–èµ‹å€¼æ“ä½œæ—¶ï¼Œæ¯ä¸ªshared_ptréƒ½ä¼šè®°å½•æœ‰å¤šå°‘ä¸ªå…¶ä»–shared_ptræŒ‡å‘ç›¸åŒçš„å¯¹è±¡ã€‚<br>æ¯ä¸ªshared_ptréƒ½æœ‰ä¸€ä¸ªå…³è”çš„è®¡æ•°å™¨ï¼Œé€šå¸¸ç§°ä¸º<strong>å¼•ç”¨è®¡æ•°</strong>ã€‚å½“æˆ‘ä»¬ç”¨ä¸€ä¸ªshared_ptrå»åˆå§‹åŒ–å¦ä¸€ä¸ªshared_ptrï¼Œæˆ–è€…ä½œä¸ºå‚æ•°ä¼ é€’ç»™å‡½æ•°ï¼Œæˆ–è€…ä½œä¸ºå‡½æ•°è¿”å›å€¼ï¼Œæ‰€å…³è”çš„è®¡æ•°å™¨éƒ½ä¼š<strong>é€’å¢</strong>ã€‚èµ‹äºˆä¸€ä¸ªæ–°å€¼ï¼Œæˆ–è€…shared_ptré”€æ¯ï¼ˆæ¯”å¦‚ç¦»å¼€ä½œç”¨åŸŸï¼‰è®¡æ•°å™¨é€’å‡ã€‚ä¸€æ—¦ä¸€ä¸ªshared_ptrè®¡æ•°å™¨å˜ä¸º0ï¼Œä¼šè‡ªåŠ¨é‡Šæ”¾è‡ªå·±æ‰€ç®¡ç†çš„å¯¹è±¡</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">auto</span> r = <span class=\"built_in\">make_shared</span>&lt;<span class=\"type\">int</span>&gt;(<span class=\"number\">42</span>);</span><br><span class=\"line\">r = q;<span class=\"comment\">// ç»™ r èµ‹å€¼è®©å®ƒæŒ‡å‘å¦ä¸€ä¸ªåœ°å€</span></span><br><span class=\"line\"><span class=\"comment\">// é€’å¢ q æŒ‡å‘å¯¹è±¡çš„å¼•ç”¨è®¡æ•°</span></span><br><span class=\"line\"><span class=\"comment\">// é€’å‡ r åŸæ¥æŒ‡å‘å¯¹è±¡çš„å¼•ç”¨è®¡æ•°</span></span><br><span class=\"line\"><span class=\"comment\">// r åŸæ¥æŒ‡å‘çš„å¯¹è±¡æ²¡æœ‰å¼•ç”¨è€…ï¼Œè‡ªåŠ¨é‡Šæ”¾</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"ç›´æ¥ç®¡ç†å†…å­˜\"><a href=\"#ç›´æ¥ç®¡ç†å†…å­˜\" class=\"headerlink\" title=\"ç›´æ¥ç®¡ç†å†…å­˜\"></a>ç›´æ¥ç®¡ç†å†…å­˜</h4><p>new åˆ†é…å†…å­˜ï¼Œdeleteé‡Šæ”¾newåˆ†é…çš„å†…å­˜</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">int</span> *pi = <span class=\"keyword\">new</span> <span class=\"type\">int</span>; <span class=\"comment\">// é»˜è®¤åˆå§‹åŒ–ï¼Œ*piçš„å€¼æœªå®šä¹‰</span></span><br><span class=\"line\"><span class=\"type\">int</span> *pi1 = <span class=\"keyword\">new</span> <span class=\"built_in\">int</span>(); <span class=\"comment\">// å€¼åˆå§‹åŒ–ï¼Œ*pi1ä¸º0</span></span><br><span class=\"line\"><span class=\"type\">int</span> *pi2 = <span class=\"keyword\">new</span> <span class=\"built_in\">int</span>(<span class=\"number\">1024</span>); <span class=\"comment\">// pi2æŒ‡å‘çš„å¯¹è±¡çš„å€¼ä¸º1024</span></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> *pci = <span class=\"keyword\">new</span> <span class=\"type\">const</span> <span class=\"built_in\">int</span>(<span class=\"number\">1024</span>);<span class=\"comment\">// åˆ†é…å¹¶åˆå§‹åŒ–ä¸€ä¸ªconst int</span></span><br><span class=\"line\"><span class=\"type\">const</span> string *pcs = <span class=\"keyword\">new</span> <span class=\"type\">const</span> string;<span class=\"comment\">// åˆ†é…å¹¶é»˜è®¤åˆå§‹åŒ–ä¸€ä¸ªconst çš„ç©ºstring</span></span><br><span class=\"line\"><span class=\"comment\">// ä¸€ä¸ªåŠ¨æ€åˆ†é…çš„constå¯¹è±¡å¿…é¡»åˆå§‹åŒ–</span></span><br><span class=\"line\"><span class=\"comment\">// å¯¹äºä¸€ä¸ªå®šä¹‰äº†é»˜è®¤æ„é€ å‡½æ•°çš„ç±»ç±»å‹</span></span><br><span class=\"line\"><span class=\"comment\">// å…¶conståŠ¨æ€å¯¹è±¡å¯ä»¥éšå¼åˆå§‹åŒ–</span></span><br><span class=\"line\"><span class=\"comment\">// è€Œå…¶ä»–ç±»å‹å¯¹è±¡å°±å¿…é¡»æ˜¾å¼åˆå§‹åŒ–</span></span><br><span class=\"line\"><span class=\"comment\">// ç”±äºåˆ†é…å¯¹è±¡æ˜¯constï¼Œnewè¿”å›çš„æŒ‡é’ˆæ˜¯ä¸€ä¸ªæŒ‡å‘constçš„æŒ‡é’ˆ</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å¦‚æœå†…å­˜ä¸å¤Ÿç”¨ï¼Œå†…å­˜åˆ†é…å¤±è´¥</span></span><br><span class=\"line\"><span class=\"type\">int</span> *p1 = <span class=\"keyword\">new</span> <span class=\"type\">int</span>;<span class=\"comment\">// newæŠ›å‡ºstd::bad_alloc</span></span><br><span class=\"line\"><span class=\"type\">int</span> *p2 = <span class=\"built_in\">new</span> (nothrow) <span class=\"type\">int</span>;<span class=\"comment\">// new è¿”å›ä¸€ä¸ªç©ºæŒ‡é’ˆ</span></span><br></pre></td></tr></table></figure>\n\n<p>deleteåšä¸¤æ­¥ï¼šé”€æ¯ç»™å®šæŒ‡é’ˆæŒ‡å‘çš„å¯¹è±¡;é‡Šæ”¾å¯¹åº”çš„å†…å­˜</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">int</span> i;</span><br><span class=\"line\"><span class=\"type\">int</span> *pi1 = &amp;i;</span><br><span class=\"line\"><span class=\"type\">int</span> *pi2 = <span class=\"literal\">nullptr</span>;</span><br><span class=\"line\"><span class=\"type\">double</span> *pd = <span class=\"keyword\">new</span> <span class=\"built_in\">double</span>(<span class=\"number\">33</span>);</span><br><span class=\"line\"><span class=\"type\">double</span> *pd2 = pd;</span><br><span class=\"line\"><span class=\"keyword\">delete</span> i;<span class=\"comment\">// é”™è¯¯ï¼Œiä¸æ˜¯æŒ‡é’ˆ</span></span><br><span class=\"line\"><span class=\"keyword\">delete</span> pi1;<span class=\"comment\">// æœªå®šä¹‰,piæŒ‡å‘ä¸€ä¸ªå±€éƒ¨å˜é‡</span></span><br><span class=\"line\"><span class=\"keyword\">delete</span> pd;<span class=\"comment\">// æ­£ç¡®</span></span><br><span class=\"line\"><span class=\"keyword\">delete</span> pd2;<span class=\"comment\">// æœªå®šä¹‰ï¼Œpd2æŒ‡å‘çš„å†…å­˜å·²ç»è¢«é‡Šæ”¾äº†</span></span><br><span class=\"line\"><span class=\"keyword\">delete</span> pi2;<span class=\"comment\">// æ­£ç¡®ï¼Œé‡Šæ”¾ä¸€ä¸ªç©ºæŒ‡é’ˆæ²¡æœ‰é”™è¯¯</span></span><br></pre></td></tr></table></figure>\n\n<p>ç”±å†…ç½®æŒ‡é’ˆç®¡ç†çš„åŠ¨æ€å†…å­˜åœ¨è¢«æ˜¾å¼é‡Šæ”¾(delete)å‰ä¸€ç›´éƒ½ä¼šå­˜åœ¨</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230501205622.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230501205711.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230501210052.png\"></p>\n<h4 id=\"unique-ptr\"><a href=\"#unique-ptr\" class=\"headerlink\" title=\"unique_ptr\"></a>unique_ptr</h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230501210525.png\"></p>\n<ul>\n<li>ä¸shared_pträ¸åŒï¼ŒæŸä¸ªæ—¶åˆ»<strong>åªèƒ½æœ‰ä¸€ä¸ªunique_ptræŒ‡å‘ä¸€ä¸ªç»™å®šå¯¹è±¡</strong>ã€‚å½“unique_ptrè¢«é”€æ¯æ—¶ï¼Œæ‰€æŒ‡å‘çš„å¯¹è±¡ä¹Ÿè¢«é”€æ¯ã€‚</li>\n<li>ä¸shared_pträ¸åŒï¼Œæ²¡æœ‰ç±»ä¼¼make_sharedçš„æ ‡å‡†åº“å‡½æ•°ï¼Œå®šä¹‰unique_ptræ—¶ï¼Œ<strong>éœ€è¦å°†å…¶ç»‘å®šåˆ°ä¸€ä¸ªnewè¿”å›çš„æŒ‡é’ˆä¸Š</strong>ã€‚</li>\n<li>ç”±äºä¸€ä¸ªunique_ptræ‹¥æœ‰æ‰€æŒ‡å‘çš„å¯¹è±¡ï¼Œæ‰€ä»¥<strong>ä¸æ”¯æŒæ™®é€šçš„æ‹·è´æˆ–èµ‹å€¼æ“ä½œ</strong>ã€‚</li>\n</ul>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230501210603.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230501210639.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230501210650.png\"></p>\n<h4 id=\"weak-ptr\"><a href=\"#weak-ptr\" class=\"headerlink\" title=\"weak_ptr\"></a>weak_ptr</h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230501210929.png\"></p>\n<p>weak_ptræ˜¯ä¸€ç§ä¸æ§åˆ¶æ‰€æŒ‡å‘å¯¹è±¡ç”Ÿå­˜æœŸçš„æ™ºèƒ½æŒ‡é’ˆï¼Œå®ƒæŒ‡å‘ç”±ä¸€ä¸ªshared_ptrç®¡ç†çš„å¯¹è±¡ã€‚å°†ä¸€ä¸ªweak_ptrç»‘å®šåˆ°ä¸€ä¸ªshared_pträ¸ä¼šæ”¹å˜å¼•ç”¨è®¡æ•°ã€‚ä¸€æ—¦æœ€åä¸€ä¸ªæŒ‡å‘å¯¹è±¡çš„shared_ptrè¢«é”€æ¯ï¼Œå¯¹è±¡å°±ä¼šè¢«é‡Šæ”¾ã€‚å³ä½¿æœ‰weak_ptræŒ‡å‘å¯¹è±¡ï¼Œå¯¹è±¡ä¹Ÿè¿˜æ˜¯ä¼šè¢«é‡Šæ”¾ã€‚</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// åˆ›å»ºä¸€ä¸ªweak_ptræ—¶ï¼Œè¦ç”¨ä¸€ä¸ªshared_ptræ¥åˆå§‹åŒ–å®ƒ</span></span><br><span class=\"line\"><span class=\"keyword\">auto</span> p = <span class=\"built_in\">make_shared</span>&lt;<span class=\"type\">int</span>&gt;(<span class=\"number\">42</span>);</span><br><span class=\"line\"><span class=\"function\">weak_ptr&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">wp</span><span class=\"params\">(p)</span></span>; </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ç”±äºå¯¹è±¡å¯èƒ½ä¸å­˜åœ¨ï¼Œä¸èƒ½ä½¿ç”¨weak_ptrç›´æ¥è®¿é—®å¯¹è±¡</span></span><br><span class=\"line\"><span class=\"comment\">// è€Œå¿…é¡»è°ƒç”¨lockï¼Œæ­¤å‡½æ•°æ£€æŸ¥weak_ptræ‰€æŒ‡å¯¹è±¡æ˜¯å¦ä»ç„¶å­˜åœ¨</span></span><br><span class=\"line\"><span class=\"keyword\">if</span>(shared_ptr&lt;<span class=\"type\">int</span>&gt; np = wp.lock)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"comment\">//åœ¨ifä¸­ï¼Œnpä¸på…±äº«å¯¹è±¡</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"æ‹·è´æ§åˆ¶\"><a href=\"#æ‹·è´æ§åˆ¶\" class=\"headerlink\" title=\"æ‹·è´æ§åˆ¶\"></a>æ‹·è´æ§åˆ¶</h3><h4 id=\"æ‹·è´æ„é€ å‡½æ•°\"><a href=\"#æ‹·è´æ„é€ å‡½æ•°\" class=\"headerlink\" title=\"æ‹·è´æ„é€ å‡½æ•°\"></a>æ‹·è´æ„é€ å‡½æ•°</h4><p>å¦‚æœä¸€ä¸ª<strong>æ„é€ å‡½æ•°</strong>çš„<strong>ç¬¬ä¸€ä¸ªå‚æ•°</strong>æ˜¯<strong>è‡ªèº«ç±»ç±»å‹</strong>çš„å¼•ç”¨ï¼Œä¸”ä»»ä½•é¢å¤–é»˜è®¤å‚æ•°éƒ½æœ‰é»˜è®¤å€¼ï¼Œåˆ™ä¸ºæ‹·è´æ„é€ å‡½æ•°ã€‚</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Foo</span>&#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">  <span class=\"built_in\">Foo</span>();<span class=\"comment\">// é»˜è®¤æ„é€ å‡½æ•°</span></span><br><span class=\"line\">  <span class=\"built_in\">Foo</span>(<span class=\"type\">const</span> Foo&amp;);<span class=\"comment\">// æ‹·è´æ„é€ å‡½æ•°</span></span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p>å¦‚æœæˆ‘ä»¬æ²¡æœ‰ä¸ºä¸€ä¸ªç±»å®šä¹‰æ‹·è´æ„é€ å‡½æ•°ï¼Œç¼–è¯‘å™¨ä¼šä¸ºæˆ‘ä»¬æ„é€ ä¸€ä¸ªã€‚ä¸åˆæˆé»˜è®¤æ„é€ å‡½æ•°ä¸åŒï¼Œå³ä½¿æˆ‘ä»¬å®šä¹‰äº†å…¶ä»–æ„é€ å‡½æ•°ï¼Œç¼–è¯‘å™¨ä¹Ÿä¼šä¸ºæˆ‘ä»¬åˆæˆä¸€ä¸ªæ‹·è´æ„é€ å‡½æ•°ã€‚ç¼–è¯‘å™¨ä»ç»™å®šå¯¹è±¡ä¸­ä¾æ¬¡å°†æ¯ä¸ªéstaticæˆå‘˜æ‹·è´åˆ°æ­£åœ¨åˆ›å»ºçš„å¯¹è±¡ä¸­ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230506195211.png\"></p>\n<p><strong>ç›´æ¥åˆå§‹åŒ–</strong>ï¼šå®é™…ä¸Šæ˜¯è¦æ±‚ç¼–è¯‘å™¨ä½¿ç”¨æ™®é€šçš„å‡½æ•°åŒ¹é…æ¥é€‰æ‹©ä¸æˆ‘ä»¬æä¾›çš„å‚æ•°æœ€åŒ¹é…çš„æ„é€ å‡½æ•°ã€‚</p>\n<p><strong>æ‹·è´åˆå§‹åŒ–</strong>ï¼šæˆ‘ä»¬è¦æ±‚ç¼–è¯‘å™¨å°†å³ä¾§è¿ç®—å¯¹è±¡æ‹·è´åˆ°æ­£åœ¨åˆ›å»ºçš„å¯¹è±¡ä¸­ï¼Œå¦‚æœéœ€è¦çš„è¯è¿˜è¦è¿›è¡Œç±»å‹è½¬æ¢ã€‚é€šå¸¸ä½¿ç”¨æ‹·è´æ„é€ å‡½æ•°å®Œæˆï¼Œå¦‚æœæœ‰ç§»åŠ¨æ„é€ å‡½æ•°ï¼Œåˆ™æœ‰æ—¶ä¼šä½¿ç”¨ç§»åŠ¨æ„é€ å‡½æ•°ã€‚</p>\n<p>æ‹·è´åˆå§‹åŒ–çš„å‘ç”Ÿæƒ…å†µï¼š</p>\n<ul>\n<li>&#x3D;å®šä¹‰å˜é‡</li>\n<li>å°†ä¸€ä¸ªå¯¹è±¡ä»å®å‚ä¼ é€’ç»™éå¼•ç”¨çš„å½¢å‚</li>\n<li>è¿”å›ç±»å‹ä¸ºéå¼•ç”¨ç±»å‹çš„å‡½æ•°è¿”å›çš„å¯¹è±¡</li>\n<li>ç”¨èŠ±æ‹¬å·åˆ—è¡¨ åˆå§‹åŒ–ä¸€ä¸ªæ•°ç»„ä¸­çš„å…ƒç´ æˆ–ä¸€ä¸ªèšåˆç±»çš„æˆå‘˜</li>\n<li>æ ‡å‡†åº“å®¹å™¨insert&#x2F;pushï¼Œä¸ä¹‹ç›¸å¯¹ï¼Œç”¨emplaceåˆ›å»ºçš„å…ƒç´ éƒ½è¿›è¡Œç›´æ¥åˆå§‹åŒ–</li>\n</ul>\n<p>æ‹·è´å‡½æ•°åœ¨è¿™å‡ ç§æƒ…å†µä¸‹éƒ½ä¼šè¢«éšå¼åœ°ä½¿ç”¨ï¼Œå› æ­¤ï¼Œæ‹·è´æ„é€ å‡½æ•°ä¸åº”æ˜¯explicitçš„</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230506200110.png\"></p>\n<h4 id=\"æ‹·è´èµ‹å€¼è¿ç®—ç¬¦\"><a href=\"#æ‹·è´èµ‹å€¼è¿ç®—ç¬¦\" class=\"headerlink\" title=\"æ‹·è´èµ‹å€¼è¿ç®—ç¬¦\"></a>æ‹·è´èµ‹å€¼è¿ç®—ç¬¦</h4><figure class=\"highlight c++\"><table><tr><td class=\"code\"><pre><span class=\"line\">Sales_data trans,accum;</span><br><span class=\"line\">trans = accum; <span class=\"comment\">// ä½¿ç”¨Sales_data çš„æ‹·è´èµ‹å€¼å…ƒç´ ç¬¦</span></span><br></pre></td></tr></table></figure>\n\n<p>ä¸ç±»æ§åˆ¶å¯¹è±¡å¦‚ä½•åˆå§‹åŒ–ä¸€æ ·ï¼Œç±»ä¹Ÿå¯ä»¥æ§åˆ¶å…¶å¯¹è±¡å¦‚ä½•èµ‹å€¼ã€‚ä¸æ‹·è´æ„é€ å‡½æ•°ä¸€æ ·ï¼Œå¦‚æœæœªå®šä¹‰ï¼Œç¼–è¯‘å™¨ä¼šä¸ºå®ƒåˆæˆä¸€ä¸ªã€‚</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Foo</span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">public</span>:</span><br><span class=\"line\">    Foo&amp; <span class=\"keyword\">operator</span>=(<span class=\"type\">const</span> Foo&amp;);<span class=\"comment\">//èµ‹å€¼è¿ç®—ç¬¦</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// èµ‹å€¼è¿ç®—ç¬¦é€šå¸¸è¿”å›ä¸€ä¸ªæŒ‡å‘å…¶å·¦ä¾§è¿ç®—å¯¹è±¡çš„å¼•ç”¨</span></span><br></pre></td></tr></table></figure>\n\n<p>æ‹·è´èµ‹å€¼å…ƒç´ è¿ç®—ç¬¦ä¼šå°†å³ä¾§å¯¹è±¡çš„æ¯ä¸ªéstaticæˆå‘˜èµ‹äºˆå·¦ä¾§å¯¹è±¡çš„å¯¹åº”æˆå‘˜</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230506200857.png\"></p>\n<h4 id=\"ææ„å‡½æ•°\"><a href=\"#ææ„å‡½æ•°\" class=\"headerlink\" title=\"ææ„å‡½æ•°\"></a>ææ„å‡½æ•°</h4><p>ææ„å‡½æ•°é‡Šæ”¾å¯¹è±¡ä½¿ç”¨çš„èµ„æºï¼Œå¹¶é”€æ¯å¯¹è±¡çš„éstaticæ•°æ®æˆå‘˜ã€‚ææ„å‡½æ•°<strong>æ²¡æœ‰è¿”å›å€¼ï¼Œä¹Ÿä¸æ¥å—å‚æ•°ï¼Œä¸èƒ½å‘—é‡è½½ï¼Œä¸€ä¸ªç»™å®šç±»åªæœ‰å”¯ä¸€ä¸€ä¸ªææ„å‡½æ•°</strong>ã€‚åŒæ—¶ï¼Œææ„å‡½æ•°è‡ªåŠ¨è¿è¡Œï¼Œç¨‹åºæŒ‰éœ€åˆ†é…èµ„æºï¼Œé€šå¸¸æ— é¡»å½“å¿ƒä½•æ—¶é‡Šæ”¾è¿™äº›èµ„æº</p>\n<p>åœ¨ææ„å‡½æ•°ä¸­ï¼Œå…ˆæ‰§è¡Œå‡½æ•°ä½“ï¼Œç„¶åé”€æ¯æˆå‘˜ã€‚æŒ‰åˆå§‹åŒ–é¡ºåºçš„<strong>é€†åº</strong>é”€æ¯ã€‚é‡Šæ”¾å¯¹è±¡åœ¨ç”Ÿå­˜æœŸåˆ†é…çš„æ‰€æœ‰èµ„æºã€‚<br>ææ„éƒ¨åˆ†å¼éšå¼çš„ï¼Œæˆå‘˜é”€æ¯æ—¶å®Œå…¨ä¾èµ–äºæˆå‘˜çš„ç±»å‹ã€‚é”€æ¯ç±»ç±»å‹çš„æˆå‘˜éœ€è¦æ‰§è¡Œæˆå‘˜è‡ªå·±çš„ææ„å‡½æ•°ã€‚å†…ç½®ç±»å‹æˆå‘˜æ²¡æœ‰ææ„å‡½æ•°ï¼Œä»€ä¹ˆéƒ½ä¸éœ€è¦åšã€‚<br>éšå¼é”€æ¯å†…ç½®æŒ‡é’ˆç±»å‹çš„æˆå‘˜ä¸ä¼šdeleteå®ƒæ‰€æŒ‡åœ°å¯¹è±¡ã€‚</p>\n<p>è°ƒç”¨ææ„å‡½æ•°çš„æ—¶æœºï¼š</p>\n<ul>\n<li>å˜é‡ç¦»å¼€å…¶ä½œç”¨åŸŸæ—¶</li>\n<li>å¯¹è±¡è¢«é”€æ¯ï¼Œæˆå‘˜è¢«é”€æ¯</li>\n<li>å®¹å™¨è¢«é”€æ¯</li>\n<li>åŠ¨æ€åˆ†é…çš„å¯¹è±¡ï¼Œå¯¹æŒ‡å‘å®ƒçš„æŒ‡é’ˆåº”ç”¨deleteæ—¶</li>\n<li>ä¸´æ—¶å¯¹è±¡ï¼Œåˆ›å»ºå®ƒçš„å®Œæ•´è¡¨è¾¾å¼ç»“æŸæ—¶è¢«é”€æ¯</li>\n</ul>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230506201821.png\"></p>\n<p>æœªå®šä¹‰æ—¶ï¼Œç¼–è¯‘å™¨ä¼šä¸ºå®ƒå®šä¹‰ä¸€ä¸ªåˆæˆææ„å‡½æ•°ï¼Œææ„å‡½æ•°ä½“è‡ªèº«ä¸ç›´æ¥é”€æ¯æˆå‘˜ï¼Œæˆå‘˜æ—¶åœ¨ææ„å‡½æ•°ä½“æ‰§è¡Œåéšå¼é”€æ¯çš„ã€‚</p>\n<p>å¦‚æœä¸€ä¸ªç±»éœ€è¦è‡ªå®šä¹‰ææ„å‡½æ•°ï¼Œå‡ ä¹è‚¯å®šçš„æ˜¯ï¼Œä¹Ÿéœ€è¦è‡ªå®šä¹‰æ‹·è´èµ‹å€¼è¿ç®—ç¬¦å’Œæ‹·è´æ„é€ å‡½æ•°ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230506203014.png\"></p>\n<h4 id=\"x3D-default\"><a href=\"#x3D-default\" class=\"headerlink\" title=\"&#x3D;default\"></a>&#x3D;default</h4><p>ä½¿ç”¨&#x3D;defaultæ¥æ˜¾å¼åœ°è¦æ±‚ç¼–è¯‘å™¨ç”Ÿæˆåˆæˆçš„ç‰ˆæœ¬<br>å½“æˆ‘ä»¬ä½¿ç”¨&#x3D;defaultæ—¶ï¼Œåˆæˆçš„å‡½æ•°ä¼šè¢«éšå¼åœ°å£°æ˜ä¸ºinline</p>\n<p>æˆ‘ä»¬åªèƒ½å¯¹å…·æœ‰åˆæˆç‰ˆæœ¬çš„æˆå‘˜å‡½æ•°ä½¿ç”¨&#x3D;default</p>\n<h4 id=\"x3D-delete\"><a href=\"#x3D-delete\" class=\"headerlink\" title=\"&#x3D;delete\"></a>&#x3D;delete</h4><p>æˆ‘ä»¬å¯ä»¥ä¸ºä»»ä½•å‡½æ•°æŒ‡å®š&#x3D;deleteï¼ˆé™¤äº†ææ„å‡½æ•°ï¼‰<br>&#x3D;deleteå‡½æ•°ï¼šè™½ç„¶æˆ‘ä»¬å£°æ˜äº†å®ƒä»¬ï¼Œä½†ä¸èƒ½ä»¥ä»»ä½•æ–¹å¼ä½¿ç”¨å®ƒä»¬ã€‚<br>&#x3D;deleteä¸»è¦ç”¨äºç¦æ­¢æ‹·è´æ§åˆ¶æˆå‘˜ï¼Œå¦‚æœå¸Œæœ›å¼•å¯¼å‡½æ•°åŒ¹é…è¿‡ç¨‹ï¼Œåˆ é™¤å‡½æ•°æœ‰æ—¶ä¹Ÿæ˜¯æœ‰ç”¨çš„ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230506203438.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230506203413.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230506203743.png\"></p>\n<p>å°½å¯èƒ½ä½¿ç”¨&#x3D;deleteæ¥é˜»æ­¢æ‹·è´ï¼Œè€Œä¸åº”è¯¥å£°æ˜ä¸ºprivate</p>\n<h4 id=\"æ‹·è´æ§åˆ¶å’Œèµ„æºç®¡ç†\"><a href=\"#æ‹·è´æ§åˆ¶å’Œèµ„æºç®¡ç†\" class=\"headerlink\" title=\"æ‹·è´æ§åˆ¶å’Œèµ„æºç®¡ç†\"></a>æ‹·è´æ§åˆ¶å’Œèµ„æºç®¡ç†</h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230506204218.png\"></p>\n<p><strong>è¡Œä¸ºåƒå€¼çš„ç±»</strong>ï¼šæ¯ä¸ªç±»çš„å¯¹è±¡éƒ½æœ‰è‡ªå·±çš„å®ç°</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230506204605.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230506204742.png\"></p>\n<p><strong>è¡Œä¸ºåƒæŒ‡é’ˆçš„ç±»</strong>ï¼šæ‰€æœ‰ç±»çš„å¯¹è±¡å…±äº«ç±»çš„èµ„æºï¼Œæ¯”å¦‚shared_ptrã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230506211340.png\"></p>\n<p>ä¸»è¦çš„ä¸åŒä½“ç°åœ¨æ‹·è´æ„é€ å‡½æ•°ä¸­ï¼Œææ„å‡½æ•°å’Œæ‹·è´èµ‹å€¼è¿ç®—ç¬¦ä¾æ®å¼•ç”¨è®¡æ•°æœ‰æ‰€æ”¹å˜</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230506211509.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230506211603.png\"></p>\n<h4 id=\"äº¤æ¢æ“ä½œ\"><a href=\"#äº¤æ¢æ“ä½œ\" class=\"headerlink\" title=\"äº¤æ¢æ“ä½œ\"></a>äº¤æ¢æ“ä½œ</h4><p>å¯¹äºé‡æ‹å…ƒç´ é¡ºåºçš„ç®—æ³•ï¼Œå®šä¹‰swapæ—¶éå¸¸é‡è¦çš„ã€‚<br>å¦‚æœä¸€ä¸ªç±»å®šä¹‰äº†è‡ªå·±çš„swapï¼Œé‚£ä¹ˆç®—æ³•å°†ä½¿ç”¨è‡ªå®šä¹‰ç‰ˆæœ¬ï¼Œå¦åˆ™å°†ä½¿ç”¨æ ‡å‡†åº“çš„swapã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230506211803.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230506211925.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230506212016.png\"></p>\n<h3 id=\"å¯¹è±¡ç§»åŠ¨\"><a href=\"#å¯¹è±¡ç§»åŠ¨\" class=\"headerlink\" title=\"å¯¹è±¡ç§»åŠ¨\"></a>å¯¹è±¡ç§»åŠ¨</h3><p>åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå¯¹è±¡æ‹·è´åå°±ç«‹å³è¢«é”€æ¯äº†ã€‚è¿™æ—¶å€™ï¼Œç§»åŠ¨è€Œéæ‹·è´å¯¹è±¡ä¼šå¤§å¹…åº¦æå‡æ€§èƒ½ã€‚</p>\n<h4 id=\"å³å€¼å¼•ç”¨\"><a href=\"#å³å€¼å¼•ç”¨\" class=\"headerlink\" title=\"å³å€¼å¼•ç”¨\"></a>å³å€¼å¼•ç”¨</h4><p>é€šè¿‡&amp;&amp;æ¥è·å¾—å³å€¼å¼•ç”¨ï¼Œåªèƒ½ç»‘å®šåˆ°<strong>ä¸€ä¸ªå°†è¦é”€æ¯çš„å¯¹è±¡</strong>ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230506231308.png\"></p>\n<p>å˜é‡æ˜¯å·¦å€¼ï¼Œå› æ­¤æˆ‘ä»¬ä¸èƒ½å°†å³å€¼å¼•ç”¨ç»‘å®šåˆ°å˜é‡ä¸Šï¼Œå³ä½¿æ˜¯å³å€¼å¼•ç”¨ç±»å‹ã€‚</p>\n<p>æ ‡å‡†åº“moveå‡½æ•°ï¼Œå¯ä»¥æ˜¾ç¤ºåœ°å°†ä¸€ä¸ªå·¦å€¼è½¬æ¢ä¸ºå¯¹åº”çš„å³å€¼å¼•ç”¨ç±»å‹ã€‚</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">int</span> &amp;&amp;rr3 = std::<span class=\"built_in\">move</span>(rr1);</span><br><span class=\"line\"><span class=\"comment\">// moveå‘Šè¯‰ç¼–è¯‘å™¨ï¼Œå°†rr1å½“ä½œå³å€¼ä¸€æ ·å¤„ç†</span></span><br><span class=\"line\"><span class=\"comment\">// é™¤äº†å¯¹rr1èµ‹å€¼æˆ–é”€æ¯ï¼Œæˆ‘ä»¬ä¸å†ä½¿ç”¨å®ƒ</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"ç§»åŠ¨æ„é€ å‡½æ•°\"><a href=\"#ç§»åŠ¨æ„é€ å‡½æ•°\" class=\"headerlink\" title=\"ç§»åŠ¨æ„é€ å‡½æ•°\"></a>ç§»åŠ¨æ„é€ å‡½æ•°</h4><p>ç§»åŠ¨æ„é€ å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå³å€¼å¼•ç”¨ï¼Œä¿è¯ç§»åå…ƒå¯¹è±¡å¤„äºä¸€ä¸ªçŠ¶æ€â€”â€”é”€æ¯æ— å®³ã€‚ä¸€æ—¦èµ„æºå®Œæˆç§»åŠ¨ï¼Œæºå¯¹è±¡å¿…é¡»ä¸å†æŒ‡å‘è¢«ç§»åŠ¨çš„èµ„æºâ€”â€”è¿™äº›èµ„æºçš„æ‰€æœ‰æƒå½’å±æ–°åˆ›å»ºçš„å¯¹è±¡ã€‚</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"code\"><pre><span class=\"line\">StrVec::<span class=\"built_in\">StrVec</span>(StrVec &amp;&amp;s) <span class=\"keyword\">noexcept</span> <span class=\"comment\">//å‘Šè¯‰æ ‡å‡†åº“æˆ‘ä»¬çš„æ„é€ å‡½æ•°ä¸æŠ›å‡ºä»»ä½•å¼‚å¸¸</span></span><br><span class=\"line\"><span class=\"comment\">// æˆå‘˜åˆå§‹åŒ–æ¥ç®¡sçš„èµ„æº</span></span><br><span class=\"line\">:<span class=\"built_in\">elements</span>(s.elements),<span class=\"built_in\">first_free</span>(s.first_free),<span class=\"built_in\">cap</span>(s.cap)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">  s.elements = s.first_free = s.cap = <span class=\"literal\">nullptr</span>;</span><br><span class=\"line\">  <span class=\"comment\">// è¢«æ¥æ”¶åæŒ‡é’ˆéƒ½ç½®ä¸ºnullptr</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"ç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦\"><a href=\"#ç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦\" class=\"headerlink\" title=\"ç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦\"></a>ç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦</h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507001946.png\"></p>\n<p>åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬æ£€æŸ¥this ä¸ rhsçš„åœ°å€æ˜¯å¦ç›¸åŒã€‚ç›¸åŒä¸åšä»»ä½•äº‹æƒ…ã€‚å¦åˆ™é‡Šæ”¾å·²æœ‰å…ƒç´ ï¼Œç„¶åæ¥ç®¡å³å€¼å¼•ç”¨çš„å…ƒç´ ã€‚å†æŠŠrhsæŒ‡é’ˆèµ‹ä¸ºnullptr</p>\n<p><strong>åœ¨ç§»åŠ¨åï¼Œç§»åæºå¯¹è±¡å¿…é¡»å¯ææ„</strong>ã€‚</p>\n<h4 id=\"åˆæˆç§»åŠ¨æ“ä½œ\"><a href=\"#åˆæˆç§»åŠ¨æ“ä½œ\" class=\"headerlink\" title=\"åˆæˆç§»åŠ¨æ“ä½œ\"></a>åˆæˆç§»åŠ¨æ“ä½œ</h4><p>å¦‚æœä¸€ä¸ªç±»å®šä¹‰äº†æ‹·è´æ„é€ å‡½æ•°ã€æ‹·è´èµ‹å€¼è¿ç®—ç¬¦æˆ–è€…ææ„å‡½æ•°ï¼Œç¼–è¯‘å™¨å°±ä¸ä¼šä¸ºå®ƒåˆæˆç§»åŠ¨æ„é€ å‡½æ•°å’Œç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦ã€‚<br>åªæœ‰å½“ä¸€ä¸ªç±»<strong>æ²¡æœ‰å®šä¹‰ä»»ä½•è‡ªå·±ç‰ˆæœ¬çš„æ‹·è´æ§åˆ¶æˆå‘˜</strong>ï¼Œä¸”<strong>ç±»çš„æ¯ä¸ªéstaticæ•°æ®æˆå‘˜éƒ½å¯ä»¥ç§»åŠ¨</strong>æ—¶ï¼Œç¼–è¯‘å™¨æ‰ä¼šä¸ºå®ƒåˆæˆç§»åŠ¨æ„é€ å‡½æ•°æˆ–ç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507002510.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507002957.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507003227.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507003912.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507004102.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507004122.png\"></p>\n<h3 id=\"é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡\"><a href=\"#é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡\" class=\"headerlink\" title=\"é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡\"></a>é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡</h3><p>é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡åŸºäºä¸‰ä¸ªåŸºæœ¬æ¦‚å¿µï¼šæ•°æ®æŠ½è±¡ã€ç»§æ‰¿ã€å’ŒåŠ¨æ€ç»‘å®šã€‚</p>\n<h4 id=\"æ•°æ®æŠ½è±¡ã€ç»§æ‰¿ã€åŠ¨æ€ç»‘å®š\"><a href=\"#æ•°æ®æŠ½è±¡ã€ç»§æ‰¿ã€åŠ¨æ€ç»‘å®š\" class=\"headerlink\" title=\"æ•°æ®æŠ½è±¡ã€ç»§æ‰¿ã€åŠ¨æ€ç»‘å®š\"></a>æ•°æ®æŠ½è±¡ã€ç»§æ‰¿ã€åŠ¨æ€ç»‘å®š</h4><p><strong>æ•°æ®æŠ½è±¡</strong>ï¼šåªå‘å¤–ç•Œæä¾›å…³é”®ä¿¡æ¯ï¼Œå¹¶éšè—å…¶åå°çš„å®ç°ç»†èŠ‚ï¼Œå³åªè¡¨ç°å¿…è¦çš„ä¿¡æ¯è€Œä¸å‘ˆç°ç»†èŠ‚ã€‚C++ ç±»ä¸ºæ•°æ®æŠ½è±¡æä¾›äº†å¯èƒ½ã€‚å®ƒä»¬å‘å¤–ç•Œæä¾›äº†å¤§é‡ç”¨äºæ“ä½œå¯¹è±¡æ•°æ®çš„å…¬å…±æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¤–ç•Œå®é™…ä¸Šå¹¶ä¸æ¸…æ¥šç±»çš„å†…éƒ¨å®ç°ã€‚</p>\n<p><strong>ç»§æ‰¿</strong>ï¼šé€šè¿‡ç»§æ‰¿è”ç³»åœ¨ä¸€èµ·çš„ç±»æ„æˆä¸€ç§å±‚æ¬¡å…³ç³»ã€‚é€šå¸¸æ ¹éƒ¨å«åš<strong>åŸºç±»</strong>ï¼Œç›´æ¥æˆ–é—´æ¥ä»åŸºç±»ç»§æ‰¿è€Œæ¥å«<strong>æ´¾ç”Ÿç±»</strong>ã€‚</p>\n<p><strong>åŠ¨æ€ç»‘å®š</strong>ï¼šå½“æˆ‘ä»¬ä½¿ç”¨åŸºç±»çš„å¼•ç”¨ï¼ˆæˆ–æŒ‡é’ˆï¼‰è°ƒç”¨ä¸€ä¸ªè™šå‡½æ•°æ—¶å°†å‘ç”ŸåŠ¨æ€ç»‘å®šã€‚åŠ¨æ€ç»‘å®šå³æ˜¯åœ¨è¿è¡Œæ—¶é€‰æ‹©å‡½æ•°çš„ç‰ˆæœ¬ï¼Œåœ¨ä¸€å®šç¨‹åº¦ä¸Šå¿½ç•¥ç›¸ä¼¼ç±»å‹çš„åŒºåˆ«ï¼Œè€Œä»¥ç»Ÿä¸€çš„æ–¹å¼ä½¿ç”¨å®ƒä»¬çš„å¯¹è±¡ã€‚</p>\n<h4 id=\"åŸºç±»å’Œæ´¾ç”Ÿç±»\"><a href=\"#åŸºç±»å’Œæ´¾ç”Ÿç±»\" class=\"headerlink\" title=\"åŸºç±»å’Œæ´¾ç”Ÿç±»\"></a>åŸºç±»å’Œæ´¾ç”Ÿç±»</h4><p>åŸºç±»é€šå¸¸åº”è¯¥å®šä¹‰ä¸€ä¸ªè™šææ„å‡½æ•°ï¼Œå³ä½¿è¯¥å‡½æ•°ä¸æ‰§è¡Œä»»ä½•å®é™…æ“ä½œã€‚</p>\n<p>å› ä¸ºåœ¨æ´¾ç”Ÿç±»æœ‰ä¸åŸºç±»å¯¹åº”çš„éƒ¨åˆ†ï¼Œæ‰€ä»¥èƒ½æŠŠæ´¾ç”Ÿç±»çš„å¯¹è±¡å½“ä½œåŸºç±»å¯¹è±¡æ¥ä½¿ç”¨ï¼Œä¹Ÿèƒ½å°†åŸºç±»æŒ‡é’ˆæˆ–å¼•ç”¨ç»‘å®šåˆ°æ´¾ç”Ÿç±»å¯¹è±¡ä¸­çš„åŸºç±»éƒ¨åˆ†ä¸Šã€‚</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"code\"><pre><span class=\"line\">Quote item;<span class=\"comment\">// åŸºç±»</span></span><br><span class=\"line\">Bulk_quote bulk;<span class=\"comment\">// æ´¾ç”Ÿç±»</span></span><br><span class=\"line\">Quote *p = &amp;item;<span class=\"comment\">// pæŒ‡å‘Quoteå¯¹è±¡</span></span><br><span class=\"line\">p = &amp;bulk;<span class=\"comment\">// pæŒ‡å‘bulkçš„Quoteéƒ¨åˆ†</span></span><br><span class=\"line\">Quote &amp;r = bulk;<span class=\"comment\">// rç»‘å®šåˆ°bulkçš„Quoteéƒ¨åˆ†</span></span><br></pre></td></tr></table></figure>\n\n<p>æ´¾ç”Ÿç±»å…ˆåˆå§‹åŒ–åŸºç±»éƒ¨åˆ†ï¼Œç„¶åæŒ‰ç…§å£°æ˜é¡ºåºåˆå§‹åŒ–æ´¾ç”Ÿç±»çš„æˆå‘˜ã€‚</p>\n<p>ä¸ç®¡ä»åŸºç±»ä¸­æ´¾ç”Ÿå‡ºå¤šå°‘ä¸ªæ´¾ç”Ÿç±»ï¼Œå¯¹äºæ¯ä¸ª<strong>é™æ€æˆå‘˜</strong>æ¥è¯´éƒ½åªå­˜åœ¨<strong>å”¯ä¸€</strong>çš„å®ä¾‹ã€‚</p>\n<p>é™æ€æˆå‘˜éµå¾ªé€šç”¨çš„è®¿é—®æ§åˆ¶è§„åˆ™</p>\n<p><strong>é˜²æ­¢ç»§æ‰¿</strong>ï¼Œå³åœ¨ç±»ååè·Ÿä¸€ä¸ªå…³é”®å­—final</p>\n<p>æˆ‘ä»¬å¯ä»¥å°†<strong>åŸºç±»çš„æŒ‡é’ˆï¼ˆå†…ç½®æˆ–æ™ºèƒ½ï¼‰æˆ–å¼•ç”¨ç»‘å®šåˆ°æ´¾ç”Ÿç±»å¯¹è±¡</strong>ä¸Šã€‚ä¾‹å¦‚ï¼Œå¯ä»¥ç”¨Quote&amp;æŒ‡å‘ä¸€ä¸ªBulk_quoteå¯¹è±¡ï¼Œä¹Ÿå¯ä»¥æŠŠä¸€ä¸ªBulk_quoteå¯¹è±¡çš„åœ°å€èµ‹ç»™ä¸€ä¸ªQuote*</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// é™æ€ç±»å‹åœ¨ç¼–è¯‘æ—¶å°±å·²çŸ¥ï¼Œæ˜¯å˜é‡å£°æ˜æ—¶çš„ç±»å‹æˆ–è¡¨è¾¾å¼ç”Ÿæˆçš„ç±»å‹</span></span><br><span class=\"line\"><span class=\"comment\">// åŠ¨æ€ç±»å‹åˆ™æ˜¯å˜é‡æˆ–è¡¨è¾¾å¼è¡¨ç¤ºçš„å†…å­˜ä¸­çš„å¯¹è±¡çš„ç±»å‹ï¼Œè¿è¡Œæ—¶æ‰çŸ¥é“</span></span><br><span class=\"line\"><span class=\"type\">double</span> ret = item.<span class=\"built_in\">net_price</span>(n);</span><br><span class=\"line\"><span class=\"comment\">// itemçš„é™æ€ç±»å‹æ˜¯Quote&amp;</span></span><br><span class=\"line\"><span class=\"comment\">// å®ƒçš„åŠ¨æ€ç±»å‹ä¾èµ–äºitemç»‘å®šçš„å®å‚</span></span><br><span class=\"line\"><span class=\"comment\">// å¦‚æœä¼ é€’ä¸€ä¸ªBulk_quoteï¼Œåˆ™itemåŠ¨æ€ç±»å‹åˆ™æ˜¯Bulk_quote</span></span><br><span class=\"line\"><span class=\"comment\">// å¦‚æœè¡¨è¾¾å¼æ—¢ä¸æ˜¯å¼•ç”¨ä¹Ÿä¸æ˜¯æŒ‡é’ˆï¼ŒåŠ¨æ€ç±»å‹å’Œé™æ€ç±»å‹æ°¸è¿œä¸€è‡´ã€‚</span></span><br><span class=\"line\"><span class=\"comment\">// æ¯”å¦‚Quoteç±»å‹å˜é‡æ°¸è¿œæ˜¯ä¸€ä¸ªQuoteå¯¹è±¡</span></span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight c++\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// ä¸å­˜åœ¨åŸºç±»å‘æ´¾ç”Ÿç±»çš„éšå¼ç±»å‹è½¬æ¢ï¼Œå³ä½¿ä¸€ä¸ªåŸºç±»æŒ‡é’ˆæˆ–å¼•ç”¨ç»‘å®šåœ¨ä¸€ä¸ªæ´¾ç”Ÿäº†å¯¹è±¡ä¸Š</span></span><br><span class=\"line\">Quote base;</span><br><span class=\"line\">Bulk_quote* bulkP = &amp;base;</span><br><span class=\"line\">Bulk_quote&amp; bulkRef = base;</span><br><span class=\"line\"><span class=\"comment\">// ä»¥ä¸Šéƒ½æ˜¯é”™è¯¯çš„ï¼Œä¸èƒ½å°†åŸºç±»è½¬åŒ–ä¸ºæ´¾ç”Ÿç±»</span></span><br><span class=\"line\">Bulk_quote bulk;</span><br><span class=\"line\">Quote *itemP = &amp;bulk;<span class=\"comment\">// æ­£ç¡®ï¼ŒåŠ¨æ€ç±»å‹æ˜¯Bulk_quote</span></span><br><span class=\"line\">Bulk_quote *bulkP = itemP;<span class=\"comment\">// é”™è¯¯ï¼Œä¸èƒ½å°†åŸºç±»è½¬åŒ–æˆæ´¾ç”Ÿç±»</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å¯ä»¥ç”¨dynamic_cast,å¦‚æœåœ¨åŸºç±»ä¸­å«æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªè™šå‡½æ•°</span></span><br><span class=\"line\"><span class=\"comment\">// å¦‚æœå·²çŸ¥æŸä¸ªåŸºç±»è½¬åŒ–æ´¾ç”Ÿç±»æ˜¯å®‰å…¨çš„ï¼Œå¯ä»¥ç”¨static_cast</span></span><br></pre></td></tr></table></figure>\n\n<p>å½“æˆ‘ä»¬ç”¨ä¸€ä¸ªæ´¾ç”Ÿç±»å¯¹è±¡ä¸ºä¸€ä¸ªåŸºç±»å¯¹è±¡åˆå§‹åŒ–æˆ–èµ‹å€¼æ—¶ï¼Œåªæœ‰è¯¥æ´¾ç”Ÿç±»å¯¹è±¡ä¸­çš„åŸºç±»éƒ¨åˆ†ä¼šè¢«æ‹·è´ã€ç§»åŠ¨æˆ–èµ‹å€¼ï¼Œæ´¾ç”Ÿç±»éƒ¨åˆ†ä¼šè¢«å¿½ç•¥ï¼Œä¹Ÿå°±æ˜¯è¢«åˆ‡æ‰</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507144244.png\"></p>\n<h4 id=\"è™šå‡½æ•°\"><a href=\"#è™šå‡½æ•°\" class=\"headerlink\" title=\"è™šå‡½æ•°\"></a>è™šå‡½æ•°</h4><p>åŠ¨æ€ç»‘å®š<strong>åªä¼šåœ¨æˆ‘ä»¬é€šè¿‡æŒ‡é’ˆæˆ–å¼•ç”¨è°ƒç”¨è™šå‡½æ•°</strong>æ—¶æ‰ä¼šå‘ç”Ÿã€‚å¦‚æœé€šè¿‡ä¸€ä¸ªæ™®é€šç±»å‹ï¼ˆéå¼•ç”¨éæŒ‡é’ˆï¼‰çš„è¡¨è¾¾å¼è°ƒç”¨è™šå‡½æ•°ï¼Œåœ¨ç¼–è¯‘æ—¶å°±ä¼šå°†è¡¨è¾¾å¼çš„æŠŠå‘¢ä¸èƒ½ç¡®å®šä¸‹æ¥ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507152318.png\"></p>\n<p>åŸºç±»ä¸­çš„è™šå‡½æ•°åœ¨æ´¾ç”Ÿç±»ä¸­éšå«åœ°ä¹Ÿæ˜¯ä¸€ä¸ªè™šå‡½æ•°ã€‚å½“æ´¾ç”Ÿç±»è¦†ç›–äº†æŸä¸ªè™šå‡½æ•°æ—¶ï¼Œè¯¥å‡½æ•°åœ¨åŸºç±»ä¸­çš„å½¢å‚å¿…é¡»ä¸æ´¾ç”Ÿç±»ä¸­çš„å½¢å‚ä¸¥æ ¼åŒ¹é…ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507152800.png\"></p>\n<p>å¦‚æœè™šå‡½æ•°ä½¿ç”¨é»˜è®¤å®å‚ï¼Œåˆ™åŸºç±»å’Œæ´¾ç”Ÿç±»ä¸­å®šä¹‰çš„é»˜è®¤å®å‚æœ€å¥½ä¸€è‡´ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507153006.png\"></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Base</span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">virtual</span> <span class=\"type\">void</span> <span class=\"title\">foo</span><span class=\"params\">()</span></span>&#123;&#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Drived</span> : <span class=\"keyword\">public</span> Base&#123;  </span><br><span class=\"line\">  <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">foo</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\">  </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">foo</span>();<span class=\"comment\">//é€’å½’è°ƒç”¨è‡ªå·±</span></span><br><span class=\"line\">    Base::<span class=\"built_in\">foo</span>();<span class=\"comment\">//æ˜ç¡®å‘Šè¯‰ç¼–è¯‘å™¨ï¼Œè°ƒç”¨Base::fooè€Œä¸æ˜¯è‡ªå·±</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"æŠ½è±¡åŸºç±»\"><a href=\"#æŠ½è±¡åŸºç±»\" class=\"headerlink\" title=\"æŠ½è±¡åŸºç±»\"></a>æŠ½è±¡åŸºç±»</h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507154155.png\"></p>\n<p>å«æœ‰çº¯è™šå‡½æ•°çš„ç±»æ˜¯æŠ½è±¡åŸºç±»ï¼Œæˆ‘ä»¬<strong>ä¸èƒ½åˆ›å»ºä¸€ä¸ªæŠ½è±¡åŸºç±»çš„å¯¹è±¡</strong>ã€‚å¯ä»¥å®šä¹‰å®ƒçš„æ´¾ç”Ÿç±»ï¼Œå‰ææ˜¯è¿™äº›ç±»è¦†ç›–äº†çº¯è™šå‡½æ•°ã€‚</p>\n<p>æ´¾ç”Ÿç±»åªåˆå§‹åŒ–å®ƒçš„ç›´æ¥åŸºç±»</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507155227.png\"></p>\n<h4 id=\"è®¿é—®æ§åˆ¶ä¸ç»§æ‰¿\"><a href=\"#è®¿é—®æ§åˆ¶ä¸ç»§æ‰¿\" class=\"headerlink\" title=\"è®¿é—®æ§åˆ¶ä¸ç»§æ‰¿\"></a>è®¿é—®æ§åˆ¶ä¸ç»§æ‰¿</h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507161237.png\"></p>\n<p>ä¸Šè¿°è¡¨ç¤ºï¼Œå¦‚æœå‹å…ƒé€šè¿‡æ´¾ç”Ÿç±»æ¥è®¿é—®protectedæˆå‘˜æ˜¯å¯ä»¥çš„ã€‚ä½†æ˜¯å‹å…ƒç›´æ¥è®¿é—®protectedæˆå‘˜å°±ä¸å¯ä»¥</p>\n<p><a href=\"https://www.zhihu.com/question/37051531/answer/70216882\">C++æ´¾ç”Ÿç±»çš„æˆå‘˜æˆ–å‹å…ƒåªèƒ½é€šè¿‡æ´¾ç”Ÿç±»å¯¹è±¡æ¥è®¿é—®åŸºç±»çš„å—ä¿æŠ¤æˆå‘˜? - é‚±æ˜Šå®‡çš„å›ç­” - çŸ¥ä¹</a></p>\n<p>åœ¨ç±»ä¸­ç”¨usingå£°æ˜æ”¹å˜è®¿é—®çº§åˆ«ï¼Œå½“ç„¶æ´¾ç”Ÿç±»åªèƒ½ä¸ºè®¿é—®åˆ°çš„åå­—æä¾›using</p>\n<p>struct é»˜è®¤publicç»§æ‰¿<br>class é»˜è®¤privateç»§æ‰¿</p>\n<h4 id=\"ç»§æ‰¿çš„ç±»ä½œç”¨åŸŸ\"><a href=\"#ç»§æ‰¿çš„ç±»ä½œç”¨åŸŸ\" class=\"headerlink\" title=\"ç»§æ‰¿çš„ç±»ä½œç”¨åŸŸ\"></a>ç»§æ‰¿çš„ç±»ä½œç”¨åŸŸ</h4><p>æ´¾ç”Ÿç±»çš„ä½œç”¨åŸŸä½äºåŸºç±»ä½œç”¨åŸŸä¹‹å†…ï¼Œå¦‚æœä¸€ä¸ªåå­—åœ¨æ´¾ç”Ÿç±»ä¸­æ— æ³•è§£æï¼Œåˆ™ä¼šåœ¨å¤–å±‚åŸºç±»ä½œç”¨åŸŸä¸­å¯»æ‰¾è¯¥åå­—çš„å®šä¹‰ã€‚</p>\n<p>åœ¨ç¼–è¯‘æ—¶è¿›è¡Œ<strong>åå­—æŸ¥æ‰¾</strong>ï¼Œæ„å‘³ç€èƒ½å¤Ÿä½¿ç”¨å“ªäº›æˆå‘˜ç”±é™æ€ç±»å‹å†³å®šã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507164433.png\"></p>\n<p>æ´¾ç”Ÿç±»ä¼šè¦†ç›–åŸºç±»çš„åŒåæˆå‘˜ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä½œç”¨åŸŸè¿ç®—ç¬¦æ¥ä½¿ç”¨åŸºç±»æˆå‘˜ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507164558.png\"></p>\n<p><strong>åå­—æŸ¥æ‰¾</strong>,å‡è®¾è°ƒç”¨obj-&gt;foo():</p>\n<ul>\n<li>é¦–å…ˆç¡®å®šobjçš„é™æ€ç±»å‹</li>\n<li>ç„¶ååœ¨objçš„é™æ€ç±»å‹å¯¹åº”çš„ç±»ä¸­æŸ¥æ‰¾fooã€‚æ‰¾ä¸åˆ°ï¼Œå°±ä¸€ç›´å¾€ç»§æ‰¿é“¾ä¸Šæ‰¾ã€‚å¦‚æœä¸€ç›´æ‰¾ä¸åˆ°ï¼Œå°±æŠ¥é”™ã€‚</li>\n<li>ä¸€æ—¦æ‰¾åˆ°fooï¼Œè¿›è¡Œç±»å‹æ£€æŸ¥</li>\n<li>å¦‚æœåˆæ³•ï¼Œåˆ™ä¼šæ ¹æ®æ˜¯å¦æ˜¯è™šå‡½æ•°è¿›è¡Œè°ƒç”¨ï¼š1.å¦‚æœæ—¶è™šå‡½æ•°ï¼Œåˆ™ä¾æ®objçš„åŠ¨æ€ç±»å‹çš„ç‰ˆæœ¬;2.å¦‚æœä¸æ˜¯ï¼Œç›´æ¥è°ƒç”¨</li>\n</ul>\n<p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°<strong>åå­—æŸ¥æ‰¾å…ˆäºç±»å‹æ£€æŸ¥,æ‰€ä»¥ä¼šæœ‰ä»¥ä¸‹ç»“æœ</strong></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507165048.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507165828.png\"></p>\n<h4 id=\"è™šææ„å‡½æ•°\"><a href=\"#è™šææ„å‡½æ•°\" class=\"headerlink\" title=\"è™šææ„å‡½æ•°\"></a>è™šææ„å‡½æ•°</h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507211827.png\"></p>\n<h4 id=\"åˆæˆæ‹·è´æ§åˆ¶ä¸ç»§æ‰¿\"><a href=\"#åˆæˆæ‹·è´æ§åˆ¶ä¸ç»§æ‰¿\" class=\"headerlink\" title=\"åˆæˆæ‹·è´æ§åˆ¶ä¸ç»§æ‰¿\"></a>åˆæˆæ‹·è´æ§åˆ¶ä¸ç»§æ‰¿</h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507212141.png\"></p>\n<p><strong>æ´¾ç”Ÿç±»ä¸­åˆ é™¤çš„æ‹·è´æ§åˆ¶ä¸åŸºç±»çš„å…³ç³»</strong>ï¼š</p>\n<ul>\n<li>åŸºç±»ä¸­çš„é»˜è®¤æ„é€ å‡½æ•°ã€æ‹·è´æ„é€ å‡½æ•°ã€æ‹·è´èµ‹å€¼è¿ç®—ç¬¦æˆ–ææ„å‡½æ•°æ˜¯deleteæˆ–privateï¼Œåˆ™æ´¾ç”Ÿç±»å¯¹åº”çš„æ˜¯deleteçš„ã€‚åŸå› æ˜¯ç¼–è¯‘å™¨ä¸èƒ½ä½¿ç”¨åŸºç±»æˆå‘˜æ¥æ‰§è¡Œè¿™äº›æ“ä½œ</li>\n<li>å¦‚æœåŸºç±»ä¸­æœ‰ä¸€ä¸ª<strong>privateæˆ–deleteçš„ææ„å‡½æ•°</strong>ï¼Œåˆ™æ´¾ç”Ÿç±»åˆæˆçš„é»˜è®¤å’Œæ‹·è´æ„é€ å‡½æ•°æ˜¯deleteï¼Œå› ä¸ºç¼–è¯‘å™¨æ— æ³•é”€æ¯æ´¾ç”Ÿç±»å¯¹è±¡çš„åŸºç±»éƒ¨åˆ†</li>\n<li>ç¼–è¯‘å™¨ä¸ä¼šåˆæˆä¸€ä¸ªdeleteç§»åŠ¨æ“ä½œã€‚å½“æˆ‘ä»¬ä½¿ç”¨&#x3D;defaultï¼Œå¦‚æœåŸºç±»ä¸­å¯¹åº”æ˜¯deleteæˆ–privateï¼Œåˆ™æ´¾ç”Ÿç±»ä¸­æ˜¯deleteï¼ŒåŸå› æ˜¯æ´¾ç”Ÿç±»åŸºç±»éƒ¨åˆ†ä¸å¯ç§»åŠ¨ã€‚åŒæ ·ï¼ŒåŸºç±»ææ„å‡½æ•°deleteæˆ–privateï¼Œåˆ™æ´¾ç”Ÿç±»ç§»åŠ¨æ„é€ å‡½æ•°ä¹Ÿæ˜¯delete</li>\n</ul>\n<p><strong>æ´¾ç”Ÿç±»æ‹·è´æˆ–ç§»åŠ¨æ„é€ å‡½æ•°</strong>ï¼š</p>\n<p>åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼ŒåŸºç±»é»˜è®¤æ„é€ å‡½æ•°åˆå§‹åŒ–æ´¾ç”Ÿç±»å¯¹è±¡çš„åŸºç±»éƒ¨åˆ†ã€‚å¦‚æœæƒ³æ‹·è´æˆ–ç§»åŠ¨åŸºç±»éƒ¨åˆ†ï¼Œåˆ™å¿…é¡»åœ¨æ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°åˆå§‹å€¼åˆ—è¡¨ä¸­<strong>æ˜¾å¼åœ°ä½¿ç”¨</strong>åŸºç±»çš„æ‹·è´ï¼ˆæˆ–ç§»åŠ¨ï¼‰æ„é€ å‡½æ•°</p>\n<p><strong>æ´¾ç”Ÿç±»èµ‹å€¼è¿ç®—ç¬¦</strong>ï¼šåŒç†ï¼Œå¤åˆ¶è¿ç®—ç¬¦ä¹Ÿè¦æ˜¾å¼åœ°ä¸ºåŸºç±»éƒ¨åˆ†èµ‹å€¼</p>\n<p><strong>æ´¾ç”Ÿç±»ææ„å‡½æ•°</strong>ï¼šé”€æ¯é¡ºåºä¸åˆ›å»ºé¡ºåºç›¸åï¼Œå…ˆæ‰§è¡Œæ´¾ç”Ÿç±»ææ„å‡½æ•°ï¼Œå†æ‰§è¡ŒåŸºç±»çš„ã€‚</p>\n<p>å¦‚æœæ„é€ å‡½æ•°æˆ–ææ„å‡½æ•°è°ƒç”¨äº†æŸä¸ªè™šå‡½æ•°ï¼Œåˆ™åº”è¯¥æ‰§è¡Œä¸ç±»å‹ç›¸å¯¹åº”çš„è™šå‡½æ•°ç‰ˆæœ¬ã€‚</p>\n<h4 id=\"ç»§æ‰¿çš„æ„é€ å‡½æ•°\"><a href=\"#ç»§æ‰¿çš„æ„é€ å‡½æ•°\" class=\"headerlink\" title=\"ç»§æ‰¿çš„æ„é€ å‡½æ•°\"></a>ç»§æ‰¿çš„æ„é€ å‡½æ•°</h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507213936.png\"></p>\n<p>usingå£°æ˜ä¸ä¼šæ”¹å˜æ„é€ å‡½æ•°çš„è®¿é—®çº§åˆ«ã€‚<br>usingå£°æ˜ä¸èƒ½æŒ‡å®šexplicitæˆ–constexprï¼Œç»§æ‰¿çš„æ„é€ å‡½æ•°å¦‚æœæœ‰è¿™äº›å±æ€§ï¼Œé‚£ä¹ˆä¹Ÿæœ‰ã€‚<br>æ„é€ å‡½æ•°çš„é»˜è®¤å®å‚ä¸ä¼šè¢«ç»§æ‰¿ã€‚ç›¸åï¼Œä¼šè·å¾—å¤šä¸ªç»§æ‰¿ã€‚æ¯”å¦‚ï¼ŒåŸºç±»æœ‰ä¸€ä¸ªæ¥å—ä¸¤ä¸ªå½¢å‚çš„æ„é€ å‡½æ•°ï¼Œç¬¬äºŒä¸ªå«æœ‰é»˜è®¤å®å‚ï¼Œåˆ™æ´¾ç”Ÿç±»è·å¾—ä¸¤ä¸ªæ„é€ å‡½æ•°ï¼Œä¸€ä¸ªæ¥å—ä¸¤ä¸ªå½¢å‚ï¼Œä¸€ä¸ªåªæ¥å—ä¸€ä¸ªå½¢å‚ï¼Œå¯¹åº”æ²¡æœ‰é»˜è®¤å€¼çš„å½¢å‚ã€‚</p>\n<p>å¦‚æœåŸºç±»å«æœ‰å‡ ä¸ªæ„é€ å‡½æ•°ï¼Œå¤§å¤šæ•°æ´¾ç”Ÿç±»ä¼šç»§æ‰¿è¿™äº›æ„é€ å‡½æ•°ã€‚æœ‰ä¸¤ä¸ªä¾‹å¤–æƒ…å†µï¼š</p>\n<ul>\n<li>æ´¾ç”Ÿç±»ç»§æ‰¿ä¸€éƒ¨åˆ†æ„é€ å‡½æ•°ï¼Œä¸ºå…¶ä»–æ„é€ å‡½æ•°å®šä¹‰è‡ªå·±çš„ç‰ˆæœ¬ã€‚</li>\n<li>é»˜è®¤ã€æ‹·è´å’Œç§»åŠ¨æ„é€ å‡½æ•°ä¸ä¼šè¢«ç»§æ‰¿ï¼Œä¼šæŒ‰ç…§æ­£å¸¸è§„åˆ™è¢«åˆæˆã€‚</li>\n</ul>\n","site":{"data":{}},"length":13825,"excerpt":"","more":"<h3 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h3><p>ç”±äºé¢è¯•è¢«ç‹ ç‹ æ‹·æ‰“ï¼Œå†³å®šæ¶è¡¥c++ã€‚æœ‰äº›æ¦‚å¿µå¤ªé•¿ä¼šä»¥å›¾ç‰‡æ˜¾ç¤º</p>\n<h3 id=\"å˜é‡å’ŒåŸºæœ¬ç±»å‹\"><a href=\"#å˜é‡å’ŒåŸºæœ¬ç±»å‹\" class=\"headerlink\" title=\"å˜é‡å’ŒåŸºæœ¬ç±»å‹\"></a>å˜é‡å’ŒåŸºæœ¬ç±»å‹</h3><h4 id=\"åŸºæœ¬ç±»å‹\"><a href=\"#åŸºæœ¬ç±»å‹\" class=\"headerlink\" title=\"åŸºæœ¬ç±»å‹\"></a>åŸºæœ¬ç±»å‹</h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418202838.png\"></p>\n<p>ä¸€äº›ç±»å‹é€‰æ‹©çš„å»ºè®®ï¼š</p>\n<ul>\n<li>æ•°å€¼ä¸å¯èƒ½ä¸ºè´Ÿæ—¶ï¼Œé€‰ç”¨æ— ç¬¦å·ç±»å‹</li>\n<li>ä½¿ç”¨intæ‰§è¡Œæ•´æ•°è¿ç®—ï¼Œå¦‚æœè¶…è¿‡intèŒƒå›´ï¼Œé€‰ç”¨longlong</li>\n<li>ç®—æœ¯è¡¨è¾¾å¼ä¸­ä¸è¦ä½¿ç”¨charæˆ–bool,åªæœ‰åœ¨å­˜æ”¾å­—ç¬¦æˆ–boolå€¼æ‰ä½¿ç”¨å®ƒä»¬ã€‚å› ä¸ºcharåœ¨æœ‰äº›æœºå™¨æ˜¯æœ‰ç¬¦å·çš„ï¼Œè€Œåœ¨ä¸€äº›æœºå™¨ä¸Šåˆæ˜¯æ— ç¬¦å·çš„ã€‚</li>\n<li>æ‰§è¡Œæµ®ç‚¹æ•°è¿ç®—ç”¨doubleï¼Œfloatå¸¸å¸¸ç²¾åº¦ä¸å¤Ÿï¼Œè€Œä¸”åŒç²¾åº¦å’Œå•ç²¾åº¦çš„è®¡ç®—ä»£ä»·ç›¸å·®æ— å‡ ã€‚</li>\n</ul>\n<h4 id=\"ç±»å‹è½¬æ¢\"><a href=\"#ç±»å‹è½¬æ¢\" class=\"headerlink\" title=\"ç±»å‹è½¬æ¢\"></a>ç±»å‹è½¬æ¢</h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418203722.png\"></p>\n<ul>\n<li>å°†éboolå‹ç®—æœ¯å€¼èµ‹ç»™boolæ—¶ï¼Œä¸º0åˆ™ç»“æœä¸ºfalseï¼Œå¦åˆ™ä¸ºtrue</li>\n<li>å½“boolå€¼ç»™éboolå‹ï¼Œä¸ºfalseåˆ™ç»“æœä¸º0ï¼Œtrue ä¸º 1</li>\n<li>å½“æµ®ç‚¹æ•°èµ‹ç»™æ•´æ•°ç±»å‹æ—¶ï¼Œç æ‰å°æ•°ç‚¹åé¢çš„</li>\n<li>å½“æ•´æ•°èµ‹ç»™æµ®ç‚¹æ—¶ï¼Œå°æ•°éƒ¨åˆ†ä¸º0</li>\n<li>å½“ç»™unsignedèµ‹ç»™ä¸€ä¸ªè¶…å‡ºèŒƒå›´çš„å€¼æ—¶ï¼Œç»“æœæ˜¯åˆå§‹å€¼åŠ è¡¨ç¤ºæ•°å€¼æ€»æ•°å–æ¨¡åçš„ä½™æ•°ï¼Œåœ¨è¿™é‡Œå°±æ˜¯(-1+256)%256</li>\n<li>å½“ç»™ä¸€ä¸ªæœ‰ç¬¦å·ç±»å‹ä¸€ä¸ªè¶…å‡ºèŒƒå›´çš„å€¼æ—¶ï¼Œç»“æœæ—¶æœªå®šä¹‰çš„ã€‚ç¨‹åºå¯èƒ½ç»§ç»­å·¥ä½œã€å¯èƒ½å´©æºƒï¼Œä¹Ÿå¯èƒ½äº§ç”Ÿåƒåœ¾æ•°æ®ã€‚</li>\n</ul>\n<p>å½“ä¸€ä¸ªç®—æ•°è¡¨è¾¾å¼æ—¢æœ‰unsignedåˆæœ‰intæ—¶ï¼Œintå°±ä¼šè½¬åŒ–ä¸ºunsigned</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418204711.png\"></p>\n<p>å½“ u &#x3D; 0 æ—¶ï¼Œè¿­ä»£è¾“å‡º0ï¼Œç„¶åæ‰§è¡Œâ€“uï¼Œæ­¤æ—¶ u &#x3D; -1 è¢«è‡ªåŠ¨è½¬åŒ–ä¸º4294967295ï¼Œæ­¤æ—¶ä¼šæ— é™å¾ªç¯</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418204946.png\"></p>\n<h4 id=\"å­—é¢å€¼å¸¸é‡\"><a href=\"#å­—é¢å€¼å¸¸é‡\" class=\"headerlink\" title=\"å­—é¢å€¼å¸¸é‡\"></a>å­—é¢å€¼å¸¸é‡</h4><p>ä»¥0å¼€å¤´ä»£è¡¨å…«è¿›åˆ¶æ•°ï¼Œ0xæˆ–0Xå¼€å¤´ä»£è¡¨åå…­è¿›åˆ¶ï¼Œæ¯”å¦‚ï¼š<br><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418205302.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418205426.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418205542.png\"></p>\n<h4 id=\"å˜é‡\"><a href=\"#å˜é‡\" class=\"headerlink\" title=\"å˜é‡\"></a>å˜é‡</h4><p>å½“å¯¹è±¡åœ¨åˆ›å»ºæ—¶è·å¾—äº†ä¸€ä¸ªç‰¹å®šå€¼ï¼Œæˆ‘ä»¬è¯´è¿™ä¸ªå¯¹è±¡è¢«åˆå§‹åŒ–äº†ã€‚å¦‚æœå®šä¹‰å˜é‡æ—¶æ²¡æœ‰æŒ‡å®šåˆå€¼ï¼Œåˆ™å˜é‡è¢«é»˜è®¤åˆå§‹åŒ–ï¼Œæ­¤æ—¶è¢«èµ‹äºˆäº†â€œé»˜è®¤å€¼â€ã€‚å®šä¹‰äºä»»ä½•å‡½æ•°ä½“ä¹‹å¤–çš„å˜é‡è¢«åˆå§‹åŒ–ä¸º0ï¼Œå®šä¹‰åœ¨å‡½æ•°ä½“å†…éƒ¨çš„å†…ç½®å˜é‡å°†ä¸è¢«åˆå§‹åŒ–ï¼Œç”±äºæ˜¯æœªè¢«å®šä¹‰çš„ï¼Œè¯•å›¾æ‹·è´æˆ–ä»¥å…¶ä»–å½¢å¼è®¿é—®æ­¤å€¼å°†å¼•å‘é”™è¯¯ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418205841.png\"></p>\n<h4 id=\"å£°æ˜ä¸å®šä¹‰\"><a href=\"#å£°æ˜ä¸å®šä¹‰\" class=\"headerlink\" title=\"å£°æ˜ä¸å®šä¹‰\"></a>å£°æ˜ä¸å®šä¹‰</h4><p>c++å°†å£°æ˜å’Œå®šä¹‰åŒºåˆ†å¼€æ¥ï¼Œå£°æ˜ä½¿å¾—åå­—ä¸ºç¨‹åºæ‰€çŸ¥ï¼Œå®šä¹‰è´Ÿè´£åˆ›å»ºä¸åå­—å…³è”çš„å®ä½“ã€‚</p>\n<p>å˜é‡å£°æ˜è§„å®šå˜é‡çš„ç±»å‹å’Œåå­—ï¼Œåœ¨è¿™ä¸€ç‚¹ä¸Šå®šä¹‰ä¸ä¹‹ç›¸åŒï¼Œä½†é™¤æ­¤ä¹‹å¤–ï¼Œå®šä¹‰è¿˜ç”³è¯·å­˜å‚¨ç©ºé—´ï¼Œä¹Ÿå¯èƒ½ä¸ºå˜é‡èµ‹ä¸€ä¸ªåˆå§‹å€¼ã€‚</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">extern</span> <span class=\"type\">int</span> i; <span class=\"comment\">// å¦‚æœæƒ³å£°æ˜ä¸€ä¸ªå˜é‡è€Œéå®šä¹‰å®ƒï¼Œåœ¨å˜é‡åå‰æ·»åŠ å…³é”®å­—extern</span></span><br><span class=\"line\"><span class=\"type\">int</span> j;<span class=\"comment\">// å£°æ˜å¹¶å®šä¹‰ j</span></span><br><span class=\"line\"><span class=\"keyword\">extern</span> <span class=\"type\">double</span> pi = <span class=\"number\">3.1416</span>; <span class=\"comment\">// externè¯­å¥å¦‚æœåŒ…å«åˆå§‹å€¼å°±ä¸å†æ˜¯å£°æ˜ï¼Œè€Œå˜æˆå®šä¹‰äº†ã€‚</span></span><br><span class=\"line\"><span class=\"comment\">// å¦‚æœåœ¨å‡½æ•°ä½“è¿™æ ·å†™ï¼Œå°†ä¼šå¼•å‘é”™è¯¯ã€‚</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"æŒ‡é’ˆå’Œå¼•ç”¨\"><a href=\"#æŒ‡é’ˆå’Œå¼•ç”¨\" class=\"headerlink\" title=\"æŒ‡é’ˆå’Œå¼•ç”¨\"></a>æŒ‡é’ˆå’Œå¼•ç”¨</h3><h4 id=\"å¼•ç”¨\"><a href=\"#å¼•ç”¨\" class=\"headerlink\" title=\"å¼•ç”¨\"></a>å¼•ç”¨</h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418211425.png\"></p>\n<ul>\n<li>å¼•ç”¨å³åˆ«åã€‚</li>\n<li>å¼•ç”¨æœ¬èº«å¹¶ä¸æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä¸èƒ½å®šä¹‰å¼•ç”¨çš„å¼•ç”¨ã€‚</li>\n<li>å¼•ç”¨ç±»å‹è¦ä¸ä¹‹ç»‘å®šçš„å¯¹è±¡ä¸¥æ ¼åŒ¹é…ã€‚</li>\n<li>å¼•ç”¨åªèƒ½ç»‘å®šåœ¨å¯¹è±¡ä¸Šï¼Œä¸èƒ½ä¸å­—é¢å€¼æˆ–æŸä¸ªè¡¨è¾¾å¼çš„è®¡ç®—ç»“æœç»‘å®šåœ¨ä¸€èµ·ã€‚</li>\n</ul>\n<h4 id=\"æŒ‡é’ˆ\"><a href=\"#æŒ‡é’ˆ\" class=\"headerlink\" title=\"æŒ‡é’ˆ\"></a>æŒ‡é’ˆ</h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418211747.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418211809.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418211905.png\"></p>\n<p>æŒ‡é’ˆçš„å€¼ï¼ˆåœ°å€ï¼‰åº”å±äºä¸‹åˆ—4ç§çŠ¶æ€ä¹‹ä¸€ï¼š</p>\n<ul>\n<li>æŒ‡å‘ä¸€ä¸ªå¯¹è±¡</li>\n<li>æŒ‡å‘ç´§é‚»å¯¹è±¡æ‰€å ç©ºé—´çš„ä¸‹ä¸€ä¸ªä½ç½®</li>\n<li>ç©ºæŒ‡é’ˆï¼Œæ„å‘³ç€æŒ‡é’ˆæ²¡æœ‰æŒ‡å‘ä»»ä½•å¯¹è±¡</li>\n<li>æ— æ•ˆæŒ‡é’ˆï¼Œä¹Ÿå°±æ˜¯ä¸Šè¿°æƒ…å†µä¹‹å¤–çš„å…¶ä»–å€¼ï¼Œè¯•å›¾æ‹·è´æˆ–ä»¥å…¶ä»–å½¢å¼è®¿é—®æ— æ•ˆæŒ‡é’ˆéƒ½å°†å¼•å‘é”™è¯¯</li>\n</ul>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418212135.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418212340.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418212627.png\"></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">int</span> *&amp;r = p; <span class=\"comment\">// ä»å³å¾€å·¦è¯»ï¼Œç¦»å˜é‡åæœ€è¿‘çš„ç¬¦å·å¯¹å˜é‡çš„ç±»å‹æœ‰æœ€ç›´æ¥çš„å½±å“ï¼Œå› æ­¤ræ˜¯ä¸€ä¸ªå¼•ç”¨ã€‚*è¯´æ˜rå¼•ç”¨çš„æ˜¯ä¸€ä¸ªæŒ‡é’ˆã€‚</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"const\"><a href=\"#const\" class=\"headerlink\" title=\"const\"></a>const</h3><p>é»˜è®¤çŠ¶æ€ä¸‹ï¼Œconstå¯¹è±¡ä»…åœ¨ä¸€ä¸ªæ–‡ä»¶å†…æœ‰æ•ˆï¼Œå¦‚æœç¨‹åºåŒ…å«å¤šä¸ªæ–‡ä»¶ï¼ŒåŒåçš„constå˜é‡å…¶å®ç­‰åŒäºåœ¨ä¸åŒæ–‡ä»¶ä¸­åˆ†åˆ«å®šä¹‰äº†ç‹¬ç«‹çš„å˜é‡ã€‚è§£å†³çš„æ–¹æ³•ä¾¿æ˜¯åœ¨constå˜é‡å‰åŠ extern</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">extern</span> <span class=\"type\">const</span> <span class=\"type\">int</span> i = <span class=\"number\">5</span>;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"constä¸å¼•ç”¨\"><a href=\"#constä¸å¼•ç”¨\" class=\"headerlink\" title=\"constä¸å¼•ç”¨\"></a>constä¸å¼•ç”¨</h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418213248.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418213820.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418214147.png\"></p>\n<p>ç”±äºconstå¼•ç”¨ä¹Ÿç»å¸¸è¢«ç§°ä¸ºå¸¸é‡å¼•ç”¨ï¼Œæ‰€ä»¥åœ¨æ­£å¸¸å¼•ç”¨ä¸­ä¸èƒ½åšçš„â€”â€”ä½¿ç”¨å­—é¢å€¼æˆ–è€…è¡¨è¾¾å¼ä½œä¸ºåˆå§‹å€¼ï¼Œç±»å‹ä¸ä¸€è‡´ï¼Œåœ¨constå¼•ç”¨ä¸­éƒ½å¯ä»¥åš</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418214232.png\"></p>\n<h4 id=\"constä¸æŒ‡é’ˆ\"><a href=\"#constä¸æŒ‡é’ˆ\" class=\"headerlink\" title=\"constä¸æŒ‡é’ˆ\"></a>constä¸æŒ‡é’ˆ</h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418214516.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418214614.png\"></p>\n<h4 id=\"é¡¶å±‚ä¸åº•å±‚const\"><a href=\"#é¡¶å±‚ä¸åº•å±‚const\" class=\"headerlink\" title=\"é¡¶å±‚ä¸åº•å±‚const\"></a>é¡¶å±‚ä¸åº•å±‚const</h4><p>é¡¶å±‚constè¡¨ç¤ºæŒ‡é’ˆæœ¬èº«æ˜¯ä¸ªå¸¸é‡ï¼Œåº•å±‚constè¡¨ç¤ºæŒ‡é’ˆæ‰€æŒ‡çš„å¯¹è±¡æ˜¯ä¸€ä¸ªå¸¸é‡ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œé¡¶å±‚constè¡¨ç¤ºçš„å¯¹è±¡æ˜¯å¸¸é‡ï¼Œæ— æ³•æ”¹å˜ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418215607.png\"></p>\n<h5 id=\"constexpr-å’Œå¸¸é‡è¡¨è¾¾å¼\"><a href=\"#constexpr-å’Œå¸¸é‡è¡¨è¾¾å¼\" class=\"headerlink\" title=\"constexpr å’Œå¸¸é‡è¡¨è¾¾å¼\"></a>constexpr å’Œå¸¸é‡è¡¨è¾¾å¼</h5><p>å¸¸é‡è¡¨è¾¾å¼æŒ‡å€¼ä¸ä¼šæ”¹å˜ä¸”åœ¨ç¼–è¯‘è¿‡ç¨‹å°±èƒ½å¾—åˆ°è®¡ç®—ç»“æœçš„è¡¨è¾¾å¼ã€‚</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> max_files = <span class=\"number\">20</span>; <span class=\"comment\">// æ˜¯å¸¸é‡è¡¨è¾¾å¼</span></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> limit = max_files + <span class=\"number\">1</span>;<span class=\"comment\">// æ˜¯å¸¸é‡è¡¨è¾¾å¼</span></span><br><span class=\"line\"><span class=\"type\">int</span> staff_size = <span class=\"number\">27</span>;<span class=\"comment\">// ä¸æ˜¯å¸¸é‡è¡¨è¾¾å¼</span></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> sz = <span class=\"built_in\">get_size</span>();<span class=\"comment\">// ä¸æ˜¯å¸¸é‡è¡¨è¾¾å¼</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418220303.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418220655.png\"></p>\n<h3 id=\"å¤„ç†ç±»å‹\"><a href=\"#å¤„ç†ç±»å‹\" class=\"headerlink\" title=\"å¤„ç†ç±»å‹\"></a>å¤„ç†ç±»å‹</h3><h4 id=\"ç±»å‹åˆ«å\"><a href=\"#ç±»å‹åˆ«å\" class=\"headerlink\" title=\"ç±»å‹åˆ«å\"></a>ç±»å‹åˆ«å</h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418220844.png\"></p>\n<h4 id=\"auto\"><a href=\"#auto\" class=\"headerlink\" title=\"auto\"></a>auto</h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418221240.png\"></p>\n<h4 id=\"decltype\"><a href=\"#decltype\" class=\"headerlink\" title=\"decltype\"></a>decltype</h4><p>decltype ä½œç”¨æ˜¯é€‰æ‹©å¹¶è¿”å›æ“ä½œæ•°çš„æ•°æ®ç±»å‹ã€‚ç¼–è¯‘å™¨åªåˆ†æè¡¨è¾¾å¼å¾—åˆ°ç±»å‹ï¼Œå´ä¸å®é™…è®¡ç®—è¡¨è¾¾å¼çš„å€¼</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418221458.png\"></p>\n<h3 id=\"æ•°ç»„\"><a href=\"#æ•°ç»„\" class=\"headerlink\" title=\"æ•°ç»„\"></a>æ•°ç»„</h3><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418222613.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230418222654.png\"></p>\n<p>ä½¿ç”¨æ•°ç»„ä¸‹æ ‡æ—¶ï¼Œé€šå¸¸å°†å…¶å®šä¹‰ä¸ºsize_tç±»å‹ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419093955.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419094201.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419094228.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419094312.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419094545.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419094557.png\"></p>\n<p>ä¸¥æ ¼æ¥è¯´ï¼Œc++æ²¡æœ‰å¤šç»´æ•°ç»„ï¼Œé€šå¸¸è¯´çš„å¤šç»´æ•°ç»„å…¶å®æ˜¯æ•°ç»„çš„æ•°ç»„</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419094706.png\"></p>\n<h3 id=\"è¡¨è¾¾å¼\"><a href=\"#è¡¨è¾¾å¼\" class=\"headerlink\" title=\"è¡¨è¾¾å¼\"></a>è¡¨è¾¾å¼</h3><h4 id=\"å·¦å€¼å³å€¼\"><a href=\"#å·¦å€¼å³å€¼\" class=\"headerlink\" title=\"å·¦å€¼å³å€¼\"></a>å·¦å€¼å³å€¼</h4><p>å½“ä¸€ä¸ªå¯¹è±¡è¢«ç”¨ä½œå³å€¼çš„æ—¶å€™ï¼Œç”¨çš„æ˜¯å¯¹è±¡çš„å€¼ï¼ˆå†…å®¹ï¼‰ï¼›å½“å¯¹è±¡è¢«ç”¨ä½œå·¦å€¼çš„æ—¶å€™ï¼Œç”¨çš„æ˜¯å¯¹è±¡çš„èº«ä»½ï¼ˆåœ¨å†…å­˜ä¸­çš„ä½ç½®ï¼‰ã€‚</p>\n<h4 id=\"æ±‚å€¼é¡ºåº\"><a href=\"#æ±‚å€¼é¡ºåº\" class=\"headerlink\" title=\"æ±‚å€¼é¡ºåº\"></a>æ±‚å€¼é¡ºåº</h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419095331.png\"></p>\n<h4 id=\"å–ä½™\"><a href=\"#å–ä½™\" class=\"headerlink\" title=\"å–ä½™\"></a>å–ä½™</h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419095540.png\"></p>\n<h4 id=\"i-è¿˜æ˜¯-i\"><a href=\"#i-è¿˜æ˜¯-i\" class=\"headerlink\" title=\"++i è¿˜æ˜¯ i++\"></a>++i è¿˜æ˜¯ i++</h4><p>å‰ç½®ç‰ˆæœ¬å°†å¯¹è±¡æœ¬èº«ä½œä¸ºå·¦å€¼è¿”å›ï¼Œåç½®ç‰ˆæœ¬åˆ™å°†å¯¹è±¡åŸå§‹å€¼çš„å‰¯æœ¬ä½œä¸ºå³å€¼è¿”å›ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419095813.png\"></p>\n<h4 id=\"æ¡ä»¶è¿ç®—ç¬¦\"><a href=\"#æ¡ä»¶è¿ç®—ç¬¦\" class=\"headerlink\" title=\"æ¡ä»¶è¿ç®—ç¬¦\"></a>æ¡ä»¶è¿ç®—ç¬¦</h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419095939.png\"></p>\n<h4 id=\"ä½è¿ç®—ç¬¦\"><a href=\"#ä½è¿ç®—ç¬¦\" class=\"headerlink\" title=\"ä½è¿ç®—ç¬¦\"></a>ä½è¿ç®—ç¬¦</h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419100130.png\"></p>\n<h4 id=\"sizeof-è¿ç®—ç¬¦\"><a href=\"#sizeof-è¿ç®—ç¬¦\" class=\"headerlink\" title=\"sizeof è¿ç®—ç¬¦\"></a>sizeof è¿ç®—ç¬¦</h4><p>sizeof è¿”å›ä¸€æ¡è¡¨è¾¾å¼æˆ–ä¸€ä¸ªç±»å‹åå­—æ‰€å çš„å­—èŠ‚æ•°ã€‚å…¶æ‰€å¾—å€¼æ˜¯ä¸€ä¸ªsize_tç±»å‹çš„å¸¸é‡è¡¨è¾¾å¼ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419100642.png\"></p>\n<h4 id=\"æ˜¾å¼è½¬æ¢\"><a href=\"#æ˜¾å¼è½¬æ¢\" class=\"headerlink\" title=\"æ˜¾å¼è½¬æ¢\"></a>æ˜¾å¼è½¬æ¢</h4><ul>\n<li><p>static_cast: åªè¦ä¸åŒ…å«åº•å±‚constï¼Œå°±å¯ä»¥ç”¨ã€‚å½“éœ€è¦æŠŠä¸€ä¸ªè¾ƒå¤§çš„ç®—æ•°ç±»å‹å¤åˆ¶ç»™è¾ƒå°çš„ç±»å‹æ—¶ï¼ŒåŒæ—¶æˆ‘ä»¬ä¸åœ¨ä¹æ½œåœ¨çš„ç²¾åº¦æŸå¤±ï¼Œstatic_castå°±éå¸¸æœ‰ç”¨ã€‚<br><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419104556.png\"><br><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419132259.png\"><br><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419132320.png\"></p>\n</li>\n<li><p>dynamic_cast:è¿è¡Œæ—¶ç±»å‹è¯†åˆ«çš„è¿ç®—ç¬¦ï¼Œç”¨äºå°†åŸºç±»çš„æŒ‡é’ˆæˆ–å¼•ç”¨å®‰å…¨åœ°è½¬åŒ–ä¸ºæ´¾ç”Ÿç±»çš„æŒ‡é’ˆæˆ–å¼•ç”¨ã€‚<br><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419132236.png\"></p>\n</li>\n<li><p>const_cast: å®ƒåªèƒ½æ”¹å˜è¿ç®—å¯¹è±¡çš„åº•å±‚constï¼Œä¸€èˆ¬ç§°å…¶ä¸ºâ€œå»æ‰constæ€§è´¨â€ï¼Œä¸€æ—¦å»æ‰ï¼Œç¼–è¯‘å™¨å°±ä¸å†ç»„ç»‡æˆ‘ä»¬å¯¹è¯¥å¯¹è±¡è¿›è¡Œå†™æ“ä½œäº†ã€‚<br><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419105145.png\"></p>\n</li>\n<li><p>reinterpret_cast: é€šå¸¸ä¸ºè¿ç®—å¯¹è±¡çš„ä½æ¨¡å¼æä¾›è¾ƒä½å±‚æ¬¡çš„é‡æ–°è§£é‡Šã€‚<br><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419110344.png\"></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">int</span>* p = <span class=\"keyword\">new</span> <span class=\"built_in\">int</span>(<span class=\"number\">65</span>);</span><br><span class=\"line\"><span class=\"type\">char</span>* ch = <span class=\"built_in\">reinterpret_cast</span>&lt;<span class=\"type\">char</span>*&gt; (p);</span><br><span class=\"line\">cout &lt;&lt; *p &lt;&lt; endl; <span class=\"comment\">// 65</span></span><br><span class=\"line\">cout &lt;&lt; *ch &lt;&lt; endl; <span class=\"comment\">// A</span></span><br><span class=\"line\">cout &lt;&lt; p &lt;&lt; endl; <span class=\"comment\">// åœ°å€00000249CE417930</span></span><br><span class=\"line\">cout &lt;&lt; ch &lt;&lt; endl; <span class=\"comment\">// A</span></span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>ä¸¾ä¸ªä¾‹å­ï¼Œ32ä½ç³»ç»Ÿï¼Œintæ˜¯32ä½ï¼ŒæŒ‡é’ˆä¹Ÿæ˜¯32ä½ï¼Œæˆ‘æ—¢å¯ä»¥æŠŠä¸€ä¸ª32ä½çš„å€¼è§£é‡Šæˆä¸€ä¸ªæ•´æ•°ï¼Œä¹Ÿå¯ä»¥è§£é‡Šæˆä¸€ä¸ªæŒ‡é’ˆã€‚è‡³äºç©¶ç«Ÿèƒ½ä¸èƒ½è¿™æ ·è§£é‡Šï¼Œç”±ç¨‹åºå‘˜è´Ÿè´£ã€‚è€Œreinterpret_castå°±æ˜¯å¹²è¿™ä¸ªäº‹çš„ã€‚<br><a href=\"https://zhuanlan.zhihu.com/p/33040213\">C++ç±»å‹è½¬æ¢ä¹‹reinterpret_cast</a></p>\n</blockquote>\n</li>\n</ul>\n<h4 id=\"RTTI-è¿è¡Œæ—¶ç±»å‹è¯†åˆ«\"><a href=\"#RTTI-è¿è¡Œæ—¶ç±»å‹è¯†åˆ«\" class=\"headerlink\" title=\"RTTI è¿è¡Œæ—¶ç±»å‹è¯†åˆ«\"></a>RTTI è¿è¡Œæ—¶ç±»å‹è¯†åˆ«</h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419132434.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419132459.png\"></p>\n<p>typeid ä½œç”¨äºå¯¹è±¡ï¼Œæˆ‘ä»¬åº”è¯¥ç”¨*bpè€Œébp</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419132655.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230419132730.png\"></p>\n<h3 id=\"å‡½æ•°\"><a href=\"#å‡½æ•°\" class=\"headerlink\" title=\"å‡½æ•°\"></a>å‡½æ•°</h3><h4 id=\"å±€éƒ¨å¯¹è±¡\"><a href=\"#å±€éƒ¨å¯¹è±¡\" class=\"headerlink\" title=\"å±€éƒ¨å¯¹è±¡\"></a>å±€éƒ¨å¯¹è±¡</h4><p>åå­—æœ‰ä½œç”¨åŸŸã€å¯¹è±¡æœ‰ç”Ÿå‘½å‘¨æœŸã€‚</p>\n<ul>\n<li>åå­—çš„ä½œç”¨åŸŸæ˜¯ç¨‹åºæ–‡æœ¬çš„ä¸€éƒ¨åˆ†ï¼Œåå­—åœ¨å…¶ä¸­å¯è§</li>\n<li>å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸæ˜¯ç¨‹åºæ‰§è¡Œè¿‡ç¨‹ä¸­è¯¥å¯¹è±¡å­˜åœ¨çš„ä¸€æ®µæ—¶é—´</li>\n</ul>\n<p>è‡ªåŠ¨å¯¹è±¡ï¼šæˆ‘ä»¬æŠŠåªå­˜åœ¨äºå—æ‰§è¡ŒæœŸé—´çš„å¯¹è±¡ç§°ä¸ºè‡ªåŠ¨å¯¹è±¡ã€‚å½“å—çš„æ‰§è¡Œç»“æŸåï¼Œå—ä¸­åˆ›å»ºçš„è‡ªåŠ¨å¯¹è±¡çš„å€¼å°±å˜æˆæœªå®šä¹‰çš„äº†ã€‚</p>\n<p>å½¢å‚æ˜¯ä¸€ç§è‡ªåŠ¨å¯¹è±¡ã€‚å‡½æ•°å¼€å§‹æ—¶ä¸ºå½¢å‚ç”³è¯·å­˜å‚¨ç©ºé—´ï¼Œå‡½æ•°ä¸€æ—¦ç»ˆæ­¢ï¼Œå½¢å‚å°±è¢«é”€æ¯ã€‚</p>\n<p>å±€éƒ¨é™æ€å¯¹è±¡ï¼šåœ¨ç¨‹åºçš„ç¬¬ä¸€æ¬¡æ‰§è¡Œåˆå§‹åŒ–ï¼Œç›´åˆ°ç¨‹åºç»ˆæ­¢æ‰é”€æ¯ã€‚åœ¨æ­¤æœŸé—´ï¼Œå³ä½¿å¯¹è±¡æ‰€åœ¨çš„å‡½æ•°ç»“æŸæ‰§è¡Œä¹Ÿä¸ä¼šå¯¹å®ƒæœ‰æ‰€å½±å“ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230421105708.png\"></p>\n<h4 id=\"ä¼ å€¼å‚æ•°\"><a href=\"#ä¼ å€¼å‚æ•°\" class=\"headerlink\" title=\"ä¼ å€¼å‚æ•°\"></a>ä¼ å€¼å‚æ•°</h4><p>å½¢å‚åˆå§‹åŒ–çš„åŸç†ä¸å˜é‡åˆå§‹åŒ–ä¸€æ ·ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230421110256.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230421110522.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230421110618.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230421110649.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230421110735.png\"></p>\n<p><strong>å«æœ‰å¯å˜å½¢å‚çš„å‡½æ•°</strong> ï¼š </p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230421110825.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230421110855.png\"></p>\n<h4 id=\"å‡½æ•°è¿”å›å€¼\"><a href=\"#å‡½æ•°è¿”å›å€¼\" class=\"headerlink\" title=\"å‡½æ•°è¿”å›å€¼\"></a>å‡½æ•°è¿”å›å€¼</h4><p>ä¸è¦è¿”å›å±€éƒ¨å¯¹è±¡çš„å¼•ç”¨æˆ–æŒ‡é’ˆï¼šå‡½æ•°å®Œæˆåï¼Œå®ƒæ‰€å ç”¨çš„å­˜å‚¨ç©ºé—´ä¹Ÿéšä¹‹è¢«é‡Šæ”¾æ‰ã€‚å› æ­¤ï¼Œå‡½æ•°ç»ˆæ­¢æ„å‘³ç€å±€éƒ¨å˜é‡çš„å¼•ç”¨å°†æŒ‡å‘ä¸å†æœ‰æ•ˆçš„å†…å­˜åŒºåŸŸã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230421111054.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230421111845.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230421111856.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230421111906.png\"></p>\n<h4 id=\"å‡½æ•°é‡è½½\"><a href=\"#å‡½æ•°é‡è½½\" class=\"headerlink\" title=\"å‡½æ•°é‡è½½\"></a>å‡½æ•°é‡è½½</h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230421112312.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230421112244.png\"></p>\n<h4 id=\"å†…è”å‡½æ•°\"><a href=\"#å†…è”å‡½æ•°\" class=\"headerlink\" title=\"å†…è”å‡½æ•°\"></a>å†…è”å‡½æ•°</h4><p>å†…è”å‡½æ•°å¯é¿å…å‡½æ•°è°ƒç”¨çš„å¼€é”€ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œå†…è”æœºåˆ¶ç”¨äºä¼˜åŒ–è§„æ¨¡è¾ƒå°ï¼Œæµç¨‹ç›´æ¥ï¼Œé¢‘ç¹è°ƒç”¨çš„å‡½æ•°ã€‚å°±æ¯”å¦‚è¯´ï¼Œè°ƒç”¨å‡½æ•°æ¯”å‡½æ•°æ‰§è¡Œæ—¶é—´é•¿ï¼Œç”¨å†…è”å‡½æ•°å°±è¡Œäº†ã€‚</p>\n<h4 id=\"constexpr-å‡½æ•°\"><a href=\"#constexpr-å‡½æ•°\" class=\"headerlink\" title=\"constexpr å‡½æ•°\"></a>constexpr å‡½æ•°</h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230421125221.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230421125231.png\"></p>\n<h4 id=\"å®å‚ç±»å‹è½¬æ¢\"><a href=\"#å®å‚ç±»å‹è½¬æ¢\" class=\"headerlink\" title=\"å®å‚ç±»å‹è½¬æ¢\"></a>å®å‚ç±»å‹è½¬æ¢</h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230421125357.png\"></p>\n<h4 id=\"å‡½æ•°æŒ‡é’ˆ\"><a href=\"#å‡½æ•°æŒ‡é’ˆ\" class=\"headerlink\" title=\"å‡½æ•°æŒ‡é’ˆ\"></a>å‡½æ•°æŒ‡é’ˆ</h4><p>æ„Ÿè§‰ç±»ä¼¼äºc#çš„å§”æ‰˜ï¼Œåƒæ˜¯ç»™ä¸€ä¸ªå‡½æ•°çš„åˆ«å</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230421130122.png\"></p>\n<h3 id=\"åˆæ­¥æ¢ç´¢ç±»\"><a href=\"#åˆæ­¥æ¢ç´¢ç±»\" class=\"headerlink\" title=\"åˆæ­¥æ¢ç´¢ç±»\"></a>åˆæ­¥æ¢ç´¢ç±»</h3><h4 id=\"constæˆå‘˜å‡½æ•°\"><a href=\"#constæˆå‘˜å‡½æ•°\" class=\"headerlink\" title=\"constæˆå‘˜å‡½æ•°\"></a>constæˆå‘˜å‡½æ•°</h4><p>å¸¸é‡å¯¹è±¡ã€ä»¥åŠå¸¸é‡å¯¹è±¡çš„å¼•ç”¨æˆ–æŒ‡é’ˆéƒ½åªèƒ½è°ƒç”¨å¸¸é‡æˆå‘˜å‡½æ•°ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230422204832.png\"></p>\n<p>ç®€å•æ¥è¯´ï¼Œå°±æ˜¯è®©è¯¥å‡½æ•°çš„æƒé™ä¸ºåªè¯»ï¼Œä¹Ÿå°±æ˜¯è¯´æ²¡æ³•å»æ”¹å˜æˆå‘˜å‡½æ•°çš„å€¼ã€‚<br>åŒæ—¶ï¼Œå¦‚æœä¸€ä¸ªå¯¹è±¡ä¸ºconstï¼Œå®ƒåªæœ‰æƒåŠ›è°ƒç”¨constå‡½æ•°ï¼Œå› ä¸ºæˆå‘˜å˜é‡ä¸èƒ½æ”¹å˜ã€‚</p>\n<h4 id=\"æ„é€ å‡½æ•°\"><a href=\"#æ„é€ å‡½æ•°\" class=\"headerlink\" title=\"æ„é€ å‡½æ•°\"></a>æ„é€ å‡½æ•°</h4><p>ä¸åŒäºå…¶ä»–å‡½æ•°ï¼Œæ„é€ å‡½æ•°ä¸èƒ½è¢«å£°æ˜æˆconstã€‚</p>\n<p>å¦‚æœæˆ‘ä»¬çš„ç±»æ²¡æœ‰æ˜¾å¼åœ°å®šä¹‰æ„é€ å‡½æ•°ï¼Œé‚£ä¹ˆç¼–è¯‘å™¨å°±ä¼šä¸ºæˆ‘ä»¬éšå¼åœ°å®šä¹‰ä¸€ä¸ªé»˜è®¤æ„é€ å‡½æ•°ã€‚åˆç§°ä¸ºåˆæˆé»˜è®¤æ„é€ å‡½æ•°ï¼ŒæŒ‰ç…§ä¸€ä¸‹è§„åˆ™åˆå§‹åŒ–ç±»åœ°æ•°æ®æˆå‘˜</p>\n<ul>\n<li>å¦‚æœå­˜åœ¨ç±»å†…çš„åˆå§‹å€¼ï¼Œå°±ç”¨å®ƒæ¥åˆå§‹åŒ–æˆå‘˜</li>\n<li>å¦åˆ™ï¼Œé»˜è®¤åˆå§‹åŒ–è¯¥æˆå‘˜ã€‚</li>\n</ul>\n<p>æŸäº›ç±»ä¸èƒ½ä¾èµ–äºåˆæˆçš„é»˜è®¤æ„é€ å‡½æ•°ï¼ŒåŸå› å¦‚ä¸‹ï¼š</p>\n<ul>\n<li>å¯¹äºä¸€ä¸ªæ™®é€šçš„ç±»æ¥è¯´ï¼Œå¿…é¡»å®šä¹‰å®ƒè‡ªå·±çš„é»˜è®¤æ„é€ å‡½æ•°ã€‚åªæœ‰ç±»ä¸åŒ…å«ä»»ä½•æ„é€ å‡½æ•°çš„æƒ…å†µä¸‹æ‰ä¼šè‡ªåŠ¨ç”Ÿæˆé»˜è®¤æ„é€ å‡½æ•°ã€‚</li>\n<li>å¯¹äºæŸäº›ç±»æ¥è¯´ï¼Œåˆæˆçš„é»˜è®¤æ„é€ å‡½æ•°å¯èƒ½æ‰§è¡Œé”™è¯¯çš„æ“ä½œã€‚å¦‚æœå®šä¹‰åœ¨å—ä¸­çš„å†…ç½®ç±»å‹æˆ–å¤åˆç±»å‹ï¼ˆæ•°ç»„å’ŒæŒ‡é’ˆï¼‰è¢«é»˜è®¤åˆå§‹åŒ–ï¼Œåˆ™å®ƒä»¬çš„å€¼å°†æ˜¯æœªå®šä¹‰çš„ã€‚</li>\n<li>å¦‚æœç±»ä¸­åŒ…å«ä¸€ä¸ªå…¶ä»–ç±»ç±»å‹çš„æˆå‘˜ä¸”è¿™ä¸ªæˆå‘˜æ²¡æœ‰é»˜è®¤æ„é€ å‡½æ•°ï¼Œé‚£ä¹ˆç¼–è¯‘å™¨å°†æ— æ³•åˆå§‹åŒ–è¯¥æˆå‘˜ã€‚</li>\n</ul>\n<p>&#x3D; defaultï¼Œå³è¦æ±‚ç¼–è¯‘å™¨ç”Ÿæˆé»˜è®¤æ„é€ å‡½æ•°ï¼Œå¦‚æœåœ¨ç±»çš„å†…éƒ¨ï¼Œé»˜è®¤æ˜¯å†…è”çš„ï¼Œå¦‚æœåœ¨ç±»çš„å¤–éƒ¨ï¼Œé»˜è®¤ä¸æ˜¯å†…è”çš„ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230422211706.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230422211751.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230422211833.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230422212543.png\"></p>\n<h4 id=\"å‹å…ƒ\"><a href=\"#å‹å…ƒ\" class=\"headerlink\" title=\"å‹å…ƒ\"></a>å‹å…ƒ</h4><p>ç±»å¯ä»¥å…è®¸å…¶ä»–ç±»æˆ–è€…å‡½æ•°è®¿é—®å®ƒçš„éå…¬æœ‰æˆå‘˜ï¼Œæ–¹æ³•æ˜¯ä»¤å…¶ä»–ç±»æˆ–è€…å‡½æ•°æˆä¸ºå®ƒçš„å‹å…ƒã€‚</p>\n<p>å‹å…ƒå£°æ˜åªèƒ½å‡ºç°åœ¨ç±»å®šä¹‰çš„å†…éƒ¨ï¼Œä½†æ˜¯åœ¨ç±»å†…å‡ºç°çš„å…·ä½“ä½ç½®ä¸é™ã€‚å‹å…ƒä¸æ˜¯ç±»çš„æˆå‘˜ä¹Ÿä¸å—å®ƒæ‰€åœ¨åŒºåŸŸè®¿é—®æ§åˆ¶çº§åˆ«çš„çº¦æŸã€‚ä¸€èˆ¬æ¥è¯´ï¼Œæœ€å¥½å®šä¹‰åœ¨ç±»å¼€å§‹çš„ä½ç½®æˆ–è€…ç»“æŸçš„ä½ç½®ã€‚</p>\n<p>å‹å…ƒä»…ä»…æŒ‡å®šäº†è®¿é—®æƒé™ï¼Œå¦‚æœå¸Œæœ›ç±»èƒ½å¤Ÿè°ƒç”¨æŸä¸ªå‹å…ƒå‡½æ•°ï¼Œé‚£ä¹ˆå¿…é¡»åœ¨å‹å…ƒå£°æ˜ä¹‹å¤–åœ¨ä¸“é—¨å¯¹å‡½æ•°å®šä¹‰ä¸€æ¬¡ã€‚</p>\n<h4 id=\"ç±»çš„inline\"><a href=\"#ç±»çš„inline\" class=\"headerlink\" title=\"ç±»çš„inline\"></a>ç±»çš„inline</h4><p>åœ¨ç±»ä¸­ï¼Œå¸¸æœ‰ä¸€äº›è§„æ¨¡è¾ƒå°çš„å‡½æ•°é€‚åˆè¢«å£°æ˜å†…è”å‡½æ•°ï¼Œå®šä¹‰åœ¨ç±»å†…éƒ¨çš„æˆå‘˜å‡½æ•°æ˜¯è‡ªåŠ¨inlineçš„ã€‚</p>\n<h4 id=\"å¯å˜æ•°æ®æˆå‘˜\"><a href=\"#å¯å˜æ•°æ®æˆå‘˜\" class=\"headerlink\" title=\"å¯å˜æ•°æ®æˆå‘˜\"></a>å¯å˜æ•°æ®æˆå‘˜</h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230422211331.png\"></p>\n<h4 id=\"ç±»çš„é™æ€æˆå‘˜\"><a href=\"#ç±»çš„é™æ€æˆå‘˜\" class=\"headerlink\" title=\"ç±»çš„é™æ€æˆå‘˜\"></a>ç±»çš„é™æ€æˆå‘˜</h4><p>ç±»çš„é™æ€æˆå‘˜å­˜åœ¨ä»»ä½•å¯¹è±¡ä¹‹å¤–ï¼Œå¯¹è±¡ä¸­ä¸åŒ…å«ä»»ä½•äºé™æ€æ•°æ®æˆå‘˜æœ‰å…³çš„æ•°æ®ã€‚é™æ€æˆå‘˜å‡½æ•°ä¹Ÿä¸äºˆä»»ä½•å¯¹è±¡ç»‘å®šåœ¨ä¸€èµ·ï¼Œå®ƒä»¬ä¸åŒ…å«thisæŒ‡é’ˆã€‚åŒæ—¶ï¼Œé™æ€æˆå‘˜å‡½æ•°ä¸èƒ½å£°æ˜æˆconstï¼Œä¹Ÿä¸èƒ½åœ¨é‡Œé¢è°ƒç”¨thisæŒ‡é’ˆã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230422213444.png\"></p>\n<h3 id=\"c-æ ‡å‡†åº“\"><a href=\"#c-æ ‡å‡†åº“\" class=\"headerlink\" title=\"c++æ ‡å‡†åº“\"></a>c++æ ‡å‡†åº“</h3><h4 id=\"é¡ºåºå®¹å™¨\"><a href=\"#é¡ºåºå®¹å™¨\" class=\"headerlink\" title=\"é¡ºåºå®¹å™¨\"></a>é¡ºåºå®¹å™¨</h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425195814.png\"></p>\n<p>é¡ºåºå®¹å™¨çš„é€‰æ‹©ï¼š</p>\n<ul>\n<li>é€šå¸¸é€‰æ‹©vector</li>\n<li>æœ‰å¾ˆå¤šå°å…ƒç´ ï¼Œç©ºé—´é¢å¤–å¼€é”€å¾ˆé‡è¦ï¼Œä¸è¦ç”¨listæˆ–forward_list</li>\n<li>éšæœºè®¿é—®å…ƒç´ ï¼Œç”¨vector æˆ– deque</li>\n<li>åœ¨ä¸­é—´æ’å…¥æˆ–åˆ é™¤å…ƒç´ ï¼Œåº”ä½¿ç”¨listæˆ–forward_list</li>\n<li>å¤´å°¾æ’å…¥æˆ–åˆ é™¤å…ƒç´ ï¼Œç”¨deque</li>\n<li>å¦‚æœåªæœ‰åœ¨è¾“å…¥æ—¶è¸©åœ¨ä¸­é—´ä½ç½®æ’å…¥å…ƒç´ ï¼Œéšåéœ€è¦éšæœºè®¿é—®ï¼šè€ƒè™‘è¾“å…¥é˜¶æ®µç”¨listï¼Œè¾“å…¥å®Œæˆåæ‹·è´åˆ°vector</li>\n<li>åˆè¦éšæœºè®¿é—®ï¼Œåˆè¦åœ¨ä¸­é—´ä½ç½®æ’å…¥å…ƒç´ ï¼Œçœ‹è®¿é—®æ“ä½œå¤šè¿˜æ˜¯æ’å…¥&#x2F;åˆ é™¤å…ƒç´ æ“ä½œå¤š</li>\n</ul>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425200215.png\"></p>\n<h4 id=\"å®¹å™¨è¿­ä»£å™¨\"><a href=\"#å®¹å™¨è¿­ä»£å™¨\" class=\"headerlink\" title=\"å®¹å™¨è¿­ä»£å™¨\"></a>å®¹å™¨è¿­ä»£å™¨</h4><p>beginæŒ‡å‘ç¬¬ä¸€ä¸ªå…ƒç´ ï¼ŒendæŒ‡å‘æœ€åä¸€ä¸ªå…ƒç´ ä¹‹åçš„ä½ç½®é€šå¸¸ç§°ä¸ºå·¦é—­å³åˆåŒºé—´ã€‚å³[begin,end)</p>\n<ul>\n<li>å¦‚æœbegin &#x3D;&#x3D; end è¯´æ˜è¯¥èŒƒå›´ä¸ºç©º</li>\n<li>å¦‚æœbegin !&#x3D; end è¯´æ˜è‡³å°‘åŒ…å«ä¸€ä¸ªå…ƒç´ ï¼Œä¸”beginæŒ‡å‘è¯¥èŒƒå›´ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ </li>\n<li>beginå¯ä»¥é€’å¢ï¼Œä½¿å¾—begin &#x3D;&#x3D; end</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">while</span>(begin!=end)&#123;</span><br><span class=\"line\">  *begin = val;</span><br><span class=\"line\">  ++begin;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425200629.png\"></p>\n<p>å½“ä¸éœ€è¦å†™è®¿é—®çš„æ—¶å€™ï¼Œåº”è¯¥ä½¿ç”¨cbeginå’Œcend</p>\n<h4 id=\"å®¹å™¨å®šä¹‰å’Œåˆå§‹åŒ–\"><a href=\"#å®¹å™¨å®šä¹‰å’Œåˆå§‹åŒ–\" class=\"headerlink\" title=\"å®¹å™¨å®šä¹‰å’Œåˆå§‹åŒ–\"></a>å®¹å™¨å®šä¹‰å’Œåˆå§‹åŒ–</h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425200725.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425200822.png\"></p>\n<h4 id=\"èµ‹å€¼å’Œswap\"><a href=\"#èµ‹å€¼å’Œswap\" class=\"headerlink\" title=\"èµ‹å€¼å’Œswap\"></a>èµ‹å€¼å’Œswap</h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425200902.png\"></p>\n<p>assign ç›¸å¯¹äºèµ‹å€¼è¿ç®—ç¬¦(&#x3D;)å…è®¸ä»ä»¥ä¸€ä¸ªä¸åŒä½†ç›¸å®¹çš„ç±»å‹èµ‹å€¼ï¼ˆæ¯”å¦‚char* å’Œ stringï¼‰ï¼Œæˆ–è€…ä»å®¹å™¨çš„ä¸€ä¸ªå­åºåˆ—èµ‹å€¼ã€‚assignæ“ä½œç”¨æ‰€æŒ‡å®šçš„å…ƒç´ çš„æ‹·è´æ›¿æ¢å®¹å™¨ä¸­çš„æ‰€æœ‰å…ƒç´ ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425201049.png\"></p>\n<p>swapæ“ä½œäº¤æ¢ä¸¤ä¸ªç›¸åŒç±»å‹çš„å†…å®¹ï¼Œä¿è¯æ“ä½œå¾ˆå¿«ï¼Œå…ƒç´ æœ¬èº«æœªè¢«äº¤æ¢ï¼Œåªæ˜¯äº¤æ¢äº†ä¸¤ä¸ªå®¹å™¨çš„å†…éƒ¨æ•°æ®ç»“æ„ã€‚<br>å…ƒç´ ä¸ä¼šè¢«ç§»åŠ¨æ„å‘³ç€ï¼Œé™¤stringå¤–æŒ‡å‘å®¹å™¨çš„è¿­ä»£å™¨ã€å¼•ç”¨æŒ‡é’ˆåœ¨swapåéƒ½ä¸ä¼šå¤±æ•ˆï¼Œé™¤äº†stringã€‚<br>ä¸å…¶ä»–å®¹å™¨ä¸åŒï¼Œswapä¸¤ä¸ªarrayä¼šçœŸæ­£åœ°äº¤æ¢å…ƒç´ ã€‚</p>\n<h4 id=\"å®¹å™¨æ¯”è¾ƒ\"><a href=\"#å®¹å™¨æ¯”è¾ƒ\" class=\"headerlink\" title=\"å®¹å™¨æ¯”è¾ƒ\"></a>å®¹å™¨æ¯”è¾ƒ</h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425201329.png\"></p>\n<h4 id=\"æ·»åŠ å…ƒç´ \"><a href=\"#æ·»åŠ å…ƒç´ \" class=\"headerlink\" title=\"æ·»åŠ å…ƒç´ \"></a>æ·»åŠ å…ƒç´ </h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425201416.png\"></p>\n<ul>\n<li>push_backã€push_frontã€insert:æ”¾å…¥åˆ°å®¹å™¨ä¸­çš„å…ƒç´ æ—¶å¯¹è±¡å€¼åœ°ä¸€ä¸ªæ‹·è´è€Œä¸æ˜¯å¯¹è±¡æœ¬èº«ã€‚</li>\n<li>emplaceæ“ä½œ:åˆ™æ˜¯å°†å‚æ•°ä¼ é€’ç»™å…ƒç´ ç±»å‹çš„æ„é€ å‡½æ•°ï¼Œç›´æ¥åœ¨å®¹å™¨ç®¡ç†çš„å†…å­˜ç©ºé—´ä¸­ç›´æ¥æ„é€ å…ƒç´ ï¼Œå‚æ•°å¿…é¡»ä¸å…ƒç´ ç±»å‹çš„æ„é€ å‡½æ•°ç›¸åŒ¹é…ã€‚</li>\n</ul>\n<h4 id=\"è®¿é—®å…ƒç´ \"><a href=\"#è®¿é—®å…ƒç´ \" class=\"headerlink\" title=\"è®¿é—®å…ƒç´ \"></a>è®¿é—®å…ƒç´ </h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425201920.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425202108.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425202245.png\"></p>\n<h4 id=\"åˆ é™¤å…ƒç´ \"><a href=\"#åˆ é™¤å…ƒç´ \" class=\"headerlink\" title=\"åˆ é™¤å…ƒç´ \"></a>åˆ é™¤å…ƒç´ </h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425202408.png\"></p>\n<h4 id=\"æ”¹å˜å®¹å™¨å¤§å°\"><a href=\"#æ”¹å˜å®¹å™¨å¤§å°\" class=\"headerlink\" title=\"æ”¹å˜å®¹å™¨å¤§å°\"></a>æ”¹å˜å®¹å™¨å¤§å°</h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425202449.png\"></p>\n<h4 id=\"string-æ“ä½œ\"><a href=\"#string-æ“ä½œ\" class=\"headerlink\" title=\"string æ“ä½œ\"></a>string æ“ä½œ</h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425202540.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425202609.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425202654.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425202711.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425202727.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425202750.png\"></p>\n<h4 id=\"å®¹å™¨é€‚é…å™¨\"><a href=\"#å®¹å™¨é€‚é…å™¨\" class=\"headerlink\" title=\"å®¹å™¨é€‚é…å™¨\"></a>å®¹å™¨é€‚é…å™¨</h4><p>ä¹Ÿå°±æ˜¯è®©å®¹å™¨çœ‹èµ·æ¥åƒä¸€ç§ä¸åŒçš„ç±»å‹ï¼Œæ¯”å¦‚è¯´queueæ˜¯åŸºäºdequeå®ç°çš„ã€‚æ¯”è¾ƒå¸¸è§çš„æ—¶stackï¼Œqueue,priority_queueã€‚</p>\n<h3 id=\"æ³›å‹ç®—æ³•\"><a href=\"#æ³›å‹ç®—æ³•\" class=\"headerlink\" title=\"æ³›å‹ç®—æ³•\"></a>æ³›å‹ç®—æ³•</h3><p>ç®—æ³•æ°¸è¿œä¸ä¼šæ”¹å˜åº•å±‚å®¹å™¨çš„å¤§å°ï¼Œå¯èƒ½æ”¹å˜å€¼ï¼Œå¯èƒ½ç§»åŠ¨å…ƒç´ ï¼Œä½†æ°¸è¿œä¸ä¼šæ·»åŠ æˆ–åˆ é™¤å…ƒç´ </p>\n<figure class=\"highlight c++\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// åªè¯»ç®—æ³•</span></span><br><span class=\"line\"><span class=\"type\">int</span> *result = <span class=\"built_in\">find</span>(vec.<span class=\"built_in\">begin</span>(),vec.<span class=\"built_in\">end</span>(),val);<span class=\"comment\">//æŸ¥æ‰¾ç®—æ³•</span></span><br><span class=\"line\"><span class=\"type\">int</span> result = <span class=\"built_in\">count</span>(vec.<span class=\"built_in\">begin</span>(),vec.<span class=\"built_in\">end</span>(),val);<span class=\"comment\">// ç»Ÿè®¡ä¸ªæ•°</span></span><br><span class=\"line\"><span class=\"type\">int</span> result = <span class=\"built_in\">accumulate</span>(v.<span class=\"built_in\">cbegin</span>(),vec.<span class=\"built_in\">cend</span>(),<span class=\"number\">0</span>);<span class=\"comment\">// æ±‚å’Œã€å’Œçš„åˆå€¼è®¾ç½®ä¸º0</span></span><br><span class=\"line\">string result = <span class=\"built_in\">accumulate</span>(v.<span class=\"built_in\">cbegin</span>(),vec.<span class=\"built_in\">cend</span>(),<span class=\"string\">&quot;&quot;</span>); <span class=\"comment\">// å°†vecçš„æ¯ä¸ªå…ƒç´ è¿èµ·æ¥</span></span><br><span class=\"line\"><span class=\"type\">bool</span> result = <span class=\"built_in\">equal</span>(vec.<span class=\"built_in\">cbegin</span>(),vec.<span class=\"built_in\">cend</span>(),other.<span class=\"built_in\">cbegin</span>());<span class=\"comment\">// æ¯”è¾ƒç®—æ³•ï¼Œç¡®å®šä¸¤ä¸ªåºåˆ—æ˜¯å¦ä¿å­˜ç›¸åŒçš„å€¼ï¼ŒåŸºäºä¸¤ä¸ªåºåˆ—ç›¸ç­‰çš„å‡è®¾ã€‚</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å†™ç®—æ³•</span></span><br><span class=\"line\"><span class=\"built_in\">fill</span>(vec.<span class=\"built_in\">begin</span>(),vec.<span class=\"built_in\">end</span>());<span class=\"comment\">// å°†å…ƒç´ é‡ç½®ä¸º0</span></span><br><span class=\"line\"><span class=\"built_in\">fill</span>(vec.<span class=\"built_in\">begin</span>(),vec.<span class=\"built_in\">begin</span>() + vec.<span class=\"built_in\">size</span>()/<span class=\"number\">2</span>,<span class=\"number\">10</span>);<span class=\"comment\">//å°†å­åºåˆ—éƒ½èµ‹ä¸º10</span></span><br><span class=\"line\"><span class=\"built_in\">fill_n</span>(vec.<span class=\"built_in\">begin</span>(),vec.<span class=\"built_in\">size</span>(),<span class=\"number\">0</span>); <span class=\"comment\">// ä¸fillç¨å¾®ä¸åŒï¼Œæ˜¯ä»vec.beginå¼€å§‹å°†vec.size()ä¸ªå…ƒç´ å˜ä¸º0ã€‚</span></span><br><span class=\"line\"><span class=\"comment\">// è¦æ³¨æ„çš„æ˜¯ï¼Œfill_nå‡å®šbeginæŒ‡å®šä¸€ä¸ªå…ƒç´ ï¼Œä»beginå¼€å§‹çš„åºåˆ—è‡³å°‘åŒ…å«vec.size()ä¸ªå…ƒç´ ï¼Œå®¹æ˜“çŠ¯çš„é”™è¯¯å°±æ˜¯åœ¨ç©ºå®¹å™¨è°ƒç”¨fill_n</span></span><br><span class=\"line\"><span class=\"keyword\">auto</span> ret = <span class=\"built_in\">copy</span>(vec.<span class=\"built_in\">begin</span>(),vec.<span class=\"built_in\">end</span>(),vec2);<span class=\"comment\">// å°†vecæ‹·è´åˆ°vec2ä¸­ï¼Œè¿”å›ç›®çš„ä½ç½®è¿­ä»£å™¨å³vec2ä¸ºå…ƒç´ ä¹‹åçš„ä½ç½®</span></span><br><span class=\"line\"><span class=\"built_in\">replace</span>(a.<span class=\"built_in\">begin</span>(),a.<span class=\"built_in\">end</span>(),<span class=\"number\">0</span>,<span class=\"number\">42</span>);<span class=\"comment\">//å°†0å˜ä¸º42</span></span><br><span class=\"line\"><span class=\"built_in\">replace_copy</span>(a.<span class=\"built_in\">cbegin</span>(),a.<span class=\"built_in\">cend</span>(),<span class=\"built_in\">back_inserter</span>(b),<span class=\"number\">0</span>,<span class=\"number\">42</span>);<span class=\"comment\">//å°†aæ‹·è´åˆ°bä½†æ˜¯æ‹·è´æ—¶0éƒ½ç¼–ç¨‹42</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// é‡æ’å…ƒç´ ç®—æ³•</span></span><br><span class=\"line\"><span class=\"built_in\">sort</span>(a.<span class=\"built_in\">begin</span>(),a.<span class=\"built_in\">end</span>());<span class=\"comment\">// ä»å°åˆ°å¤§æ’åº</span></span><br><span class=\"line\"><span class=\"keyword\">auto</span> end_unique = <span class=\"built_in\">unique</span>(a.<span class=\"built_in\">begin</span>(),a.<span class=\"built_in\">end</span>());<span class=\"comment\">//æ’åˆ—èŒƒå›´çš„å…ƒç´ ï¼ŒæŒ‡å‘ä¸é‡å¤åŒºåŸŸä¹‹åä¸€ä¸ªä½ç½®çš„è¿­ä»£å™¨</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"lambadaè¡¨è¾¾å¼ä¸æ³›å‹ç®—æ³•\"><a href=\"#lambadaè¡¨è¾¾å¼ä¸æ³›å‹ç®—æ³•\" class=\"headerlink\" title=\"lambadaè¡¨è¾¾å¼ä¸æ³›å‹ç®—æ³•\"></a>lambadaè¡¨è¾¾å¼ä¸æ³›å‹ç®—æ³•</h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425205348.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425205429.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425205447.png\"></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">biggies</span><span class=\"params\">(vector&lt;string&gt; &amp;words.vector&lt;string&gt;::size_type sz)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">elimDups</span>(words);<span class=\"comment\">//å°†wordsæŒ‰å­—å…¸åºæ’åºï¼Œåˆ é™¤é‡å¤å•è¯</span></span><br><span class=\"line\">  <span class=\"built_in\">stable_sort</span>(words.<span class=\"built_in\">begin</span>(),words.<span class=\"built_in\">end</span>(),[](<span class=\"type\">const</span> string &amp;a,<span class=\"type\">const</span> string &amp;b)&#123;<span class=\"keyword\">return</span> a.<span class=\"built_in\">size</span>() &lt; b.<span class=\"built_in\">size</span>()&#125;);</span><br><span class=\"line\">  <span class=\"keyword\">auto</span> wc = <span class=\"built_in\">find_if</span>(words.<span class=\"built_in\">begin</span>(),words.<span class=\"built_in\">end</span>(),[sz](<span class=\"type\">const</span> string &amp;a)&#123;<span class=\"keyword\">return</span> a.<span class=\"built_in\">size</span>() &gt;= sz&#125;);</span><br><span class=\"line\">  <span class=\"keyword\">auto</span> count = words.<span class=\"built_in\">end</span>() - wc;</span><br><span class=\"line\">  for_each(wc,words.<span class=\"built_in\">end</span>(),[](<span class=\"type\">const</span> string &amp;s)&#123;cout&lt;&lt; s &lt;&lt; <span class=\"string\">&quot; &quot;</span>&#125;);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"lambada-æ•è·\"><a href=\"#lambada-æ•è·\" class=\"headerlink\" title=\"lambada æ•è·\"></a>lambada æ•è·</h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425211551.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230425211902.png\"></p>\n<h3 id=\"åŠ¨æ€å†…å­˜å’Œæ™ºèƒ½æŒ‡é’ˆ\"><a href=\"#åŠ¨æ€å†…å­˜å’Œæ™ºèƒ½æŒ‡é’ˆ\" class=\"headerlink\" title=\"åŠ¨æ€å†…å­˜å’Œæ™ºèƒ½æŒ‡é’ˆ\"></a>åŠ¨æ€å†…å­˜å’Œæ™ºèƒ½æŒ‡é’ˆ</h3><p>ç¨‹åºä½¿ç”¨åŠ¨æ€å†…å­˜çš„åŸå› ï¼š1.ç¨‹åºä¸çŸ¥é“è‡ªå·±éœ€è¦ä½¿ç”¨å¤šå°‘å¯¹è±¡ã€‚ 2.ç¨‹åºä¸çŸ¥é“æ‰€éœ€å¯¹è±¡çš„å‡†ç¡®ç±»å‹ã€‚ 3.ç¨‹åºéœ€è¦åœ¨å¤šä¸ªå¯¹è±¡é—´å…±äº«æ•°æ®ã€‚<br>åŠ¨æ€å†…å­˜å¾ˆéš¾ä½¿ç”¨ï¼Œæœ‰æ—¶å€™ä¼šå¿˜è®°é‡Šæ”¾å†…å­˜ï¼Œè¿™æ—¶ä¼šäº§ç”Ÿå†…å­˜æ³„æ¼ï¼›æœ‰æ—¶æŒ‡é’ˆå¼•ç”¨å†…å­˜çš„æƒ…å†µä¸‹æŒ‡é’ˆå·²ç»è¢«é‡Šæ”¾è¿™æ—¶ä¼šäº§ç”Ÿå¼•ç”¨éæ³•å†…å­˜çš„æŒ‡é’ˆã€‚</p>\n<h4 id=\"shared-ptr\"><a href=\"#shared-ptr\" class=\"headerlink\" title=\"shared_ptr\"></a>shared_ptr</h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230501202449.png\"></p>\n<p>é»˜è®¤åˆå§‹åŒ–çš„æ™ºèƒ½æŒ‡é’ˆä¿å­˜ä¸€ä¸ªç©ºæŒ‡é’ˆ</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"code\"><pre><span class=\"line\">shared_ptr&lt;string&gt; p1;<span class=\"comment\">// åˆå§‹åŒ–æ–¹å¼ä¸vectorä¸€æ ·</span></span><br><span class=\"line\"><span class=\"keyword\">if</span>(p1 &amp;&amp; p1-&gt;<span class=\"built_in\">empty</span>())</span><br><span class=\"line\">  *p1 = <span class=\"string\">&quot;hi&quot;</span></span><br><span class=\"line\"><span class=\"comment\">// å¦‚æœp1ä¸ä¸ºç©ºï¼Œæ£€æŸ¥å®ƒæ˜¯å¦æŒ‡å‘ä¸€ä¸ªç©ºstring</span></span><br></pre></td></tr></table></figure>\n\n<p>æœ€å®‰å…¨çš„åˆ†é…å’Œä½¿ç”¨åŠ¨æ€å†…å­˜çš„æ–¹æ³•æ˜¯è°ƒç”¨ä¸€ä¸ªåä¸ºmake_sharedçš„æ ‡å‡†åº“å‡½æ•°ã€‚æ­¤å‡½æ•°åœ¨åŠ¨æ€å†…å­˜ä¸­åˆ†é…ä¸€ä¸ªå¯¹è±¡å¹¶åˆå§‹åŒ–å®ƒï¼Œè¿”å›æŒ‡å‘æ­¤å¯¹è±¡çš„shared_ptr</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// æŒ‡å‘ä¸€ä¸ªå€¼ä¸º42çš„intçš„shared_ptr</span></span><br><span class=\"line\">shared_ptr&lt;<span class=\"type\">int</span>&gt; p3 = <span class=\"built_in\">make_shared</span>&lt;<span class=\"type\">int</span>&gt;(<span class=\"number\">42</span>);</span><br><span class=\"line\"><span class=\"comment\">// æŒ‡å‘ä¸€ä¸ªå€¼ä¸º&quot;9999999999&quot;çš„string</span></span><br><span class=\"line\">shared_ptr&lt;string&gt; p4 = <span class=\"built_in\">make_shared</span>&lt;string&gt;(<span class=\"number\">10</span>,<span class=\"string\">&#x27;9&#x27;</span>);</span><br><span class=\"line\"><span class=\"comment\">// æŒ‡å‘ä¸€ä¸ªå€¼åˆå§‹åŒ–çš„intï¼Œå³ä¸º0</span></span><br><span class=\"line\">shared_ptr&lt;<span class=\"type\">int</span>&gt; p5 = <span class=\"built_in\">make_shared</span>&lt;<span class=\"type\">int</span>&gt;();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ç±»ä¼¼äºvectorçš„emplaceï¼Œä¼ é€’å‚æ•°ç±»å‹å¿…é¡»ç›¸å¯¹åº”ï¼Œä¸ä¼ é€’çš„è¯å°±ä¼šè¿›è¡Œå€¼åˆå§‹åŒ–ï¼Œé€šå¸¸ç”¨autoæ¥ä¿å­˜</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">auto</span> p6 = <span class=\"built_in\">make_shared</span>&lt;<span class=\"type\">int</span>&gt;();</span><br></pre></td></tr></table></figure>\n\n<p>å½“è¿›è¡Œæ‹·è´æˆ–èµ‹å€¼æ“ä½œæ—¶ï¼Œæ¯ä¸ªshared_ptréƒ½ä¼šè®°å½•æœ‰å¤šå°‘ä¸ªå…¶ä»–shared_ptræŒ‡å‘ç›¸åŒçš„å¯¹è±¡ã€‚<br>æ¯ä¸ªshared_ptréƒ½æœ‰ä¸€ä¸ªå…³è”çš„è®¡æ•°å™¨ï¼Œé€šå¸¸ç§°ä¸º<strong>å¼•ç”¨è®¡æ•°</strong>ã€‚å½“æˆ‘ä»¬ç”¨ä¸€ä¸ªshared_ptrå»åˆå§‹åŒ–å¦ä¸€ä¸ªshared_ptrï¼Œæˆ–è€…ä½œä¸ºå‚æ•°ä¼ é€’ç»™å‡½æ•°ï¼Œæˆ–è€…ä½œä¸ºå‡½æ•°è¿”å›å€¼ï¼Œæ‰€å…³è”çš„è®¡æ•°å™¨éƒ½ä¼š<strong>é€’å¢</strong>ã€‚èµ‹äºˆä¸€ä¸ªæ–°å€¼ï¼Œæˆ–è€…shared_ptré”€æ¯ï¼ˆæ¯”å¦‚ç¦»å¼€ä½œç”¨åŸŸï¼‰è®¡æ•°å™¨é€’å‡ã€‚ä¸€æ—¦ä¸€ä¸ªshared_ptrè®¡æ•°å™¨å˜ä¸º0ï¼Œä¼šè‡ªåŠ¨é‡Šæ”¾è‡ªå·±æ‰€ç®¡ç†çš„å¯¹è±¡</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">auto</span> r = <span class=\"built_in\">make_shared</span>&lt;<span class=\"type\">int</span>&gt;(<span class=\"number\">42</span>);</span><br><span class=\"line\">r = q;<span class=\"comment\">// ç»™ r èµ‹å€¼è®©å®ƒæŒ‡å‘å¦ä¸€ä¸ªåœ°å€</span></span><br><span class=\"line\"><span class=\"comment\">// é€’å¢ q æŒ‡å‘å¯¹è±¡çš„å¼•ç”¨è®¡æ•°</span></span><br><span class=\"line\"><span class=\"comment\">// é€’å‡ r åŸæ¥æŒ‡å‘å¯¹è±¡çš„å¼•ç”¨è®¡æ•°</span></span><br><span class=\"line\"><span class=\"comment\">// r åŸæ¥æŒ‡å‘çš„å¯¹è±¡æ²¡æœ‰å¼•ç”¨è€…ï¼Œè‡ªåŠ¨é‡Šæ”¾</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"ç›´æ¥ç®¡ç†å†…å­˜\"><a href=\"#ç›´æ¥ç®¡ç†å†…å­˜\" class=\"headerlink\" title=\"ç›´æ¥ç®¡ç†å†…å­˜\"></a>ç›´æ¥ç®¡ç†å†…å­˜</h4><p>new åˆ†é…å†…å­˜ï¼Œdeleteé‡Šæ”¾newåˆ†é…çš„å†…å­˜</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">int</span> *pi = <span class=\"keyword\">new</span> <span class=\"type\">int</span>; <span class=\"comment\">// é»˜è®¤åˆå§‹åŒ–ï¼Œ*piçš„å€¼æœªå®šä¹‰</span></span><br><span class=\"line\"><span class=\"type\">int</span> *pi1 = <span class=\"keyword\">new</span> <span class=\"built_in\">int</span>(); <span class=\"comment\">// å€¼åˆå§‹åŒ–ï¼Œ*pi1ä¸º0</span></span><br><span class=\"line\"><span class=\"type\">int</span> *pi2 = <span class=\"keyword\">new</span> <span class=\"built_in\">int</span>(<span class=\"number\">1024</span>); <span class=\"comment\">// pi2æŒ‡å‘çš„å¯¹è±¡çš„å€¼ä¸º1024</span></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> *pci = <span class=\"keyword\">new</span> <span class=\"type\">const</span> <span class=\"built_in\">int</span>(<span class=\"number\">1024</span>);<span class=\"comment\">// åˆ†é…å¹¶åˆå§‹åŒ–ä¸€ä¸ªconst int</span></span><br><span class=\"line\"><span class=\"type\">const</span> string *pcs = <span class=\"keyword\">new</span> <span class=\"type\">const</span> string;<span class=\"comment\">// åˆ†é…å¹¶é»˜è®¤åˆå§‹åŒ–ä¸€ä¸ªconst çš„ç©ºstring</span></span><br><span class=\"line\"><span class=\"comment\">// ä¸€ä¸ªåŠ¨æ€åˆ†é…çš„constå¯¹è±¡å¿…é¡»åˆå§‹åŒ–</span></span><br><span class=\"line\"><span class=\"comment\">// å¯¹äºä¸€ä¸ªå®šä¹‰äº†é»˜è®¤æ„é€ å‡½æ•°çš„ç±»ç±»å‹</span></span><br><span class=\"line\"><span class=\"comment\">// å…¶conståŠ¨æ€å¯¹è±¡å¯ä»¥éšå¼åˆå§‹åŒ–</span></span><br><span class=\"line\"><span class=\"comment\">// è€Œå…¶ä»–ç±»å‹å¯¹è±¡å°±å¿…é¡»æ˜¾å¼åˆå§‹åŒ–</span></span><br><span class=\"line\"><span class=\"comment\">// ç”±äºåˆ†é…å¯¹è±¡æ˜¯constï¼Œnewè¿”å›çš„æŒ‡é’ˆæ˜¯ä¸€ä¸ªæŒ‡å‘constçš„æŒ‡é’ˆ</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å¦‚æœå†…å­˜ä¸å¤Ÿç”¨ï¼Œå†…å­˜åˆ†é…å¤±è´¥</span></span><br><span class=\"line\"><span class=\"type\">int</span> *p1 = <span class=\"keyword\">new</span> <span class=\"type\">int</span>;<span class=\"comment\">// newæŠ›å‡ºstd::bad_alloc</span></span><br><span class=\"line\"><span class=\"type\">int</span> *p2 = <span class=\"built_in\">new</span> (nothrow) <span class=\"type\">int</span>;<span class=\"comment\">// new è¿”å›ä¸€ä¸ªç©ºæŒ‡é’ˆ</span></span><br></pre></td></tr></table></figure>\n\n<p>deleteåšä¸¤æ­¥ï¼šé”€æ¯ç»™å®šæŒ‡é’ˆæŒ‡å‘çš„å¯¹è±¡;é‡Šæ”¾å¯¹åº”çš„å†…å­˜</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">int</span> i;</span><br><span class=\"line\"><span class=\"type\">int</span> *pi1 = &amp;i;</span><br><span class=\"line\"><span class=\"type\">int</span> *pi2 = <span class=\"literal\">nullptr</span>;</span><br><span class=\"line\"><span class=\"type\">double</span> *pd = <span class=\"keyword\">new</span> <span class=\"built_in\">double</span>(<span class=\"number\">33</span>);</span><br><span class=\"line\"><span class=\"type\">double</span> *pd2 = pd;</span><br><span class=\"line\"><span class=\"keyword\">delete</span> i;<span class=\"comment\">// é”™è¯¯ï¼Œiä¸æ˜¯æŒ‡é’ˆ</span></span><br><span class=\"line\"><span class=\"keyword\">delete</span> pi1;<span class=\"comment\">// æœªå®šä¹‰,piæŒ‡å‘ä¸€ä¸ªå±€éƒ¨å˜é‡</span></span><br><span class=\"line\"><span class=\"keyword\">delete</span> pd;<span class=\"comment\">// æ­£ç¡®</span></span><br><span class=\"line\"><span class=\"keyword\">delete</span> pd2;<span class=\"comment\">// æœªå®šä¹‰ï¼Œpd2æŒ‡å‘çš„å†…å­˜å·²ç»è¢«é‡Šæ”¾äº†</span></span><br><span class=\"line\"><span class=\"keyword\">delete</span> pi2;<span class=\"comment\">// æ­£ç¡®ï¼Œé‡Šæ”¾ä¸€ä¸ªç©ºæŒ‡é’ˆæ²¡æœ‰é”™è¯¯</span></span><br></pre></td></tr></table></figure>\n\n<p>ç”±å†…ç½®æŒ‡é’ˆç®¡ç†çš„åŠ¨æ€å†…å­˜åœ¨è¢«æ˜¾å¼é‡Šæ”¾(delete)å‰ä¸€ç›´éƒ½ä¼šå­˜åœ¨</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230501205622.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230501205711.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230501210052.png\"></p>\n<h4 id=\"unique-ptr\"><a href=\"#unique-ptr\" class=\"headerlink\" title=\"unique_ptr\"></a>unique_ptr</h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230501210525.png\"></p>\n<ul>\n<li>ä¸shared_pträ¸åŒï¼ŒæŸä¸ªæ—¶åˆ»<strong>åªèƒ½æœ‰ä¸€ä¸ªunique_ptræŒ‡å‘ä¸€ä¸ªç»™å®šå¯¹è±¡</strong>ã€‚å½“unique_ptrè¢«é”€æ¯æ—¶ï¼Œæ‰€æŒ‡å‘çš„å¯¹è±¡ä¹Ÿè¢«é”€æ¯ã€‚</li>\n<li>ä¸shared_pträ¸åŒï¼Œæ²¡æœ‰ç±»ä¼¼make_sharedçš„æ ‡å‡†åº“å‡½æ•°ï¼Œå®šä¹‰unique_ptræ—¶ï¼Œ<strong>éœ€è¦å°†å…¶ç»‘å®šåˆ°ä¸€ä¸ªnewè¿”å›çš„æŒ‡é’ˆä¸Š</strong>ã€‚</li>\n<li>ç”±äºä¸€ä¸ªunique_ptræ‹¥æœ‰æ‰€æŒ‡å‘çš„å¯¹è±¡ï¼Œæ‰€ä»¥<strong>ä¸æ”¯æŒæ™®é€šçš„æ‹·è´æˆ–èµ‹å€¼æ“ä½œ</strong>ã€‚</li>\n</ul>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230501210603.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230501210639.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230501210650.png\"></p>\n<h4 id=\"weak-ptr\"><a href=\"#weak-ptr\" class=\"headerlink\" title=\"weak_ptr\"></a>weak_ptr</h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230501210929.png\"></p>\n<p>weak_ptræ˜¯ä¸€ç§ä¸æ§åˆ¶æ‰€æŒ‡å‘å¯¹è±¡ç”Ÿå­˜æœŸçš„æ™ºèƒ½æŒ‡é’ˆï¼Œå®ƒæŒ‡å‘ç”±ä¸€ä¸ªshared_ptrç®¡ç†çš„å¯¹è±¡ã€‚å°†ä¸€ä¸ªweak_ptrç»‘å®šåˆ°ä¸€ä¸ªshared_pträ¸ä¼šæ”¹å˜å¼•ç”¨è®¡æ•°ã€‚ä¸€æ—¦æœ€åä¸€ä¸ªæŒ‡å‘å¯¹è±¡çš„shared_ptrè¢«é”€æ¯ï¼Œå¯¹è±¡å°±ä¼šè¢«é‡Šæ”¾ã€‚å³ä½¿æœ‰weak_ptræŒ‡å‘å¯¹è±¡ï¼Œå¯¹è±¡ä¹Ÿè¿˜æ˜¯ä¼šè¢«é‡Šæ”¾ã€‚</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// åˆ›å»ºä¸€ä¸ªweak_ptræ—¶ï¼Œè¦ç”¨ä¸€ä¸ªshared_ptræ¥åˆå§‹åŒ–å®ƒ</span></span><br><span class=\"line\"><span class=\"keyword\">auto</span> p = <span class=\"built_in\">make_shared</span>&lt;<span class=\"type\">int</span>&gt;(<span class=\"number\">42</span>);</span><br><span class=\"line\"><span class=\"function\">weak_ptr&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">wp</span><span class=\"params\">(p)</span></span>; </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ç”±äºå¯¹è±¡å¯èƒ½ä¸å­˜åœ¨ï¼Œä¸èƒ½ä½¿ç”¨weak_ptrç›´æ¥è®¿é—®å¯¹è±¡</span></span><br><span class=\"line\"><span class=\"comment\">// è€Œå¿…é¡»è°ƒç”¨lockï¼Œæ­¤å‡½æ•°æ£€æŸ¥weak_ptræ‰€æŒ‡å¯¹è±¡æ˜¯å¦ä»ç„¶å­˜åœ¨</span></span><br><span class=\"line\"><span class=\"keyword\">if</span>(shared_ptr&lt;<span class=\"type\">int</span>&gt; np = wp.lock)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"comment\">//åœ¨ifä¸­ï¼Œnpä¸på…±äº«å¯¹è±¡</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"æ‹·è´æ§åˆ¶\"><a href=\"#æ‹·è´æ§åˆ¶\" class=\"headerlink\" title=\"æ‹·è´æ§åˆ¶\"></a>æ‹·è´æ§åˆ¶</h3><h4 id=\"æ‹·è´æ„é€ å‡½æ•°\"><a href=\"#æ‹·è´æ„é€ å‡½æ•°\" class=\"headerlink\" title=\"æ‹·è´æ„é€ å‡½æ•°\"></a>æ‹·è´æ„é€ å‡½æ•°</h4><p>å¦‚æœä¸€ä¸ª<strong>æ„é€ å‡½æ•°</strong>çš„<strong>ç¬¬ä¸€ä¸ªå‚æ•°</strong>æ˜¯<strong>è‡ªèº«ç±»ç±»å‹</strong>çš„å¼•ç”¨ï¼Œä¸”ä»»ä½•é¢å¤–é»˜è®¤å‚æ•°éƒ½æœ‰é»˜è®¤å€¼ï¼Œåˆ™ä¸ºæ‹·è´æ„é€ å‡½æ•°ã€‚</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Foo</span>&#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">  <span class=\"built_in\">Foo</span>();<span class=\"comment\">// é»˜è®¤æ„é€ å‡½æ•°</span></span><br><span class=\"line\">  <span class=\"built_in\">Foo</span>(<span class=\"type\">const</span> Foo&amp;);<span class=\"comment\">// æ‹·è´æ„é€ å‡½æ•°</span></span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p>å¦‚æœæˆ‘ä»¬æ²¡æœ‰ä¸ºä¸€ä¸ªç±»å®šä¹‰æ‹·è´æ„é€ å‡½æ•°ï¼Œç¼–è¯‘å™¨ä¼šä¸ºæˆ‘ä»¬æ„é€ ä¸€ä¸ªã€‚ä¸åˆæˆé»˜è®¤æ„é€ å‡½æ•°ä¸åŒï¼Œå³ä½¿æˆ‘ä»¬å®šä¹‰äº†å…¶ä»–æ„é€ å‡½æ•°ï¼Œç¼–è¯‘å™¨ä¹Ÿä¼šä¸ºæˆ‘ä»¬åˆæˆä¸€ä¸ªæ‹·è´æ„é€ å‡½æ•°ã€‚ç¼–è¯‘å™¨ä»ç»™å®šå¯¹è±¡ä¸­ä¾æ¬¡å°†æ¯ä¸ªéstaticæˆå‘˜æ‹·è´åˆ°æ­£åœ¨åˆ›å»ºçš„å¯¹è±¡ä¸­ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230506195211.png\"></p>\n<p><strong>ç›´æ¥åˆå§‹åŒ–</strong>ï¼šå®é™…ä¸Šæ˜¯è¦æ±‚ç¼–è¯‘å™¨ä½¿ç”¨æ™®é€šçš„å‡½æ•°åŒ¹é…æ¥é€‰æ‹©ä¸æˆ‘ä»¬æä¾›çš„å‚æ•°æœ€åŒ¹é…çš„æ„é€ å‡½æ•°ã€‚</p>\n<p><strong>æ‹·è´åˆå§‹åŒ–</strong>ï¼šæˆ‘ä»¬è¦æ±‚ç¼–è¯‘å™¨å°†å³ä¾§è¿ç®—å¯¹è±¡æ‹·è´åˆ°æ­£åœ¨åˆ›å»ºçš„å¯¹è±¡ä¸­ï¼Œå¦‚æœéœ€è¦çš„è¯è¿˜è¦è¿›è¡Œç±»å‹è½¬æ¢ã€‚é€šå¸¸ä½¿ç”¨æ‹·è´æ„é€ å‡½æ•°å®Œæˆï¼Œå¦‚æœæœ‰ç§»åŠ¨æ„é€ å‡½æ•°ï¼Œåˆ™æœ‰æ—¶ä¼šä½¿ç”¨ç§»åŠ¨æ„é€ å‡½æ•°ã€‚</p>\n<p>æ‹·è´åˆå§‹åŒ–çš„å‘ç”Ÿæƒ…å†µï¼š</p>\n<ul>\n<li>&#x3D;å®šä¹‰å˜é‡</li>\n<li>å°†ä¸€ä¸ªå¯¹è±¡ä»å®å‚ä¼ é€’ç»™éå¼•ç”¨çš„å½¢å‚</li>\n<li>è¿”å›ç±»å‹ä¸ºéå¼•ç”¨ç±»å‹çš„å‡½æ•°è¿”å›çš„å¯¹è±¡</li>\n<li>ç”¨èŠ±æ‹¬å·åˆ—è¡¨ åˆå§‹åŒ–ä¸€ä¸ªæ•°ç»„ä¸­çš„å…ƒç´ æˆ–ä¸€ä¸ªèšåˆç±»çš„æˆå‘˜</li>\n<li>æ ‡å‡†åº“å®¹å™¨insert&#x2F;pushï¼Œä¸ä¹‹ç›¸å¯¹ï¼Œç”¨emplaceåˆ›å»ºçš„å…ƒç´ éƒ½è¿›è¡Œç›´æ¥åˆå§‹åŒ–</li>\n</ul>\n<p>æ‹·è´å‡½æ•°åœ¨è¿™å‡ ç§æƒ…å†µä¸‹éƒ½ä¼šè¢«éšå¼åœ°ä½¿ç”¨ï¼Œå› æ­¤ï¼Œæ‹·è´æ„é€ å‡½æ•°ä¸åº”æ˜¯explicitçš„</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230506200110.png\"></p>\n<h4 id=\"æ‹·è´èµ‹å€¼è¿ç®—ç¬¦\"><a href=\"#æ‹·è´èµ‹å€¼è¿ç®—ç¬¦\" class=\"headerlink\" title=\"æ‹·è´èµ‹å€¼è¿ç®—ç¬¦\"></a>æ‹·è´èµ‹å€¼è¿ç®—ç¬¦</h4><figure class=\"highlight c++\"><table><tr><td class=\"code\"><pre><span class=\"line\">Sales_data trans,accum;</span><br><span class=\"line\">trans = accum; <span class=\"comment\">// ä½¿ç”¨Sales_data çš„æ‹·è´èµ‹å€¼å…ƒç´ ç¬¦</span></span><br></pre></td></tr></table></figure>\n\n<p>ä¸ç±»æ§åˆ¶å¯¹è±¡å¦‚ä½•åˆå§‹åŒ–ä¸€æ ·ï¼Œç±»ä¹Ÿå¯ä»¥æ§åˆ¶å…¶å¯¹è±¡å¦‚ä½•èµ‹å€¼ã€‚ä¸æ‹·è´æ„é€ å‡½æ•°ä¸€æ ·ï¼Œå¦‚æœæœªå®šä¹‰ï¼Œç¼–è¯‘å™¨ä¼šä¸ºå®ƒåˆæˆä¸€ä¸ªã€‚</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Foo</span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">public</span>:</span><br><span class=\"line\">    Foo&amp; <span class=\"keyword\">operator</span>=(<span class=\"type\">const</span> Foo&amp;);<span class=\"comment\">//èµ‹å€¼è¿ç®—ç¬¦</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// èµ‹å€¼è¿ç®—ç¬¦é€šå¸¸è¿”å›ä¸€ä¸ªæŒ‡å‘å…¶å·¦ä¾§è¿ç®—å¯¹è±¡çš„å¼•ç”¨</span></span><br></pre></td></tr></table></figure>\n\n<p>æ‹·è´èµ‹å€¼å…ƒç´ è¿ç®—ç¬¦ä¼šå°†å³ä¾§å¯¹è±¡çš„æ¯ä¸ªéstaticæˆå‘˜èµ‹äºˆå·¦ä¾§å¯¹è±¡çš„å¯¹åº”æˆå‘˜</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230506200857.png\"></p>\n<h4 id=\"ææ„å‡½æ•°\"><a href=\"#ææ„å‡½æ•°\" class=\"headerlink\" title=\"ææ„å‡½æ•°\"></a>ææ„å‡½æ•°</h4><p>ææ„å‡½æ•°é‡Šæ”¾å¯¹è±¡ä½¿ç”¨çš„èµ„æºï¼Œå¹¶é”€æ¯å¯¹è±¡çš„éstaticæ•°æ®æˆå‘˜ã€‚ææ„å‡½æ•°<strong>æ²¡æœ‰è¿”å›å€¼ï¼Œä¹Ÿä¸æ¥å—å‚æ•°ï¼Œä¸èƒ½å‘—é‡è½½ï¼Œä¸€ä¸ªç»™å®šç±»åªæœ‰å”¯ä¸€ä¸€ä¸ªææ„å‡½æ•°</strong>ã€‚åŒæ—¶ï¼Œææ„å‡½æ•°è‡ªåŠ¨è¿è¡Œï¼Œç¨‹åºæŒ‰éœ€åˆ†é…èµ„æºï¼Œé€šå¸¸æ— é¡»å½“å¿ƒä½•æ—¶é‡Šæ”¾è¿™äº›èµ„æº</p>\n<p>åœ¨ææ„å‡½æ•°ä¸­ï¼Œå…ˆæ‰§è¡Œå‡½æ•°ä½“ï¼Œç„¶åé”€æ¯æˆå‘˜ã€‚æŒ‰åˆå§‹åŒ–é¡ºåºçš„<strong>é€†åº</strong>é”€æ¯ã€‚é‡Šæ”¾å¯¹è±¡åœ¨ç”Ÿå­˜æœŸåˆ†é…çš„æ‰€æœ‰èµ„æºã€‚<br>ææ„éƒ¨åˆ†å¼éšå¼çš„ï¼Œæˆå‘˜é”€æ¯æ—¶å®Œå…¨ä¾èµ–äºæˆå‘˜çš„ç±»å‹ã€‚é”€æ¯ç±»ç±»å‹çš„æˆå‘˜éœ€è¦æ‰§è¡Œæˆå‘˜è‡ªå·±çš„ææ„å‡½æ•°ã€‚å†…ç½®ç±»å‹æˆå‘˜æ²¡æœ‰ææ„å‡½æ•°ï¼Œä»€ä¹ˆéƒ½ä¸éœ€è¦åšã€‚<br>éšå¼é”€æ¯å†…ç½®æŒ‡é’ˆç±»å‹çš„æˆå‘˜ä¸ä¼šdeleteå®ƒæ‰€æŒ‡åœ°å¯¹è±¡ã€‚</p>\n<p>è°ƒç”¨ææ„å‡½æ•°çš„æ—¶æœºï¼š</p>\n<ul>\n<li>å˜é‡ç¦»å¼€å…¶ä½œç”¨åŸŸæ—¶</li>\n<li>å¯¹è±¡è¢«é”€æ¯ï¼Œæˆå‘˜è¢«é”€æ¯</li>\n<li>å®¹å™¨è¢«é”€æ¯</li>\n<li>åŠ¨æ€åˆ†é…çš„å¯¹è±¡ï¼Œå¯¹æŒ‡å‘å®ƒçš„æŒ‡é’ˆåº”ç”¨deleteæ—¶</li>\n<li>ä¸´æ—¶å¯¹è±¡ï¼Œåˆ›å»ºå®ƒçš„å®Œæ•´è¡¨è¾¾å¼ç»“æŸæ—¶è¢«é”€æ¯</li>\n</ul>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230506201821.png\"></p>\n<p>æœªå®šä¹‰æ—¶ï¼Œç¼–è¯‘å™¨ä¼šä¸ºå®ƒå®šä¹‰ä¸€ä¸ªåˆæˆææ„å‡½æ•°ï¼Œææ„å‡½æ•°ä½“è‡ªèº«ä¸ç›´æ¥é”€æ¯æˆå‘˜ï¼Œæˆå‘˜æ—¶åœ¨ææ„å‡½æ•°ä½“æ‰§è¡Œåéšå¼é”€æ¯çš„ã€‚</p>\n<p>å¦‚æœä¸€ä¸ªç±»éœ€è¦è‡ªå®šä¹‰ææ„å‡½æ•°ï¼Œå‡ ä¹è‚¯å®šçš„æ˜¯ï¼Œä¹Ÿéœ€è¦è‡ªå®šä¹‰æ‹·è´èµ‹å€¼è¿ç®—ç¬¦å’Œæ‹·è´æ„é€ å‡½æ•°ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230506203014.png\"></p>\n<h4 id=\"x3D-default\"><a href=\"#x3D-default\" class=\"headerlink\" title=\"&#x3D;default\"></a>&#x3D;default</h4><p>ä½¿ç”¨&#x3D;defaultæ¥æ˜¾å¼åœ°è¦æ±‚ç¼–è¯‘å™¨ç”Ÿæˆåˆæˆçš„ç‰ˆæœ¬<br>å½“æˆ‘ä»¬ä½¿ç”¨&#x3D;defaultæ—¶ï¼Œåˆæˆçš„å‡½æ•°ä¼šè¢«éšå¼åœ°å£°æ˜ä¸ºinline</p>\n<p>æˆ‘ä»¬åªèƒ½å¯¹å…·æœ‰åˆæˆç‰ˆæœ¬çš„æˆå‘˜å‡½æ•°ä½¿ç”¨&#x3D;default</p>\n<h4 id=\"x3D-delete\"><a href=\"#x3D-delete\" class=\"headerlink\" title=\"&#x3D;delete\"></a>&#x3D;delete</h4><p>æˆ‘ä»¬å¯ä»¥ä¸ºä»»ä½•å‡½æ•°æŒ‡å®š&#x3D;deleteï¼ˆé™¤äº†ææ„å‡½æ•°ï¼‰<br>&#x3D;deleteå‡½æ•°ï¼šè™½ç„¶æˆ‘ä»¬å£°æ˜äº†å®ƒä»¬ï¼Œä½†ä¸èƒ½ä»¥ä»»ä½•æ–¹å¼ä½¿ç”¨å®ƒä»¬ã€‚<br>&#x3D;deleteä¸»è¦ç”¨äºç¦æ­¢æ‹·è´æ§åˆ¶æˆå‘˜ï¼Œå¦‚æœå¸Œæœ›å¼•å¯¼å‡½æ•°åŒ¹é…è¿‡ç¨‹ï¼Œåˆ é™¤å‡½æ•°æœ‰æ—¶ä¹Ÿæ˜¯æœ‰ç”¨çš„ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230506203438.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230506203413.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230506203743.png\"></p>\n<p>å°½å¯èƒ½ä½¿ç”¨&#x3D;deleteæ¥é˜»æ­¢æ‹·è´ï¼Œè€Œä¸åº”è¯¥å£°æ˜ä¸ºprivate</p>\n<h4 id=\"æ‹·è´æ§åˆ¶å’Œèµ„æºç®¡ç†\"><a href=\"#æ‹·è´æ§åˆ¶å’Œèµ„æºç®¡ç†\" class=\"headerlink\" title=\"æ‹·è´æ§åˆ¶å’Œèµ„æºç®¡ç†\"></a>æ‹·è´æ§åˆ¶å’Œèµ„æºç®¡ç†</h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230506204218.png\"></p>\n<p><strong>è¡Œä¸ºåƒå€¼çš„ç±»</strong>ï¼šæ¯ä¸ªç±»çš„å¯¹è±¡éƒ½æœ‰è‡ªå·±çš„å®ç°</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230506204605.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230506204742.png\"></p>\n<p><strong>è¡Œä¸ºåƒæŒ‡é’ˆçš„ç±»</strong>ï¼šæ‰€æœ‰ç±»çš„å¯¹è±¡å…±äº«ç±»çš„èµ„æºï¼Œæ¯”å¦‚shared_ptrã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230506211340.png\"></p>\n<p>ä¸»è¦çš„ä¸åŒä½“ç°åœ¨æ‹·è´æ„é€ å‡½æ•°ä¸­ï¼Œææ„å‡½æ•°å’Œæ‹·è´èµ‹å€¼è¿ç®—ç¬¦ä¾æ®å¼•ç”¨è®¡æ•°æœ‰æ‰€æ”¹å˜</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230506211509.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230506211603.png\"></p>\n<h4 id=\"äº¤æ¢æ“ä½œ\"><a href=\"#äº¤æ¢æ“ä½œ\" class=\"headerlink\" title=\"äº¤æ¢æ“ä½œ\"></a>äº¤æ¢æ“ä½œ</h4><p>å¯¹äºé‡æ‹å…ƒç´ é¡ºåºçš„ç®—æ³•ï¼Œå®šä¹‰swapæ—¶éå¸¸é‡è¦çš„ã€‚<br>å¦‚æœä¸€ä¸ªç±»å®šä¹‰äº†è‡ªå·±çš„swapï¼Œé‚£ä¹ˆç®—æ³•å°†ä½¿ç”¨è‡ªå®šä¹‰ç‰ˆæœ¬ï¼Œå¦åˆ™å°†ä½¿ç”¨æ ‡å‡†åº“çš„swapã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230506211803.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230506211925.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230506212016.png\"></p>\n<h3 id=\"å¯¹è±¡ç§»åŠ¨\"><a href=\"#å¯¹è±¡ç§»åŠ¨\" class=\"headerlink\" title=\"å¯¹è±¡ç§»åŠ¨\"></a>å¯¹è±¡ç§»åŠ¨</h3><p>åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå¯¹è±¡æ‹·è´åå°±ç«‹å³è¢«é”€æ¯äº†ã€‚è¿™æ—¶å€™ï¼Œç§»åŠ¨è€Œéæ‹·è´å¯¹è±¡ä¼šå¤§å¹…åº¦æå‡æ€§èƒ½ã€‚</p>\n<h4 id=\"å³å€¼å¼•ç”¨\"><a href=\"#å³å€¼å¼•ç”¨\" class=\"headerlink\" title=\"å³å€¼å¼•ç”¨\"></a>å³å€¼å¼•ç”¨</h4><p>é€šè¿‡&amp;&amp;æ¥è·å¾—å³å€¼å¼•ç”¨ï¼Œåªèƒ½ç»‘å®šåˆ°<strong>ä¸€ä¸ªå°†è¦é”€æ¯çš„å¯¹è±¡</strong>ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230506231308.png\"></p>\n<p>å˜é‡æ˜¯å·¦å€¼ï¼Œå› æ­¤æˆ‘ä»¬ä¸èƒ½å°†å³å€¼å¼•ç”¨ç»‘å®šåˆ°å˜é‡ä¸Šï¼Œå³ä½¿æ˜¯å³å€¼å¼•ç”¨ç±»å‹ã€‚</p>\n<p>æ ‡å‡†åº“moveå‡½æ•°ï¼Œå¯ä»¥æ˜¾ç¤ºåœ°å°†ä¸€ä¸ªå·¦å€¼è½¬æ¢ä¸ºå¯¹åº”çš„å³å€¼å¼•ç”¨ç±»å‹ã€‚</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">int</span> &amp;&amp;rr3 = std::<span class=\"built_in\">move</span>(rr1);</span><br><span class=\"line\"><span class=\"comment\">// moveå‘Šè¯‰ç¼–è¯‘å™¨ï¼Œå°†rr1å½“ä½œå³å€¼ä¸€æ ·å¤„ç†</span></span><br><span class=\"line\"><span class=\"comment\">// é™¤äº†å¯¹rr1èµ‹å€¼æˆ–é”€æ¯ï¼Œæˆ‘ä»¬ä¸å†ä½¿ç”¨å®ƒ</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"ç§»åŠ¨æ„é€ å‡½æ•°\"><a href=\"#ç§»åŠ¨æ„é€ å‡½æ•°\" class=\"headerlink\" title=\"ç§»åŠ¨æ„é€ å‡½æ•°\"></a>ç§»åŠ¨æ„é€ å‡½æ•°</h4><p>ç§»åŠ¨æ„é€ å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå³å€¼å¼•ç”¨ï¼Œä¿è¯ç§»åå…ƒå¯¹è±¡å¤„äºä¸€ä¸ªçŠ¶æ€â€”â€”é”€æ¯æ— å®³ã€‚ä¸€æ—¦èµ„æºå®Œæˆç§»åŠ¨ï¼Œæºå¯¹è±¡å¿…é¡»ä¸å†æŒ‡å‘è¢«ç§»åŠ¨çš„èµ„æºâ€”â€”è¿™äº›èµ„æºçš„æ‰€æœ‰æƒå½’å±æ–°åˆ›å»ºçš„å¯¹è±¡ã€‚</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"code\"><pre><span class=\"line\">StrVec::<span class=\"built_in\">StrVec</span>(StrVec &amp;&amp;s) <span class=\"keyword\">noexcept</span> <span class=\"comment\">//å‘Šè¯‰æ ‡å‡†åº“æˆ‘ä»¬çš„æ„é€ å‡½æ•°ä¸æŠ›å‡ºä»»ä½•å¼‚å¸¸</span></span><br><span class=\"line\"><span class=\"comment\">// æˆå‘˜åˆå§‹åŒ–æ¥ç®¡sçš„èµ„æº</span></span><br><span class=\"line\">:<span class=\"built_in\">elements</span>(s.elements),<span class=\"built_in\">first_free</span>(s.first_free),<span class=\"built_in\">cap</span>(s.cap)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">  s.elements = s.first_free = s.cap = <span class=\"literal\">nullptr</span>;</span><br><span class=\"line\">  <span class=\"comment\">// è¢«æ¥æ”¶åæŒ‡é’ˆéƒ½ç½®ä¸ºnullptr</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"ç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦\"><a href=\"#ç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦\" class=\"headerlink\" title=\"ç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦\"></a>ç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦</h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507001946.png\"></p>\n<p>åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬æ£€æŸ¥this ä¸ rhsçš„åœ°å€æ˜¯å¦ç›¸åŒã€‚ç›¸åŒä¸åšä»»ä½•äº‹æƒ…ã€‚å¦åˆ™é‡Šæ”¾å·²æœ‰å…ƒç´ ï¼Œç„¶åæ¥ç®¡å³å€¼å¼•ç”¨çš„å…ƒç´ ã€‚å†æŠŠrhsæŒ‡é’ˆèµ‹ä¸ºnullptr</p>\n<p><strong>åœ¨ç§»åŠ¨åï¼Œç§»åæºå¯¹è±¡å¿…é¡»å¯ææ„</strong>ã€‚</p>\n<h4 id=\"åˆæˆç§»åŠ¨æ“ä½œ\"><a href=\"#åˆæˆç§»åŠ¨æ“ä½œ\" class=\"headerlink\" title=\"åˆæˆç§»åŠ¨æ“ä½œ\"></a>åˆæˆç§»åŠ¨æ“ä½œ</h4><p>å¦‚æœä¸€ä¸ªç±»å®šä¹‰äº†æ‹·è´æ„é€ å‡½æ•°ã€æ‹·è´èµ‹å€¼è¿ç®—ç¬¦æˆ–è€…ææ„å‡½æ•°ï¼Œç¼–è¯‘å™¨å°±ä¸ä¼šä¸ºå®ƒåˆæˆç§»åŠ¨æ„é€ å‡½æ•°å’Œç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦ã€‚<br>åªæœ‰å½“ä¸€ä¸ªç±»<strong>æ²¡æœ‰å®šä¹‰ä»»ä½•è‡ªå·±ç‰ˆæœ¬çš„æ‹·è´æ§åˆ¶æˆå‘˜</strong>ï¼Œä¸”<strong>ç±»çš„æ¯ä¸ªéstaticæ•°æ®æˆå‘˜éƒ½å¯ä»¥ç§»åŠ¨</strong>æ—¶ï¼Œç¼–è¯‘å™¨æ‰ä¼šä¸ºå®ƒåˆæˆç§»åŠ¨æ„é€ å‡½æ•°æˆ–ç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507002510.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507002957.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507003227.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507003912.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507004102.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507004122.png\"></p>\n<h3 id=\"é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡\"><a href=\"#é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡\" class=\"headerlink\" title=\"é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡\"></a>é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡</h3><p>é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡åŸºäºä¸‰ä¸ªåŸºæœ¬æ¦‚å¿µï¼šæ•°æ®æŠ½è±¡ã€ç»§æ‰¿ã€å’ŒåŠ¨æ€ç»‘å®šã€‚</p>\n<h4 id=\"æ•°æ®æŠ½è±¡ã€ç»§æ‰¿ã€åŠ¨æ€ç»‘å®š\"><a href=\"#æ•°æ®æŠ½è±¡ã€ç»§æ‰¿ã€åŠ¨æ€ç»‘å®š\" class=\"headerlink\" title=\"æ•°æ®æŠ½è±¡ã€ç»§æ‰¿ã€åŠ¨æ€ç»‘å®š\"></a>æ•°æ®æŠ½è±¡ã€ç»§æ‰¿ã€åŠ¨æ€ç»‘å®š</h4><p><strong>æ•°æ®æŠ½è±¡</strong>ï¼šåªå‘å¤–ç•Œæä¾›å…³é”®ä¿¡æ¯ï¼Œå¹¶éšè—å…¶åå°çš„å®ç°ç»†èŠ‚ï¼Œå³åªè¡¨ç°å¿…è¦çš„ä¿¡æ¯è€Œä¸å‘ˆç°ç»†èŠ‚ã€‚C++ ç±»ä¸ºæ•°æ®æŠ½è±¡æä¾›äº†å¯èƒ½ã€‚å®ƒä»¬å‘å¤–ç•Œæä¾›äº†å¤§é‡ç”¨äºæ“ä½œå¯¹è±¡æ•°æ®çš„å…¬å…±æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¤–ç•Œå®é™…ä¸Šå¹¶ä¸æ¸…æ¥šç±»çš„å†…éƒ¨å®ç°ã€‚</p>\n<p><strong>ç»§æ‰¿</strong>ï¼šé€šè¿‡ç»§æ‰¿è”ç³»åœ¨ä¸€èµ·çš„ç±»æ„æˆä¸€ç§å±‚æ¬¡å…³ç³»ã€‚é€šå¸¸æ ¹éƒ¨å«åš<strong>åŸºç±»</strong>ï¼Œç›´æ¥æˆ–é—´æ¥ä»åŸºç±»ç»§æ‰¿è€Œæ¥å«<strong>æ´¾ç”Ÿç±»</strong>ã€‚</p>\n<p><strong>åŠ¨æ€ç»‘å®š</strong>ï¼šå½“æˆ‘ä»¬ä½¿ç”¨åŸºç±»çš„å¼•ç”¨ï¼ˆæˆ–æŒ‡é’ˆï¼‰è°ƒç”¨ä¸€ä¸ªè™šå‡½æ•°æ—¶å°†å‘ç”ŸåŠ¨æ€ç»‘å®šã€‚åŠ¨æ€ç»‘å®šå³æ˜¯åœ¨è¿è¡Œæ—¶é€‰æ‹©å‡½æ•°çš„ç‰ˆæœ¬ï¼Œåœ¨ä¸€å®šç¨‹åº¦ä¸Šå¿½ç•¥ç›¸ä¼¼ç±»å‹çš„åŒºåˆ«ï¼Œè€Œä»¥ç»Ÿä¸€çš„æ–¹å¼ä½¿ç”¨å®ƒä»¬çš„å¯¹è±¡ã€‚</p>\n<h4 id=\"åŸºç±»å’Œæ´¾ç”Ÿç±»\"><a href=\"#åŸºç±»å’Œæ´¾ç”Ÿç±»\" class=\"headerlink\" title=\"åŸºç±»å’Œæ´¾ç”Ÿç±»\"></a>åŸºç±»å’Œæ´¾ç”Ÿç±»</h4><p>åŸºç±»é€šå¸¸åº”è¯¥å®šä¹‰ä¸€ä¸ªè™šææ„å‡½æ•°ï¼Œå³ä½¿è¯¥å‡½æ•°ä¸æ‰§è¡Œä»»ä½•å®é™…æ“ä½œã€‚</p>\n<p>å› ä¸ºåœ¨æ´¾ç”Ÿç±»æœ‰ä¸åŸºç±»å¯¹åº”çš„éƒ¨åˆ†ï¼Œæ‰€ä»¥èƒ½æŠŠæ´¾ç”Ÿç±»çš„å¯¹è±¡å½“ä½œåŸºç±»å¯¹è±¡æ¥ä½¿ç”¨ï¼Œä¹Ÿèƒ½å°†åŸºç±»æŒ‡é’ˆæˆ–å¼•ç”¨ç»‘å®šåˆ°æ´¾ç”Ÿç±»å¯¹è±¡ä¸­çš„åŸºç±»éƒ¨åˆ†ä¸Šã€‚</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"code\"><pre><span class=\"line\">Quote item;<span class=\"comment\">// åŸºç±»</span></span><br><span class=\"line\">Bulk_quote bulk;<span class=\"comment\">// æ´¾ç”Ÿç±»</span></span><br><span class=\"line\">Quote *p = &amp;item;<span class=\"comment\">// pæŒ‡å‘Quoteå¯¹è±¡</span></span><br><span class=\"line\">p = &amp;bulk;<span class=\"comment\">// pæŒ‡å‘bulkçš„Quoteéƒ¨åˆ†</span></span><br><span class=\"line\">Quote &amp;r = bulk;<span class=\"comment\">// rç»‘å®šåˆ°bulkçš„Quoteéƒ¨åˆ†</span></span><br></pre></td></tr></table></figure>\n\n<p>æ´¾ç”Ÿç±»å…ˆåˆå§‹åŒ–åŸºç±»éƒ¨åˆ†ï¼Œç„¶åæŒ‰ç…§å£°æ˜é¡ºåºåˆå§‹åŒ–æ´¾ç”Ÿç±»çš„æˆå‘˜ã€‚</p>\n<p>ä¸ç®¡ä»åŸºç±»ä¸­æ´¾ç”Ÿå‡ºå¤šå°‘ä¸ªæ´¾ç”Ÿç±»ï¼Œå¯¹äºæ¯ä¸ª<strong>é™æ€æˆå‘˜</strong>æ¥è¯´éƒ½åªå­˜åœ¨<strong>å”¯ä¸€</strong>çš„å®ä¾‹ã€‚</p>\n<p>é™æ€æˆå‘˜éµå¾ªé€šç”¨çš„è®¿é—®æ§åˆ¶è§„åˆ™</p>\n<p><strong>é˜²æ­¢ç»§æ‰¿</strong>ï¼Œå³åœ¨ç±»ååè·Ÿä¸€ä¸ªå…³é”®å­—final</p>\n<p>æˆ‘ä»¬å¯ä»¥å°†<strong>åŸºç±»çš„æŒ‡é’ˆï¼ˆå†…ç½®æˆ–æ™ºèƒ½ï¼‰æˆ–å¼•ç”¨ç»‘å®šåˆ°æ´¾ç”Ÿç±»å¯¹è±¡</strong>ä¸Šã€‚ä¾‹å¦‚ï¼Œå¯ä»¥ç”¨Quote&amp;æŒ‡å‘ä¸€ä¸ªBulk_quoteå¯¹è±¡ï¼Œä¹Ÿå¯ä»¥æŠŠä¸€ä¸ªBulk_quoteå¯¹è±¡çš„åœ°å€èµ‹ç»™ä¸€ä¸ªQuote*</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// é™æ€ç±»å‹åœ¨ç¼–è¯‘æ—¶å°±å·²çŸ¥ï¼Œæ˜¯å˜é‡å£°æ˜æ—¶çš„ç±»å‹æˆ–è¡¨è¾¾å¼ç”Ÿæˆçš„ç±»å‹</span></span><br><span class=\"line\"><span class=\"comment\">// åŠ¨æ€ç±»å‹åˆ™æ˜¯å˜é‡æˆ–è¡¨è¾¾å¼è¡¨ç¤ºçš„å†…å­˜ä¸­çš„å¯¹è±¡çš„ç±»å‹ï¼Œè¿è¡Œæ—¶æ‰çŸ¥é“</span></span><br><span class=\"line\"><span class=\"type\">double</span> ret = item.<span class=\"built_in\">net_price</span>(n);</span><br><span class=\"line\"><span class=\"comment\">// itemçš„é™æ€ç±»å‹æ˜¯Quote&amp;</span></span><br><span class=\"line\"><span class=\"comment\">// å®ƒçš„åŠ¨æ€ç±»å‹ä¾èµ–äºitemç»‘å®šçš„å®å‚</span></span><br><span class=\"line\"><span class=\"comment\">// å¦‚æœä¼ é€’ä¸€ä¸ªBulk_quoteï¼Œåˆ™itemåŠ¨æ€ç±»å‹åˆ™æ˜¯Bulk_quote</span></span><br><span class=\"line\"><span class=\"comment\">// å¦‚æœè¡¨è¾¾å¼æ—¢ä¸æ˜¯å¼•ç”¨ä¹Ÿä¸æ˜¯æŒ‡é’ˆï¼ŒåŠ¨æ€ç±»å‹å’Œé™æ€ç±»å‹æ°¸è¿œä¸€è‡´ã€‚</span></span><br><span class=\"line\"><span class=\"comment\">// æ¯”å¦‚Quoteç±»å‹å˜é‡æ°¸è¿œæ˜¯ä¸€ä¸ªQuoteå¯¹è±¡</span></span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight c++\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// ä¸å­˜åœ¨åŸºç±»å‘æ´¾ç”Ÿç±»çš„éšå¼ç±»å‹è½¬æ¢ï¼Œå³ä½¿ä¸€ä¸ªåŸºç±»æŒ‡é’ˆæˆ–å¼•ç”¨ç»‘å®šåœ¨ä¸€ä¸ªæ´¾ç”Ÿäº†å¯¹è±¡ä¸Š</span></span><br><span class=\"line\">Quote base;</span><br><span class=\"line\">Bulk_quote* bulkP = &amp;base;</span><br><span class=\"line\">Bulk_quote&amp; bulkRef = base;</span><br><span class=\"line\"><span class=\"comment\">// ä»¥ä¸Šéƒ½æ˜¯é”™è¯¯çš„ï¼Œä¸èƒ½å°†åŸºç±»è½¬åŒ–ä¸ºæ´¾ç”Ÿç±»</span></span><br><span class=\"line\">Bulk_quote bulk;</span><br><span class=\"line\">Quote *itemP = &amp;bulk;<span class=\"comment\">// æ­£ç¡®ï¼ŒåŠ¨æ€ç±»å‹æ˜¯Bulk_quote</span></span><br><span class=\"line\">Bulk_quote *bulkP = itemP;<span class=\"comment\">// é”™è¯¯ï¼Œä¸èƒ½å°†åŸºç±»è½¬åŒ–æˆæ´¾ç”Ÿç±»</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å¯ä»¥ç”¨dynamic_cast,å¦‚æœåœ¨åŸºç±»ä¸­å«æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªè™šå‡½æ•°</span></span><br><span class=\"line\"><span class=\"comment\">// å¦‚æœå·²çŸ¥æŸä¸ªåŸºç±»è½¬åŒ–æ´¾ç”Ÿç±»æ˜¯å®‰å…¨çš„ï¼Œå¯ä»¥ç”¨static_cast</span></span><br></pre></td></tr></table></figure>\n\n<p>å½“æˆ‘ä»¬ç”¨ä¸€ä¸ªæ´¾ç”Ÿç±»å¯¹è±¡ä¸ºä¸€ä¸ªåŸºç±»å¯¹è±¡åˆå§‹åŒ–æˆ–èµ‹å€¼æ—¶ï¼Œåªæœ‰è¯¥æ´¾ç”Ÿç±»å¯¹è±¡ä¸­çš„åŸºç±»éƒ¨åˆ†ä¼šè¢«æ‹·è´ã€ç§»åŠ¨æˆ–èµ‹å€¼ï¼Œæ´¾ç”Ÿç±»éƒ¨åˆ†ä¼šè¢«å¿½ç•¥ï¼Œä¹Ÿå°±æ˜¯è¢«åˆ‡æ‰</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507144244.png\"></p>\n<h4 id=\"è™šå‡½æ•°\"><a href=\"#è™šå‡½æ•°\" class=\"headerlink\" title=\"è™šå‡½æ•°\"></a>è™šå‡½æ•°</h4><p>åŠ¨æ€ç»‘å®š<strong>åªä¼šåœ¨æˆ‘ä»¬é€šè¿‡æŒ‡é’ˆæˆ–å¼•ç”¨è°ƒç”¨è™šå‡½æ•°</strong>æ—¶æ‰ä¼šå‘ç”Ÿã€‚å¦‚æœé€šè¿‡ä¸€ä¸ªæ™®é€šç±»å‹ï¼ˆéå¼•ç”¨éæŒ‡é’ˆï¼‰çš„è¡¨è¾¾å¼è°ƒç”¨è™šå‡½æ•°ï¼Œåœ¨ç¼–è¯‘æ—¶å°±ä¼šå°†è¡¨è¾¾å¼çš„æŠŠå‘¢ä¸èƒ½ç¡®å®šä¸‹æ¥ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507152318.png\"></p>\n<p>åŸºç±»ä¸­çš„è™šå‡½æ•°åœ¨æ´¾ç”Ÿç±»ä¸­éšå«åœ°ä¹Ÿæ˜¯ä¸€ä¸ªè™šå‡½æ•°ã€‚å½“æ´¾ç”Ÿç±»è¦†ç›–äº†æŸä¸ªè™šå‡½æ•°æ—¶ï¼Œè¯¥å‡½æ•°åœ¨åŸºç±»ä¸­çš„å½¢å‚å¿…é¡»ä¸æ´¾ç”Ÿç±»ä¸­çš„å½¢å‚ä¸¥æ ¼åŒ¹é…ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507152800.png\"></p>\n<p>å¦‚æœè™šå‡½æ•°ä½¿ç”¨é»˜è®¤å®å‚ï¼Œåˆ™åŸºç±»å’Œæ´¾ç”Ÿç±»ä¸­å®šä¹‰çš„é»˜è®¤å®å‚æœ€å¥½ä¸€è‡´ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507153006.png\"></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Base</span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">virtual</span> <span class=\"type\">void</span> <span class=\"title\">foo</span><span class=\"params\">()</span></span>&#123;&#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Drived</span> : <span class=\"keyword\">public</span> Base&#123;  </span><br><span class=\"line\">  <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">foo</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\">  </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">foo</span>();<span class=\"comment\">//é€’å½’è°ƒç”¨è‡ªå·±</span></span><br><span class=\"line\">    Base::<span class=\"built_in\">foo</span>();<span class=\"comment\">//æ˜ç¡®å‘Šè¯‰ç¼–è¯‘å™¨ï¼Œè°ƒç”¨Base::fooè€Œä¸æ˜¯è‡ªå·±</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"æŠ½è±¡åŸºç±»\"><a href=\"#æŠ½è±¡åŸºç±»\" class=\"headerlink\" title=\"æŠ½è±¡åŸºç±»\"></a>æŠ½è±¡åŸºç±»</h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507154155.png\"></p>\n<p>å«æœ‰çº¯è™šå‡½æ•°çš„ç±»æ˜¯æŠ½è±¡åŸºç±»ï¼Œæˆ‘ä»¬<strong>ä¸èƒ½åˆ›å»ºä¸€ä¸ªæŠ½è±¡åŸºç±»çš„å¯¹è±¡</strong>ã€‚å¯ä»¥å®šä¹‰å®ƒçš„æ´¾ç”Ÿç±»ï¼Œå‰ææ˜¯è¿™äº›ç±»è¦†ç›–äº†çº¯è™šå‡½æ•°ã€‚</p>\n<p>æ´¾ç”Ÿç±»åªåˆå§‹åŒ–å®ƒçš„ç›´æ¥åŸºç±»</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507155227.png\"></p>\n<h4 id=\"è®¿é—®æ§åˆ¶ä¸ç»§æ‰¿\"><a href=\"#è®¿é—®æ§åˆ¶ä¸ç»§æ‰¿\" class=\"headerlink\" title=\"è®¿é—®æ§åˆ¶ä¸ç»§æ‰¿\"></a>è®¿é—®æ§åˆ¶ä¸ç»§æ‰¿</h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507161237.png\"></p>\n<p>ä¸Šè¿°è¡¨ç¤ºï¼Œå¦‚æœå‹å…ƒé€šè¿‡æ´¾ç”Ÿç±»æ¥è®¿é—®protectedæˆå‘˜æ˜¯å¯ä»¥çš„ã€‚ä½†æ˜¯å‹å…ƒç›´æ¥è®¿é—®protectedæˆå‘˜å°±ä¸å¯ä»¥</p>\n<p><a href=\"https://www.zhihu.com/question/37051531/answer/70216882\">C++æ´¾ç”Ÿç±»çš„æˆå‘˜æˆ–å‹å…ƒåªèƒ½é€šè¿‡æ´¾ç”Ÿç±»å¯¹è±¡æ¥è®¿é—®åŸºç±»çš„å—ä¿æŠ¤æˆå‘˜? - é‚±æ˜Šå®‡çš„å›ç­” - çŸ¥ä¹</a></p>\n<p>åœ¨ç±»ä¸­ç”¨usingå£°æ˜æ”¹å˜è®¿é—®çº§åˆ«ï¼Œå½“ç„¶æ´¾ç”Ÿç±»åªèƒ½ä¸ºè®¿é—®åˆ°çš„åå­—æä¾›using</p>\n<p>struct é»˜è®¤publicç»§æ‰¿<br>class é»˜è®¤privateç»§æ‰¿</p>\n<h4 id=\"ç»§æ‰¿çš„ç±»ä½œç”¨åŸŸ\"><a href=\"#ç»§æ‰¿çš„ç±»ä½œç”¨åŸŸ\" class=\"headerlink\" title=\"ç»§æ‰¿çš„ç±»ä½œç”¨åŸŸ\"></a>ç»§æ‰¿çš„ç±»ä½œç”¨åŸŸ</h4><p>æ´¾ç”Ÿç±»çš„ä½œç”¨åŸŸä½äºåŸºç±»ä½œç”¨åŸŸä¹‹å†…ï¼Œå¦‚æœä¸€ä¸ªåå­—åœ¨æ´¾ç”Ÿç±»ä¸­æ— æ³•è§£æï¼Œåˆ™ä¼šåœ¨å¤–å±‚åŸºç±»ä½œç”¨åŸŸä¸­å¯»æ‰¾è¯¥åå­—çš„å®šä¹‰ã€‚</p>\n<p>åœ¨ç¼–è¯‘æ—¶è¿›è¡Œ<strong>åå­—æŸ¥æ‰¾</strong>ï¼Œæ„å‘³ç€èƒ½å¤Ÿä½¿ç”¨å“ªäº›æˆå‘˜ç”±é™æ€ç±»å‹å†³å®šã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507164433.png\"></p>\n<p>æ´¾ç”Ÿç±»ä¼šè¦†ç›–åŸºç±»çš„åŒåæˆå‘˜ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä½œç”¨åŸŸè¿ç®—ç¬¦æ¥ä½¿ç”¨åŸºç±»æˆå‘˜ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507164558.png\"></p>\n<p><strong>åå­—æŸ¥æ‰¾</strong>,å‡è®¾è°ƒç”¨obj-&gt;foo():</p>\n<ul>\n<li>é¦–å…ˆç¡®å®šobjçš„é™æ€ç±»å‹</li>\n<li>ç„¶ååœ¨objçš„é™æ€ç±»å‹å¯¹åº”çš„ç±»ä¸­æŸ¥æ‰¾fooã€‚æ‰¾ä¸åˆ°ï¼Œå°±ä¸€ç›´å¾€ç»§æ‰¿é“¾ä¸Šæ‰¾ã€‚å¦‚æœä¸€ç›´æ‰¾ä¸åˆ°ï¼Œå°±æŠ¥é”™ã€‚</li>\n<li>ä¸€æ—¦æ‰¾åˆ°fooï¼Œè¿›è¡Œç±»å‹æ£€æŸ¥</li>\n<li>å¦‚æœåˆæ³•ï¼Œåˆ™ä¼šæ ¹æ®æ˜¯å¦æ˜¯è™šå‡½æ•°è¿›è¡Œè°ƒç”¨ï¼š1.å¦‚æœæ—¶è™šå‡½æ•°ï¼Œåˆ™ä¾æ®objçš„åŠ¨æ€ç±»å‹çš„ç‰ˆæœ¬;2.å¦‚æœä¸æ˜¯ï¼Œç›´æ¥è°ƒç”¨</li>\n</ul>\n<p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°<strong>åå­—æŸ¥æ‰¾å…ˆäºç±»å‹æ£€æŸ¥,æ‰€ä»¥ä¼šæœ‰ä»¥ä¸‹ç»“æœ</strong></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507165048.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507165828.png\"></p>\n<h4 id=\"è™šææ„å‡½æ•°\"><a href=\"#è™šææ„å‡½æ•°\" class=\"headerlink\" title=\"è™šææ„å‡½æ•°\"></a>è™šææ„å‡½æ•°</h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507211827.png\"></p>\n<h4 id=\"åˆæˆæ‹·è´æ§åˆ¶ä¸ç»§æ‰¿\"><a href=\"#åˆæˆæ‹·è´æ§åˆ¶ä¸ç»§æ‰¿\" class=\"headerlink\" title=\"åˆæˆæ‹·è´æ§åˆ¶ä¸ç»§æ‰¿\"></a>åˆæˆæ‹·è´æ§åˆ¶ä¸ç»§æ‰¿</h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507212141.png\"></p>\n<p><strong>æ´¾ç”Ÿç±»ä¸­åˆ é™¤çš„æ‹·è´æ§åˆ¶ä¸åŸºç±»çš„å…³ç³»</strong>ï¼š</p>\n<ul>\n<li>åŸºç±»ä¸­çš„é»˜è®¤æ„é€ å‡½æ•°ã€æ‹·è´æ„é€ å‡½æ•°ã€æ‹·è´èµ‹å€¼è¿ç®—ç¬¦æˆ–ææ„å‡½æ•°æ˜¯deleteæˆ–privateï¼Œåˆ™æ´¾ç”Ÿç±»å¯¹åº”çš„æ˜¯deleteçš„ã€‚åŸå› æ˜¯ç¼–è¯‘å™¨ä¸èƒ½ä½¿ç”¨åŸºç±»æˆå‘˜æ¥æ‰§è¡Œè¿™äº›æ“ä½œ</li>\n<li>å¦‚æœåŸºç±»ä¸­æœ‰ä¸€ä¸ª<strong>privateæˆ–deleteçš„ææ„å‡½æ•°</strong>ï¼Œåˆ™æ´¾ç”Ÿç±»åˆæˆçš„é»˜è®¤å’Œæ‹·è´æ„é€ å‡½æ•°æ˜¯deleteï¼Œå› ä¸ºç¼–è¯‘å™¨æ— æ³•é”€æ¯æ´¾ç”Ÿç±»å¯¹è±¡çš„åŸºç±»éƒ¨åˆ†</li>\n<li>ç¼–è¯‘å™¨ä¸ä¼šåˆæˆä¸€ä¸ªdeleteç§»åŠ¨æ“ä½œã€‚å½“æˆ‘ä»¬ä½¿ç”¨&#x3D;defaultï¼Œå¦‚æœåŸºç±»ä¸­å¯¹åº”æ˜¯deleteæˆ–privateï¼Œåˆ™æ´¾ç”Ÿç±»ä¸­æ˜¯deleteï¼ŒåŸå› æ˜¯æ´¾ç”Ÿç±»åŸºç±»éƒ¨åˆ†ä¸å¯ç§»åŠ¨ã€‚åŒæ ·ï¼ŒåŸºç±»ææ„å‡½æ•°deleteæˆ–privateï¼Œåˆ™æ´¾ç”Ÿç±»ç§»åŠ¨æ„é€ å‡½æ•°ä¹Ÿæ˜¯delete</li>\n</ul>\n<p><strong>æ´¾ç”Ÿç±»æ‹·è´æˆ–ç§»åŠ¨æ„é€ å‡½æ•°</strong>ï¼š</p>\n<p>åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼ŒåŸºç±»é»˜è®¤æ„é€ å‡½æ•°åˆå§‹åŒ–æ´¾ç”Ÿç±»å¯¹è±¡çš„åŸºç±»éƒ¨åˆ†ã€‚å¦‚æœæƒ³æ‹·è´æˆ–ç§»åŠ¨åŸºç±»éƒ¨åˆ†ï¼Œåˆ™å¿…é¡»åœ¨æ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°åˆå§‹å€¼åˆ—è¡¨ä¸­<strong>æ˜¾å¼åœ°ä½¿ç”¨</strong>åŸºç±»çš„æ‹·è´ï¼ˆæˆ–ç§»åŠ¨ï¼‰æ„é€ å‡½æ•°</p>\n<p><strong>æ´¾ç”Ÿç±»èµ‹å€¼è¿ç®—ç¬¦</strong>ï¼šåŒç†ï¼Œå¤åˆ¶è¿ç®—ç¬¦ä¹Ÿè¦æ˜¾å¼åœ°ä¸ºåŸºç±»éƒ¨åˆ†èµ‹å€¼</p>\n<p><strong>æ´¾ç”Ÿç±»ææ„å‡½æ•°</strong>ï¼šé”€æ¯é¡ºåºä¸åˆ›å»ºé¡ºåºç›¸åï¼Œå…ˆæ‰§è¡Œæ´¾ç”Ÿç±»ææ„å‡½æ•°ï¼Œå†æ‰§è¡ŒåŸºç±»çš„ã€‚</p>\n<p>å¦‚æœæ„é€ å‡½æ•°æˆ–ææ„å‡½æ•°è°ƒç”¨äº†æŸä¸ªè™šå‡½æ•°ï¼Œåˆ™åº”è¯¥æ‰§è¡Œä¸ç±»å‹ç›¸å¯¹åº”çš„è™šå‡½æ•°ç‰ˆæœ¬ã€‚</p>\n<h4 id=\"ç»§æ‰¿çš„æ„é€ å‡½æ•°\"><a href=\"#ç»§æ‰¿çš„æ„é€ å‡½æ•°\" class=\"headerlink\" title=\"ç»§æ‰¿çš„æ„é€ å‡½æ•°\"></a>ç»§æ‰¿çš„æ„é€ å‡½æ•°</h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230507213936.png\"></p>\n<p>usingå£°æ˜ä¸ä¼šæ”¹å˜æ„é€ å‡½æ•°çš„è®¿é—®çº§åˆ«ã€‚<br>usingå£°æ˜ä¸èƒ½æŒ‡å®šexplicitæˆ–constexprï¼Œç»§æ‰¿çš„æ„é€ å‡½æ•°å¦‚æœæœ‰è¿™äº›å±æ€§ï¼Œé‚£ä¹ˆä¹Ÿæœ‰ã€‚<br>æ„é€ å‡½æ•°çš„é»˜è®¤å®å‚ä¸ä¼šè¢«ç»§æ‰¿ã€‚ç›¸åï¼Œä¼šè·å¾—å¤šä¸ªç»§æ‰¿ã€‚æ¯”å¦‚ï¼ŒåŸºç±»æœ‰ä¸€ä¸ªæ¥å—ä¸¤ä¸ªå½¢å‚çš„æ„é€ å‡½æ•°ï¼Œç¬¬äºŒä¸ªå«æœ‰é»˜è®¤å®å‚ï¼Œåˆ™æ´¾ç”Ÿç±»è·å¾—ä¸¤ä¸ªæ„é€ å‡½æ•°ï¼Œä¸€ä¸ªæ¥å—ä¸¤ä¸ªå½¢å‚ï¼Œä¸€ä¸ªåªæ¥å—ä¸€ä¸ªå½¢å‚ï¼Œå¯¹åº”æ²¡æœ‰é»˜è®¤å€¼çš„å½¢å‚ã€‚</p>\n<p>å¦‚æœåŸºç±»å«æœ‰å‡ ä¸ªæ„é€ å‡½æ•°ï¼Œå¤§å¤šæ•°æ´¾ç”Ÿç±»ä¼šç»§æ‰¿è¿™äº›æ„é€ å‡½æ•°ã€‚æœ‰ä¸¤ä¸ªä¾‹å¤–æƒ…å†µï¼š</p>\n<ul>\n<li>æ´¾ç”Ÿç±»ç»§æ‰¿ä¸€éƒ¨åˆ†æ„é€ å‡½æ•°ï¼Œä¸ºå…¶ä»–æ„é€ å‡½æ•°å®šä¹‰è‡ªå·±çš„ç‰ˆæœ¬ã€‚</li>\n<li>é»˜è®¤ã€æ‹·è´å’Œç§»åŠ¨æ„é€ å‡½æ•°ä¸ä¼šè¢«ç»§æ‰¿ï¼Œä¼šæŒ‰ç…§æ­£å¸¸è§„åˆ™è¢«åˆæˆã€‚</li>\n</ul>\n"},{"title":"githubå·¥ä½œæµ","date":"2022-11-16T05:37:35.000Z","_content":"\nè§†é¢‘é“¾æ¥ï¼š [ååˆ†é’Ÿå­¦ä¼šæ­£ç¡®çš„githubå·¥ä½œæµï¼Œå’Œå¼€æºä½œè€…ä»¬ä½¿ç”¨åŒä¸€å¥—æµç¨‹](https://www.bilibili.com/video/BV19e4y1q7JJ/?share_source=copy_web&vd_source=8277fbbcfe9cfbff0708d41552ef71ab)\n\n#### æ­¥éª¤\n\n```\n1. git clone https://github.com/example/example.git \n// å…‹éš†è¿œç¨‹é¡¹ç›®åˆ°æœ¬åœ° git clone + \"githubé¡¹ç›®æä¾›çš„http\"\n2. git checkout -b my-feature \n// ä¿®æ”¹ä»£ç ,å»ºç«‹æ–°åˆ†æ”¯è€Œä¸æ˜¯ç›´æ¥å¾€mainä¸Špushä»£ç \n// \"my-feature\" æ˜¯è¿™ä¸ªåˆ†æ”¯çš„åå­—\n// è¿™ä¸ªå‘½ä»¤ä¼šå¤åˆ¶ä¸€ä»½å½“å‰çš„breachåˆ°æ–°breach\n3. git diff \n// å½“ä¿®æ”¹ä»£ç å,ç”¨ git diff æŸ¥çœ‹è‡ªå·±å¯¹ä»£ç åšå‡ºçš„æ”¹å˜\n4. git add <changed_file>\n// æŠŠå·²ä¿®æ”¹çš„ä»£ç å‘ŠçŸ¥ git ï¼Œè¿™æ · git å°±å¯ä»¥ commit äº†\n5. git commit \"comment(å¯æœ‰å¯æ— )\"\n// æŠŠä¿®æ”¹æ”¾å…¥gitä¸­\n6. git push origin my-feature\n// å°†å½“å‰ git æ–°åˆ›å»ºçš„ breach æ¨å›ç»™github\n\n----------------------\nï¼ˆå½“ä¿®æ”¹ä»£ç çš„æ—¶å€™å‘ç°githubå‡ºç°æ”¹å˜ , å‡è®¾æ˜¯mainï¼‰\n1. git checkout main\n// åˆ‡æ¢å›mainåˆ†æ”¯\n2. git pull origin master(main)\n// è¿™æ · github çš„ main å°±ä¼šåŒæ­¥åˆ° git çš„ main\n3. git checkout my-feature\n// å›åˆ° my-feature\n4. git rebase main\n// åŒæ­¥ä¿®æ”¹ï¼Œå…ˆä¸ç®¡è‡ªå·±çš„ä¿®æ”¹ï¼Œç„¶åæŠŠ main å…ˆæ”¾è¿›è¿™ä¸ªåˆ†æ”¯ï¼Œæœ€åæ ¹æ®æˆ‘çš„ä¿®æ”¹æˆæ–°çš„å†…å®¹\n// ä¸­é€”å¯èƒ½ä¼šå‡ºç°rebase conflictï¼Œæ‰‹åŠ¨é€‰æ‹©è¦å“ªä¸€æ®µä»£ç \n5. git push -f origin my-feature \n// å°† git å˜åŒ–çš„åˆ†æ”¯æ”¾è¿›github\n\n6. github ä¸Š  (è¯·æ±‚)pull request -> (ä¸»äºº)Squash and merge\n// åœ¨githubä¸­å°†ä¸¤ä¸ªåˆ†æ”¯åˆåˆ°mainbranch\n\n7. ç„¶ååˆ æ‰ç¬¬äºŒä¸ªåˆ†æ”¯ï¼ˆå¦‚æœæ²¡ç”¨çš„è¯ï¼‰\n\n8. git branch -D my-feature\n// åˆ é™¤ git çš„åˆ†æ”¯\n\n9. git pull origin master(main)\n// git æ›´æ–° githubçš„æœ€æ–°ä»£ç \n```","source":"_posts/githubå·¥ä½œæµ.md","raw":"---\ntitle: githubå·¥ä½œæµ\ndate: 2022-11-16 13:37:35\n---\n\nè§†é¢‘é“¾æ¥ï¼š [ååˆ†é’Ÿå­¦ä¼šæ­£ç¡®çš„githubå·¥ä½œæµï¼Œå’Œå¼€æºä½œè€…ä»¬ä½¿ç”¨åŒä¸€å¥—æµç¨‹](https://www.bilibili.com/video/BV19e4y1q7JJ/?share_source=copy_web&vd_source=8277fbbcfe9cfbff0708d41552ef71ab)\n\n#### æ­¥éª¤\n\n```\n1. git clone https://github.com/example/example.git \n// å…‹éš†è¿œç¨‹é¡¹ç›®åˆ°æœ¬åœ° git clone + \"githubé¡¹ç›®æä¾›çš„http\"\n2. git checkout -b my-feature \n// ä¿®æ”¹ä»£ç ,å»ºç«‹æ–°åˆ†æ”¯è€Œä¸æ˜¯ç›´æ¥å¾€mainä¸Špushä»£ç \n// \"my-feature\" æ˜¯è¿™ä¸ªåˆ†æ”¯çš„åå­—\n// è¿™ä¸ªå‘½ä»¤ä¼šå¤åˆ¶ä¸€ä»½å½“å‰çš„breachåˆ°æ–°breach\n3. git diff \n// å½“ä¿®æ”¹ä»£ç å,ç”¨ git diff æŸ¥çœ‹è‡ªå·±å¯¹ä»£ç åšå‡ºçš„æ”¹å˜\n4. git add <changed_file>\n// æŠŠå·²ä¿®æ”¹çš„ä»£ç å‘ŠçŸ¥ git ï¼Œè¿™æ · git å°±å¯ä»¥ commit äº†\n5. git commit \"comment(å¯æœ‰å¯æ— )\"\n// æŠŠä¿®æ”¹æ”¾å…¥gitä¸­\n6. git push origin my-feature\n// å°†å½“å‰ git æ–°åˆ›å»ºçš„ breach æ¨å›ç»™github\n\n----------------------\nï¼ˆå½“ä¿®æ”¹ä»£ç çš„æ—¶å€™å‘ç°githubå‡ºç°æ”¹å˜ , å‡è®¾æ˜¯mainï¼‰\n1. git checkout main\n// åˆ‡æ¢å›mainåˆ†æ”¯\n2. git pull origin master(main)\n// è¿™æ · github çš„ main å°±ä¼šåŒæ­¥åˆ° git çš„ main\n3. git checkout my-feature\n// å›åˆ° my-feature\n4. git rebase main\n// åŒæ­¥ä¿®æ”¹ï¼Œå…ˆä¸ç®¡è‡ªå·±çš„ä¿®æ”¹ï¼Œç„¶åæŠŠ main å…ˆæ”¾è¿›è¿™ä¸ªåˆ†æ”¯ï¼Œæœ€åæ ¹æ®æˆ‘çš„ä¿®æ”¹æˆæ–°çš„å†…å®¹\n// ä¸­é€”å¯èƒ½ä¼šå‡ºç°rebase conflictï¼Œæ‰‹åŠ¨é€‰æ‹©è¦å“ªä¸€æ®µä»£ç \n5. git push -f origin my-feature \n// å°† git å˜åŒ–çš„åˆ†æ”¯æ”¾è¿›github\n\n6. github ä¸Š  (è¯·æ±‚)pull request -> (ä¸»äºº)Squash and merge\n// åœ¨githubä¸­å°†ä¸¤ä¸ªåˆ†æ”¯åˆåˆ°mainbranch\n\n7. ç„¶ååˆ æ‰ç¬¬äºŒä¸ªåˆ†æ”¯ï¼ˆå¦‚æœæ²¡ç”¨çš„è¯ï¼‰\n\n8. git branch -D my-feature\n// åˆ é™¤ git çš„åˆ†æ”¯\n\n9. git pull origin master(main)\n// git æ›´æ–° githubçš„æœ€æ–°ä»£ç \n```","slug":"githubå·¥ä½œæµ","published":1,"updated":"2024-01-07T07:46:20.670Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clr4d2ju4000cgwv09x7ib5ml","content":"<p>è§†é¢‘é“¾æ¥ï¼š <a href=\"https://www.bilibili.com/video/BV19e4y1q7JJ/?share_source=copy_web&vd_source=8277fbbcfe9cfbff0708d41552ef71ab\">ååˆ†é’Ÿå­¦ä¼šæ­£ç¡®çš„githubå·¥ä½œæµï¼Œå’Œå¼€æºä½œè€…ä»¬ä½¿ç”¨åŒä¸€å¥—æµç¨‹</a></p>\n<h4 id=\"æ­¥éª¤\"><a href=\"#æ­¥éª¤\" class=\"headerlink\" title=\"æ­¥éª¤\"></a>æ­¥éª¤</h4><figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">1. git clone https://github.com/example/example.git </span><br><span class=\"line\">// å…‹éš†è¿œç¨‹é¡¹ç›®åˆ°æœ¬åœ° git clone + &quot;githubé¡¹ç›®æä¾›çš„http&quot;</span><br><span class=\"line\">2. git checkout -b my-feature </span><br><span class=\"line\">// ä¿®æ”¹ä»£ç ,å»ºç«‹æ–°åˆ†æ”¯è€Œä¸æ˜¯ç›´æ¥å¾€mainä¸Špushä»£ç </span><br><span class=\"line\">// &quot;my-feature&quot; æ˜¯è¿™ä¸ªåˆ†æ”¯çš„åå­—</span><br><span class=\"line\">// è¿™ä¸ªå‘½ä»¤ä¼šå¤åˆ¶ä¸€ä»½å½“å‰çš„breachåˆ°æ–°breach</span><br><span class=\"line\">3. git diff </span><br><span class=\"line\">// å½“ä¿®æ”¹ä»£ç å,ç”¨ git diff æŸ¥çœ‹è‡ªå·±å¯¹ä»£ç åšå‡ºçš„æ”¹å˜</span><br><span class=\"line\">4. git add &lt;changed_file&gt;</span><br><span class=\"line\">// æŠŠå·²ä¿®æ”¹çš„ä»£ç å‘ŠçŸ¥ git ï¼Œè¿™æ · git å°±å¯ä»¥ commit äº†</span><br><span class=\"line\">5. git commit &quot;comment(å¯æœ‰å¯æ— )&quot;</span><br><span class=\"line\">// æŠŠä¿®æ”¹æ”¾å…¥gitä¸­</span><br><span class=\"line\">6. git push origin my-feature</span><br><span class=\"line\">// å°†å½“å‰ git æ–°åˆ›å»ºçš„ breach æ¨å›ç»™github</span><br><span class=\"line\"></span><br><span class=\"line\">----------------------</span><br><span class=\"line\">ï¼ˆå½“ä¿®æ”¹ä»£ç çš„æ—¶å€™å‘ç°githubå‡ºç°æ”¹å˜ , å‡è®¾æ˜¯mainï¼‰</span><br><span class=\"line\">1. git checkout main</span><br><span class=\"line\">// åˆ‡æ¢å›mainåˆ†æ”¯</span><br><span class=\"line\">2. git pull origin master(main)</span><br><span class=\"line\">// è¿™æ · github çš„ main å°±ä¼šåŒæ­¥åˆ° git çš„ main</span><br><span class=\"line\">3. git checkout my-feature</span><br><span class=\"line\">// å›åˆ° my-feature</span><br><span class=\"line\">4. git rebase main</span><br><span class=\"line\">// åŒæ­¥ä¿®æ”¹ï¼Œå…ˆä¸ç®¡è‡ªå·±çš„ä¿®æ”¹ï¼Œç„¶åæŠŠ main å…ˆæ”¾è¿›è¿™ä¸ªåˆ†æ”¯ï¼Œæœ€åæ ¹æ®æˆ‘çš„ä¿®æ”¹æˆæ–°çš„å†…å®¹</span><br><span class=\"line\">// ä¸­é€”å¯èƒ½ä¼šå‡ºç°rebase conflictï¼Œæ‰‹åŠ¨é€‰æ‹©è¦å“ªä¸€æ®µä»£ç </span><br><span class=\"line\">5. git push -f origin my-feature </span><br><span class=\"line\">// å°† git å˜åŒ–çš„åˆ†æ”¯æ”¾è¿›github</span><br><span class=\"line\"></span><br><span class=\"line\">6. github ä¸Š  (è¯·æ±‚)pull request -&gt; (ä¸»äºº)Squash and merge</span><br><span class=\"line\">// åœ¨githubä¸­å°†ä¸¤ä¸ªåˆ†æ”¯åˆåˆ°mainbranch</span><br><span class=\"line\"></span><br><span class=\"line\">7. ç„¶ååˆ æ‰ç¬¬äºŒä¸ªåˆ†æ”¯ï¼ˆå¦‚æœæ²¡ç”¨çš„è¯ï¼‰</span><br><span class=\"line\"></span><br><span class=\"line\">8. git branch -D my-feature</span><br><span class=\"line\">// åˆ é™¤ git çš„åˆ†æ”¯</span><br><span class=\"line\"></span><br><span class=\"line\">9. git pull origin master(main)</span><br><span class=\"line\">// git æ›´æ–° githubçš„æœ€æ–°ä»£ç </span><br></pre></td></tr></table></figure>","site":{"data":{}},"length":924,"excerpt":"","more":"<p>è§†é¢‘é“¾æ¥ï¼š <a href=\"https://www.bilibili.com/video/BV19e4y1q7JJ/?share_source=copy_web&vd_source=8277fbbcfe9cfbff0708d41552ef71ab\">ååˆ†é’Ÿå­¦ä¼šæ­£ç¡®çš„githubå·¥ä½œæµï¼Œå’Œå¼€æºä½œè€…ä»¬ä½¿ç”¨åŒä¸€å¥—æµç¨‹</a></p>\n<h4 id=\"æ­¥éª¤\"><a href=\"#æ­¥éª¤\" class=\"headerlink\" title=\"æ­¥éª¤\"></a>æ­¥éª¤</h4><figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">1. git clone https://github.com/example/example.git </span><br><span class=\"line\">// å…‹éš†è¿œç¨‹é¡¹ç›®åˆ°æœ¬åœ° git clone + &quot;githubé¡¹ç›®æä¾›çš„http&quot;</span><br><span class=\"line\">2. git checkout -b my-feature </span><br><span class=\"line\">// ä¿®æ”¹ä»£ç ,å»ºç«‹æ–°åˆ†æ”¯è€Œä¸æ˜¯ç›´æ¥å¾€mainä¸Špushä»£ç </span><br><span class=\"line\">// &quot;my-feature&quot; æ˜¯è¿™ä¸ªåˆ†æ”¯çš„åå­—</span><br><span class=\"line\">// è¿™ä¸ªå‘½ä»¤ä¼šå¤åˆ¶ä¸€ä»½å½“å‰çš„breachåˆ°æ–°breach</span><br><span class=\"line\">3. git diff </span><br><span class=\"line\">// å½“ä¿®æ”¹ä»£ç å,ç”¨ git diff æŸ¥çœ‹è‡ªå·±å¯¹ä»£ç åšå‡ºçš„æ”¹å˜</span><br><span class=\"line\">4. git add &lt;changed_file&gt;</span><br><span class=\"line\">// æŠŠå·²ä¿®æ”¹çš„ä»£ç å‘ŠçŸ¥ git ï¼Œè¿™æ · git å°±å¯ä»¥ commit äº†</span><br><span class=\"line\">5. git commit &quot;comment(å¯æœ‰å¯æ— )&quot;</span><br><span class=\"line\">// æŠŠä¿®æ”¹æ”¾å…¥gitä¸­</span><br><span class=\"line\">6. git push origin my-feature</span><br><span class=\"line\">// å°†å½“å‰ git æ–°åˆ›å»ºçš„ breach æ¨å›ç»™github</span><br><span class=\"line\"></span><br><span class=\"line\">----------------------</span><br><span class=\"line\">ï¼ˆå½“ä¿®æ”¹ä»£ç çš„æ—¶å€™å‘ç°githubå‡ºç°æ”¹å˜ , å‡è®¾æ˜¯mainï¼‰</span><br><span class=\"line\">1. git checkout main</span><br><span class=\"line\">// åˆ‡æ¢å›mainåˆ†æ”¯</span><br><span class=\"line\">2. git pull origin master(main)</span><br><span class=\"line\">// è¿™æ · github çš„ main å°±ä¼šåŒæ­¥åˆ° git çš„ main</span><br><span class=\"line\">3. git checkout my-feature</span><br><span class=\"line\">// å›åˆ° my-feature</span><br><span class=\"line\">4. git rebase main</span><br><span class=\"line\">// åŒæ­¥ä¿®æ”¹ï¼Œå…ˆä¸ç®¡è‡ªå·±çš„ä¿®æ”¹ï¼Œç„¶åæŠŠ main å…ˆæ”¾è¿›è¿™ä¸ªåˆ†æ”¯ï¼Œæœ€åæ ¹æ®æˆ‘çš„ä¿®æ”¹æˆæ–°çš„å†…å®¹</span><br><span class=\"line\">// ä¸­é€”å¯èƒ½ä¼šå‡ºç°rebase conflictï¼Œæ‰‹åŠ¨é€‰æ‹©è¦å“ªä¸€æ®µä»£ç </span><br><span class=\"line\">5. git push -f origin my-feature </span><br><span class=\"line\">// å°† git å˜åŒ–çš„åˆ†æ”¯æ”¾è¿›github</span><br><span class=\"line\"></span><br><span class=\"line\">6. github ä¸Š  (è¯·æ±‚)pull request -&gt; (ä¸»äºº)Squash and merge</span><br><span class=\"line\">// åœ¨githubä¸­å°†ä¸¤ä¸ªåˆ†æ”¯åˆåˆ°mainbranch</span><br><span class=\"line\"></span><br><span class=\"line\">7. ç„¶ååˆ æ‰ç¬¬äºŒä¸ªåˆ†æ”¯ï¼ˆå¦‚æœæ²¡ç”¨çš„è¯ï¼‰</span><br><span class=\"line\"></span><br><span class=\"line\">8. git branch -D my-feature</span><br><span class=\"line\">// åˆ é™¤ git çš„åˆ†æ”¯</span><br><span class=\"line\"></span><br><span class=\"line\">9. git pull origin master(main)</span><br><span class=\"line\">// git æ›´æ–° githubçš„æœ€æ–°ä»£ç </span><br></pre></td></tr></table></figure>"},{"title":"å›¾å½¢å­¦-ä¸€äº›é¢å¤–ç»†èŠ‚","date":"2023-05-04T13:27:27.000Z","_content":"\n### å‰è¨€\n\nç³»ç»Ÿçš„å­¦ä¹ å®Œå›¾å½¢å­¦å‘ç°è¿˜æœ‰ä¸€äº›å°ç»†èŠ‚æœ‰æ‰€ç–æ¼ï¼Œåœ¨æ­¤è®°å½•\n\n### å˜æ¢æ³•çº¿å‘é‡\n\n#### æ³•çº¿å˜æ¢çŸ©é˜µ\n\nä¸ºäº†è¿›è¡Œå…‰ç…§è®¡ç®—ï¼Œä¸€èˆ¬è¦ä½¿ç”¨åˆ°æ¨¡å‹çš„é¡¶ç‚¹çš„æ³•çº¿è¿›è¡Œè®¡ç®—ã€‚å±€éƒ¨åæ ‡ç»è¿‡çŸ©é˜µMè½¬åŒ–åˆ°ä¸–ç•Œåæ ‡ï¼Œç„¶åå†é€šè¿‡çŸ©é˜µVè½¬åŒ–åˆ°è§‚å¯Ÿç©ºé—´ã€‚åˆ™**è§‚å¯Ÿç©ºé—´çš„é¡¶ç‚¹ä½ç½®åˆ™å˜ä¸ºM*V*p(é¡¶ç‚¹åæ ‡)ï¼Œè€Œé¡¶ç‚¹æ³•çº¿å´ä¸èƒ½ç›´æ¥ç›´æ¥ç”±M*V*nï¼ˆé¡¶ç‚¹æ³•çº¿ï¼‰è®¡ç®—**ï¼Œå› ä¸ºæ¨¡å‹å‘ç”Ÿnon-uniformç¼©æ”¾æ—¶ï¼Œç»è¿‡M*V*nå˜æ¢åçš„æ³•çº¿ä¸åœ¨ä¸æ¨¡å‹è¡¨é¢å‚ç›´ã€‚\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230504213856.png)\n\nç”¨äºæ³•çº¿å˜æ¢çš„çŸ©é˜µåº”è¯¥æ˜¯ï¼š\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230504214214.png)\n\nå¦‚æœæ˜¯åœ¨ä¸–ç•Œåæ ‡ä¸Šè®¡ç®—ï¼Œåˆ™æ³•çº¿å˜æ¢çš„çŸ©é˜µä¸º\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230504214249.png)\n\n#### æ¨å¯¼è¿‡ç¨‹\n\næˆ‘ä»¬è®¾Tä¸ºåˆ‡å‘å‘é‡ï¼ŒNä¸ºæ³•çº¿å‘é‡ï¼ŒP2ï¼ŒP1ä¸ºä¸‰è§’å½¢è¾¹ä¸Šçš„æŸä¸¤ä¸ªç‚¹,å¸¦'çš„å˜é‡ä¸ºå˜æ¢åçš„åæ ‡\n\n-> T = P2 - P1 \n\n-> MVT = MV(P2-P1)\n\n-> MVT = MVP2 - MVP1\n\nä»è€Œå¾—åˆ° T' = P2' - P1'\n\nå› ä¸ºåˆ‡çº¿å‘é‡å’Œæ³•çº¿å‘é‡æ°¸è¿œå‚ç›´ï¼Œæ‰€ä»¥TN = 0\nè®¾N' = G * N(Gä¸ºæˆ‘ä»¬è¦è§£å‡ºçš„æ³•çº¿å˜æ¢çŸ©é˜µ)\n\n-> N'T' = (GN)(MVT) = 0 \n\nç”±äºGNæ—¶åˆ—å‘é‡ï¼Œæ‰€ä»¥åšç‚¹ç§¯æ—¶è¦è½¬ç½®æˆè¡Œå‘é‡\n\n-> (GN)^è½¬ç½® * (MVT) = N^è½¬ç½® G^è½¬ç½® MVT = 0\n\nä¸ºäº†è®©N^è½¬ç½® *T = 0 åˆ™ G^è½¬ç½®MV = I(å•ä½çŸ©é˜µ)\n\n-> G = ((MV)^-1)^è½¬ç½®\n\n#### å‚è€ƒ\n\n[æ¸²æŸ“ç®¡çº¿ä¸­çš„æ³•çº¿å˜æ¢çŸ©é˜µ](https://zhuanlan.zhihu.com/p/72734738)\n\n### é€è§†çŸ«æ­£æ’å€¼\n\n#### åŸå› \n\næˆ‘ä»¬çš„é‡å¿ƒåæ ‡å¾€å¾€éƒ½æ˜¯åœ¨å±å¹•ç©ºé—´ä¸‹å¾—åˆ°çš„ï¼Œå¦‚æœä½¿ç”¨å±å¹•ç©ºé—´ä¸‹çš„é‡å¿ƒåæ ‡è¿›è¡Œæ’å€¼ä¼šé€ æˆä¸€å®šçš„è¯¯å·®ï¼Œä¸åœ¨è§‚å¯Ÿç©ºé—´æ—¶ä¸ä¸€æ ·çš„ã€‚å› ä¸ºåˆ°äº†å±å¹•ç©ºé—´ï¼Œæ’å€¼è¿ç®—å°±ä¸ä¼šè€ƒè™‘è¿‘å¤§è¿œå°äº†ã€‚\n\n#### æ¨å¯¼\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230504223959.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230504224109.png)\n\næˆ‘ä»¬å¯¹A,Bç‚¹ç”»xè½´æ–¹å‘çš„çº¿äº¤äºOC\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230504224210.png)\n\næ˜“å¾—(t/1-t) = AG/BK = (ac*Z1/d)/(bc*Z2/d) = sZ1/(1-m)/Z2 ,å¯¹ä¸¤è¾¹ç”¨å€’æ•°è¿›è¡Œå¤„ç†å¾—åˆ°\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230504224358.png)\n\nå†å°†è¯¥å¼å­ä»£å…¥(6)å¾—\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230504224429.png)\n\nä¸Šè¿°æ˜¯ä¸¤ä¸ªç‚¹çš„è®¡ç®—ï¼Œæ¨å¹¿åˆ°é‡å¿ƒåæ ‡ï¼Œå¾—\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230504224456.png)\n\nç„¶åè¿›è¡Œæ¨å¹¿åˆ°ä»»æ„å±æ€§ï¼ˆæ³•çº¿å‘é‡ï¼Œçº¹ç†åæ ‡ç­‰ï¼‰\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230504224934.png)\n\n#### å‚è€ƒ\n\n- [è®¡ç®—æœºå›¾å½¢å­¦å…­ï¼šé€è§†çŸ«æ­£æ’å€¼å’Œå›¾å½¢æ¸²æŸ“ç®¡çº¿æ€»ç»“](https://zhuanlan.zhihu.com/p/144331875)\n- [å›¾å½¢å­¦ - å…³äºé€è§†çŸ«æ­£æ’å€¼é‚£äº›äº‹](https://zhuanlan.zhihu.com/p/403259571)","source":"_posts/å›¾å½¢å­¦-ä¸€äº›é¢å¤–ç»†èŠ‚.md","raw":"---\ntitle: å›¾å½¢å­¦-ä¸€äº›é¢å¤–ç»†èŠ‚\ndate: 2023-05-04 21:27:27\n---\n\n### å‰è¨€\n\nç³»ç»Ÿçš„å­¦ä¹ å®Œå›¾å½¢å­¦å‘ç°è¿˜æœ‰ä¸€äº›å°ç»†èŠ‚æœ‰æ‰€ç–æ¼ï¼Œåœ¨æ­¤è®°å½•\n\n### å˜æ¢æ³•çº¿å‘é‡\n\n#### æ³•çº¿å˜æ¢çŸ©é˜µ\n\nä¸ºäº†è¿›è¡Œå…‰ç…§è®¡ç®—ï¼Œä¸€èˆ¬è¦ä½¿ç”¨åˆ°æ¨¡å‹çš„é¡¶ç‚¹çš„æ³•çº¿è¿›è¡Œè®¡ç®—ã€‚å±€éƒ¨åæ ‡ç»è¿‡çŸ©é˜µMè½¬åŒ–åˆ°ä¸–ç•Œåæ ‡ï¼Œç„¶åå†é€šè¿‡çŸ©é˜µVè½¬åŒ–åˆ°è§‚å¯Ÿç©ºé—´ã€‚åˆ™**è§‚å¯Ÿç©ºé—´çš„é¡¶ç‚¹ä½ç½®åˆ™å˜ä¸ºM*V*p(é¡¶ç‚¹åæ ‡)ï¼Œè€Œé¡¶ç‚¹æ³•çº¿å´ä¸èƒ½ç›´æ¥ç›´æ¥ç”±M*V*nï¼ˆé¡¶ç‚¹æ³•çº¿ï¼‰è®¡ç®—**ï¼Œå› ä¸ºæ¨¡å‹å‘ç”Ÿnon-uniformç¼©æ”¾æ—¶ï¼Œç»è¿‡M*V*nå˜æ¢åçš„æ³•çº¿ä¸åœ¨ä¸æ¨¡å‹è¡¨é¢å‚ç›´ã€‚\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230504213856.png)\n\nç”¨äºæ³•çº¿å˜æ¢çš„çŸ©é˜µåº”è¯¥æ˜¯ï¼š\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230504214214.png)\n\nå¦‚æœæ˜¯åœ¨ä¸–ç•Œåæ ‡ä¸Šè®¡ç®—ï¼Œåˆ™æ³•çº¿å˜æ¢çš„çŸ©é˜µä¸º\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230504214249.png)\n\n#### æ¨å¯¼è¿‡ç¨‹\n\næˆ‘ä»¬è®¾Tä¸ºåˆ‡å‘å‘é‡ï¼ŒNä¸ºæ³•çº¿å‘é‡ï¼ŒP2ï¼ŒP1ä¸ºä¸‰è§’å½¢è¾¹ä¸Šçš„æŸä¸¤ä¸ªç‚¹,å¸¦'çš„å˜é‡ä¸ºå˜æ¢åçš„åæ ‡\n\n-> T = P2 - P1 \n\n-> MVT = MV(P2-P1)\n\n-> MVT = MVP2 - MVP1\n\nä»è€Œå¾—åˆ° T' = P2' - P1'\n\nå› ä¸ºåˆ‡çº¿å‘é‡å’Œæ³•çº¿å‘é‡æ°¸è¿œå‚ç›´ï¼Œæ‰€ä»¥TN = 0\nè®¾N' = G * N(Gä¸ºæˆ‘ä»¬è¦è§£å‡ºçš„æ³•çº¿å˜æ¢çŸ©é˜µ)\n\n-> N'T' = (GN)(MVT) = 0 \n\nç”±äºGNæ—¶åˆ—å‘é‡ï¼Œæ‰€ä»¥åšç‚¹ç§¯æ—¶è¦è½¬ç½®æˆè¡Œå‘é‡\n\n-> (GN)^è½¬ç½® * (MVT) = N^è½¬ç½® G^è½¬ç½® MVT = 0\n\nä¸ºäº†è®©N^è½¬ç½® *T = 0 åˆ™ G^è½¬ç½®MV = I(å•ä½çŸ©é˜µ)\n\n-> G = ((MV)^-1)^è½¬ç½®\n\n#### å‚è€ƒ\n\n[æ¸²æŸ“ç®¡çº¿ä¸­çš„æ³•çº¿å˜æ¢çŸ©é˜µ](https://zhuanlan.zhihu.com/p/72734738)\n\n### é€è§†çŸ«æ­£æ’å€¼\n\n#### åŸå› \n\næˆ‘ä»¬çš„é‡å¿ƒåæ ‡å¾€å¾€éƒ½æ˜¯åœ¨å±å¹•ç©ºé—´ä¸‹å¾—åˆ°çš„ï¼Œå¦‚æœä½¿ç”¨å±å¹•ç©ºé—´ä¸‹çš„é‡å¿ƒåæ ‡è¿›è¡Œæ’å€¼ä¼šé€ æˆä¸€å®šçš„è¯¯å·®ï¼Œä¸åœ¨è§‚å¯Ÿç©ºé—´æ—¶ä¸ä¸€æ ·çš„ã€‚å› ä¸ºåˆ°äº†å±å¹•ç©ºé—´ï¼Œæ’å€¼è¿ç®—å°±ä¸ä¼šè€ƒè™‘è¿‘å¤§è¿œå°äº†ã€‚\n\n#### æ¨å¯¼\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230504223959.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230504224109.png)\n\næˆ‘ä»¬å¯¹A,Bç‚¹ç”»xè½´æ–¹å‘çš„çº¿äº¤äºOC\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230504224210.png)\n\næ˜“å¾—(t/1-t) = AG/BK = (ac*Z1/d)/(bc*Z2/d) = sZ1/(1-m)/Z2 ,å¯¹ä¸¤è¾¹ç”¨å€’æ•°è¿›è¡Œå¤„ç†å¾—åˆ°\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230504224358.png)\n\nå†å°†è¯¥å¼å­ä»£å…¥(6)å¾—\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230504224429.png)\n\nä¸Šè¿°æ˜¯ä¸¤ä¸ªç‚¹çš„è®¡ç®—ï¼Œæ¨å¹¿åˆ°é‡å¿ƒåæ ‡ï¼Œå¾—\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230504224456.png)\n\nç„¶åè¿›è¡Œæ¨å¹¿åˆ°ä»»æ„å±æ€§ï¼ˆæ³•çº¿å‘é‡ï¼Œçº¹ç†åæ ‡ç­‰ï¼‰\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230504224934.png)\n\n#### å‚è€ƒ\n\n- [è®¡ç®—æœºå›¾å½¢å­¦å…­ï¼šé€è§†çŸ«æ­£æ’å€¼å’Œå›¾å½¢æ¸²æŸ“ç®¡çº¿æ€»ç»“](https://zhuanlan.zhihu.com/p/144331875)\n- [å›¾å½¢å­¦ - å…³äºé€è§†çŸ«æ­£æ’å€¼é‚£äº›äº‹](https://zhuanlan.zhihu.com/p/403259571)","slug":"å›¾å½¢å­¦-ä¸€äº›é¢å¤–ç»†èŠ‚","published":1,"updated":"2024-01-07T07:45:38.376Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clr4d2ju5000dgwv04t1m3ydg","content":"<h3 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h3><p>ç³»ç»Ÿçš„å­¦ä¹ å®Œå›¾å½¢å­¦å‘ç°è¿˜æœ‰ä¸€äº›å°ç»†èŠ‚æœ‰æ‰€ç–æ¼ï¼Œåœ¨æ­¤è®°å½•</p>\n<h3 id=\"å˜æ¢æ³•çº¿å‘é‡\"><a href=\"#å˜æ¢æ³•çº¿å‘é‡\" class=\"headerlink\" title=\"å˜æ¢æ³•çº¿å‘é‡\"></a>å˜æ¢æ³•çº¿å‘é‡</h3><h4 id=\"æ³•çº¿å˜æ¢çŸ©é˜µ\"><a href=\"#æ³•çº¿å˜æ¢çŸ©é˜µ\" class=\"headerlink\" title=\"æ³•çº¿å˜æ¢çŸ©é˜µ\"></a>æ³•çº¿å˜æ¢çŸ©é˜µ</h4><p>ä¸ºäº†è¿›è¡Œå…‰ç…§è®¡ç®—ï¼Œä¸€èˆ¬è¦ä½¿ç”¨åˆ°æ¨¡å‹çš„é¡¶ç‚¹çš„æ³•çº¿è¿›è¡Œè®¡ç®—ã€‚å±€éƒ¨åæ ‡ç»è¿‡çŸ©é˜µMè½¬åŒ–åˆ°ä¸–ç•Œåæ ‡ï¼Œç„¶åå†é€šè¿‡çŸ©é˜µVè½¬åŒ–åˆ°è§‚å¯Ÿç©ºé—´ã€‚åˆ™<strong>è§‚å¯Ÿç©ºé—´çš„é¡¶ç‚¹ä½ç½®åˆ™å˜ä¸ºM<em>V</em>p(é¡¶ç‚¹åæ ‡)ï¼Œè€Œé¡¶ç‚¹æ³•çº¿å´ä¸èƒ½ç›´æ¥ç›´æ¥ç”±M<em>V</em>nï¼ˆé¡¶ç‚¹æ³•çº¿ï¼‰è®¡ç®—</strong>ï¼Œå› ä¸ºæ¨¡å‹å‘ç”Ÿnon-uniformç¼©æ”¾æ—¶ï¼Œç»è¿‡M<em>V</em>nå˜æ¢åçš„æ³•çº¿ä¸åœ¨ä¸æ¨¡å‹è¡¨é¢å‚ç›´ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230504213856.png\"></p>\n<p>ç”¨äºæ³•çº¿å˜æ¢çš„çŸ©é˜µåº”è¯¥æ˜¯ï¼š</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230504214214.png\"></p>\n<p>å¦‚æœæ˜¯åœ¨ä¸–ç•Œåæ ‡ä¸Šè®¡ç®—ï¼Œåˆ™æ³•çº¿å˜æ¢çš„çŸ©é˜µä¸º</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230504214249.png\"></p>\n<h4 id=\"æ¨å¯¼è¿‡ç¨‹\"><a href=\"#æ¨å¯¼è¿‡ç¨‹\" class=\"headerlink\" title=\"æ¨å¯¼è¿‡ç¨‹\"></a>æ¨å¯¼è¿‡ç¨‹</h4><p>æˆ‘ä»¬è®¾Tä¸ºåˆ‡å‘å‘é‡ï¼ŒNä¸ºæ³•çº¿å‘é‡ï¼ŒP2ï¼ŒP1ä¸ºä¸‰è§’å½¢è¾¹ä¸Šçš„æŸä¸¤ä¸ªç‚¹,å¸¦â€™çš„å˜é‡ä¸ºå˜æ¢åçš„åæ ‡</p>\n<p>-&gt; T &#x3D; P2 - P1 </p>\n<p>-&gt; MVT &#x3D; MV(P2-P1)</p>\n<p>-&gt; MVT &#x3D; MVP2 - MVP1</p>\n<p>ä»è€Œå¾—åˆ° Tâ€™ &#x3D; P2â€™ - P1â€™</p>\n<p>å› ä¸ºåˆ‡çº¿å‘é‡å’Œæ³•çº¿å‘é‡æ°¸è¿œå‚ç›´ï¼Œæ‰€ä»¥TN &#x3D; 0<br>è®¾Nâ€™ &#x3D; G * N(Gä¸ºæˆ‘ä»¬è¦è§£å‡ºçš„æ³•çº¿å˜æ¢çŸ©é˜µ)</p>\n<p>-&gt; Nâ€™Tâ€™ &#x3D; (GN)(MVT) &#x3D; 0 </p>\n<p>ç”±äºGNæ—¶åˆ—å‘é‡ï¼Œæ‰€ä»¥åšç‚¹ç§¯æ—¶è¦è½¬ç½®æˆè¡Œå‘é‡</p>\n<p>-&gt; (GN)^è½¬ç½® * (MVT) &#x3D; N^è½¬ç½® G^è½¬ç½® MVT &#x3D; 0</p>\n<p>ä¸ºäº†è®©N^è½¬ç½® *T &#x3D; 0 åˆ™ G^è½¬ç½®MV &#x3D; I(å•ä½çŸ©é˜µ)</p>\n<p>-&gt; G &#x3D; ((MV)^-1)^è½¬ç½®</p>\n<h4 id=\"å‚è€ƒ\"><a href=\"#å‚è€ƒ\" class=\"headerlink\" title=\"å‚è€ƒ\"></a>å‚è€ƒ</h4><p><a href=\"https://zhuanlan.zhihu.com/p/72734738\">æ¸²æŸ“ç®¡çº¿ä¸­çš„æ³•çº¿å˜æ¢çŸ©é˜µ</a></p>\n<h3 id=\"é€è§†çŸ«æ­£æ’å€¼\"><a href=\"#é€è§†çŸ«æ­£æ’å€¼\" class=\"headerlink\" title=\"é€è§†çŸ«æ­£æ’å€¼\"></a>é€è§†çŸ«æ­£æ’å€¼</h3><h4 id=\"åŸå› \"><a href=\"#åŸå› \" class=\"headerlink\" title=\"åŸå› \"></a>åŸå› </h4><p>æˆ‘ä»¬çš„é‡å¿ƒåæ ‡å¾€å¾€éƒ½æ˜¯åœ¨å±å¹•ç©ºé—´ä¸‹å¾—åˆ°çš„ï¼Œå¦‚æœä½¿ç”¨å±å¹•ç©ºé—´ä¸‹çš„é‡å¿ƒåæ ‡è¿›è¡Œæ’å€¼ä¼šé€ æˆä¸€å®šçš„è¯¯å·®ï¼Œä¸åœ¨è§‚å¯Ÿç©ºé—´æ—¶ä¸ä¸€æ ·çš„ã€‚å› ä¸ºåˆ°äº†å±å¹•ç©ºé—´ï¼Œæ’å€¼è¿ç®—å°±ä¸ä¼šè€ƒè™‘è¿‘å¤§è¿œå°äº†ã€‚</p>\n<h4 id=\"æ¨å¯¼\"><a href=\"#æ¨å¯¼\" class=\"headerlink\" title=\"æ¨å¯¼\"></a>æ¨å¯¼</h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230504223959.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230504224109.png\"></p>\n<p>æˆ‘ä»¬å¯¹A,Bç‚¹ç”»xè½´æ–¹å‘çš„çº¿äº¤äºOC</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230504224210.png\"></p>\n<p>æ˜“å¾—(t&#x2F;1-t) &#x3D; AG&#x2F;BK &#x3D; (ac<em>Z1&#x2F;d)&#x2F;(bc</em>Z2&#x2F;d) &#x3D; sZ1&#x2F;(1-m)&#x2F;Z2 ,å¯¹ä¸¤è¾¹ç”¨å€’æ•°è¿›è¡Œå¤„ç†å¾—åˆ°</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230504224358.png\"></p>\n<p>å†å°†è¯¥å¼å­ä»£å…¥(6)å¾—</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230504224429.png\"></p>\n<p>ä¸Šè¿°æ˜¯ä¸¤ä¸ªç‚¹çš„è®¡ç®—ï¼Œæ¨å¹¿åˆ°é‡å¿ƒåæ ‡ï¼Œå¾—</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230504224456.png\"></p>\n<p>ç„¶åè¿›è¡Œæ¨å¹¿åˆ°ä»»æ„å±æ€§ï¼ˆæ³•çº¿å‘é‡ï¼Œçº¹ç†åæ ‡ç­‰ï¼‰</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230504224934.png\"></p>\n<h4 id=\"å‚è€ƒ-1\"><a href=\"#å‚è€ƒ-1\" class=\"headerlink\" title=\"å‚è€ƒ\"></a>å‚è€ƒ</h4><ul>\n<li><a href=\"https://zhuanlan.zhihu.com/p/144331875\">è®¡ç®—æœºå›¾å½¢å­¦å…­ï¼šé€è§†çŸ«æ­£æ’å€¼å’Œå›¾å½¢æ¸²æŸ“ç®¡çº¿æ€»ç»“</a></li>\n<li><a href=\"https://zhuanlan.zhihu.com/p/403259571\">å›¾å½¢å­¦ - å…³äºé€è§†çŸ«æ­£æ’å€¼é‚£äº›äº‹</a></li>\n</ul>\n","site":{"data":{}},"length":896,"excerpt":"","more":"<h3 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h3><p>ç³»ç»Ÿçš„å­¦ä¹ å®Œå›¾å½¢å­¦å‘ç°è¿˜æœ‰ä¸€äº›å°ç»†èŠ‚æœ‰æ‰€ç–æ¼ï¼Œåœ¨æ­¤è®°å½•</p>\n<h3 id=\"å˜æ¢æ³•çº¿å‘é‡\"><a href=\"#å˜æ¢æ³•çº¿å‘é‡\" class=\"headerlink\" title=\"å˜æ¢æ³•çº¿å‘é‡\"></a>å˜æ¢æ³•çº¿å‘é‡</h3><h4 id=\"æ³•çº¿å˜æ¢çŸ©é˜µ\"><a href=\"#æ³•çº¿å˜æ¢çŸ©é˜µ\" class=\"headerlink\" title=\"æ³•çº¿å˜æ¢çŸ©é˜µ\"></a>æ³•çº¿å˜æ¢çŸ©é˜µ</h4><p>ä¸ºäº†è¿›è¡Œå…‰ç…§è®¡ç®—ï¼Œä¸€èˆ¬è¦ä½¿ç”¨åˆ°æ¨¡å‹çš„é¡¶ç‚¹çš„æ³•çº¿è¿›è¡Œè®¡ç®—ã€‚å±€éƒ¨åæ ‡ç»è¿‡çŸ©é˜µMè½¬åŒ–åˆ°ä¸–ç•Œåæ ‡ï¼Œç„¶åå†é€šè¿‡çŸ©é˜µVè½¬åŒ–åˆ°è§‚å¯Ÿç©ºé—´ã€‚åˆ™<strong>è§‚å¯Ÿç©ºé—´çš„é¡¶ç‚¹ä½ç½®åˆ™å˜ä¸ºM<em>V</em>p(é¡¶ç‚¹åæ ‡)ï¼Œè€Œé¡¶ç‚¹æ³•çº¿å´ä¸èƒ½ç›´æ¥ç›´æ¥ç”±M<em>V</em>nï¼ˆé¡¶ç‚¹æ³•çº¿ï¼‰è®¡ç®—</strong>ï¼Œå› ä¸ºæ¨¡å‹å‘ç”Ÿnon-uniformç¼©æ”¾æ—¶ï¼Œç»è¿‡M<em>V</em>nå˜æ¢åçš„æ³•çº¿ä¸åœ¨ä¸æ¨¡å‹è¡¨é¢å‚ç›´ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230504213856.png\"></p>\n<p>ç”¨äºæ³•çº¿å˜æ¢çš„çŸ©é˜µåº”è¯¥æ˜¯ï¼š</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230504214214.png\"></p>\n<p>å¦‚æœæ˜¯åœ¨ä¸–ç•Œåæ ‡ä¸Šè®¡ç®—ï¼Œåˆ™æ³•çº¿å˜æ¢çš„çŸ©é˜µä¸º</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230504214249.png\"></p>\n<h4 id=\"æ¨å¯¼è¿‡ç¨‹\"><a href=\"#æ¨å¯¼è¿‡ç¨‹\" class=\"headerlink\" title=\"æ¨å¯¼è¿‡ç¨‹\"></a>æ¨å¯¼è¿‡ç¨‹</h4><p>æˆ‘ä»¬è®¾Tä¸ºåˆ‡å‘å‘é‡ï¼ŒNä¸ºæ³•çº¿å‘é‡ï¼ŒP2ï¼ŒP1ä¸ºä¸‰è§’å½¢è¾¹ä¸Šçš„æŸä¸¤ä¸ªç‚¹,å¸¦â€™çš„å˜é‡ä¸ºå˜æ¢åçš„åæ ‡</p>\n<p>-&gt; T &#x3D; P2 - P1 </p>\n<p>-&gt; MVT &#x3D; MV(P2-P1)</p>\n<p>-&gt; MVT &#x3D; MVP2 - MVP1</p>\n<p>ä»è€Œå¾—åˆ° Tâ€™ &#x3D; P2â€™ - P1â€™</p>\n<p>å› ä¸ºåˆ‡çº¿å‘é‡å’Œæ³•çº¿å‘é‡æ°¸è¿œå‚ç›´ï¼Œæ‰€ä»¥TN &#x3D; 0<br>è®¾Nâ€™ &#x3D; G * N(Gä¸ºæˆ‘ä»¬è¦è§£å‡ºçš„æ³•çº¿å˜æ¢çŸ©é˜µ)</p>\n<p>-&gt; Nâ€™Tâ€™ &#x3D; (GN)(MVT) &#x3D; 0 </p>\n<p>ç”±äºGNæ—¶åˆ—å‘é‡ï¼Œæ‰€ä»¥åšç‚¹ç§¯æ—¶è¦è½¬ç½®æˆè¡Œå‘é‡</p>\n<p>-&gt; (GN)^è½¬ç½® * (MVT) &#x3D; N^è½¬ç½® G^è½¬ç½® MVT &#x3D; 0</p>\n<p>ä¸ºäº†è®©N^è½¬ç½® *T &#x3D; 0 åˆ™ G^è½¬ç½®MV &#x3D; I(å•ä½çŸ©é˜µ)</p>\n<p>-&gt; G &#x3D; ((MV)^-1)^è½¬ç½®</p>\n<h4 id=\"å‚è€ƒ\"><a href=\"#å‚è€ƒ\" class=\"headerlink\" title=\"å‚è€ƒ\"></a>å‚è€ƒ</h4><p><a href=\"https://zhuanlan.zhihu.com/p/72734738\">æ¸²æŸ“ç®¡çº¿ä¸­çš„æ³•çº¿å˜æ¢çŸ©é˜µ</a></p>\n<h3 id=\"é€è§†çŸ«æ­£æ’å€¼\"><a href=\"#é€è§†çŸ«æ­£æ’å€¼\" class=\"headerlink\" title=\"é€è§†çŸ«æ­£æ’å€¼\"></a>é€è§†çŸ«æ­£æ’å€¼</h3><h4 id=\"åŸå› \"><a href=\"#åŸå› \" class=\"headerlink\" title=\"åŸå› \"></a>åŸå› </h4><p>æˆ‘ä»¬çš„é‡å¿ƒåæ ‡å¾€å¾€éƒ½æ˜¯åœ¨å±å¹•ç©ºé—´ä¸‹å¾—åˆ°çš„ï¼Œå¦‚æœä½¿ç”¨å±å¹•ç©ºé—´ä¸‹çš„é‡å¿ƒåæ ‡è¿›è¡Œæ’å€¼ä¼šé€ æˆä¸€å®šçš„è¯¯å·®ï¼Œä¸åœ¨è§‚å¯Ÿç©ºé—´æ—¶ä¸ä¸€æ ·çš„ã€‚å› ä¸ºåˆ°äº†å±å¹•ç©ºé—´ï¼Œæ’å€¼è¿ç®—å°±ä¸ä¼šè€ƒè™‘è¿‘å¤§è¿œå°äº†ã€‚</p>\n<h4 id=\"æ¨å¯¼\"><a href=\"#æ¨å¯¼\" class=\"headerlink\" title=\"æ¨å¯¼\"></a>æ¨å¯¼</h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230504223959.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230504224109.png\"></p>\n<p>æˆ‘ä»¬å¯¹A,Bç‚¹ç”»xè½´æ–¹å‘çš„çº¿äº¤äºOC</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230504224210.png\"></p>\n<p>æ˜“å¾—(t&#x2F;1-t) &#x3D; AG&#x2F;BK &#x3D; (ac<em>Z1&#x2F;d)&#x2F;(bc</em>Z2&#x2F;d) &#x3D; sZ1&#x2F;(1-m)&#x2F;Z2 ,å¯¹ä¸¤è¾¹ç”¨å€’æ•°è¿›è¡Œå¤„ç†å¾—åˆ°</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230504224358.png\"></p>\n<p>å†å°†è¯¥å¼å­ä»£å…¥(6)å¾—</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230504224429.png\"></p>\n<p>ä¸Šè¿°æ˜¯ä¸¤ä¸ªç‚¹çš„è®¡ç®—ï¼Œæ¨å¹¿åˆ°é‡å¿ƒåæ ‡ï¼Œå¾—</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230504224456.png\"></p>\n<p>ç„¶åè¿›è¡Œæ¨å¹¿åˆ°ä»»æ„å±æ€§ï¼ˆæ³•çº¿å‘é‡ï¼Œçº¹ç†åæ ‡ç­‰ï¼‰</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230504224934.png\"></p>\n<h4 id=\"å‚è€ƒ-1\"><a href=\"#å‚è€ƒ-1\" class=\"headerlink\" title=\"å‚è€ƒ\"></a>å‚è€ƒ</h4><ul>\n<li><a href=\"https://zhuanlan.zhihu.com/p/144331875\">è®¡ç®—æœºå›¾å½¢å­¦å…­ï¼šé€è§†çŸ«æ­£æ’å€¼å’Œå›¾å½¢æ¸²æŸ“ç®¡çº¿æ€»ç»“</a></li>\n<li><a href=\"https://zhuanlan.zhihu.com/p/403259571\">å›¾å½¢å­¦ - å…³äºé€è§†çŸ«æ­£æ’å€¼é‚£äº›äº‹</a></li>\n</ul>\n"},{"title":"å›¾å½¢å­¦ å‡ ä½•å˜æ¢","date":"2023-05-02T05:11:11.000Z","_content":"\n### å‰è¨€\n\næœ€è¿‘åœ¨å¤ä¹ å›¾å½¢å­¦ç†è®ºçŸ¥è¯†ï¼Œé¡ºä¾¿è¡¥ä¸€ä¸‹è®°å½•ï¼Œåœ¨è¿™é‡Œè®°å½•çš„æ˜¯æ¯”è¾ƒå¸¸è§çš„å˜æ¢ï¼Œä¼šæœ‰ä¸€äº›æ¯”è¾ƒå¤æ‚çš„åœ°æ–¹æ²¡æœ‰æ¶‰åŠåˆ°ã€‚åœ¨å›¾å½¢å­¦çš„å˜æ¢ä¸­ï¼Œå¯¹äºæ•°å­¦çš„è¦æ±‚å¹¶ä¸æ˜¯å¾ˆé«˜ï¼Œåªéœ€è¦ä¼šç®€å•çš„çº¿æ€§ä»£æ•°çŸ©é˜µä¹˜æ³•å³å¯ã€‚\n\n### 2Dçº¿æ€§å˜æ¢(Linear Transformation)\n\næˆ‘ä»¬å°†ç‚¹åæ ‡ä»¥å‘é‡ä½œä¸ºè¡¨ç¤ºï¼Œå˜æ¢ä»¥çŸ©é˜µè¡¨ç¤ºã€‚ä¸¤è€…ç›¸ä¹˜å°±æ˜¯ç‚¹ç»è¿‡å˜æ¢åçš„æ–°ä½ç½®\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502132310.png)\n\n#### ç¼©æ”¾å˜æ¢(Scaling)\n\nç¼©æ”¾å˜æ¢å°±æ˜¯åŸåæ ‡ä¹˜ä»¥ä¸€ä¸ªæ•°è¿›è¡Œå˜æ¢,è®¾åŸç‚¹ä¸º(x,y),æ–°ç‚¹ä¸º(sx * x, sy * y),å¯ä»¥å¾ˆå¿«åæ¨å‡ºçŸ©é˜µã€‚\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502132549.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502132346.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502132736.png)\n\n#### å‰ªåˆ‡å˜æ¢(Shearing)\n\nä¸çŸ¥é“è¯¥æ€ä¹ˆç¿»è¯‘ï¼Œåº”è¯¥æ˜¯å°†æ­£æ–¹å½¢å˜å½¢ä¸ºå¹³è¡Œå››è¾¹å½¢çš„æ“ä½œã€‚\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502132842.png)\n\nå‡è®¾åªå¯¹xè¿›è¡Œå˜æ¢ï¼Œè€Œä¸å¯¹yè¿›è¡Œå˜æ¢ï¼Œé‚£ä¹ˆxæ–°åæ ‡å³ä¸º(1+ay)ï¼Œç¨å¾®åæ¨ä¸€ä¸‹ï¼Œè·å–å…³é”®åæ ‡(0,0) (a,1),y æ²¡æœ‰è¿›è¡Œå‰ªåˆ‡å˜æ¢ã€‚\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502133038.png)\n\nå¦ä¸€ç§æ–¹æ³•å¯ä»¥æƒ³ä¸ºshearingåªæ˜¯å¯¹ä¸€ä¸ªè½´è¿›è¡Œæ—‹è½¬ä¸€ä¸ªè§’åº¦\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502133409.png)\n\n#### æ—‹è½¬å˜æ¢(Rotation)\n\n\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502133613.png)\n\nå‡è®¾ç‚¹aåˆ°(0,0)è·ç¦»ä¸ºrï¼Œé‚£ä¹ˆxa = rcosÎ±, ya = rsinÎ±æ‰€ç¤ºï¼Œæˆ‘ä»¬å°†aå‘é‡æ—‹è½¬åˆ°bå‘é‡ï¼Œé‚£ä¹ˆ\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502133738.png)\n\nå°†xa = rcosÎ±, ya = rsinÎ±å¸¦å…¥åå¾—åˆ°\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502133827.png)\n\nç„¶åæˆ‘ä»¬æ¨å‡ºæ—‹è½¬çŸ©é˜µä¸º\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502133856.png)\n\nä»¥ä¸Šæ˜¯é€†æ—¶é’ˆæ—‹è½¬çš„çŸ©é˜µ\n\n#### å¯¹ç§°å˜æ¢(Reflection)\n\nå…¶å®è·Ÿç¼©æ”¾å˜æ¢å·®ä¸å¤š \n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502134045.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502134020.png)\n\n#### å˜æ¢çš„ç»„åˆ\n\nç”±äºçŸ©é˜µä¹˜æ³•ä¸€èˆ¬ä¸æ»¡è¶³äº¤æ¢å¾‹ï¼Œå³ A*B != B*A,æ‰€ä»¥å˜æ¢çš„é¡ºåºæ¯”è¾ƒé‡è¦\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502134249.png)\n\n### 3Dçº¿æ€§å˜æ¢\n\n#### scaling\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502134720.png)\n\n#### rotation\n\næ—‹è½¬è¾ƒäºŒç»´æœ‰æ‰€ä¸åŒï¼Œæˆ‘ä»¬åªéœ€è¦äº†è§£å¯¹åº”ä¸åŒè½´æ—‹è½¬çš„çŸ©é˜µ\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502134828.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502134727.png)\n\n**ç»•ä»»æ„è½´æ—‹è½¬**ï¼šæˆ‘ä»¬åªæœ‰ç»•xï¼Œyï¼Œzæ—‹è½¬çš„æ–¹æ³•ï¼Œæˆ‘ä»¬å°†è½´ç»™æ—‹è½¬åˆ°x/y/zä¸Šï¼Œç„¶åå†åº”ç”¨æ ‡å‡†æ—‹è½¬çŸ©é˜µï¼Œæœ€åå°†è½´é€†æ—‹è½¬å›åˆ°åŸå…ˆçš„åœ°æ–¹å°±å®Œæˆäº†\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502153826.png)\n\næ¥ä¸‹æ¥æˆ‘ä»¬å°è¯•å°†å°†u v w(å·²çŸ¥uï¼Œä»»å–tæ–¹å‘ä¸uç»„æˆå¹³é¢ï¼Œåˆ©ç”¨å‰ä¹˜ç‰¹æ€§å¾—åˆ°v w) å¯¹åº”åˆ° x y z \n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502154126.png)\n\n### ä»¿å°„å˜æ¢(affine transformation)\n\nå‰é¢ä¸€ç›´åœ¨è®¨è®ºçº¿æ€§å˜æ¢ï¼Œä¹Ÿå°±æ˜¯ä¾æ®åŸç‚¹(0,0)è¿›è¡Œå˜æ¢ï¼Œå¦‚æœæˆ‘ä»¬åŠ ä¸Šä½ç½®å˜æ¢(Translation)å°±ä¼šè®©ä¹‹å‰çš„æ‰€æœ‰çŸ©é˜µéƒ½ä¸æˆç«‹ã€‚ä¸ºäº†ç›¸åŒï¼Œæˆ‘ä»¬å¢åŠ ä¸€ç»´ï¼Œè®©(x,y) -> (x,y,1) è¿™æ ·å­å½“ x' = m11x + m12y + xtæ—¶ï¼Œå°±ä¸ä¼šæ‰“ä¹±ä¹‹å‰çš„çº¿æ€§å˜æ¢çŸ©é˜µã€‚\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502142043.png)\n\nè¿™æ ·å­çš„å‘é‡æ˜¯ä¸æ˜¯å¾ˆç†Ÿæ‚‰ï¼Œä¹Ÿå°±æ˜¯é½æ¬¡åæ ‡ï¼Œæœ€åä¸€ç»´ä¸º1æ˜¯ä¸€ä¸ªåæ ‡ï¼Œä¸º0æ—¶æ˜¯ä¸€ä¸ªå‘é‡ï¼Œå¯¹äºå…¶ä»–æ•°å­—ï¼Œæˆ‘ä»¬è¦å°†åæ ‡è¿›è¡Œå½’ä¸€åŒ–ï¼Œä¹Ÿå°±æ˜¯(x,y,w) -> (x/w,y/w,1)\n\nåœ¨ä¸‰ç»´çŠ¶æ€ä¸‹ä¹Ÿæ˜¯å¦‚æ­¤\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502142647.png)\n\n### è§†å›¾å˜æ¢(Viewing Transformation)\n\nåœ¨ä¹‹å‰çš„å˜æ¢ï¼Œæˆ‘ä»¬è®¨è®ºäº†å¦‚ä½•å˜æ¢ç‚¹çš„ä½ç½®ã€‚ç°åœ¨æˆ‘ä»¬è¦å°†ç°å®ä¸–ç•Œä¸­çš„ç‚¹æŠ•å½±åœ¨å±å¹•ä¸Šï¼Œæˆ‘ä»¬å°†è¦ç»å†ä¸‰æ­¥\n\n- æ‘„åƒæœºå˜æ¢(eye/camera transformation) : è°ƒæ•´æ‘„åƒæœºä½ç½®ï¼Œæ—‹è½¬è§’åº¦ï¼Œä¹Ÿå°±æ˜¯å¾—åˆ°**ç‰©ä½“ä¸æ‘„åƒæœºçš„ç›¸å¯¹ä½ç½®**\n- æŠ•å½±å˜æ¢(projection transformation) : æ‘„åƒæœºå˜æ¢åï¼Œå¾—åˆ°å¯è§†èŒƒå›´ç‰©ä½“å¯¹äºæ‘„åƒæœºçš„ç›¸å¯¹åæ ‡ï¼Œä¹‹åæ ¹æ®æƒ…å†µé€‰æ‹©å¹³è¡ŒæŠ•å½±æˆ–è€…é€è§†å¤´å‹ï¼Œå°†**ä¸‰ç»´ç©ºé—´æŠ•å½±è‡³æ ‡å‡†äºŒç»´å¹³é¢**[-1,1]^2\n- è§†å£å˜æ¢(viewport transformatino) ï¼š å°†[-1,1]^2 -> [0,width]*[0,height],ä¹Ÿå°±æ˜¯**å°†æ ‡å‡†å¹³é¢æ˜ å°„åˆ°å±å¹•åˆ†è¾¨ç‡èŒƒå›´ä¸Š**\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502143533.png)\n\n#### è§†å£å˜æ¢\n\nå…ˆä»è§†å£å˜æ¢å…¥æ‰‹ï¼Œè§†å£å˜æ¢æ˜¯æœ€ç®€å•ä¹Ÿæ˜¯æœ€å®¹æ˜“ç†è§£çš„çŸ©é˜µï¼Œå°†-1 -> 0 ,1 - > width/height ä¹Ÿå°±æ˜¯ç®€å•çš„ç¼©æ”¾å˜æ¢ï¼Œç„¶åä¸ºäº†ä¿æŒåŸç‚¹åœ¨å±å¹•ä¸­é—´ï¼Œå¤šäº†ä¸€æ­¥Translation\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502150436.png)\n\n#### æ­£äº¤ï¼ˆOrthographicï¼‰æŠ•å½±å˜æ¢\n\næ­£äº¤æŠ•å½±ä¹Ÿæ˜¯ç®€å•çš„ç¼©æ”¾å˜æ¢å’Œä½ç§»ï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ªåŒ…å›´ç›’å›´ä½ç‰©ä½“ï¼Œè¦æ³¨æ„çš„æ˜¯åœ¨è¿™é‡Œï¼Œn > fï¼Œå› ä¸ºæˆ‘ä»¬æ˜¯ä»-zå¾€ç‰©ä½“ä¸Šçœ‹çš„\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502151041.png)\n\nç”±äºæ˜¯ç©ºé—´çš„å˜æ¢ï¼Œå®¹æ˜“å¾—åˆ°ä»¥ä¸‹çŸ©é˜µ\nè¯æ˜è¿‡ç¨‹ï¼Œå…ˆä¸¾ä¸€ä¸ªäºŒç»´çš„ä¾‹å­ï¼š\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502151452.png)\n\nå¯ä»¥å‘ç°åˆ†ä¸‰æ­¥èµ°ï¼ŒTranslateï¼ˆç§»åŠ¨åˆ°åŸç‚¹ï¼‰->Scaleï¼ˆè¿›è¡Œç¼©æ”¾å˜åŒ–ï¼‰->Translateï¼ˆç§»åŠ¨åˆ°å¯¹åº”çš„ä½ç½®ï¼‰\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502151648.png)\n\næ¨å¹¿åˆ°ä¸‰ç»´\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502151707.png)\n\nå°†[l, r] [t, b] [n, f] å’Œ [-1, 1]^3 ä»£å…¥å¾—æ­£äº¤çŸ©é˜µ\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502151125.png)\n\n#### æ‘„åƒæœºå˜æ¢\n\nè™½ç„¶è¯´æ˜¯æ‘„åƒæœºå˜æ¢ï¼Œä½†å…¶å®æ˜¯è°ƒæ•´ç‰©ä½“çš„ä½ç½®ï¼Œå°†æ‘„åƒæœºçš„åæ ‡è½´å¯¹åº”åˆ°åŸä¸–ç•Œçš„xï¼Œyï¼Œzå°±è¡Œäº†ï¼Œé—®é¢˜å°±å˜æˆäº†å°†cameraçš„åæ ‡ç³»å˜åˆ°ä¸åŸä¸–ç•Œåæ ‡ç³»é‡åˆ\n\næˆ‘ä»¬å…ˆå®šä¹‰æ‘„åƒæœºçš„ä¸‰ä¸ªå±æ€§\n\n- e(eye position) : æ‘„åƒæœºä½ç½®\n- g(gaze direction) : æ‘„åƒæœºæœå‘çš„è§’åº¦\n- t(view-up vector) : æ‘„åƒæœºæœå‘è§’åº¦çš„æ­£ä¸Šæ–¹å‘ï¼Œä¹Ÿå°±æ˜¯ä¸ºäº†gï¼Œtç»„æˆä¸€ä¸ªå¹³é¢\n\nç„¶åæˆ‘ä»¬å¾—åˆ°æ‘„åƒæœºåæ ‡ç³»\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502153229.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502153251.png)\n\næˆ‘ä»¬å°†æ‘„åƒæœºå˜æ¢åˆ†æˆä¸¤æ­¥\n\n- ç§»åŠ¨åˆ°åŸç‚¹\n- é€šè¿‡æ—‹è½¬çŸ©é˜µå°†äºŒè€…åæ ‡ç³»é‡åˆ\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502153514.png)\n\n#### é€è§†æŠ•å½±å˜æ¢\n\né€è§†å˜æ¢å°±æ˜¯å°†åŸæœ¬çš„åŒ…å›´ç›’å˜æˆä¸€ä¸ªå…·æœ‰è¿‘å¤§è¿œå°å±æ€§çš„é”¥å½¢ç›’å­\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502154621.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502154602.png)\n\næˆ‘ä»¬å®¹æ˜“å¾—åˆ°ä»¥ä¸‹å¯¹åº”å…³ç³»ï¼Œä½†æ˜¯ç¬¬ä¸‰è¡Œå¦‚ä½•å¾—å‡ºï¼Œåˆ©ç”¨è¿‘å¹³é¢å’Œè¿œå¹³é¢çš„zåæ ‡ä¸å˜çš„æ€§è´¨è¿›è¡Œä»£å…¥\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502154855.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502155145.png)\n\nç°åœ¨æˆ‘ä»¬å·²ç»å¾—åˆ°äº†åŒ…å›´ç›’å˜ä¸ºé”¥å½¢ç›’å­çš„çŸ©é˜µ P\nå¯ä»¥å¾ˆå¿«å¾—åˆ°ä¸€ä¸ªç­‰å¼ **Mper = Morth * P** \nä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬å…ˆå°†åŒ…å›´ç›’å˜æˆ [-1,1] ^ 2 çš„ï¼Œç„¶ååœ¨è¿™ä¸ª[-1,1] ^ 2çš„å°æ­£æ–¹ä½“è¿›è¡Œé€è§†å˜æ¢ï¼Œè¿™ä¸å…ˆå˜ä¸ºé”¥å½¢ç›’å­å†å‹ç¼©åˆ°[-1,1] ^ 2æ˜¯ä¸€æ ·çš„,å¾—å‡ºä»¥ä¸‹çŸ©é˜µ\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502155553.png)\n\n#### ç®€çŸ­çš„æ€»ç»“\n\næˆ‘ä»¬åœ¨ç»å†è¿‡ä¸Šè¿°è®¡ç®—åï¼Œå¯ä»¥å¾—å‡ºç°å®ä¸–ç•Œåˆ°å±å¹•ä¸Šçš„çŸ©é˜µå˜æ¢ M = Mview * Mper * Mcam * Mmodel\n\n### å‚è€ƒ\n\n- Fundamentals of Computer Graphics 4th ç¬¬å…­ç« ç¬¬ä¸ƒç« \n- GAMES101-ç°ä»£è®¡ç®—æœºå›¾å½¢å­¦å…¥é—¨-é—«ä»¤çª å˜æ¢éƒ¨åˆ†\n- [è®¡ç®—æœºå›¾å½¢å­¦äºŒï¼šè§†å›¾å˜æ¢(åæ ‡ç³»è½¬åŒ–ï¼Œæ­£äº¤æŠ•å½±ï¼Œé€è§†æŠ•å½±ï¼Œè§†å£å˜æ¢)](https://zhuanlan.zhihu.com/p/144329075)","source":"_posts/å›¾å½¢å­¦-å‡ ä½•å˜æ¢.md","raw":"---\ntitle: å›¾å½¢å­¦ å‡ ä½•å˜æ¢\ndate: 2023-05-02 13:11:11\n---\n\n### å‰è¨€\n\næœ€è¿‘åœ¨å¤ä¹ å›¾å½¢å­¦ç†è®ºçŸ¥è¯†ï¼Œé¡ºä¾¿è¡¥ä¸€ä¸‹è®°å½•ï¼Œåœ¨è¿™é‡Œè®°å½•çš„æ˜¯æ¯”è¾ƒå¸¸è§çš„å˜æ¢ï¼Œä¼šæœ‰ä¸€äº›æ¯”è¾ƒå¤æ‚çš„åœ°æ–¹æ²¡æœ‰æ¶‰åŠåˆ°ã€‚åœ¨å›¾å½¢å­¦çš„å˜æ¢ä¸­ï¼Œå¯¹äºæ•°å­¦çš„è¦æ±‚å¹¶ä¸æ˜¯å¾ˆé«˜ï¼Œåªéœ€è¦ä¼šç®€å•çš„çº¿æ€§ä»£æ•°çŸ©é˜µä¹˜æ³•å³å¯ã€‚\n\n### 2Dçº¿æ€§å˜æ¢(Linear Transformation)\n\næˆ‘ä»¬å°†ç‚¹åæ ‡ä»¥å‘é‡ä½œä¸ºè¡¨ç¤ºï¼Œå˜æ¢ä»¥çŸ©é˜µè¡¨ç¤ºã€‚ä¸¤è€…ç›¸ä¹˜å°±æ˜¯ç‚¹ç»è¿‡å˜æ¢åçš„æ–°ä½ç½®\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502132310.png)\n\n#### ç¼©æ”¾å˜æ¢(Scaling)\n\nç¼©æ”¾å˜æ¢å°±æ˜¯åŸåæ ‡ä¹˜ä»¥ä¸€ä¸ªæ•°è¿›è¡Œå˜æ¢,è®¾åŸç‚¹ä¸º(x,y),æ–°ç‚¹ä¸º(sx * x, sy * y),å¯ä»¥å¾ˆå¿«åæ¨å‡ºçŸ©é˜µã€‚\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502132549.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502132346.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502132736.png)\n\n#### å‰ªåˆ‡å˜æ¢(Shearing)\n\nä¸çŸ¥é“è¯¥æ€ä¹ˆç¿»è¯‘ï¼Œåº”è¯¥æ˜¯å°†æ­£æ–¹å½¢å˜å½¢ä¸ºå¹³è¡Œå››è¾¹å½¢çš„æ“ä½œã€‚\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502132842.png)\n\nå‡è®¾åªå¯¹xè¿›è¡Œå˜æ¢ï¼Œè€Œä¸å¯¹yè¿›è¡Œå˜æ¢ï¼Œé‚£ä¹ˆxæ–°åæ ‡å³ä¸º(1+ay)ï¼Œç¨å¾®åæ¨ä¸€ä¸‹ï¼Œè·å–å…³é”®åæ ‡(0,0) (a,1),y æ²¡æœ‰è¿›è¡Œå‰ªåˆ‡å˜æ¢ã€‚\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502133038.png)\n\nå¦ä¸€ç§æ–¹æ³•å¯ä»¥æƒ³ä¸ºshearingåªæ˜¯å¯¹ä¸€ä¸ªè½´è¿›è¡Œæ—‹è½¬ä¸€ä¸ªè§’åº¦\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502133409.png)\n\n#### æ—‹è½¬å˜æ¢(Rotation)\n\n\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502133613.png)\n\nå‡è®¾ç‚¹aåˆ°(0,0)è·ç¦»ä¸ºrï¼Œé‚£ä¹ˆxa = rcosÎ±, ya = rsinÎ±æ‰€ç¤ºï¼Œæˆ‘ä»¬å°†aå‘é‡æ—‹è½¬åˆ°bå‘é‡ï¼Œé‚£ä¹ˆ\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502133738.png)\n\nå°†xa = rcosÎ±, ya = rsinÎ±å¸¦å…¥åå¾—åˆ°\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502133827.png)\n\nç„¶åæˆ‘ä»¬æ¨å‡ºæ—‹è½¬çŸ©é˜µä¸º\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502133856.png)\n\nä»¥ä¸Šæ˜¯é€†æ—¶é’ˆæ—‹è½¬çš„çŸ©é˜µ\n\n#### å¯¹ç§°å˜æ¢(Reflection)\n\nå…¶å®è·Ÿç¼©æ”¾å˜æ¢å·®ä¸å¤š \n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502134045.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502134020.png)\n\n#### å˜æ¢çš„ç»„åˆ\n\nç”±äºçŸ©é˜µä¹˜æ³•ä¸€èˆ¬ä¸æ»¡è¶³äº¤æ¢å¾‹ï¼Œå³ A*B != B*A,æ‰€ä»¥å˜æ¢çš„é¡ºåºæ¯”è¾ƒé‡è¦\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502134249.png)\n\n### 3Dçº¿æ€§å˜æ¢\n\n#### scaling\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502134720.png)\n\n#### rotation\n\næ—‹è½¬è¾ƒäºŒç»´æœ‰æ‰€ä¸åŒï¼Œæˆ‘ä»¬åªéœ€è¦äº†è§£å¯¹åº”ä¸åŒè½´æ—‹è½¬çš„çŸ©é˜µ\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502134828.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502134727.png)\n\n**ç»•ä»»æ„è½´æ—‹è½¬**ï¼šæˆ‘ä»¬åªæœ‰ç»•xï¼Œyï¼Œzæ—‹è½¬çš„æ–¹æ³•ï¼Œæˆ‘ä»¬å°†è½´ç»™æ—‹è½¬åˆ°x/y/zä¸Šï¼Œç„¶åå†åº”ç”¨æ ‡å‡†æ—‹è½¬çŸ©é˜µï¼Œæœ€åå°†è½´é€†æ—‹è½¬å›åˆ°åŸå…ˆçš„åœ°æ–¹å°±å®Œæˆäº†\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502153826.png)\n\næ¥ä¸‹æ¥æˆ‘ä»¬å°è¯•å°†å°†u v w(å·²çŸ¥uï¼Œä»»å–tæ–¹å‘ä¸uç»„æˆå¹³é¢ï¼Œåˆ©ç”¨å‰ä¹˜ç‰¹æ€§å¾—åˆ°v w) å¯¹åº”åˆ° x y z \n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502154126.png)\n\n### ä»¿å°„å˜æ¢(affine transformation)\n\nå‰é¢ä¸€ç›´åœ¨è®¨è®ºçº¿æ€§å˜æ¢ï¼Œä¹Ÿå°±æ˜¯ä¾æ®åŸç‚¹(0,0)è¿›è¡Œå˜æ¢ï¼Œå¦‚æœæˆ‘ä»¬åŠ ä¸Šä½ç½®å˜æ¢(Translation)å°±ä¼šè®©ä¹‹å‰çš„æ‰€æœ‰çŸ©é˜µéƒ½ä¸æˆç«‹ã€‚ä¸ºäº†ç›¸åŒï¼Œæˆ‘ä»¬å¢åŠ ä¸€ç»´ï¼Œè®©(x,y) -> (x,y,1) è¿™æ ·å­å½“ x' = m11x + m12y + xtæ—¶ï¼Œå°±ä¸ä¼šæ‰“ä¹±ä¹‹å‰çš„çº¿æ€§å˜æ¢çŸ©é˜µã€‚\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502142043.png)\n\nè¿™æ ·å­çš„å‘é‡æ˜¯ä¸æ˜¯å¾ˆç†Ÿæ‚‰ï¼Œä¹Ÿå°±æ˜¯é½æ¬¡åæ ‡ï¼Œæœ€åä¸€ç»´ä¸º1æ˜¯ä¸€ä¸ªåæ ‡ï¼Œä¸º0æ—¶æ˜¯ä¸€ä¸ªå‘é‡ï¼Œå¯¹äºå…¶ä»–æ•°å­—ï¼Œæˆ‘ä»¬è¦å°†åæ ‡è¿›è¡Œå½’ä¸€åŒ–ï¼Œä¹Ÿå°±æ˜¯(x,y,w) -> (x/w,y/w,1)\n\nåœ¨ä¸‰ç»´çŠ¶æ€ä¸‹ä¹Ÿæ˜¯å¦‚æ­¤\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502142647.png)\n\n### è§†å›¾å˜æ¢(Viewing Transformation)\n\nåœ¨ä¹‹å‰çš„å˜æ¢ï¼Œæˆ‘ä»¬è®¨è®ºäº†å¦‚ä½•å˜æ¢ç‚¹çš„ä½ç½®ã€‚ç°åœ¨æˆ‘ä»¬è¦å°†ç°å®ä¸–ç•Œä¸­çš„ç‚¹æŠ•å½±åœ¨å±å¹•ä¸Šï¼Œæˆ‘ä»¬å°†è¦ç»å†ä¸‰æ­¥\n\n- æ‘„åƒæœºå˜æ¢(eye/camera transformation) : è°ƒæ•´æ‘„åƒæœºä½ç½®ï¼Œæ—‹è½¬è§’åº¦ï¼Œä¹Ÿå°±æ˜¯å¾—åˆ°**ç‰©ä½“ä¸æ‘„åƒæœºçš„ç›¸å¯¹ä½ç½®**\n- æŠ•å½±å˜æ¢(projection transformation) : æ‘„åƒæœºå˜æ¢åï¼Œå¾—åˆ°å¯è§†èŒƒå›´ç‰©ä½“å¯¹äºæ‘„åƒæœºçš„ç›¸å¯¹åæ ‡ï¼Œä¹‹åæ ¹æ®æƒ…å†µé€‰æ‹©å¹³è¡ŒæŠ•å½±æˆ–è€…é€è§†å¤´å‹ï¼Œå°†**ä¸‰ç»´ç©ºé—´æŠ•å½±è‡³æ ‡å‡†äºŒç»´å¹³é¢**[-1,1]^2\n- è§†å£å˜æ¢(viewport transformatino) ï¼š å°†[-1,1]^2 -> [0,width]*[0,height],ä¹Ÿå°±æ˜¯**å°†æ ‡å‡†å¹³é¢æ˜ å°„åˆ°å±å¹•åˆ†è¾¨ç‡èŒƒå›´ä¸Š**\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502143533.png)\n\n#### è§†å£å˜æ¢\n\nå…ˆä»è§†å£å˜æ¢å…¥æ‰‹ï¼Œè§†å£å˜æ¢æ˜¯æœ€ç®€å•ä¹Ÿæ˜¯æœ€å®¹æ˜“ç†è§£çš„çŸ©é˜µï¼Œå°†-1 -> 0 ,1 - > width/height ä¹Ÿå°±æ˜¯ç®€å•çš„ç¼©æ”¾å˜æ¢ï¼Œç„¶åä¸ºäº†ä¿æŒåŸç‚¹åœ¨å±å¹•ä¸­é—´ï¼Œå¤šäº†ä¸€æ­¥Translation\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502150436.png)\n\n#### æ­£äº¤ï¼ˆOrthographicï¼‰æŠ•å½±å˜æ¢\n\næ­£äº¤æŠ•å½±ä¹Ÿæ˜¯ç®€å•çš„ç¼©æ”¾å˜æ¢å’Œä½ç§»ï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ªåŒ…å›´ç›’å›´ä½ç‰©ä½“ï¼Œè¦æ³¨æ„çš„æ˜¯åœ¨è¿™é‡Œï¼Œn > fï¼Œå› ä¸ºæˆ‘ä»¬æ˜¯ä»-zå¾€ç‰©ä½“ä¸Šçœ‹çš„\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502151041.png)\n\nç”±äºæ˜¯ç©ºé—´çš„å˜æ¢ï¼Œå®¹æ˜“å¾—åˆ°ä»¥ä¸‹çŸ©é˜µ\nè¯æ˜è¿‡ç¨‹ï¼Œå…ˆä¸¾ä¸€ä¸ªäºŒç»´çš„ä¾‹å­ï¼š\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502151452.png)\n\nå¯ä»¥å‘ç°åˆ†ä¸‰æ­¥èµ°ï¼ŒTranslateï¼ˆç§»åŠ¨åˆ°åŸç‚¹ï¼‰->Scaleï¼ˆè¿›è¡Œç¼©æ”¾å˜åŒ–ï¼‰->Translateï¼ˆç§»åŠ¨åˆ°å¯¹åº”çš„ä½ç½®ï¼‰\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502151648.png)\n\næ¨å¹¿åˆ°ä¸‰ç»´\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502151707.png)\n\nå°†[l, r] [t, b] [n, f] å’Œ [-1, 1]^3 ä»£å…¥å¾—æ­£äº¤çŸ©é˜µ\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502151125.png)\n\n#### æ‘„åƒæœºå˜æ¢\n\nè™½ç„¶è¯´æ˜¯æ‘„åƒæœºå˜æ¢ï¼Œä½†å…¶å®æ˜¯è°ƒæ•´ç‰©ä½“çš„ä½ç½®ï¼Œå°†æ‘„åƒæœºçš„åæ ‡è½´å¯¹åº”åˆ°åŸä¸–ç•Œçš„xï¼Œyï¼Œzå°±è¡Œäº†ï¼Œé—®é¢˜å°±å˜æˆäº†å°†cameraçš„åæ ‡ç³»å˜åˆ°ä¸åŸä¸–ç•Œåæ ‡ç³»é‡åˆ\n\næˆ‘ä»¬å…ˆå®šä¹‰æ‘„åƒæœºçš„ä¸‰ä¸ªå±æ€§\n\n- e(eye position) : æ‘„åƒæœºä½ç½®\n- g(gaze direction) : æ‘„åƒæœºæœå‘çš„è§’åº¦\n- t(view-up vector) : æ‘„åƒæœºæœå‘è§’åº¦çš„æ­£ä¸Šæ–¹å‘ï¼Œä¹Ÿå°±æ˜¯ä¸ºäº†gï¼Œtç»„æˆä¸€ä¸ªå¹³é¢\n\nç„¶åæˆ‘ä»¬å¾—åˆ°æ‘„åƒæœºåæ ‡ç³»\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502153229.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502153251.png)\n\næˆ‘ä»¬å°†æ‘„åƒæœºå˜æ¢åˆ†æˆä¸¤æ­¥\n\n- ç§»åŠ¨åˆ°åŸç‚¹\n- é€šè¿‡æ—‹è½¬çŸ©é˜µå°†äºŒè€…åæ ‡ç³»é‡åˆ\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502153514.png)\n\n#### é€è§†æŠ•å½±å˜æ¢\n\né€è§†å˜æ¢å°±æ˜¯å°†åŸæœ¬çš„åŒ…å›´ç›’å˜æˆä¸€ä¸ªå…·æœ‰è¿‘å¤§è¿œå°å±æ€§çš„é”¥å½¢ç›’å­\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502154621.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502154602.png)\n\næˆ‘ä»¬å®¹æ˜“å¾—åˆ°ä»¥ä¸‹å¯¹åº”å…³ç³»ï¼Œä½†æ˜¯ç¬¬ä¸‰è¡Œå¦‚ä½•å¾—å‡ºï¼Œåˆ©ç”¨è¿‘å¹³é¢å’Œè¿œå¹³é¢çš„zåæ ‡ä¸å˜çš„æ€§è´¨è¿›è¡Œä»£å…¥\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502154855.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502155145.png)\n\nç°åœ¨æˆ‘ä»¬å·²ç»å¾—åˆ°äº†åŒ…å›´ç›’å˜ä¸ºé”¥å½¢ç›’å­çš„çŸ©é˜µ P\nå¯ä»¥å¾ˆå¿«å¾—åˆ°ä¸€ä¸ªç­‰å¼ **Mper = Morth * P** \nä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬å…ˆå°†åŒ…å›´ç›’å˜æˆ [-1,1] ^ 2 çš„ï¼Œç„¶ååœ¨è¿™ä¸ª[-1,1] ^ 2çš„å°æ­£æ–¹ä½“è¿›è¡Œé€è§†å˜æ¢ï¼Œè¿™ä¸å…ˆå˜ä¸ºé”¥å½¢ç›’å­å†å‹ç¼©åˆ°[-1,1] ^ 2æ˜¯ä¸€æ ·çš„,å¾—å‡ºä»¥ä¸‹çŸ©é˜µ\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502155553.png)\n\n#### ç®€çŸ­çš„æ€»ç»“\n\næˆ‘ä»¬åœ¨ç»å†è¿‡ä¸Šè¿°è®¡ç®—åï¼Œå¯ä»¥å¾—å‡ºç°å®ä¸–ç•Œåˆ°å±å¹•ä¸Šçš„çŸ©é˜µå˜æ¢ M = Mview * Mper * Mcam * Mmodel\n\n### å‚è€ƒ\n\n- Fundamentals of Computer Graphics 4th ç¬¬å…­ç« ç¬¬ä¸ƒç« \n- GAMES101-ç°ä»£è®¡ç®—æœºå›¾å½¢å­¦å…¥é—¨-é—«ä»¤çª å˜æ¢éƒ¨åˆ†\n- [è®¡ç®—æœºå›¾å½¢å­¦äºŒï¼šè§†å›¾å˜æ¢(åæ ‡ç³»è½¬åŒ–ï¼Œæ­£äº¤æŠ•å½±ï¼Œé€è§†æŠ•å½±ï¼Œè§†å£å˜æ¢)](https://zhuanlan.zhihu.com/p/144329075)","slug":"å›¾å½¢å­¦-å‡ ä½•å˜æ¢","published":1,"updated":"2024-01-07T07:45:35.789Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clr4d2ju5000egwv04x4k34c7","content":"<h3 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h3><p>æœ€è¿‘åœ¨å¤ä¹ å›¾å½¢å­¦ç†è®ºçŸ¥è¯†ï¼Œé¡ºä¾¿è¡¥ä¸€ä¸‹è®°å½•ï¼Œåœ¨è¿™é‡Œè®°å½•çš„æ˜¯æ¯”è¾ƒå¸¸è§çš„å˜æ¢ï¼Œä¼šæœ‰ä¸€äº›æ¯”è¾ƒå¤æ‚çš„åœ°æ–¹æ²¡æœ‰æ¶‰åŠåˆ°ã€‚åœ¨å›¾å½¢å­¦çš„å˜æ¢ä¸­ï¼Œå¯¹äºæ•°å­¦çš„è¦æ±‚å¹¶ä¸æ˜¯å¾ˆé«˜ï¼Œåªéœ€è¦ä¼šç®€å•çš„çº¿æ€§ä»£æ•°çŸ©é˜µä¹˜æ³•å³å¯ã€‚</p>\n<h3 id=\"2Dçº¿æ€§å˜æ¢-Linear-Transformation\"><a href=\"#2Dçº¿æ€§å˜æ¢-Linear-Transformation\" class=\"headerlink\" title=\"2Dçº¿æ€§å˜æ¢(Linear Transformation)\"></a>2Dçº¿æ€§å˜æ¢(Linear Transformation)</h3><p>æˆ‘ä»¬å°†ç‚¹åæ ‡ä»¥å‘é‡ä½œä¸ºè¡¨ç¤ºï¼Œå˜æ¢ä»¥çŸ©é˜µè¡¨ç¤ºã€‚ä¸¤è€…ç›¸ä¹˜å°±æ˜¯ç‚¹ç»è¿‡å˜æ¢åçš„æ–°ä½ç½®</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502132310.png\"></p>\n<h4 id=\"ç¼©æ”¾å˜æ¢-Scaling\"><a href=\"#ç¼©æ”¾å˜æ¢-Scaling\" class=\"headerlink\" title=\"ç¼©æ”¾å˜æ¢(Scaling)\"></a>ç¼©æ”¾å˜æ¢(Scaling)</h4><p>ç¼©æ”¾å˜æ¢å°±æ˜¯åŸåæ ‡ä¹˜ä»¥ä¸€ä¸ªæ•°è¿›è¡Œå˜æ¢,è®¾åŸç‚¹ä¸º(x,y),æ–°ç‚¹ä¸º(sx * x, sy * y),å¯ä»¥å¾ˆå¿«åæ¨å‡ºçŸ©é˜µã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502132549.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502132346.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502132736.png\"></p>\n<h4 id=\"å‰ªåˆ‡å˜æ¢-Shearing\"><a href=\"#å‰ªåˆ‡å˜æ¢-Shearing\" class=\"headerlink\" title=\"å‰ªåˆ‡å˜æ¢(Shearing)\"></a>å‰ªåˆ‡å˜æ¢(Shearing)</h4><p>ä¸çŸ¥é“è¯¥æ€ä¹ˆç¿»è¯‘ï¼Œåº”è¯¥æ˜¯å°†æ­£æ–¹å½¢å˜å½¢ä¸ºå¹³è¡Œå››è¾¹å½¢çš„æ“ä½œã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502132842.png\"></p>\n<p>å‡è®¾åªå¯¹xè¿›è¡Œå˜æ¢ï¼Œè€Œä¸å¯¹yè¿›è¡Œå˜æ¢ï¼Œé‚£ä¹ˆxæ–°åæ ‡å³ä¸º(1+ay)ï¼Œç¨å¾®åæ¨ä¸€ä¸‹ï¼Œè·å–å…³é”®åæ ‡(0,0) (a,1),y æ²¡æœ‰è¿›è¡Œå‰ªåˆ‡å˜æ¢ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502133038.png\"></p>\n<p>å¦ä¸€ç§æ–¹æ³•å¯ä»¥æƒ³ä¸ºshearingåªæ˜¯å¯¹ä¸€ä¸ªè½´è¿›è¡Œæ—‹è½¬ä¸€ä¸ªè§’åº¦</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502133409.png\"></p>\n<h4 id=\"æ—‹è½¬å˜æ¢-Rotation\"><a href=\"#æ—‹è½¬å˜æ¢-Rotation\" class=\"headerlink\" title=\"æ—‹è½¬å˜æ¢(Rotation)\"></a>æ—‹è½¬å˜æ¢(Rotation)</h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502133613.png\"></p>\n<p>å‡è®¾ç‚¹aåˆ°(0,0)è·ç¦»ä¸ºrï¼Œé‚£ä¹ˆxa &#x3D; rcosÎ±, ya &#x3D; rsinÎ±æ‰€ç¤ºï¼Œæˆ‘ä»¬å°†aå‘é‡æ—‹è½¬åˆ°bå‘é‡ï¼Œé‚£ä¹ˆ</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502133738.png\"></p>\n<p>å°†xa &#x3D; rcosÎ±, ya &#x3D; rsinÎ±å¸¦å…¥åå¾—åˆ°</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502133827.png\"></p>\n<p>ç„¶åæˆ‘ä»¬æ¨å‡ºæ—‹è½¬çŸ©é˜µä¸º</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502133856.png\"></p>\n<p>ä»¥ä¸Šæ˜¯é€†æ—¶é’ˆæ—‹è½¬çš„çŸ©é˜µ</p>\n<h4 id=\"å¯¹ç§°å˜æ¢-Reflection\"><a href=\"#å¯¹ç§°å˜æ¢-Reflection\" class=\"headerlink\" title=\"å¯¹ç§°å˜æ¢(Reflection)\"></a>å¯¹ç§°å˜æ¢(Reflection)</h4><p>å…¶å®è·Ÿç¼©æ”¾å˜æ¢å·®ä¸å¤š </p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502134045.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502134020.png\"></p>\n<h4 id=\"å˜æ¢çš„ç»„åˆ\"><a href=\"#å˜æ¢çš„ç»„åˆ\" class=\"headerlink\" title=\"å˜æ¢çš„ç»„åˆ\"></a>å˜æ¢çš„ç»„åˆ</h4><p>ç”±äºçŸ©é˜µä¹˜æ³•ä¸€èˆ¬ä¸æ»¡è¶³äº¤æ¢å¾‹ï¼Œå³ A<em>B !&#x3D; B</em>A,æ‰€ä»¥å˜æ¢çš„é¡ºåºæ¯”è¾ƒé‡è¦</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502134249.png\"></p>\n<h3 id=\"3Dçº¿æ€§å˜æ¢\"><a href=\"#3Dçº¿æ€§å˜æ¢\" class=\"headerlink\" title=\"3Dçº¿æ€§å˜æ¢\"></a>3Dçº¿æ€§å˜æ¢</h3><h4 id=\"scaling\"><a href=\"#scaling\" class=\"headerlink\" title=\"scaling\"></a>scaling</h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502134720.png\"></p>\n<h4 id=\"rotation\"><a href=\"#rotation\" class=\"headerlink\" title=\"rotation\"></a>rotation</h4><p>æ—‹è½¬è¾ƒäºŒç»´æœ‰æ‰€ä¸åŒï¼Œæˆ‘ä»¬åªéœ€è¦äº†è§£å¯¹åº”ä¸åŒè½´æ—‹è½¬çš„çŸ©é˜µ</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502134828.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502134727.png\"></p>\n<p><strong>ç»•ä»»æ„è½´æ—‹è½¬</strong>ï¼šæˆ‘ä»¬åªæœ‰ç»•xï¼Œyï¼Œzæ—‹è½¬çš„æ–¹æ³•ï¼Œæˆ‘ä»¬å°†è½´ç»™æ—‹è½¬åˆ°x&#x2F;y&#x2F;zä¸Šï¼Œç„¶åå†åº”ç”¨æ ‡å‡†æ—‹è½¬çŸ©é˜µï¼Œæœ€åå°†è½´é€†æ—‹è½¬å›åˆ°åŸå…ˆçš„åœ°æ–¹å°±å®Œæˆäº†</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502153826.png\"></p>\n<p>æ¥ä¸‹æ¥æˆ‘ä»¬å°è¯•å°†å°†u v w(å·²çŸ¥uï¼Œä»»å–tæ–¹å‘ä¸uç»„æˆå¹³é¢ï¼Œåˆ©ç”¨å‰ä¹˜ç‰¹æ€§å¾—åˆ°v w) å¯¹åº”åˆ° x y z </p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502154126.png\"></p>\n<h3 id=\"ä»¿å°„å˜æ¢-affine-transformation\"><a href=\"#ä»¿å°„å˜æ¢-affine-transformation\" class=\"headerlink\" title=\"ä»¿å°„å˜æ¢(affine transformation)\"></a>ä»¿å°„å˜æ¢(affine transformation)</h3><p>å‰é¢ä¸€ç›´åœ¨è®¨è®ºçº¿æ€§å˜æ¢ï¼Œä¹Ÿå°±æ˜¯ä¾æ®åŸç‚¹(0,0)è¿›è¡Œå˜æ¢ï¼Œå¦‚æœæˆ‘ä»¬åŠ ä¸Šä½ç½®å˜æ¢(Translation)å°±ä¼šè®©ä¹‹å‰çš„æ‰€æœ‰çŸ©é˜µéƒ½ä¸æˆç«‹ã€‚ä¸ºäº†ç›¸åŒï¼Œæˆ‘ä»¬å¢åŠ ä¸€ç»´ï¼Œè®©(x,y) -&gt; (x,y,1) è¿™æ ·å­å½“ xâ€™ &#x3D; m11x + m12y + xtæ—¶ï¼Œå°±ä¸ä¼šæ‰“ä¹±ä¹‹å‰çš„çº¿æ€§å˜æ¢çŸ©é˜µã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502142043.png\"></p>\n<p>è¿™æ ·å­çš„å‘é‡æ˜¯ä¸æ˜¯å¾ˆç†Ÿæ‚‰ï¼Œä¹Ÿå°±æ˜¯é½æ¬¡åæ ‡ï¼Œæœ€åä¸€ç»´ä¸º1æ˜¯ä¸€ä¸ªåæ ‡ï¼Œä¸º0æ—¶æ˜¯ä¸€ä¸ªå‘é‡ï¼Œå¯¹äºå…¶ä»–æ•°å­—ï¼Œæˆ‘ä»¬è¦å°†åæ ‡è¿›è¡Œå½’ä¸€åŒ–ï¼Œä¹Ÿå°±æ˜¯(x,y,w) -&gt; (x&#x2F;w,y&#x2F;w,1)</p>\n<p>åœ¨ä¸‰ç»´çŠ¶æ€ä¸‹ä¹Ÿæ˜¯å¦‚æ­¤</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502142647.png\"></p>\n<h3 id=\"è§†å›¾å˜æ¢-Viewing-Transformation\"><a href=\"#è§†å›¾å˜æ¢-Viewing-Transformation\" class=\"headerlink\" title=\"è§†å›¾å˜æ¢(Viewing Transformation)\"></a>è§†å›¾å˜æ¢(Viewing Transformation)</h3><p>åœ¨ä¹‹å‰çš„å˜æ¢ï¼Œæˆ‘ä»¬è®¨è®ºäº†å¦‚ä½•å˜æ¢ç‚¹çš„ä½ç½®ã€‚ç°åœ¨æˆ‘ä»¬è¦å°†ç°å®ä¸–ç•Œä¸­çš„ç‚¹æŠ•å½±åœ¨å±å¹•ä¸Šï¼Œæˆ‘ä»¬å°†è¦ç»å†ä¸‰æ­¥</p>\n<ul>\n<li>æ‘„åƒæœºå˜æ¢(eye&#x2F;camera transformation) : è°ƒæ•´æ‘„åƒæœºä½ç½®ï¼Œæ—‹è½¬è§’åº¦ï¼Œä¹Ÿå°±æ˜¯å¾—åˆ°<strong>ç‰©ä½“ä¸æ‘„åƒæœºçš„ç›¸å¯¹ä½ç½®</strong></li>\n<li>æŠ•å½±å˜æ¢(projection transformation) : æ‘„åƒæœºå˜æ¢åï¼Œå¾—åˆ°å¯è§†èŒƒå›´ç‰©ä½“å¯¹äºæ‘„åƒæœºçš„ç›¸å¯¹åæ ‡ï¼Œä¹‹åæ ¹æ®æƒ…å†µé€‰æ‹©å¹³è¡ŒæŠ•å½±æˆ–è€…é€è§†å¤´å‹ï¼Œå°†<strong>ä¸‰ç»´ç©ºé—´æŠ•å½±è‡³æ ‡å‡†äºŒç»´å¹³é¢</strong>[-1,1]^2</li>\n<li>è§†å£å˜æ¢(viewport transformatino) ï¼š å°†[-1,1]^2 -&gt; [0,width]<em>[0,height],ä¹Ÿå°±æ˜¯*<em>å°†æ ‡å‡†å¹³é¢æ˜ å°„åˆ°å±å¹•åˆ†è¾¨ç‡èŒƒå›´ä¸Š</em></em></li>\n</ul>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502143533.png\"></p>\n<h4 id=\"è§†å£å˜æ¢\"><a href=\"#è§†å£å˜æ¢\" class=\"headerlink\" title=\"è§†å£å˜æ¢\"></a>è§†å£å˜æ¢</h4><p>å…ˆä»è§†å£å˜æ¢å…¥æ‰‹ï¼Œè§†å£å˜æ¢æ˜¯æœ€ç®€å•ä¹Ÿæ˜¯æœ€å®¹æ˜“ç†è§£çš„çŸ©é˜µï¼Œå°†-1 -&gt; 0 ,1 - &gt; width&#x2F;height ä¹Ÿå°±æ˜¯ç®€å•çš„ç¼©æ”¾å˜æ¢ï¼Œç„¶åä¸ºäº†ä¿æŒåŸç‚¹åœ¨å±å¹•ä¸­é—´ï¼Œå¤šäº†ä¸€æ­¥Translation</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502150436.png\"></p>\n<h4 id=\"æ­£äº¤ï¼ˆOrthographicï¼‰æŠ•å½±å˜æ¢\"><a href=\"#æ­£äº¤ï¼ˆOrthographicï¼‰æŠ•å½±å˜æ¢\" class=\"headerlink\" title=\"æ­£äº¤ï¼ˆOrthographicï¼‰æŠ•å½±å˜æ¢\"></a>æ­£äº¤ï¼ˆOrthographicï¼‰æŠ•å½±å˜æ¢</h4><p>æ­£äº¤æŠ•å½±ä¹Ÿæ˜¯ç®€å•çš„ç¼©æ”¾å˜æ¢å’Œä½ç§»ï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ªåŒ…å›´ç›’å›´ä½ç‰©ä½“ï¼Œè¦æ³¨æ„çš„æ˜¯åœ¨è¿™é‡Œï¼Œn &gt; fï¼Œå› ä¸ºæˆ‘ä»¬æ˜¯ä»-zå¾€ç‰©ä½“ä¸Šçœ‹çš„</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502151041.png\"></p>\n<p>ç”±äºæ˜¯ç©ºé—´çš„å˜æ¢ï¼Œå®¹æ˜“å¾—åˆ°ä»¥ä¸‹çŸ©é˜µ<br>è¯æ˜è¿‡ç¨‹ï¼Œå…ˆä¸¾ä¸€ä¸ªäºŒç»´çš„ä¾‹å­ï¼š</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502151452.png\"></p>\n<p>å¯ä»¥å‘ç°åˆ†ä¸‰æ­¥èµ°ï¼ŒTranslateï¼ˆç§»åŠ¨åˆ°åŸç‚¹ï¼‰-&gt;Scaleï¼ˆè¿›è¡Œç¼©æ”¾å˜åŒ–ï¼‰-&gt;Translateï¼ˆç§»åŠ¨åˆ°å¯¹åº”çš„ä½ç½®ï¼‰</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502151648.png\"></p>\n<p>æ¨å¹¿åˆ°ä¸‰ç»´</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502151707.png\"></p>\n<p>å°†[l, r] [t, b] [n, f] å’Œ [-1, 1]^3 ä»£å…¥å¾—æ­£äº¤çŸ©é˜µ</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502151125.png\"></p>\n<h4 id=\"æ‘„åƒæœºå˜æ¢\"><a href=\"#æ‘„åƒæœºå˜æ¢\" class=\"headerlink\" title=\"æ‘„åƒæœºå˜æ¢\"></a>æ‘„åƒæœºå˜æ¢</h4><p>è™½ç„¶è¯´æ˜¯æ‘„åƒæœºå˜æ¢ï¼Œä½†å…¶å®æ˜¯è°ƒæ•´ç‰©ä½“çš„ä½ç½®ï¼Œå°†æ‘„åƒæœºçš„åæ ‡è½´å¯¹åº”åˆ°åŸä¸–ç•Œçš„xï¼Œyï¼Œzå°±è¡Œäº†ï¼Œé—®é¢˜å°±å˜æˆäº†å°†cameraçš„åæ ‡ç³»å˜åˆ°ä¸åŸä¸–ç•Œåæ ‡ç³»é‡åˆ</p>\n<p>æˆ‘ä»¬å…ˆå®šä¹‰æ‘„åƒæœºçš„ä¸‰ä¸ªå±æ€§</p>\n<ul>\n<li>e(eye position) : æ‘„åƒæœºä½ç½®</li>\n<li>g(gaze direction) : æ‘„åƒæœºæœå‘çš„è§’åº¦</li>\n<li>t(view-up vector) : æ‘„åƒæœºæœå‘è§’åº¦çš„æ­£ä¸Šæ–¹å‘ï¼Œä¹Ÿå°±æ˜¯ä¸ºäº†gï¼Œtç»„æˆä¸€ä¸ªå¹³é¢</li>\n</ul>\n<p>ç„¶åæˆ‘ä»¬å¾—åˆ°æ‘„åƒæœºåæ ‡ç³»</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502153229.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502153251.png\"></p>\n<p>æˆ‘ä»¬å°†æ‘„åƒæœºå˜æ¢åˆ†æˆä¸¤æ­¥</p>\n<ul>\n<li>ç§»åŠ¨åˆ°åŸç‚¹</li>\n<li>é€šè¿‡æ—‹è½¬çŸ©é˜µå°†äºŒè€…åæ ‡ç³»é‡åˆ</li>\n</ul>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502153514.png\"></p>\n<h4 id=\"é€è§†æŠ•å½±å˜æ¢\"><a href=\"#é€è§†æŠ•å½±å˜æ¢\" class=\"headerlink\" title=\"é€è§†æŠ•å½±å˜æ¢\"></a>é€è§†æŠ•å½±å˜æ¢</h4><p>é€è§†å˜æ¢å°±æ˜¯å°†åŸæœ¬çš„åŒ…å›´ç›’å˜æˆä¸€ä¸ªå…·æœ‰è¿‘å¤§è¿œå°å±æ€§çš„é”¥å½¢ç›’å­</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502154621.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502154602.png\"></p>\n<p>æˆ‘ä»¬å®¹æ˜“å¾—åˆ°ä»¥ä¸‹å¯¹åº”å…³ç³»ï¼Œä½†æ˜¯ç¬¬ä¸‰è¡Œå¦‚ä½•å¾—å‡ºï¼Œåˆ©ç”¨è¿‘å¹³é¢å’Œè¿œå¹³é¢çš„zåæ ‡ä¸å˜çš„æ€§è´¨è¿›è¡Œä»£å…¥</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502154855.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502155145.png\"></p>\n<p>ç°åœ¨æˆ‘ä»¬å·²ç»å¾—åˆ°äº†åŒ…å›´ç›’å˜ä¸ºé”¥å½¢ç›’å­çš„çŸ©é˜µ P<br>å¯ä»¥å¾ˆå¿«å¾—åˆ°ä¸€ä¸ªç­‰å¼ <strong>Mper &#x3D; Morth * P</strong><br>ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬å…ˆå°†åŒ…å›´ç›’å˜æˆ [-1,1] ^ 2 çš„ï¼Œç„¶ååœ¨è¿™ä¸ª[-1,1] ^ 2çš„å°æ­£æ–¹ä½“è¿›è¡Œé€è§†å˜æ¢ï¼Œè¿™ä¸å…ˆå˜ä¸ºé”¥å½¢ç›’å­å†å‹ç¼©åˆ°[-1,1] ^ 2æ˜¯ä¸€æ ·çš„,å¾—å‡ºä»¥ä¸‹çŸ©é˜µ</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502155553.png\"></p>\n<h4 id=\"ç®€çŸ­çš„æ€»ç»“\"><a href=\"#ç®€çŸ­çš„æ€»ç»“\" class=\"headerlink\" title=\"ç®€çŸ­çš„æ€»ç»“\"></a>ç®€çŸ­çš„æ€»ç»“</h4><p>æˆ‘ä»¬åœ¨ç»å†è¿‡ä¸Šè¿°è®¡ç®—åï¼Œå¯ä»¥å¾—å‡ºç°å®ä¸–ç•Œåˆ°å±å¹•ä¸Šçš„çŸ©é˜µå˜æ¢ M &#x3D; Mview * Mper * Mcam * Mmodel</p>\n<h3 id=\"å‚è€ƒ\"><a href=\"#å‚è€ƒ\" class=\"headerlink\" title=\"å‚è€ƒ\"></a>å‚è€ƒ</h3><ul>\n<li>Fundamentals of Computer Graphics 4th ç¬¬å…­ç« ç¬¬ä¸ƒç« </li>\n<li>GAMES101-ç°ä»£è®¡ç®—æœºå›¾å½¢å­¦å…¥é—¨-é—«ä»¤çª å˜æ¢éƒ¨åˆ†</li>\n<li><a href=\"https://zhuanlan.zhihu.com/p/144329075\">è®¡ç®—æœºå›¾å½¢å­¦äºŒï¼šè§†å›¾å˜æ¢(åæ ‡ç³»è½¬åŒ–ï¼Œæ­£äº¤æŠ•å½±ï¼Œé€è§†æŠ•å½±ï¼Œè§†å£å˜æ¢)</a></li>\n</ul>\n","site":{"data":{}},"length":2257,"excerpt":"","more":"<h3 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h3><p>æœ€è¿‘åœ¨å¤ä¹ å›¾å½¢å­¦ç†è®ºçŸ¥è¯†ï¼Œé¡ºä¾¿è¡¥ä¸€ä¸‹è®°å½•ï¼Œåœ¨è¿™é‡Œè®°å½•çš„æ˜¯æ¯”è¾ƒå¸¸è§çš„å˜æ¢ï¼Œä¼šæœ‰ä¸€äº›æ¯”è¾ƒå¤æ‚çš„åœ°æ–¹æ²¡æœ‰æ¶‰åŠåˆ°ã€‚åœ¨å›¾å½¢å­¦çš„å˜æ¢ä¸­ï¼Œå¯¹äºæ•°å­¦çš„è¦æ±‚å¹¶ä¸æ˜¯å¾ˆé«˜ï¼Œåªéœ€è¦ä¼šç®€å•çš„çº¿æ€§ä»£æ•°çŸ©é˜µä¹˜æ³•å³å¯ã€‚</p>\n<h3 id=\"2Dçº¿æ€§å˜æ¢-Linear-Transformation\"><a href=\"#2Dçº¿æ€§å˜æ¢-Linear-Transformation\" class=\"headerlink\" title=\"2Dçº¿æ€§å˜æ¢(Linear Transformation)\"></a>2Dçº¿æ€§å˜æ¢(Linear Transformation)</h3><p>æˆ‘ä»¬å°†ç‚¹åæ ‡ä»¥å‘é‡ä½œä¸ºè¡¨ç¤ºï¼Œå˜æ¢ä»¥çŸ©é˜µè¡¨ç¤ºã€‚ä¸¤è€…ç›¸ä¹˜å°±æ˜¯ç‚¹ç»è¿‡å˜æ¢åçš„æ–°ä½ç½®</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502132310.png\"></p>\n<h4 id=\"ç¼©æ”¾å˜æ¢-Scaling\"><a href=\"#ç¼©æ”¾å˜æ¢-Scaling\" class=\"headerlink\" title=\"ç¼©æ”¾å˜æ¢(Scaling)\"></a>ç¼©æ”¾å˜æ¢(Scaling)</h4><p>ç¼©æ”¾å˜æ¢å°±æ˜¯åŸåæ ‡ä¹˜ä»¥ä¸€ä¸ªæ•°è¿›è¡Œå˜æ¢,è®¾åŸç‚¹ä¸º(x,y),æ–°ç‚¹ä¸º(sx * x, sy * y),å¯ä»¥å¾ˆå¿«åæ¨å‡ºçŸ©é˜µã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502132549.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502132346.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502132736.png\"></p>\n<h4 id=\"å‰ªåˆ‡å˜æ¢-Shearing\"><a href=\"#å‰ªåˆ‡å˜æ¢-Shearing\" class=\"headerlink\" title=\"å‰ªåˆ‡å˜æ¢(Shearing)\"></a>å‰ªåˆ‡å˜æ¢(Shearing)</h4><p>ä¸çŸ¥é“è¯¥æ€ä¹ˆç¿»è¯‘ï¼Œåº”è¯¥æ˜¯å°†æ­£æ–¹å½¢å˜å½¢ä¸ºå¹³è¡Œå››è¾¹å½¢çš„æ“ä½œã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502132842.png\"></p>\n<p>å‡è®¾åªå¯¹xè¿›è¡Œå˜æ¢ï¼Œè€Œä¸å¯¹yè¿›è¡Œå˜æ¢ï¼Œé‚£ä¹ˆxæ–°åæ ‡å³ä¸º(1+ay)ï¼Œç¨å¾®åæ¨ä¸€ä¸‹ï¼Œè·å–å…³é”®åæ ‡(0,0) (a,1),y æ²¡æœ‰è¿›è¡Œå‰ªåˆ‡å˜æ¢ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502133038.png\"></p>\n<p>å¦ä¸€ç§æ–¹æ³•å¯ä»¥æƒ³ä¸ºshearingåªæ˜¯å¯¹ä¸€ä¸ªè½´è¿›è¡Œæ—‹è½¬ä¸€ä¸ªè§’åº¦</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502133409.png\"></p>\n<h4 id=\"æ—‹è½¬å˜æ¢-Rotation\"><a href=\"#æ—‹è½¬å˜æ¢-Rotation\" class=\"headerlink\" title=\"æ—‹è½¬å˜æ¢(Rotation)\"></a>æ—‹è½¬å˜æ¢(Rotation)</h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502133613.png\"></p>\n<p>å‡è®¾ç‚¹aåˆ°(0,0)è·ç¦»ä¸ºrï¼Œé‚£ä¹ˆxa &#x3D; rcosÎ±, ya &#x3D; rsinÎ±æ‰€ç¤ºï¼Œæˆ‘ä»¬å°†aå‘é‡æ—‹è½¬åˆ°bå‘é‡ï¼Œé‚£ä¹ˆ</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502133738.png\"></p>\n<p>å°†xa &#x3D; rcosÎ±, ya &#x3D; rsinÎ±å¸¦å…¥åå¾—åˆ°</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502133827.png\"></p>\n<p>ç„¶åæˆ‘ä»¬æ¨å‡ºæ—‹è½¬çŸ©é˜µä¸º</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502133856.png\"></p>\n<p>ä»¥ä¸Šæ˜¯é€†æ—¶é’ˆæ—‹è½¬çš„çŸ©é˜µ</p>\n<h4 id=\"å¯¹ç§°å˜æ¢-Reflection\"><a href=\"#å¯¹ç§°å˜æ¢-Reflection\" class=\"headerlink\" title=\"å¯¹ç§°å˜æ¢(Reflection)\"></a>å¯¹ç§°å˜æ¢(Reflection)</h4><p>å…¶å®è·Ÿç¼©æ”¾å˜æ¢å·®ä¸å¤š </p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502134045.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502134020.png\"></p>\n<h4 id=\"å˜æ¢çš„ç»„åˆ\"><a href=\"#å˜æ¢çš„ç»„åˆ\" class=\"headerlink\" title=\"å˜æ¢çš„ç»„åˆ\"></a>å˜æ¢çš„ç»„åˆ</h4><p>ç”±äºçŸ©é˜µä¹˜æ³•ä¸€èˆ¬ä¸æ»¡è¶³äº¤æ¢å¾‹ï¼Œå³ A<em>B !&#x3D; B</em>A,æ‰€ä»¥å˜æ¢çš„é¡ºåºæ¯”è¾ƒé‡è¦</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502134249.png\"></p>\n<h3 id=\"3Dçº¿æ€§å˜æ¢\"><a href=\"#3Dçº¿æ€§å˜æ¢\" class=\"headerlink\" title=\"3Dçº¿æ€§å˜æ¢\"></a>3Dçº¿æ€§å˜æ¢</h3><h4 id=\"scaling\"><a href=\"#scaling\" class=\"headerlink\" title=\"scaling\"></a>scaling</h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502134720.png\"></p>\n<h4 id=\"rotation\"><a href=\"#rotation\" class=\"headerlink\" title=\"rotation\"></a>rotation</h4><p>æ—‹è½¬è¾ƒäºŒç»´æœ‰æ‰€ä¸åŒï¼Œæˆ‘ä»¬åªéœ€è¦äº†è§£å¯¹åº”ä¸åŒè½´æ—‹è½¬çš„çŸ©é˜µ</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502134828.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502134727.png\"></p>\n<p><strong>ç»•ä»»æ„è½´æ—‹è½¬</strong>ï¼šæˆ‘ä»¬åªæœ‰ç»•xï¼Œyï¼Œzæ—‹è½¬çš„æ–¹æ³•ï¼Œæˆ‘ä»¬å°†è½´ç»™æ—‹è½¬åˆ°x&#x2F;y&#x2F;zä¸Šï¼Œç„¶åå†åº”ç”¨æ ‡å‡†æ—‹è½¬çŸ©é˜µï¼Œæœ€åå°†è½´é€†æ—‹è½¬å›åˆ°åŸå…ˆçš„åœ°æ–¹å°±å®Œæˆäº†</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502153826.png\"></p>\n<p>æ¥ä¸‹æ¥æˆ‘ä»¬å°è¯•å°†å°†u v w(å·²çŸ¥uï¼Œä»»å–tæ–¹å‘ä¸uç»„æˆå¹³é¢ï¼Œåˆ©ç”¨å‰ä¹˜ç‰¹æ€§å¾—åˆ°v w) å¯¹åº”åˆ° x y z </p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502154126.png\"></p>\n<h3 id=\"ä»¿å°„å˜æ¢-affine-transformation\"><a href=\"#ä»¿å°„å˜æ¢-affine-transformation\" class=\"headerlink\" title=\"ä»¿å°„å˜æ¢(affine transformation)\"></a>ä»¿å°„å˜æ¢(affine transformation)</h3><p>å‰é¢ä¸€ç›´åœ¨è®¨è®ºçº¿æ€§å˜æ¢ï¼Œä¹Ÿå°±æ˜¯ä¾æ®åŸç‚¹(0,0)è¿›è¡Œå˜æ¢ï¼Œå¦‚æœæˆ‘ä»¬åŠ ä¸Šä½ç½®å˜æ¢(Translation)å°±ä¼šè®©ä¹‹å‰çš„æ‰€æœ‰çŸ©é˜µéƒ½ä¸æˆç«‹ã€‚ä¸ºäº†ç›¸åŒï¼Œæˆ‘ä»¬å¢åŠ ä¸€ç»´ï¼Œè®©(x,y) -&gt; (x,y,1) è¿™æ ·å­å½“ xâ€™ &#x3D; m11x + m12y + xtæ—¶ï¼Œå°±ä¸ä¼šæ‰“ä¹±ä¹‹å‰çš„çº¿æ€§å˜æ¢çŸ©é˜µã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502142043.png\"></p>\n<p>è¿™æ ·å­çš„å‘é‡æ˜¯ä¸æ˜¯å¾ˆç†Ÿæ‚‰ï¼Œä¹Ÿå°±æ˜¯é½æ¬¡åæ ‡ï¼Œæœ€åä¸€ç»´ä¸º1æ˜¯ä¸€ä¸ªåæ ‡ï¼Œä¸º0æ—¶æ˜¯ä¸€ä¸ªå‘é‡ï¼Œå¯¹äºå…¶ä»–æ•°å­—ï¼Œæˆ‘ä»¬è¦å°†åæ ‡è¿›è¡Œå½’ä¸€åŒ–ï¼Œä¹Ÿå°±æ˜¯(x,y,w) -&gt; (x&#x2F;w,y&#x2F;w,1)</p>\n<p>åœ¨ä¸‰ç»´çŠ¶æ€ä¸‹ä¹Ÿæ˜¯å¦‚æ­¤</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502142647.png\"></p>\n<h3 id=\"è§†å›¾å˜æ¢-Viewing-Transformation\"><a href=\"#è§†å›¾å˜æ¢-Viewing-Transformation\" class=\"headerlink\" title=\"è§†å›¾å˜æ¢(Viewing Transformation)\"></a>è§†å›¾å˜æ¢(Viewing Transformation)</h3><p>åœ¨ä¹‹å‰çš„å˜æ¢ï¼Œæˆ‘ä»¬è®¨è®ºäº†å¦‚ä½•å˜æ¢ç‚¹çš„ä½ç½®ã€‚ç°åœ¨æˆ‘ä»¬è¦å°†ç°å®ä¸–ç•Œä¸­çš„ç‚¹æŠ•å½±åœ¨å±å¹•ä¸Šï¼Œæˆ‘ä»¬å°†è¦ç»å†ä¸‰æ­¥</p>\n<ul>\n<li>æ‘„åƒæœºå˜æ¢(eye&#x2F;camera transformation) : è°ƒæ•´æ‘„åƒæœºä½ç½®ï¼Œæ—‹è½¬è§’åº¦ï¼Œä¹Ÿå°±æ˜¯å¾—åˆ°<strong>ç‰©ä½“ä¸æ‘„åƒæœºçš„ç›¸å¯¹ä½ç½®</strong></li>\n<li>æŠ•å½±å˜æ¢(projection transformation) : æ‘„åƒæœºå˜æ¢åï¼Œå¾—åˆ°å¯è§†èŒƒå›´ç‰©ä½“å¯¹äºæ‘„åƒæœºçš„ç›¸å¯¹åæ ‡ï¼Œä¹‹åæ ¹æ®æƒ…å†µé€‰æ‹©å¹³è¡ŒæŠ•å½±æˆ–è€…é€è§†å¤´å‹ï¼Œå°†<strong>ä¸‰ç»´ç©ºé—´æŠ•å½±è‡³æ ‡å‡†äºŒç»´å¹³é¢</strong>[-1,1]^2</li>\n<li>è§†å£å˜æ¢(viewport transformatino) ï¼š å°†[-1,1]^2 -&gt; [0,width]<em>[0,height],ä¹Ÿå°±æ˜¯*<em>å°†æ ‡å‡†å¹³é¢æ˜ å°„åˆ°å±å¹•åˆ†è¾¨ç‡èŒƒå›´ä¸Š</em></em></li>\n</ul>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502143533.png\"></p>\n<h4 id=\"è§†å£å˜æ¢\"><a href=\"#è§†å£å˜æ¢\" class=\"headerlink\" title=\"è§†å£å˜æ¢\"></a>è§†å£å˜æ¢</h4><p>å…ˆä»è§†å£å˜æ¢å…¥æ‰‹ï¼Œè§†å£å˜æ¢æ˜¯æœ€ç®€å•ä¹Ÿæ˜¯æœ€å®¹æ˜“ç†è§£çš„çŸ©é˜µï¼Œå°†-1 -&gt; 0 ,1 - &gt; width&#x2F;height ä¹Ÿå°±æ˜¯ç®€å•çš„ç¼©æ”¾å˜æ¢ï¼Œç„¶åä¸ºäº†ä¿æŒåŸç‚¹åœ¨å±å¹•ä¸­é—´ï¼Œå¤šäº†ä¸€æ­¥Translation</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502150436.png\"></p>\n<h4 id=\"æ­£äº¤ï¼ˆOrthographicï¼‰æŠ•å½±å˜æ¢\"><a href=\"#æ­£äº¤ï¼ˆOrthographicï¼‰æŠ•å½±å˜æ¢\" class=\"headerlink\" title=\"æ­£äº¤ï¼ˆOrthographicï¼‰æŠ•å½±å˜æ¢\"></a>æ­£äº¤ï¼ˆOrthographicï¼‰æŠ•å½±å˜æ¢</h4><p>æ­£äº¤æŠ•å½±ä¹Ÿæ˜¯ç®€å•çš„ç¼©æ”¾å˜æ¢å’Œä½ç§»ï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ªåŒ…å›´ç›’å›´ä½ç‰©ä½“ï¼Œè¦æ³¨æ„çš„æ˜¯åœ¨è¿™é‡Œï¼Œn &gt; fï¼Œå› ä¸ºæˆ‘ä»¬æ˜¯ä»-zå¾€ç‰©ä½“ä¸Šçœ‹çš„</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502151041.png\"></p>\n<p>ç”±äºæ˜¯ç©ºé—´çš„å˜æ¢ï¼Œå®¹æ˜“å¾—åˆ°ä»¥ä¸‹çŸ©é˜µ<br>è¯æ˜è¿‡ç¨‹ï¼Œå…ˆä¸¾ä¸€ä¸ªäºŒç»´çš„ä¾‹å­ï¼š</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502151452.png\"></p>\n<p>å¯ä»¥å‘ç°åˆ†ä¸‰æ­¥èµ°ï¼ŒTranslateï¼ˆç§»åŠ¨åˆ°åŸç‚¹ï¼‰-&gt;Scaleï¼ˆè¿›è¡Œç¼©æ”¾å˜åŒ–ï¼‰-&gt;Translateï¼ˆç§»åŠ¨åˆ°å¯¹åº”çš„ä½ç½®ï¼‰</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502151648.png\"></p>\n<p>æ¨å¹¿åˆ°ä¸‰ç»´</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502151707.png\"></p>\n<p>å°†[l, r] [t, b] [n, f] å’Œ [-1, 1]^3 ä»£å…¥å¾—æ­£äº¤çŸ©é˜µ</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502151125.png\"></p>\n<h4 id=\"æ‘„åƒæœºå˜æ¢\"><a href=\"#æ‘„åƒæœºå˜æ¢\" class=\"headerlink\" title=\"æ‘„åƒæœºå˜æ¢\"></a>æ‘„åƒæœºå˜æ¢</h4><p>è™½ç„¶è¯´æ˜¯æ‘„åƒæœºå˜æ¢ï¼Œä½†å…¶å®æ˜¯è°ƒæ•´ç‰©ä½“çš„ä½ç½®ï¼Œå°†æ‘„åƒæœºçš„åæ ‡è½´å¯¹åº”åˆ°åŸä¸–ç•Œçš„xï¼Œyï¼Œzå°±è¡Œäº†ï¼Œé—®é¢˜å°±å˜æˆäº†å°†cameraçš„åæ ‡ç³»å˜åˆ°ä¸åŸä¸–ç•Œåæ ‡ç³»é‡åˆ</p>\n<p>æˆ‘ä»¬å…ˆå®šä¹‰æ‘„åƒæœºçš„ä¸‰ä¸ªå±æ€§</p>\n<ul>\n<li>e(eye position) : æ‘„åƒæœºä½ç½®</li>\n<li>g(gaze direction) : æ‘„åƒæœºæœå‘çš„è§’åº¦</li>\n<li>t(view-up vector) : æ‘„åƒæœºæœå‘è§’åº¦çš„æ­£ä¸Šæ–¹å‘ï¼Œä¹Ÿå°±æ˜¯ä¸ºäº†gï¼Œtç»„æˆä¸€ä¸ªå¹³é¢</li>\n</ul>\n<p>ç„¶åæˆ‘ä»¬å¾—åˆ°æ‘„åƒæœºåæ ‡ç³»</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502153229.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502153251.png\"></p>\n<p>æˆ‘ä»¬å°†æ‘„åƒæœºå˜æ¢åˆ†æˆä¸¤æ­¥</p>\n<ul>\n<li>ç§»åŠ¨åˆ°åŸç‚¹</li>\n<li>é€šè¿‡æ—‹è½¬çŸ©é˜µå°†äºŒè€…åæ ‡ç³»é‡åˆ</li>\n</ul>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502153514.png\"></p>\n<h4 id=\"é€è§†æŠ•å½±å˜æ¢\"><a href=\"#é€è§†æŠ•å½±å˜æ¢\" class=\"headerlink\" title=\"é€è§†æŠ•å½±å˜æ¢\"></a>é€è§†æŠ•å½±å˜æ¢</h4><p>é€è§†å˜æ¢å°±æ˜¯å°†åŸæœ¬çš„åŒ…å›´ç›’å˜æˆä¸€ä¸ªå…·æœ‰è¿‘å¤§è¿œå°å±æ€§çš„é”¥å½¢ç›’å­</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502154621.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502154602.png\"></p>\n<p>æˆ‘ä»¬å®¹æ˜“å¾—åˆ°ä»¥ä¸‹å¯¹åº”å…³ç³»ï¼Œä½†æ˜¯ç¬¬ä¸‰è¡Œå¦‚ä½•å¾—å‡ºï¼Œåˆ©ç”¨è¿‘å¹³é¢å’Œè¿œå¹³é¢çš„zåæ ‡ä¸å˜çš„æ€§è´¨è¿›è¡Œä»£å…¥</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502154855.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502155145.png\"></p>\n<p>ç°åœ¨æˆ‘ä»¬å·²ç»å¾—åˆ°äº†åŒ…å›´ç›’å˜ä¸ºé”¥å½¢ç›’å­çš„çŸ©é˜µ P<br>å¯ä»¥å¾ˆå¿«å¾—åˆ°ä¸€ä¸ªç­‰å¼ <strong>Mper &#x3D; Morth * P</strong><br>ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬å…ˆå°†åŒ…å›´ç›’å˜æˆ [-1,1] ^ 2 çš„ï¼Œç„¶ååœ¨è¿™ä¸ª[-1,1] ^ 2çš„å°æ­£æ–¹ä½“è¿›è¡Œé€è§†å˜æ¢ï¼Œè¿™ä¸å…ˆå˜ä¸ºé”¥å½¢ç›’å­å†å‹ç¼©åˆ°[-1,1] ^ 2æ˜¯ä¸€æ ·çš„,å¾—å‡ºä»¥ä¸‹çŸ©é˜µ</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230502155553.png\"></p>\n<h4 id=\"ç®€çŸ­çš„æ€»ç»“\"><a href=\"#ç®€çŸ­çš„æ€»ç»“\" class=\"headerlink\" title=\"ç®€çŸ­çš„æ€»ç»“\"></a>ç®€çŸ­çš„æ€»ç»“</h4><p>æˆ‘ä»¬åœ¨ç»å†è¿‡ä¸Šè¿°è®¡ç®—åï¼Œå¯ä»¥å¾—å‡ºç°å®ä¸–ç•Œåˆ°å±å¹•ä¸Šçš„çŸ©é˜µå˜æ¢ M &#x3D; Mview * Mper * Mcam * Mmodel</p>\n<h3 id=\"å‚è€ƒ\"><a href=\"#å‚è€ƒ\" class=\"headerlink\" title=\"å‚è€ƒ\"></a>å‚è€ƒ</h3><ul>\n<li>Fundamentals of Computer Graphics 4th ç¬¬å…­ç« ç¬¬ä¸ƒç« </li>\n<li>GAMES101-ç°ä»£è®¡ç®—æœºå›¾å½¢å­¦å…¥é—¨-é—«ä»¤çª å˜æ¢éƒ¨åˆ†</li>\n<li><a href=\"https://zhuanlan.zhihu.com/p/144329075\">è®¡ç®—æœºå›¾å½¢å­¦äºŒï¼šè§†å›¾å˜æ¢(åæ ‡ç³»è½¬åŒ–ï¼Œæ­£äº¤æŠ•å½±ï¼Œé€è§†æŠ•å½±ï¼Œè§†å£å˜æ¢)</a></li>\n</ul>\n"},{"title":"å›¾å½¢å­¦-å…‰æ …åŒ–","date":"2023-05-03T05:30:56.000Z","_content":"\n### å›¾å½¢ç®¡çº¿ï¼ˆgraphics pipelineï¼‰æ€»è§ˆ\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230503140547.png)\n\n### å…‰æ …åŒ–\n\n#### ç»˜åˆ¶çº¿æ¡ï¼ˆmidpoint-Bresenhamç®—æ³•ï¼‰\n\næˆ‘ä»¬é¦–å…ˆçŸ¥é“ä»»ä½•ä¸€æ¡ä¸€ç»´ç›´çº¿å¯ä»¥ç”¨ f(x,y) = ax + by + c = 0 ,å°†ç‚¹(x0,y0) å’Œ(x1,y1)ä»£å…¥å¾—ä»¥ä¸‹ç»“æœ\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230503214800.png)\n\næˆ‘ä»¬åœ¨è¿™é‡Œå…ˆè€ƒè™‘æ–œç‡åœ¨(0,1]çš„æƒ…å†µï¼Œä¹‹åç±»æ¨åˆ° (-âˆ,-1],(-1,0],(1,âˆ)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230503215239.png)\n\nåœ¨åŸºäºæ–œç‡åœ¨0-1çš„æƒ…å†µä¸‹ï¼Œå¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œå‡è®¾æˆ‘ä»¬ç°åœ¨è¦ç”»æ©™è‰²æ ¼å­ï¼Œåªå¯èƒ½æ˜¯åœ¨æœ€åä¸€ä¸ªè“è‰²æ ¼å­çš„å³è¾¹æˆ–è€…å³ä¸Šï¼Œå¦‚æœç›´çº¿é«˜äºé»‘è‰²åœ†ç‚¹å°±ç”»åœ¨å³ä¸Šï¼Œå¦‚æœä½äºé»‘è‰²åœ†ç‚¹å°±ç”»åœ¨å³è¾¹ã€‚\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230503215544.png)\n\nä¼ªä»£ç å¦‚ä¸Šï¼Œé‚£ä¹ˆsome conditionæ˜¯ä»€ä¹ˆï¼Œæˆ‘ä»¬çŸ¥é“æ¯ä¸ªåƒç´ åæ ‡æ˜¯æ–¹æ ¼çš„ä¸­é—´ï¼Œé‚£ä¹ˆé»‘è‰²åŸç‚¹åº”è¯¥æ˜¯æœ€åä¸€ä¸ªè“è‰²æ–¹æ ¼çš„(x+1,y+0.5),æ‰€ä»¥å¾—åˆ°f(x+1,y+0.5) > 0 æ—¶ï¼Œä¹Ÿå°±æ˜¯ä¸­ç‚¹åœ¨ç›´çº¿ä¸Šé¢ï¼Œé‚£å°±æŠŠæ©™è‰²æ ¼å­ç”»åœ¨å³è¾¹ã€‚ç›¸åå°±ç”»åœ¨å³ä¸Šï¼Œå¦‚æœç›¸ç­‰ï¼Œå–å†³äºè‡ªå·±ï¼Œå½±å“ä¸å¤§ã€‚\n\nä¸Šé¢å°±æ˜¯æ¯”è¾ƒå¥½çš„ç›´çº¿ç»˜åˆ¶ç®—æ³•ï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬æ¯æ¬¡éƒ½è¦è¿›è¡Œä¸€æ¬¡F(x,y)çš„è®¡ç®—ï¼Œåœ¨ç°åœ¨å…‰ä¸‰è§’å½¢é¢æ•°å°±æœ‰å‡ ç™¾ä¸‡çš„æ¨¡å‹ä¸Šï¼Œæ— ç–‘æ˜¯ååˆ†æ¶ˆè€—èµ„æºçš„ã€‚\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230503215938.png)\n\nåœ¨ä¸Šå¼ï¼Œæˆ‘ä»¬æ‰¾åˆ°æ‰€å¯¹åº”çš„å…³ç³»ï¼Œæˆ‘ä»¬ä¸€å¼€å§‹å°±å°†(x0+1,y0+0.5)ä»£å…¥ï¼Œåé¢æ¯æ¬¡è®¡ç®—æˆ‘ä»¬åªè¦ç´¯åŠ ä¸Šè¿°å›¾ç‰‡çš„å‡½æ•°åé¢çš„ä¸€éƒ¨åˆ†å°±å¯ä»¥çœä¸‹å¾ˆå¤šæ¬¡f(x,y)çš„è®¡ç®—ã€‚å› æ­¤æˆ‘ä»¬å¾—åˆ°ä»¥ä¸‹æ”¹è¿›è¿‡çš„ä¼ªä»£ç \n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230503220154.png)\n\næ¥ç€æˆ‘ä»¬æ¨å¹¿ä¸åŒçš„è§’åº¦çš„ç›´çº¿ï¼Œä¹Ÿå°±æ˜¯å°†xï¼Œyè½¬åŒ–ä¸ºæ–œç‡ï¼ˆ0ï¼Œ1ï¼‰çš„èŒƒå›´ï¼Œä¹Ÿå°±æ˜¯è¿›è¡Œç¿»è½¬ç­‰ã€‚ä¸‹é¢æ˜¯milo yipå®ç°çš„ä¸€ä»½å¾ˆæ¼‚äº®çš„ä»£ç \n\n```c++\nvoid bresenham(int x0, int y0, int x1, int y1) {\n    int dx = abs(x1 - x0), sx = x0 < x1 ? 1 : -1;\n    int dy = abs(y1 - y0), sy = y0 < y1 ? 1 : -1;\n    int err = (dx > dy ? dx : -dy) / 2;\n\n    // setpixel = draw\n    while (setpixel(x0, y0), x0 != x1 || y0 != y1) {\n        int e2 = err;\n        if (e2 > -dx) { err -= dy; x0 += sx; }\n        if (e2 <  dy) { err += dx; y0 += sy; }\n    }\n}\n```\n\n#### ä¸‰è§’å½¢çš„å…‰æ …åŒ–\n\næœ‰äº†ç›´çº¿ç»˜åˆ¶ç®—æ³•ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç”»å‡ºä¸€ä¸ªä¸‰è§’å½¢äº†ï¼Œä½†æ˜¯å¦‚ä½•æ¶‚æ»¡ä¸‰è§’å½¢å†…éƒ¨å‘¢ã€‚æœ€ç®€å•çš„åšæ³•å°±æ˜¯åˆ¤æ–­æ¯ä¸ªåƒç´ ç‚¹æ˜¯å¦åœ¨å†…éƒ¨ï¼Œåˆ©ç”¨å‰ä¹˜çš„æ€§è´¨ï¼Œæˆ‘ä»¬äº‹å…ˆçŸ¥é“æƒ³è¦å…‰æ …åŒ–çš„ä¸‰è§’å½¢çš„ä¸‰ä¸ªé¡¶ç‚¹P0ï¼ŒP1ï¼ŒP2ï¼Œä»¥åŠæ£€æµ‹ç‚¹Qã€‚ åªè¦åˆ†åˆ«è®¡ç®— P0P1 Ã— P0Q , P1P2 Ã— P1Q , P2P0 Ã— P2Q ï¼Œä¸‰è€…åŒå·å°±è¯´æ˜å¿…ç„¶å¤„äºä¸‰è§’å½¢å†…éƒ¨ï¼Œä¸åŒå·åˆ™è¯´æ˜è¯¥ç‚¹ä¸€å®šåœ¨ä¸‰è§’å½¢å¤–éƒ¨ã€‚ä½†æ˜¯å¯¹å…¨éƒ¨åƒç´ ç‚¹è¿˜æ˜¯å¾ˆæµªè´¹ï¼Œå¯ä»¥ç”¨åŒ…å›´ç›’çš„æ€è·¯ï¼Œå¿«é€Ÿç®—å‡ºåŒ…å›´ç›’ç„¶åå¯¹åŒ…å›´ç›’é‡Œçš„ç‚¹è¿›è¡Œåˆ¤æ–­å³å¯ã€‚\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230503221856.png)\n\nå› ä¸ºæ¯ä¸ªåœ¨ä¸‰è§’å½¢çš„ç‚¹éƒ½å¯ä»¥ç”¨é‡å¿ƒè¡¨ç¤ºæ³•è¡¨ç¤ºå‡ºæ¥\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230503223329.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230503223237.png)\n\nåªè¦ç‚¹åœ¨é‡Œé¢ï¼Œæˆ‘ä»¬ç®—å‡ºæ¥çš„å€¼å°±ä¼š > 0ï¼Œåˆ©ç”¨è¿™ä¸ªæ€§è´¨ä»¥åŠï¼Œä»»æ„ä¸¤ä¸ªäºŒç»´å‘é‡ç»„åˆæˆçŸ©é˜µçš„è¡Œåˆ—å¼çš„ç»å¯¹å€¼ï¼Œä¸ºè¿™ä¸¤ä¸ªå‘é‡æ‰€å›´æˆå¹³è¡Œå››è¾¹å½¢çš„é¢ç§¯ï¼Œä¸éš¾å¾—å‡º\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230503223729.png)\n\næˆ‘ä»¬å°è¯•å°†å‰ä¹˜åˆ—å‡ºæ¥ï¼Œå‘ç°å·§å¦™çš„æ˜¯ï¼Œæ­£å¥½å¯¹åº”æ–¹ç¨‹å¼\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230503222945.png)\n\nå‘ç°å¾ˆç¬¦åˆä¸Šé¢æ±‚Î±ï¼ŒÎ²ï¼ŒÎ³çš„å¼å­ï¼Œä»£å…¥è·å¾—ä¼ªä»£ç \n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230503223826.png)\n\næ³¨æ„åˆ°ï¼Œå¦‚æœä¸€ä¸ªç‚¹åœ¨è¾¹ä¸Šçš„è¯ï¼Œå¦‚ä½•è§£å†³ï¼Œæ¯•ç«Ÿæœ‰å¯èƒ½åŒæ—¶åœ¨ä¸¤ä¸ªä¸‰è§’å½¢ä¸Šï¼Œç­”æ¡ˆæ˜¯å–å†³ä½ è‡ªå·±ï¼Œè¯¦è§è™ä¹¦8.1.2ã€‚å› ä¸ºå¦‚æœä¸ç”»çš„è¯ï¼Œä¸¤ä¸ªä¸‰è§’å½¢å°†ä¼šäº§ç”Ÿç¼éš™ï¼Œå¦‚æœä¸¤ä¸ªéƒ½ç”»çš„è¯ï¼Œå¦‚æœä¸‰è§’å½¢æ˜¯é€æ˜çš„ï¼Œè¿™å°†å¯¼è‡´åŒé‡ç€è‰²ã€‚\n\n#### Z-bufferç®—æ³•\n\nå¸¸è§çš„å¤„ç†å‰åå…³ç³»æœ‰ç”»å®¶ç®—æ³•å’Œz-bufferç®—æ³•ï¼Œå‰è€…æ€§èƒ½æ¶ˆè€—è¾ƒå¤§å·²ç»å¾ˆå°‘ç”¨äº†ï¼Œåè€…å¾ˆç®€å•ï¼Œæˆ‘ä»¬è®¾ç½®ä¸€ä¸ªzbufferæ•°ç»„ï¼Œç»˜åˆ¶ä¸‰è§’å½¢çš„æ—¶å€™å¦‚æœè¯¥ä¸‰è§’å½¢çš„æ·±åº¦æ¯”è¾ƒå°ï¼Œå°±è¦†ç›–æ‰zbufferçš„å€¼ï¼ŒåŒæ—¶æ›´æ–°è¯¥ç‚¹çš„é¢œè‰²ã€‚\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230503225042.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230503225034.png)\n\nå³ä½¿è¿™æ ·ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šé‡åˆ°æ·±åº¦å†²çªçš„é—®é¢˜ï¼Œä¹Ÿå°±æ˜¯ç‰©ä½“zè½´ç›¸åŒï¼Œä¼šè¿›è¡Œé—ªçƒã€‚è¶Šæ¥è¿‘farå¹³é¢ï¼Œdepthå˜åŒ–è¶Šå°ï¼Œç²¾åº¦å˜å·®è¶Šå®¹æ˜“å‡ºç°z-fightingé—®é¢˜ã€‚\né¿å…Z-fightingé—®é¢˜ï¼š\n- å¯ä»¥å°†nearå’Œ farçš„è·ç¦»ç¼©å°ï¼ŒåŒæ—¶å°½é‡å°†nearå˜å¤§ä¸€äº›ã€‚\n- å½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨ç²¾åº¦æ›´é«˜çš„zbufferï¼Œç®€å•æ¥è¯´å°±æ˜¯ float -> double\n\nå‚è€ƒï¼š[å…¨é¢è®¤è¯†Depth - è¿™é‡Œæœ‰å…³äºDepthçš„ä¸€åˆ‡](https://zhuanlan.zhihu.com/p/25095708)\n\n### ç€è‰²é¢‘ç‡\n\n#### é€å¹³é¢ç€è‰²(Flat Shading)\n\né¡¾åæ€ä¹‰ï¼Œå°±æ˜¯ä»¥æ¯ä¸€ä¸ªé¢ä½œä¸ºä¸€ä¸ªç€è‰²å•ä½è¿›è¡Œç€è‰²è®¡ç®—\n\n#### é€é¡¶ç‚¹ç€è‰²(Per-vertex Shading/Gouraud shading)\n\né¡¾åæ€ä¹‰å°±æ˜¯å¯¹æ¯ä¸€ä¸ªé¡¶ç‚¹è¿›è¡Œç€è‰²è®¡ç®—ï¼Œé¡¶ç‚¹æ³•çº¿è®¡ç®—å°±æ˜¯ç”±è¿™ä¸ªç‚¹ç›¸å…³çš„æ¯ä¸ªé¢çš„æ³•çº¿æ±‚å¹³å‡å€¼å†è¿›è¡Œæ ‡å‡†åŒ–å³å¯å¾—åˆ°,å¯¹äºå†…éƒ¨çš„ç‚¹å°±ç”¨é‡å¿ƒåæ ‡è®¡ç®—é¢œè‰²\n\n#### é€åƒç´ ç€è‰²(Phong shading)\n\nå°±æ˜¯å¯¹æ¯ä¸ªåƒç´ è¿›è¡Œç€è‰²è®¡ç®—ï¼Œä¸‰è§’å½¢å†…éƒ¨çš„ç‚¹åŒæ ·ç”¨é‡å¿ƒæ³•è¿›è¡Œè®¡ç®—ï¼Œåªä¸è¿‡è¿™æ¬¡æ˜¯è®¡ç®—æ³•çº¿ï¼Œè¿™æ ·å­å¯èƒ½è¦æ›´å‡†ç¡®äº›ã€‚\n\n#### æ•ˆæœå¯¹æ¯”\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230503233930.png)\n\n### ç€è‰²æ¨¡å‹\n\n#### Ambientæ³›å…‰æ¨¡å‹\n\nå³åªè€ƒè™‘ç¯å¢ƒå…‰ï¼Œè¿™æ—¶ä¸€ä¸ªç»éªŒæ¨¡å‹\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230504210946.png)\n\nå…¶ä¸­\nKaä»£è¡¨ç‰©ä½“è¡¨é¢å¯¹ç¯å¢ƒå…‰çš„åå°„ç‡ï¼ŒIaä»£è¡¨å…¥å°„ç¯å¢ƒå…‰çš„äº®åº¦ï¼ŒIenvå­˜å‚¨ç»“æœï¼Œå³äººçœ¼æ‰€èƒ½çœ‹åˆ°ä»ç‰©ä½“è¡¨é¢åå°„çš„ç¯å¢ƒå…‰çš„äº®åº¦ã€‚\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230504211039.png)\n\n#### Lambertæ¼«åå°„æ¨¡å‹(diffuse)\n\nå°±æ˜¯åœ¨Ambientä¸Šå¢åŠ äº†æ¼«åå°„é¡¹ã€‚æ¼«åå°„ä¾¿æ˜¯å…‰ä»ä¸€å®šè§’åº¦å…¥å°„ä¹‹åä»å…¥å°„ç‚¹å‘å››é¢å…«æ–¹åå°„ï¼Œä¸”æ¯ä¸ªä¸åŒæ–¹å‘åå°„çš„å…‰çš„å¼ºåº¦ç›¸ç­‰ï¼Œè€Œäº§ç”Ÿæ¼«åå°„çš„åŸå› æ˜¯ç‰©ä½“è¡¨é¢çš„ç²—ç³™ï¼Œå¯¼è‡´äº†è¿™ç§ç‰©ç†ç°è±¡çš„å‘ç”Ÿã€‚\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230504211346.png)\n\nåªæœ‰å½“å…¥å°„å…‰çº¿ä¸å¹³é¢å‚ç›´çš„æ—¶å€™æ‰èƒ½æ¥å—å®Œæ•´çš„å…‰ï¼Œå…¥å°„è§’åº¦è¶Šå€¾æ–œæŸå¤±çš„èƒ½é‡è¶Šå¤§ã€‚\né™¤äº†å…¥å°„è§’åº¦ï¼Œå…‰æºä¸ç…§å°„ç‚¹çš„è·ç¦»ä¹Ÿè¦è€ƒè™‘ï¼Œç¦»å¾—è¶Šè¿œå¼ºåº¦è¶Šå¼±ã€‚ \n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230504211515.png)\n\nå…¶ä¸­Kdä¸ºæ¼«åå°„ç³»æ•°ï¼ŒIä¸ºå…¥å°„å…‰å¼ºï¼Œn,låˆ†åˆ«å¦‚å›¾ä¸­æ‰€ç¤ºä¸ºæ³•çº¿å‘é‡å’Œå…¥å°„æ–¹å‘ï¼Œmaxæ˜¯ä¸ºäº†å‰”é™¤å¤¹è§’å¤§äº90Â°çš„å…‰ã€‚\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230504211558.png)\n\n#### Phongåå°„æ¨¡å‹(Specular)\n\nphong åå°„æ¨¡å‹ä¸»è¦æ˜¯ä¸ºäº†è®¡ç®—é«˜å…‰ï¼Œä¸‹å›¾Rä¸ºå…‰çº¿åå°„æ–¹å‘ï¼Œvä¸ºäººçœ¼è§‚å¯Ÿæ–¹å‘ï¼Œ\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230504211732.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230504211851.png)\n\nå…¶ä¸­Ksä¸ºé•œé¢åå°„ç³»æ•°ï¼ŒIä¸ºå…¥å°„å…‰å¼ºï¼Œrä¸ºå…‰æºåˆ°å…¥å°„ç‚¹è·ç¦»ï¼Œæ³¨æ„è¿™é‡Œåœ¨maxå‰”é™¤å¤§äº90Â°çš„å…‰ä¹‹åï¼Œæˆ‘ä»¬è¿˜ä¹˜äº†ä¸€ä¸ªæŒ‡æ•°pï¼Œæ·»åŠ è¯¥é¡¹çš„åŸå› å¾ˆç›´æ¥ï¼Œå› ä¸ºç¦»åå°„å…‰è¶Šè¿œå°±è¶Šä¸åº”è¯¥çœ‹è§åå°„å…‰ï¼Œéœ€è¦ä¸€ä¸ªæŒ‡æ•°påŠ é€Ÿè¡°å‡ï¼ŒÎ±ä¸ºRå’Œvçš„å¤¹è§’ï¼Œå½“pè¶Šå¤§è¶Šå‡†ç¡®\n\n#### Blinn-Phongåå°„æ¨¡å‹\n\næˆ‘ä»¬å°†Rå’Œvå¤¹è§’è½¬åŒ–ä¸ºRçš„åŠç¨‹å‘é‡è½¬åŒ–ä¸ºä¸hçš„å¤¹è§’ï¼Œå¾—åˆ°ç»“æœååˆ†è¿‘ä¼¼ï¼ŒåŒæ—¶è®¡ç®—é€Ÿåº¦å˜å¿«å¾ˆå¤šã€‚\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230504212148.png)\n\n#### æ•´ä½“è®¡ç®—å…¬å¼\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230504212203.png)\n\n","source":"_posts/å›¾å½¢å­¦-å…‰æ …åŒ–.md","raw":"---\ntitle: å›¾å½¢å­¦-å…‰æ …åŒ–\ndate: 2023-05-03 13:30:56\n---\n\n### å›¾å½¢ç®¡çº¿ï¼ˆgraphics pipelineï¼‰æ€»è§ˆ\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230503140547.png)\n\n### å…‰æ …åŒ–\n\n#### ç»˜åˆ¶çº¿æ¡ï¼ˆmidpoint-Bresenhamç®—æ³•ï¼‰\n\næˆ‘ä»¬é¦–å…ˆçŸ¥é“ä»»ä½•ä¸€æ¡ä¸€ç»´ç›´çº¿å¯ä»¥ç”¨ f(x,y) = ax + by + c = 0 ,å°†ç‚¹(x0,y0) å’Œ(x1,y1)ä»£å…¥å¾—ä»¥ä¸‹ç»“æœ\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230503214800.png)\n\næˆ‘ä»¬åœ¨è¿™é‡Œå…ˆè€ƒè™‘æ–œç‡åœ¨(0,1]çš„æƒ…å†µï¼Œä¹‹åç±»æ¨åˆ° (-âˆ,-1],(-1,0],(1,âˆ)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230503215239.png)\n\nåœ¨åŸºäºæ–œç‡åœ¨0-1çš„æƒ…å†µä¸‹ï¼Œå¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œå‡è®¾æˆ‘ä»¬ç°åœ¨è¦ç”»æ©™è‰²æ ¼å­ï¼Œåªå¯èƒ½æ˜¯åœ¨æœ€åä¸€ä¸ªè“è‰²æ ¼å­çš„å³è¾¹æˆ–è€…å³ä¸Šï¼Œå¦‚æœç›´çº¿é«˜äºé»‘è‰²åœ†ç‚¹å°±ç”»åœ¨å³ä¸Šï¼Œå¦‚æœä½äºé»‘è‰²åœ†ç‚¹å°±ç”»åœ¨å³è¾¹ã€‚\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230503215544.png)\n\nä¼ªä»£ç å¦‚ä¸Šï¼Œé‚£ä¹ˆsome conditionæ˜¯ä»€ä¹ˆï¼Œæˆ‘ä»¬çŸ¥é“æ¯ä¸ªåƒç´ åæ ‡æ˜¯æ–¹æ ¼çš„ä¸­é—´ï¼Œé‚£ä¹ˆé»‘è‰²åŸç‚¹åº”è¯¥æ˜¯æœ€åä¸€ä¸ªè“è‰²æ–¹æ ¼çš„(x+1,y+0.5),æ‰€ä»¥å¾—åˆ°f(x+1,y+0.5) > 0 æ—¶ï¼Œä¹Ÿå°±æ˜¯ä¸­ç‚¹åœ¨ç›´çº¿ä¸Šé¢ï¼Œé‚£å°±æŠŠæ©™è‰²æ ¼å­ç”»åœ¨å³è¾¹ã€‚ç›¸åå°±ç”»åœ¨å³ä¸Šï¼Œå¦‚æœç›¸ç­‰ï¼Œå–å†³äºè‡ªå·±ï¼Œå½±å“ä¸å¤§ã€‚\n\nä¸Šé¢å°±æ˜¯æ¯”è¾ƒå¥½çš„ç›´çº¿ç»˜åˆ¶ç®—æ³•ï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬æ¯æ¬¡éƒ½è¦è¿›è¡Œä¸€æ¬¡F(x,y)çš„è®¡ç®—ï¼Œåœ¨ç°åœ¨å…‰ä¸‰è§’å½¢é¢æ•°å°±æœ‰å‡ ç™¾ä¸‡çš„æ¨¡å‹ä¸Šï¼Œæ— ç–‘æ˜¯ååˆ†æ¶ˆè€—èµ„æºçš„ã€‚\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230503215938.png)\n\nåœ¨ä¸Šå¼ï¼Œæˆ‘ä»¬æ‰¾åˆ°æ‰€å¯¹åº”çš„å…³ç³»ï¼Œæˆ‘ä»¬ä¸€å¼€å§‹å°±å°†(x0+1,y0+0.5)ä»£å…¥ï¼Œåé¢æ¯æ¬¡è®¡ç®—æˆ‘ä»¬åªè¦ç´¯åŠ ä¸Šè¿°å›¾ç‰‡çš„å‡½æ•°åé¢çš„ä¸€éƒ¨åˆ†å°±å¯ä»¥çœä¸‹å¾ˆå¤šæ¬¡f(x,y)çš„è®¡ç®—ã€‚å› æ­¤æˆ‘ä»¬å¾—åˆ°ä»¥ä¸‹æ”¹è¿›è¿‡çš„ä¼ªä»£ç \n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230503220154.png)\n\næ¥ç€æˆ‘ä»¬æ¨å¹¿ä¸åŒçš„è§’åº¦çš„ç›´çº¿ï¼Œä¹Ÿå°±æ˜¯å°†xï¼Œyè½¬åŒ–ä¸ºæ–œç‡ï¼ˆ0ï¼Œ1ï¼‰çš„èŒƒå›´ï¼Œä¹Ÿå°±æ˜¯è¿›è¡Œç¿»è½¬ç­‰ã€‚ä¸‹é¢æ˜¯milo yipå®ç°çš„ä¸€ä»½å¾ˆæ¼‚äº®çš„ä»£ç \n\n```c++\nvoid bresenham(int x0, int y0, int x1, int y1) {\n    int dx = abs(x1 - x0), sx = x0 < x1 ? 1 : -1;\n    int dy = abs(y1 - y0), sy = y0 < y1 ? 1 : -1;\n    int err = (dx > dy ? dx : -dy) / 2;\n\n    // setpixel = draw\n    while (setpixel(x0, y0), x0 != x1 || y0 != y1) {\n        int e2 = err;\n        if (e2 > -dx) { err -= dy; x0 += sx; }\n        if (e2 <  dy) { err += dx; y0 += sy; }\n    }\n}\n```\n\n#### ä¸‰è§’å½¢çš„å…‰æ …åŒ–\n\næœ‰äº†ç›´çº¿ç»˜åˆ¶ç®—æ³•ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç”»å‡ºä¸€ä¸ªä¸‰è§’å½¢äº†ï¼Œä½†æ˜¯å¦‚ä½•æ¶‚æ»¡ä¸‰è§’å½¢å†…éƒ¨å‘¢ã€‚æœ€ç®€å•çš„åšæ³•å°±æ˜¯åˆ¤æ–­æ¯ä¸ªåƒç´ ç‚¹æ˜¯å¦åœ¨å†…éƒ¨ï¼Œåˆ©ç”¨å‰ä¹˜çš„æ€§è´¨ï¼Œæˆ‘ä»¬äº‹å…ˆçŸ¥é“æƒ³è¦å…‰æ …åŒ–çš„ä¸‰è§’å½¢çš„ä¸‰ä¸ªé¡¶ç‚¹P0ï¼ŒP1ï¼ŒP2ï¼Œä»¥åŠæ£€æµ‹ç‚¹Qã€‚ åªè¦åˆ†åˆ«è®¡ç®— P0P1 Ã— P0Q , P1P2 Ã— P1Q , P2P0 Ã— P2Q ï¼Œä¸‰è€…åŒå·å°±è¯´æ˜å¿…ç„¶å¤„äºä¸‰è§’å½¢å†…éƒ¨ï¼Œä¸åŒå·åˆ™è¯´æ˜è¯¥ç‚¹ä¸€å®šåœ¨ä¸‰è§’å½¢å¤–éƒ¨ã€‚ä½†æ˜¯å¯¹å…¨éƒ¨åƒç´ ç‚¹è¿˜æ˜¯å¾ˆæµªè´¹ï¼Œå¯ä»¥ç”¨åŒ…å›´ç›’çš„æ€è·¯ï¼Œå¿«é€Ÿç®—å‡ºåŒ…å›´ç›’ç„¶åå¯¹åŒ…å›´ç›’é‡Œçš„ç‚¹è¿›è¡Œåˆ¤æ–­å³å¯ã€‚\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230503221856.png)\n\nå› ä¸ºæ¯ä¸ªåœ¨ä¸‰è§’å½¢çš„ç‚¹éƒ½å¯ä»¥ç”¨é‡å¿ƒè¡¨ç¤ºæ³•è¡¨ç¤ºå‡ºæ¥\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230503223329.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230503223237.png)\n\nåªè¦ç‚¹åœ¨é‡Œé¢ï¼Œæˆ‘ä»¬ç®—å‡ºæ¥çš„å€¼å°±ä¼š > 0ï¼Œåˆ©ç”¨è¿™ä¸ªæ€§è´¨ä»¥åŠï¼Œä»»æ„ä¸¤ä¸ªäºŒç»´å‘é‡ç»„åˆæˆçŸ©é˜µçš„è¡Œåˆ—å¼çš„ç»å¯¹å€¼ï¼Œä¸ºè¿™ä¸¤ä¸ªå‘é‡æ‰€å›´æˆå¹³è¡Œå››è¾¹å½¢çš„é¢ç§¯ï¼Œä¸éš¾å¾—å‡º\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230503223729.png)\n\næˆ‘ä»¬å°è¯•å°†å‰ä¹˜åˆ—å‡ºæ¥ï¼Œå‘ç°å·§å¦™çš„æ˜¯ï¼Œæ­£å¥½å¯¹åº”æ–¹ç¨‹å¼\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230503222945.png)\n\nå‘ç°å¾ˆç¬¦åˆä¸Šé¢æ±‚Î±ï¼ŒÎ²ï¼ŒÎ³çš„å¼å­ï¼Œä»£å…¥è·å¾—ä¼ªä»£ç \n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230503223826.png)\n\næ³¨æ„åˆ°ï¼Œå¦‚æœä¸€ä¸ªç‚¹åœ¨è¾¹ä¸Šçš„è¯ï¼Œå¦‚ä½•è§£å†³ï¼Œæ¯•ç«Ÿæœ‰å¯èƒ½åŒæ—¶åœ¨ä¸¤ä¸ªä¸‰è§’å½¢ä¸Šï¼Œç­”æ¡ˆæ˜¯å–å†³ä½ è‡ªå·±ï¼Œè¯¦è§è™ä¹¦8.1.2ã€‚å› ä¸ºå¦‚æœä¸ç”»çš„è¯ï¼Œä¸¤ä¸ªä¸‰è§’å½¢å°†ä¼šäº§ç”Ÿç¼éš™ï¼Œå¦‚æœä¸¤ä¸ªéƒ½ç”»çš„è¯ï¼Œå¦‚æœä¸‰è§’å½¢æ˜¯é€æ˜çš„ï¼Œè¿™å°†å¯¼è‡´åŒé‡ç€è‰²ã€‚\n\n#### Z-bufferç®—æ³•\n\nå¸¸è§çš„å¤„ç†å‰åå…³ç³»æœ‰ç”»å®¶ç®—æ³•å’Œz-bufferç®—æ³•ï¼Œå‰è€…æ€§èƒ½æ¶ˆè€—è¾ƒå¤§å·²ç»å¾ˆå°‘ç”¨äº†ï¼Œåè€…å¾ˆç®€å•ï¼Œæˆ‘ä»¬è®¾ç½®ä¸€ä¸ªzbufferæ•°ç»„ï¼Œç»˜åˆ¶ä¸‰è§’å½¢çš„æ—¶å€™å¦‚æœè¯¥ä¸‰è§’å½¢çš„æ·±åº¦æ¯”è¾ƒå°ï¼Œå°±è¦†ç›–æ‰zbufferçš„å€¼ï¼ŒåŒæ—¶æ›´æ–°è¯¥ç‚¹çš„é¢œè‰²ã€‚\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230503225042.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230503225034.png)\n\nå³ä½¿è¿™æ ·ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šé‡åˆ°æ·±åº¦å†²çªçš„é—®é¢˜ï¼Œä¹Ÿå°±æ˜¯ç‰©ä½“zè½´ç›¸åŒï¼Œä¼šè¿›è¡Œé—ªçƒã€‚è¶Šæ¥è¿‘farå¹³é¢ï¼Œdepthå˜åŒ–è¶Šå°ï¼Œç²¾åº¦å˜å·®è¶Šå®¹æ˜“å‡ºç°z-fightingé—®é¢˜ã€‚\né¿å…Z-fightingé—®é¢˜ï¼š\n- å¯ä»¥å°†nearå’Œ farçš„è·ç¦»ç¼©å°ï¼ŒåŒæ—¶å°½é‡å°†nearå˜å¤§ä¸€äº›ã€‚\n- å½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨ç²¾åº¦æ›´é«˜çš„zbufferï¼Œç®€å•æ¥è¯´å°±æ˜¯ float -> double\n\nå‚è€ƒï¼š[å…¨é¢è®¤è¯†Depth - è¿™é‡Œæœ‰å…³äºDepthçš„ä¸€åˆ‡](https://zhuanlan.zhihu.com/p/25095708)\n\n### ç€è‰²é¢‘ç‡\n\n#### é€å¹³é¢ç€è‰²(Flat Shading)\n\né¡¾åæ€ä¹‰ï¼Œå°±æ˜¯ä»¥æ¯ä¸€ä¸ªé¢ä½œä¸ºä¸€ä¸ªç€è‰²å•ä½è¿›è¡Œç€è‰²è®¡ç®—\n\n#### é€é¡¶ç‚¹ç€è‰²(Per-vertex Shading/Gouraud shading)\n\né¡¾åæ€ä¹‰å°±æ˜¯å¯¹æ¯ä¸€ä¸ªé¡¶ç‚¹è¿›è¡Œç€è‰²è®¡ç®—ï¼Œé¡¶ç‚¹æ³•çº¿è®¡ç®—å°±æ˜¯ç”±è¿™ä¸ªç‚¹ç›¸å…³çš„æ¯ä¸ªé¢çš„æ³•çº¿æ±‚å¹³å‡å€¼å†è¿›è¡Œæ ‡å‡†åŒ–å³å¯å¾—åˆ°,å¯¹äºå†…éƒ¨çš„ç‚¹å°±ç”¨é‡å¿ƒåæ ‡è®¡ç®—é¢œè‰²\n\n#### é€åƒç´ ç€è‰²(Phong shading)\n\nå°±æ˜¯å¯¹æ¯ä¸ªåƒç´ è¿›è¡Œç€è‰²è®¡ç®—ï¼Œä¸‰è§’å½¢å†…éƒ¨çš„ç‚¹åŒæ ·ç”¨é‡å¿ƒæ³•è¿›è¡Œè®¡ç®—ï¼Œåªä¸è¿‡è¿™æ¬¡æ˜¯è®¡ç®—æ³•çº¿ï¼Œè¿™æ ·å­å¯èƒ½è¦æ›´å‡†ç¡®äº›ã€‚\n\n#### æ•ˆæœå¯¹æ¯”\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230503233930.png)\n\n### ç€è‰²æ¨¡å‹\n\n#### Ambientæ³›å…‰æ¨¡å‹\n\nå³åªè€ƒè™‘ç¯å¢ƒå…‰ï¼Œè¿™æ—¶ä¸€ä¸ªç»éªŒæ¨¡å‹\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230504210946.png)\n\nå…¶ä¸­\nKaä»£è¡¨ç‰©ä½“è¡¨é¢å¯¹ç¯å¢ƒå…‰çš„åå°„ç‡ï¼ŒIaä»£è¡¨å…¥å°„ç¯å¢ƒå…‰çš„äº®åº¦ï¼ŒIenvå­˜å‚¨ç»“æœï¼Œå³äººçœ¼æ‰€èƒ½çœ‹åˆ°ä»ç‰©ä½“è¡¨é¢åå°„çš„ç¯å¢ƒå…‰çš„äº®åº¦ã€‚\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230504211039.png)\n\n#### Lambertæ¼«åå°„æ¨¡å‹(diffuse)\n\nå°±æ˜¯åœ¨Ambientä¸Šå¢åŠ äº†æ¼«åå°„é¡¹ã€‚æ¼«åå°„ä¾¿æ˜¯å…‰ä»ä¸€å®šè§’åº¦å…¥å°„ä¹‹åä»å…¥å°„ç‚¹å‘å››é¢å…«æ–¹åå°„ï¼Œä¸”æ¯ä¸ªä¸åŒæ–¹å‘åå°„çš„å…‰çš„å¼ºåº¦ç›¸ç­‰ï¼Œè€Œäº§ç”Ÿæ¼«åå°„çš„åŸå› æ˜¯ç‰©ä½“è¡¨é¢çš„ç²—ç³™ï¼Œå¯¼è‡´äº†è¿™ç§ç‰©ç†ç°è±¡çš„å‘ç”Ÿã€‚\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230504211346.png)\n\nåªæœ‰å½“å…¥å°„å…‰çº¿ä¸å¹³é¢å‚ç›´çš„æ—¶å€™æ‰èƒ½æ¥å—å®Œæ•´çš„å…‰ï¼Œå…¥å°„è§’åº¦è¶Šå€¾æ–œæŸå¤±çš„èƒ½é‡è¶Šå¤§ã€‚\né™¤äº†å…¥å°„è§’åº¦ï¼Œå…‰æºä¸ç…§å°„ç‚¹çš„è·ç¦»ä¹Ÿè¦è€ƒè™‘ï¼Œç¦»å¾—è¶Šè¿œå¼ºåº¦è¶Šå¼±ã€‚ \n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230504211515.png)\n\nå…¶ä¸­Kdä¸ºæ¼«åå°„ç³»æ•°ï¼ŒIä¸ºå…¥å°„å…‰å¼ºï¼Œn,låˆ†åˆ«å¦‚å›¾ä¸­æ‰€ç¤ºä¸ºæ³•çº¿å‘é‡å’Œå…¥å°„æ–¹å‘ï¼Œmaxæ˜¯ä¸ºäº†å‰”é™¤å¤¹è§’å¤§äº90Â°çš„å…‰ã€‚\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230504211558.png)\n\n#### Phongåå°„æ¨¡å‹(Specular)\n\nphong åå°„æ¨¡å‹ä¸»è¦æ˜¯ä¸ºäº†è®¡ç®—é«˜å…‰ï¼Œä¸‹å›¾Rä¸ºå…‰çº¿åå°„æ–¹å‘ï¼Œvä¸ºäººçœ¼è§‚å¯Ÿæ–¹å‘ï¼Œ\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230504211732.png)\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230504211851.png)\n\nå…¶ä¸­Ksä¸ºé•œé¢åå°„ç³»æ•°ï¼ŒIä¸ºå…¥å°„å…‰å¼ºï¼Œrä¸ºå…‰æºåˆ°å…¥å°„ç‚¹è·ç¦»ï¼Œæ³¨æ„è¿™é‡Œåœ¨maxå‰”é™¤å¤§äº90Â°çš„å…‰ä¹‹åï¼Œæˆ‘ä»¬è¿˜ä¹˜äº†ä¸€ä¸ªæŒ‡æ•°pï¼Œæ·»åŠ è¯¥é¡¹çš„åŸå› å¾ˆç›´æ¥ï¼Œå› ä¸ºç¦»åå°„å…‰è¶Šè¿œå°±è¶Šä¸åº”è¯¥çœ‹è§åå°„å…‰ï¼Œéœ€è¦ä¸€ä¸ªæŒ‡æ•°påŠ é€Ÿè¡°å‡ï¼ŒÎ±ä¸ºRå’Œvçš„å¤¹è§’ï¼Œå½“pè¶Šå¤§è¶Šå‡†ç¡®\n\n#### Blinn-Phongåå°„æ¨¡å‹\n\næˆ‘ä»¬å°†Rå’Œvå¤¹è§’è½¬åŒ–ä¸ºRçš„åŠç¨‹å‘é‡è½¬åŒ–ä¸ºä¸hçš„å¤¹è§’ï¼Œå¾—åˆ°ç»“æœååˆ†è¿‘ä¼¼ï¼ŒåŒæ—¶è®¡ç®—é€Ÿåº¦å˜å¿«å¾ˆå¤šã€‚\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230504212148.png)\n\n#### æ•´ä½“è®¡ç®—å…¬å¼\n\n![](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230504212203.png)\n\n","slug":"å›¾å½¢å­¦-å…‰æ …åŒ–","published":1,"updated":"2024-01-07T07:45:33.036Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clr4d2ju6000fgwv06vh96hvo","content":"<h3 id=\"å›¾å½¢ç®¡çº¿ï¼ˆgraphics-pipelineï¼‰æ€»è§ˆ\"><a href=\"#å›¾å½¢ç®¡çº¿ï¼ˆgraphics-pipelineï¼‰æ€»è§ˆ\" class=\"headerlink\" title=\"å›¾å½¢ç®¡çº¿ï¼ˆgraphics pipelineï¼‰æ€»è§ˆ\"></a>å›¾å½¢ç®¡çº¿ï¼ˆgraphics pipelineï¼‰æ€»è§ˆ</h3><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230503140547.png\"></p>\n<h3 id=\"å…‰æ …åŒ–\"><a href=\"#å…‰æ …åŒ–\" class=\"headerlink\" title=\"å…‰æ …åŒ–\"></a>å…‰æ …åŒ–</h3><h4 id=\"ç»˜åˆ¶çº¿æ¡ï¼ˆmidpoint-Bresenhamç®—æ³•ï¼‰\"><a href=\"#ç»˜åˆ¶çº¿æ¡ï¼ˆmidpoint-Bresenhamç®—æ³•ï¼‰\" class=\"headerlink\" title=\"ç»˜åˆ¶çº¿æ¡ï¼ˆmidpoint-Bresenhamç®—æ³•ï¼‰\"></a>ç»˜åˆ¶çº¿æ¡ï¼ˆmidpoint-Bresenhamç®—æ³•ï¼‰</h4><p>æˆ‘ä»¬é¦–å…ˆçŸ¥é“ä»»ä½•ä¸€æ¡ä¸€ç»´ç›´çº¿å¯ä»¥ç”¨ f(x,y) &#x3D; ax + by + c &#x3D; 0 ,å°†ç‚¹(x0,y0) å’Œ(x1,y1)ä»£å…¥å¾—ä»¥ä¸‹ç»“æœ</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230503214800.png\"></p>\n<p>æˆ‘ä»¬åœ¨è¿™é‡Œå…ˆè€ƒè™‘æ–œç‡åœ¨(0,1]çš„æƒ…å†µï¼Œä¹‹åç±»æ¨åˆ° (-âˆ,-1],(-1,0],(1,âˆ)</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230503215239.png\"></p>\n<p>åœ¨åŸºäºæ–œç‡åœ¨0-1çš„æƒ…å†µä¸‹ï¼Œå¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œå‡è®¾æˆ‘ä»¬ç°åœ¨è¦ç”»æ©™è‰²æ ¼å­ï¼Œåªå¯èƒ½æ˜¯åœ¨æœ€åä¸€ä¸ªè“è‰²æ ¼å­çš„å³è¾¹æˆ–è€…å³ä¸Šï¼Œå¦‚æœç›´çº¿é«˜äºé»‘è‰²åœ†ç‚¹å°±ç”»åœ¨å³ä¸Šï¼Œå¦‚æœä½äºé»‘è‰²åœ†ç‚¹å°±ç”»åœ¨å³è¾¹ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230503215544.png\"></p>\n<p>ä¼ªä»£ç å¦‚ä¸Šï¼Œé‚£ä¹ˆsome conditionæ˜¯ä»€ä¹ˆï¼Œæˆ‘ä»¬çŸ¥é“æ¯ä¸ªåƒç´ åæ ‡æ˜¯æ–¹æ ¼çš„ä¸­é—´ï¼Œé‚£ä¹ˆé»‘è‰²åŸç‚¹åº”è¯¥æ˜¯æœ€åä¸€ä¸ªè“è‰²æ–¹æ ¼çš„(x+1,y+0.5),æ‰€ä»¥å¾—åˆ°f(x+1,y+0.5) &gt; 0 æ—¶ï¼Œä¹Ÿå°±æ˜¯ä¸­ç‚¹åœ¨ç›´çº¿ä¸Šé¢ï¼Œé‚£å°±æŠŠæ©™è‰²æ ¼å­ç”»åœ¨å³è¾¹ã€‚ç›¸åå°±ç”»åœ¨å³ä¸Šï¼Œå¦‚æœç›¸ç­‰ï¼Œå–å†³äºè‡ªå·±ï¼Œå½±å“ä¸å¤§ã€‚</p>\n<p>ä¸Šé¢å°±æ˜¯æ¯”è¾ƒå¥½çš„ç›´çº¿ç»˜åˆ¶ç®—æ³•ï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬æ¯æ¬¡éƒ½è¦è¿›è¡Œä¸€æ¬¡F(x,y)çš„è®¡ç®—ï¼Œåœ¨ç°åœ¨å…‰ä¸‰è§’å½¢é¢æ•°å°±æœ‰å‡ ç™¾ä¸‡çš„æ¨¡å‹ä¸Šï¼Œæ— ç–‘æ˜¯ååˆ†æ¶ˆè€—èµ„æºçš„ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230503215938.png\"></p>\n<p>åœ¨ä¸Šå¼ï¼Œæˆ‘ä»¬æ‰¾åˆ°æ‰€å¯¹åº”çš„å…³ç³»ï¼Œæˆ‘ä»¬ä¸€å¼€å§‹å°±å°†(x0+1,y0+0.5)ä»£å…¥ï¼Œåé¢æ¯æ¬¡è®¡ç®—æˆ‘ä»¬åªè¦ç´¯åŠ ä¸Šè¿°å›¾ç‰‡çš„å‡½æ•°åé¢çš„ä¸€éƒ¨åˆ†å°±å¯ä»¥çœä¸‹å¾ˆå¤šæ¬¡f(x,y)çš„è®¡ç®—ã€‚å› æ­¤æˆ‘ä»¬å¾—åˆ°ä»¥ä¸‹æ”¹è¿›è¿‡çš„ä¼ªä»£ç </p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230503220154.png\"></p>\n<p>æ¥ç€æˆ‘ä»¬æ¨å¹¿ä¸åŒçš„è§’åº¦çš„ç›´çº¿ï¼Œä¹Ÿå°±æ˜¯å°†xï¼Œyè½¬åŒ–ä¸ºæ–œç‡ï¼ˆ0ï¼Œ1ï¼‰çš„èŒƒå›´ï¼Œä¹Ÿå°±æ˜¯è¿›è¡Œç¿»è½¬ç­‰ã€‚ä¸‹é¢æ˜¯milo yipå®ç°çš„ä¸€ä»½å¾ˆæ¼‚äº®çš„ä»£ç </p>\n<figure class=\"highlight c++\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">bresenham</span><span class=\"params\">(<span class=\"type\">int</span> x0, <span class=\"type\">int</span> y0, <span class=\"type\">int</span> x1, <span class=\"type\">int</span> y1)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> dx = <span class=\"built_in\">abs</span>(x1 - x0), sx = x0 &lt; x1 ? <span class=\"number\">1</span> : <span class=\"number\">-1</span>;</span><br><span class=\"line\">    <span class=\"type\">int</span> dy = <span class=\"built_in\">abs</span>(y1 - y0), sy = y0 &lt; y1 ? <span class=\"number\">1</span> : <span class=\"number\">-1</span>;</span><br><span class=\"line\">    <span class=\"type\">int</span> err = (dx &gt; dy ? dx : -dy) / <span class=\"number\">2</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// setpixel = draw</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> (<span class=\"built_in\">setpixel</span>(x0, y0), x0 != x1 || y0 != y1) &#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> e2 = err;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (e2 &gt; -dx) &#123; err -= dy; x0 += sx; &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (e2 &lt;  dy) &#123; err += dx; y0 += sy; &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"ä¸‰è§’å½¢çš„å…‰æ …åŒ–\"><a href=\"#ä¸‰è§’å½¢çš„å…‰æ …åŒ–\" class=\"headerlink\" title=\"ä¸‰è§’å½¢çš„å…‰æ …åŒ–\"></a>ä¸‰è§’å½¢çš„å…‰æ …åŒ–</h4><p>æœ‰äº†ç›´çº¿ç»˜åˆ¶ç®—æ³•ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç”»å‡ºä¸€ä¸ªä¸‰è§’å½¢äº†ï¼Œä½†æ˜¯å¦‚ä½•æ¶‚æ»¡ä¸‰è§’å½¢å†…éƒ¨å‘¢ã€‚æœ€ç®€å•çš„åšæ³•å°±æ˜¯åˆ¤æ–­æ¯ä¸ªåƒç´ ç‚¹æ˜¯å¦åœ¨å†…éƒ¨ï¼Œåˆ©ç”¨å‰ä¹˜çš„æ€§è´¨ï¼Œæˆ‘ä»¬äº‹å…ˆçŸ¥é“æƒ³è¦å…‰æ …åŒ–çš„ä¸‰è§’å½¢çš„ä¸‰ä¸ªé¡¶ç‚¹P0ï¼ŒP1ï¼ŒP2ï¼Œä»¥åŠæ£€æµ‹ç‚¹Qã€‚ åªè¦åˆ†åˆ«è®¡ç®— P0P1 Ã— P0Q , P1P2 Ã— P1Q , P2P0 Ã— P2Q ï¼Œä¸‰è€…åŒå·å°±è¯´æ˜å¿…ç„¶å¤„äºä¸‰è§’å½¢å†…éƒ¨ï¼Œä¸åŒå·åˆ™è¯´æ˜è¯¥ç‚¹ä¸€å®šåœ¨ä¸‰è§’å½¢å¤–éƒ¨ã€‚ä½†æ˜¯å¯¹å…¨éƒ¨åƒç´ ç‚¹è¿˜æ˜¯å¾ˆæµªè´¹ï¼Œå¯ä»¥ç”¨åŒ…å›´ç›’çš„æ€è·¯ï¼Œå¿«é€Ÿç®—å‡ºåŒ…å›´ç›’ç„¶åå¯¹åŒ…å›´ç›’é‡Œçš„ç‚¹è¿›è¡Œåˆ¤æ–­å³å¯ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230503221856.png\"></p>\n<p>å› ä¸ºæ¯ä¸ªåœ¨ä¸‰è§’å½¢çš„ç‚¹éƒ½å¯ä»¥ç”¨é‡å¿ƒè¡¨ç¤ºæ³•è¡¨ç¤ºå‡ºæ¥</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230503223329.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230503223237.png\"></p>\n<p>åªè¦ç‚¹åœ¨é‡Œé¢ï¼Œæˆ‘ä»¬ç®—å‡ºæ¥çš„å€¼å°±ä¼š &gt; 0ï¼Œåˆ©ç”¨è¿™ä¸ªæ€§è´¨ä»¥åŠï¼Œä»»æ„ä¸¤ä¸ªäºŒç»´å‘é‡ç»„åˆæˆçŸ©é˜µçš„è¡Œåˆ—å¼çš„ç»å¯¹å€¼ï¼Œä¸ºè¿™ä¸¤ä¸ªå‘é‡æ‰€å›´æˆå¹³è¡Œå››è¾¹å½¢çš„é¢ç§¯ï¼Œä¸éš¾å¾—å‡º</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230503223729.png\"></p>\n<p>æˆ‘ä»¬å°è¯•å°†å‰ä¹˜åˆ—å‡ºæ¥ï¼Œå‘ç°å·§å¦™çš„æ˜¯ï¼Œæ­£å¥½å¯¹åº”æ–¹ç¨‹å¼</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230503222945.png\"></p>\n<p>å‘ç°å¾ˆç¬¦åˆä¸Šé¢æ±‚Î±ï¼ŒÎ²ï¼ŒÎ³çš„å¼å­ï¼Œä»£å…¥è·å¾—ä¼ªä»£ç </p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230503223826.png\"></p>\n<p>æ³¨æ„åˆ°ï¼Œå¦‚æœä¸€ä¸ªç‚¹åœ¨è¾¹ä¸Šçš„è¯ï¼Œå¦‚ä½•è§£å†³ï¼Œæ¯•ç«Ÿæœ‰å¯èƒ½åŒæ—¶åœ¨ä¸¤ä¸ªä¸‰è§’å½¢ä¸Šï¼Œç­”æ¡ˆæ˜¯å–å†³ä½ è‡ªå·±ï¼Œè¯¦è§è™ä¹¦8.1.2ã€‚å› ä¸ºå¦‚æœä¸ç”»çš„è¯ï¼Œä¸¤ä¸ªä¸‰è§’å½¢å°†ä¼šäº§ç”Ÿç¼éš™ï¼Œå¦‚æœä¸¤ä¸ªéƒ½ç”»çš„è¯ï¼Œå¦‚æœä¸‰è§’å½¢æ˜¯é€æ˜çš„ï¼Œè¿™å°†å¯¼è‡´åŒé‡ç€è‰²ã€‚</p>\n<h4 id=\"Z-bufferç®—æ³•\"><a href=\"#Z-bufferç®—æ³•\" class=\"headerlink\" title=\"Z-bufferç®—æ³•\"></a>Z-bufferç®—æ³•</h4><p>å¸¸è§çš„å¤„ç†å‰åå…³ç³»æœ‰ç”»å®¶ç®—æ³•å’Œz-bufferç®—æ³•ï¼Œå‰è€…æ€§èƒ½æ¶ˆè€—è¾ƒå¤§å·²ç»å¾ˆå°‘ç”¨äº†ï¼Œåè€…å¾ˆç®€å•ï¼Œæˆ‘ä»¬è®¾ç½®ä¸€ä¸ªzbufferæ•°ç»„ï¼Œç»˜åˆ¶ä¸‰è§’å½¢çš„æ—¶å€™å¦‚æœè¯¥ä¸‰è§’å½¢çš„æ·±åº¦æ¯”è¾ƒå°ï¼Œå°±è¦†ç›–æ‰zbufferçš„å€¼ï¼ŒåŒæ—¶æ›´æ–°è¯¥ç‚¹çš„é¢œè‰²ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230503225042.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230503225034.png\"></p>\n<p>å³ä½¿è¿™æ ·ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šé‡åˆ°æ·±åº¦å†²çªçš„é—®é¢˜ï¼Œä¹Ÿå°±æ˜¯ç‰©ä½“zè½´ç›¸åŒï¼Œä¼šè¿›è¡Œé—ªçƒã€‚è¶Šæ¥è¿‘farå¹³é¢ï¼Œdepthå˜åŒ–è¶Šå°ï¼Œç²¾åº¦å˜å·®è¶Šå®¹æ˜“å‡ºç°z-fightingé—®é¢˜ã€‚<br>é¿å…Z-fightingé—®é¢˜ï¼š</p>\n<ul>\n<li>å¯ä»¥å°†nearå’Œ farçš„è·ç¦»ç¼©å°ï¼ŒåŒæ—¶å°½é‡å°†nearå˜å¤§ä¸€äº›ã€‚</li>\n<li>å½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨ç²¾åº¦æ›´é«˜çš„zbufferï¼Œç®€å•æ¥è¯´å°±æ˜¯ float -&gt; double</li>\n</ul>\n<p>å‚è€ƒï¼š<a href=\"https://zhuanlan.zhihu.com/p/25095708\">å…¨é¢è®¤è¯†Depth - è¿™é‡Œæœ‰å…³äºDepthçš„ä¸€åˆ‡</a></p>\n<h3 id=\"ç€è‰²é¢‘ç‡\"><a href=\"#ç€è‰²é¢‘ç‡\" class=\"headerlink\" title=\"ç€è‰²é¢‘ç‡\"></a>ç€è‰²é¢‘ç‡</h3><h4 id=\"é€å¹³é¢ç€è‰²-Flat-Shading\"><a href=\"#é€å¹³é¢ç€è‰²-Flat-Shading\" class=\"headerlink\" title=\"é€å¹³é¢ç€è‰²(Flat Shading)\"></a>é€å¹³é¢ç€è‰²(Flat Shading)</h4><p>é¡¾åæ€ä¹‰ï¼Œå°±æ˜¯ä»¥æ¯ä¸€ä¸ªé¢ä½œä¸ºä¸€ä¸ªç€è‰²å•ä½è¿›è¡Œç€è‰²è®¡ç®—</p>\n<h4 id=\"é€é¡¶ç‚¹ç€è‰²-Per-vertex-Shading-x2F-Gouraud-shading\"><a href=\"#é€é¡¶ç‚¹ç€è‰²-Per-vertex-Shading-x2F-Gouraud-shading\" class=\"headerlink\" title=\"é€é¡¶ç‚¹ç€è‰²(Per-vertex Shading&#x2F;Gouraud shading)\"></a>é€é¡¶ç‚¹ç€è‰²(Per-vertex Shading&#x2F;Gouraud shading)</h4><p>é¡¾åæ€ä¹‰å°±æ˜¯å¯¹æ¯ä¸€ä¸ªé¡¶ç‚¹è¿›è¡Œç€è‰²è®¡ç®—ï¼Œé¡¶ç‚¹æ³•çº¿è®¡ç®—å°±æ˜¯ç”±è¿™ä¸ªç‚¹ç›¸å…³çš„æ¯ä¸ªé¢çš„æ³•çº¿æ±‚å¹³å‡å€¼å†è¿›è¡Œæ ‡å‡†åŒ–å³å¯å¾—åˆ°,å¯¹äºå†…éƒ¨çš„ç‚¹å°±ç”¨é‡å¿ƒåæ ‡è®¡ç®—é¢œè‰²</p>\n<h4 id=\"é€åƒç´ ç€è‰²-Phong-shading\"><a href=\"#é€åƒç´ ç€è‰²-Phong-shading\" class=\"headerlink\" title=\"é€åƒç´ ç€è‰²(Phong shading)\"></a>é€åƒç´ ç€è‰²(Phong shading)</h4><p>å°±æ˜¯å¯¹æ¯ä¸ªåƒç´ è¿›è¡Œç€è‰²è®¡ç®—ï¼Œä¸‰è§’å½¢å†…éƒ¨çš„ç‚¹åŒæ ·ç”¨é‡å¿ƒæ³•è¿›è¡Œè®¡ç®—ï¼Œåªä¸è¿‡è¿™æ¬¡æ˜¯è®¡ç®—æ³•çº¿ï¼Œè¿™æ ·å­å¯èƒ½è¦æ›´å‡†ç¡®äº›ã€‚</p>\n<h4 id=\"æ•ˆæœå¯¹æ¯”\"><a href=\"#æ•ˆæœå¯¹æ¯”\" class=\"headerlink\" title=\"æ•ˆæœå¯¹æ¯”\"></a>æ•ˆæœå¯¹æ¯”</h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230503233930.png\"></p>\n<h3 id=\"ç€è‰²æ¨¡å‹\"><a href=\"#ç€è‰²æ¨¡å‹\" class=\"headerlink\" title=\"ç€è‰²æ¨¡å‹\"></a>ç€è‰²æ¨¡å‹</h3><h4 id=\"Ambientæ³›å…‰æ¨¡å‹\"><a href=\"#Ambientæ³›å…‰æ¨¡å‹\" class=\"headerlink\" title=\"Ambientæ³›å…‰æ¨¡å‹\"></a>Ambientæ³›å…‰æ¨¡å‹</h4><p>å³åªè€ƒè™‘ç¯å¢ƒå…‰ï¼Œè¿™æ—¶ä¸€ä¸ªç»éªŒæ¨¡å‹</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230504210946.png\"></p>\n<p>å…¶ä¸­<br>Kaä»£è¡¨ç‰©ä½“è¡¨é¢å¯¹ç¯å¢ƒå…‰çš„åå°„ç‡ï¼ŒIaä»£è¡¨å…¥å°„ç¯å¢ƒå…‰çš„äº®åº¦ï¼ŒIenvå­˜å‚¨ç»“æœï¼Œå³äººçœ¼æ‰€èƒ½çœ‹åˆ°ä»ç‰©ä½“è¡¨é¢åå°„çš„ç¯å¢ƒå…‰çš„äº®åº¦ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230504211039.png\"></p>\n<h4 id=\"Lambertæ¼«åå°„æ¨¡å‹-diffuse\"><a href=\"#Lambertæ¼«åå°„æ¨¡å‹-diffuse\" class=\"headerlink\" title=\"Lambertæ¼«åå°„æ¨¡å‹(diffuse)\"></a>Lambertæ¼«åå°„æ¨¡å‹(diffuse)</h4><p>å°±æ˜¯åœ¨Ambientä¸Šå¢åŠ äº†æ¼«åå°„é¡¹ã€‚æ¼«åå°„ä¾¿æ˜¯å…‰ä»ä¸€å®šè§’åº¦å…¥å°„ä¹‹åä»å…¥å°„ç‚¹å‘å››é¢å…«æ–¹åå°„ï¼Œä¸”æ¯ä¸ªä¸åŒæ–¹å‘åå°„çš„å…‰çš„å¼ºåº¦ç›¸ç­‰ï¼Œè€Œäº§ç”Ÿæ¼«åå°„çš„åŸå› æ˜¯ç‰©ä½“è¡¨é¢çš„ç²—ç³™ï¼Œå¯¼è‡´äº†è¿™ç§ç‰©ç†ç°è±¡çš„å‘ç”Ÿã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230504211346.png\"></p>\n<p>åªæœ‰å½“å…¥å°„å…‰çº¿ä¸å¹³é¢å‚ç›´çš„æ—¶å€™æ‰èƒ½æ¥å—å®Œæ•´çš„å…‰ï¼Œå…¥å°„è§’åº¦è¶Šå€¾æ–œæŸå¤±çš„èƒ½é‡è¶Šå¤§ã€‚<br>é™¤äº†å…¥å°„è§’åº¦ï¼Œå…‰æºä¸ç…§å°„ç‚¹çš„è·ç¦»ä¹Ÿè¦è€ƒè™‘ï¼Œç¦»å¾—è¶Šè¿œå¼ºåº¦è¶Šå¼±ã€‚ </p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230504211515.png\"></p>\n<p>å…¶ä¸­Kdä¸ºæ¼«åå°„ç³»æ•°ï¼ŒIä¸ºå…¥å°„å…‰å¼ºï¼Œn,låˆ†åˆ«å¦‚å›¾ä¸­æ‰€ç¤ºä¸ºæ³•çº¿å‘é‡å’Œå…¥å°„æ–¹å‘ï¼Œmaxæ˜¯ä¸ºäº†å‰”é™¤å¤¹è§’å¤§äº90Â°çš„å…‰ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230504211558.png\"></p>\n<h4 id=\"Phongåå°„æ¨¡å‹-Specular\"><a href=\"#Phongåå°„æ¨¡å‹-Specular\" class=\"headerlink\" title=\"Phongåå°„æ¨¡å‹(Specular)\"></a>Phongåå°„æ¨¡å‹(Specular)</h4><p>phong åå°„æ¨¡å‹ä¸»è¦æ˜¯ä¸ºäº†è®¡ç®—é«˜å…‰ï¼Œä¸‹å›¾Rä¸ºå…‰çº¿åå°„æ–¹å‘ï¼Œvä¸ºäººçœ¼è§‚å¯Ÿæ–¹å‘ï¼Œ</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230504211732.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230504211851.png\"></p>\n<p>å…¶ä¸­Ksä¸ºé•œé¢åå°„ç³»æ•°ï¼ŒIä¸ºå…¥å°„å…‰å¼ºï¼Œrä¸ºå…‰æºåˆ°å…¥å°„ç‚¹è·ç¦»ï¼Œæ³¨æ„è¿™é‡Œåœ¨maxå‰”é™¤å¤§äº90Â°çš„å…‰ä¹‹åï¼Œæˆ‘ä»¬è¿˜ä¹˜äº†ä¸€ä¸ªæŒ‡æ•°pï¼Œæ·»åŠ è¯¥é¡¹çš„åŸå› å¾ˆç›´æ¥ï¼Œå› ä¸ºç¦»åå°„å…‰è¶Šè¿œå°±è¶Šä¸åº”è¯¥çœ‹è§åå°„å…‰ï¼Œéœ€è¦ä¸€ä¸ªæŒ‡æ•°påŠ é€Ÿè¡°å‡ï¼ŒÎ±ä¸ºRå’Œvçš„å¤¹è§’ï¼Œå½“pè¶Šå¤§è¶Šå‡†ç¡®</p>\n<h4 id=\"Blinn-Phongåå°„æ¨¡å‹\"><a href=\"#Blinn-Phongåå°„æ¨¡å‹\" class=\"headerlink\" title=\"Blinn-Phongåå°„æ¨¡å‹\"></a>Blinn-Phongåå°„æ¨¡å‹</h4><p>æˆ‘ä»¬å°†Rå’Œvå¤¹è§’è½¬åŒ–ä¸ºRçš„åŠç¨‹å‘é‡è½¬åŒ–ä¸ºä¸hçš„å¤¹è§’ï¼Œå¾—åˆ°ç»“æœååˆ†è¿‘ä¼¼ï¼ŒåŒæ—¶è®¡ç®—é€Ÿåº¦å˜å¿«å¾ˆå¤šã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230504212148.png\"></p>\n<h4 id=\"æ•´ä½“è®¡ç®—å…¬å¼\"><a href=\"#æ•´ä½“è®¡ç®—å…¬å¼\" class=\"headerlink\" title=\"æ•´ä½“è®¡ç®—å…¬å¼\"></a>æ•´ä½“è®¡ç®—å…¬å¼</h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230504212203.png\"></p>\n","site":{"data":{}},"length":2525,"excerpt":"","more":"<h3 id=\"å›¾å½¢ç®¡çº¿ï¼ˆgraphics-pipelineï¼‰æ€»è§ˆ\"><a href=\"#å›¾å½¢ç®¡çº¿ï¼ˆgraphics-pipelineï¼‰æ€»è§ˆ\" class=\"headerlink\" title=\"å›¾å½¢ç®¡çº¿ï¼ˆgraphics pipelineï¼‰æ€»è§ˆ\"></a>å›¾å½¢ç®¡çº¿ï¼ˆgraphics pipelineï¼‰æ€»è§ˆ</h3><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230503140547.png\"></p>\n<h3 id=\"å…‰æ …åŒ–\"><a href=\"#å…‰æ …åŒ–\" class=\"headerlink\" title=\"å…‰æ …åŒ–\"></a>å…‰æ …åŒ–</h3><h4 id=\"ç»˜åˆ¶çº¿æ¡ï¼ˆmidpoint-Bresenhamç®—æ³•ï¼‰\"><a href=\"#ç»˜åˆ¶çº¿æ¡ï¼ˆmidpoint-Bresenhamç®—æ³•ï¼‰\" class=\"headerlink\" title=\"ç»˜åˆ¶çº¿æ¡ï¼ˆmidpoint-Bresenhamç®—æ³•ï¼‰\"></a>ç»˜åˆ¶çº¿æ¡ï¼ˆmidpoint-Bresenhamç®—æ³•ï¼‰</h4><p>æˆ‘ä»¬é¦–å…ˆçŸ¥é“ä»»ä½•ä¸€æ¡ä¸€ç»´ç›´çº¿å¯ä»¥ç”¨ f(x,y) &#x3D; ax + by + c &#x3D; 0 ,å°†ç‚¹(x0,y0) å’Œ(x1,y1)ä»£å…¥å¾—ä»¥ä¸‹ç»“æœ</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230503214800.png\"></p>\n<p>æˆ‘ä»¬åœ¨è¿™é‡Œå…ˆè€ƒè™‘æ–œç‡åœ¨(0,1]çš„æƒ…å†µï¼Œä¹‹åç±»æ¨åˆ° (-âˆ,-1],(-1,0],(1,âˆ)</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230503215239.png\"></p>\n<p>åœ¨åŸºäºæ–œç‡åœ¨0-1çš„æƒ…å†µä¸‹ï¼Œå¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œå‡è®¾æˆ‘ä»¬ç°åœ¨è¦ç”»æ©™è‰²æ ¼å­ï¼Œåªå¯èƒ½æ˜¯åœ¨æœ€åä¸€ä¸ªè“è‰²æ ¼å­çš„å³è¾¹æˆ–è€…å³ä¸Šï¼Œå¦‚æœç›´çº¿é«˜äºé»‘è‰²åœ†ç‚¹å°±ç”»åœ¨å³ä¸Šï¼Œå¦‚æœä½äºé»‘è‰²åœ†ç‚¹å°±ç”»åœ¨å³è¾¹ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230503215544.png\"></p>\n<p>ä¼ªä»£ç å¦‚ä¸Šï¼Œé‚£ä¹ˆsome conditionæ˜¯ä»€ä¹ˆï¼Œæˆ‘ä»¬çŸ¥é“æ¯ä¸ªåƒç´ åæ ‡æ˜¯æ–¹æ ¼çš„ä¸­é—´ï¼Œé‚£ä¹ˆé»‘è‰²åŸç‚¹åº”è¯¥æ˜¯æœ€åä¸€ä¸ªè“è‰²æ–¹æ ¼çš„(x+1,y+0.5),æ‰€ä»¥å¾—åˆ°f(x+1,y+0.5) &gt; 0 æ—¶ï¼Œä¹Ÿå°±æ˜¯ä¸­ç‚¹åœ¨ç›´çº¿ä¸Šé¢ï¼Œé‚£å°±æŠŠæ©™è‰²æ ¼å­ç”»åœ¨å³è¾¹ã€‚ç›¸åå°±ç”»åœ¨å³ä¸Šï¼Œå¦‚æœç›¸ç­‰ï¼Œå–å†³äºè‡ªå·±ï¼Œå½±å“ä¸å¤§ã€‚</p>\n<p>ä¸Šé¢å°±æ˜¯æ¯”è¾ƒå¥½çš„ç›´çº¿ç»˜åˆ¶ç®—æ³•ï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬æ¯æ¬¡éƒ½è¦è¿›è¡Œä¸€æ¬¡F(x,y)çš„è®¡ç®—ï¼Œåœ¨ç°åœ¨å…‰ä¸‰è§’å½¢é¢æ•°å°±æœ‰å‡ ç™¾ä¸‡çš„æ¨¡å‹ä¸Šï¼Œæ— ç–‘æ˜¯ååˆ†æ¶ˆè€—èµ„æºçš„ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230503215938.png\"></p>\n<p>åœ¨ä¸Šå¼ï¼Œæˆ‘ä»¬æ‰¾åˆ°æ‰€å¯¹åº”çš„å…³ç³»ï¼Œæˆ‘ä»¬ä¸€å¼€å§‹å°±å°†(x0+1,y0+0.5)ä»£å…¥ï¼Œåé¢æ¯æ¬¡è®¡ç®—æˆ‘ä»¬åªè¦ç´¯åŠ ä¸Šè¿°å›¾ç‰‡çš„å‡½æ•°åé¢çš„ä¸€éƒ¨åˆ†å°±å¯ä»¥çœä¸‹å¾ˆå¤šæ¬¡f(x,y)çš„è®¡ç®—ã€‚å› æ­¤æˆ‘ä»¬å¾—åˆ°ä»¥ä¸‹æ”¹è¿›è¿‡çš„ä¼ªä»£ç </p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230503220154.png\"></p>\n<p>æ¥ç€æˆ‘ä»¬æ¨å¹¿ä¸åŒçš„è§’åº¦çš„ç›´çº¿ï¼Œä¹Ÿå°±æ˜¯å°†xï¼Œyè½¬åŒ–ä¸ºæ–œç‡ï¼ˆ0ï¼Œ1ï¼‰çš„èŒƒå›´ï¼Œä¹Ÿå°±æ˜¯è¿›è¡Œç¿»è½¬ç­‰ã€‚ä¸‹é¢æ˜¯milo yipå®ç°çš„ä¸€ä»½å¾ˆæ¼‚äº®çš„ä»£ç </p>\n<figure class=\"highlight c++\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">bresenham</span><span class=\"params\">(<span class=\"type\">int</span> x0, <span class=\"type\">int</span> y0, <span class=\"type\">int</span> x1, <span class=\"type\">int</span> y1)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> dx = <span class=\"built_in\">abs</span>(x1 - x0), sx = x0 &lt; x1 ? <span class=\"number\">1</span> : <span class=\"number\">-1</span>;</span><br><span class=\"line\">    <span class=\"type\">int</span> dy = <span class=\"built_in\">abs</span>(y1 - y0), sy = y0 &lt; y1 ? <span class=\"number\">1</span> : <span class=\"number\">-1</span>;</span><br><span class=\"line\">    <span class=\"type\">int</span> err = (dx &gt; dy ? dx : -dy) / <span class=\"number\">2</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// setpixel = draw</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> (<span class=\"built_in\">setpixel</span>(x0, y0), x0 != x1 || y0 != y1) &#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> e2 = err;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (e2 &gt; -dx) &#123; err -= dy; x0 += sx; &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (e2 &lt;  dy) &#123; err += dx; y0 += sy; &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"ä¸‰è§’å½¢çš„å…‰æ …åŒ–\"><a href=\"#ä¸‰è§’å½¢çš„å…‰æ …åŒ–\" class=\"headerlink\" title=\"ä¸‰è§’å½¢çš„å…‰æ …åŒ–\"></a>ä¸‰è§’å½¢çš„å…‰æ …åŒ–</h4><p>æœ‰äº†ç›´çº¿ç»˜åˆ¶ç®—æ³•ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç”»å‡ºä¸€ä¸ªä¸‰è§’å½¢äº†ï¼Œä½†æ˜¯å¦‚ä½•æ¶‚æ»¡ä¸‰è§’å½¢å†…éƒ¨å‘¢ã€‚æœ€ç®€å•çš„åšæ³•å°±æ˜¯åˆ¤æ–­æ¯ä¸ªåƒç´ ç‚¹æ˜¯å¦åœ¨å†…éƒ¨ï¼Œåˆ©ç”¨å‰ä¹˜çš„æ€§è´¨ï¼Œæˆ‘ä»¬äº‹å…ˆçŸ¥é“æƒ³è¦å…‰æ …åŒ–çš„ä¸‰è§’å½¢çš„ä¸‰ä¸ªé¡¶ç‚¹P0ï¼ŒP1ï¼ŒP2ï¼Œä»¥åŠæ£€æµ‹ç‚¹Qã€‚ åªè¦åˆ†åˆ«è®¡ç®— P0P1 Ã— P0Q , P1P2 Ã— P1Q , P2P0 Ã— P2Q ï¼Œä¸‰è€…åŒå·å°±è¯´æ˜å¿…ç„¶å¤„äºä¸‰è§’å½¢å†…éƒ¨ï¼Œä¸åŒå·åˆ™è¯´æ˜è¯¥ç‚¹ä¸€å®šåœ¨ä¸‰è§’å½¢å¤–éƒ¨ã€‚ä½†æ˜¯å¯¹å…¨éƒ¨åƒç´ ç‚¹è¿˜æ˜¯å¾ˆæµªè´¹ï¼Œå¯ä»¥ç”¨åŒ…å›´ç›’çš„æ€è·¯ï¼Œå¿«é€Ÿç®—å‡ºåŒ…å›´ç›’ç„¶åå¯¹åŒ…å›´ç›’é‡Œçš„ç‚¹è¿›è¡Œåˆ¤æ–­å³å¯ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230503221856.png\"></p>\n<p>å› ä¸ºæ¯ä¸ªåœ¨ä¸‰è§’å½¢çš„ç‚¹éƒ½å¯ä»¥ç”¨é‡å¿ƒè¡¨ç¤ºæ³•è¡¨ç¤ºå‡ºæ¥</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230503223329.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230503223237.png\"></p>\n<p>åªè¦ç‚¹åœ¨é‡Œé¢ï¼Œæˆ‘ä»¬ç®—å‡ºæ¥çš„å€¼å°±ä¼š &gt; 0ï¼Œåˆ©ç”¨è¿™ä¸ªæ€§è´¨ä»¥åŠï¼Œä»»æ„ä¸¤ä¸ªäºŒç»´å‘é‡ç»„åˆæˆçŸ©é˜µçš„è¡Œåˆ—å¼çš„ç»å¯¹å€¼ï¼Œä¸ºè¿™ä¸¤ä¸ªå‘é‡æ‰€å›´æˆå¹³è¡Œå››è¾¹å½¢çš„é¢ç§¯ï¼Œä¸éš¾å¾—å‡º</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230503223729.png\"></p>\n<p>æˆ‘ä»¬å°è¯•å°†å‰ä¹˜åˆ—å‡ºæ¥ï¼Œå‘ç°å·§å¦™çš„æ˜¯ï¼Œæ­£å¥½å¯¹åº”æ–¹ç¨‹å¼</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230503222945.png\"></p>\n<p>å‘ç°å¾ˆç¬¦åˆä¸Šé¢æ±‚Î±ï¼ŒÎ²ï¼ŒÎ³çš„å¼å­ï¼Œä»£å…¥è·å¾—ä¼ªä»£ç </p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230503223826.png\"></p>\n<p>æ³¨æ„åˆ°ï¼Œå¦‚æœä¸€ä¸ªç‚¹åœ¨è¾¹ä¸Šçš„è¯ï¼Œå¦‚ä½•è§£å†³ï¼Œæ¯•ç«Ÿæœ‰å¯èƒ½åŒæ—¶åœ¨ä¸¤ä¸ªä¸‰è§’å½¢ä¸Šï¼Œç­”æ¡ˆæ˜¯å–å†³ä½ è‡ªå·±ï¼Œè¯¦è§è™ä¹¦8.1.2ã€‚å› ä¸ºå¦‚æœä¸ç”»çš„è¯ï¼Œä¸¤ä¸ªä¸‰è§’å½¢å°†ä¼šäº§ç”Ÿç¼éš™ï¼Œå¦‚æœä¸¤ä¸ªéƒ½ç”»çš„è¯ï¼Œå¦‚æœä¸‰è§’å½¢æ˜¯é€æ˜çš„ï¼Œè¿™å°†å¯¼è‡´åŒé‡ç€è‰²ã€‚</p>\n<h4 id=\"Z-bufferç®—æ³•\"><a href=\"#Z-bufferç®—æ³•\" class=\"headerlink\" title=\"Z-bufferç®—æ³•\"></a>Z-bufferç®—æ³•</h4><p>å¸¸è§çš„å¤„ç†å‰åå…³ç³»æœ‰ç”»å®¶ç®—æ³•å’Œz-bufferç®—æ³•ï¼Œå‰è€…æ€§èƒ½æ¶ˆè€—è¾ƒå¤§å·²ç»å¾ˆå°‘ç”¨äº†ï¼Œåè€…å¾ˆç®€å•ï¼Œæˆ‘ä»¬è®¾ç½®ä¸€ä¸ªzbufferæ•°ç»„ï¼Œç»˜åˆ¶ä¸‰è§’å½¢çš„æ—¶å€™å¦‚æœè¯¥ä¸‰è§’å½¢çš„æ·±åº¦æ¯”è¾ƒå°ï¼Œå°±è¦†ç›–æ‰zbufferçš„å€¼ï¼ŒåŒæ—¶æ›´æ–°è¯¥ç‚¹çš„é¢œè‰²ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230503225042.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230503225034.png\"></p>\n<p>å³ä½¿è¿™æ ·ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šé‡åˆ°æ·±åº¦å†²çªçš„é—®é¢˜ï¼Œä¹Ÿå°±æ˜¯ç‰©ä½“zè½´ç›¸åŒï¼Œä¼šè¿›è¡Œé—ªçƒã€‚è¶Šæ¥è¿‘farå¹³é¢ï¼Œdepthå˜åŒ–è¶Šå°ï¼Œç²¾åº¦å˜å·®è¶Šå®¹æ˜“å‡ºç°z-fightingé—®é¢˜ã€‚<br>é¿å…Z-fightingé—®é¢˜ï¼š</p>\n<ul>\n<li>å¯ä»¥å°†nearå’Œ farçš„è·ç¦»ç¼©å°ï¼ŒåŒæ—¶å°½é‡å°†nearå˜å¤§ä¸€äº›ã€‚</li>\n<li>å½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨ç²¾åº¦æ›´é«˜çš„zbufferï¼Œç®€å•æ¥è¯´å°±æ˜¯ float -&gt; double</li>\n</ul>\n<p>å‚è€ƒï¼š<a href=\"https://zhuanlan.zhihu.com/p/25095708\">å…¨é¢è®¤è¯†Depth - è¿™é‡Œæœ‰å…³äºDepthçš„ä¸€åˆ‡</a></p>\n<h3 id=\"ç€è‰²é¢‘ç‡\"><a href=\"#ç€è‰²é¢‘ç‡\" class=\"headerlink\" title=\"ç€è‰²é¢‘ç‡\"></a>ç€è‰²é¢‘ç‡</h3><h4 id=\"é€å¹³é¢ç€è‰²-Flat-Shading\"><a href=\"#é€å¹³é¢ç€è‰²-Flat-Shading\" class=\"headerlink\" title=\"é€å¹³é¢ç€è‰²(Flat Shading)\"></a>é€å¹³é¢ç€è‰²(Flat Shading)</h4><p>é¡¾åæ€ä¹‰ï¼Œå°±æ˜¯ä»¥æ¯ä¸€ä¸ªé¢ä½œä¸ºä¸€ä¸ªç€è‰²å•ä½è¿›è¡Œç€è‰²è®¡ç®—</p>\n<h4 id=\"é€é¡¶ç‚¹ç€è‰²-Per-vertex-Shading-x2F-Gouraud-shading\"><a href=\"#é€é¡¶ç‚¹ç€è‰²-Per-vertex-Shading-x2F-Gouraud-shading\" class=\"headerlink\" title=\"é€é¡¶ç‚¹ç€è‰²(Per-vertex Shading&#x2F;Gouraud shading)\"></a>é€é¡¶ç‚¹ç€è‰²(Per-vertex Shading&#x2F;Gouraud shading)</h4><p>é¡¾åæ€ä¹‰å°±æ˜¯å¯¹æ¯ä¸€ä¸ªé¡¶ç‚¹è¿›è¡Œç€è‰²è®¡ç®—ï¼Œé¡¶ç‚¹æ³•çº¿è®¡ç®—å°±æ˜¯ç”±è¿™ä¸ªç‚¹ç›¸å…³çš„æ¯ä¸ªé¢çš„æ³•çº¿æ±‚å¹³å‡å€¼å†è¿›è¡Œæ ‡å‡†åŒ–å³å¯å¾—åˆ°,å¯¹äºå†…éƒ¨çš„ç‚¹å°±ç”¨é‡å¿ƒåæ ‡è®¡ç®—é¢œè‰²</p>\n<h4 id=\"é€åƒç´ ç€è‰²-Phong-shading\"><a href=\"#é€åƒç´ ç€è‰²-Phong-shading\" class=\"headerlink\" title=\"é€åƒç´ ç€è‰²(Phong shading)\"></a>é€åƒç´ ç€è‰²(Phong shading)</h4><p>å°±æ˜¯å¯¹æ¯ä¸ªåƒç´ è¿›è¡Œç€è‰²è®¡ç®—ï¼Œä¸‰è§’å½¢å†…éƒ¨çš„ç‚¹åŒæ ·ç”¨é‡å¿ƒæ³•è¿›è¡Œè®¡ç®—ï¼Œåªä¸è¿‡è¿™æ¬¡æ˜¯è®¡ç®—æ³•çº¿ï¼Œè¿™æ ·å­å¯èƒ½è¦æ›´å‡†ç¡®äº›ã€‚</p>\n<h4 id=\"æ•ˆæœå¯¹æ¯”\"><a href=\"#æ•ˆæœå¯¹æ¯”\" class=\"headerlink\" title=\"æ•ˆæœå¯¹æ¯”\"></a>æ•ˆæœå¯¹æ¯”</h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230503233930.png\"></p>\n<h3 id=\"ç€è‰²æ¨¡å‹\"><a href=\"#ç€è‰²æ¨¡å‹\" class=\"headerlink\" title=\"ç€è‰²æ¨¡å‹\"></a>ç€è‰²æ¨¡å‹</h3><h4 id=\"Ambientæ³›å…‰æ¨¡å‹\"><a href=\"#Ambientæ³›å…‰æ¨¡å‹\" class=\"headerlink\" title=\"Ambientæ³›å…‰æ¨¡å‹\"></a>Ambientæ³›å…‰æ¨¡å‹</h4><p>å³åªè€ƒè™‘ç¯å¢ƒå…‰ï¼Œè¿™æ—¶ä¸€ä¸ªç»éªŒæ¨¡å‹</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230504210946.png\"></p>\n<p>å…¶ä¸­<br>Kaä»£è¡¨ç‰©ä½“è¡¨é¢å¯¹ç¯å¢ƒå…‰çš„åå°„ç‡ï¼ŒIaä»£è¡¨å…¥å°„ç¯å¢ƒå…‰çš„äº®åº¦ï¼ŒIenvå­˜å‚¨ç»“æœï¼Œå³äººçœ¼æ‰€èƒ½çœ‹åˆ°ä»ç‰©ä½“è¡¨é¢åå°„çš„ç¯å¢ƒå…‰çš„äº®åº¦ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230504211039.png\"></p>\n<h4 id=\"Lambertæ¼«åå°„æ¨¡å‹-diffuse\"><a href=\"#Lambertæ¼«åå°„æ¨¡å‹-diffuse\" class=\"headerlink\" title=\"Lambertæ¼«åå°„æ¨¡å‹(diffuse)\"></a>Lambertæ¼«åå°„æ¨¡å‹(diffuse)</h4><p>å°±æ˜¯åœ¨Ambientä¸Šå¢åŠ äº†æ¼«åå°„é¡¹ã€‚æ¼«åå°„ä¾¿æ˜¯å…‰ä»ä¸€å®šè§’åº¦å…¥å°„ä¹‹åä»å…¥å°„ç‚¹å‘å››é¢å…«æ–¹åå°„ï¼Œä¸”æ¯ä¸ªä¸åŒæ–¹å‘åå°„çš„å…‰çš„å¼ºåº¦ç›¸ç­‰ï¼Œè€Œäº§ç”Ÿæ¼«åå°„çš„åŸå› æ˜¯ç‰©ä½“è¡¨é¢çš„ç²—ç³™ï¼Œå¯¼è‡´äº†è¿™ç§ç‰©ç†ç°è±¡çš„å‘ç”Ÿã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230504211346.png\"></p>\n<p>åªæœ‰å½“å…¥å°„å…‰çº¿ä¸å¹³é¢å‚ç›´çš„æ—¶å€™æ‰èƒ½æ¥å—å®Œæ•´çš„å…‰ï¼Œå…¥å°„è§’åº¦è¶Šå€¾æ–œæŸå¤±çš„èƒ½é‡è¶Šå¤§ã€‚<br>é™¤äº†å…¥å°„è§’åº¦ï¼Œå…‰æºä¸ç…§å°„ç‚¹çš„è·ç¦»ä¹Ÿè¦è€ƒè™‘ï¼Œç¦»å¾—è¶Šè¿œå¼ºåº¦è¶Šå¼±ã€‚ </p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230504211515.png\"></p>\n<p>å…¶ä¸­Kdä¸ºæ¼«åå°„ç³»æ•°ï¼ŒIä¸ºå…¥å°„å…‰å¼ºï¼Œn,låˆ†åˆ«å¦‚å›¾ä¸­æ‰€ç¤ºä¸ºæ³•çº¿å‘é‡å’Œå…¥å°„æ–¹å‘ï¼Œmaxæ˜¯ä¸ºäº†å‰”é™¤å¤¹è§’å¤§äº90Â°çš„å…‰ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230504211558.png\"></p>\n<h4 id=\"Phongåå°„æ¨¡å‹-Specular\"><a href=\"#Phongåå°„æ¨¡å‹-Specular\" class=\"headerlink\" title=\"Phongåå°„æ¨¡å‹(Specular)\"></a>Phongåå°„æ¨¡å‹(Specular)</h4><p>phong åå°„æ¨¡å‹ä¸»è¦æ˜¯ä¸ºäº†è®¡ç®—é«˜å…‰ï¼Œä¸‹å›¾Rä¸ºå…‰çº¿åå°„æ–¹å‘ï¼Œvä¸ºäººçœ¼è§‚å¯Ÿæ–¹å‘ï¼Œ</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230504211732.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230504211851.png\"></p>\n<p>å…¶ä¸­Ksä¸ºé•œé¢åå°„ç³»æ•°ï¼ŒIä¸ºå…¥å°„å…‰å¼ºï¼Œrä¸ºå…‰æºåˆ°å…¥å°„ç‚¹è·ç¦»ï¼Œæ³¨æ„è¿™é‡Œåœ¨maxå‰”é™¤å¤§äº90Â°çš„å…‰ä¹‹åï¼Œæˆ‘ä»¬è¿˜ä¹˜äº†ä¸€ä¸ªæŒ‡æ•°pï¼Œæ·»åŠ è¯¥é¡¹çš„åŸå› å¾ˆç›´æ¥ï¼Œå› ä¸ºç¦»åå°„å…‰è¶Šè¿œå°±è¶Šä¸åº”è¯¥çœ‹è§åå°„å…‰ï¼Œéœ€è¦ä¸€ä¸ªæŒ‡æ•°påŠ é€Ÿè¡°å‡ï¼ŒÎ±ä¸ºRå’Œvçš„å¤¹è§’ï¼Œå½“pè¶Šå¤§è¶Šå‡†ç¡®</p>\n<h4 id=\"Blinn-Phongåå°„æ¨¡å‹\"><a href=\"#Blinn-Phongåå°„æ¨¡å‹\" class=\"headerlink\" title=\"Blinn-Phongåå°„æ¨¡å‹\"></a>Blinn-Phongåå°„æ¨¡å‹</h4><p>æˆ‘ä»¬å°†Rå’Œvå¤¹è§’è½¬åŒ–ä¸ºRçš„åŠç¨‹å‘é‡è½¬åŒ–ä¸ºä¸hçš„å¤¹è§’ï¼Œå¾—åˆ°ç»“æœååˆ†è¿‘ä¼¼ï¼ŒåŒæ—¶è®¡ç®—é€Ÿåº¦å˜å¿«å¾ˆå¤šã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230504212148.png\"></p>\n<h4 id=\"æ•´ä½“è®¡ç®—å…¬å¼\"><a href=\"#æ•´ä½“è®¡ç®—å…¬å¼\" class=\"headerlink\" title=\"æ•´ä½“è®¡ç®—å…¬å¼\"></a>æ•´ä½“è®¡ç®—å…¬å¼</h4><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/OSTEP/20230504212203.png\"></p>\n"},{"title":"è¿™äº›æ—¶å€™æˆ‘éƒ½åœ¨å¿™äº›ä»€ä¹ˆ(åŒæ—¶ä½œä¸º2021æ€»ç»“ï¼‰","date":"2021-10-08T13:31:21.000Z","_content":"\nå¤ªå¿™äº†ï¼Œå…ˆæŠŠè¿™æ®µæ—¶é—´è¦åšçš„äº‹æƒ…æ”¾å‡ºæ¥ï¼ˆåŠ æ²¹ï¼‰ğŸ˜‚\n10.8 å¾ªç¯è®¾è®¡QA\n10.10 å»ºæ¨¡å°ä½œä¸šDDL\n10.15 å¾ªç¯è®¾è®¡å®ç‰©æŠ¥å‘Š\n10.19 é©¬åŸpre\n10.20 å¾ªç¯è®¾è®¡æµ·æŠ¥pre\n10.27 å¹³é¢æ„æˆ \nè‰²å½©æ„æˆ\næ„æˆæµ·æŠ¥\n11.5 ç»˜ç”»æ‰“å¡\n11.8 å®¶æ—å²è®ºæ–‡\n11æœˆä¸­æ—¬ æ¸¸æˆdemo\nå»ºæ¨¡å¤§ä½œä¸š\n12æœˆ logbook ã€é€Ÿå†™ã€å·¥æ¦‚è€ƒè¯•ã€äº¤äº’å¯¼è®ºæ±‡æŠ¥\n\nå½“åšå®Œä¸€äº›æˆ‘ä¼šæŒ‘ä¸€äº›è‡ªå·±è¯´è¯´è‡ªå·±å¹²äº†äº›ä»€ä¹ˆğŸ¤¯\nâ€”â€”2021.10.8\n\nç°åœ¨æ‰å¼€å§‹å†™è¿™ç¯‡æ¨æ–‡ï¼Œå±äºæ˜¯å¤§æ‹–æ›´äº†ï¼Œè™½ç„¶å¿™äº†ä¸€é˜µå­ï¼Œä½†æ˜¯å¿™å®Œåä¼šé¢“åºŸä¸Šå‡ å¤©ï¼Œä»€ä¹ˆäº‹éƒ½ä¸æƒ³å¹²ï¼Œç¨å¾®ç”»äº†ç‚¹ç”»æ‰è°ƒæ•´å¥½çŠ¶æ€ï¼Œå±äºæˆ‘çš„ç»å…¸çŠ¶æ€äº†ã€‚\nâ€”â€”2022.1.7\n\nå®Œæˆåæ‰å‘ç°æ²¡ä»€ä¹ˆå¯ä»¥è®²çš„ï¼Œå³ä½¿å®Œæˆçš„æ—¶å€™å¾ˆè€—æ—¶é—´ï¼Œä½†æ˜¯å›è¿‡å¤´æ¥çœ‹æ‰å‘ç°åŸæ¥å°±è¿™ä¹ˆç‚¹ä¸œè¥¿ã€‚å¯èƒ½æœ€å€¼å¾—è®²çš„æ˜¯æˆ‘çš„é€Ÿå†™ä½œä¸šï¼Ÿ\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021ZongJie/1.png)\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021ZongJie/2.png)\n\né€Ÿå†™ï¼Œæˆ‘æ˜¯ä¸€ç›´åœ¨å¯»æ‰¾æœ‰æ•ˆç»ƒä¹ ï¼Œå¯ä»¥è¯´æˆ‘æœ‰ä¸€åŠçš„ç”»ä½œæ˜¯æœ‰æ•ˆç»ƒä¹ çš„å°±ä¸é”™äº†ã€‚çœ‹åˆ°æœ‹å‹åœˆçš„åŒå­¦å‘çš„ç”»çš„æ¯”æˆ‘å¥½æœªå…å¿ƒç”Ÿå«‰å¦’ï¼ŒåŒæ—¶ä¹Ÿä¼šå»æŸ¥æ‰¾åŸå› ã€‚å› ä¸ºæœ‰äº›äººæœ¬èº«å°±æ˜¯åœ¨å·¥è®¾è¯»çš„ï¼Œæˆ‘ä½œä¸ºä¸€ä¸ªç†å·¥ç§‘å­¦ç”Ÿï¼Œæ¯•ç«Ÿåœ¨ç»˜ç”»æ–¹é¢å­¦çš„ç›¸æ¯”ä»–ä»¬è¦å°‘å¾ˆå¤šã€‚å¯èƒ½æˆ‘åœ¨æˆ‘ä»¬ç­çš„ç»˜ç”»æ°´å¹³ä¸­æ˜¯ä¸­é—´æ°´å¹³å§ï¼Œä½†æ˜¯åœ¨è¿™ä¸ªé¢†åŸŸä¸æ¯”å·®ï¼Œåªæ¯”è°æ›´å¼ºï¼Œæ‰€ä»¥æœ‰æ—¶å€™ä¼šemoğŸ˜«ã€‚\n\nä½œä¸šæ—¢ç„¶æ²¡ä»€ä¹ˆè¯´çš„ï¼Œåšä¹‹å‰è¿˜ä¼šè§‰å¾—å¾ˆå›°éš¾ï¼Œå¯ä»¥è¯´å¾ˆå¤šï¼Œåšå®Œåæ‰å‘ç°åªæ˜¯ä¸ªå°äº‹ï¼ˆå»ºæ¨¡å†ä¹Ÿä¸å¯èƒ½ç”¨aliasäº†ï¼Œå¤ªè¾£é¸¡äº†ï¼‰ã€‚æ¥ä¸‹æ¥è¯´è¯´æˆ‘çš„2021å§ã€‚\n\n2021åˆšå¼€å§‹å°±æ˜¯å†›è®­+æ”¾å‡ï¼Œå¯ä»¥è¯´æˆ‘çš„2021æ˜¯åœ¨ä¸‹å­¦æœŸå¼€å­¦ä¹‹åæ‰ç®—å¼€å§‹ã€‚è¯¾ä¸šä¹Ÿå¤šäº†å¾ˆå¤šï¼Œä»ç¬¬ä¸€å­¦æœŸçš„ä¸‰é—¨è€ƒè¯•å˜åˆ°äº†ä¸ƒé—¨è€ƒè¯•ï¼ˆåœ¨ç”µä¿¡çš„æ—¶å€™ï¼‰ï¼Œå­¦çš„é‚£å«ä¸€ä¸ªç—›è‹¦ã€‚ä¸è¿‡ç¿˜è¯¾é¢‘ç‡ä¹Ÿå¢åŠ äº†ï¼Œä¸»è¦è¿˜æ˜¯ç¿˜æ•°æ®ç»“æ„ï¼Œæ¯•ç«Ÿå¯¹æˆ‘æ¥è¯´å¾ˆç®€å•ã€‚æˆ‘èŠ±äº†2å‘¨æ—¶é—´å¯¹ç€è§†é¢‘æ•™ç¨‹åšäº†å°ç‹ç‹¸ï¼Œå½“æ—¶ç”Ÿæ´»å·¨ä¸èŠ‚å¾‹ï¼Œå–å¥¶èŒ¶å¥èº«åŠ ç†¬å¤œæ—©èµ·å†™ä»£ç ï¼Œç¿˜äº†å¾ˆå¤šè¯¾ï¼Œæå¾—å†…åˆ†æ³Œå¤±è°ƒï¼Œé•¿äº†å¥½å¤šç—˜ç—˜ğŸ˜­ï¼ˆç›´åˆ°ç°åœ¨è¿˜æœ‰äº›æ²¡æœ‰æ¶ˆå»ï¼‰ï¼Œä¸è¿‡ç®—æ˜¯å¯¹unityæœ‰äº†äº›åŸºæœ¬è®¤çŸ¥ã€‚\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021ZongJie/3.png)\nåŒæ—¶ï¼Œå¤šäºä¸wtwä¸€æ¬¡èŠå¤©ï¼Œæƒ³å»æŸ¥ä¸€ä¸‹è½¬è®¡ç®—æœºå­¦é™¢çš„è¦æ±‚ï¼Œçªç„¶å‘ç°å·²ç»å¼€å§‹è½¬äº¤äº’ä¸“ä¸šçš„timeäº†ï¼Œæ ¹æ®æˆ‘æŸ¥çš„èµ„æ–™ï¼Œå‘ç°æ˜¯æ—©äº†ä¸€æ•´ä¸ªæœˆçš„ï¼Œæ‰å‘ç°å‰ä¸¤å¹´æ˜¯æœ‰ç–«æƒ…æ‰€ä»¥æ˜¯çº¿ä¸Šçš„ï¼Œå·®ç‚¹é”™è¿‡ï¼ˆé”™è¿‡äº†å®£è®²ä¼šï¼Œä¸è¿‡æ ¹æ®ç°åœ¨çš„åŒå­¦è¯´ï¼Œå½“æ—¶åªæœ‰ä¸‰ä¸ªäººå»ï¼Œä¸ƒä¸ªè€å¸ˆç»™ä¸‰ä¸ªå­¦ç”Ÿå®£è®²ï¼ŒğŸ¤£ï¼‰ï¼Œäºæ˜¯å‡†å¤‡äº†ä¸€ä¸ªæœˆï¼Œå„ç§è¡¥çŸ¥è¯†ï¼Œåœ¨æ’åæ¯”è¾ƒä¸­é—´çš„åœ°æ–¹è½¬ä¸“ä¸šæˆåŠŸäº†ã€‚\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021ZongJie/4.png)\nå½“æ—¶åŒæ—¶è€ƒ7ç§‘ï¼Œå¤©å¤©å–å’–å•¡ä»æ—©å¤ä¹ åˆ°æ™šä¸Šï¼Œå°±æ€•æŒ‚ç§‘ã€‚ä¸è¿‡æœ€ç»ˆè¿˜æ˜¯æ²¡æŒ‚ç§‘ï¼Œæœ€éš¾çš„ç”µè·¯67é™©è¿‡ï¼ˆæ²¡æƒ³åˆ°åœ¨ç­é‡Œè¿˜å¯ä»¥æ’åå‡ åï¼Œç­é‡Œå››åå¤šä¸ªäººğŸ˜‚ï¼‰ï¼ŒæˆåŠŸåœ°è½¬åˆ°äº†è®¾è®¡å­¦é™¢ã€‚\n\næš‘å‡ç¨å¾®å¯¹åšç½‘ç«™æœ‰ç‚¹å…´è¶£ï¼Œäºæ˜¯èŠ±äº†ä¸€å‘¨æ—¶é—´ç®€å•å­¦äº†ä¸‰ä»¶å¥—ï¼ŒåŠ ä¸Šä¸æ–­åœ°ç»ƒä¹ ï¼Œç»ƒä¹ åˆ°å¼€å­¦ååå‡ å¤©ï¼Œæ­å¥½ç½‘ç«™åå°±å˜æˆæ‡’ç‹—äº†ï¼ˆbushiï¼‰ï¼Œä½†æ˜¯åº”ä»˜ä¸‹å­¦æœŸçš„è¯¾ç¨‹ç»°ç»°æœ‰ä½™äº†ã€‚\n\nåˆ°äº†ä¸­æœŸï¼Œå¤§ä½œä¸šä¸æ–­æ¥è¸µè€Œè‡³ï¼Œæœ‰æ®µæ—¶é—´æ¯å¤©2ç‚¹ç¡è§‰8ç‚¹èµ·åºŠå»ä¸Šè¯¾ï¼Œé‚£æ®µæ—¶é—´çœŸçš„æ˜¯è¦ç´¯æ­»ï¼Œemoç‡ä¹Ÿå¾ˆé«˜ã€‚å­¦ä¹ äº†ç´ æä¸è‰²å½©ï¼Œå¯¹äºç»˜ç”»çš„åˆæ­¥è®¤çŸ¥ä¸å†æ˜¯å¤§ä¸€æ—¶çš„ç©ç©è€Œå·²ï¼Œä¹Ÿå¯¹ä¸‹ä¸€æ­¥çš„ç»˜ç”»é“è·¯è¿›è¡Œæ€è€ƒã€‚\n\næˆ‘çš„2021ï¼Œç®€å•æ¥è¯´ï¼Œä¾¿æ˜¯é‡æ–°è®¤è¯†è‡ªæˆ‘ï¼Œç¡®è®¤ç›®æ ‡ï¼Œå¯èƒ½ç°åœ¨è¿˜ä¸æ˜¯ç‰¹åˆ«æ¸…æ¥šï¼Œå› ä¸ºæ—¶é—´ä¸å¤šäº†ï¼Œæˆ‘åˆæœ‰ä¸¤æ¡é“è·¯å¯ä»¥é€‰æ‹©ï¼ˆæ¸¸æˆä¸è®¾è®¡ï¼‰ï¼Œæ‰€ä»¥è¿˜ä¸èƒ½åšå®šåœ°ç«‹ä¸‹æ¥ã€‚\n\næ€»çš„æ¥è¯´ï¼Œè¿˜æ˜¯å­¦åˆ°å¾ˆå¤šï¼Œä½†æ˜¯è¿˜ä¸å¤Ÿï¼Œ2022ï¼Œå””ï¼Œç”±ä¸å¾—ä¸å·çš„ç†ç”±äº†ã€‚\n","source":"_posts/è¿™äº›æ—¶å€™æˆ‘éƒ½åœ¨å¿™äº›ä»€ä¹ˆ-åŒæ—¶ä½œä¸º2021æ€»ç»“ï¼‰.md","raw":"---\ntitle: è¿™äº›æ—¶å€™æˆ‘éƒ½åœ¨å¿™äº›ä»€ä¹ˆ(åŒæ—¶ä½œä¸º2021æ€»ç»“ï¼‰\ndate: 2021-10-08 21:31:21\n---\n\nå¤ªå¿™äº†ï¼Œå…ˆæŠŠè¿™æ®µæ—¶é—´è¦åšçš„äº‹æƒ…æ”¾å‡ºæ¥ï¼ˆåŠ æ²¹ï¼‰ğŸ˜‚\n10.8 å¾ªç¯è®¾è®¡QA\n10.10 å»ºæ¨¡å°ä½œä¸šDDL\n10.15 å¾ªç¯è®¾è®¡å®ç‰©æŠ¥å‘Š\n10.19 é©¬åŸpre\n10.20 å¾ªç¯è®¾è®¡æµ·æŠ¥pre\n10.27 å¹³é¢æ„æˆ \nè‰²å½©æ„æˆ\næ„æˆæµ·æŠ¥\n11.5 ç»˜ç”»æ‰“å¡\n11.8 å®¶æ—å²è®ºæ–‡\n11æœˆä¸­æ—¬ æ¸¸æˆdemo\nå»ºæ¨¡å¤§ä½œä¸š\n12æœˆ logbook ã€é€Ÿå†™ã€å·¥æ¦‚è€ƒè¯•ã€äº¤äº’å¯¼è®ºæ±‡æŠ¥\n\nå½“åšå®Œä¸€äº›æˆ‘ä¼šæŒ‘ä¸€äº›è‡ªå·±è¯´è¯´è‡ªå·±å¹²äº†äº›ä»€ä¹ˆğŸ¤¯\nâ€”â€”2021.10.8\n\nç°åœ¨æ‰å¼€å§‹å†™è¿™ç¯‡æ¨æ–‡ï¼Œå±äºæ˜¯å¤§æ‹–æ›´äº†ï¼Œè™½ç„¶å¿™äº†ä¸€é˜µå­ï¼Œä½†æ˜¯å¿™å®Œåä¼šé¢“åºŸä¸Šå‡ å¤©ï¼Œä»€ä¹ˆäº‹éƒ½ä¸æƒ³å¹²ï¼Œç¨å¾®ç”»äº†ç‚¹ç”»æ‰è°ƒæ•´å¥½çŠ¶æ€ï¼Œå±äºæˆ‘çš„ç»å…¸çŠ¶æ€äº†ã€‚\nâ€”â€”2022.1.7\n\nå®Œæˆåæ‰å‘ç°æ²¡ä»€ä¹ˆå¯ä»¥è®²çš„ï¼Œå³ä½¿å®Œæˆçš„æ—¶å€™å¾ˆè€—æ—¶é—´ï¼Œä½†æ˜¯å›è¿‡å¤´æ¥çœ‹æ‰å‘ç°åŸæ¥å°±è¿™ä¹ˆç‚¹ä¸œè¥¿ã€‚å¯èƒ½æœ€å€¼å¾—è®²çš„æ˜¯æˆ‘çš„é€Ÿå†™ä½œä¸šï¼Ÿ\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021ZongJie/1.png)\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021ZongJie/2.png)\n\né€Ÿå†™ï¼Œæˆ‘æ˜¯ä¸€ç›´åœ¨å¯»æ‰¾æœ‰æ•ˆç»ƒä¹ ï¼Œå¯ä»¥è¯´æˆ‘æœ‰ä¸€åŠçš„ç”»ä½œæ˜¯æœ‰æ•ˆç»ƒä¹ çš„å°±ä¸é”™äº†ã€‚çœ‹åˆ°æœ‹å‹åœˆçš„åŒå­¦å‘çš„ç”»çš„æ¯”æˆ‘å¥½æœªå…å¿ƒç”Ÿå«‰å¦’ï¼ŒåŒæ—¶ä¹Ÿä¼šå»æŸ¥æ‰¾åŸå› ã€‚å› ä¸ºæœ‰äº›äººæœ¬èº«å°±æ˜¯åœ¨å·¥è®¾è¯»çš„ï¼Œæˆ‘ä½œä¸ºä¸€ä¸ªç†å·¥ç§‘å­¦ç”Ÿï¼Œæ¯•ç«Ÿåœ¨ç»˜ç”»æ–¹é¢å­¦çš„ç›¸æ¯”ä»–ä»¬è¦å°‘å¾ˆå¤šã€‚å¯èƒ½æˆ‘åœ¨æˆ‘ä»¬ç­çš„ç»˜ç”»æ°´å¹³ä¸­æ˜¯ä¸­é—´æ°´å¹³å§ï¼Œä½†æ˜¯åœ¨è¿™ä¸ªé¢†åŸŸä¸æ¯”å·®ï¼Œåªæ¯”è°æ›´å¼ºï¼Œæ‰€ä»¥æœ‰æ—¶å€™ä¼šemoğŸ˜«ã€‚\n\nä½œä¸šæ—¢ç„¶æ²¡ä»€ä¹ˆè¯´çš„ï¼Œåšä¹‹å‰è¿˜ä¼šè§‰å¾—å¾ˆå›°éš¾ï¼Œå¯ä»¥è¯´å¾ˆå¤šï¼Œåšå®Œåæ‰å‘ç°åªæ˜¯ä¸ªå°äº‹ï¼ˆå»ºæ¨¡å†ä¹Ÿä¸å¯èƒ½ç”¨aliasäº†ï¼Œå¤ªè¾£é¸¡äº†ï¼‰ã€‚æ¥ä¸‹æ¥è¯´è¯´æˆ‘çš„2021å§ã€‚\n\n2021åˆšå¼€å§‹å°±æ˜¯å†›è®­+æ”¾å‡ï¼Œå¯ä»¥è¯´æˆ‘çš„2021æ˜¯åœ¨ä¸‹å­¦æœŸå¼€å­¦ä¹‹åæ‰ç®—å¼€å§‹ã€‚è¯¾ä¸šä¹Ÿå¤šäº†å¾ˆå¤šï¼Œä»ç¬¬ä¸€å­¦æœŸçš„ä¸‰é—¨è€ƒè¯•å˜åˆ°äº†ä¸ƒé—¨è€ƒè¯•ï¼ˆåœ¨ç”µä¿¡çš„æ—¶å€™ï¼‰ï¼Œå­¦çš„é‚£å«ä¸€ä¸ªç—›è‹¦ã€‚ä¸è¿‡ç¿˜è¯¾é¢‘ç‡ä¹Ÿå¢åŠ äº†ï¼Œä¸»è¦è¿˜æ˜¯ç¿˜æ•°æ®ç»“æ„ï¼Œæ¯•ç«Ÿå¯¹æˆ‘æ¥è¯´å¾ˆç®€å•ã€‚æˆ‘èŠ±äº†2å‘¨æ—¶é—´å¯¹ç€è§†é¢‘æ•™ç¨‹åšäº†å°ç‹ç‹¸ï¼Œå½“æ—¶ç”Ÿæ´»å·¨ä¸èŠ‚å¾‹ï¼Œå–å¥¶èŒ¶å¥èº«åŠ ç†¬å¤œæ—©èµ·å†™ä»£ç ï¼Œç¿˜äº†å¾ˆå¤šè¯¾ï¼Œæå¾—å†…åˆ†æ³Œå¤±è°ƒï¼Œé•¿äº†å¥½å¤šç—˜ç—˜ğŸ˜­ï¼ˆç›´åˆ°ç°åœ¨è¿˜æœ‰äº›æ²¡æœ‰æ¶ˆå»ï¼‰ï¼Œä¸è¿‡ç®—æ˜¯å¯¹unityæœ‰äº†äº›åŸºæœ¬è®¤çŸ¥ã€‚\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021ZongJie/3.png)\nåŒæ—¶ï¼Œå¤šäºä¸wtwä¸€æ¬¡èŠå¤©ï¼Œæƒ³å»æŸ¥ä¸€ä¸‹è½¬è®¡ç®—æœºå­¦é™¢çš„è¦æ±‚ï¼Œçªç„¶å‘ç°å·²ç»å¼€å§‹è½¬äº¤äº’ä¸“ä¸šçš„timeäº†ï¼Œæ ¹æ®æˆ‘æŸ¥çš„èµ„æ–™ï¼Œå‘ç°æ˜¯æ—©äº†ä¸€æ•´ä¸ªæœˆçš„ï¼Œæ‰å‘ç°å‰ä¸¤å¹´æ˜¯æœ‰ç–«æƒ…æ‰€ä»¥æ˜¯çº¿ä¸Šçš„ï¼Œå·®ç‚¹é”™è¿‡ï¼ˆé”™è¿‡äº†å®£è®²ä¼šï¼Œä¸è¿‡æ ¹æ®ç°åœ¨çš„åŒå­¦è¯´ï¼Œå½“æ—¶åªæœ‰ä¸‰ä¸ªäººå»ï¼Œä¸ƒä¸ªè€å¸ˆç»™ä¸‰ä¸ªå­¦ç”Ÿå®£è®²ï¼ŒğŸ¤£ï¼‰ï¼Œäºæ˜¯å‡†å¤‡äº†ä¸€ä¸ªæœˆï¼Œå„ç§è¡¥çŸ¥è¯†ï¼Œåœ¨æ’åæ¯”è¾ƒä¸­é—´çš„åœ°æ–¹è½¬ä¸“ä¸šæˆåŠŸäº†ã€‚\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021ZongJie/4.png)\nå½“æ—¶åŒæ—¶è€ƒ7ç§‘ï¼Œå¤©å¤©å–å’–å•¡ä»æ—©å¤ä¹ åˆ°æ™šä¸Šï¼Œå°±æ€•æŒ‚ç§‘ã€‚ä¸è¿‡æœ€ç»ˆè¿˜æ˜¯æ²¡æŒ‚ç§‘ï¼Œæœ€éš¾çš„ç”µè·¯67é™©è¿‡ï¼ˆæ²¡æƒ³åˆ°åœ¨ç­é‡Œè¿˜å¯ä»¥æ’åå‡ åï¼Œç­é‡Œå››åå¤šä¸ªäººğŸ˜‚ï¼‰ï¼ŒæˆåŠŸåœ°è½¬åˆ°äº†è®¾è®¡å­¦é™¢ã€‚\n\næš‘å‡ç¨å¾®å¯¹åšç½‘ç«™æœ‰ç‚¹å…´è¶£ï¼Œäºæ˜¯èŠ±äº†ä¸€å‘¨æ—¶é—´ç®€å•å­¦äº†ä¸‰ä»¶å¥—ï¼ŒåŠ ä¸Šä¸æ–­åœ°ç»ƒä¹ ï¼Œç»ƒä¹ åˆ°å¼€å­¦ååå‡ å¤©ï¼Œæ­å¥½ç½‘ç«™åå°±å˜æˆæ‡’ç‹—äº†ï¼ˆbushiï¼‰ï¼Œä½†æ˜¯åº”ä»˜ä¸‹å­¦æœŸçš„è¯¾ç¨‹ç»°ç»°æœ‰ä½™äº†ã€‚\n\nåˆ°äº†ä¸­æœŸï¼Œå¤§ä½œä¸šä¸æ–­æ¥è¸µè€Œè‡³ï¼Œæœ‰æ®µæ—¶é—´æ¯å¤©2ç‚¹ç¡è§‰8ç‚¹èµ·åºŠå»ä¸Šè¯¾ï¼Œé‚£æ®µæ—¶é—´çœŸçš„æ˜¯è¦ç´¯æ­»ï¼Œemoç‡ä¹Ÿå¾ˆé«˜ã€‚å­¦ä¹ äº†ç´ æä¸è‰²å½©ï¼Œå¯¹äºç»˜ç”»çš„åˆæ­¥è®¤çŸ¥ä¸å†æ˜¯å¤§ä¸€æ—¶çš„ç©ç©è€Œå·²ï¼Œä¹Ÿå¯¹ä¸‹ä¸€æ­¥çš„ç»˜ç”»é“è·¯è¿›è¡Œæ€è€ƒã€‚\n\næˆ‘çš„2021ï¼Œç®€å•æ¥è¯´ï¼Œä¾¿æ˜¯é‡æ–°è®¤è¯†è‡ªæˆ‘ï¼Œç¡®è®¤ç›®æ ‡ï¼Œå¯èƒ½ç°åœ¨è¿˜ä¸æ˜¯ç‰¹åˆ«æ¸…æ¥šï¼Œå› ä¸ºæ—¶é—´ä¸å¤šäº†ï¼Œæˆ‘åˆæœ‰ä¸¤æ¡é“è·¯å¯ä»¥é€‰æ‹©ï¼ˆæ¸¸æˆä¸è®¾è®¡ï¼‰ï¼Œæ‰€ä»¥è¿˜ä¸èƒ½åšå®šåœ°ç«‹ä¸‹æ¥ã€‚\n\næ€»çš„æ¥è¯´ï¼Œè¿˜æ˜¯å­¦åˆ°å¾ˆå¤šï¼Œä½†æ˜¯è¿˜ä¸å¤Ÿï¼Œ2022ï¼Œå””ï¼Œç”±ä¸å¾—ä¸å·çš„ç†ç”±äº†ã€‚\n","slug":"è¿™äº›æ—¶å€™æˆ‘éƒ½åœ¨å¿™äº›ä»€ä¹ˆ-åŒæ—¶ä½œä¸º2021æ€»ç»“ï¼‰","published":1,"updated":"2024-01-07T07:45:43.714Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clr4d2ju6000ggwv093lfc7xc","content":"<p>å¤ªå¿™äº†ï¼Œå…ˆæŠŠè¿™æ®µæ—¶é—´è¦åšçš„äº‹æƒ…æ”¾å‡ºæ¥ï¼ˆåŠ æ²¹ï¼‰ğŸ˜‚<br>10.8 å¾ªç¯è®¾è®¡QA<br>10.10 å»ºæ¨¡å°ä½œä¸šDDL<br>10.15 å¾ªç¯è®¾è®¡å®ç‰©æŠ¥å‘Š<br>10.19 é©¬åŸpre<br>10.20 å¾ªç¯è®¾è®¡æµ·æŠ¥pre<br>10.27 å¹³é¢æ„æˆ<br>è‰²å½©æ„æˆ<br>æ„æˆæµ·æŠ¥<br>11.5 ç»˜ç”»æ‰“å¡<br>11.8 å®¶æ—å²è®ºæ–‡<br>11æœˆä¸­æ—¬ æ¸¸æˆdemo<br>å»ºæ¨¡å¤§ä½œä¸š<br>12æœˆ logbook ã€é€Ÿå†™ã€å·¥æ¦‚è€ƒè¯•ã€äº¤äº’å¯¼è®ºæ±‡æŠ¥</p>\n<p>å½“åšå®Œä¸€äº›æˆ‘ä¼šæŒ‘ä¸€äº›è‡ªå·±è¯´è¯´è‡ªå·±å¹²äº†äº›ä»€ä¹ˆğŸ¤¯<br>â€”â€”2021.10.8</p>\n<p>ç°åœ¨æ‰å¼€å§‹å†™è¿™ç¯‡æ¨æ–‡ï¼Œå±äºæ˜¯å¤§æ‹–æ›´äº†ï¼Œè™½ç„¶å¿™äº†ä¸€é˜µå­ï¼Œä½†æ˜¯å¿™å®Œåä¼šé¢“åºŸä¸Šå‡ å¤©ï¼Œä»€ä¹ˆäº‹éƒ½ä¸æƒ³å¹²ï¼Œç¨å¾®ç”»äº†ç‚¹ç”»æ‰è°ƒæ•´å¥½çŠ¶æ€ï¼Œå±äºæˆ‘çš„ç»å…¸çŠ¶æ€äº†ã€‚<br>â€”â€”2022.1.7</p>\n<p>å®Œæˆåæ‰å‘ç°æ²¡ä»€ä¹ˆå¯ä»¥è®²çš„ï¼Œå³ä½¿å®Œæˆçš„æ—¶å€™å¾ˆè€—æ—¶é—´ï¼Œä½†æ˜¯å›è¿‡å¤´æ¥çœ‹æ‰å‘ç°åŸæ¥å°±è¿™ä¹ˆç‚¹ä¸œè¥¿ã€‚å¯èƒ½æœ€å€¼å¾—è®²çš„æ˜¯æˆ‘çš„é€Ÿå†™ä½œä¸šï¼Ÿ</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021ZongJie/1.png\" alt=\"img\"><br><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021ZongJie/2.png\" alt=\"img\"></p>\n<p>é€Ÿå†™ï¼Œæˆ‘æ˜¯ä¸€ç›´åœ¨å¯»æ‰¾æœ‰æ•ˆç»ƒä¹ ï¼Œå¯ä»¥è¯´æˆ‘æœ‰ä¸€åŠçš„ç”»ä½œæ˜¯æœ‰æ•ˆç»ƒä¹ çš„å°±ä¸é”™äº†ã€‚çœ‹åˆ°æœ‹å‹åœˆçš„åŒå­¦å‘çš„ç”»çš„æ¯”æˆ‘å¥½æœªå…å¿ƒç”Ÿå«‰å¦’ï¼ŒåŒæ—¶ä¹Ÿä¼šå»æŸ¥æ‰¾åŸå› ã€‚å› ä¸ºæœ‰äº›äººæœ¬èº«å°±æ˜¯åœ¨å·¥è®¾è¯»çš„ï¼Œæˆ‘ä½œä¸ºä¸€ä¸ªç†å·¥ç§‘å­¦ç”Ÿï¼Œæ¯•ç«Ÿåœ¨ç»˜ç”»æ–¹é¢å­¦çš„ç›¸æ¯”ä»–ä»¬è¦å°‘å¾ˆå¤šã€‚å¯èƒ½æˆ‘åœ¨æˆ‘ä»¬ç­çš„ç»˜ç”»æ°´å¹³ä¸­æ˜¯ä¸­é—´æ°´å¹³å§ï¼Œä½†æ˜¯åœ¨è¿™ä¸ªé¢†åŸŸä¸æ¯”å·®ï¼Œåªæ¯”è°æ›´å¼ºï¼Œæ‰€ä»¥æœ‰æ—¶å€™ä¼šemoğŸ˜«ã€‚</p>\n<p>ä½œä¸šæ—¢ç„¶æ²¡ä»€ä¹ˆè¯´çš„ï¼Œåšä¹‹å‰è¿˜ä¼šè§‰å¾—å¾ˆå›°éš¾ï¼Œå¯ä»¥è¯´å¾ˆå¤šï¼Œåšå®Œåæ‰å‘ç°åªæ˜¯ä¸ªå°äº‹ï¼ˆå»ºæ¨¡å†ä¹Ÿä¸å¯èƒ½ç”¨aliasäº†ï¼Œå¤ªè¾£é¸¡äº†ï¼‰ã€‚æ¥ä¸‹æ¥è¯´è¯´æˆ‘çš„2021å§ã€‚</p>\n<p>2021åˆšå¼€å§‹å°±æ˜¯å†›è®­+æ”¾å‡ï¼Œå¯ä»¥è¯´æˆ‘çš„2021æ˜¯åœ¨ä¸‹å­¦æœŸå¼€å­¦ä¹‹åæ‰ç®—å¼€å§‹ã€‚è¯¾ä¸šä¹Ÿå¤šäº†å¾ˆå¤šï¼Œä»ç¬¬ä¸€å­¦æœŸçš„ä¸‰é—¨è€ƒè¯•å˜åˆ°äº†ä¸ƒé—¨è€ƒè¯•ï¼ˆåœ¨ç”µä¿¡çš„æ—¶å€™ï¼‰ï¼Œå­¦çš„é‚£å«ä¸€ä¸ªç—›è‹¦ã€‚ä¸è¿‡ç¿˜è¯¾é¢‘ç‡ä¹Ÿå¢åŠ äº†ï¼Œä¸»è¦è¿˜æ˜¯ç¿˜æ•°æ®ç»“æ„ï¼Œæ¯•ç«Ÿå¯¹æˆ‘æ¥è¯´å¾ˆç®€å•ã€‚æˆ‘èŠ±äº†2å‘¨æ—¶é—´å¯¹ç€è§†é¢‘æ•™ç¨‹åšäº†å°ç‹ç‹¸ï¼Œå½“æ—¶ç”Ÿæ´»å·¨ä¸èŠ‚å¾‹ï¼Œå–å¥¶èŒ¶å¥èº«åŠ ç†¬å¤œæ—©èµ·å†™ä»£ç ï¼Œç¿˜äº†å¾ˆå¤šè¯¾ï¼Œæå¾—å†…åˆ†æ³Œå¤±è°ƒï¼Œé•¿äº†å¥½å¤šç—˜ç—˜ğŸ˜­ï¼ˆç›´åˆ°ç°åœ¨è¿˜æœ‰äº›æ²¡æœ‰æ¶ˆå»ï¼‰ï¼Œä¸è¿‡ç®—æ˜¯å¯¹unityæœ‰äº†äº›åŸºæœ¬è®¤çŸ¥ã€‚<br><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021ZongJie/3.png\" alt=\"img\"><br>åŒæ—¶ï¼Œå¤šäºä¸wtwä¸€æ¬¡èŠå¤©ï¼Œæƒ³å»æŸ¥ä¸€ä¸‹è½¬è®¡ç®—æœºå­¦é™¢çš„è¦æ±‚ï¼Œçªç„¶å‘ç°å·²ç»å¼€å§‹è½¬äº¤äº’ä¸“ä¸šçš„timeäº†ï¼Œæ ¹æ®æˆ‘æŸ¥çš„èµ„æ–™ï¼Œå‘ç°æ˜¯æ—©äº†ä¸€æ•´ä¸ªæœˆçš„ï¼Œæ‰å‘ç°å‰ä¸¤å¹´æ˜¯æœ‰ç–«æƒ…æ‰€ä»¥æ˜¯çº¿ä¸Šçš„ï¼Œå·®ç‚¹é”™è¿‡ï¼ˆé”™è¿‡äº†å®£è®²ä¼šï¼Œä¸è¿‡æ ¹æ®ç°åœ¨çš„åŒå­¦è¯´ï¼Œå½“æ—¶åªæœ‰ä¸‰ä¸ªäººå»ï¼Œä¸ƒä¸ªè€å¸ˆç»™ä¸‰ä¸ªå­¦ç”Ÿå®£è®²ï¼ŒğŸ¤£ï¼‰ï¼Œäºæ˜¯å‡†å¤‡äº†ä¸€ä¸ªæœˆï¼Œå„ç§è¡¥çŸ¥è¯†ï¼Œåœ¨æ’åæ¯”è¾ƒä¸­é—´çš„åœ°æ–¹è½¬ä¸“ä¸šæˆåŠŸäº†ã€‚<br><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021ZongJie/4.png\" alt=\"img\"><br>å½“æ—¶åŒæ—¶è€ƒ7ç§‘ï¼Œå¤©å¤©å–å’–å•¡ä»æ—©å¤ä¹ åˆ°æ™šä¸Šï¼Œå°±æ€•æŒ‚ç§‘ã€‚ä¸è¿‡æœ€ç»ˆè¿˜æ˜¯æ²¡æŒ‚ç§‘ï¼Œæœ€éš¾çš„ç”µè·¯67é™©è¿‡ï¼ˆæ²¡æƒ³åˆ°åœ¨ç­é‡Œè¿˜å¯ä»¥æ’åå‡ åï¼Œç­é‡Œå››åå¤šä¸ªäººğŸ˜‚ï¼‰ï¼ŒæˆåŠŸåœ°è½¬åˆ°äº†è®¾è®¡å­¦é™¢ã€‚</p>\n<p>æš‘å‡ç¨å¾®å¯¹åšç½‘ç«™æœ‰ç‚¹å…´è¶£ï¼Œäºæ˜¯èŠ±äº†ä¸€å‘¨æ—¶é—´ç®€å•å­¦äº†ä¸‰ä»¶å¥—ï¼ŒåŠ ä¸Šä¸æ–­åœ°ç»ƒä¹ ï¼Œç»ƒä¹ åˆ°å¼€å­¦ååå‡ å¤©ï¼Œæ­å¥½ç½‘ç«™åå°±å˜æˆæ‡’ç‹—äº†ï¼ˆbushiï¼‰ï¼Œä½†æ˜¯åº”ä»˜ä¸‹å­¦æœŸçš„è¯¾ç¨‹ç»°ç»°æœ‰ä½™äº†ã€‚</p>\n<p>åˆ°äº†ä¸­æœŸï¼Œå¤§ä½œä¸šä¸æ–­æ¥è¸µè€Œè‡³ï¼Œæœ‰æ®µæ—¶é—´æ¯å¤©2ç‚¹ç¡è§‰8ç‚¹èµ·åºŠå»ä¸Šè¯¾ï¼Œé‚£æ®µæ—¶é—´çœŸçš„æ˜¯è¦ç´¯æ­»ï¼Œemoç‡ä¹Ÿå¾ˆé«˜ã€‚å­¦ä¹ äº†ç´ æä¸è‰²å½©ï¼Œå¯¹äºç»˜ç”»çš„åˆæ­¥è®¤çŸ¥ä¸å†æ˜¯å¤§ä¸€æ—¶çš„ç©ç©è€Œå·²ï¼Œä¹Ÿå¯¹ä¸‹ä¸€æ­¥çš„ç»˜ç”»é“è·¯è¿›è¡Œæ€è€ƒã€‚</p>\n<p>æˆ‘çš„2021ï¼Œç®€å•æ¥è¯´ï¼Œä¾¿æ˜¯é‡æ–°è®¤è¯†è‡ªæˆ‘ï¼Œç¡®è®¤ç›®æ ‡ï¼Œå¯èƒ½ç°åœ¨è¿˜ä¸æ˜¯ç‰¹åˆ«æ¸…æ¥šï¼Œå› ä¸ºæ—¶é—´ä¸å¤šäº†ï¼Œæˆ‘åˆæœ‰ä¸¤æ¡é“è·¯å¯ä»¥é€‰æ‹©ï¼ˆæ¸¸æˆä¸è®¾è®¡ï¼‰ï¼Œæ‰€ä»¥è¿˜ä¸èƒ½åšå®šåœ°ç«‹ä¸‹æ¥ã€‚</p>\n<p>æ€»çš„æ¥è¯´ï¼Œè¿˜æ˜¯å­¦åˆ°å¾ˆå¤šï¼Œä½†æ˜¯è¿˜ä¸å¤Ÿï¼Œ2022ï¼Œå””ï¼Œç”±ä¸å¾—ä¸å·çš„ç†ç”±äº†ã€‚</p>\n","site":{"data":{}},"length":1313,"excerpt":"","more":"<p>å¤ªå¿™äº†ï¼Œå…ˆæŠŠè¿™æ®µæ—¶é—´è¦åšçš„äº‹æƒ…æ”¾å‡ºæ¥ï¼ˆåŠ æ²¹ï¼‰ğŸ˜‚<br>10.8 å¾ªç¯è®¾è®¡QA<br>10.10 å»ºæ¨¡å°ä½œä¸šDDL<br>10.15 å¾ªç¯è®¾è®¡å®ç‰©æŠ¥å‘Š<br>10.19 é©¬åŸpre<br>10.20 å¾ªç¯è®¾è®¡æµ·æŠ¥pre<br>10.27 å¹³é¢æ„æˆ<br>è‰²å½©æ„æˆ<br>æ„æˆæµ·æŠ¥<br>11.5 ç»˜ç”»æ‰“å¡<br>11.8 å®¶æ—å²è®ºæ–‡<br>11æœˆä¸­æ—¬ æ¸¸æˆdemo<br>å»ºæ¨¡å¤§ä½œä¸š<br>12æœˆ logbook ã€é€Ÿå†™ã€å·¥æ¦‚è€ƒè¯•ã€äº¤äº’å¯¼è®ºæ±‡æŠ¥</p>\n<p>å½“åšå®Œä¸€äº›æˆ‘ä¼šæŒ‘ä¸€äº›è‡ªå·±è¯´è¯´è‡ªå·±å¹²äº†äº›ä»€ä¹ˆğŸ¤¯<br>â€”â€”2021.10.8</p>\n<p>ç°åœ¨æ‰å¼€å§‹å†™è¿™ç¯‡æ¨æ–‡ï¼Œå±äºæ˜¯å¤§æ‹–æ›´äº†ï¼Œè™½ç„¶å¿™äº†ä¸€é˜µå­ï¼Œä½†æ˜¯å¿™å®Œåä¼šé¢“åºŸä¸Šå‡ å¤©ï¼Œä»€ä¹ˆäº‹éƒ½ä¸æƒ³å¹²ï¼Œç¨å¾®ç”»äº†ç‚¹ç”»æ‰è°ƒæ•´å¥½çŠ¶æ€ï¼Œå±äºæˆ‘çš„ç»å…¸çŠ¶æ€äº†ã€‚<br>â€”â€”2022.1.7</p>\n<p>å®Œæˆåæ‰å‘ç°æ²¡ä»€ä¹ˆå¯ä»¥è®²çš„ï¼Œå³ä½¿å®Œæˆçš„æ—¶å€™å¾ˆè€—æ—¶é—´ï¼Œä½†æ˜¯å›è¿‡å¤´æ¥çœ‹æ‰å‘ç°åŸæ¥å°±è¿™ä¹ˆç‚¹ä¸œè¥¿ã€‚å¯èƒ½æœ€å€¼å¾—è®²çš„æ˜¯æˆ‘çš„é€Ÿå†™ä½œä¸šï¼Ÿ</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021ZongJie/1.png\" alt=\"img\"><br><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021ZongJie/2.png\" alt=\"img\"></p>\n<p>é€Ÿå†™ï¼Œæˆ‘æ˜¯ä¸€ç›´åœ¨å¯»æ‰¾æœ‰æ•ˆç»ƒä¹ ï¼Œå¯ä»¥è¯´æˆ‘æœ‰ä¸€åŠçš„ç”»ä½œæ˜¯æœ‰æ•ˆç»ƒä¹ çš„å°±ä¸é”™äº†ã€‚çœ‹åˆ°æœ‹å‹åœˆçš„åŒå­¦å‘çš„ç”»çš„æ¯”æˆ‘å¥½æœªå…å¿ƒç”Ÿå«‰å¦’ï¼ŒåŒæ—¶ä¹Ÿä¼šå»æŸ¥æ‰¾åŸå› ã€‚å› ä¸ºæœ‰äº›äººæœ¬èº«å°±æ˜¯åœ¨å·¥è®¾è¯»çš„ï¼Œæˆ‘ä½œä¸ºä¸€ä¸ªç†å·¥ç§‘å­¦ç”Ÿï¼Œæ¯•ç«Ÿåœ¨ç»˜ç”»æ–¹é¢å­¦çš„ç›¸æ¯”ä»–ä»¬è¦å°‘å¾ˆå¤šã€‚å¯èƒ½æˆ‘åœ¨æˆ‘ä»¬ç­çš„ç»˜ç”»æ°´å¹³ä¸­æ˜¯ä¸­é—´æ°´å¹³å§ï¼Œä½†æ˜¯åœ¨è¿™ä¸ªé¢†åŸŸä¸æ¯”å·®ï¼Œåªæ¯”è°æ›´å¼ºï¼Œæ‰€ä»¥æœ‰æ—¶å€™ä¼šemoğŸ˜«ã€‚</p>\n<p>ä½œä¸šæ—¢ç„¶æ²¡ä»€ä¹ˆè¯´çš„ï¼Œåšä¹‹å‰è¿˜ä¼šè§‰å¾—å¾ˆå›°éš¾ï¼Œå¯ä»¥è¯´å¾ˆå¤šï¼Œåšå®Œåæ‰å‘ç°åªæ˜¯ä¸ªå°äº‹ï¼ˆå»ºæ¨¡å†ä¹Ÿä¸å¯èƒ½ç”¨aliasäº†ï¼Œå¤ªè¾£é¸¡äº†ï¼‰ã€‚æ¥ä¸‹æ¥è¯´è¯´æˆ‘çš„2021å§ã€‚</p>\n<p>2021åˆšå¼€å§‹å°±æ˜¯å†›è®­+æ”¾å‡ï¼Œå¯ä»¥è¯´æˆ‘çš„2021æ˜¯åœ¨ä¸‹å­¦æœŸå¼€å­¦ä¹‹åæ‰ç®—å¼€å§‹ã€‚è¯¾ä¸šä¹Ÿå¤šäº†å¾ˆå¤šï¼Œä»ç¬¬ä¸€å­¦æœŸçš„ä¸‰é—¨è€ƒè¯•å˜åˆ°äº†ä¸ƒé—¨è€ƒè¯•ï¼ˆåœ¨ç”µä¿¡çš„æ—¶å€™ï¼‰ï¼Œå­¦çš„é‚£å«ä¸€ä¸ªç—›è‹¦ã€‚ä¸è¿‡ç¿˜è¯¾é¢‘ç‡ä¹Ÿå¢åŠ äº†ï¼Œä¸»è¦è¿˜æ˜¯ç¿˜æ•°æ®ç»“æ„ï¼Œæ¯•ç«Ÿå¯¹æˆ‘æ¥è¯´å¾ˆç®€å•ã€‚æˆ‘èŠ±äº†2å‘¨æ—¶é—´å¯¹ç€è§†é¢‘æ•™ç¨‹åšäº†å°ç‹ç‹¸ï¼Œå½“æ—¶ç”Ÿæ´»å·¨ä¸èŠ‚å¾‹ï¼Œå–å¥¶èŒ¶å¥èº«åŠ ç†¬å¤œæ—©èµ·å†™ä»£ç ï¼Œç¿˜äº†å¾ˆå¤šè¯¾ï¼Œæå¾—å†…åˆ†æ³Œå¤±è°ƒï¼Œé•¿äº†å¥½å¤šç—˜ç—˜ğŸ˜­ï¼ˆç›´åˆ°ç°åœ¨è¿˜æœ‰äº›æ²¡æœ‰æ¶ˆå»ï¼‰ï¼Œä¸è¿‡ç®—æ˜¯å¯¹unityæœ‰äº†äº›åŸºæœ¬è®¤çŸ¥ã€‚<br><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021ZongJie/3.png\" alt=\"img\"><br>åŒæ—¶ï¼Œå¤šäºä¸wtwä¸€æ¬¡èŠå¤©ï¼Œæƒ³å»æŸ¥ä¸€ä¸‹è½¬è®¡ç®—æœºå­¦é™¢çš„è¦æ±‚ï¼Œçªç„¶å‘ç°å·²ç»å¼€å§‹è½¬äº¤äº’ä¸“ä¸šçš„timeäº†ï¼Œæ ¹æ®æˆ‘æŸ¥çš„èµ„æ–™ï¼Œå‘ç°æ˜¯æ—©äº†ä¸€æ•´ä¸ªæœˆçš„ï¼Œæ‰å‘ç°å‰ä¸¤å¹´æ˜¯æœ‰ç–«æƒ…æ‰€ä»¥æ˜¯çº¿ä¸Šçš„ï¼Œå·®ç‚¹é”™è¿‡ï¼ˆé”™è¿‡äº†å®£è®²ä¼šï¼Œä¸è¿‡æ ¹æ®ç°åœ¨çš„åŒå­¦è¯´ï¼Œå½“æ—¶åªæœ‰ä¸‰ä¸ªäººå»ï¼Œä¸ƒä¸ªè€å¸ˆç»™ä¸‰ä¸ªå­¦ç”Ÿå®£è®²ï¼ŒğŸ¤£ï¼‰ï¼Œäºæ˜¯å‡†å¤‡äº†ä¸€ä¸ªæœˆï¼Œå„ç§è¡¥çŸ¥è¯†ï¼Œåœ¨æ’åæ¯”è¾ƒä¸­é—´çš„åœ°æ–¹è½¬ä¸“ä¸šæˆåŠŸäº†ã€‚<br><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/2021ZongJie/4.png\" alt=\"img\"><br>å½“æ—¶åŒæ—¶è€ƒ7ç§‘ï¼Œå¤©å¤©å–å’–å•¡ä»æ—©å¤ä¹ åˆ°æ™šä¸Šï¼Œå°±æ€•æŒ‚ç§‘ã€‚ä¸è¿‡æœ€ç»ˆè¿˜æ˜¯æ²¡æŒ‚ç§‘ï¼Œæœ€éš¾çš„ç”µè·¯67é™©è¿‡ï¼ˆæ²¡æƒ³åˆ°åœ¨ç­é‡Œè¿˜å¯ä»¥æ’åå‡ åï¼Œç­é‡Œå››åå¤šä¸ªäººğŸ˜‚ï¼‰ï¼ŒæˆåŠŸåœ°è½¬åˆ°äº†è®¾è®¡å­¦é™¢ã€‚</p>\n<p>æš‘å‡ç¨å¾®å¯¹åšç½‘ç«™æœ‰ç‚¹å…´è¶£ï¼Œäºæ˜¯èŠ±äº†ä¸€å‘¨æ—¶é—´ç®€å•å­¦äº†ä¸‰ä»¶å¥—ï¼ŒåŠ ä¸Šä¸æ–­åœ°ç»ƒä¹ ï¼Œç»ƒä¹ åˆ°å¼€å­¦ååå‡ å¤©ï¼Œæ­å¥½ç½‘ç«™åå°±å˜æˆæ‡’ç‹—äº†ï¼ˆbushiï¼‰ï¼Œä½†æ˜¯åº”ä»˜ä¸‹å­¦æœŸçš„è¯¾ç¨‹ç»°ç»°æœ‰ä½™äº†ã€‚</p>\n<p>åˆ°äº†ä¸­æœŸï¼Œå¤§ä½œä¸šä¸æ–­æ¥è¸µè€Œè‡³ï¼Œæœ‰æ®µæ—¶é—´æ¯å¤©2ç‚¹ç¡è§‰8ç‚¹èµ·åºŠå»ä¸Šè¯¾ï¼Œé‚£æ®µæ—¶é—´çœŸçš„æ˜¯è¦ç´¯æ­»ï¼Œemoç‡ä¹Ÿå¾ˆé«˜ã€‚å­¦ä¹ äº†ç´ æä¸è‰²å½©ï¼Œå¯¹äºç»˜ç”»çš„åˆæ­¥è®¤çŸ¥ä¸å†æ˜¯å¤§ä¸€æ—¶çš„ç©ç©è€Œå·²ï¼Œä¹Ÿå¯¹ä¸‹ä¸€æ­¥çš„ç»˜ç”»é“è·¯è¿›è¡Œæ€è€ƒã€‚</p>\n<p>æˆ‘çš„2021ï¼Œç®€å•æ¥è¯´ï¼Œä¾¿æ˜¯é‡æ–°è®¤è¯†è‡ªæˆ‘ï¼Œç¡®è®¤ç›®æ ‡ï¼Œå¯èƒ½ç°åœ¨è¿˜ä¸æ˜¯ç‰¹åˆ«æ¸…æ¥šï¼Œå› ä¸ºæ—¶é—´ä¸å¤šäº†ï¼Œæˆ‘åˆæœ‰ä¸¤æ¡é“è·¯å¯ä»¥é€‰æ‹©ï¼ˆæ¸¸æˆä¸è®¾è®¡ï¼‰ï¼Œæ‰€ä»¥è¿˜ä¸èƒ½åšå®šåœ°ç«‹ä¸‹æ¥ã€‚</p>\n<p>æ€»çš„æ¥è¯´ï¼Œè¿˜æ˜¯å­¦åˆ°å¾ˆå¤šï¼Œä½†æ˜¯è¿˜ä¸å¤Ÿï¼Œ2022ï¼Œå””ï¼Œç”±ä¸å¾—ä¸å·çš„ç†ç”±äº†ã€‚</p>\n"},{"title":"Design Patterns","date":"2022-08-07T13:04:20.000Z","_content":"\n### å‰è¨€\n\næœ€è¿‘èŠ±äº†ç‚¹è¯»äº†ã€Šæ•æ·è½¯ä»¶å¼€å‘ã€‹è¿™æœ¬ä¹¦ï¼Œå…³äºè¿™æœ¬ä¹¦ï¼Œæˆ‘åŸºæœ¬ä¸Šæ˜¯éšä¾¿çœ‹çœ‹ï¼Œäº†è§£æœ‰ä»€ä¹ˆçŸ¥è¯†ï¼Œä¹Ÿå°±åœ¨ä»£ç éƒ¨åˆ†ï¼ˆå…·ä½“ç¤ºä¾‹æ–¹é¢ï¼‰èŠ±äº†äº›åŠŸå¤«ã€‚å°½ç®¡çŸ¥é“äº†è§£äº†è¿™äº›çŸ¥è¯†ï¼Œä½†æ˜¯åœ¨å·¥ç¨‹ä¸Šï¼Œæ²¡å†™ä¸ª1wè¡Œä»¥ä¸Šçš„ä»£ç è¿˜æ˜¯éš¾ä»¥èä¼šè´¯é€šã€‚æ¯•ç«Ÿç†è®ºå’Œå·¥ç¨‹æ˜¯ä¸ä¸€æ ·çš„ï¼Œå·¥ç¨‹å®ç°ç†è®ºè‡³å°‘æ˜¯ä¸¤ä¸ªæ•°é‡çº§ä»¥ä¸Šçš„éš¾åº¦ã€‚ä¸è¿‡é€šè¿‡ç”»ç®€å•çš„UMLå›¾å’ŒçŸ­å°çš„ä»£ç æ˜¯å¯ä»¥å¿«é€Ÿè®¤è¯†åˆ°æ˜¯ä»€ä¹ˆï¼Œç”¨æ¥åšä»€ä¹ˆï¼Œè¿™æ ·å°±è¶³å¤Ÿäº†ã€‚\n\n### ã€Šæ•æ·è½¯ä»¶å¼€å‘ã€‹é˜…è¯»ç»éªŒ\n\nè¿™æœ¬ä¹¦è¿˜æ˜¯ä¸€æœ¬å¾ˆå¥½çš„ä¹¦ï¼Œå¯¹äºäº†è§£æ•æ·å¼€å‘ï¼Œè®¾è®¡æ¨¡å¼æ˜¯è¶³å¤Ÿçš„ï¼ŒåŒæ—¶ä¹Ÿæœ‰è¶³å¤Ÿå¤šçš„æºä»£ç å¯ä»¥è¯»ã€‚æˆ‘è¯»çš„ä¸€ç‰ˆæ˜¯ã€Šæ•æ·è½¯ä»¶å¼€å‘ï¼šåŸåˆ™ã€æ¨¡å¼ä¸å®è·µã€‹c++ç‰ˆæœ¬çš„ï¼Œä¸è¿‡é‡Œé¢ä¹Ÿæœ‰javaï¼Œè™½ç„¶æˆ‘çš„ä¸»è¯­è¨€æ˜¯c#ï¼Œä½†æ˜¯ä¹Ÿæ˜¯é˜…è¯»èµ·æ¥ä¹Ÿä¸ä¼šå¤ªå›°éš¾ã€‚è¿™æœ¬ä¹¦ä¸­æ–‡ç‰ˆè™½ç„¶æ˜¯åœ¨03å¹´å‡ºç‰ˆçš„ï¼Œä½†æ˜¯åœ¨ç°åœ¨å¯¹äºæˆ‘è¿™ç§æœªå…¥è¡Œä¸šçš„å°ç™½ä¹Ÿæ˜¯ååˆ†æœ‰å¯å‘çš„ã€‚\næ ¹æ®æˆ‘è¿™æ¬¡é˜…è¯»çš„ç»éªŒï¼Œæˆ‘æ¨èç¬¬Iéƒ¨åˆ†ï¼ˆä¹Ÿå°±æ˜¯1-6ç« ï¼‰è¿˜æœ‰ç¬¬IIéƒ¨åˆ†çš„ç¬¬7ç« **ç²—è¯»**ï¼Œå¯¹åŸåˆ™å’Œè®¾è®¡æ¨¡å¼ä¹‹ç±»çš„è¿›è¡Œ**é€šè¯»**ï¼Œ18ï¼Œ19ç« çš„è–ªæ°´æ”¯ä»˜å®è·µè¿›è¡Œ**ç»†è¯»**\n\n### ä»€ä¹ˆæ˜¯è®¾è®¡æ¨¡å¼\n\nè®¾è®¡æ¨¡å¼æ˜¯è½¯ä»¶è®¾è®¡ä¸­å¸¸è§é—®é¢˜çš„å…¸å‹è§£å†³æ–¹æ¡ˆã€‚ å®ƒä»¬å°±åƒèƒ½æ ¹æ®éœ€æ±‚è¿›è¡Œè°ƒæ•´çš„é¢„åˆ¶è“å›¾ï¼Œå¯ç”¨äºè§£å†³ä»£ç ä¸­åå¤å‡ºç°çš„è®¾è®¡é—®é¢˜ã€‚ä¸è¿‡è®¾è®¡æ¨¡å¼çš„å‡ºç°åŸºæœ¬ä¸Šæ˜¯ä¸ºäº†è§£å†³ **â€œè®¾è®¡çš„è‡­å‘³â€** â€”â€”åƒµåŒ–æ€§(Rigidity)ï¼Œè„†å¼±æ€§(Fragility)ï¼Œç‰¢å›ºæ€§(Immobility)ï¼Œç²˜æ»æ€§(Viscosity)ï¼Œä¸å¿…è¦çš„å¤æ‚æ€§(Needless Complexity)ï¼Œä¸å¿…è¦çš„é‡å¤(Needless Repetition)ï¼Œä»¥åŠæ™¦æ¶©æ€§(Opacity)\n\n- **åƒµåŒ–æ€§**ï¼šå¾ˆéš¾å¯¹ç³»ç»Ÿæ”¹åŠ¨ï¼Œå› ä¸ºæ¯æ¬¡æ”¹åŠ¨éƒ½ä¼šä½¿å…¶ä»–åœ°æ–¹æ”¹åŠ¨\n- **è„†å¼±æ€§**ï¼šå¯¹ç³»ç»Ÿçš„æ”¹åŠ¨ä¼šå¯¼è‡´å…¶ä»–çš„åœ°æ–¹å‡ºç°é—®é¢˜\n- **ç‰¢å›ºæ€§**ï¼šè®¾è®¡ä¸­åŒ…å«å¯¹å…¶å®ƒç³»ç»Ÿæœ‰ç”¨çš„éƒ¨åˆ†ï¼Œä½†æ˜¯æŠŠè¿™éƒ¨åˆ†æŠ½ç¦»å‡ºæ¥æˆæœ¬å¤ªé«˜\n- **ç²˜æ»æ€§**ï¼šåšæ–°çš„æ”¹åŠ¨æ—¶ï¼Œä¿æŒç³»ç»Ÿè®¾è®¡çš„æ–¹æ³•æ¯”ç ´åè®¾è®¡çš„æ–¹æ³•æ›´éš¾ä½¿ç”¨\n- **ä¸å¿…è¦çš„å¤æ‚æ€§**ï¼šåŒ…å«å½“å‰æ²¡æœ‰ç”¨çš„ç»„æˆéƒ¨åˆ†ï¼Œå¯èƒ½ä¼šå˜å¾—æ··ä¹±\n- **ä¸å¿…è¦çš„é‡å¤**ï¼šåŒ…å«é‡å¤çš„ç»“æ„ï¼ŒåŸæœ¬å¯ä»¥ç”¨å•ä¸€çš„æŠ½è±¡è¿›è¡Œç»Ÿä¸€\n- **æ™¦æ¶©æ€§**ï¼šéš¾ä»¥é˜…è¯»ã€ç†è§£\n\n#### è®¾è®¡æ¨¡å¼çš„æè¿°å¸¸å¸¸åŒ…å«ä»¥ä¸‹å†…å®¹\n\n- **æ„å›¾(Problem)** éƒ¨åˆ†ç®€å•æè¿°é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆã€‚\n- **åŠ¨æœº(Solution)** éƒ¨åˆ†å°†è¿›ä¸€æ­¥è§£é‡Šé—®é¢˜å¹¶è¯´æ˜æ¨¡å¼ä¼šå¦‚ä½•æä¾›è§£å†³æ–¹æ¡ˆã€‚\n- **ç»“æ„(Structure)** éƒ¨åˆ†å±•ç¤ºæ¨¡å¼çš„æ¯ä¸ªéƒ¨åˆ†å’Œå®ƒä»¬ä¹‹é—´çš„å…³ç³»ã€‚\n\n#### å­¦ä¹ è®¾è®¡æ¨¡å¼çš„å¥½å¤„ä»¥åŠä¸€äº›é—®é¢˜\n\n- ç°åœ¨å¸¸å¸¸è¯´çš„23ç§è®¾è®¡æ¨¡å¼æ˜¯ç»è¿‡å®è·µéªŒè¯çš„è§£å†³æ–¹æ¡ˆã€‚äº†è§£è¿™äº›è®¾è®¡æ¨¡å¼å¯¹äºé˜…è¯»æºä»£ç ååˆ†æœ‰ç”¨ã€‚\n- åŒæ—¶æ–¹ä¾¿äº¤æµï¼Œåªè¦çŸ¥æ™“æ¨¡å¼ä»¥åŠåç§°çš„åŸç†ï¼Œå°±å¯ä»¥ç”¨ä¸€ä¸ªè®¾è®¡æ¨¡å¼çš„åå­—æ¥äº’ç›¸æ²Ÿé€šè¿™é‡Œè¯¥æ€ä¹ˆå†™\n\nåŒæ—¶è®¾è®¡æ¨¡å¼ä¹Ÿä¸€äº›é—®é¢˜ï¼Œè®¾è®¡æ¨¡å¼æœ‰ä¸€äº›æ˜¯ä¸ºäº†å¼¥è¡¥è¯­è¨€æœ¬èº«çš„ç¼ºé™·ï¼Œæœ‰äº›è¯­è¨€æœ‰æ–¹ä¾¿çš„è¯­æ³•ï¼ŒåŸºæœ¬ä¸Šä¸€å¥è¯å°±å¯ä»¥ä»£è¡¨ä¸€ç§è®¾è®¡æ¨¡å¼ã€‚\n\nâ€œå¦‚æœä½ åªæœ‰ä¸€æŠŠé“é”¤ï¼Œ é‚£ä¹ˆä»»ä½•ä¸œè¥¿çœ‹ä¸Šå»éƒ½åƒæ˜¯é’‰å­ã€‚â€ è¿™ç‚¹æ˜¯æœ€é‡è¦çš„ï¼Œå¯¹äºåˆå­¦è€…ä¼šå¸¦æ¥ä¸€å®šå›°æ‰°ï¼Œå­¦ä¹ æŸä¸ªæ¨¡å¼ä¹‹åï¼Œä»–ä»¬ä¼šåœ¨æ‰€æœ‰åœ°æ–¹ä½¿ç”¨è¯¥æ¨¡å¼ï¼Œå³ä¾¿æ˜¯åœ¨è¾ƒä¸ºç®€å•çš„ä»£ç ä¸­ä¹Ÿä½¿ç”¨è¿™ç§æ¨¡å¼ã€‚æ‰€ä»¥è¯´åˆå­¦è€…å­¦æ¥å¸®åŠ©è‡ªå·±é˜…è¯»æºç å°±ç»°ç»°æœ‰ä½™äº†ã€‚\n\n### UMLç±»å›¾\n\nåœ¨å­¦ä¹ è®¾è®¡æ¨¡å¼ä¹‹å‰ï¼Œæˆ‘ä»¬å¾—å…ˆå­¦ä¼šå¦‚ä½•è¯»UMLå›¾ã€‚è™½ç„¶UMLå›¾æœ‰å¾ˆå¤šç§ï¼Œä½†æ˜¯åŸºæœ¬ä¸Šåªè¦ä¼šè¯»UMLç±»å›¾ï¼Œå°±å¯ä»¥èƒœä»»å¤§éƒ¨åˆ†çš„å·¥ä½œã€‚\n\n#### UMLç±»æ–¹æ¡†\n\nUMLç±»å›¾ä¸­åŸºæœ¬ä¸Šå°±ä¸‰ç§æ™®é€šç±»ï¼ŒæŠ½è±¡ç±»å’Œæ¥å£ã€‚éƒ½ç”¨çŸ©å½¢æ¡†è¡¨ç¤ºï¼Œç¬¬ä¸€å±‚æ˜¯ç±»åç§°ï¼Œç¬¬äºŒå±‚æ˜¯æˆå‘˜å˜é‡ï¼Œç¬¬ä¸‰å±‚æ˜¯ç±»çš„æ–¹æ³•ã€‚\n\n- **\"+\"** è¡¨ç¤º public\n- **\"-\"** è¡¨ç¤º private\n- **\"#\"** è¡¨ç¤º protected\n\næŠ½è±¡ç±»çš„ç±»åä»¥åŠæŠ½è±¡æ–¹æ³•éƒ½ç”¨**æ–œä½“**ï¼Œæ¥å£ä¼šåœ¨ç¬¬ä¸€å±‚åŠ ä¸Šä¸€ä¸ª **<< interface >>** ï¼Œå…¶ä»–å¹¶æ²¡æœ‰ä»€ä¹ˆä¸åŒ\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220807220610.png)\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220807221329.png)\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220807221347.png)\n\n#### UMLç±»å›¾ä¸­çš„å…³ç³»\n\nä¸‹é¢ä¸€å¼ å›¾å¦‚æœå¯èƒ½çš„è¯åº”è¯¥åœ¨ã€Šc++ prime plusã€‹ä¸­çœ‹è¿‡ï¼Œå¯ä»¥å¾ˆå¿«ç†è§£æ˜¯ä»€ä¹ˆæ„æ€ï¼Œæˆ‘ä»¬åŸºæœ¬ä¸Šåªè¦è®°å¾—å…³ç³»å¯¹åº”çš„ç®­å¤´å°±å¯ä»¥äº†ã€‚ä¸è¿‡ä¸çŸ¥é“ä¹Ÿæ²¡å…³ç³»ï¼Œæˆ‘ä»¬å¯ä»¥å¿«é€Ÿè¿‡ä¸€éï¼Œäº†è§£è¶³çŸ£ã€‚\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220807221552.png)\n\n##### å®ç°å…³ç³»\n\nç®€å•æ¥è¯´å°±æ˜¯ç±»å®ç°æ¥å£ï¼Œç”±ç±»æŒ‡å‘æ¥å£\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220807222154.png)\n\n##### æ³›åŒ–å…³ç³»\n\næŒ‡å¯¹è±¡ä¹‹é—´çš„ç»§æ‰¿å…³ç³»ï¼Œç”±å­ç±»æŒ‡å‘çˆ¶ç±»\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220807222354.png)\n\n##### å…³è”å…³ç³»\n\næŒ‡è¿™ä¸ªå¯¹è±¡åœ¨å†…éƒ¨å¼•ç”¨äº†å¦ä¸€ä¸ªå¯¹è±¡ï¼Œå…³è”å…³ç³»å†…éƒ¨åˆä¸ºä¾èµ–å…³è”ã€èšåˆå…³è”å’Œç»„åˆå…³è”ä¸‰ç§ç±»å‹\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220807222649.png)\n\n##### ä¾èµ–å…³ç³»\n\næŒ‡Aä½¿ç”¨äº†Bï¼Œä½†æ˜¯Aå’ŒBå¹¶æ²¡ä»€ä¹ˆå…³ç³»ï¼Œå°±å¯ä»¥è®¤ä¸ºæ˜¯ä¾èµ–å…³ç³»\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220807223108.png)\n\n##### èšåˆå…³ç³»\n\næŒ‡Aæ‹¥æœ‰Bï¼ŒBå¯ä»¥å±äºå¤šç§A\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220807223430.png)\n\n##### ç»„åˆå…³ç³»\n\næŒ‡AåŒ…æ‹¬Bï¼ŒåŒç”ŸåŒç­\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220807223521.png)\n\n#### UMLç±»å›¾å°ç»“\n\nå¤§æ¦‚ç¨å¾®çœ‹ä¸€ä¸‹å°±è¡Œäº†ï¼Œæˆ‘è®¤ä¸ºçœ‹è‹±æ–‡(is aé‚£äº›)æ›´å®¹æ˜“ç†è§£å…³ç³»æ˜¯ä»€ä¹ˆæ„æ€ï¼Œè™½ç„¶å…³è”å…³ç³»è¿˜å¯å†åˆ†ï¼Œä¸è¿‡åŸºæœ¬ä¸Šä¸æé‚£ä¹ˆè¯¦ç»†ã€‚æ¯•ç«ŸUMLç±»å›¾æ˜¯ä¸ºäº†å‰æœŸå¿«é€Ÿæ„æ€ç±»çš„å…³ç³»çš„ï¼ŒåŸºæœ¬ä¸Šæˆ‘ä»¬åªç”¨å‰ä¸‰ç§å…³ç³»â€”â€”**å®ç°å…³ç³»ã€æ³›åŒ–å…³ç³»ï¼Œå…³è”å…³ç³»**\n\n### é¢å‘å¯¹è±¡è®¾è®¡çš„ä¸€äº›åŸåˆ™\n\nåœ¨äº†è§£è®¾è®¡æ¨¡å¼ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦äº†è§£ä¸€äº›åŸåˆ™ï¼Œè¿™ä¹Ÿæ˜¯ä½¿ç”¨è®¾è®¡æ¨¡å¼çš„ç›®çš„ä¹‹ä¸€ã€‚\n\n#### å•ä¸€èŒè´£åŸåˆ™(SRP-Single Responsibility Principle)\n\nå½“ä¸€ä¸ªç±»æ‰¿æ‹…çš„èŒè´£è¿‡å¤šï¼Œå°±ç­‰äºæŠŠè¿™äº›èŒè´£è€¦åˆåœ¨äº†ä¸€èµ·ï¼Œä¸€ä¸ªèŒè´£å˜åŒ–çš„æ—¶å€™ï¼Œå¯èƒ½å°±å®¹æ˜“å¯¼è‡´å…¶ä»–èŒè´£çš„å˜åŒ–ã€‚å‡è®¾ä¸€ä¸ªç±»æ—¢å¯ä»¥é“¾æ¥ç®¡ç†ï¼Œåˆå¯ä»¥è¿›è¡Œæ•°æ®é€šä¿¡ï¼Œåœ¨æ•°æ®é€šä¿¡æ–¹é¢ç”±äºå®¢æˆ·éœ€æ±‚ä¸æ–­å˜åŒ–ï¼Œå¯èƒ½åœ¨æ•°æ®é€šä¿¡æ–¹é¢ä¸æ–­ä¿®æ”¹å¯¼è‡´é“¾æ¥ç®¡ç†ä¿®æ”¹èµ·æ¥ä¹Ÿå¾ˆéº»çƒ¦ï¼Œè¿™æ—¶å°±åº”è¯¥åˆ†ç¦»è¿™ä¸¤ä¸ªèŒè´£ï¼Œè®©ä¸¤ä¸ªèŒè´£åˆ†åˆ«ç½®äºä¸åŒçš„ç±»ä¸­ã€‚\n\n#### å¼€æ”¾-å°é—­åŸåˆ™(OCP-The Open-Closed Principle)\n\næŒ‡çš„æ˜¯åœ¨ä¸€ä¸ªç±»ä¸­æ–°åŠ å…¥çš„æ‰©å±•çš„åŠŸèƒ½å¹¶ä¸éœ€è¦ä¿®æ”¹åŸæœ‰çš„åŠŸèƒ½ã€‚æ¯”å¦‚è¯´ç»˜åˆ¶å›¾æ¡ˆï¼ŒåŸæœ¬åªèƒ½ç»˜åˆ¶æ­£æ–¹å½¢å’Œåœ†å½¢ï¼Œå¦‚æœåŠ å…¥ä¸‰è§’å½¢ï¼Œé‚£åœ¨ç»˜åˆ¶å›¾æ¡ˆçš„æ—¶å€™åªéœ€æ·»åŠ ä¸‰è§’å½¢è¿™ä¸ªç±»è€Œä¸ä¿®æ”¹å…¶ä»–ç±»ã€‚\n\n#### Liskovæ›¿æ¢åŸåˆ™(LSP-Liskov Substitution Principle)\n\nè¿åLSPåŸåˆ™å¿…ç„¶è¿åOCPåŸåˆ™ï¼Œä»»ä½•åŸºç±»å¯ä»¥å‡ºç°çš„åœ°æ–¹ï¼Œå­ç±»ä¸€å®šå¯ä»¥å‡ºç°ï¼Œå³åœ¨ä½¿ç”¨æ—¶å­ç±»å¯ä»¥æ›¿æ¢æ‰åŸºç±»ä½†æ˜¯åŠŸèƒ½ä¸å—å½±å“\n\n#### ä¾èµ–å¯¼è‡´åŸåˆ™(DIP-Dependency Inversion Principle)\n\n- é«˜å±‚æ¨¡å—ä¸åº”è¯¥ä¾èµ–äºåº•å±‚æ¨¡å—ï¼ŒäºŒè€…éƒ½åº”è¯¥ä¾èµ–äºæŠ½è±¡\n- æŠ½è±¡ä¸åº”è¯¥ä¾èµ–äºç»†èŠ‚ï¼Œç»†èŠ‚åº”è¯¥ä¾èµ–äºæŠ½è±¡\n\né«˜å±‚æ¨¡å—å³å®è·µæ¨¡å—ï¼Œæ¯”å¦‚mainå‡½æ•°ï¼Œä¿®æ”¹äº†mainå‡½æ•°çš„å®ç°æ–¹å¼å´ä¸æ”¹å˜åº•å±‚æ¨¡å—ç±»çš„ä»£ç å˜åŒ–\n\n#### æ¥å£éš”ç¦»åŸåˆ™(ISP-Interface Segregation Principle)\n\nå»ºç«‹å•ä¸€æ¥å£ï¼Œä¸è¦å»ºç«‹è‡ƒè‚¿åºå¤§çš„æ¥å£ã€‚å†é€šä¿—ä¸€ç‚¹è®²ï¼šæ¥å£å°½é‡ç»†åŒ–ï¼ŒåŒæ—¶æ¥å£ä¸­çš„æ–¹æ³•å°½é‡å°‘ã€‚è·ŸSRPå·®ä¸å¤š\n\n### è®¾è®¡æ¨¡å¼ä»‹ç»\n\nè®¾è®¡æ¨¡å¼å¯ä»¥æ ¹æ®å…¶æ„å›¾æ¥åˆ†ç±»ã€‚ä¸»è¦åˆ†ä¸ºä¸‰ç§ç±»åˆ«\n\n- **åˆ›å»ºå‹æ¨¡å¼(Creational Patterns)** æä¾›åˆ›å»ºå¯¹è±¡çš„æœºåˆ¶ï¼Œ å¢åŠ å·²æœ‰ä»£ç çš„çµæ´»æ€§å’Œå¯å¤ç”¨æ€§\n- **ç»“æ„å‹æ¨¡å¼(Structural Patterns)** ä»‹ç»å¦‚ä½•å°†å¯¹è±¡å’Œç±»ç»„è£…æˆè¾ƒå¤§çš„ç»“æ„ï¼Œ å¹¶åŒæ—¶ä¿æŒç»“æ„çš„çµæ´»å’Œé«˜æ•ˆ\n- **è¡Œä¸ºæ¨¡å¼(Behavioral Patterns)** è´Ÿè´£å¯¹è±¡é—´çš„é«˜æ•ˆæ²Ÿé€šå’ŒèŒè´£å§”æ´¾\n\n### åˆ›å»ºå‹æ¨¡å¼(Creational Patterns)\n\n#### Factory Method(å·¥å‚æ¨¡å¼)\n\nå·¥å‚æ¨¡å¼æ˜¯ä¸€ç§åˆ›å»ºå‹è®¾è®¡æ¨¡å¼ï¼Œå…¶åœ¨çˆ¶ç±»ä¸­æä¾›ä¸€ä¸ªåˆ›å»ºå¯¹è±¡çš„æ–¹æ³•ï¼Œ å…è®¸å­ç±»å†³å®šå®ä¾‹åŒ–å¯¹è±¡çš„ç±»å‹ã€‚\n\n##### é—®é¢˜\n\nå‡è®¾ä½ æ­£åœ¨å¼€å‘ä¸€æ¬¾ç‰©æµç®¡ç†åº”ç”¨ã€‚ æœ€åˆç‰ˆæœ¬åªèƒ½å¤„ç†å¡è½¦è¿è¾“ï¼Œ å› æ­¤å¤§éƒ¨åˆ†ä»£ç éƒ½åœ¨ä½äºåä¸º**å¡è½¦**çš„ç±»ä¸­ã€‚ä¸€æ®µæ—¶é—´åï¼Œ è¿™æ¬¾åº”ç”¨å˜å¾—æå—æ¬¢è¿ã€‚ ä½ æ¯å¤©éƒ½èƒ½æ”¶åˆ°åå‡ æ¬¡æ¥è‡ªæµ·è¿å…¬å¸çš„è¯·æ±‚ï¼Œ å¸Œæœ›åº”ç”¨èƒ½å¤Ÿæ”¯æŒæµ·ä¸Šç‰©æµåŠŸèƒ½ã€‚è¿™å¯æ˜¯ä¸ªå¥½æ¶ˆæ¯ã€‚ ä½†æ˜¯ä»£ç é—®é¢˜è¯¥å¦‚ä½•å¤„ç†å‘¢ï¼Ÿ ç›®å‰ï¼Œ å¤§éƒ¨åˆ†ä»£ç éƒ½ä¸ å¡è½¦ç±»ç›¸å…³ã€‚ åœ¨ç¨‹åºä¸­æ·»åŠ  è½®èˆ¹ç±»éœ€è¦ä¿®æ”¹å…¨éƒ¨ä»£ç ã€‚ æ›´ç³Ÿç³•çš„æ˜¯ï¼Œ å¦‚æœä½ ä»¥åéœ€è¦åœ¨ç¨‹åºä¸­æ”¯æŒå¦å¤–ä¸€ç§è¿è¾“æ–¹å¼ï¼Œ å¾ˆå¯èƒ½éœ€è¦å†æ¬¡å¯¹è¿™äº›ä»£ç è¿›è¡Œå¤§å¹…ä¿®æ”¹ã€‚\n\n##### è§£å†³æ–¹æ¡ˆ\n\nå·¥å‚æ–¹æ³•æ¨¡å¼å»ºè®®ä½¿ç”¨ç‰¹æ®Šçš„å·¥å‚æ–¹æ³•ä»£æ›¿å¯¹äºå¯¹è±¡æ„é€ å‡½æ•°çš„ç›´æ¥è°ƒç”¨ï¼ˆå³ä½¿ç”¨ newè¿ç®—ç¬¦ï¼‰ã€‚ä¸ç”¨æ‹…å¿ƒï¼Œ å¯¹è±¡ä»å°†é€šè¿‡newè¿ç®—ç¬¦åˆ›å»ºï¼Œåªæ˜¯è¯¥è¿ç®—ç¬¦æ”¹åœ¨å·¥å‚æ–¹æ³•ä¸­è°ƒç”¨ç½¢äº†ã€‚å·¥å‚æ–¹æ³•è¿”å›çš„å¯¹è±¡é€šå¸¸è¢«ç§°ä½œ â€œäº§å“â€ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220808133543.png)\n\nè¿™æ ·å­ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å­ç±»ä¸­é‡å†™å·¥å‚æ–¹æ³•ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220808134434.png)\n\nä¸¾ä¾‹æ¥è¯´ï¼Œ**RoadLogically**ç±»çš„å·¥å‚æ–¹æ³•ä¹Ÿå°±æ˜¯**createTransport()**è¿”å›çš„ä¾¿æ˜¯**Truck**å¯¹è±¡ï¼Œè€Œ**SeaLogistics**è¿”å›çš„ä¾¿æ˜¯**Ship**å¯¹è±¡ã€‚\n\nè°ƒç”¨å·¥å‚æ–¹æ³•çš„ä»£ç  ï¼ˆé€šå¸¸è¢«ç§°ä¸ºå®¢æˆ·ç«¯ä»£ç ï¼‰ æ— éœ€äº†è§£ä¸åŒå­ç±»è¿”å›å®é™…å¯¹è±¡ä¹‹é—´çš„å·®åˆ«ã€‚ å®¢æˆ·ç«¯å°†æ‰€æœ‰äº§å“è§†ä¸ºæŠ½è±¡çš„è¿è¾“ã€‚ å®¢æˆ·ç«¯çŸ¥é“æ‰€æœ‰è¿è¾“å¯¹è±¡éƒ½æä¾›äº¤ä»˜æ–¹æ³•ï¼Œä½†æ˜¯å¹¶ä¸å…³å¿ƒå…¶å…·ä½“å®ç°æ–¹å¼ã€‚\n\n##### å·¥å‚æ–¹æ³•æ¨¡å¼ç»“æ„\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220808164835.png)\n\nç”±å›¾å¯ä»¥çœ‹åˆ°è¿™ä¸ªç»“æ„è¢«åˆ†ä¸ºäº†ä¸¤éƒ¨åˆ†ï¼Œä¸€ä¸ªCreatoréƒ¨åˆ†ï¼Œä¸€ä¸ªProductéƒ¨åˆ†ï¼ŒCreatoréƒ¨åˆ†è´Ÿè´£åˆ›å»ºï¼ŒåŒæ—¶æä¾›SomeOperation()è¿›è¡Œæ“ä½œï¼Œè€ŒSomeOperation()å†…éƒ¨æ˜¯è·å¾—å…·ä½“ç‰©ä½“çš„æ¥å£ï¼Œå¹¶ä¸”åšå‡ºå…·ä½“å®ç°ã€‚\n\n1.**äº§å“(Product)** å°†ä¼šå¯¹æ¥å£è¿›è¡Œå£°æ˜ã€‚ å¯¹äºæ‰€æœ‰ç”±åˆ›å»ºè€…åŠå…¶å­ç±»æ„å»ºçš„å¯¹è±¡ï¼Œ è¿™äº›æ¥å£éƒ½æ˜¯é€šç”¨çš„ã€‚\n\n2.**å…·ä½“äº§å“(ConÂ­crete ProdÂ­ucts)** æ˜¯äº§å“æ¥å£çš„ä¸åŒå®ç°ã€‚\n\n3.**åˆ›å»ºè€…(CreÂ­ator)** ç±»å£°æ˜è¿”å›äº§å“å¯¹è±¡çš„å·¥å‚æ–¹æ³•ã€‚ è¯¥æ–¹æ³•çš„è¿”å›å¯¹è±¡ç±»å‹å¿…é¡»ä¸äº§å“æ¥å£ç›¸åŒ¹é…ã€‚\n\nä½ å¯ä»¥å°†å·¥å‚æ–¹æ³•å£°æ˜ä¸ºæŠ½è±¡æ–¹æ³•ï¼Œå¼ºåˆ¶è¦æ±‚æ¯ä¸ªå­ç±»ä»¥ä¸åŒæ–¹å¼å®ç°è¯¥æ–¹æ³•.æˆ–è€…ï¼Œä½ ä¹Ÿå¯ä»¥åœ¨åŸºç¡€å·¥å‚æ–¹æ³•ä¸­è¿”å›é»˜è®¤äº§å“ç±»å‹ã€‚\n\næ³¨æ„ï¼Œå°½ç®¡å®ƒçš„åå­—æ˜¯åˆ›å»ºè€…ï¼Œä½†å®ƒæœ€ä¸»è¦çš„èŒè´£å¹¶ä¸æ˜¯åˆ›å»ºäº§å“ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œåˆ›å»ºè€…ç±»åŒ…å«ä¸€äº›ä¸äº§å“ç›¸å…³çš„æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ã€‚å·¥å‚æ–¹æ³•å°†è¿™äº›é€»è¾‘å¤„ç†ä»å…·ä½“äº§å“ç±»ä¸­åˆ†ç¦»å‡ºæ¥.æ‰“ä¸ªæ¯”æ–¹ï¼Œå¤§å‹è½¯ä»¶å¼€å‘å…¬å¸æ‹¥æœ‰ç¨‹åºå‘˜åŸ¹è®­éƒ¨é—¨ã€‚ä½†æ˜¯ï¼Œè¿™äº›å…¬å¸çš„ä¸»è¦å·¥ä½œè¿˜æ˜¯ç¼–å†™ä»£ç ï¼Œè€Œéç”Ÿäº§ç¨‹åºå‘˜ã€‚\n\n4.**å…·ä½“åˆ›å»ºè€…(ConÂ­crete CreÂ­ators)** å°†ä¼šé‡å†™åŸºç¡€å·¥å‚æ–¹æ³•ï¼Œä½¿å…¶è¿”å›ä¸åŒç±»å‹çš„äº§å“ã€‚\n\næ³¨æ„ï¼Œå¹¶ä¸ä¸€å®šæ¯æ¬¡è°ƒç”¨å·¥å‚æ–¹æ³•éƒ½ä¼šåˆ›å»ºæ–°çš„å®ä¾‹ã€‚å·¥å‚æ–¹æ³•ä¹Ÿå¯ä»¥è¿”å›ç¼“å­˜ã€å¯¹è±¡æ± æˆ–å…¶ä»–æ¥æºçš„å·²æœ‰å¯¹è±¡ã€‚\n\n##### ä¼ªä»£ç \n\næ ¹æ®ä¸Šå›¾ï¼Œæˆ‘ä»¬å¯ä»¥å¿«é€Ÿçš„åšå‡ºä¸€ä¸ªåŸºäºè¿è¾“ä¾‹å­çš„ä¼ªä»£ç (å¹¶ä¸æ˜¯å¾ˆä¼ª)ï¼Œå¦‚æœæœ‰æ–°çš„ç§ç±»ï¼Œæ¯”å¦‚è¯´é£æœºï¼Œé‚£ä¹ˆä¿®æ”¹å°±å¾ˆå®¹æ˜“äº†ï¼Œå¹¶ä¸éœ€è¦ä¿®æ”¹åŸæ¥çš„ä»£ç ï¼Œåªéœ€è¦å¤šå†™ä¸€ä¸ª**AirLogisticsç±»**ç»§æ‰¿**Logisticsç±»**ï¼Œå†™ä¸€ä¸ª**Plane**ç»§æ‰¿**Transportæ¥å£**ï¼Œç”šè‡³è¿çˆ¶ç±»çš„Logisticséƒ½ä¸ç”¨åŠ¨ï¼Œè¿™å¾ˆå¥½çš„è·µè¡Œäº†SRPå’ŒOCPåŸåˆ™ã€‚\n\n```csharp\n//LogisiticæŠ½è±¡ç±»ï¼Œä¹Ÿå°±æ˜¯Creator\npublic abstract class Logisitic\n{\n    //CreateTransportä¹Ÿå°±æ˜¯å·¥å‚æ–¹æ³•(FactoryMethod)\n    public abstract Transport CreateTransport();\n\n    public void planDelivery()\n    {\n        Transport t = CreateTransport();\n        t.Deliver();\n    }\n}\npublic class RoadLogistics : Logisitic\n{\n    public overrride Transport CreateTransport()\n    {\n        //è¿”å›çš„æ˜¯äº§å“ç±»ï¼Œè€Œä¸æ˜¯æœ¬å°Š\n        return new Truck();\n    }\n}\npublic class SeaLogistics : Logisitic\n{\n    public overrride Transport CreateTransport()\n    {\n        return new Ship();\n    }\n}\n//Transportæ¥å£ï¼Œä¹Ÿå°±æ˜¯Product\npublic interface Transport\n{\n    void Deliver();\n}\nclass Truck : Transport\n{\n    public void Deliver() \n    {\n        //....\n    }\n}\nclass Ship : Transport\n{\n    public void Deliver() \n    {\n        //....\n    }\n}\n```\n\n##### é€‚åˆå·¥å‚æ¨¡å¼çš„åœ°æ–¹\n\n- å½“ä½ åœ¨ç¼–å†™ä»£ç çš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æœæ— æ³•é¢„çŸ¥å¯¹è±¡ç¡®åˆ‡ç±»åˆ«åŠå…¶ä¾èµ–å…³ç³»æ—¶ï¼Œå¯ä½¿ç”¨å·¥å‚æ–¹æ³•ã€‚\n- å¦‚æœä½ å¸Œæœ›ç”¨æˆ·èƒ½æ‰©å±•ä½ è½¯ä»¶åº“æˆ–æ¡†æ¶çš„å†…éƒ¨ç»„ä»¶ï¼Œå¯ä½¿ç”¨å·¥å‚æ–¹æ³•ã€‚\n- å¦‚æœä½ å¸Œæœ›å¤ç”¨ç°æœ‰å¯¹è±¡æ¥èŠ‚çœç³»ç»Ÿèµ„æºï¼Œè€Œä¸æ˜¯æ¯æ¬¡éƒ½é‡æ–°åˆ›å»ºå¯¹è±¡ï¼Œå¯ä½¿ç”¨å·¥å‚æ–¹æ³•ã€‚\n\n##### å·¥å‚æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\n\n**ä¼˜ç‚¹**ï¼š\n\n- ä½ å¯ä»¥é¿å…åˆ›å»ºè€…å’Œå…·ä½“äº§å“ä¹‹é—´çš„ç´§å¯†è€¦åˆã€‚\n- ç¬¦åˆSRP\n- ç¬¦åˆOCP\n  \n\n**ç¼ºç‚¹**ï¼š\n\n- åº”ç”¨å·¥å‚æ–¹æ³•æ¨¡å¼éœ€è¦å¼•å…¥è®¸å¤šæ–°çš„å­ç±»ï¼Œä»£ç å¯èƒ½ä¼šå› æ­¤å˜å¾—æ›´å¤æ‚ã€‚æœ€å¥½çš„æƒ…å†µæ˜¯å°†è¯¥æ¨¡å¼å¼•å…¥åˆ›å»ºè€…ç±»çš„ç°æœ‰å±‚æ¬¡ç»“æ„ä¸­ã€‚ç®€å•æ¥è¯´ï¼Œå°±æ˜¯åœ¨å·¥ä½œåˆæœŸä½¿ç”¨**å·¥å‚æ¨¡å¼**ï¼ˆæ¯”è¾ƒç®€å•ï¼Œè€Œä¸”å®¹æ˜“é€šè¿‡å­ç±»ä¿®æ”¹),ä½†ä»£ç å¤æ‚æ—¶ä¼šæ¼”åŒ–æˆå…¶ä»–æ¨¡å¼\n\n#### Abstract Factory(æŠ½è±¡å·¥å‚æ¨¡å¼)\n\næŠ½è±¡å·¥å‚æ¨¡å¼æ˜¯ä¸€ç§åˆ›å»ºå‹è®¾è®¡æ¨¡å¼ï¼Œ å®ƒèƒ½åˆ›å»ºä¸€ç³»åˆ—ç›¸å…³çš„å¯¹è±¡ï¼Œ è€Œæ— éœ€æŒ‡å®šå…¶å…·ä½“ç±»ã€‚\n\n##### é—®é¢˜\n\nå‡è®¾ä½ æ­£åœ¨å¼€å‘ä¸€æ¬¾å®¶å…·å•†åº—æ¨¡æ‹Ÿå™¨ã€‚ä½ çš„ä»£ç ä¸­åŒ…æ‹¬ä¸€äº›ç±»ï¼Œç”¨äºè¡¨ç¤ºï¼š\n1.ä¸€ç³»åˆ—ç›¸å…³äº§å“ï¼Œä¾‹å¦‚ æ¤…å­Chairã€æ²™å‘Sofaå’Œå’–å•¡æ¡ŒCofÂ­feeÂ­Tableã€‚\n2.ç³»åˆ—äº§å“çš„ä¸åŒå˜ä½“ã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥ä½¿ç”¨ç°ä»£ModÂ­ernã€ç»´å¤šåˆ©äºšVicÂ­toÂ­riÂ­anã€â€‹è£…é¥°é£è‰ºæœ¯ArtÂ­Decoç­‰é£æ ¼ç”Ÿæˆæ¤…å­ã€æ²™å‘å’Œå’–å•¡æ¡Œã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220808150223.png)\n\nä½ éœ€è¦è®¾æ³•å•ç‹¬ç”Ÿæˆæ¯ä»¶å®¶å…·å¯¹è±¡ï¼Œè¿™æ ·æ‰èƒ½ç¡®ä¿å…¶é£æ ¼ä¸€è‡´ã€‚å¦‚æœé¡¾å®¢æ”¶åˆ°çš„å®¶å…·é£æ ¼ä¸ä¸€æ ·ï¼Œä»–ä»¬å¯ä¸ä¼šå¼€å¿ƒã€‚\næ­¤å¤–ï¼Œä½ ä¹Ÿä¸å¸Œæœ›åœ¨æ·»åŠ æ–°äº§å“æˆ–æ–°é£æ ¼æ—¶ä¿®æ”¹å·²æœ‰ä»£ç ã€‚å®¶å…·ä¾›åº”å•†å¯¹äºäº§å“ç›®å½•çš„æ›´æ–°éå¸¸é¢‘ç¹ï¼Œä½ ä¸ä¼šæƒ³åœ¨æ¯æ¬¡æ›´æ–°æ—¶éƒ½å»ä¿®æ”¹æ ¸å¿ƒä»£ç çš„ã€‚\n\n##### è§£å†³æ–¹æ¡ˆ\n\né¦–å…ˆï¼Œ æŠ½è±¡å·¥å‚æ¨¡å¼å»ºè®®ä¸ºç³»åˆ—ä¸­çš„**æ¯ä»¶äº§å“**æ˜ç¡®å£°æ˜æ¥å£ï¼ˆä¾‹å¦‚æ¤…å­ã€æ²™å‘æˆ–å’–å•¡æ¡Œï¼‰ã€‚ç„¶åï¼Œç¡®ä¿æ‰€æœ‰äº§å“å˜ä½“éƒ½ç»§æ‰¿è¿™äº›æ¥å£ã€‚ä¾‹å¦‚ï¼Œæ‰€æœ‰é£æ ¼çš„æ¤…å­éƒ½å®ç°æ¤…å­æ¥å£ï¼›æ‰€æœ‰é£æ ¼çš„å’–å•¡æ¡Œéƒ½å®ç°å’–å•¡æ¡Œæ¥å£ï¼Œä»¥æ­¤ç±»æ¨ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220808150715.png)\n\næ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦å£°æ˜æŠ½è±¡å·¥å‚â€”â€”åŒ…å«ç³»åˆ—ä¸­æ‰€æœ‰äº§å“æ„é€ æ–¹æ³•çš„æ¥å£ã€‚ä¾‹å¦‚creÂ­ateÂ­Chairåˆ›å»ºæ¤…å­ã€â€‹creÂ­ateÂ­Sofaåˆ›å»ºæ²™å‘å’ŒcreÂ­ateÂ­CofÂ­feeÂ­Tableåˆ›å»ºå’–å•¡æ¡Œ.è¿™äº›æ–¹æ³•å¿…é¡»è¿”å›æŠ½è±¡äº§å“ç±»å‹ï¼Œå³æˆ‘ä»¬ä¹‹å‰æŠ½å–çš„é‚£äº›æ¥å£ï¼šæ¤…å­,æ²™å‘å’Œå’–å•¡æ¡Œç­‰ç­‰ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220808150835.png)\n\né‚£ä¹ˆè¯¥å¦‚ä½•å¤„ç†äº§å“å˜ä½“å‘¢ï¼Ÿå¯¹äºç³»åˆ—äº§å“çš„æ¯ä¸ªå˜ä½“ï¼Œæˆ‘ä»¬éƒ½å°†åŸºäºæŠ½è±¡å·¥å‚æ¥å£åˆ›å»ºä¸åŒçš„å·¥å‚ç±»ã€‚æ¯ä¸ªå·¥å‚ç±»éƒ½åªèƒ½è¿”å›ç‰¹å®šç±»åˆ«çš„äº§å“ï¼Œä¾‹å¦‚ï¼Œâ€‹ç°ä»£å®¶å…·å·¥å‚ModÂ­ernÂ­FurÂ­niÂ­tureÂ­FacÂ­toÂ­ryåªèƒ½åˆ›å»ºç°ä»£æ¤…å­ModÂ­ernÂ­Chairã€ç°ä»£æ²™å‘ModÂ­ernÂ­Sofaå’Œç°ä»£å’–å•¡æ¡ŒModÂ­ernÂ­CofÂ­feeÂ­Tableå¯¹è±¡ã€‚\n\nå®¢æˆ·ç«¯ä»£ç å¯ä»¥é€šè¿‡ç›¸åº”çš„æŠ½è±¡æ¥å£è°ƒç”¨å·¥å‚å’Œäº§å“ç±»ã€‚ ä½ æ— éœ€ä¿®æ”¹å®é™…å®¢æˆ·ç«¯ä»£ç ï¼Œ å°±èƒ½æ›´æ”¹ä¼ é€’ç»™å®¢æˆ·ç«¯çš„å·¥å‚ç±»ï¼Œ ä¹Ÿèƒ½æ›´æ”¹å®¢æˆ·ç«¯ä»£ç æ¥æ”¶çš„äº§å“å˜ä½“ã€‚\n\n##### æŠ½è±¡å·¥å‚æ¨¡å¼ç»“æ„\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220808151005.png)\n\n1.**æŠ½è±¡äº§å“(Abstract ProdÂ­uct)** ä¸ºæ„æˆç³»åˆ—äº§å“çš„ä¸€ç»„ä¸åŒä½†ç›¸å…³çš„äº§å“å£°æ˜æ¥å£ã€‚\n\n2.**å…·ä½“äº§å“(ConÂ­crete ProdÂ­uct)** æ˜¯æŠ½è±¡äº§å“çš„å¤šç§ä¸åŒç±»å‹å®ç°ã€‚æ‰€æœ‰å˜ä½“ ï¼ˆç»´å¤šåˆ©äºš/ç°ä»£ï¼‰éƒ½å¿…é¡»å®ç°ç›¸åº”çš„æŠ½è±¡äº§å“ ï¼ˆæ¤…å­/æ²™å‘ï¼‰ã€‚\n\n3.**æŠ½è±¡å·¥å‚(Abstract FacÂ­toÂ­ry)** æ¥å£å£°æ˜äº†ä¸€ç»„åˆ›å»ºå„ç§æŠ½è±¡äº§å“çš„æ–¹æ³•ã€‚\n\n4.**å…·ä½“å·¥å‚(ConÂ­crete FacÂ­toÂ­ry)** å®ç°æŠ½è±¡å·¥å‚çš„æ„å»ºæ–¹æ³•ã€‚æ¯ä¸ªå…·ä½“å·¥å‚éƒ½å¯¹åº”ç‰¹å®šäº§å“å˜ä½“ï¼Œä¸”ä»…åˆ›å»ºæ­¤ç§äº§å“å˜ä½“ã€‚\n\n5.å°½ç®¡å…·ä½“å·¥å‚ä¼šå¯¹å…·ä½“äº§å“è¿›è¡Œåˆå§‹åŒ–ï¼Œå…¶æ„å»ºæ–¹æ³•ç­¾åå¿…é¡»è¿”å›ç›¸åº”çš„æŠ½è±¡äº§å“ã€‚è¿™æ ·ï¼Œä½¿ç”¨å·¥å‚ç±»çš„å®¢æˆ·ç«¯ä»£ç å°±ä¸ä¼šä¸å·¥å‚åˆ›å»ºçš„ç‰¹å®šäº§å“å˜ä½“è€¦åˆã€‚**å®¢æˆ·ç«¯ (Client)** åªéœ€é€šè¿‡æŠ½è±¡æ¥å£è°ƒç”¨å·¥å‚å’Œäº§å“å¯¹è±¡ï¼Œå°±èƒ½ä¸ä»»ä½•å…·ä½“å·¥å‚/äº§å“å˜ä½“äº¤äº’ã€‚\n\n##### ä¼ªä»£ç \n\nåŒæ ·æ˜¯æ ¹æ®æŠ½è±¡å·¥å‚æ¨¡å¼ç»“æ„çš„å›¾ï¼Œæˆ‘ä»¬å¿«é€Ÿçš„å†™ä¸€ä¸ªåŸºäºå®¶å…·æŠ½è±¡å·¥å‚çš„ä¸æ˜¯é‚£ä¹ˆä¼ªçš„ä¼ªä»£ç \n\n```csharp\n//éšä¾¿å†™ä¸€ä¸‹ä»£ç å°±ä¼šå¾ˆå¤šï¼Œæ‰€ä»¥è¿™é‡Œåªå†™å‡ºäº†ä¸€éƒ¨åˆ†ä»£ç \n//æŠ½è±¡å·¥å‚æ¥å£\npublic interface FurnitureFactory\n{\n    //åˆ›å»ºæ¤…å­\n    Chair CreateChair();\n\n    //åˆ›å»ºå’–å•¡æ¡Œ\n    CoffeTable CreateCoffeeTable();\n\n    //åˆ›å»ºæ²™å‘\n    Sofa CreateSofa();\n}\npublic class VictorianFurnitureFactory : FurnitureFactory\n{\n    public Chair CreateChair()\n    {\n        return new VictorianChair();\n    }\n\n    public CoffeTable CreateCoffeeTable()\n    {\n        return new VictorianCoffeeTable();\n    }\n\n    public Sofa CreateSofa()\n    {\n        return new VictorianSofa();\n    }\n}\npublic class ModernFurnitureFactory : FurnitureFactory\n{\n    public Chair CreateChair()\n    {\n        return new ModernChair();\n    }\n\n    public CoffeTable CreateCoffeeTable()\n    {\n        return new ModenCoffeeTable();\n    }\n\n    public Sofa CreateSofa()\n    {\n        return new ModernSofa();\n    }\n}\n\n//æŠ½è±¡äº§å“ Chairç±»\npublic interface Chair\n{\n    void HasLegs();\n\n    void SitOn();\n}\n\npublic class VictorianChair : Chair\n{\n    public void HasLegs()\n    {\n        //...\n    }\n    public void SitOn()\n    {\n        //...\n    }\n}\n\npublic class ModernChair : Chair\n{\n    public void HasLegs()\n    {\n        //...\n    }\n    public void SitOn()\n    {\n        //...\n    }\n}\n\n//æŠ½è±¡äº§å“ CoffeeTableç±»\npublic interface CoffeeTable\n{\n    void HasLegs();\n}\n\npublic class VictorianCoffeeTable : CoffeeTable\n{\n    public void HasLegs()\n    {\n        //...\n    }\n}\npublic class ModernCoffeeTable : CoffeeTable\n{\n    public void HasLegs()\n    {\n        //...\n    }\n}\n\n//å®¢æˆ·ç«¯è°ƒç”¨æŠ½è±¡å·¥å‚ä»£ç \npublic class Client\n{\n    // - factory:AbstractFactory\n    private FurnitureFactory factory;\n\n    public Client(FurnitureFactory factory)\n    {\n        this.factory = factory;\n    }\n\n    public void SomeOperation()\n    {\n        Chair chair = factory.CreateChair();\n        //...\n    }\n}\n```\n\n##### é€‚åˆæŠ½è±¡å·¥å‚æ¨¡å¼çš„åœ°æ–¹\n\n- å¦‚æœä»£ç éœ€è¦ä¸å¤šä¸ªä¸åŒç³»åˆ—çš„ç›¸å…³äº§å“äº¤äº’ï¼Œä½†æ˜¯ç”±äºæ— æ³•æå‰è·å–ç›¸å…³ä¿¡æ¯ï¼Œæˆ–è€…å‡ºäºå¯¹æœªæ¥æ‰©å±•æ€§çš„è€ƒè™‘ï¼Œä½ ä¸å¸Œæœ›ä»£ç åŸºäºäº§å“çš„å…·ä½“ç±»è¿›è¡Œæ„å»ºï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½ å¯ä»¥ä½¿ç”¨æŠ½è±¡å·¥å‚\n\n##### æŠ½è±¡å·¥å‚æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\n\n**ä¼˜ç‚¹**:\n\n- ä½ å¯ä»¥ç¡®ä¿åŒä¸€å·¥å‚ç”Ÿæˆçš„äº§å“ç›¸äº’åŒ¹é…\n- ä½ å¯ä»¥é¿å…å®¢æˆ·ç«¯å’Œå…·ä½“äº§å“ä»£ç çš„è€¦åˆ\n- ç¬¦åˆSRP\n- ç¬¦åˆOCP\n\n**ç¼ºç‚¹**:\n\n- ç”±äºé‡‡ç”¨è¯¥æ¨¡å¼éœ€è¦å‘åº”ç”¨ä¸­å¼•å…¥ä¼—å¤šæ¥å£å’Œç±»ï¼Œ ä»£ç å¯èƒ½ä¼šæ¯”ä¹‹å‰æ›´åŠ å¤æ‚ã€‚\n\n#### Builder(ç”Ÿæˆå™¨æ¨¡å¼)\n\nç”Ÿæˆå™¨æ¨¡å¼æ˜¯ä¸€ç§åˆ›å»ºå‹è®¾è®¡æ¨¡å¼ï¼Œä½¿ä½ èƒ½å¤Ÿåˆ†æ­¥éª¤åˆ›å»ºå¤æ‚å¯¹è±¡ã€‚è¯¥æ¨¡å¼å…è®¸ä½ ä½¿ç”¨ç›¸åŒçš„åˆ›å»ºä»£ç ç”Ÿæˆä¸åŒç±»å‹å’Œå½¢å¼çš„å¯¹è±¡ã€‚\n\n##### é—®é¢˜\n\nå‡è®¾æœ‰è¿™æ ·ä¸€ä¸ªå¤æ‚å¯¹è±¡ï¼Œåœ¨å¯¹å…¶è¿›è¡Œæ„é€ æ—¶éœ€è¦å¯¹è¯¸å¤šæˆå‘˜å˜é‡å’ŒåµŒå¥—å¯¹è±¡è¿›è¡Œç¹å¤çš„åˆå§‹åŒ–å·¥ä½œã€‚è¿™äº›åˆå§‹åŒ–ä»£ç é€šå¸¸æ·±è—äºä¸€ä¸ªåŒ…å«ä¼—å¤šå‚æ•°ä¸”è®©äººåŸºæœ¬çœ‹ä¸æ‡‚çš„æ„é€ å‡½æ•°ä¸­ï¼›ç”šè‡³è¿˜æœ‰æ›´ç³Ÿç³•çš„æƒ…å†µï¼Œé‚£å°±æ˜¯è¿™äº›ä»£ç æ•£è½åœ¨å®¢æˆ·ç«¯ä»£ç çš„å¤šä¸ªä½ç½®ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220808163211.png)\n\næœ€ç®€å•çš„æ–¹æ³•æ˜¯æ‰©å±•æˆ¿å±‹åŸºç±»ï¼Œç„¶ååˆ›å»ºä¸€ç³»åˆ—æ¶µç›–æ‰€æœ‰å‚æ•°ç»„åˆçš„å­ç±»ã€‚ä½†æœ€ç»ˆä½ å°†é¢å¯¹ç›¸å½“æ•°é‡çš„å­ç±»ã€‚ä»»ä½•æ–°å¢çš„å‚æ•°ï¼ˆä¾‹å¦‚é—¨å»Šç±»å‹ï¼‰éƒ½ä¼šè®©è¿™ä¸ªå±‚æ¬¡ç»“æ„æ›´åŠ å¤æ‚ã€‚\n\nå¦ä¸€ç§æ–¹æ³•åˆ™æ— éœ€ç”Ÿæˆå­ç±»ã€‚ä½ å¯ä»¥åœ¨æˆ¿å±‹åŸºç±»ä¸­åˆ›å»ºä¸€ä¸ªåŒ…æ‹¬æ‰€æœ‰å¯èƒ½å‚æ•°çš„è¶…çº§æ„é€ å‡½æ•°ï¼Œå¹¶ç”¨å®ƒæ¥æ§åˆ¶æˆ¿å±‹å¯¹è±¡ã€‚è¿™ç§æ–¹æ³•ç¡®å®å¯ä»¥é¿å…ç”Ÿæˆå­ç±»ï¼Œä½†å®ƒå´ä¼šé€ æˆå¦å¤–ä¸€ä¸ªé—®é¢˜ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220808163441.png)\n\né€šå¸¸æƒ…å†µä¸‹ï¼Œ ç»å¤§éƒ¨åˆ†çš„å‚æ•°éƒ½æ²¡æœ‰ä½¿ç”¨ï¼Œ è¿™ä½¿å¾—å¯¹äºæ„é€ å‡½æ•°çš„è°ƒç”¨ååˆ†ä¸ç®€æ´ã€‚ ä¾‹å¦‚ï¼Œ åªæœ‰å¾ˆå°‘çš„æˆ¿å­æœ‰æ¸¸æ³³æ± ï¼Œ å› æ­¤ä¸æ¸¸æ³³æ± ç›¸å…³çš„å‚æ•°åä¹‹å…«ä¹æ˜¯æ¯«æ— ç”¨å¤„çš„ã€‚\n\n##### è§£å†³æ–¹æ¡ˆ\n\nç”Ÿæˆå™¨æ¨¡å¼å»ºè®®å°†å¯¹è±¡æ„é€ ä»£ç ä»äº§å“ç±»ä¸­æŠ½å–å‡ºæ¥ï¼Œå¹¶å°†å…¶æ”¾åœ¨ä¸€ä¸ªåä¸ºç”Ÿæˆå™¨çš„ç‹¬ç«‹å¯¹è±¡ä¸­ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220808164126.png)\n\nè¯¥æ¨¡å¼ä¼šå°†å¯¹è±¡æ„é€ è¿‡ç¨‹**åˆ’åˆ†ä¸ºä¸€ç»„æ­¥éª¤**ï¼Œæ¯”å¦‚buildÂ­Wallsåˆ›å»ºå¢™å£å’ŒbuildÂ­Dooråˆ›å»ºæˆ¿é—¨åˆ›å»ºæˆ¿é—¨ç­‰ã€‚æ¯æ¬¡åˆ›å»ºå¯¹è±¡æ—¶ï¼Œä½ éƒ½éœ€è¦é€šè¿‡ç”Ÿæˆå™¨å¯¹è±¡æ‰§è¡Œä¸€ç³»åˆ—æ­¥éª¤ã€‚é‡ç‚¹åœ¨äºä½ æ— éœ€è°ƒç”¨æ‰€æœ‰æ­¥éª¤ï¼Œè€Œåªéœ€è°ƒç”¨åˆ›å»ºç‰¹å®šå¯¹è±¡é…ç½®æ‰€éœ€çš„é‚£äº›æ­¥éª¤å³å¯ã€‚\n\nå½“ä½ éœ€è¦åˆ›å»º**ä¸åŒå½¢å¼çš„äº§å“**æ—¶ï¼Œå…¶ä¸­çš„ä¸€äº›æ„é€ æ­¥éª¤å¯èƒ½éœ€è¦ä¸åŒçš„å®ç°ã€‚ä¾‹å¦‚ï¼Œæœ¨å±‹çš„æˆ¿é—¨å¯èƒ½éœ€è¦ä½¿ç”¨æœ¨å¤´åˆ¶é€ ï¼Œè€ŒåŸå ¡çš„æˆ¿é—¨åˆ™å¿…é¡»ä½¿ç”¨çŸ³å¤´åˆ¶é€ ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½ å¯ä»¥åˆ›å»ºå¤šä¸ªä¸åŒçš„ç”Ÿæˆå™¨ï¼Œç”¨ä¸åŒæ–¹å¼å®ç°ä¸€ç»„ç›¸åŒçš„åˆ›å»ºæ­¥éª¤ã€‚ç„¶åä½ å°±å¯ä»¥åœ¨åˆ›å»ºè¿‡ç¨‹ä¸­ä½¿ç”¨è¿™äº›ç”Ÿæˆå™¨ï¼ˆä¾‹å¦‚æŒ‰é¡ºåºè°ƒç”¨å¤šä¸ªæ„é€ æ­¥éª¤ï¼‰æ¥ç”Ÿæˆä¸åŒç±»å‹çš„å¯¹è±¡ã€‚\n\n**ä¸»ç®¡(Director)** :\nä½ å¯ä»¥è¿›ä¸€æ­¥å°†ç”¨äºåˆ›å»ºäº§å“çš„ä¸€ç³»åˆ—ç”Ÿæˆå™¨æ­¥éª¤è°ƒç”¨æŠ½å–æˆä¸ºå•ç‹¬çš„ä¸»ç®¡ç±»ã€‚ä¸»ç®¡ç±»å¯å®šä¹‰åˆ›å»ºæ­¥éª¤çš„æ‰§è¡Œé¡ºåºï¼Œè€Œç”Ÿæˆå™¨åˆ™æä¾›è¿™äº›æ­¥éª¤çš„å®ç°ã€‚\nä¸¥æ ¼æ¥è¯´ï¼Œä½ çš„ç¨‹åºä¸­å¹¶ä¸ä¸€å®šéœ€è¦ä¸»ç®¡ç±»ã€‚å®¢æˆ·ç«¯ä»£ç å¯ç›´æ¥ä»¥ç‰¹å®šé¡ºåºè°ƒç”¨åˆ›å»ºæ­¥éª¤ã€‚ä¸è¿‡ï¼Œä¸»ç®¡ç±»ä¸­éå¸¸é€‚åˆæ”¾å…¥å„ç§ä¾‹è¡Œæ„é€ æµç¨‹ï¼Œä»¥ä¾¿åœ¨ç¨‹åºä¸­åå¤ä½¿ç”¨ã€‚\næ­¤å¤–ï¼Œå¯¹äºå®¢æˆ·ç«¯ä»£ç æ¥è¯´ï¼Œä¸»ç®¡ç±»å®Œå…¨éšè—äº†äº§å“æ„é€ ç»†èŠ‚ã€‚å®¢æˆ·ç«¯åªéœ€è¦å°†ä¸€ä¸ªç”Ÿæˆå™¨ä¸ä¸»ç®¡ç±»å…³è”ï¼Œç„¶åä½¿ç”¨ä¸»ç®¡ç±»æ¥æ„é€ äº§å“ï¼Œå°±èƒ½ä»ç”Ÿæˆå™¨å¤„è·å¾—æ„é€ ç»“æœäº†ã€‚\n\n##### ç”Ÿæˆå™¨æ¨¡å¼ç»“æ„\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220808164617.png)\n\n1.**ç”Ÿæˆå™¨(Builder)** æ¥å£å£°æ˜åœ¨æ‰€æœ‰ç±»å‹ç”Ÿæˆå™¨ä¸­é€šç”¨çš„äº§å“æ„é€ æ­¥éª¤ã€‚\n\n2.**å…·ä½“ç”Ÿæˆå™¨(ConÂ­crete Builders)** æä¾›æ„é€ è¿‡ç¨‹çš„ä¸åŒå®ç°ã€‚å…·ä½“ç”Ÿæˆå™¨ä¹Ÿå¯ä»¥æ„é€ ä¸éµå¾ªé€šç”¨æ¥å£çš„äº§å“ã€‚\n\n3.**äº§å“(ProdÂ­ucts)** æ˜¯æœ€ç»ˆç”Ÿæˆçš„å¯¹è±¡ã€‚ç”±ä¸åŒç”Ÿæˆå™¨æ„é€ çš„äº§å“æ— éœ€å±äºåŒä¸€ç±»å±‚æ¬¡ç»“æ„æˆ–æ¥å£ã€‚\n\n4.**ä¸»ç®¡(DirecÂ­tor)** ç±»å®šä¹‰è°ƒç”¨æ„é€ æ­¥éª¤çš„é¡ºåºï¼Œè¿™æ ·ä½ å°±å¯ä»¥åˆ›å»ºå’Œå¤ç”¨ç‰¹å®šçš„äº§å“é…ç½®ã€‚\n\n5.**å®¢æˆ·ç«¯(Client)** å¿…é¡»å°†æŸä¸ªç”Ÿæˆå™¨å¯¹è±¡ä¸ä¸»ç®¡ç±»å…³è”ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œä½ åªéœ€é€šè¿‡ä¸»ç®¡ç±»æ„é€ å‡½æ•°çš„å‚æ•°è¿›è¡Œä¸€æ¬¡æ€§å…³è”å³å¯ã€‚æ­¤åä¸»ç®¡ç±»å°±èƒ½ä½¿ç”¨ç”Ÿæˆå™¨å¯¹è±¡å®Œæˆåç»­æ‰€æœ‰çš„æ„é€ ä»»åŠ¡ã€‚ä½†åœ¨å®¢æˆ·ç«¯å°†ç”Ÿæˆå™¨å¯¹è±¡ä¼ é€’ç»™ä¸»ç®¡ç±»åˆ¶é€ æ–¹æ³•æ—¶è¿˜æœ‰å¦ä¸€ç§æ–¹å¼ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½ åœ¨ä½¿ç”¨ä¸»ç®¡ç±»ç”Ÿäº§äº§å“æ—¶æ¯æ¬¡éƒ½å¯ä»¥ä½¿ç”¨ä¸åŒçš„ç”Ÿæˆå™¨ã€‚\n\n##### ä¼ªä»£ç \n\næ„Ÿè§‰ä¸Šé¢çš„ä¾‹å­å¹¶ä¸æ˜¯å¾ˆç›´æ¥ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸‹é¢æœ‰ä¸€ä¸ªå…³äºç”Ÿæˆå™¨æ¨¡å¼çš„ä¾‹å­æ¼”ç¤ºäº†ä½ å¯ä»¥å¦‚ä½•å¤ç”¨ç›¸åŒçš„å¯¹è±¡æ„é€ ä»£ç æ¥ç”Ÿæˆä¸åŒç±»å‹çš„äº§å“â€”â€”ä¾‹å¦‚æ±½è½¦ï¼ˆCarï¼‰â€”â€”åŠå…¶ç›¸åº”çš„ä½¿ç”¨æ‰‹å†Œï¼ˆManÂ­uÂ­alï¼‰ã€‚\nç”Ÿæˆå™¨æ¨¡å¼å¯ä»¥å¾ˆæ–¹ä¾¿çš„å†™å‡º**å®ç°åŒç±»äº§å“ä½†æ˜¯å®ç°æ­¥éª¤ä¸åŒ**ï¼Œå®ƒä¼šå°†ä¸€ä¸ªçš„åˆ¶é€ è¿‡ç¨‹åˆ†ä¸º**ä¸€ç³»åˆ—æ­¥éª¤**ï¼Œç”¨Directorç±»åœ¨ç”Ÿæˆä¸åŒäº§å“çš„æ—¶å€™ä½ å¯ä»¥æ ¹æ®ä¸åŒéœ€æ±‚åœ¨åŒç±»äº§å“é€‰æ‹©ç›¸åº”çš„æ­¥éª¤ï¼Œæ¯”å¦‚Caræœ‰å¾ˆå¤šç§ï¼Œåœ¨Builderæˆ‘ä»¬æœ‰å»ºé€ Carçš„æ‰€æœ‰æ­¥éª¤ï¼Œä½†æ˜¯æ ¹æ®éœ€æ±‚åªéœ€è¦ä½¿ç”¨ä¸€äº›æ­¥éª¤ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨ç›¸åº”çš„Builderç±»ä¸­çš„æ–¹æ³•ï¼Œæˆ‘ä»¬å°½é‡çš„**è¯¦ç»†**ï¼Œè¿™æ ·åœ¨Directorä¸­æˆ‘ä»¬èƒ½å¤Ÿå»ºé€ æ›´å¤šç±»å‹çš„äº§å“ã€‚\nä»ç„¶æ˜¯å†™ä¸€ä¸ªå¹¶ä¸æ˜¯å¾ˆä¼ªçš„ä¼ªä»£ç ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220808165345.png)\n\n```csharp\n//åªæœ‰å½“äº§å“è¾ƒä¸ºå¤æ‚ä¸”éœ€è¦è¯¦ç»†é…ç½®æ—¶ï¼Œä½¿ç”¨ç”Ÿæˆå™¨æ¨¡å¼æ‰æœ‰æ„ä¹‰\n//ç”Ÿæˆå™¨æ¥å£å£°æ˜äº†åˆ›å»ºäº§å“ä¸åŒå¯¹è±¡çš„æ–¹æ³•\n\n//Productç±»\n//ä¸€è¾†è½¦æœ‰å¾ˆå¤šç§ç±»ï¼ŒSUVï¼Œå°è½¿è½¦ç­‰ç­‰\npublic class Car\n{\n    //...\n}\n//Productç±»\npublic class Manual\n{\n    //...\n}\npublic interface Builder\n{\n    void Reset();\n\n    void SetSeats();\n\n    void setEngine();\n\n    //...\n    \n}\npublic class CarBuilder : Builder\n{\n    private Car car = new Car();\n\n    public CarBuilder()\n    {\n        this.Reset();\n    }\n\n    public void Reset()\n    {\n        this.car = new Car();\n    }\n\n    public void SetSeats();\n\n    //...\n\n    //å…·ä½“ç”Ÿæˆå™¨éœ€è¦è‡ªè¡Œæä¾›è·å–ç»“æœçš„æ–¹æ³•ã€‚è¿™æ˜¯å› ä¸ºä¸åŒç±»å‹çš„ç”Ÿæˆå™¨å¯èƒ½\n    // ä¼šåˆ›å»ºä¸éµå¾ªç›¸åŒæ¥å£çš„ã€å®Œå…¨ä¸åŒçš„äº§å“ã€‚æ‰€ä»¥ä¹Ÿå°±æ— æ³•åœ¨ç”Ÿæˆå™¨æ¥å£ä¸­\n    // å£°æ˜è¿™äº›æ–¹æ³•ï¼ˆè‡³å°‘åœ¨é™æ€ç±»å‹çš„ç¼–ç¨‹è¯­è¨€ä¸­æ˜¯è¿™æ ·çš„ï¼‰ã€‚\n    //é€šå¸¸åœ¨ç”Ÿæˆå™¨å®ä¾‹å°†ç»“æœè¿”å›ç»™å®¢æˆ·ç«¯åï¼Œå®ƒä»¬åº”è¯¥åšå¥½ç”Ÿæˆå¦ä¸€ä¸ªäº§å“çš„å‡†å¤‡\n    public Car getResult()\n    {\n        Car result = this.car;\n\n        this.Reset();\n\n        return result;\n    }\n}\n\npublic class CarManualBuilder : Builder\n{\n    private Manual manual = new Manual();\n    public CarManualBuilder()\n    {\n        this.Reset();\n    }\n\n    public void Reset()\n    {\n        this.manual = new Manual();\n    }\n\n    public void SetSeats();\n\n    //...\n\n    public Manual getResult()\n    {\n        Manual result = this.manual;\n\n        this.Reset();\n\n        return result;\n    }\n}\n//ä¸»ç®¡ç±»åªè´Ÿè´£æŒ‰ç…§ç‰¹å®šé¡ºåºæ‰§è¡Œç”Ÿæˆæ­¥éª¤\n//ç”±äºå®¢æˆ·ç«¯å¯ä»¥ç›´æ¥æ§åˆ¶ç”Ÿæˆå™¨ï¼Œæ‰€ä»¥ä¸¥æ ¼æ„ä¹‰ä¸Šæ¥è¯´ä¸»ç®¡ç±»å¹¶ä¸æ˜¯å¿…éœ€çš„ã€‚\npublic class Director\n{\n    private Builder _builder;\n\n    public Builder builder\n    {\n        set{ _builder = value;}\n    }\n\n    public void MakeSUV(Builder builder)\n    {\n        this._builder.Reset();\n        this._builder.setSeat(...);\n        //...\n    }\n    public void MakeSportCar(Builder builder)\n    {\n        this._builder.Reset();\n        this._builder.setSeat(...);\n        //...\n    } \n}\n//å®¢æˆ·ç«¯ç±»\npublic class Client\n{\n    Director director = new Director();\n\n    CarBuilder builder = new CarBuilder();\n\n    director.MakeSportsCar(builder);\n\n    Car car = builder.getResult();\n\n    CarManualBuilder builder = new CarManualBuilder();\n    director.MakeSportsCar(builder);\n\n    Manual manual = builder.GetResult();\n}\n```\n\n##### é€‚åˆç”Ÿæˆå™¨æ¨¡å¼çš„åœ°æ–¹\n\n- ä½¿ç”¨ç”Ÿæˆå™¨æ¨¡å¼å¯é¿å… **â€œé‡å æ„é€ å‡½æ•° (teleÂ­scopÂ­ing conÂ­strucÂ­tor)â€** çš„å‡ºç°ã€‚å³ä¸‹åˆ—ä»£ç \n\n```csharp\nclass Pizza {\n    Pizza(int size) { ... }\n    Pizza(int size, boolean cheese) { ... }\n    Pizza(int size, boolean cheese, boolean pepperoni) { ... }\n}\n```\n\n- å½“ä½ å¸Œæœ›ä½¿ç”¨ä»£ç **åˆ›å»ºä¸åŒå½¢å¼çš„äº§å“** ï¼ˆä¾‹å¦‚çŸ³å¤´æˆ–æœ¨å¤´æˆ¿å±‹ï¼‰ æ—¶ï¼Œå¯ä½¿ç”¨ç”Ÿæˆå™¨æ¨¡å¼ã€‚\n- ä½¿ç”¨ç”Ÿæˆå™¨æ„é€ ç»„åˆæ ‘æˆ–å…¶ä»–å¤æ‚å¯¹è±¡ã€‚ç”Ÿæˆå™¨æ¨¡å¼è®©ä½ èƒ½åˆ†æ­¥éª¤æ„é€ äº§å“ã€‚ä½ å¯ä»¥å»¶è¿Ÿæ‰§è¡ŒæŸäº›æ­¥éª¤è€Œä¸ä¼šå½±å“æœ€ç»ˆäº§å“ã€‚ä½ ç”šè‡³å¯ä»¥é€’å½’è°ƒç”¨è¿™äº›æ­¥éª¤ï¼Œè¿™åœ¨åˆ›å»ºå¯¹è±¡æ ‘æ—¶éå¸¸æ–¹ä¾¿ã€‚**ç”Ÿæˆå™¨åœ¨æ‰§è¡Œåˆ¶é€ æ­¥éª¤æ—¶ï¼Œä¸èƒ½å¯¹å¤–å‘å¸ƒæœªå®Œæˆçš„äº§å“**ã€‚è¿™å¯ä»¥é¿å…å®¢æˆ·ç«¯ä»£ç è·å–åˆ°ä¸å®Œæ•´ç»“æœå¯¹è±¡çš„æƒ…å†µã€‚\n\n##### ç”Ÿæˆå™¨æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\n\n**ä¼˜ç‚¹** :\n\n- ä½ å¯ä»¥åˆ†æ­¥åˆ›å»ºå¯¹è±¡ï¼Œæš‚ç¼“åˆ›å»ºæ­¥éª¤æˆ–é€’å½’è¿è¡Œåˆ›å»ºæ­¥éª¤ã€‚\n- ç”Ÿæˆä¸åŒå½¢å¼çš„äº§å“æ—¶ï¼Œä½ å¯ä»¥å¤ç”¨ç›¸åŒçš„åˆ¶é€ ä»£ç ã€‚\n- ç¬¦åˆSRP\n\n**ç¼ºç‚¹** :\n\n- ç”±äºè¯¥æ¨¡å¼éœ€è¦æ–°å¢å¤šä¸ªç±»ï¼Œ å› æ­¤ä»£ç æ•´ä½“å¤æ‚ç¨‹åº¦ä¼šæœ‰æ‰€å¢åŠ ã€‚\n\n#### Prototype(åŸå‹æ¨¡å¼)\n\nåŸå‹æ¨¡å¼æ˜¯ä¸€ç§åˆ›å»ºå‹è®¾è®¡æ¨¡å¼ï¼Œä½¿ä½ èƒ½å¤Ÿå¤åˆ¶å·²æœ‰å¯¹è±¡ï¼Œè€Œåˆæ— éœ€ä½¿ä»£ç ä¾èµ–å®ƒä»¬æ‰€å±çš„ç±»ã€‚(å³å½“ä½ éœ€è¦ä¸€ä¸ªç›¸åŒçš„ç±»ï¼Œä½†æ˜¯é‡æ–°è®¾ç½®å‚æ•°å¾ˆç¹çï¼ŒåŸå‹æ¨¡å¼èƒ½è®©ä½ å¾ˆå¿«åœ°åˆ›é€ ä¸€ä¸ªæ–°çš„é™¤äº†åå­—ä¸ä¸€æ ·å…¶ä»–ä¸€æ‘¸ä¸€æ ·çš„å˜é‡)\n\n##### é—®é¢˜\n\nå¦‚æœä½ æœ‰ä¸€ä¸ªå¯¹è±¡ï¼Œå¹¶å¸Œæœ›ç”Ÿæˆä¸å…¶å®Œå…¨ç›¸åŒçš„ä¸€ä¸ªå¤åˆ¶å“ï¼Œä½ è¯¥å¦‚ä½•å®ç°å‘¢ï¼Ÿé¦–å…ˆï¼Œä½ å¿…é¡»æ–°å»ºä¸€ä¸ªå±äºç›¸åŒç±»çš„å¯¹è±¡ã€‚ç„¶åï¼Œä½ å¿…é¡»éå†åŸå§‹å¯¹è±¡çš„æ‰€æœ‰æˆå‘˜å˜é‡ï¼Œå¹¶å°†æˆå‘˜å˜é‡å€¼å¤åˆ¶åˆ°æ–°å¯¹è±¡ä¸­ã€‚ä½†æœ‰ä¸ªå°é—®é¢˜ã€‚å¹¶éæ‰€æœ‰å¯¹è±¡éƒ½èƒ½é€šè¿‡è¿™ç§æ–¹å¼è¿›è¡Œå¤åˆ¶ï¼Œå› ä¸ºæœ‰äº›å¯¹è±¡å¯èƒ½æ‹¥æœ‰ç§æœ‰æˆå‘˜å˜é‡ï¼Œå®ƒä»¬åœ¨å¯¹è±¡æœ¬èº«ä»¥å¤–æ˜¯ä¸å¯è§çš„ã€‚\n\nç›´æ¥å¤åˆ¶è¿˜æœ‰å¦å¤–ä¸€ä¸ªé—®é¢˜ã€‚å› ä¸ºä½ å¿…é¡»çŸ¥é“å¯¹è±¡æ‰€å±çš„ç±»æ‰èƒ½åˆ›å»ºå¤åˆ¶å“ï¼Œæ‰€ä»¥ä»£ç å¿…é¡»ä¾èµ–è¯¥ç±»ã€‚å³ä½¿ä½ å¯ä»¥æ¥å—é¢å¤–çš„ä¾èµ–æ€§ï¼Œé‚£è¿˜æœ‰å¦å¤–ä¸€ä¸ªé—®é¢˜ï¼šæœ‰æ—¶ä½ åªçŸ¥é“å¯¹è±¡æ‰€å®ç°çš„æ¥å£ï¼Œè€Œä¸çŸ¥é“å…¶æ‰€å±çš„å…·ä½“ç±»ï¼Œæ¯”å¦‚å¯å‘æ–¹æ³•çš„æŸä¸ªå‚æ•°ä¼ å…¥å®ç°äº†æŸä¸ªæ¥å£çš„ä»»ä½•å¯¹è±¡ã€‚\n\n##### è§£å†³æ–¹æ¡ˆ\n\nåŸå‹æ¨¡å¼å°†å…‹éš†è¿‡ç¨‹å§”æ´¾ç»™è¢«å…‹éš†çš„å®é™…å¯¹è±¡ã€‚æ¨¡å¼ä¸ºæ‰€æœ‰æ”¯æŒå…‹éš†çš„å¯¹è±¡å£°æ˜äº†ä¸€ä¸ªé€šç”¨æ¥å£ï¼Œè¯¥æ¥å£è®©ä½ èƒ½å¤Ÿå…‹éš†å¯¹è±¡ï¼ŒåŒæ—¶åˆæ— éœ€å°†ä»£ç å’Œå¯¹è±¡æ‰€å±ç±»è€¦åˆã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œè¿™æ ·çš„æ¥å£ä¸­ä»…åŒ…å«ä¸€ä¸ª**å…‹éš†æ–¹æ³•**ã€‚\n\næ‰€æœ‰çš„ç±»å¯¹ç»§æ‰¿çš„é€šç”¨æ¥å£çš„å…‹éš†æ–¹æ³•å®ç°éƒ½éå¸¸ç›¸ä¼¼ã€‚éƒ½æ˜¯åˆ›å»ºä¸€ä¸ªå½“å‰ç±»çš„å¯¹è±¡ï¼Œç„¶åè¿”å›ä¸€ä¸ªç±»â€”â€”å³ return new Class(this);é€šå¸¸åœ¨æ„é€ å‡½æ•°ä¸­å…ˆå†™å¥½åˆå§‹åŒ–çš„æ ·å¼ã€‚\n\nå…¶å®åœ¨c#è¯­è¨€ä¸­å·²ç»æœ‰æä¾›çš„**ICloneableæ¥å£**è¿›è¡Œå¤åˆ¶,å°±æ˜¯ç«‹å³å¯ç”¨çš„åŸå‹æ¨¡å¼ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥ä»ç„¶å»çœ‹çœ‹å¹¶ä¸”ç†è§£è¿™ä¸ªæ¨¡å¼æ˜¯å¦‚ä½•è¿è¡Œçš„ã€‚\n\n##### åŸå‹ç»“æ„æ¨¡å¼\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220809232541.png)\n\n1.**åŸå‹(ProÂ­toÂ­type)** æ¥å£å°†å¯¹å…‹éš†æ–¹æ³•è¿›è¡Œå£°æ˜ã€‚åœ¨ç»å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œå…¶ä¸­åªä¼šæœ‰ä¸€ä¸ªåä¸º cloneå…‹éš†çš„æ–¹æ³•ã€‚\n\n2.**å…·ä½“åŸå‹(ConÂ­crete ProÂ­toÂ­type)** ç±»å°†å®ç°å…‹éš†æ–¹æ³•ã€‚é™¤äº†å°†åŸå§‹å¯¹è±¡çš„æ•°æ®å¤åˆ¶åˆ°å…‹éš†ä½“ä¸­ä¹‹å¤–ï¼Œè¯¥æ–¹æ³•æœ‰æ—¶è¿˜éœ€å¤„ç†å…‹éš†è¿‡ç¨‹ä¸­çš„æç«¯æƒ…å†µï¼Œä¾‹å¦‚å…‹éš†å…³è”å¯¹è±¡å’Œæ¢³ç†é€’å½’ä¾èµ–ç­‰ç­‰ã€‚\n\n3.**å®¢æˆ·ç«¯(Client)** å¯ä»¥å¤åˆ¶å®ç°äº†åŸå‹æ¥å£çš„ä»»ä½•å¯¹è±¡ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220809233359.png)\n\n1.**åŸå‹æ³¨å†Œè¡¨(ProÂ­toÂ­type RegÂ­istry)** æä¾›äº†ä¸€ç§è®¿é—®å¸¸ç”¨åŸå‹çš„ç®€å•æ–¹æ³•ï¼Œå…¶ä¸­å­˜å‚¨äº†ä¸€ç³»åˆ—å¯ä¾›éšæ—¶å¤åˆ¶çš„é¢„ç”Ÿæˆå¯¹è±¡ã€‚æœ€ç®€å•çš„æ³¨å†Œè¡¨åŸå‹æ˜¯ä¸€ä¸ªåç§° â†’ åŸå‹çš„å“ˆå¸Œè¡¨ã€‚ä½†å¦‚æœéœ€è¦ä½¿ç”¨åç§°ä»¥å¤–çš„æ¡ä»¶è¿›è¡Œæœç´¢ï¼Œä½ å¯ä»¥åˆ›å»ºæ›´åŠ å®Œå–„çš„æ³¨å†Œè¡¨ç‰ˆæœ¬ã€‚\n\n##### ä¼ªä»£ç \n\næˆ‘ä¼šåœ¨è¿™é‡Œé™„ä¸Šä¸€ä»½ä¼ªä»£ç ä»¥åŠc#å®˜æ–¹æä¾›çš„ä»£ç é¡ºä¾¿å­¦ä¹ è¿™ä¸ªæ¥å£ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220809233553.png)\n\n**ä¸€ä»½ä¼ªä»£ç ** : é€šè¿‡é˜…è¯»å¯ä»¥å¿«é€Ÿäº†è§£æ˜¯å¦‚ä½•cloneçš„\n\n```csharp\n// åŸºç¡€åŸå‹ã€‚\nabstract class Shape is\n    field X: int\n    field Y: int\n    field color: string\n\n    // å¸¸è§„æ„é€ å‡½æ•°ã€‚\n    constructor Shape() is\n        // ...\n\n    // åŸå‹æ„é€ å‡½æ•°ã€‚ä½¿ç”¨å·²æœ‰å¯¹è±¡çš„æ•°å€¼æ¥åˆå§‹åŒ–ä¸€ä¸ªæ–°å¯¹è±¡ã€‚\n    constructor Shape(source: Shape) is\n        this()\n        this.X = source.X\n        this.Y = source.Y\n        this.color = source.color\n\n    // cloneï¼ˆå…‹éš†ï¼‰æ“ä½œä¼šè¿”å›ä¸€ä¸ªå½¢çŠ¶å­ç±»ã€‚\n    abstract method clone():Shape\n\n\n// å…·ä½“åŸå‹ã€‚å…‹éš†æ–¹æ³•ä¼šåˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡å¹¶å°†å…¶ä¼ é€’ç»™æ„é€ å‡½æ•°ã€‚ç›´åˆ°æ„é€ å‡½æ•°è¿\n// è¡Œå®Œæˆå‰ï¼Œå®ƒéƒ½æ‹¥æœ‰æŒ‡å‘æ–°å…‹éš†å¯¹è±¡çš„å¼•ç”¨ã€‚å› æ­¤ï¼Œä»»ä½•äººéƒ½æ— æ³•è®¿é—®æœªå®Œå…¨ç”Ÿ\n// æˆçš„å…‹éš†å¯¹è±¡ã€‚è¿™å¯ä»¥ä¿æŒå…‹éš†ç»“æœçš„ä¸€è‡´ã€‚\nclass Rectangle extends Shape is\n    field width: int\n    field height: int\n\n    constructor Rectangle(source: Rectangle) is\n        // éœ€è¦è°ƒç”¨çˆ¶æ„é€ å‡½æ•°æ¥å¤åˆ¶çˆ¶ç±»ä¸­å®šä¹‰çš„ç§æœ‰æˆå‘˜å˜é‡ã€‚\n        super(source)\n        this.width = source.width\n        this.height = source.height\n\n    method clone():Shape is\n        return new Rectangle(this)\n\n\nclass Circle extends Shape is\n    field radius: int\n\n    constructor Circle(source: Circle) is\n        super(source)\n        this.radius = source.radius\n\n    method clone():Shape is\n        return new Circle(this)\n\n\n// å®¢æˆ·ç«¯ä»£ç ä¸­çš„æŸä¸ªä½ç½®ã€‚\nclass Application is\n    field shapes: array of Shape\n\n    constructor Application() is\n        Circle circle = new Circle()\n        circle.X = 10\n        circle.Y = 10\n        circle.radius = 20\n        shapes.add(circle)\n\n        Circle anotherCircle = circle.clone()\n        shapes.add(anotherCircle)\n        // å˜é‡ `anotherCircleï¼ˆå¦ä¸€ä¸ªåœ†ï¼‰`ä¸ `circleï¼ˆåœ†ï¼‰`å¯¹è±¡çš„å†…\n        // å®¹å®Œå…¨ä¸€æ ·ã€‚\n\n        Rectangle rectangle = new Rectangle()\n        rectangle.width = 10\n        rectangle.height = 20\n        shapes.add(rectangle)\n\n    method businessLogic() is\n        // åŸå‹æ˜¯å¾ˆå¼ºå¤§çš„ä¸œè¥¿ï¼Œå› ä¸ºå®ƒèƒ½åœ¨ä¸çŸ¥æ™“å¯¹è±¡ç±»å‹çš„æƒ…å†µä¸‹ç”Ÿæˆä¸€ä¸ªä¸\n        // å…¶å®Œå…¨ç›¸åŒçš„å¤åˆ¶å“ã€‚\n        Array shapesCopy = new Array of Shapes.\n\n        // ä¾‹å¦‚ï¼Œæˆ‘ä»¬ä¸çŸ¥æ™“å½¢çŠ¶æ•°ç»„ä¸­å…ƒç´ çš„å…·ä½“ç±»å‹ï¼ŒåªçŸ¥é“å®ƒä»¬éƒ½æ˜¯å½¢çŠ¶ã€‚\n        // ä½†åœ¨å¤šæ€æœºåˆ¶çš„å¸®åŠ©ä¸‹ï¼Œå½“æˆ‘ä»¬åœ¨æŸä¸ªå½¢çŠ¶ä¸Šè°ƒç”¨ `cloneï¼ˆå…‹éš†ï¼‰`\n        // æ–¹æ³•æ—¶ï¼Œç¨‹åºä¼šæ£€æŸ¥å…¶æ‰€å±çš„ç±»å¹¶è°ƒç”¨å…¶ä¸­æ‰€å®šä¹‰çš„å…‹éš†æ–¹æ³•ã€‚è¿™æ ·ï¼Œ\n        // æˆ‘ä»¬å°†è·å¾—ä¸€ä¸ªæ­£ç¡®çš„å¤åˆ¶å“ï¼Œè€Œä¸æ˜¯ä¸€ç»„ç®€å•çš„å½¢çŠ¶å¯¹è±¡ã€‚\n        foreach (s in shapes) do\n            shapesCopy.add(s.clone())\n\n        // `shapesCopyï¼ˆå½¢çŠ¶å‰¯æœ¬ï¼‰`æ•°ç»„ä¸­åŒ…å« `shapeï¼ˆå½¢çŠ¶ï¼‰`æ•°ç»„æ‰€æœ‰\n        // å­å…ƒç´ çš„å¤åˆ¶å“ã€‚\n```\n\n**c#æä¾›çš„ICloneableæ¥å£çš„ä»£ç ** : é€šè¿‡è¿™é‡Œæˆ‘ä»¬å¯ä»¥çœ‹è§ä¸éœ€è¦å†™æ„é€ å‡½æ•°ï¼Œåªéœ€è¦ç”¨åˆ°**MemberwiseClone**è¿™ä¸ªå‡½æ•°å°±å¯ä»¥å¾ˆå¿«åœ°å®Œæˆ\n\n```csharp\nusing System;\n\nnamespace RefactoringGuru.DesignPatterns.Prototype.Conceptual\n{\n    public class Person\n    {\n        public int Age;\n        public DateTime BirthDate;\n        public string Name;\n        public IdInfo IdInfo;\n\n        //æµ…å¤åˆ¶ï¼Œåªå¤åˆ¶æŒ‡å‘æŸä¸ªå¯¹è±¡çš„æŒ‡é’ˆï¼Œè€Œä¸å¤åˆ¶å¯¹è±¡æœ¬èº«ï¼Œæ–°æ—§å¯¹è±¡è¿˜æ˜¯å…±äº«ä¸€å—å†…å­˜\n        //ä¹Ÿå°±æ˜¯è¯´ä¸ç®¡æ˜¯ä¿®æ”¹åŸå¯¹è±¡è¿˜æ˜¯æ–°å¯¹è±¡ä¸¤ä¸ªéƒ½ä¼šä¸€èµ·æ”¹å˜\n        public Person ShallowCopy()\n        {\n            return (Person)this.MemberwiseClone();\n        }\n\n        //æ·±å¤åˆ¶ï¼Œä¼šåˆ›é€ ä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œä½†ä¸ä¸äºåŸå¯¹è±¡å…±äº«å†…å­˜\n        //ä¿®æ”¹æ–°æ—§å¯¹è±¡äº’ä¸å½±å“\n        //æ‰€ä»¥æˆ‘ä»¬å¯ä»¥è®¤è¯†åˆ°åŸå‹æ¨¡å¼æ˜¯æ·±å¤åˆ¶\n        public Person DeepCopy()\n        {\n            Person clone = (Person)this.MemberwiseClone();\n            clone.IdInfo = new IdInfo(IdInfo.IdNumber);\n            clone.Name = String.Copy(Name);\n            return clone;\n        }\n    }\n\n    public class IdInfo\n    {\n        public int IdNumber;\n\n        public IdInfo(int idNumber)\n        {\n            this.IdNumber = idNumber;\n        }\n    }\n\n    //æµ‹è¯•ä¾‹å­ï¼Œé€šè¿‡ä¾‹å­æˆ‘ä»¬å¯ä»¥å¿«é€Ÿçš„ç†è§£æ·±å¤åˆ¶ä¸æµ…å¤åˆ¶ä¹‹é—´çš„åŒºåˆ«\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            Person p1 = new Person();\n            p1.Age = 42;\n            p1.BirthDate = Convert.ToDateTime(\"1977-01-01\");\n            p1.Name = \"Jack Daniels\";\n            p1.IdInfo = new IdInfo(666);\n\n            // Perform a shallow copy of p1 and assign it to p2.\n            Person p2 = p1.ShallowCopy();\n            // Make a deep copy of p1 and assign it to p3.\n            Person p3 = p1.DeepCopy();\n\n            // Display values of p1, p2 and p3.\n            Console.WriteLine(\"Original values of p1, p2, p3:\");\n            Console.WriteLine(\"   p1 instance values: \");\n            DisplayValues(p1);\n            Console.WriteLine(\"   p2 instance values:\");\n            DisplayValues(p2);\n            Console.WriteLine(\"   p3 instance values:\");\n            DisplayValues(p3);\n\n            // Change the value of p1 properties and display the values of p1,\n            // p2 and p3.\n            p1.Age = 32;\n            p1.BirthDate = Convert.ToDateTime(\"1900-01-01\");\n            p1.Name = \"Frank\";\n            p1.IdInfo.IdNumber = 7878;\n            Console.WriteLine(\"\\nValues of p1, p2 and p3 after changes to p1:\");\n            Console.WriteLine(\"   p1 instance values: \");\n            DisplayValues(p1);\n            Console.WriteLine(\"   p2 instance values (reference values have changed):\");\n            DisplayValues(p2);\n            Console.WriteLine(\"   p3 instance values (everything was kept the same):\");\n            DisplayValues(p3);\n        }\n\n        public static void DisplayValues(Person p)\n        {\n            Console.WriteLine(\"      Name: {0:s}, Age: {1:d}, BirthDate: {2:MM/dd/yy}\",\n                p.Name, p.Age, p.BirthDate);\n            Console.WriteLine(\"      ID#: {0:d}\", p.IdInfo.IdNumber);\n        }\n    }\n}\n// The example displays the following output:\n//       Original values of p1 and p2:\n//          p1 instance values:\n//             Name: Sam, Age: 42\n//             Value: 6565\n//          p2 instance values:\n//             Name: Sam, Age: 42\n//             Value: 6565\n//\n//       Values of p1 and p2 after changes to p1:\n//          p1 instance values:\n//             Name: Frank, Age: 32\n//             Value: 7878\n//          p2 instance values:\n//             Name: Sam, Age: 42\n//             Value: 7878\n//\n//       Values of p1 and p3 after changes to p1:\n//          p1 instance values:\n//             Name: George, Age: 39\n//             Value: 8641\n//          p3 instance values:\n//             Name: Frank, Age: 32\n//             Value: 7878\n```\n\n##### é€‚åˆåŸå‹æ¨¡å¼çš„åœ°æ–¹\n\n- å¦‚æœä½ éœ€è¦å¤åˆ¶ä¸€äº›å¯¹è±¡ï¼ŒåŒæ—¶åˆå¸Œæœ›ä»£ç ç‹¬ç«‹äºè¿™äº›å¯¹è±¡æ‰€å±çš„å…·ä½“ç±»ï¼Œå¯ä»¥ä½¿ç”¨åŸå‹æ¨¡å¼ã€‚\n\n- å¦‚æœå­ç±»çš„åŒºåˆ«ä»…åœ¨äºå…¶å¯¹è±¡çš„åˆå§‹åŒ–æ–¹å¼ï¼Œé‚£ä¹ˆä½ å¯ä»¥ä½¿ç”¨è¯¥æ¨¡å¼æ¥å‡å°‘å­ç±»çš„æ•°é‡ã€‚åˆ«äººåˆ›å»ºè¿™äº›å­ç±»çš„ç›®çš„å¯èƒ½æ˜¯ä¸ºäº†åˆ›å»ºç‰¹å®šç±»å‹çš„å¯¹è±¡ã€‚\n\n##### åŸå‹æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\n\n**ä¼˜ç‚¹** ï¼š\n\n- ä½ å¯ä»¥å…‹éš†å¯¹è±¡ï¼Œè€Œæ— éœ€ä¸å®ƒä»¬æ‰€å±çš„å…·ä½“ç±»ç›¸è€¦åˆã€‚\n- ä½ å¯ä»¥å…‹éš†é¢„ç”ŸæˆåŸå‹ï¼Œé¿å…åå¤è¿è¡Œåˆå§‹åŒ–ä»£ç ã€‚\n- ä½ å¯ä»¥æ›´æ–¹ä¾¿åœ°ç”Ÿæˆå¤æ‚å¯¹è±¡ã€‚\n- ä½ å¯ä»¥ç”¨ç»§æ‰¿ä»¥å¤–çš„æ–¹å¼æ¥å¤„ç†å¤æ‚å¯¹è±¡çš„ä¸åŒé…ç½®ã€‚\n\n**ç¼ºç‚¹** ï¼š\n\n- å…‹éš†åŒ…å«å¾ªç¯å¼•ç”¨çš„å¤æ‚å¯¹è±¡å¯èƒ½ä¼šéå¸¸éº»çƒ¦ã€‚\n\n#### Singleton(å•ä¾‹æ¨¡å¼)\n\nå•ä¾‹æ¨¡å¼æ˜¯ä¸€ç§åˆ›å»ºå‹è®¾è®¡æ¨¡å¼ï¼Œè®©ä½ èƒ½å¤Ÿä¿è¯ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Œå¹¶æä¾›ä¸€ä¸ªè®¿é—®è¯¥å®ä¾‹çš„å…¨å±€èŠ‚ç‚¹ã€‚\n\n##### é—®é¢˜\n\nå•ä¾‹æ¨¡å¼æ˜¯ä¸€ä¸ªååˆ†å¸¸ç”¨çš„è®¾è®¡æ¨¡å¼ï¼Œåœ¨Unityä¸­ï¼Œå®ƒå¸¸å¸¸è¢«ç”¨åœ¨æ˜¯**Manager**ç±»ä¸­ï¼Œæ¯”å¦‚**SceneManager**,**UIManager**,**AudioManager**ç­‰ç­‰ã€‚ä¹Ÿå°±æ˜¯è¯´åœ¨ä»£ç ä¸­ä¼šæœ‰ä¸€ç§å…¨å±€ç±»ï¼Œå„ä¸ªæ¨¡å—éƒ½å¯ä»¥è°ƒç”¨å®ƒã€‚è™½ç„¶å®ƒè¿åäº†å•ä¸€èŒè´£åŸåˆ™ï¼Œä½†ç”±äºä½¿ç”¨èµ·æ¥ååˆ†æ–¹ä¾¿ï¼Œä½†è¿˜æ˜¯å¾ˆé¦™çš„ï¼ˆè·Ÿå…¨å±€å˜é‡ä¸€æ ·ï¼‰ã€‚\n\næ€»ç»“ä¸‹æ¥ï¼Œå•ä¾‹æ¨¡å¼çš„ç‰¹ç‚¹ï¼š\n\n- ä¿è¯ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹\n- ä¸ºè¯¥å®ä¾‹æä¾›ä¸€ä¸ªå…¨å±€è®¿é—®èŠ‚ç‚¹\n\n##### è§£å†³æ–¹æ¡ˆ\n\næ‰€æœ‰å•ä¾‹çš„å®ç°éƒ½åŒ…å«ä»¥ä¸‹ä¸¤ä¸ªç›¸åŒçš„æ­¥éª¤ï¼š\n\n- å°†é»˜è®¤æ„é€ å‡½æ•°è®¾ä¸º**ç§æœ‰**ï¼Œé˜²æ­¢å…¶ä»–å¯¹è±¡ä½¿ç”¨å•ä¾‹ç±»çš„newè¿ç®—ç¬¦ã€‚\n- æ–°å»ºä¸€ä¸ªé™æ€æ„å»ºæ–¹æ³•ä½œä¸ºæ„é€ å‡½æ•°ã€‚è¯¥å‡½æ•°ä¼š â€œå·å·â€ è°ƒç”¨ç§æœ‰æ„é€ å‡½æ•°æ¥åˆ›å»ºå¯¹è±¡ï¼Œå¹¶å°†å…¶ä¿å­˜åœ¨ä¸€ä¸ªé™æ€æˆå‘˜å˜é‡ä¸­ã€‚æ­¤åæ‰€æœ‰å¯¹äºè¯¥å‡½æ•°çš„è°ƒç”¨éƒ½å°†è¿”å›è¿™ä¸€ç¼“å­˜å¯¹è±¡ã€‚\nå¦‚æœä½ çš„ä»£ç èƒ½å¤Ÿè®¿é—®å•ä¾‹ç±»ï¼Œé‚£å®ƒå°±èƒ½è°ƒç”¨å•ä¾‹ç±»çš„é™æ€æ–¹æ³•ã€‚æ— è®ºä½•æ—¶è°ƒç”¨è¯¥æ–¹æ³•ï¼Œå®ƒæ€»æ˜¯ä¼šè¿”å›ç›¸åŒçš„å¯¹è±¡ã€‚\n\n##### å•ä¾‹æ¨¡å¼ç»“æ„\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220810001041.png)\n\n1.**å•ä¾‹(SinÂ­gleÂ­ton)** ç±»å£°æ˜äº†ä¸€ä¸ªåä¸º getÂ­Instanceè·å–å®ä¾‹çš„é™æ€æ–¹æ³•æ¥è¿”å›å…¶æ‰€å±ç±»çš„ä¸€ä¸ªç›¸åŒå®ä¾‹ã€‚\n\nå•ä¾‹çš„æ„é€ å‡½æ•°å¿…é¡»å¯¹**å®¢æˆ·ç«¯(Client)** ä»£ç éšè—ã€‚è°ƒç”¨è·å–å®ä¾‹æ–¹æ³•å¿…é¡»æ˜¯è·å–å•ä¾‹å¯¹è±¡çš„å”¯ä¸€æ–¹å¼ã€‚\n\n##### ä¼ªä»£ç \n\nç”±äºå•ä¾‹æ¨¡å¼å®ç°è¿‡äºç®€å•ï¼Œæˆ‘ä»¬è¿™é‡Œä¸è®²ä¼ªä»£ç ï¼Œåè€Œæˆ‘ä»¬æ¥ç›´æ¥çœ‹çœ‹å„ç§çš„å•ä¾‹æ¨¡å¼ã€‚\n\n**æ‡’æ±‰å•ä¾‹æ¨¡å¼** ï¼šåœ¨ç¬¬ä¸€æ¬¡è°ƒç”¨çš„æ—¶å€™å®ä¾‹åŒ–æœ¬èº«ï¼Œåœ¨å¹¶å‘ç¯å¢ƒä¸‹ï¼Œå¯èƒ½å‡ºç°å¤šä¸ªæœ¬èº«å¯¹è±¡ã€‚æ‰€ä»¥çº¿ç¨‹æ˜¯ä¸å®‰å…¨çš„\n\n```csharp\npublic class Singleton\n{\n    //å°†æ„é€ å‡½æ•°è®¾ç½®ä¸ºç§æœ‰ï¼Œé˜²æ­¢ç”¨æˆ·åˆ›é€ å®ä¾‹\n    private Singleton() {}\n\n    private static Singleton instance = null;\n\n    public static Singleton GetInstance()\n    {\n        if(instance == null)\n        {\n            instance = new Singleton();\n        }\n        \n        return instance;\n    }\n}\n```\n\n**ç®€å•çš„çº¿ç¨‹å®‰å…¨çš„æ‡’æ±‰å•ä¾‹æ¨¡å¼** :\néœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™é‡Œä½¿ç”¨äº†ä¸€ä¸ª**private static object**å˜é‡è¿›è¡Œé”å®šï¼Œè¿™æ˜¯å› ä¸ºå½“å¦‚æœå¯¹ä¸€ä¸ªå¤–éƒ¨ç±»å¯ä»¥è®¿é—®çš„å¯¹è±¡è¿›è¡Œé”å®šæ—¶ä¼šå¯¼è‡´æ€§èƒ½ä½ä¸‹ç”šè‡³æ­»é”\n\n```csharp\npublic class Singleton\n{\n    //å°†æ„é€ å‡½æ•°è®¾ç½®ä¸ºç§æœ‰ï¼Œé˜²æ­¢ç”¨æˆ·åˆ›é€ å®ä¾‹\n    private Singleton{}\n\n    private static Singleton instance = null;\n    private static readonly object obj = new object ();\n\n    public static Singleton GetInstance()\n    {\n        lock(obj)\n        {\n            if(instance == null)\n            {\n                instance = new Singleton();\n            }\n            \n            return instance;\n        }\n    }\n}\n```\n\n**åŒé‡æ£€æŸ¥é”å®šçš„æ‡’æ±‰å•ä¾‹æ¨¡å¼** :è¦æ¯”å‰è€…æ–¹æ³•æ›´åŠ å®Œç¾\n\n```csharp\npublic class Singleton\n{\n    //å°†æ„é€ å‡½æ•°è®¾ç½®ä¸ºç§æœ‰ï¼Œé˜²æ­¢ç”¨æˆ·åˆ›é€ å®ä¾‹\n    private Singleton{}\n\n    private static Singleton instance = null;\n    private static readonly object obj = new object ();\n\n    public static Singleton GetInstance()\n    {   \n        if(instace == null)\n        {\n            lock(obj)\n            {\n                if(instance == null)\n                {\n                    instance = new Singleton();\n                }\n            }    \n        }\n        return instance;\n    }\n}\n```\n\n**é¥¿æ±‰å•ä¾‹æ¨¡å¼** :åœ¨ç±»åˆå§‹åŒ–æ—¶ï¼Œå·²ç»è‡ªè¡Œå®ä¾‹åŒ–ä¸€ä¸ªé™æ€å¯¹è±¡ï¼Œæ‰€ä»¥æœ¬èº«å°±æ˜¯çº¿ç¨‹å®‰å…¨çš„\n\n```csharp\npublic class Singleton\n{\n    private Singleton() {}\n\n    private static readonly Singleton instance = new Singleton();\n\n    public static Singleton GetInstance()\n    {\n        return instance;\n    }\n}\n```\n\né¥¿æ±‰å•ä¾‹æ¨¡å¼å®ç°ååˆ†ç®€å•ï¼ŒåŒæ—¶ä¹Ÿæ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œè¦ç›¸æ¯”æ‡’æ±‰å•ä¾‹æ¨¡å¼æ›´åŠ å¥½ç”¨ä¸€äº›ã€‚\n\n##### é€‚åˆå•ä¾‹æ¨¡å¼çš„åœ°æ–¹\n\n-  å¦‚æœç¨‹åºä¸­çš„æŸä¸ªç±»å¯¹äºæ‰€æœ‰å®¢æˆ·ç«¯åªæœ‰ä¸€ä¸ªå¯ç”¨çš„å®ä¾‹ï¼Œå¯ä»¥ä½¿ç”¨å•ä¾‹æ¨¡å¼ã€‚\n-  å¦‚æœä½ éœ€è¦æ›´åŠ ä¸¥æ ¼åœ°æ§åˆ¶å…¨å±€å˜é‡ï¼Œå¯ä»¥ä½¿ç”¨å•ä¾‹æ¨¡å¼ã€‚\n\n##### å•ä¾‹æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\n\n**ä¼˜ç‚¹** ï¼š\n\n- ä½ å¯ä»¥ä¿è¯ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹ã€‚\n- ä½ è·å¾—äº†ä¸€ä¸ªæŒ‡å‘è¯¥å®ä¾‹çš„å…¨å±€è®¿é—®èŠ‚ç‚¹ã€‚\n- ä»…åœ¨é¦–æ¬¡è¯·æ±‚å•ä¾‹å¯¹è±¡æ—¶å¯¹å…¶è¿›è¡Œåˆå§‹åŒ–ã€‚\n\n**ç¼ºç‚¹** ï¼š\n\n- è¿åäº†å•ä¸€èŒè´£åŸåˆ™ã€‚è¯¥æ¨¡å¼åŒæ—¶è§£å†³äº†ä¸¤ä¸ªé—®é¢˜ã€‚\n- å•ä¾‹æ¨¡å¼å¯èƒ½æ©ç›–ä¸è‰¯è®¾è®¡ï¼Œæ¯”å¦‚ç¨‹åºå„ç»„ä»¶ä¹‹é—´ç›¸äº’äº†è§£è¿‡å¤šç­‰ã€‚\n- è¯¥æ¨¡å¼åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹éœ€è¦è¿›è¡Œç‰¹æ®Šå¤„ç†ï¼Œé¿å…å¤šä¸ªçº¿ç¨‹å¤šæ¬¡åˆ›å»ºå•ä¾‹å¯¹è±¡ã€‚\n- å•ä¾‹çš„å®¢æˆ·ç«¯ä»£ç å•å…ƒæµ‹è¯•å¯èƒ½ä¼šæ¯”è¾ƒå›°éš¾ï¼Œå› ä¸ºè®¸å¤šæµ‹è¯•æ¡†æ¶ä»¥åŸºäºç»§æ‰¿çš„æ–¹å¼åˆ›å»ºæ¨¡æ‹Ÿå¯¹è±¡ã€‚ç”±äºå•ä¾‹ç±»çš„æ„é€ å‡½æ•°æ˜¯ç§æœ‰çš„ï¼Œè€Œä¸”ç»å¤§éƒ¨åˆ†è¯­è¨€æ— æ³•é‡å†™é™æ€æ–¹æ³•ï¼Œæ‰€ä»¥ä½ éœ€è¦æƒ³å‡ºä»”ç»†è€ƒè™‘æ¨¡æ‹Ÿå•ä¾‹çš„æ–¹æ³•ã€‚è¦ä¹ˆå¹²è„†ä¸ç¼–å†™æµ‹è¯•ä»£ç ï¼Œæˆ–è€…ä¸ä½¿ç”¨å•ä¾‹æ¨¡å¼ã€‚\n- ç±»ä¼¼å…¨å±€å˜é‡ï¼Œåœ¨é˜…è¯»ä»£ç æ—¶ä¼šäº§ç”Ÿä¸€å®šå›°éš¾ï¼Œä¸çŸ¥é“å“ªé‡Œè€Œæ¥ã€‚\n\n### ç»“æ„å‹æ¨¡å¼(Structural Patterns)\n\n#### Adapter(é€‚é…å™¨æ¨¡å¼)\n\né€‚é…å™¨æ¨¡å¼æ˜¯ä¸€ç§ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼Œå®ƒèƒ½ä½¿æ¥å£ä¸å…¼å®¹çš„å¯¹è±¡èƒ½å¤Ÿç›¸äº’åˆä½œã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220816154433.png)\n\nä¸Šå›¾æ˜¯ä¸€ä¸ªååˆ†ç›´è§‚çš„å›¾\n\n##### é—®é¢˜\n\nå‡å¦‚ä½ æ­£åœ¨å¼€å‘ä¸€æ¬¾è‚¡ç¥¨å¸‚åœºç›‘æµ‹ç¨‹åºï¼Œå®ƒä¼šä»ä¸åŒæ¥æºä¸‹è½½ XML æ ¼å¼çš„è‚¡ç¥¨æ•°æ®ï¼Œç„¶åå‘ç”¨æˆ·å‘ˆç°å‡ºç¾è§‚çš„å›¾è¡¨ã€‚åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œä½ å†³å®šåœ¨ç¨‹åºä¸­æ•´åˆä¸€ä¸ªç¬¬ä¸‰æ–¹æ™ºèƒ½åˆ†æå‡½æ•°åº“ã€‚ä½†æ˜¯é‡åˆ°äº†ä¸€ä¸ªé—®é¢˜ï¼Œé‚£å°±æ˜¯åˆ†æå‡½æ•°åº“åªå…¼å®¹ JSON æ ¼å¼çš„æ•°æ®ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220816154342.png)\n\n##### è§£å†³æ–¹æ¡ˆ\n\nä½ å¯ä»¥åˆ›å»ºä¸€ä¸ª**é€‚é…å™¨**ã€‚è¿™æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„å¯¹è±¡ï¼Œèƒ½å¤Ÿè½¬æ¢å¯¹è±¡æ¥å£ï¼Œä½¿å…¶èƒ½ä¸å…¶ä»–å¯¹è±¡è¿›è¡Œäº¤äº’ã€‚\n\né€‚é…å™¨æ¨¡å¼é€šè¿‡å°è£…å¯¹è±¡å°†å¤æ‚çš„è½¬æ¢è¿‡ç¨‹éšè—äºå¹•åã€‚è¢«å°è£…çš„å¯¹è±¡ç”šè‡³å¯Ÿè§‰ä¸åˆ°é€‚é…å™¨çš„å­˜åœ¨ã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥ä½¿ç”¨ä¸€ä¸ªå°†æ‰€æœ‰æ•°æ®è½¬æ¢ä¸ºè‹±åˆ¶å•ä½ï¼ˆå¦‚è‹±å°ºå’Œè‹±é‡Œï¼‰çš„é€‚é…å™¨å°è£…è¿è¡Œäºç±³å’Œåƒç±³å•ä½åˆ¶ä¸­çš„å¯¹è±¡ã€‚\n\né€‚é…å™¨ä¸ä»…å¯ä»¥è½¬æ¢ä¸åŒæ ¼å¼çš„æ•°æ®ï¼Œå…¶è¿˜æœ‰åŠ©äºé‡‡ç”¨ä¸åŒæ¥å£çš„å¯¹è±¡ä¹‹é—´çš„åˆä½œã€‚å®ƒçš„è¿ä½œæ–¹å¼å¦‚ä¸‹ï¼š\n\n- é€‚é…å™¨å®ç°ä¸å…¶ä¸­ä¸€ä¸ªç°æœ‰å¯¹è±¡å…¼å®¹çš„æ¥å£ã€‚\n- ç°æœ‰å¯¹è±¡å¯ä»¥ä½¿ç”¨è¯¥æ¥å£å®‰å…¨åœ°è°ƒç”¨é€‚é…å™¨æ–¹æ³•ã€‚\n- é€‚é…å™¨æ–¹æ³•è¢«è°ƒç”¨åå°†ä»¥å¦ä¸€ä¸ªå¯¹è±¡å…¼å®¹çš„æ ¼å¼å’Œé¡ºåºå°†è¯·æ±‚ä¼ é€’ç»™è¯¥å¯¹è±¡ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220816154725.png)\n\n##### é€‚é…å™¨æ¨¡å¼ç»“æ„\n\n**å¯¹è±¡é€‚é…å™¨** ï¼šé€‚é…å™¨å®ç°äº†å…¶ä¸­ä¸€ä¸ªå¯¹è±¡çš„æ¥å£ï¼Œå¹¶å¯¹å¦ä¸€ä¸ªå¯¹è±¡è¿›è¡Œå°è£…ã€‚æ‰€æœ‰æµè¡Œçš„ç¼–ç¨‹è¯­è¨€éƒ½å¯ä»¥å®ç°é€‚é…å™¨ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220816154822.png)\n\n1.**å®¢æˆ·ç«¯(Client)** æ˜¯åŒ…å«å½“å‰ç¨‹åºä¸šåŠ¡é€»è¾‘çš„ç±»ã€‚\n2.**å®¢æˆ·ç«¯æ¥å£(Client InterÂ­face)** æè¿°äº†å…¶ä»–ç±»ä¸å®¢æˆ·ç«¯ä»£ç åˆä½œæ—¶å¿…é¡»éµå¾ªçš„åè®®ã€‚\n\n3.**æœåŠ¡(SerÂ­vice)** ä¸­æœ‰ä¸€äº›åŠŸèƒ½ç±» ï¼ˆé€šå¸¸æ¥è‡ªç¬¬ä¸‰æ–¹æˆ–é—ç•™ç³»ç»Ÿï¼‰ã€‚å®¢æˆ·ç«¯ä¸å…¶æ¥å£ä¸å…¼å®¹ï¼Œå› æ­¤æ— æ³•ç›´æ¥è°ƒç”¨å…¶åŠŸèƒ½ã€‚\n\n4.**é€‚é…å™¨(Adapter)** æ˜¯ä¸€ä¸ªå¯ä»¥åŒæ—¶ä¸å®¢æˆ·ç«¯å’ŒæœåŠ¡äº¤äº’çš„ç±»ï¼šå®ƒåœ¨å®ç°å®¢æˆ·ç«¯æ¥å£çš„åŒæ—¶å°è£…äº†æœåŠ¡å¯¹è±¡ã€‚é€‚é…å™¨æ¥å—å®¢æˆ·ç«¯é€šè¿‡é€‚é…å™¨æ¥å£å‘èµ·çš„è°ƒç”¨ï¼Œå¹¶å°†å…¶è½¬æ¢ä¸ºé€‚ç”¨äºè¢«å°è£…æœåŠ¡å¯¹è±¡çš„è°ƒç”¨ã€‚\n\n5.å®¢æˆ·ç«¯ä»£ç åªéœ€é€šè¿‡æ¥å£ä¸é€‚é…å™¨äº¤äº’å³å¯ï¼Œæ— éœ€ä¸å…·ä½“çš„é€‚é…å™¨ç±»è€¦åˆã€‚å› æ­¤ï¼Œä½ å¯ä»¥å‘ç¨‹åºä¸­æ·»åŠ æ–°ç±»å‹çš„é€‚é…å™¨è€Œæ— éœ€ä¿®æ”¹å·²æœ‰ä»£ç ã€‚è¿™åœ¨æœåŠ¡ç±»çš„æ¥å£è¢«æ›´æ”¹æˆ–æ›¿æ¢æ—¶å¾ˆæœ‰ç”¨ï¼šä½ æ— éœ€ä¿®æ”¹å®¢æˆ·ç«¯ä»£ç å°±å¯ä»¥åˆ›å»ºæ–°çš„é€‚é…å™¨ç±»ã€‚\n\n**ç±»é€‚é…å™¨** ï¼šè¿™ä¸€å®ç°ä½¿ç”¨äº†ç»§æ‰¿æœºåˆ¶ï¼šé€‚é…å™¨åŒæ—¶ç»§æ‰¿ä¸¤ä¸ªå¯¹è±¡çš„æ¥å£ã€‚è¯·æ³¨æ„ï¼Œè¿™ç§æ–¹å¼ä»…èƒ½åœ¨æ”¯æŒå¤šé‡ç»§æ‰¿çš„ç¼–ç¨‹è¯­è¨€ä¸­å®ç°ï¼Œä¾‹å¦‚C++ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220816155303.png)\n\n1.**ç±»é€‚é…å™¨**ä¸éœ€è¦å°è£…ä»»ä½•å¯¹è±¡ï¼Œå› ä¸ºå®ƒåŒæ—¶ç»§æ‰¿äº†å®¢æˆ·ç«¯å’ŒæœåŠ¡çš„è¡Œä¸ºã€‚é€‚é…åŠŸèƒ½åœ¨é‡å†™çš„æ–¹æ³•ä¸­å®Œæˆã€‚æœ€åç”Ÿæˆçš„é€‚é…å™¨å¯æ›¿ä»£å·²æœ‰çš„å®¢æˆ·ç«¯ç±»è¿›è¡Œä½¿ç”¨ã€‚\n\n##### ä¼ªä»£ç \n\nä»…ä»…çœ‹ç»“æ„ä¹Ÿæ˜¯å¾ˆéš¾ç†è§£æ˜¯å•¥æ„æ€çš„ï¼Œæ¥çœ‹çœ‹ç»å…¸çš„æ–¹é’‰åœ†å­”é—®é¢˜ï¼Œå¦‚ä½•å°†æ–¹é’‰ç”¨é€‚é…å™¨è½¬åŒ–æˆåœ†é’‰æ¥é€‚é…åœ†å­”ã€‚ä¸€æ ·ç…§ç€ä¹‹å‰ï¼Œå†™ä¸€ä¸ªä¸æ˜¯é‚£ä¹ˆä¼ªçš„ä¼ªä»£ç \n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220816155544.png)\n\n```csharp\n//åœ†å­”ç±»(RoundHole)å’Œåœ†é’‰ç±»(RoundPeg)äº’ç›¸å…¼å®¹ \npublic class RoundHole \n{\n    private int radius;\n\n    public RoundHole(int radius)\n    {\n        //...\n    }\n    public int getRadius()\n    {\n        //\n    }\n    public bool fits(RoundPeg peg)\n    {\n        return this.getRadius() >= peg.getRadius();\n    }\n}\npublic class RoundPeg\n{\n    private int radius;\n\n    public RoundPeg(int radius)\n    {\n        //...\n    }\n\n    public int getRadius()\n    {\n        //...\n    }\n}\n//ä¸å…¼å®¹çš„æ–¹é’‰(SquarePeg)ç±»\npublic class SquarePeg\n{\n    private int width;\n\n    public SquarePeg(int width)\n    {\n        //...\n    }\n\n    public int getWidth()\n    {\n        //...\n    }\n}\n//é€‚é…å™¨ç±»å…¶å®å°±æ˜¯åœ†é’‰çš„å­ç±»ï¼Œç®—æ˜¯ç‰¹æ®Šçš„åœ†é’‰ç±»ï¼Œå°†è·å¾—çš„æ–¹é’‰â€œæ‰“ç£¨â€æˆåœ†é’‰\npublic class SquarePegAdapter : RoundPeg\n{\n    //é€‚é…å™¨é€šå¸¸åŒ…å«ä¸€ä¸ªè¦è¢«è½¬æ¢çš„å®ä¾‹\n    private SquarePeg peg;\n\n    public SquarePegAdapter(SquarePeg peg)\n    {\n        this.peg = peg;\n    }\n\n    public int getRadius()\n    {\n        return peg.getWidth() * Math.sqrt(2) / 2;\n    }\n}\n//å®¢æˆ·ç«¯ä»£ç \nhole = new RoundHole(5);\n\n_sqpeg = new SquarePeg(5);\n\nsqpeg_adapter = new SquarePegAdapter(_sqpeg);\nhole.fits(sqpeg_adapter);\n//å˜æ¢ä¹‹åï¼Œæˆ‘ä»¬è¿›è¡Œæ“ä½œçš„å°±æ˜¯é€‚é…å™¨ç±»è€Œä¸æ˜¯æ–¹é’‰ç±»äº†\n```\n\n##### é€‚åˆé€‚é…å™¨æ¨¡å¼çš„åœ°æ–¹\n\n- å½“ä½ å¸Œæœ›ä½¿ç”¨æŸä¸ªç±»ï¼Œä½†æ˜¯å…¶æ¥å£ä¸å…¶ä»–ä»£ç ä¸å…¼å®¹æ—¶ï¼Œå¯ä»¥ä½¿ç”¨é€‚é…å™¨ç±»ã€‚ä¹Ÿå°±æ˜¯åˆ›é€ ä¸€ä¸ªä¸­é—´å±‚ç±»ï¼Œå¦‚æœä½ åœ¨å‰äººçš„ä»£ç ä¿®æ”¹ä½†æ˜¯åˆä¸æ‰“ç®—ä¿®æ”¹å¤ªå¤š\n- å¦‚æœæ‚¨éœ€è¦å¤ç”¨è¿™æ ·ä¸€äº›ç±»ï¼Œä»–ä»¬å¤„äºåŒä¸€ä¸ªç»§æ‰¿ä½“ç³»ï¼Œå¹¶ä¸”ä»–ä»¬åˆæœ‰äº†é¢å¤–çš„ä¸€äº›å…±åŒçš„æ–¹æ³•ï¼Œä½†æ˜¯è¿™äº›å…±åŒçš„æ–¹æ³•ä¸æ˜¯æ‰€æœ‰åœ¨è¿™ä¸€ç»§æ‰¿ä½“ç³»ä¸­çš„å­ç±»æ‰€å…·æœ‰çš„å…±æ€§ã€‚\n\n##### é€‚é…å™¨æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\n\n**ä¼˜ç‚¹** ï¼š\n\n- ç¬¦åˆSRP\n- ç¬¦åˆOCP\n\n**ç¼ºç‚¹** ï¼š\n\n- ä»£ç æ•´ä½“å¤æ‚åº¦å¢åŠ ï¼Œå› ä¸ºä½ éœ€è¦æ–°å¢ä¸€ç³»åˆ—æ¥å£å’Œç±»ã€‚æœ‰æ—¶ç›´æ¥æ›´æ”¹æœåŠ¡ç±»ä½¿å…¶ä¸å…¶ä»–ä»£ç å…¼å®¹ä¼šæ›´ç®€å•ã€‚\n\n#### Bridge(æ¡¥æ¥æ¨¡å¼)\n\næ¡¥æ¥æ¨¡å¼æ˜¯ä¸€ç§ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼Œå¯å°†ä¸€ä¸ªå¤§ç±»æˆ–ä¸€ç³»åˆ—ç´§å¯†ç›¸å…³çš„ç±»æ‹†åˆ†ä¸ºæŠ½è±¡å’Œå®ç°ä¸¤ä¸ªç‹¬ç«‹çš„å±‚æ¬¡ç»“æ„ï¼Œä»è€Œèƒ½åœ¨å¼€å‘æ—¶åˆ†åˆ«ä½¿ç”¨ã€‚\n\n##### é—®é¢˜\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220816163009.png)\n\nå‡å¦‚ä½ æœ‰ä¸€ä¸ªå‡ ä½•å½¢çŠ¶**Shape**ç±»ï¼Œä»å®ƒèƒ½æ‰©å±•å‡ºä¸¤ä¸ªå­ç±»ï¼šâ€‹åœ†å½¢**CirÂ­cle**å’Œæ–¹å½¢**Square**ã€‚ä½ å¸Œæœ›å¯¹è¿™æ ·çš„ç±»å±‚æ¬¡ç»“æ„è¿›è¡Œæ‰©å±•ä»¥ä½¿å…¶åŒ…å«é¢œè‰²ï¼Œæ‰€ä»¥ä½ æ‰“ç®—åˆ›å»ºåä¸ºçº¢è‰²**Red**å’Œ è“è‰²**Blue**çš„å½¢çŠ¶å­ç±»ã€‚ä½†æ˜¯ï¼Œç”±äºä½ å·²æœ‰ä¸¤ä¸ªå­ç±»ï¼Œæ‰€ä»¥æ€»å…±éœ€è¦åˆ›å»ºå››ä¸ªç±»æ‰èƒ½è¦†ç›–æ‰€æœ‰ç»„åˆï¼Œä¾‹å¦‚è“è‰²åœ†å½¢**BlueÂ­CirÂ­cle**å’Œçº¢è‰²æ–¹å½¢**RedÂ­Square**ã€‚åœ¨å±‚æ¬¡ç»“æ„ä¸­æ–°å¢å½¢çŠ¶å’Œé¢œè‰²å°†å¯¼è‡´ä»£ç å¤æ‚ç¨‹åº¦æŒ‡æ•°å¢é•¿ã€‚ä¾‹å¦‚æ·»åŠ ä¸‰è§’å½¢çŠ¶ï¼Œä½ éœ€è¦æ–°å¢ä¸¤ä¸ªå­ç±»ï¼Œä¹Ÿå°±æ˜¯æ¯ç§é¢œè‰²ä¸€ä¸ªï¼›æ­¤åæ–°å¢ä¸€ç§æ–°é¢œè‰²éœ€è¦æ–°å¢ä¸‰ä¸ªå­ç±»ï¼Œå³æ¯ç§å½¢çŠ¶ä¸€ä¸ªã€‚å¦‚æ­¤ä»¥å¾€ï¼Œæƒ…å†µä¼šè¶Šæ¥è¶Šç³Ÿç³•ã€‚\n\n##### è§£å†³æ–¹æ¡ˆ\n\né—®é¢˜çš„æ ¹æœ¬åŸå› æ˜¯æˆ‘ä»¬è¯•å›¾åœ¨ä¸¤ä¸ªç‹¬ç«‹çš„ç»´åº¦â€”â€”å½¢çŠ¶ä¸é¢œè‰²â€”â€”ä¸Šæ‰©å±•å½¢çŠ¶ç±»ã€‚è¿™åœ¨å¤„ç†ç±»ç»§æ‰¿æ—¶æ˜¯å¾ˆå¸¸è§çš„é—®é¢˜ã€‚\n\næ¡¥æ¥æ¨¡å¼é€šè¿‡å°†ç»§æ‰¿æ”¹ä¸ºç»„åˆçš„æ–¹å¼æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚å…·ä½“æ¥è¯´ï¼Œå°±æ˜¯æŠ½å–å…¶ä¸­ä¸€ä¸ªç»´åº¦å¹¶ä½¿ä¹‹æˆä¸ºç‹¬ç«‹çš„ç±»å±‚æ¬¡ï¼Œè¿™æ ·å°±å¯ä»¥åœ¨åˆå§‹ç±»ä¸­å¼•ç”¨è¿™ä¸ªæ–°å±‚æ¬¡çš„å¯¹è±¡ï¼Œä»è€Œä½¿å¾—ä¸€ä¸ªç±»ä¸å¿…æ‹¥æœ‰æ‰€æœ‰çš„çŠ¶æ€å’Œè¡Œä¸ºã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220816163706.png)\n\næ ¹æ®è¯¥æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥å°†é¢œè‰²ç›¸å…³çš„ä»£ç æŠ½å–åˆ°æ‹¥æœ‰ çº¢è‰²å’Œ è“è‰²ä¸¤ä¸ªå­ç±»çš„é¢œè‰²ç±»ä¸­ï¼Œç„¶ååœ¨å½¢çŠ¶ç±»ä¸­æ·»åŠ ä¸€ä¸ªæŒ‡å‘æŸä¸€é¢œè‰²å¯¹è±¡çš„å¼•ç”¨æˆå‘˜å˜é‡ã€‚ç°åœ¨ï¼Œå½¢çŠ¶ç±»å¯ä»¥å°†æ‰€æœ‰ä¸é¢œè‰²ç›¸å…³çš„å·¥ä½œå§”æ´¾ç»™è¿å…¥çš„é¢œè‰²å¯¹è±¡ã€‚è¿™æ ·çš„å¼•ç”¨å°±æˆä¸ºäº† å½¢çŠ¶å’Œ é¢œè‰²ä¹‹é—´çš„æ¡¥æ¢ã€‚æ­¤åï¼Œæ–°å¢é¢œè‰²å°†ä¸å†éœ€è¦ä¿®æ”¹å½¢çŠ¶çš„ç±»å±‚æ¬¡ï¼Œåä¹‹äº¦ç„¶ã€‚\n\n##### æ¡¥æ¥æ¨¡å¼ç»“æ„\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220816164716.png)\n\n1.**æŠ½è±¡éƒ¨åˆ†(AbstracÂ­tion)** æä¾›é«˜å±‚æ§åˆ¶é€»è¾‘ï¼Œ ä¾èµ–äºå®Œæˆåº•å±‚å®é™…å·¥ä½œçš„å®ç°å¯¹è±¡ã€‚\n\n2.**å®ç°éƒ¨åˆ†(ImpleÂ­menÂ­taÂ­tion)** ä¸ºæ‰€æœ‰å…·ä½“å®ç°å£°æ˜é€šç”¨æ¥å£ã€‚æŠ½è±¡éƒ¨åˆ†ä»…èƒ½é€šè¿‡åœ¨è¿™é‡Œå£°æ˜çš„æ–¹æ³•ä¸å®ç°å¯¹è±¡äº¤äº’ã€‚æŠ½è±¡éƒ¨åˆ†å¯ä»¥åˆ—å‡ºå’Œå®ç°éƒ¨åˆ†ä¸€æ ·çš„æ–¹æ³•ï¼Œä½†æ˜¯æŠ½è±¡éƒ¨åˆ†é€šå¸¸å£°æ˜ä¸€äº›å¤æ‚è¡Œä¸ºï¼Œè¿™äº›è¡Œä¸ºä¾èµ–äºå¤šç§ç”±å®ç°éƒ¨åˆ†å£°æ˜çš„åŸè¯­æ“ä½œã€‚\n\n3.**å…·ä½“å®ç°(ConÂ­crete ImpleÂ­menÂ­taÂ­tions)** ä¸­åŒ…æ‹¬ç‰¹å®šäºå¹³å°çš„ä»£ç ã€‚\n\n4.**ç²¾ç¡®æŠ½è±¡(Refined AbstracÂ­tion)**æä¾›æ§åˆ¶é€»è¾‘çš„å˜ä½“ã€‚ä¸å…¶çˆ¶ç±»ä¸€æ ·ï¼Œå®ƒä»¬é€šè¿‡é€šç”¨å®ç°æ¥å£ä¸ä¸åŒçš„å®ç°è¿›è¡Œäº¤äº’ã€‚\n\n5.é€šå¸¸æƒ…å†µä¸‹ï¼Œ**å®¢æˆ·ç«¯(Client)**ä»…å…³å¿ƒå¦‚ä½•ä¸æŠ½è±¡éƒ¨åˆ†åˆä½œã€‚ä½†æ˜¯ï¼Œå®¢æˆ·ç«¯éœ€è¦å°†æŠ½è±¡å¯¹è±¡ä¸ä¸€ä¸ªå®ç°å¯¹è±¡è¿æ¥èµ·æ¥ã€‚\n\n##### ä¼ªä»£ç \n\nåœ¨è¿™æ¬¡ä¸é‚£ä¹ˆä¼ªçš„ä¼ªä»£ç ä¸­æˆ‘æ‰“ç®—å±•ç°ä¸¤æ®µï¼Œå…¶ä¸­ä¸€ä¸ªæ˜¯ä¹‹å‰çš„Shapeå’ŒColorä¹‹é—´çš„æ¡¥æ¥ã€‚é¦–å…ˆæˆ‘ä»¬æ¥çœ‹çœ‹é¥æ§å™¨é¥æ§è®¾å¤‡ï¼Œæ˜¯å¾ˆå®¹æ˜“ç†è§£è®¾å¤‡å°±æ˜¯å®ç°éƒ¨åˆ†ï¼Œè€Œé¥æ§ä¸ºæŠ½è±¡è®¾å¤‡ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220816170510.png)\n\né¥æ§å™¨åŸºç±»å£°æ˜äº†ä¸€ä¸ªæŒ‡å‘è®¾å¤‡å¯¹è±¡çš„å¼•ç”¨æˆå‘˜å˜é‡ã€‚ æ‰€æœ‰é¥æ§å™¨é€šè¿‡é€šç”¨è®¾å¤‡æ¥å£ä¸è®¾å¤‡è¿›è¡Œäº¤äº’ï¼Œä½¿å¾—åŒä¸€ä¸ªé¥æ§å™¨å¯ä»¥æ”¯æŒä¸åŒç±»å‹çš„è®¾å¤‡ã€‚\nä½ å¯ä»¥å¼€å‘ç‹¬ç«‹äºè®¾å¤‡ç±»çš„é¥æ§å™¨ç±»ï¼Œåªéœ€æ–°å»ºä¸€ä¸ªé¥æ§å™¨å­ç±»å³å¯ã€‚ä¾‹å¦‚ï¼ŒåŸºç¡€é¥æ§å™¨å¯èƒ½åªæœ‰ä¸¤ä¸ªæŒ‰é’®ï¼Œä½†ä½ å¯åœ¨å…¶åŸºç¡€ä¸Šæ‰©å±•æ–°åŠŸèƒ½ï¼Œæ¯”å¦‚é¢å¤–çš„ä¸€èŠ‚ç”µæ± æˆ–ä¸€å—è§¦æ‘¸å±ã€‚\n\n```csharp\n// â€œæŠ½è±¡éƒ¨åˆ†â€å®šä¹‰äº†ä¸¤ä¸ªç±»å±‚æ¬¡ç»“æ„ä¸­â€œæ§åˆ¶â€éƒ¨åˆ†çš„æ¥å£ã€‚å®ƒç®¡ç†ç€ä¸€ä¸ªæŒ‡å‘â€œå®\n// ç°éƒ¨åˆ†â€å±‚æ¬¡ç»“æ„ä¸­å¯¹è±¡çš„å¼•ç”¨ï¼Œå¹¶ä¼šå°†æ‰€æœ‰çœŸå®å·¥ä½œå§”æ´¾ç»™è¯¥å¯¹è±¡ã€‚\npublic class Remote\n{\n    private Device device;\n    \n    public Remote(Device device) \n    {\n        this.device = device;\n    }\n\n    public void togglePower()\n    {\n        if(device.isEnabled())\n        {\n            device.disable();\n        }\n        else \n        {\n            //..\n        }\n    }\n\n    public void volumeUp()\n    {\n        device.setVolume(device.getVolume() + 10);\n    }\n\n    public void volumeDown()\n    {\n        //..\n    }\n\n    public void ChannelUp()\n    {\n        device.setChannel(device.getChannel() + 1)\n    }\n\n    public void ChannelDown()\n    {\n        //..\n    }\n}\n// ä½ å¯ä»¥ç‹¬ç«‹äºè®¾å¤‡ç±»çš„æ–¹å¼ä»æŠ½è±¡å±‚ä¸­æ‰©å±•ç±»ã€‚\npublic class AdvancedRemote : Remote\n{\n    public void mute()\n    {\n        device.setVolume(0);\n    }\n}\n// â€œå®ç°éƒ¨åˆ†â€æ¥å£å£°æ˜äº†åœ¨æ‰€æœ‰å…·ä½“å®ç°ç±»ä¸­é€šç”¨çš„æ–¹æ³•ã€‚å®ƒä¸éœ€è¦ä¸æŠ½è±¡æ¥å£ç›¸\n// åŒ¹é…ã€‚å®é™…ä¸Šï¼Œè¿™ä¸¤ä¸ªæ¥å£å¯ä»¥å®Œå…¨ä¸ä¸€æ ·ã€‚é€šå¸¸å®ç°æ¥å£åªæä¾›åŸè¯­æ“ä½œï¼Œè€Œ\n// æŠ½è±¡æ¥å£åˆ™ä¼šåŸºäºè¿™äº›æ“ä½œå®šä¹‰è¾ƒé«˜å±‚æ¬¡çš„æ“ä½œã€‚\npublic interface Device \n{\n    bool isEnable();\n    void enable();\n    void disable();\n    int getVolume();\n    void setVolume(..);\n    int getChannel();\n    void setChannel(..);\n}\npublic class TV : Device \n{\n    //...\n}\npublic vlass Radio : Device\n{\n    //..\n}\n\n// å®¢æˆ·ç«¯ä»£ç \ntv = new Tv();\nremote = new RemoteControl(tv);\nremote.togglePower();\n\nradio = new Radio();\nremote = new AdvancedRemoteControl(radio);\n```\n\nå¯¹äºShapeå’ŒColoræˆ‘ä»¬å¯èƒ½å¾ˆéš¾åŒºåˆ«è°æ˜¯â€œæŠ½è±¡â€ï¼Œè°æ˜¯â€œå®ç°â€ï¼Œä½†æ˜¯æ¡¥æ¥æ¨¡å¼åŒæ ·é€‚åˆæ‹†åˆ†ç±»çš„ç»“æ„,å³æŠ½å–å¤æ‚ç±»çš„å…¶ä¸­ä¸€ä¸ªç»´åº¦ä½¿ä¹‹æˆä¸ºç‹¬ç«‹çš„ç±»å±‚æ¬¡ã€‚\n\n```csharp\npublic class Shape\n{\n    private Color color;\n\n    //..\n}\npublic class Circle : Shape\n{\n    //..\n}\n\npublic class Square : Shape\n{\n    //..\n}\n\npublic interface Color \n{\n    //..\n}\n\npublic class Red : Color \n{\n    //..\n}\npublic class Blue : Color\n{\n    //..\n}\n```\n\n##### é€‚åˆæ¡¥æ¥æ¨¡å¼çš„åœ°æ–¹\n\n- å¦‚æœä½ æƒ³è¦æ‹†åˆ†æˆ–é‡ç»„ä¸€ä¸ªå…·æœ‰å¤šé‡åŠŸèƒ½çš„åºæ‚ç±» ï¼ˆä¾‹å¦‚èƒ½ä¸å¤šä¸ªæ•°æ®åº“æœåŠ¡å™¨è¿›è¡Œäº¤äº’çš„ç±»ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨æ¡¥æ¥æ¨¡å¼ã€‚æ¡¥æ¥æ¨¡å¼å¯ä»¥å°†åºæ‚ç±»æ‹†åˆ†ä¸ºå‡ ä¸ªç±»å±‚æ¬¡ç»“æ„ã€‚æ­¤åï¼Œä½ å¯ä»¥ä¿®æ”¹ä»»æ„ä¸€ä¸ªç±»å±‚æ¬¡ç»“æ„è€Œä¸ä¼šå½±å“åˆ°å…¶ä»–ç±»å±‚æ¬¡ç»“æ„ã€‚è¿™ç§æ–¹æ³•å¯ä»¥ç®€åŒ–ä»£ç çš„ç»´æŠ¤å·¥ä½œï¼Œå¹¶å°†ä¿®æ”¹å·²æœ‰ä»£ç çš„é£é™©é™åˆ°æœ€ä½ã€‚\n- å¦‚æœä½ å¸Œæœ›åœ¨å‡ ä¸ªç‹¬ç«‹ç»´åº¦ä¸Šæ‰©å±•ä¸€ä¸ªç±»ï¼Œå¯ä½¿ç”¨è¯¥æ¨¡å¼ã€‚\n- å¦‚æœä½ éœ€è¦åœ¨è¿è¡Œæ—¶åˆ‡æ¢ä¸åŒå®ç°æ–¹æ³•ï¼Œå¯ä½¿ç”¨æ¡¥æ¥æ¨¡å¼ã€‚\n\n##### æ¡¥æ¥æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\n\n**ä¼˜ç‚¹** ï¼š\n\n- ä½ å¯ä»¥åˆ›å»ºä¸å¹³å°æ— å…³çš„ç±»å’Œç¨‹åºã€‚\n- å®¢æˆ·ç«¯ä»£ç ä»…ä¸é«˜å±‚æŠ½è±¡éƒ¨åˆ†è¿›è¡Œäº’åŠ¨ï¼Œä¸ä¼šæ¥è§¦åˆ°å¹³å°çš„è¯¦ç»†ä¿¡æ¯ã€‚\n- ç¬¦åˆOCP\n- ç¬¦åˆSRP\n\n**ç¼ºç‚¹** ï¼š\n\n- å¯¹é«˜å†…èšçš„ç±»ä½¿ç”¨è¯¥æ¨¡å¼å¯èƒ½ä¼šè®©ä»£ç æ›´åŠ å¤æ‚ã€‚\n\n#### Composite(ç»„åˆæ¨¡å¼)\n\nç»„åˆæ¨¡å¼æ˜¯ä¸€ç§ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼Œä½ å¯ä»¥ä½¿ç”¨å®ƒå°†å¯¹è±¡ç»„åˆæˆæ ‘çŠ¶ç»“æ„ï¼Œå¹¶ä¸”èƒ½åƒä½¿ç”¨ç‹¬ç«‹å¯¹è±¡ä¸€æ ·ä½¿ç”¨å®ƒä»¬ã€‚\n\n##### é—®é¢˜\n\n**å¦‚æœåº”ç”¨çš„æ ¸å¿ƒæ¨¡å‹èƒ½ç”¨æ ‘çŠ¶ç»“æ„è¡¨ç¤ºï¼Œåœ¨åº”ç”¨ä¸­ä½¿ç”¨ç»„åˆæ¨¡å¼æ‰æœ‰ä»·å€¼ã€‚**ä¾‹å¦‚ï¼Œä½ æœ‰ä¸¤ç±»å¯¹è±¡ï¼š â€‹ äº§å“å’Œç›’å­ã€‚ä¸€ä¸ªç›’å­ä¸­å¯ä»¥åŒ…å«å¤šä¸ªäº§å“æˆ–è€…å‡ ä¸ªè¾ƒå°çš„ç›’å­ã€‚è¿™äº›å°ç›’å­ä¸­åŒæ ·å¯ä»¥åŒ…å«ä¸€äº›äº§å“æˆ–æ›´å°çš„ç›’å­ï¼Œä»¥æ­¤ç±»æ¨ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220818150134.png)\n\nè®¢å•ä¸­å¯èƒ½åŒ…æ‹¬å„ç§äº§å“ï¼Œè¿™äº›äº§å“æ”¾ç½®åœ¨ç›’å­ä¸­ï¼Œç„¶ååˆè¢«æ”¾å…¥ä¸€å±‚åˆä¸€å±‚æ›´å¤§çš„ç›’å­ä¸­ã€‚æ•´ä¸ªç»“æ„çœ‹ä¸Šå»åƒæ˜¯ä¸€æ£µå€’è¿‡æ¥çš„æ ‘ã€‚ä½ å¯ä»¥å°è¯•ç›´æ¥è®¡ç®—ï¼šæ‰“å¼€æ‰€æœ‰ç›’å­ï¼Œæ‰¾åˆ°æ¯ä»¶äº§å“ï¼Œç„¶åè®¡ç®—æ€»ä»·ã€‚è¿™åœ¨çœŸå®ä¸–ç•Œä¸­æˆ–è®¸å¯è¡Œï¼Œä½†åœ¨ç¨‹åºä¸­ï¼Œä½ å¹¶ä¸èƒ½ç®€å•åœ°ä½¿ç”¨å¾ªç¯è¯­å¥æ¥å®Œæˆè¯¥å·¥ä½œã€‚ä½ å¿…é¡»äº‹å…ˆçŸ¥é“æ‰€æœ‰äº§å“å’Œç›’å­çš„ç±»åˆ«ï¼Œæ‰€æœ‰ç›’å­çš„åµŒå¥—å±‚æ•°ä»¥åŠå…¶ä»–ç¹æ‚çš„ç»†èŠ‚ä¿¡æ¯ã€‚å› æ­¤ï¼Œç›´æ¥è®¡ç®—æä¸æ–¹ä¾¿ï¼Œç”šè‡³å®Œå…¨ä¸å¯è¡Œã€‚\n\n##### è§£å†³æ–¹æ¡ˆ\n\nç»„åˆæ¨¡å¼å»ºè®®ä½¿ç”¨ä¸€ä¸ªé€šç”¨æ¥å£æ¥ä¸äº§å“å’Œç›’å­è¿›è¡Œäº¤äº’ï¼Œå¹¶ä¸”åœ¨è¯¥æ¥å£ä¸­å£°æ˜ä¸€ä¸ªè®¡ç®—æ€»ä»·çš„æ–¹æ³•ã€‚é‚£ä¹ˆæ–¹æ³•è¯¥å¦‚ä½•è®¾è®¡å‘¢ï¼Ÿå¯¹äºä¸€ä¸ªäº§å“ï¼Œè¯¥æ–¹æ³•ç›´æ¥è¿”å›å…¶ä»·æ ¼ï¼›å¯¹äºä¸€ä¸ªç›’å­ï¼Œè¯¥æ–¹æ³•éå†ç›’å­ä¸­çš„æ‰€æœ‰é¡¹ç›®ï¼Œè¯¢é—®æ¯ä¸ªé¡¹ç›®çš„ä»·æ ¼ï¼Œç„¶åè¿”å›è¯¥ç›’å­çš„æ€»ä»·æ ¼ã€‚å¦‚æœå…¶ä¸­æŸä¸ªé¡¹ç›®æ˜¯å°ä¸€å·çš„ç›’å­ï¼Œé‚£ä¹ˆå½“å‰ç›’å­ä¹Ÿä¼šéå†å…¶ä¸­çš„æ‰€æœ‰é¡¹ç›®ï¼Œä»¥æ­¤ç±»æ¨ï¼Œç›´åˆ°è®¡ç®—å‡ºæ‰€æœ‰å†…éƒ¨ç»„æˆéƒ¨åˆ†çš„ä»·æ ¼ã€‚ä½ ç”šè‡³å¯ä»¥åœ¨ç›’å­çš„æœ€ç»ˆä»·æ ¼ä¸­å¢åŠ é¢å¤–è´¹ç”¨ï¼Œä½œä¸ºè¯¥ç›’å­çš„åŒ…è£…è´¹ç”¨ã€‚**ç±»ä¼¼äºæ ‘çš„é€’å½’éå†**\nè¯¥æ–¹å¼çš„æœ€å¤§ä¼˜ç‚¹åœ¨äºä½ æ— éœ€äº†è§£æ„æˆæ ‘çŠ¶ç»“æ„çš„å¯¹è±¡çš„å…·ä½“ç±»ã€‚ä½ ä¹Ÿæ— éœ€äº†è§£å¯¹è±¡æ˜¯ç®€å•çš„äº§å“è¿˜æ˜¯å¤æ‚çš„ç›’å­ã€‚ä½ åªéœ€è°ƒç”¨é€šç”¨æ¥å£ä»¥ç›¸åŒçš„æ–¹å¼å¯¹å…¶è¿›è¡Œå¤„ç†å³å¯ã€‚å½“ä½ è°ƒç”¨è¯¥æ–¹æ³•åï¼Œå¯¹è±¡ä¼šå°†è¯·æ±‚æ²¿ç€æ ‘ç»“æ„ä¼ é€’ä¸‹å»ã€‚\n\n##### ç»„åˆæ¨¡å¼ç»“æ„\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220818150405.png)\n\n1.**ç»„ä»¶(ComÂ­poÂ­nent)** æ¥å£æè¿°äº†æ ‘ä¸­ç®€å•é¡¹ç›®å’Œå¤æ‚é¡¹ç›®æ‰€å…±æœ‰çš„æ“ä½œã€‚\n\n2.**å¶èŠ‚ç‚¹(Leaf)** æ˜¯æ ‘çš„åŸºæœ¬ç»“æ„ï¼Œå®ƒä¸åŒ…å«å­é¡¹ç›®ã€‚\nä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå¶èŠ‚ç‚¹æœ€ç»ˆä¼šå®Œæˆå¤§éƒ¨åˆ†çš„å®é™…å·¥ä½œï¼Œ å› ä¸ºå®ƒä»¬æ— æ³•å°†å·¥ä½œæŒ‡æ´¾ç»™å…¶ä»–éƒ¨åˆ†ã€‚\n\n3.**å®¹å™¨(ConÂ­tainÂ­er)** â€”â€”åˆå **â€œç»„åˆ (ComÂ­posÂ­ite)â€**â€”â€”æ˜¯åŒ…å«å¶èŠ‚ç‚¹æˆ–å…¶ä»–å®¹å™¨ç­‰å­é¡¹ç›®çš„å•ä½ã€‚å®¹å™¨ä¸çŸ¥é“å…¶å­é¡¹ç›®æ‰€å±çš„å…·ä½“ç±»ï¼Œå®ƒåªé€šè¿‡é€šç”¨çš„ç»„ä»¶æ¥å£ä¸å…¶å­é¡¹ç›®äº¤äº’ã€‚\nå®¹å™¨æ¥æ”¶åˆ°è¯·æ±‚åä¼šå°†å·¥ä½œåˆ†é…ç»™è‡ªå·±çš„å­é¡¹ç›®ï¼Œå¤„ç†ä¸­é—´ç»“æœï¼Œç„¶åå°†æœ€ç»ˆç»“æœè¿”å›ç»™å®¢æˆ·ç«¯ã€‚\n\n4.**å®¢æˆ·ç«¯(Client)** é€šè¿‡ç»„ä»¶æ¥å£ä¸æ‰€æœ‰é¡¹ç›®äº¤äº’ã€‚å› æ­¤ï¼Œå®¢æˆ·ç«¯èƒ½ä»¥ç›¸åŒæ–¹å¼ä¸æ ‘çŠ¶ç»“æ„ä¸­çš„ç®€å•æˆ–å¤æ‚é¡¹ç›®äº¤äº’ã€‚\n\n##### ä¼ªä»£ç \n\nä¸€ä¸ªä¾‹å­æ˜¯åˆ©ç”¨ç»„åˆæ¨¡å¼åœ¨å›¾å½¢ç¼–è¾‘å™¨ä¸­å®ç°ä¸€ç³»åˆ—çš„å‡ ä½•å›¾å½¢ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220818151017.png)\n\n```csharp\npublic interface Graphic \n{\n    void move(x,y);\n\n    void draw();\n}\n//Dotç±»æ˜¯å¶èŠ‚ç‚¹ï¼Œä¸èƒ½èƒ½åŒ…å«ä»»ä½•å­å¯¹è±¡ï¼Œé€šå¸¸å®Œæˆæ‰€æœ‰å·¥ä½œ\npublic class Dot : Graphic \n{\n    private T x,y;\n\n    public Dot(T x,T y)\n    {\n        //..\n    }\n\n    public void move(T x,T y)\n    {\n        this.x += x,this.y +=y;\n    }\n\n    public void draw()\n    {\n        //..\n    }\n}\n//æ‰€æœ‰çš„ç»„ä»¶ç±»éƒ½å¯ä»¥æ‹“å±•\npublic class Circle : Dot\n{\n    private T radius;\n\n    public Circle(T x,T y,T radius)\n    {\n        //..\n    }\n\n    void draw()\n    {\n        //...\n    }\n}\n//CompoundGraphicç±»æ˜¯å¤æ‚ç»„ä»¶ï¼Œä¹Ÿå°±æ˜¯æ ‘ä¸­çš„éå¶å­èŠ‚ç‚¹\npublic class CompoundGraphic : Graphic\n{\n    private Graphic[] chidren;\n\n    public void add(Graphic child)\n    {\n        //æ·»åŠ è‡³chidrenæ•°ç»„\n    }\n\n    public void remove(Graphic child)\n    {\n        //ç§»é™¤chidrenæ•°ç»„é‡Œçš„ä¸€ä¸ªchild\n    }\n\n    //éå†æ¯ä¸€ä¸ªchildï¼Œè®©childæ¥åšå…·ä½“çš„äº‹æƒ…\n    public void move(x,y)\n    {\n        foreach (var child in children)\n        {\n            child.move(x,y);\n        }\n    }\n\n    public void draw()\n    {\n        //åˆ†ä¸¤æ­¥ï¼Œä¸€ä¸ªæ˜¯ç”»å®Œæ‰€æœ‰childçš„å†…å®¹\n        //ç¬¬äºŒæ­¥æ˜¯æ ¹æ®è‡ªèº«å†…å®¹ç”»ç‚¹ä¸œè¥¿\n    }\n}\n\n//ç®€æ˜çš„å®¢æˆ·ç«¯ä»£ç \n\nCompoundGraphic tree = new CompoundGraphic();\nCompoundGraphic branch1 = new CompoundGraphic();\nbranch1.Add(new Dot(1,2));\nbranch1.Add(new Dot(3,4));\nCompoundGraphic branch2 = new CompoundGraphic();\nbranch2.Add(new Circle(5,6,3));\nbranch2.Add(new Dot(7,8));\nbranch3.Add(new Dot(9,10));\ntree.Add(branch1);\ntree.Add(branch2);\n\ntree.move(1,2);\ntree.draw();\n```\n\n##### é€‚åˆç»„åˆæ¨¡å¼çš„åœ°æ–¹\n\n- å¦‚æœä½ éœ€è¦å®ç°**æ ‘çŠ¶å¯¹è±¡ç»“æ„**ï¼Œå¯ä»¥ä½¿ç”¨ç»„åˆæ¨¡å¼ã€‚\n- å¦‚æœä½ å¸Œæœ›å®¢æˆ·ç«¯ä»£ç ä»¥**ç›¸åŒæ–¹å¼å¤„ç†ç®€å•å’Œå¤æ‚å…ƒç´ **ï¼Œå¯ä»¥ä½¿ç”¨è¯¥æ¨¡å¼ã€‚\n\n##### ç»„åˆæ¨¡å¼çš„ä¼˜ç¼ºç‚¹\n\n**ä¼˜ç‚¹** ï¼š\n\n- ä½ å¯ä»¥åˆ©ç”¨**å¤šæ€**å’Œ**é€’å½’**æœºåˆ¶æ›´æ–¹ä¾¿åœ°ä½¿ç”¨å¤æ‚æ ‘ç»“æ„ã€‚\n- ç¬¦åˆOCP\n\n**ç¼ºç‚¹** ï¼š\n\n- å¯¹äºåŠŸèƒ½å·®å¼‚è¾ƒå¤§çš„ç±»ï¼Œæä¾›å…¬å…±æ¥å£æˆ–è®¸ä¼šæœ‰å›°éš¾ã€‚åœ¨ç‰¹å®šæƒ…å†µä¸‹ï¼Œä½ éœ€è¦è¿‡åº¦ä¸€èˆ¬åŒ–ç»„ä»¶æ¥å£ï¼Œä½¿å…¶å˜å¾—ä»¤äººéš¾ä»¥ç†è§£ã€‚\n\n#### Decorator(è£…é¥°æ¨¡å¼)\n\nè£…é¥°æ¨¡å¼æ˜¯ä¸€ç§ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼Œå…è®¸ä½ é€šè¿‡å°†å¯¹è±¡æ”¾å…¥åŒ…å«è¡Œä¸ºçš„ç‰¹æ®Šå°è£…å¯¹è±¡ä¸­æ¥ä¸ºåŸå¯¹è±¡ç»‘å®šæ–°çš„è¡Œä¸ºã€‚\n\n##### é—®é¢˜\n\nå‡è®¾ä½ æ­£åœ¨å¼€å‘ä¸€ä¸ªæä¾›é€šçŸ¥åŠŸèƒ½çš„åº“ï¼Œå…¶ä»–ç¨‹åºå¯ä½¿ç”¨å®ƒå‘ç”¨æˆ·å‘é€å…³äºé‡è¦äº‹ä»¶çš„é€šçŸ¥ã€‚\nåº“çš„æœ€åˆç‰ˆæœ¬åŸºäº**é€šçŸ¥å™¨NotiÂ­fiÂ­erç±»**ï¼Œå…¶ä¸­åªæœ‰å¾ˆå°‘çš„å‡ ä¸ªæˆå‘˜å˜é‡ï¼Œä¸€ä¸ªæ„é€ å‡½æ•°å’Œä¸€ä¸ªsendå‘é€æ–¹æ³•ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220818203702.png)\n\næ­¤åæŸä¸ªæ—¶åˆ»ï¼Œä½ ä¼šå‘ç°åº“çš„ç”¨æˆ·å¸Œæœ›ä½¿ç”¨é™¤é‚®ä»¶é€šçŸ¥ä¹‹å¤–çš„åŠŸèƒ½ã€‚è®¸å¤šç”¨æˆ·ä¼šå¸Œæœ›æ¥æ”¶å…³äºç´§æ€¥äº‹ä»¶çš„æ‰‹æœºçŸ­ä¿¡ï¼Œè¿˜æœ‰äº›ç”¨æˆ·å¸Œæœ›åœ¨å¾®ä¿¡ä¸Šæ¥æ”¶æ¶ˆæ¯ï¼Œè€Œå…¬å¸ç”¨æˆ·åˆ™å¸Œæœ›åœ¨ QQ ä¸Šæ¥æ”¶æ¶ˆæ¯ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220818203808.png)\n\né¦–å…ˆæ‰©å±•é€šçŸ¥å™¨ç±»ï¼Œç„¶ååœ¨æ–°çš„å­ç±»ä¸­åŠ å…¥é¢å¤–çš„é€šçŸ¥æ–¹æ³•ã€‚ç°åœ¨å®¢æˆ·ç«¯è¦å¯¹æ‰€éœ€é€šçŸ¥å½¢å¼çš„å¯¹åº”ç±»è¿›è¡Œåˆå§‹åŒ–ï¼Œç„¶åä½¿ç”¨è¯¥ç±»å‘é€åç»­æ‰€æœ‰çš„é€šçŸ¥æ¶ˆæ¯ã€‚ä½†æ˜¯å¾ˆå¿«æœ‰äººä¼šé—®ï¼šâ€‹â€œä¸ºä»€ä¹ˆä¸åŒæ—¶ä½¿ç”¨å¤šç§é€šçŸ¥å½¢å¼å‘¢ï¼Ÿå¦‚æœæˆ¿å­ç€ç«äº†ï¼Œä½ å¤§æ¦‚ä¼šæƒ³åœ¨æ‰€æœ‰æ¸ é“ä¸­éƒ½æ”¶åˆ°ç›¸åŒçš„æ¶ˆæ¯å§ã€‚â€ä½ å¯ä»¥å°è¯•åˆ›å»ºä¸€ä¸ªç‰¹æ®Šå­ç±»æ¥å°†å¤šç§é€šçŸ¥æ–¹æ³•ç»„åˆåœ¨ä¸€èµ·ä»¥è§£å†³è¯¥é—®é¢˜ã€‚ä½†è¿™ç§æ–¹å¼ä¼šä½¿å¾—ä»£ç é‡è¿…é€Ÿè†¨èƒ€ï¼Œä¸ä»…ä»…æ˜¯ç¨‹åºåº“ä»£ç ï¼Œå®¢æˆ·ç«¯ä»£ç ä¹Ÿä¼šå¦‚æ­¤ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220818203913.png)\n\n##### è§£å†³æ–¹æ¡ˆ\n\nå½“ä½ éœ€è¦æ›´æ”¹ä¸€ä¸ªå¯¹è±¡çš„è¡Œä¸ºæ—¶ï¼Œç¬¬ä¸€ä¸ªè·³å…¥è„‘æµ·çš„æƒ³æ³•å°±æ˜¯æ‰©å±•å®ƒæ‰€å±çš„ç±»ã€‚ä½†æ˜¯ï¼Œä½ ä¸èƒ½å¿½è§†ç»§æ‰¿å¯èƒ½å¼•å‘çš„å‡ ä¸ªä¸¥é‡é—®é¢˜ã€‚\n\n- ç»§æ‰¿æ˜¯é™æ€çš„ã€‚ä½ æ— æ³•åœ¨è¿è¡Œæ—¶æ›´æ”¹å·²æœ‰å¯¹è±¡çš„è¡Œä¸ºï¼Œåªèƒ½ä½¿ç”¨ç”±ä¸åŒå­ç±»åˆ›å»ºçš„å¯¹è±¡æ¥æ›¿ä»£å½“å‰çš„æ•´ä¸ªå¯¹è±¡ã€‚\n- å­ç±»åªèƒ½æœ‰ä¸€ä¸ªçˆ¶ç±»ã€‚å¤§éƒ¨åˆ†ç¼–ç¨‹è¯­è¨€ä¸å…è®¸ä¸€ä¸ªç±»åŒæ—¶ç»§æ‰¿å¤šä¸ªç±»çš„è¡Œä¸ºã€‚\n\nå…¶ä¸­ä¸€ç§æ–¹æ³•æ˜¯ç”¨**èšåˆæˆ–ç»„åˆ(has a/contains a)** ï¼Œè€Œä¸æ˜¯ç»§æ‰¿ã€‚ä¸¤è€…çš„å·¥ä½œæ–¹å¼å‡ ä¹ä¸€æ¨¡ä¸€æ ·ï¼šä¸€ä¸ªå¯¹è±¡åŒ…å«æŒ‡å‘å¦ä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨ï¼Œå¹¶å°†éƒ¨åˆ†å·¥ä½œå§”æ´¾ç»™å¼•ç”¨å¯¹è±¡ï¼›ç»§æ‰¿ä¸­çš„å¯¹è±¡åˆ™ç»§æ‰¿äº†çˆ¶ç±»çš„è¡Œä¸ºï¼Œå®ƒä»¬è‡ªå·±èƒ½å¤Ÿå®Œæˆè¿™äº›å·¥ä½œã€‚ä½ å¯ä»¥ä½¿ç”¨è¿™ä¸ªæ–°æ–¹æ³•æ¥è½»æ¾æ›¿æ¢å„ç§è¿æ¥çš„ â€œå°å¸®æ‰‹â€ å¯¹è±¡ï¼Œä»è€Œèƒ½åœ¨è¿è¡Œæ—¶æ”¹å˜å®¹å™¨çš„è¡Œä¸ºã€‚ä¸€ä¸ªå¯¹è±¡å¯ä»¥ä½¿ç”¨å¤šä¸ªç±»çš„è¡Œä¸ºï¼Œ åŒ…å«å¤šä¸ªæŒ‡å‘å…¶ä»–å¯¹è±¡çš„å¼•ç”¨ï¼Œå¹¶å°†å„ç§å·¥ä½œå§”æ´¾ç»™å¼•ç”¨å¯¹è±¡**èšåˆï¼ˆæˆ–ç»„åˆï¼‰ ç»„åˆæ˜¯è®¸å¤šè®¾è®¡æ¨¡å¼èƒŒåçš„å…³é”®åŸåˆ™ ï¼ˆåŒ…æ‹¬è£…é¥°åœ¨å†…ï¼‰ã€‚è®°ä½è¿™ä¸€ç‚¹åï¼Œè®©æˆ‘ä»¬ç»§ç»­å…³äºæ¨¡å¼çš„è®¨è®º**ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220818204142.png)\n\né‚£ä¹ˆä»€ä¹ˆæ—¶å€™ä¸€ä¸ªç®€å•çš„å°è£…å™¨å¯ä»¥è¢«ç§°ä¸ºæ˜¯çœŸæ­£çš„è£…é¥°å‘¢ï¼Ÿæ­£å¦‚ä¹‹å‰æåˆ°çš„ï¼Œå°è£…å™¨å®ç°äº†ä¸å…¶å°è£…å¯¹è±¡ç›¸åŒçš„æ¥å£ã€‚å› æ­¤ä»å®¢æˆ·ç«¯çš„è§’åº¦æ¥çœ‹ï¼Œè¿™äº›å¯¹è±¡æ˜¯**å®Œå…¨ä¸€æ ·**çš„ã€‚å°è£…å™¨ä¸­çš„å¼•ç”¨æˆå‘˜å˜é‡å¯ä»¥æ˜¯éµå¾ªç›¸åŒæ¥å£çš„ä»»æ„å¯¹è±¡ã€‚è¿™ä½¿å¾—ä½ å¯ä»¥å°†**ä¸€ä¸ªå¯¹è±¡æ”¾å…¥å¤šä¸ªå°è£…å™¨**ä¸­ï¼Œå¹¶åœ¨å¯¹è±¡ä¸­æ·»åŠ æ‰€æœ‰è¿™äº›å°è£…å™¨çš„ç»„åˆè¡Œä¸ºã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220818205047.png)\n\n##### è£…é¥°æ¨¡å¼ç»“æ„\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220818205848.png)\n\n1.**éƒ¨ä»¶(ComÂ­poÂ­nent)** å£°æ˜å°è£…å™¨å’Œè¢«å°è£…å¯¹è±¡çš„å…¬ç”¨æ¥å£ã€‚\n\n2.**å…·ä½“éƒ¨ä»¶(ConÂ­crete ComÂ­poÂ­nent)** ç±»æ˜¯è¢«å°è£…å¯¹è±¡æ‰€å±çš„ç±»ã€‚ å®ƒå®šä¹‰äº†åŸºç¡€è¡Œä¸ºï¼Œ ä½†è£…é¥°ç±»å¯ä»¥æ”¹å˜è¿™äº›è¡Œä¸ºã€‚\n\n3.**åŸºç¡€è£…é¥°(Base DecÂ­oÂ­raÂ­tor)** ç±»æ‹¥æœ‰ä¸€ä¸ªæŒ‡å‘è¢«å°è£…å¯¹è±¡çš„å¼•ç”¨æˆå‘˜å˜é‡ã€‚ è¯¥å˜é‡çš„ç±»å‹åº”å½“è¢«å£°æ˜ä¸ºé€šç”¨éƒ¨ä»¶æ¥å£ï¼Œ è¿™æ ·å®ƒå°±å¯ä»¥å¼•ç”¨å…·ä½“çš„éƒ¨ä»¶å’Œè£…é¥°ã€‚ è£…é¥°åŸºç±»ä¼šå°†æ‰€æœ‰æ“ä½œå§”æ´¾ç»™è¢«å°è£…çš„å¯¹è±¡ã€‚\n\n4.**å…·ä½“è£…é¥°ç±»(ConÂ­crete DecÂ­oÂ­raÂ­tors)** å®šä¹‰äº†å¯åŠ¨æ€æ·»åŠ åˆ°éƒ¨ä»¶çš„é¢å¤–è¡Œä¸ºã€‚ å…·ä½“è£…é¥°ç±»ä¼šé‡å†™è£…é¥°åŸºç±»çš„æ–¹æ³•ï¼Œ å¹¶åœ¨è°ƒç”¨çˆ¶ç±»æ–¹æ³•ä¹‹å‰æˆ–ä¹‹åè¿›è¡Œé¢å¤–çš„è¡Œä¸ºã€‚\n\n5.**å®¢æˆ·ç«¯(Client)** å¯ä»¥ä½¿ç”¨å¤šå±‚è£…é¥°æ¥å°è£…éƒ¨ä»¶ï¼Œ åªè¦å®ƒèƒ½ä½¿ç”¨é€šç”¨æ¥å£ä¸æ‰€æœ‰å¯¹è±¡äº’åŠ¨å³å¯ã€‚\n\n##### ä¼ªä»£ç \n\nä»…ä»…çœ‹ä¸Šé¢çš„å†…å®¹åªæ˜¯çŸ¥é“ä¸ªå¤§æ¦‚ï¼Œæ¥çœ‹çœ‹æ›´å…·ä½“çš„ä¾‹å­ä»¥åŠå†™å†™ä¸€äº›ä¸é‚£ä¹ˆä¼ªçš„ä¼ªä»£ç ã€‚\n\n**ç¬¬ä¸€ä¸ªä¾‹å­ï¼Œc#ç±»å‹çš„å¤§æ¦‚ç»“æ„** :\n\n```csharp\n//å®šä¹‰æŠ½è±¡Componentç±»ï¼Œå‡†å¤‡è¢«å…·ä½“Componentç±»å’ŒBase Decoratorç±»ç»§æ‰¿\npublic abstract class Component\n{\n    public abstract string Operation();\n}\n//å…·ä½“Componentç±»å®šä¹‰äº†åŸºç¡€è¡Œä¸ºï¼Œè£…é¥°å™¨å°±æ˜¯ä¿®é¥°è¿™äº›è¡Œä¸º\n//æ¯”å¦‚è¯´ä½ è¦ç”»ä¸€ä¸ªåœ†ï¼Œè¿™æ˜¯æœ¬èº«è¦å¹²çš„äº‹æƒ…\n//å¦‚æœè¦ç”»ä¸€ä¸ªçº¢è‰²çš„åœ†ï¼Œå¯ä»¥ç”¨ä¿®é¥°å™¨æ¥ä¿®é¥°è¿™ä¸ªè¡Œä¸º\npublic class ConcreteComponent : Component\n{\n    public override string Operation()\n    {\n        return \"ConcreteComponent\";\n    }\n}\n//è£…é¥°å™¨è¦è·Ÿå…·ä½“ç»„ä»¶ç»§æ‰¿ç›¸åŒçš„ç±»\n//è¯¥ç±»ä¸»è¦ä¸ºäº†å®šä¹‰æ‰€æœ‰å…·ä½“è£…é¥°ç±»çš„æ¥å£ã€‚\n//é€šå¸¸æœ‰ä¸€ä¸ªå…³äºComponentçš„æˆå‘˜å˜é‡,å¹¶ä¸”è¦åˆå§‹åŒ–\npublic abstract class Decorator : Component\n{\n    protected Component _component;\n\n    //åˆå§‹åŒ–\n    public Decorator(Component component)\n    {\n        this._component = component;\n    }\n\n    public override string Operation()\n    {\n        if (this._component != null)\n        {\n            return this._component.Operation();\n        }\n        else\n        {\n            return string.Empty;\n        }\n    }\n}\npublic class ConcreteDecoratorA : Decorator\n{\n    public ConcreteDecoratorA(Component component) : base(component)\n    {\n        //ç»§æ‰¿åˆå§‹åŒ–\n    }\n\n    public override string Operation()\n    {\n        return $\"ConcreteDecoratorA({base.Operation()})\";\n    }   \n}\npublic class ConcreteDecoratorB : Decorator\n{\n    public ConcreteDecoratorB(Component component) : base(component)\n    {\n        //ç»§æ‰¿åˆå§‹åŒ–\n    }\n\n    public override string Operation()\n    {\n        return $\"ConcreteDecoratorB({base.Operation()})\";\n    }   \n}\npublic class Client\n{\n    public void ClientCode(Component component)\n    {\n        Console.WriteLine(\"RESULT: \" + component.Operation());\n    }\n}\n\n//å®¢æˆ·ç«¯ä»£ç \nClient client = new Client();\n\nvar simple = new ConcreteComponent();\n Console.WriteLine(\"Client: I get a simple component:\");\nclient.ClientCode(simple);\nConsole.WriteLine();\n\nConcreteDecoratorA decorator1 = new ConcreteDecoratorA(simple);\nConcreteDecoratorB decorator2 = new ConcreteDecoratorB(decorator1);\nConsole.WriteLine(\"Client: Now I've got a decorated component:\");\nclient.ClientCode(decorator2);\n\n/*æ¼”ç¤ºç»“æœ\nClient: I get a simple component:\nRESULT: ConcreteComponent\n\nClient: Now I've got a decorated component:\nRESULT: ConcreteDecoratorB(ConcreteDecoratorA(ConcreteComponent))\n*/\n```\n\nä¸Šä¸€ä¸ªä¾‹å­åŸºæœ¬ä¸Šå¯ä»¥çŸ¥é“å¤§æ¦‚çš„è¿ä½œæ–¹å¼ï¼Œä½†æ˜¯å¯¹äºä½¿ç”¨è¿˜ä¸èƒ½å¤Ÿäº†è§£ï¼Œæ¥ä¸‹æ¥çœ‹ä¸€ä¸ªæ¯”è¾ƒç®€å•çš„ä¾‹å­ï¼Œå¯ä»¥å¾ˆå®¹æ˜“ä½“ç°è£…é¥°å™¨æ˜¯åœ¨**è£…é¥°å…·ä½“ç»„ä»¶çš„è¡Œä¸º**ï¼Œæ„Ÿè§‰å°±è·Ÿc#ä¸€æ ·ï¼Œå¦‚æœ**Component**ç›¸å½“äºc#çš„æŠ½è±¡ç±»ï¼Œé‚£ä¹ˆ**Decorator**å°±ç›¸å½“äºc#çš„æ¥å£ï¼ˆä½†æ˜¯å®é™…ä¸Šc#çš„æ¥å£ä¸èƒ½ç»§æ‰¿ç±»ï¼‰\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220818212043.png)\n\nå›¾æ˜¯javaçš„ç¤ºæ„å›¾ï¼Œä½†æ˜¯æˆ‘è¿™é‡Œç”¨c#å†™å‡ºæ¥\n\n```csharp\n//Componentç±»\npublic abstract class Shape\n{\n    public abstract void draw();\n}\n//Concrete Component ç±»\npublic class Rectangle : Shape\n{\n    public override void draw()\n    {\n        Console.WriteLine(\"Shape:Rectangle\");\n    }\n}\n//Concrete Component ç±»\npublic class Circle : Shape\n{\n    public override void draw()\n    {\n        Console.WriteLine(\"Shape:Circle\");\n    }\n}\n//æŠ½è±¡Base Decoratorç±»\npublic abstract class ShapeDecorator : Shape\n{\n    protected Shape decoratedShape;\n\n    public ShapeDecorator(Shape shape)\n    {\n        this.decoratedShape = shape;\n    }\n\n    public override void draw()\n    {\n        decoratedShape.draw();\n    }\n}\n//Concrete Decoratorç±»\npublic class RedShapeDecorator : ShapeDecorator\n{\n    public RedShapeDecorator(Shape shape) : base (shape)\n    {\n        //ç»§æ‰¿åˆå§‹åŒ–\n    }\n\n    public override void draw()\n    {\n        Console.Write(\"Red + \");\n        base.draw();\n    }\n}\n//å®¢æˆ·ç«¯ä»£ç \nvar circle = new Circle();\nShapeDecorator redCircle = new RedShapeDecorator(new Circle());\nShapeDecorator redRectangle = new RedShapeDecorator(new Rectangle());\n\nConsole.WriteLine(\"Circle with normal border\");\ncircle.draw();\n\nConsole.WriteLine(\"\\nCircle of red border\");\nredCircle.draw();\n\nConsole.WriteLine(\"\\nRectangle of red border\");\nredRectangle.draw();\n\n/*è¿è¡Œç»“æœ\nCircle with normal border\nShape:Circle\n\nCircle of red border\nRed + Shape:Circle\n\nRectangle of red border\nRed + Shape:Rectangle\n*/\n```\n\n##### é€‚åˆè£…é¥°æ¨¡å¼çš„åœ°æ–¹\n\n- å¦‚æœä½ å¸Œæœ›åœ¨æ— éœ€ä¿®æ”¹ä»£ç çš„æƒ…å†µä¸‹å³å¯ä½¿ç”¨å¯¹è±¡ï¼Œä¸”å¸Œæœ›åœ¨è¿è¡Œæ—¶ä¸ºå¯¹è±¡æ–°å¢é¢å¤–çš„è¡Œä¸ºï¼Œå¯ä»¥ä½¿ç”¨è£…é¥°æ¨¡å¼ã€‚\n- å¦‚æœç”¨ç»§æ‰¿æ¥æ‰©å±•å¯¹è±¡è¡Œä¸ºçš„æ–¹æ¡ˆéš¾ä»¥å®ç°æˆ–è€…æ ¹æœ¬ä¸å¯è¡Œï¼Œä½ å¯ä»¥ä½¿ç”¨è¯¥æ¨¡å¼ã€‚\n\n##### è£…é¥°æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\n\n**ä¼˜ç‚¹** ï¼š\n\n- ä½ æ— éœ€åˆ›å»ºæ–°å­ç±»å³å¯æ‰©å±•å¯¹è±¡çš„è¡Œä¸ºã€‚\n- ä½ å¯ä»¥åœ¨è¿è¡Œæ—¶æ·»åŠ æˆ–åˆ é™¤å¯¹è±¡çš„åŠŸèƒ½ã€‚\n- ä½ å¯ä»¥ç”¨å¤šä¸ªè£…é¥°å°è£…å¯¹è±¡æ¥ç»„åˆå‡ ç§è¡Œä¸ºã€‚\n- ç¬¦åˆSRP\n\n**ç¼ºç‚¹** ï¼š\n\n- åœ¨å°è£…å™¨æ ˆä¸­åˆ é™¤ç‰¹å®šå°è£…å™¨æ¯”è¾ƒå›°éš¾ã€‚\n- å®ç°è¡Œä¸ºä¸å—è£…é¥°æ ˆé¡ºåºå½±å“çš„è£…é¥°æ¯”è¾ƒå›°éš¾ã€‚\n- å„å±‚çš„åˆå§‹åŒ–é…ç½®ä»£ç çœ‹ä¸Šå»å¯èƒ½ä¼šå¾ˆç³Ÿç³•ã€‚\n\n#### Fecade(å¤–è§‚æ¨¡å¼/é—¨é¢æ¨¡å¼)\n\nå¤–è§‚æ¨¡å¼æ˜¯ä¸€ç§ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼Œèƒ½ä¸ºç¨‹åºåº“ã€æ¡†æ¶æˆ–å…¶ä»–å¤æ‚ç±»æä¾›ä¸€ä¸ªç®€å•çš„æ¥å£ã€‚\n\n##### é—®é¢˜\n\nå‡è®¾ä½ å¿…é¡»åœ¨ä»£ç ä¸­ä½¿ç”¨æŸä¸ª**å¤æ‚çš„åº“æˆ–æ¡†æ¶ä¸­çš„ä¼—å¤šå¯¹è±¡**ã€‚æ­£å¸¸æƒ…å†µä¸‹ï¼Œä½ éœ€è¦è´Ÿè´£æ‰€æœ‰å¯¹è±¡çš„åˆå§‹åŒ–å·¥ä½œã€ç®¡ç†å…¶ä¾èµ–å…³ç³»å¹¶æŒ‰æ­£ç¡®çš„é¡ºåºæ‰§è¡Œæ–¹æ³•ç­‰ã€‚æœ€ç»ˆï¼Œç¨‹åºä¸­ç±»çš„ä¸šåŠ¡é€»è¾‘å°†ä¸ç¬¬ä¸‰æ–¹ç±»çš„å®ç°ç»†èŠ‚ç´§å¯†è€¦åˆï¼Œä½¿å¾—ç†è§£å’Œç»´æŠ¤ä»£ç çš„å·¥ä½œå¾ˆéš¾è¿›è¡Œã€‚\n\n##### è§£å†³æ–¹æ¡ˆ\n\nå¤–è§‚ç±»ä¸ºåŒ…å«è®¸å¤šæ´»åŠ¨éƒ¨ä»¶çš„**å¤æ‚å­ç³»ç»Ÿæä¾›ä¸€ä¸ªç®€å•çš„æ¥å£**ã€‚ä¸ç›´æ¥è°ƒç”¨å­ç³»ç»Ÿç›¸æ¯”ï¼Œ å¤–è§‚æä¾›çš„åŠŸèƒ½å¯èƒ½æ¯”è¾ƒæœ‰é™ï¼Œ ä½†å®ƒå´åŒ…å«äº†å®¢æˆ·ç«¯çœŸæ­£å…³å¿ƒçš„åŠŸèƒ½ã€‚\n\n##### å¤–è§‚æ¨¡å¼ç»“æ„\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220818223832.png)\n\n1.**å¤–è§‚(Facade)** æä¾›äº†ä¸€ç§è®¿é—®ç‰¹å®šå­ç³»ç»ŸåŠŸèƒ½çš„ä¾¿æ·æ–¹å¼ï¼Œ å…¶äº†è§£å¦‚ä½•é‡å®šå‘å®¢æˆ·ç«¯è¯·æ±‚ï¼Œ çŸ¥æ™“å¦‚ä½•æ“ä½œä¸€åˆ‡æ´»åŠ¨éƒ¨ä»¶ã€‚\n\n2.**åˆ›å»ºé™„åŠ å¤–è§‚(AddiÂ­tionÂ­al Facade)**ç±»å¯ä»¥é¿å…å¤šç§ä¸ç›¸å…³çš„åŠŸèƒ½æ±¡æŸ“å•ä¸€å¤–è§‚ï¼Œ ä½¿å…¶å˜æˆåˆä¸€ä¸ªå¤æ‚ç»“æ„ã€‚ å®¢æˆ·ç«¯å’Œå…¶ä»–å¤–è§‚éƒ½å¯ä½¿ç”¨é™„åŠ å¤–è§‚ã€‚\n\n3.**å¤æ‚å­ç³»ç»Ÿ(ComÂ­plex SubÂ­sysÂ­tem)** ç”±æ•°åä¸ªä¸åŒå¯¹è±¡æ„æˆã€‚å¦‚æœè¦ç”¨è¿™äº›å¯¹è±¡å®Œæˆæœ‰æ„ä¹‰çš„å·¥ä½œï¼Œä½ å¿…é¡»æ·±å…¥äº†è§£å­ç³»ç»Ÿçš„å®ç°ç»†èŠ‚ï¼Œæ¯”å¦‚æŒ‰ç…§æ­£ç¡®é¡ºåºåˆå§‹åŒ–å¯¹è±¡å’Œä¸ºå…¶æä¾›æ­£ç¡®æ ¼å¼çš„æ•°æ®ã€‚\nå­ç³»ç»Ÿç±»ä¸ä¼šæ„è¯†åˆ°å¤–è§‚çš„å­˜åœ¨ï¼Œå®ƒä»¬åœ¨ç³»ç»Ÿå†…è¿ä½œå¹¶ä¸”ç›¸äº’ä¹‹é—´å¯ç›´æ¥è¿›è¡Œäº¤äº’ã€‚\n\n4.**å®¢æˆ·ç«¯(Client)** ä½¿ç”¨å¤–è§‚ä»£æ›¿å¯¹å­ç³»ç»Ÿå¯¹è±¡çš„ç›´æ¥è°ƒç”¨ã€‚\n\n##### ä¼ªä»£ç \n\nåœ¨æœ¬ä¾‹ä¸­ï¼Œå¤–è§‚æ¨¡å¼ç®€åŒ–äº†å®¢æˆ·ç«¯ä¸å¤æ‚è§†é¢‘è½¬æ¢æ¡†æ¶ä¹‹é—´çš„äº¤äº’ã€‚ä½ å¯ä»¥åˆ›å»ºä¸€ä¸ªå°è£…æ‰€éœ€åŠŸèƒ½å¹¶éšè—å…¶ä»–ä»£ç çš„å¤–è§‚ç±»ï¼Œä»è€Œæ— éœ€ä½¿å…¨éƒ¨ä»£ç ç›´æ¥ä¸æ•°åä¸ªæ¡†æ¶ç±»è¿›è¡Œäº¤äº’ã€‚è¯¥ç»“æ„è¿˜èƒ½å°†æœªæ¥æ¡†æ¶å‡çº§æˆ–æ›´æ¢æ‰€é€ æˆçš„å½±å“æœ€å°åŒ–ï¼Œå› ä¸ºä½ åªéœ€ä¿®æ”¹ç¨‹åºä¸­å¤–è§‚æ–¹æ³•çš„å®ç°å³å¯ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220818224224.png)\n\n```csharp\n//å„ç§å­ç³»ç»Ÿç±»\npublic class VideoFile\n{\n    // ...\n}\npublic class OggCompressionCodec\n{\n    // ...\n}\npublic class MPEG4CompressionCodec\n{\n    // ...\n}\npublic class CodecFactory\n{\n    // ...\n}\npublic class BitrateReader\n{\n    // ...\n}\npublic class AudioMixer\n{\n    // ...\n}\n\n//ä¸€ä¸ªå¤–è§‚ç±»ï¼Œç›®çš„æ˜¯ä¸ºäº†å°†å¾ˆå¤šçš„å­ç³»ç»Ÿç±»è½¬æ¢æˆä¸€ä¸ªæ¥å£æ¥ç»™å®¢æˆ·ç«¯çœ‹\npublic class VideoConverter\n{\n    //å‡è®¾è¿”å›ç±»å‹å°±æ˜¯Fileç±»\n    //ä¸è¦åœ¨æ„é‡Œé¢çš„å…·ä½“å†…å®¹ï¼Œåªç”¨çŸ¥é“è¿™æ˜¯ä¸ªè½¬åŒ–å™¨å°±è¡Œäº†\n    public File converter(filename,format)\n    {\n        File file = new VideoFile(filename);\n        CodecFactory sourceCodec = new CodecFactory.extract(file);\n        if (format == \"mp4\")\n            MPEG4CompressionCodec destinationCodec = new MPEG4CompressionCodec();\n        else\n            OggCompressionCodec destinationCodec = new OggCompressionCodec();\n        BitrateReader buffer = BitrateReader.read(filename, sourceCodec);\n        BitrateReader result = BitrateReader.convert(buffer, destinationCodec);\n        AudioMixer result = (new AudioMixer()).fix(result);\n        return new File(result);\n    }\n}\n\n//å®¢æˆ·ç«¯ä»£ç \nvar convertor = new VideoConverter();\nvar mp4 = convertor.convert(\"funny-cats-video.ogg\", \"mp4\")\nmp4.save()\n```\n\n##### é€‚åˆå¤–è§‚æ¨¡å¼çš„åœ°æ–¹\n\n- å¦‚æœä½ éœ€è¦ä¸€ä¸ªæŒ‡å‘å¤æ‚å­ç³»ç»Ÿçš„ç›´æ¥æ¥å£ï¼Œä¸”è¯¥æ¥å£çš„åŠŸèƒ½æœ‰é™ï¼Œåˆ™å¯ä»¥ä½¿ç”¨å¤–è§‚æ¨¡å¼ã€‚\n- å¦‚æœéœ€è¦å°†å­ç³»ç»Ÿç»„ç»‡ä¸ºå¤šå±‚ç»“æ„ï¼Œå¯ä»¥ä½¿ç”¨å¤–è§‚ã€‚\n\n##### å¤–è§‚æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\n\n**ä¼˜ç‚¹** ï¼š\n\n- ä½ å¯ä»¥è®©è‡ªå·±çš„ä»£ç ç‹¬ç«‹äºå¤æ‚å­ç³»ç»Ÿã€‚\n\n**ç¼ºç‚¹** ï¼š\n\n- å¤–è§‚å¯èƒ½æˆä¸ºä¸ç¨‹åºä¸­æ‰€æœ‰ç±»éƒ½è€¦åˆçš„ä¸Šå¸å¯¹è±¡ï¼ˆä¸€ä¸ªä¸Šå¸å¯¹è±¡(God object)æ˜¯ä¸€ä¸ªäº†è§£è¿‡å¤šæˆ–è€…è´Ÿè´£è¿‡å¤šçš„å¯¹è±¡ï¼‰\n\n#### Flyweight(äº«å…ƒæ¨¡å¼)\n\näº«å…ƒæ¨¡å¼æ˜¯ä¸€ç§ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼Œå®ƒæ‘’å¼ƒäº†åœ¨æ¯ä¸ªå¯¹è±¡ä¸­ä¿å­˜æ‰€æœ‰æ•°æ®çš„æ–¹å¼ï¼Œé€šè¿‡å…±äº«å¤šä¸ªå¯¹è±¡æ‰€å…±æœ‰çš„ç›¸åŒçŠ¶æ€ï¼Œè®©ä½ èƒ½åœ¨æœ‰é™çš„å†…å­˜å®¹é‡ä¸­è½½å…¥æ›´å¤šå¯¹è±¡ã€‚ç®€å•æ¥è¯´ï¼Œå°±æ˜¯æå–ä¸€ä¸ªå¤§ç±»ä¸­å…±åŒçš„ä¸å˜çš„å†…å®¹çš„ä¸ºä¸€ä¸ªç±»å’Œä¸€ä¸ªéœ€è¦ç»å¸¸ç”Ÿæˆçš„å˜åŒ–çŠ¶æ€çš„ç±»ã€‚\n\n##### é—®é¢˜\n\nçœŸæ­£çš„é—®é¢˜ä¸ç²’å­ç³»ç»Ÿæœ‰å…³ã€‚æ¯ä¸ªç²’å­ ï¼ˆä¸€é¢—å­å¼¹ã€ ä¸€æšå¯¼å¼¹æˆ–ä¸€å—å¼¹ç‰‡ï¼‰ éƒ½ç”±åŒ…å«å®Œæ•´æ•°æ®çš„ç‹¬ç«‹å¯¹è±¡æ¥è¡¨ç¤ºã€‚å½“ç©å®¶åœ¨æ¸¸æˆä¸­é–æˆ˜è¿›å…¥é«˜æ½®åçš„æŸä¸€æ—¶åˆ»ï¼Œæ¸¸æˆå°†æ— æ³•åœ¨å‰©ä½™å†…å­˜ä¸­è½½å…¥æ–°å»ºç²’å­ï¼Œäºæ˜¯ç¨‹åºå°±å´©æºƒäº†ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220818230038.png)\n\n##### è§£å†³æ–¹æ¡ˆ\n\nä»”ç»†è§‚å¯Ÿ**ç²’å­ParÂ­tiÂ­cleç±»**ï¼Œ ä½ å¯èƒ½ä¼šæ³¨æ„åˆ°**é¢œè‰²(color)å’Œç²¾çµå›¾(sprite)**è¿™ä¸¤ä¸ªæˆå‘˜å˜é‡æ‰€æ¶ˆè€—çš„å†…å­˜è¦æ¯”å…¶ä»–å˜é‡å¤šå¾—å¤šã€‚æ›´ç³Ÿç³•çš„æ˜¯ï¼Œå¯¹äºæ‰€æœ‰çš„ç²’å­æ¥è¯´ï¼Œ**è¿™ä¸¤ä¸ªæˆå‘˜å˜é‡æ‰€å­˜å‚¨çš„æ•°æ®å‡ ä¹å®Œå…¨ä¸€æ ·** ï¼ˆæ¯”å¦‚æ‰€æœ‰å­å¼¹çš„é¢œè‰²å’Œç²¾çµå›¾éƒ½ä¸€æ ·ï¼‰ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220818230148.png)\n\næ¯ä¸ªç²’å­çš„å¦ä¸€äº›çŠ¶æ€ ï¼ˆåæ ‡ã€ ç§»åŠ¨çŸ¢é‡å’Œé€Ÿåº¦ï¼‰ åˆ™æ˜¯ä¸åŒçš„ã€‚å› ä¸ºè¿™äº›æˆå‘˜å˜é‡çš„æ•°å€¼ä¼šä¸æ–­å˜åŒ–ã€‚ è¿™äº›æ•°æ®ä»£è¡¨ç²’å­åœ¨å­˜ç»­æœŸé—´ä¸æ–­å˜åŒ–çš„æƒ…æ™¯ï¼Œä½†æ¯ä¸ªç²’å­çš„é¢œè‰²å’Œç²¾çµå›¾åˆ™ä¼šä¿æŒä¸å˜ã€‚\nå¯¹è±¡çš„å¸¸é‡æ•°æ®é€šå¸¸è¢«ç§°ä¸º**å†…åœ¨çŠ¶æ€**ï¼Œå…¶ä½äºå¯¹è±¡ä¸­ï¼Œå…¶ä»–å¯¹è±¡åªèƒ½è¯»å–ä½†ä¸èƒ½ä¿®æ”¹å…¶æ•°å€¼ã€‚è€Œå¯¹è±¡çš„å…¶ä»–çŠ¶æ€å¸¸å¸¸èƒ½è¢«å…¶ä»–å¯¹è±¡ â€œä»å¤–éƒ¨â€ æ”¹å˜ï¼Œå› æ­¤è¢«ç§°ä¸º**å¤–åœ¨çŠ¶æ€**ã€‚\næˆ‘ä»¬å°†è¿™æ ·ä¸€ä¸ª**ä»…å­˜å‚¨å†…åœ¨çŠ¶æ€çš„å¯¹è±¡ç§°ä¸ºäº«å…ƒ**ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220818230930.png)\n\n**äº«å…ƒä¸ä¸å¯å˜æ€§** :\nç”±äºäº«å…ƒå¯¹è±¡å¯åœ¨ä¸åŒçš„æƒ…æ™¯ä¸­ä½¿ç”¨ï¼Œä½ å¿…é¡»ç¡®ä¿å…¶çŠ¶æ€ä¸èƒ½è¢«ä¿®æ”¹ã€‚**äº«å…ƒç±»çš„çŠ¶æ€åªèƒ½ç”±æ„é€ å‡½æ•°çš„å‚æ•°è¿›è¡Œä¸€æ¬¡æ€§åˆå§‹åŒ–**ï¼Œå®ƒä¸èƒ½å¯¹å…¶ä»–å¯¹è±¡å…¬å¼€å…¶è®¾ç½®å™¨æˆ–å…¬æœ‰æˆå‘˜å˜é‡ã€‚\n\n**äº«å…ƒå·¥å‚** :\nä¸ºäº†èƒ½æ›´æ–¹ä¾¿åœ°è®¿é—®å„ç§äº«å…ƒï¼Œä½ å¯ä»¥åˆ›å»ºä¸€ä¸ªå·¥å‚æ–¹æ³•æ¥ç®¡ç†å·²æœ‰äº«å…ƒå¯¹è±¡çš„ç¼“å­˜æ± ã€‚å·¥å‚æ–¹æ³•ä»å®¢æˆ·ç«¯å¤„æ¥æ”¶ç›®æ ‡äº«å…ƒå¯¹è±¡çš„å†…åœ¨çŠ¶æ€ä½œä¸ºå‚æ•°ï¼Œå¦‚æœå®ƒèƒ½åœ¨ç¼“å­˜æ± ä¸­æ‰¾åˆ°æ‰€éœ€äº«å…ƒï¼Œåˆ™å°†å…¶è¿”å›ç»™å®¢æˆ·ç«¯ï¼›å¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œå®ƒå°±ä¼šæ–°å»ºä¸€ä¸ªäº«å…ƒï¼Œå¹¶å°†å…¶æ·»åŠ åˆ°ç¼“å­˜æ± ä¸­ã€‚\nä½ å¯ä»¥é€‰æ‹©åœ¨ç¨‹åºçš„ä¸åŒåœ°æ–¹æ”¾å…¥è¯¥å‡½æ•°ã€‚æœ€ç®€å•çš„é€‰æ‹©å°±æ˜¯å°†å…¶æ”¾ç½®åœ¨äº«å…ƒå®¹å™¨ä¸­ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œä½ è¿˜å¯ä»¥æ–°å»ºä¸€ä¸ªå·¥å‚ç±»ï¼Œæˆ–è€…åˆ›å»ºä¸€ä¸ªé™æ€çš„å·¥å‚æ–¹æ³•å¹¶å°†å…¶æ”¾å…¥å®é™…çš„äº«å…ƒç±»ä¸­ã€‚\n\n##### äº«å…ƒæ¨¡å¼ç»“æ„\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220818231129.png)\n\n1.äº«å…ƒæ¨¡å¼åªæ˜¯ä¸€ç§ä¼˜åŒ–ã€‚åœ¨åº”ç”¨è¯¥æ¨¡å¼ä¹‹å‰ï¼Œä½ è¦ç¡®å®šç¨‹åºä¸­å­˜åœ¨ä¸å¤§é‡ç±»ä¼¼å¯¹è±¡åŒæ—¶å ç”¨å†…å­˜ç›¸å…³çš„å†…å­˜æ¶ˆè€—é—®é¢˜ï¼Œå¹¶ä¸”ç¡®ä¿è¯¥é—®é¢˜æ— æ³•ä½¿ç”¨å…¶ä»–æ›´å¥½çš„æ–¹å¼æ¥è§£å†³ã€‚\n\n2.**äº«å…ƒ(FlyÂ­weight)** ç±»åŒ…å«åŸå§‹å¯¹è±¡ä¸­éƒ¨åˆ†èƒ½åœ¨å¤šä¸ªå¯¹è±¡ä¸­å…±äº«çš„çŠ¶æ€ã€‚ åŒä¸€äº«å…ƒå¯¹è±¡å¯åœ¨è®¸å¤šä¸åŒæƒ…æ™¯ä¸­ä½¿ç”¨ã€‚ äº«å…ƒä¸­å­˜å‚¨çš„çŠ¶æ€è¢«ç§°ä¸º â€œå†…åœ¨çŠ¶æ€â€ã€‚ ä¼ é€’ç»™äº«å…ƒæ–¹æ³•çš„çŠ¶æ€è¢«ç§°ä¸º â€œå¤–åœ¨çŠ¶æ€â€ã€‚\n\n3.**æƒ…æ™¯(ConÂ­text)** ç±»åŒ…å«åŸå§‹å¯¹è±¡ä¸­å„ä¸ç›¸åŒçš„å¤–åœ¨çŠ¶æ€ã€‚ æƒ…æ™¯ä¸äº«å…ƒå¯¹è±¡ç»„åˆåœ¨ä¸€èµ·å°±èƒ½è¡¨ç¤ºåŸå§‹å¯¹è±¡çš„å…¨éƒ¨çŠ¶æ€ã€‚\n\n4.é€šå¸¸æƒ…å†µä¸‹ï¼ŒåŸå§‹å¯¹è±¡çš„è¡Œä¸ºä¼šä¿ç•™åœ¨äº«å…ƒç±»ä¸­ã€‚å› æ­¤è°ƒç”¨äº«å…ƒæ–¹æ³•å¿…é¡»æä¾›éƒ¨åˆ†å¤–åœ¨çŠ¶æ€ä½œä¸ºå‚æ•°ã€‚ä½†ä½ ä¹Ÿå¯å°†è¡Œä¸ºç§»åŠ¨åˆ°æƒ…æ™¯ç±»ä¸­ï¼Œç„¶åå°†è¿å…¥çš„äº«å…ƒä½œä¸ºå•çº¯çš„æ•°æ®å¯¹è±¡ã€‚\n\n5.**å®¢æˆ·ç«¯(Client)** è´Ÿè´£è®¡ç®—æˆ–å­˜å‚¨äº«å…ƒçš„å¤–åœ¨çŠ¶æ€ã€‚åœ¨å®¢æˆ·ç«¯çœ‹æ¥ï¼Œäº«å…ƒæ˜¯ä¸€ç§å¯åœ¨è¿è¡Œæ—¶è¿›è¡Œé…ç½®çš„æ¨¡æ¿å¯¹è±¡ï¼Œå…·ä½“çš„é…ç½®æ–¹å¼ä¸ºå‘å…¶æ–¹æ³•ä¸­ä¼ å…¥ä¸€äº›æƒ…æ™¯æ•°æ®å‚æ•°ã€‚\n\n6.**äº«å…ƒå·¥å‚(FlyÂ­weight FacÂ­toÂ­ry)** ä¼šå¯¹å·²æœ‰äº«å…ƒçš„ç¼“å­˜æ± è¿›è¡Œç®¡ç†ã€‚æœ‰äº†å·¥å‚åï¼Œå®¢æˆ·ç«¯å°±æ— éœ€ç›´æ¥åˆ›å»ºäº«å…ƒï¼Œå®ƒä»¬åªéœ€è°ƒç”¨å·¥å‚å¹¶å‘å…¶ä¼ é€’ç›®æ ‡äº«å…ƒçš„ä¸€äº›å†…åœ¨çŠ¶æ€å³å¯ã€‚å·¥å‚ä¼šæ ¹æ®å‚æ•°åœ¨ä¹‹å‰å·²åˆ›å»ºçš„äº«å…ƒä¸­è¿›è¡ŒæŸ¥æ‰¾ï¼Œå¦‚æœæ‰¾åˆ°æ»¡è¶³æ¡ä»¶çš„äº«å…ƒå°±å°†å…¶è¿”å›ï¼›å¦‚æœæ²¡æœ‰æ‰¾åˆ°å°±æ ¹æ®å‚æ•°æ–°å»ºäº«å…ƒã€‚\n\n##### ä¼ªä»£ç \n\nåœ¨æœ¬ä¾‹ä¸­ï¼Œäº«å…ƒæ¨¡å¼èƒ½æœ‰æ•ˆå‡å°‘åœ¨ç”»å¸ƒä¸Šæ¸²æŸ“æ•°ç™¾ä¸‡ä¸ªæ ‘çŠ¶å¯¹è±¡æ—¶æ‰€éœ€çš„å†…å­˜ã€‚è¯¥æ¨¡å¼ä»ä¸»è¦çš„**æ ‘Tree**ç±»ä¸­æŠ½å–å†…åœ¨çŠ¶æ€ï¼Œå¹¶å°†å…¶ç§»åŠ¨åˆ°**äº«å…ƒç±»æ ‘ç§ç±»TreeÂ­Type**ä¹‹ä¸­ã€‚\n\n```csharp\n//äº«å…ƒç±»,æ‹¥æœ‰å¤§é‡å…±åŒçš„åå­—ï¼Œé¢œè‰²å’Œæè´¨\n//å¦‚æœæ¯ä¸ªæ ‘éƒ½è¿›è¡Œä¸€æ¬¡ä¿å­˜å°†ä¼šæ¶ˆè€—å¤§é‡çš„å†…å­˜\npublic class TreeType\n{\n    private string name;\n    private Color color;\n    private Texture texture;\n\n    public TreeType(name,color,texture)\n    {\n        //...\n    }\n    public draw(canvas,x,y)\n    {\n        // 1. åˆ›å»ºç‰¹å®šç±»å‹ã€é¢œè‰²å’Œçº¹ç†çš„ä½å›¾ã€‚\n        // 2. åœ¨ç”»å¸ƒåæ ‡ (X,Y) å¤„ç»˜åˆ¶ä½å›¾ã€‚\n    }\n}\n\n//ä½¿ç”¨äº«å…ƒå·¥å‚ï¼Œå½“ç„¶æ˜¯ä¸ä¸€å®šåªæœ‰ä¸€ç§æ ‘å•¦\npublic class TreeFactory\n{\n    public static TreeType[] treeTypes;\n    public static TreeType getTreeType(name,color,texture)\n    {\n        TreeType type = treeTypes.Find(name,color,texture);\n        if(type == null)\n        {\n            type = new TreeType(name,color,texture);\n            treeTypes.add(type);\n        }\n        return type;\n    }\n}\n\n//æ ‘çš„å¤–åœ¨çŠ¶æ€\npublic class Tree \n{\n    public float x,y;\n    public TreeType type;\n    \n    public Type(x,y,type)\n    {\n        //..\n    }\n    public void draw(canvas)\n    {\n        type.draw(canvas,this.x,this.y);\n    }\n}\n\n// æ ‘ï¼ˆTreeï¼‰å’Œæ£®æ—ï¼ˆForÂ­estï¼‰ç±»æ˜¯äº«å…ƒçš„å®¢æˆ·ç«¯ã€‚\n// å¦‚æœä¸æ‰“ç®—ç»§ç»­å¯¹æ ‘ç±»è¿›è¡Œå¼€å‘ï¼Œä½ å¯ä»¥å°†å®ƒä»¬åˆå¹¶ã€‚\npublic class Forest\n{\n    public Tree[] trees;\n\n    public void plantTree(x,y,name,color,texture)\n    {\n        TreeType type = TreeFactory.getTreeType(name,color,texture);\n        tree = new Tree(x,y,type);\n        trees.add(tree);\n    }\n\n    public void draw(canvas)\n    {\n        foreach(var tree in trees)\n        {\n            tree.draw(canvas);\n        }\n    }\n}\n```\n\n##### é€‚åˆäº«å…ƒæ¨¡å¼çš„åœ°æ–¹\n\n- ä»…åœ¨ç¨‹åºå¿…é¡»æ”¯æŒ**å¤§é‡å¯¹è±¡ä¸”æ²¡æœ‰è¶³å¤Ÿçš„å†…å­˜å®¹é‡**æ—¶ä½¿ç”¨äº«å…ƒæ¨¡å¼(æ¯”å¦‚ç²’å­ç³»ç»Ÿ)ã€‚\n\n##### äº«å…ƒæ¨¡å¼çš„ä¼˜ç¼ºç‚¹\n\n**ä¼˜ç‚¹** ï¼š\n\n- å¦‚æœç¨‹åºä¸­æœ‰å¾ˆå¤šç›¸ä¼¼å¯¹è±¡ï¼Œé‚£ä¹ˆä½ å°†å¯ä»¥èŠ‚çœå¤§é‡å†…å­˜ã€‚\n\n**ç¼ºç‚¹** ï¼š\n\n- ä½ å¯èƒ½éœ€è¦ç‰ºç‰²æ‰§è¡Œé€Ÿåº¦æ¥æ¢å–å†…å­˜ï¼Œå› ä¸ºä»–äººæ¯æ¬¡è°ƒç”¨äº«å…ƒæ–¹æ³•æ—¶éƒ½éœ€è¦é‡æ–°è®¡ç®—éƒ¨åˆ†æƒ…æ™¯æ•°æ®ã€‚\n- ä»£ç ä¼šå˜å¾—æ›´åŠ å¤æ‚ã€‚ å›¢é˜Ÿä¸­çš„æ–°æˆå‘˜æ€»æ˜¯ä¼šé—®ï¼š â€‹â€œä¸ºä»€ä¹ˆè¦åƒè¿™æ ·æ‹†åˆ†ä¸€ä¸ªå®ä½“çš„çŠ¶æ€ï¼Ÿâ€ã€‚\n\n#### Proxy(ä»£ç†æ¨¡å¼)\n\nä»£ç†æ¨¡å¼æ˜¯ä¸€ç§ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼Œè®©ä½ èƒ½å¤Ÿæä¾›å¯¹è±¡çš„æ›¿ä»£å“æˆ–å…¶å ä½ç¬¦ã€‚ä»£ç†æ§åˆ¶ç€å¯¹äºåŸå¯¹è±¡çš„è®¿é—®ï¼Œå¹¶å…è®¸åœ¨å°†è¯·æ±‚æäº¤ç»™å¯¹è±¡å‰åè¿›è¡Œä¸€äº›å¤„ç†ã€‚\n\n##### é—®é¢˜\n\nä¸ºä»€ä¹ˆè¦æ§åˆ¶å¯¹äºæŸä¸ªå¯¹è±¡çš„è®¿é—®å‘¢ï¼Ÿ ä¸¾ä¸ªä¾‹å­ï¼š æœ‰è¿™æ ·ä¸€ä¸ªæ¶ˆè€—å¤§é‡ç³»ç»Ÿèµ„æºçš„å·¨å‹å¯¹è±¡ï¼Œä½ åªæ˜¯å¶å°”éœ€è¦ä½¿ç”¨å®ƒï¼Œå¹¶éæ€»æ˜¯éœ€è¦ã€‚ä½ å¯ä»¥å®ç°å»¶è¿Ÿåˆå§‹åŒ–ï¼šåœ¨å®é™…æœ‰éœ€è¦æ—¶å†åˆ›å»ºè¯¥å¯¹è±¡ã€‚å¯¹è±¡çš„æ‰€æœ‰å®¢æˆ·ç«¯éƒ½è¦æ‰§è¡Œå»¶è¿Ÿåˆå§‹ä»£ç ã€‚ä¸å¹¸çš„æ˜¯ï¼Œè¿™å¾ˆå¯èƒ½ä¼šå¸¦æ¥å¾ˆå¤šé‡å¤ä»£ç ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220819001221.png)\n\nåœ¨ç†æƒ³æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¸Œæœ›å°†ä»£ç ç›´æ¥æ”¾å…¥å¯¹è±¡çš„ç±»ä¸­ï¼Œä½†è¿™å¹¶éæ€»æ˜¯èƒ½å®ç°ï¼šæ¯”å¦‚ç±»å¯èƒ½æ˜¯ç¬¬ä¸‰æ–¹å°é—­åº“çš„ä¸€éƒ¨åˆ†ã€‚\n\n##### è§£å†³æ–¹æ¡ˆ\n\nä»£ç†æ¨¡å¼å»ºè®®æ–°å»ºä¸€ä¸ªä¸åŸæœåŠ¡å¯¹è±¡æ¥å£ç›¸åŒçš„ä»£ç†ç±»ï¼Œç„¶åæ›´æ–°åº”ç”¨ä»¥å°†ä»£ç†å¯¹è±¡ä¼ é€’ç»™æ‰€æœ‰åŸå§‹å¯¹è±¡å®¢æˆ·ç«¯ã€‚ä»£ç†ç±»æ¥æ”¶åˆ°å®¢æˆ·ç«¯è¯·æ±‚åä¼šåˆ›å»ºå®é™…çš„æœåŠ¡å¯¹è±¡ï¼Œå¹¶å°†æ‰€æœ‰å·¥ä½œå§”æ´¾ç»™å®ƒã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220819001254.png)\n\n##### ä»£ç†æ¨¡å¼ç»“æ„\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220819001317.png)\n\n1.**æœåŠ¡æ¥å£(SerÂ­vice InterÂ­face)** å£°æ˜äº†æœåŠ¡æ¥å£ã€‚ä»£ç†å¿…é¡»éµå¾ªè¯¥æ¥å£æ‰èƒ½ä¼ªè£…æˆæœåŠ¡å¯¹è±¡ã€‚\n\n2.**æœåŠ¡(SerÂ­vice)** ç±»æä¾›äº†ä¸€äº›å®ç”¨çš„ä¸šåŠ¡é€»è¾‘ã€‚\n\n3.**ä»£ç†(Proxy)** ç±»åŒ…å«ä¸€ä¸ªæŒ‡å‘æœåŠ¡å¯¹è±¡çš„å¼•ç”¨æˆå‘˜å˜é‡ã€‚ä»£ç†å®Œæˆå…¶ä»»åŠ¡ï¼ˆä¾‹å¦‚å»¶è¿Ÿåˆå§‹åŒ–ã€è®°å½•æ—¥å¿—ã€è®¿é—®æ§åˆ¶å’Œç¼“å­˜ç­‰ï¼‰åä¼šå°†è¯·æ±‚ä¼ é€’ç»™æœåŠ¡å¯¹è±¡ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œä»£ç†ä¼šå¯¹å…¶æœåŠ¡å¯¹è±¡çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸè¿›è¡Œç®¡ç†ã€‚\n\n4.**å®¢æˆ·ç«¯(Client)** èƒ½é€šè¿‡åŒä¸€æ¥å£ä¸æœåŠ¡æˆ–ä»£ç†è¿›è¡Œäº¤äº’ï¼Œæ‰€ä»¥ä½ å¯åœ¨ä¸€åˆ‡éœ€è¦æœåŠ¡å¯¹è±¡çš„ä»£ç ä¸­ä½¿ç”¨ä»£ç†ã€‚\n\n##### ä¼ªä»£ç \n\nä»£ç†æ¨¡å¼è™½ç„¶åœ¨ç»å¤§å¤šæ•°c#ç¨‹åºä¸­ååˆ†ä¸å¸¸è§ï¼Œä½†æ˜¯åœ¨ä¸€äº›ç‰¹æ®Šæƒ…å†µä¸‹ä½¿ç”¨è¿˜æ˜¯å¾ˆæ–¹ä¾¿çš„ã€‚æˆ‘ä»¬ä»…ä»…åœ¨è¿™é‡Œå¯¹ç€ç»“æ„å›¾å†™ä¸€ä¸ªä»ç„¶ä¸æ˜¯é‚£ä¹ˆä¼ªçš„ä¼ªä»£ç \n\n```csharp\n//è¯¥æœåŠ¡æ¥å£æ˜¯ä»£ç†ç±»å’ŒçœŸå®æœåŠ¡ç±»å¿…é¡»è¦å£°æ˜çš„\npublic interface ServiceInterface\n{\n    void Operation();\n}\n//çœŸå®çš„æœåŠ¡ç±»\npublic class Service : ServiceInterface\n{\n    public void Operation()\n    {\n        Console.WriteLine(\"...\");\n    }\n}\n//ä»£ç†ç±»\npublic class Proxy : ServiceInterface\n{\n    private Service _service;\n\n    public Proxy(Service service)\n    {\n        this._service = service;\n    }\n\n    public void Operation()\n    {\n        if(this.CheckAccess())\n        {\n            this._service.Operation();\n        }\n    }\n\n    public bool CheckAccess()\n    {\n        //ä¸€äº›çœŸå®çš„Checkä»£ç æ®µï¼Œä½†æ˜¯è¿™é‡Œå°±çœç•¥äº†\n        //...\n\n        return true;\n    }\n}\n//å®¢æˆ·ç«¯ä»£ç \nConsole.WriteLine(\"Client: Executing the client code with a real subject:\");\nvar service = new Service();\nservice.Operation();\n\nConsole.WriteLine();\n\nConsole.WriteLine(\"Client: Executing the same client code with a proxy:\");\n\nProxy proxy = new Proxy(service);\nproxy.Operation();\n```\n\n##### é€‚åˆä»£ç†æ¨¡å¼çš„åœ°æ–¹\n\n- å»¶è¿Ÿåˆå§‹åŒ–ï¼ˆè™šæ‹Ÿä»£ç†ï¼‰ã€‚å¦‚æœä½ æœ‰ä¸€ä¸ªå¶å°”ä½¿ç”¨çš„é‡é‡çº§æœåŠ¡å¯¹è±¡ï¼Œä¸€ç›´ä¿æŒè¯¥å¯¹è±¡è¿è¡Œä¼šæ¶ˆè€—ç³»ç»Ÿèµ„æºæ—¶ï¼Œå¯ä½¿ç”¨ä»£ç†æ¨¡å¼ã€‚\n- è®¿é—®æ§åˆ¶ï¼ˆä¿æŠ¤ä»£ç†ï¼‰ã€‚å¦‚æœä½ åªå¸Œæœ›ç‰¹å®šå®¢æˆ·ç«¯ä½¿ç”¨æœåŠ¡å¯¹è±¡ï¼Œè¿™é‡Œçš„å¯¹è±¡å¯ä»¥æ˜¯æ“ä½œç³»ç»Ÿä¸­éå¸¸é‡è¦çš„éƒ¨åˆ†ï¼Œè€Œå®¢æˆ·ç«¯åˆ™æ˜¯å„ç§å·²å¯åŠ¨çš„ç¨‹åºï¼ˆåŒ…æ‹¬æ¶æ„ç¨‹åºï¼‰ï¼Œæ­¤æ—¶å¯ä½¿ç”¨ä»£ç†æ¨¡å¼ã€‚\n- æœ¬åœ°æ‰§è¡Œè¿œç¨‹æœåŠ¡ï¼ˆè¿œç¨‹ä»£ç†ï¼‰ã€‚é€‚ç”¨äºæœåŠ¡å¯¹è±¡ä½äºè¿œç¨‹æœåŠ¡å™¨ä¸Šçš„æƒ…å½¢ã€‚\n- è®°å½•æ—¥å¿—è¯·æ±‚ï¼ˆæ—¥å¿—è®°å½•ä»£ç†ï¼‰ã€‚é€‚ç”¨äºå½“ä½ éœ€è¦ä¿å­˜å¯¹äºæœåŠ¡å¯¹è±¡çš„è¯·æ±‚å†å²è®°å½•æ—¶ã€‚\n- ç¼“å­˜è¯·æ±‚ç»“æœï¼ˆç¼“å­˜ä»£ç†ï¼‰ã€‚é€‚ç”¨äºéœ€è¦ç¼“å­˜å®¢æˆ·è¯·æ±‚ç»“æœå¹¶å¯¹ç¼“å­˜ç”Ÿå‘½å‘¨æœŸè¿›è¡Œç®¡ç†æ—¶ï¼Œç‰¹åˆ«æ˜¯å½“è¿”å›ç»“æœçš„ä½“ç§¯éå¸¸å¤§æ—¶ã€‚\n- æ™ºèƒ½å¼•ç”¨ã€‚å¯åœ¨æ²¡æœ‰å®¢æˆ·ç«¯ä½¿ç”¨æŸä¸ªé‡é‡çº§å¯¹è±¡æ—¶ç«‹å³é”€æ¯è¯¥å¯¹è±¡ã€‚\n\n##### ä»£ç æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\n\n**ä¼˜ç‚¹** ï¼š\n\n- ä½ å¯ä»¥åœ¨å®¢æˆ·ç«¯æ¯«æ— å¯Ÿè§‰çš„æƒ…å†µä¸‹æ§åˆ¶æœåŠ¡å¯¹è±¡ã€‚\n- å¦‚æœå®¢æˆ·ç«¯å¯¹æœåŠ¡å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸæ²¡æœ‰ç‰¹æ®Šè¦æ±‚ï¼Œä½ å¯ä»¥å¯¹ç”Ÿå‘½å‘¨æœŸè¿›è¡Œç®¡ç†ã€‚\n- å³ä½¿æœåŠ¡å¯¹è±¡è¿˜æœªå‡†å¤‡å¥½æˆ–ä¸å­˜åœ¨ï¼Œä»£ç†ä¹Ÿå¯ä»¥æ­£å¸¸å·¥ä½œã€‚\n- ç¬¦åˆOCP\n\n**ç¼ºç‚¹** :\n\n- ä»£ç å¯èƒ½ä¼šå˜å¾—å¤æ‚ï¼Œå› ä¸ºéœ€è¦æ–°å»ºè®¸å¤šç±»ã€‚\n- æœåŠ¡å“åº”å¯èƒ½ä¼šå»¶è¿Ÿã€‚\n\n### è¡Œä¸ºæ¨¡å¼(Behavioral Patterns)\n\n#### Chain of Responsibility(è´£ä»»é“¾æ¨¡å¼)\n\nè´£ä»»é“¾æ¨¡å¼æ˜¯ä¸€ç§è¡Œä¸ºè®¾è®¡æ¨¡å¼ï¼Œå…è®¸ä½ å°†è¯·æ±‚æ²¿ç€å¤„ç†è€…é“¾è¿›è¡Œå‘é€ã€‚æ”¶åˆ°è¯·æ±‚åï¼Œæ¯ä¸ªå¤„ç†è€…å‡å¯å¯¹è¯·æ±‚è¿›è¡Œå¤„ç†ï¼Œæˆ–å°†å…¶ä¼ é€’ç»™é“¾ä¸Šçš„ä¸‹ä¸ªå¤„ç†è€…ã€‚\n\n##### é—®é¢˜\n\nå‡å¦‚ä½ æ­£åœ¨å¼€å‘ä¸€ä¸ªåœ¨çº¿è®¢è´­ç³»ç»Ÿã€‚ä½ å¸Œæœ›å¯¹ç³»ç»Ÿè®¿é—®è¿›è¡Œé™åˆ¶ï¼Œåªå…è®¸è®¤è¯ç”¨æˆ·åˆ›å»ºè®¢å•ã€‚æ­¤å¤–ï¼Œæ‹¥æœ‰ç®¡ç†æƒé™çš„ç”¨æˆ·ä¹Ÿæ‹¥æœ‰æ‰€æœ‰è®¢å•çš„å®Œå…¨è®¿é—®æƒé™ã€‚ç®€å•è§„åˆ’åï¼Œä½ ä¼šæ„è¯†åˆ°è¿™äº›æ£€æŸ¥å¿…é¡»ä¾æ¬¡è¿›è¡Œã€‚åªè¦æ¥æ”¶åˆ°åŒ…å«ç”¨æˆ·å‡­æ®çš„è¯·æ±‚ï¼Œåº”ç”¨ç¨‹åºå°±å¯å°è¯•å¯¹è¿›å…¥ç³»ç»Ÿçš„ç”¨æˆ·è¿›è¡Œè®¤è¯ã€‚ä½†å¦‚æœç”±äºç”¨æˆ·å‡­æ®ä¸æ­£ç¡®è€Œå¯¼è‡´è®¤è¯å¤±è´¥ï¼Œé‚£å°±æ²¡æœ‰å¿…è¦è¿›è¡Œåç»­æ£€æŸ¥äº†ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220824130805.png)\n\nåœ¨æ¥ä¸‹æ¥çš„å‡ ä¸ªæœˆé‡Œï¼Œä½ å®ç°äº†åç»­çš„å‡ ä¸ªæ£€æŸ¥æ­¥éª¤ã€‚\n\n- ä¸€ä½åŒäº‹è®¤ä¸ºç›´æ¥å°†åŸå§‹æ•°æ®ä¼ é€’ç»™è®¢è´­ç³»ç»Ÿå­˜åœ¨å®‰å…¨éšæ‚£ã€‚å› æ­¤ä½ æ–°å¢äº†é¢å¤–çš„éªŒè¯æ­¥éª¤æ¥æ¸…ç†è¯·æ±‚ä¸­çš„æ•°æ®ã€‚\n- è¿‡äº†ä¸€æ®µæ—¶é—´ï¼Œæœ‰äººæ³¨æ„åˆ°ç³»ç»Ÿæ— æ³•æŠµå¾¡æš´åŠ›å¯†ç ç ´è§£æ–¹å¼çš„æ”»å‡»ã€‚ä¸ºäº†é˜²èŒƒè¿™ç§æƒ…å†µä½ ç«‹åˆ»æ·»åŠ äº†ä¸€ä¸ªæ£€æŸ¥æ­¥éª¤æ¥è¿‡æ»¤æ¥è‡ªåŒä¸€IPåœ°å€çš„é‡å¤é”™è¯¯è¯·æ±‚ã€‚\n- åˆæœ‰äººæè®®ä½ å¯ä»¥å¯¹åŒ…å«åŒæ ·æ•°æ®çš„é‡å¤è¯·æ±‚è¿”å›ç¼“å­˜ä¸­çš„ç»“æœï¼Œä»è€Œæé«˜ç³»ç»Ÿå“åº”é€Ÿåº¦ã€‚å› æ­¤ï¼Œä½ æ–°å¢äº†ä¸€ä¸ªæ£€æŸ¥æ­¥éª¤ï¼Œç¡®ä¿åªæœ‰æ²¡æœ‰æ»¡è¶³æ¡ä»¶çš„ç¼“å­˜ç»“æœæ—¶è¯·æ±‚æ‰èƒ½é€šè¿‡å¹¶è¢«å‘é€ç»™ç³»ç»Ÿã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220824130901.png)\n\n##### è§£å†³æ–¹æ¡ˆ\n\nä¸è®¸å¤šå…¶ä»–è¡Œä¸ºè®¾è®¡æ¨¡å¼ä¸€æ ·ï¼Œè´£ä»»é“¾ä¼šå°†ç‰¹å®šè¡Œä¸ºè½¬æ¢ä¸ºè¢«ç§°ä½œ**å¤„ç†è€…çš„ç‹¬ç«‹å¯¹è±¡**ã€‚åœ¨ä¸Šè¿°ç¤ºä¾‹ä¸­ï¼Œæ¯ä¸ªæ£€æŸ¥æ­¥éª¤éƒ½å¯è¢«æŠ½å–ä¸ºä»…æœ‰å•ä¸ªæ–¹æ³•çš„ç±»ï¼Œå¹¶æ‰§è¡Œæ£€æŸ¥æ“ä½œã€‚è¯·æ±‚åŠå…¶æ•°æ®åˆ™ä¼šè¢«ä½œä¸ºå‚æ•°ä¼ é€’ç»™è¯¥æ–¹æ³•ã€‚\næ¨¡å¼å»ºè®®ä½ **å°†è¿™äº›å¤„ç†è€…è¿æˆä¸€æ¡é“¾**ã€‚é“¾ä¸Šçš„æ¯ä¸ªå¤„ç†è€…éƒ½æœ‰ä¸€ä¸ªæˆå‘˜å˜é‡æ¥ä¿å­˜å¯¹äºä¸‹ä¸€å¤„ç†è€…çš„å¼•ç”¨ã€‚é™¤äº†å¤„ç†è¯·æ±‚å¤–ï¼Œå¤„ç†è€…è¿˜è´Ÿè´£æ²¿ç€é“¾ä¼ é€’è¯·æ±‚ã€‚è¯·æ±‚ä¼šåœ¨é“¾ä¸Šç§»åŠ¨ï¼Œç›´è‡³æ‰€æœ‰å¤„ç†è€…éƒ½æœ‰æœºä¼šå¯¹å…¶è¿›è¡Œå¤„ç†ã€‚æœ€é‡è¦çš„æ˜¯ï¼š**å¤„ç†è€…å¯ä»¥å†³å®šä¸å†æ²¿ç€é“¾ä¼ é€’è¯·æ±‚ï¼Œè¿™å¯é«˜æ•ˆåœ°å–æ¶ˆæ‰€æœ‰åç»­å¤„ç†æ­¥éª¤**ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220824131142.png)\n\nä¸è¿‡è¿˜æœ‰ä¸€ç§ç¨å¾®ä¸åŒçš„æ–¹å¼ ï¼ˆä¹Ÿæ˜¯æ›´ç»å…¸ä¸€ç§ï¼‰ï¼Œ é‚£å°±æ˜¯**å¤„ç†è€…æ¥æ”¶åˆ°è¯·æ±‚åè‡ªè¡Œå†³å®šæ˜¯å¦èƒ½å¤Ÿå¯¹å…¶è¿›è¡Œå¤„ç†**ã€‚å¦‚æœè‡ªå·±èƒ½å¤Ÿå¤„ç†ï¼Œå¤„ç†è€…å°±ä¸å†ç»§ç»­ä¼ é€’è¯·æ±‚ã€‚å› æ­¤åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ¯ä¸ªè¯·æ±‚è¦ä¹ˆæœ€å¤šæœ‰ä¸€ä¸ªå¤„ç†è€…å¯¹å…¶è¿›è¡Œå¤„ç†ï¼Œè¦ä¹ˆæ²¡æœ‰ä»»ä½•å¤„ç†è€…å¯¹å…¶è¿›è¡Œå¤„ç†ã€‚åœ¨å¤„ç†å›¾å½¢ç”¨æˆ·ç•Œé¢å…ƒç´ æ ˆä¸­çš„äº‹ä»¶æ—¶ï¼Œè¿™ç§æ–¹å¼éå¸¸å¸¸è§ã€‚\næ‰€æœ‰**å¤„ç†è€…ç±»å‡å®ç°åŒä¸€æ¥å£**æ˜¯å…³é”®æ‰€åœ¨ã€‚æ¯ä¸ªå…·ä½“å¤„ç†è€…ä»…å…³å¿ƒä¸‹ä¸€ä¸ªåŒ…å«exeÂ­cuteæ‰§è¡Œæ–¹æ³•çš„å¤„ç†è€…ã€‚è¿™æ ·ä¸€æ¥ï¼Œä½ å°±å¯ä»¥åœ¨è¿è¡Œæ—¶ä½¿ç”¨ä¸åŒçš„å¤„ç†è€…æ¥åˆ›å»ºé“¾ï¼Œè€Œæ— éœ€å°†ç›¸å…³ä»£ç ä¸å¤„ç†è€…çš„å…·ä½“ç±»è¿›è¡Œè€¦åˆã€‚\n\n##### è´£ä»»é“¾æ¨¡å¼ç»“æ„\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220824131355.png)\n\n1.**å¤„ç†è€…(HanÂ­dler)** å£°æ˜äº†æ‰€æœ‰å…·ä½“å¤„ç†è€…çš„é€šç”¨æ¥å£ã€‚è¯¥æ¥å£é€šå¸¸ä»…åŒ…å«å•ä¸ªæ–¹æ³•ç”¨äºè¯·æ±‚å¤„ç†ï¼Œ ä½†æœ‰æ—¶å…¶è¿˜ä¼šåŒ…å«ä¸€ä¸ªè®¾ç½®é“¾ä¸Šä¸‹ä¸ªå¤„ç†è€…çš„æ–¹æ³•ã€‚\n\n2.**åŸºç¡€å¤„ç†è€…(Base HanÂ­dler)** æ˜¯ä¸€ä¸ªå¯é€‰çš„ç±»ï¼Œä½ å¯ä»¥å°†æ‰€æœ‰å¤„ç†è€…å…±ç”¨çš„æ ·æœ¬ä»£ç æ”¾ç½®åœ¨å…¶ä¸­ã€‚\né€šå¸¸æƒ…å†µä¸‹ï¼Œè¯¥ç±»ä¸­å®šä¹‰äº†ä¸€ä¸ªä¿å­˜å¯¹äºä¸‹ä¸ªå¤„ç†è€…å¼•ç”¨çš„æˆå‘˜å˜é‡ã€‚å®¢æˆ·ç«¯å¯é€šè¿‡å°†å¤„ç†è€…ä¼ é€’ç»™ä¸Šä¸ªå¤„ç†è€…çš„æ„é€ å‡½æ•°æˆ–è®¾å®šæ–¹æ³•æ¥åˆ›å»ºé“¾ã€‚è¯¥ç±»è¿˜å¯ä»¥å®ç°é»˜è®¤çš„å¤„ç†è¡Œä¸ºï¼šç¡®å®šä¸‹ä¸ªå¤„ç†è€…å­˜åœ¨åå†å°†è¯·æ±‚ä¼ é€’ç»™å®ƒã€‚\n\n3.**å…·ä½“å¤„ç†è€…(ConÂ­crete HanÂ­dlers)** åŒ…å«å¤„ç†è¯·æ±‚çš„å®é™…ä»£ç ã€‚æ¯ä¸ªå¤„ç†è€…æ¥æ”¶åˆ°è¯·æ±‚åï¼Œéƒ½å¿…é¡»å†³å®šæ˜¯å¦è¿›è¡Œå¤„ç†ï¼Œä»¥åŠæ˜¯å¦æ²¿ç€é“¾ä¼ é€’è¯·æ±‚ã€‚\nå¤„ç†è€…é€šå¸¸æ˜¯ç‹¬ç«‹ä¸”ä¸å¯å˜çš„ï¼Œéœ€è¦é€šè¿‡æ„é€ å‡½æ•°ä¸€æ¬¡æ€§åœ°è·å¾—æ‰€æœ‰å¿…è¦åœ°æ•°æ®ã€‚\n\n4.**å®¢æˆ·ç«¯(Client)** å¯æ ¹æ®ç¨‹åºé€»è¾‘ä¸€æ¬¡æ€§æˆ–è€…åŠ¨æ€åœ°ç”Ÿæˆé“¾ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œè¯·æ±‚å¯å‘é€ç»™é“¾ä¸Šçš„ä»»æ„ä¸€ä¸ªå¤„ç†è€…ï¼Œè€Œéå¿…é¡»æ˜¯ç¬¬ä¸€ä¸ªå¤„ç†è€…ã€‚\n\n##### ä¼ªä»£ç \n\nè´£ä»»é“¾åœ¨c#ç¨‹åºä¸­å¹¶ä¸å¸¸è§ï¼Œå› ä¸ºå®ƒä»…åœ¨ä»£ç ä¸å¯¹è±¡é“¾æ‰“äº¤é“æ—¶æ‰èƒ½å‘æŒ¥ä½œç”¨ã€‚ä½†æ˜¯ä¸€æ—¦ç”¨åˆ°è¿™ç§é“¾å¼è¯·æ±‚ï¼Œæ¯”å¦‚æŒ‰é¡ºåºåœ°éªŒè¯ç­”æ¡ˆï¼ŒéªŒè¯ä¿¡æ¯è¿˜æ˜¯æœ‰ç”¨çš„ã€‚\nåœ¨ä¸‹æ®µä»£ç ä¸­ï¼Œæˆ‘ä»¬ä¼šç»™ä¸€æ‰¹é£Ÿç‰©ï¼Œè®©æ¯ä¸ªé£Ÿç‰©åœ¨è´£ä»»é“¾ä¸Šèµ°å®Œï¼Œå¦‚æœæœ‰åŠ¨ç‰©è¦äº†ï¼Œåç»­çš„é“¾å°±ä¼šåœæ­¢ï¼Œå¦‚æœä¼šä¸€ç›´æ²¡æœ‰åŠ¨ç‰©è¦ï¼Œé‚£å°±ä¼šè¿”å› \"{food} was left untouched\"ã€‚é‚£ä¹ˆï¼Œå¦‚æœæ˜¯ä¿¡æ¯éªŒè¯çš„è¯ï¼ŒåŒç†ï¼Œæˆ‘ä»¬è®©ä¸€ä¸ªä¿¡æ¯åœ¨é“¾ä¸Šèµ°ï¼Œå¦‚æœä¸­é—´æœ‰ä¸€æ­¥é”™äº†ï¼Œé©¬ä¸Šåœæ­¢ï¼Œåªæœ‰å…¨éƒ¨ç¬¦åˆï¼Œæ‰ä¼šæŠ¥å‘Šä¿¡æ¯éªŒè¯æˆåŠŸã€‚\n\n```csharp\n//Handler æ¥å£å£°æ˜äº†å»ºç«‹å¤„ç†è€…é“¾çš„çš„æ–¹æ³•ï¼Œä¹Ÿå£°æ˜äº†æ‰§è¡Œè¯·æ±‚çš„æ–¹æ³•\npublic interface IHandler\n{\n    IHandler SetNext(IHandler handler);\n\n    object Handle(object request);\n}\n//åŸºç¡€å¤„ç†è€…ç±»\npublic abstract class AbstractHandler : IHandler\n{\n    private IHandler _nextHandler;\n    \n    public IHandler SetNext(IHandler handler)\n    {\n        this._nextHandler = handler;\n\n        return handler;\n    }\n\n    public virtual object Handle(object request)\n    {\n        if (this._nextHandler != null)\n        {\n            return this._nextHandler.Handle(request);\n        }\n        else\n        {\n            return null;\n        }\n    }\n}\n//å…·ä½“å¤„ç†è€…ç±»\nclass MonkeyHandler : AbstractHandler\n{\n    public override object Handle(object request)\n    {\n        if ((request as string) == \"Banana\")\n        {\n            return $\"Monkey: I'll eat the {request.ToString()}.\\n\";\n        }\n        else\n        {\n            return base.Handle(request);\n        }\n    }\n}\nclass SquirrelHandler : AbstractHandler\n{\n    public override object Handle(object request)\n    {\n        if (request.ToString() == \"Nut\")\n        {\n            return $\"Squirrel: I'll eat the {request.ToString()}.\\n\";\n        }\n        else\n        {\n            return base.Handle(request);\n        }\n    }\n}\nclass DogHandler : AbstractHandler\n{\n    public override object Handle(object request)\n    {\n        if (request.ToString() == \"MeatBall\")\n        {\n            return $\"Dog: I'll eat the {request.ToString()}.\\n\";\n        }\n        else\n        {\n            return base.Handle(request);\n        }\n    }\n}\npublic class Client\n{\n    public static void ClientCode(AbstractHandler handler)\n    {\n        foreach (var food in new List<string> { \"Nut\", \"Banana\", \"Cup of coffee\" })\n        {\n            Console.WriteLine($\"Client: Who wants a {food}?\");\n\n            var result = handler.Handle(food);\n\n            if (result != null)\n            {\n                Console.Write($\"   {result}\");\n            }\n            else\n            {\n                Console.WriteLine($\"   {food} was left untouched.\");\n            }\n        }\n    }\n}\n\n//å®¢æˆ·ç«¯ä»£ç \nvar monkey = new MonkeyHandler();\nvar squirrel = new SquirrelHandler();\nvar dog = new DogHandler();\n\n//è®¾ç½®è´£ä»»é“¾\nmonkey.setNext(squirrel).setNext(dog);\n\nConsole.WriteLine(\"Chain: Monkey > Squirrel > Dog\\n\");\nClient.ClientCode(monkey);\nConsole.WriteLine();\n\nConsole.WriteLine(\"Subchain: Squirrel > Dog\\n\");\nClient.ClientCode(squirrel);\n\n/*è¿è¡Œç»“æœ\nChain: Monkey > Squirrel > Dog\n\nClient: Who wants a Nut?\n   Squirrel: I'll eat the Nut.\nClient: Who wants a Banana?\n   Monkey: I'll eat the Banana.\nClient: Who wants a Cup of coffee?\n   Cup of coffee was left untouched.\n\nSubchain: Squirrel > Dog\n\nClient: Who wants a Nut?\n   Squirrel: I'll eat the Nut.\nClient: Who wants a Banana?\n   Banana was left untouched.\nClient: Who wants a Cup of coffee?\n   Cup of coffee was left untouched.\n*/\n```\n\n##### é€‚åˆè´£ä»»é“¾æ¨¡å¼çš„åœ°æ–¹\n\n- å½“ç¨‹åºéœ€è¦ä½¿ç”¨ä¸åŒæ–¹å¼å¤„ç†ä¸åŒç§ç±»è¯·æ±‚ï¼Œè€Œä¸”è¯·æ±‚ç±»å‹å’Œé¡ºåºé¢„å…ˆæœªçŸ¥æ—¶ï¼Œå¯ä»¥ä½¿ç”¨è´£ä»»é“¾æ¨¡å¼ã€‚\n- å½“å¿…é¡»æŒ‰é¡ºåºæ‰§è¡Œå¤šä¸ªå¤„ç†è€…æ—¶ï¼Œå¯ä»¥ä½¿ç”¨è¯¥æ¨¡å¼ã€‚\n- å¦‚æœæ‰€éœ€å¤„ç†è€…åŠå…¶é¡ºåºå¿…é¡»åœ¨è¿è¡Œæ—¶è¿›è¡Œæ”¹å˜ï¼Œ å¯ä»¥ä½¿ç”¨è´£ä»»é“¾æ¨¡å¼ã€‚\n\n##### è´£ä»»é“¾æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\n\n**ä¼˜ç‚¹** ï¼š\n\n- ä½ å¯ä»¥æ§åˆ¶è¯·æ±‚å¤„ç†çš„é¡ºåºã€‚\n- ç¬¦åˆSRP\n- ç¬¦åˆOCP\n\n**ç¼ºç‚¹** ï¼š\n\n- éƒ¨åˆ†è¯·æ±‚å¯èƒ½æœªè¢«å¤„ç†ã€‚\n\n#### Command(å‘½ä»¤æ¨¡å¼)\n\nå‘½ä»¤æ¨¡å¼æ˜¯ä¸€ç§è¡Œä¸ºè®¾è®¡æ¨¡å¼ï¼Œå®ƒå¯å°†è¯·æ±‚è½¬æ¢ä¸ºä¸€ä¸ªåŒ…å«ä¸è¯·æ±‚ç›¸å…³çš„æ‰€æœ‰ä¿¡æ¯çš„ç‹¬ç«‹å¯¹è±¡ã€‚è¯¥è½¬æ¢è®©ä½ èƒ½æ ¹æ®ä¸åŒçš„è¯·æ±‚å°†æ–¹æ³•å‚æ•°åŒ–ã€å»¶è¿Ÿè¯·æ±‚æ‰§è¡Œæˆ–å°†å…¶æ”¾å…¥é˜Ÿåˆ—ä¸­ï¼Œä¸”èƒ½å®ç°å¯æ’¤é”€æ“ä½œã€‚\n\n##### é—®é¢˜\n\nå‡å¦‚ä½ æ­£åœ¨å¼€å‘ä¸€æ¬¾æ–°çš„æ–‡å­—ç¼–è¾‘å™¨ï¼Œå½“å‰çš„ä»»åŠ¡æ˜¯åˆ›å»ºä¸€ä¸ªåŒ…å«å¤šä¸ªæŒ‰é’®çš„å·¥å…·æ ï¼Œå¹¶è®©æ¯ä¸ªæŒ‰é’®å¯¹åº”ç¼–è¾‘å™¨çš„ä¸åŒæ“ä½œã€‚ä½ åˆ›å»ºäº†ä¸€ä¸ªéå¸¸ç®€æ´çš„æŒ‰é’®ç±»ï¼Œå®ƒä¸ä»…å¯ç”¨äºç”Ÿæˆå·¥å…·æ ä¸Šçš„æŒ‰é’®ï¼Œè¿˜å¯ç”¨äºç”Ÿæˆå„ç§å¯¹è¯æ¡†çš„é€šç”¨æŒ‰é’®ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220824135308.png)\n\nå°½ç®¡æ‰€æœ‰æŒ‰é’®çœ‹ä¸Šå»éƒ½å¾ˆç›¸ä¼¼ï¼Œä½†å®ƒä»¬å¯ä»¥å®Œæˆä¸åŒçš„æ“ä½œï¼ˆæ‰“å¼€ã€ä¿å­˜ã€æ‰“å°å’Œåº”ç”¨ç­‰ï¼‰ã€‚ä½ ä¼šåœ¨å“ªé‡Œæ”¾ç½®è¿™äº›æŒ‰é’®çš„ç‚¹å‡»å¤„ç†ä»£ç å‘¢ï¼Ÿæœ€ç®€å•çš„è§£å†³æ–¹æ¡ˆæ˜¯åœ¨ä½¿ç”¨æŒ‰é’®çš„æ¯ä¸ªåœ°æ–¹éƒ½åˆ›å»ºå¤§é‡çš„å­ç±»ã€‚è¿™äº›å­ç±»ä¸­åŒ…å«æŒ‰é’®ç‚¹å‡»åå¿…é¡»æ‰§è¡Œçš„ä»£ç ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220824135352.png)\n\nä½ å¾ˆå¿«å°±æ„è¯†åˆ°è¿™ç§æ–¹å¼æœ‰ä¸¥é‡ç¼ºé™·ã€‚é¦–å…ˆï¼Œä½ åˆ›å»ºäº†å¤§é‡çš„å­ç±»ï¼Œå½“**æ¯æ¬¡ä¿®æ”¹åŸºç±»æŒ‰é’®æ—¶,ä½ éƒ½æœ‰å¯èƒ½éœ€è¦ä¿®æ”¹æ‰€æœ‰å­ç±»çš„ä»£ç **ã€‚ç®€å•æ¥è¯´ï¼ŒGUIä»£ç ä»¥ä¸€ç§æ‹™åŠ£çš„æ–¹å¼ä¾èµ–äºä¸šåŠ¡é€»è¾‘ä¸­çš„ä¸ç¨³å®šä»£ç ã€‚\n\nè¿˜æœ‰ä¸€ä¸ªéƒ¨åˆ†æœ€éš¾åŠã€‚å¤åˆ¶/ç²˜è´´æ–‡å­—ç­‰æ“ä½œå¯èƒ½ä¼šåœ¨å¤šä¸ªåœ°æ–¹è¢«è°ƒç”¨ã€‚ä¾‹å¦‚ç”¨æˆ·å¯ä»¥ç‚¹å‡»å·¥å…·æ ä¸Šå°å°çš„ â€œå¤åˆ¶â€ æŒ‰é’®ï¼Œæˆ–è€…é€šè¿‡ä¸Šä¸‹æ–‡èœå•å¤åˆ¶ä¸€äº›å†…å®¹ï¼Œåˆæˆ–è€…ç›´æ¥ä½¿ç”¨é”®ç›˜ä¸Šçš„ Ctrl+C ã€‚\n\n##### è§£å†³æ–¹æ¡ˆ\n\nä¼˜ç§€çš„è½¯ä»¶è®¾è®¡é€šå¸¸ä¼šå°†å…³æ³¨ç‚¹è¿›è¡Œåˆ†ç¦»ï¼Œè€Œè¿™å¾€å¾€ä¼šå¯¼è‡´è½¯ä»¶çš„åˆ†å±‚ã€‚æœ€å¸¸è§çš„ä¾‹å­ï¼šä¸€å±‚è´Ÿè´£ç”¨æˆ·å›¾åƒç•Œé¢ï¼›å¦ä¸€å±‚è´Ÿè´£ä¸šåŠ¡é€»è¾‘ã€‚GUI å±‚è´Ÿè´£åœ¨å±å¹•ä¸Šæ¸²æŸ“ç¾è§‚çš„å›¾å½¢ï¼Œæ•è·æ‰€æœ‰è¾“å…¥å¹¶æ˜¾ç¤ºç”¨æˆ·å’Œç¨‹åºå·¥ä½œçš„ç»“æœã€‚å½“éœ€è¦å®Œæˆä¸€äº›é‡è¦å†…å®¹æ—¶ï¼ˆæ¯”å¦‚è®¡ç®—æœˆçƒè½¨é“æˆ–æ’°å†™å¹´åº¦æŠ¥å‘Šï¼‰ï¼ŒGUI å±‚åˆ™ä¼šå°†å·¥ä½œå§”æ´¾ç»™ä¸šåŠ¡é€»è¾‘åº•å±‚ã€‚\nè¿™åœ¨ä»£ç ä¸­çœ‹ä¸Šå»å°±åƒè¿™æ ·ï¼šä¸€ä¸ª GUI å¯¹è±¡ä¼ é€’ä¸€äº›å‚æ•°æ¥è°ƒç”¨ä¸€ä¸ªä¸šåŠ¡é€»è¾‘å¯¹è±¡ã€‚è¿™ä¸ªè¿‡ç¨‹é€šå¸¸è¢«æè¿°ä¸ºä¸€ä¸ªå¯¹è±¡å‘é€è¯·æ±‚ç»™å¦ä¸€ä¸ªå¯¹è±¡ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220824135547.png)\n\nå‘½ä»¤æ¨¡å¼**å»ºè®® GUI å¯¹è±¡ä¸ç›´æ¥æäº¤è¿™äº›è¯·æ±‚**ã€‚ä½ åº”è¯¥å°†**è¯·æ±‚çš„æ‰€æœ‰ç»†èŠ‚** ï¼ˆä¾‹å¦‚è°ƒç”¨çš„å¯¹è±¡ã€ æ–¹æ³•åç§°å’Œå‚æ•°åˆ—è¡¨ï¼‰ **æŠ½å–å‡ºæ¥ç»„æˆå‘½ä»¤ç±»**ï¼Œè¯¥ç±»ä¸­ä»…åŒ…å«ä¸€ä¸ªç”¨äºè§¦å‘è¯·æ±‚çš„æ–¹æ³•ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220824135629.png)\n\nä¸‹ä¸€æ­¥æ˜¯è®©**æ‰€æœ‰å‘½ä»¤å®ç°ç›¸åŒçš„æ¥å£**ã€‚è¯¥æ¥å£é€šå¸¸åªæœ‰ä¸€ä¸ªæ²¡æœ‰ä»»ä½•å‚æ•°çš„æ‰§è¡Œæ–¹æ³•ï¼Œè®©ä½ èƒ½åœ¨ä¸å’Œå…·ä½“å‘½ä»¤ç±»è€¦åˆçš„æƒ…å†µä¸‹ä½¿ç”¨åŒä¸€è¯·æ±‚å‘é€è€…æ‰§è¡Œä¸åŒå‘½ä»¤ã€‚æ­¤å¤–è¿˜æœ‰é¢å¤–çš„å¥½å¤„ï¼Œç°åœ¨ä½ èƒ½åœ¨è¿è¡Œæ—¶åˆ‡æ¢è¿æ¥è‡³å‘é€è€…çš„å‘½ä»¤å¯¹è±¡ï¼Œä»¥æ­¤æ”¹å˜å‘é€è€…çš„è¡Œä¸ºã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220824135705.png)\n\n##### å‘½ä»¤æ¨¡å¼ç»“æ„\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220824135728.png)\n\n1.**å‘é€è€…(Sender)â€”â€”äº¦ç§° â€œè§¦å‘è€…(InvokÂ­er)â€** ç±»è´Ÿè´£å¯¹è¯·æ±‚è¿›è¡Œåˆå§‹åŒ–ï¼Œå…¶ä¸­å¿…é¡»åŒ…å«ä¸€ä¸ªæˆå‘˜å˜é‡æ¥å­˜å‚¨å¯¹äºå‘½ä»¤å¯¹è±¡çš„å¼•ç”¨ã€‚å‘é€è€…è§¦å‘å‘½ä»¤ï¼Œè€Œä¸å‘æ¥æ”¶è€…ç›´æ¥å‘é€è¯·æ±‚ã€‚æ³¨æ„ï¼Œå‘é€è€…å¹¶ä¸è´Ÿè´£åˆ›å»ºå‘½ä»¤å¯¹è±¡ï¼šå®ƒé€šå¸¸ä¼šé€šè¿‡æ„é€ å‡½æ•°ä»å®¢æˆ·ç«¯å¤„è·å¾—é¢„å…ˆç”Ÿæˆçš„å‘½ä»¤ã€‚\n\n2.**å‘½ä»¤(ComÂ­mand)** æ¥å£é€šå¸¸ä»…å£°æ˜ä¸€ä¸ªæ‰§è¡Œå‘½ä»¤çš„æ–¹æ³•ã€‚\n\n3.**å…·ä½“å‘½ä»¤(ConÂ­crete ComÂ­mands)** ä¼šå®ç°å„ç§ç±»å‹çš„è¯·æ±‚ã€‚å…·ä½“å‘½ä»¤è‡ªèº«å¹¶ä¸å®Œæˆå·¥ä½œï¼Œè€Œæ˜¯ä¼šå°†è°ƒç”¨å§”æ´¾ç»™ä¸€ä¸ªä¸šåŠ¡é€»è¾‘å¯¹è±¡ã€‚ä½†ä¸ºäº†ç®€åŒ–ä»£ç ï¼Œè¿™äº›ç±»å¯ä»¥è¿›è¡Œåˆå¹¶ã€‚\næ¥æ”¶å¯¹è±¡æ‰§è¡Œæ–¹æ³•æ‰€éœ€çš„å‚æ•°å¯ä»¥å£°æ˜ä¸ºå…·ä½“å‘½ä»¤çš„æˆå‘˜å˜é‡ã€‚ä½ å¯ä»¥å°†å‘½ä»¤å¯¹è±¡è®¾ä¸ºä¸å¯å˜ï¼Œä»…å…è®¸é€šè¿‡æ„é€ å‡½æ•°å¯¹è¿™äº›æˆå‘˜å˜é‡è¿›è¡Œåˆå§‹åŒ–ã€‚\n\n4.**æ¥æ”¶è€…(ReceivÂ­er)** ç±»åŒ…å«éƒ¨åˆ†ä¸šåŠ¡é€»è¾‘ã€‚å‡ ä¹ä»»ä½•å¯¹è±¡éƒ½å¯ä»¥ä½œä¸ºæ¥æ”¶è€…ã€‚ç»å¤§éƒ¨åˆ†å‘½ä»¤åªå¤„ç†å¦‚ä½•å°†è¯·æ±‚ä¼ é€’åˆ°æ¥æ”¶è€…çš„ç»†èŠ‚ï¼Œæ¥æ”¶è€…è‡ªå·±ä¼šå®Œæˆå®é™…çš„å·¥ä½œã€‚\n\n5.**å®¢æˆ·ç«¯(Client)** ä¼šåˆ›å»ºå¹¶é…ç½®å…·ä½“å‘½ä»¤å¯¹è±¡ã€‚ å®¢æˆ·ç«¯å¿…é¡»å°†åŒ…æ‹¬æ¥æ”¶è€…å®ä½“åœ¨å†…çš„æ‰€æœ‰è¯·æ±‚å‚æ•°ä¼ é€’ç»™å‘½ä»¤çš„æ„é€ å‡½æ•°ã€‚æ­¤åï¼Œç”Ÿæˆçš„å‘½ä»¤å°±å¯ä»¥ä¸ä¸€ä¸ªæˆ–å¤šä¸ªå‘é€è€…ç›¸å…³è”äº†ã€‚\n\n##### ä¼ªä»£ç \n\nå‘½ä»¤æ¨¡å¼ååˆ†å¸¸è§ã€‚å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œå®ƒè¢«ç”¨äºä»£æ›¿åŒ…å«è¡Œä¸ºçš„å‚æ•°åŒ– UI å…ƒç´ çš„å›è°ƒå‡½æ•°ï¼Œæ­¤å¤–è¿˜è¢«ç”¨äºå¯¹ä»»åŠ¡è¿›è¡Œæ’åºå’Œè®°å½•æ“ä½œå†å²è®°å½•ç­‰ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220824141646.png)\n\n```csharp\n//å‘½ä»¤åŸºç±»\npublic abstract class Command\n{\n    protected Application app;\n    protected Editor editor;\n    protected text backup;\n\n    public Command(Application app,editor Editor)\n    {\n        this.app = app;\n        this.editor = editor;\n    }\n\n    //å¤‡ä»½ç¼–è¾‘å™¨çŠ¶æ€\n    public void saveBackup()\n    {\n        backup = editor.text;\n    }\n\n    //æ¢å¤ç¼–è¾‘å™¨çŠ¶æ€\n    public void undo()\n    {\n        editor.text = backup;\n    }\n\n    // æ‰§è¡Œæ–¹æ³•è¢«å£°æ˜ä¸ºæŠ½è±¡ä»¥å¼ºåˆ¶æ‰€æœ‰å…·ä½“å‘½ä»¤æä¾›è‡ªå·±çš„å®ç°ã€‚è¯¥æ–¹æ³•å¿…é¡»æ ¹\n    // æ®å‘½ä»¤æ˜¯å¦æ›´æ”¹ç¼–è¾‘å™¨çš„çŠ¶æ€è¿”å› true æˆ– falseã€‚\n    public abstract bool execute();\n}\n//å…·ä½“å‘½ä»¤\npublic class CopyCommand : Command\n{\n    // å¤åˆ¶å‘½ä»¤ä¸ä¼šè¢«ä¿å­˜åˆ°å†å²è®°å½•ä¸­ï¼Œå› ä¸ºå®ƒæ²¡æœ‰æ”¹å˜ç¼–è¾‘å™¨çš„çŠ¶æ€ã€‚\n    public override bool execute()\n    {\n        app.clipboard = editor.getSelection();\n        return false;\n    }\n}\npublic class CutCommand : Command\n{\n    // å‰ªåˆ‡å‘½ä»¤æ”¹å˜äº†ç¼–è¾‘å™¨çš„çŠ¶æ€ï¼Œå› æ­¤å®ƒå¿…é¡»è¢«ä¿å­˜åˆ°å†å²è®°å½•ä¸­ã€‚åªè¦æ–¹æ³•\n    // è¿”å› trueï¼Œå®ƒå°±ä¼šè¢«ä¿å­˜ã€‚\n    public override bool execute()\n    {\n        saveBackup();\n        app.clipboard = editor.getSelection();\n        editor.deleteSelection();\n        return true;\n    }\n}\npublic class CutCommand : Command\n{\n    //ç²˜è´´å‘½ä»¤æ”¹å˜äº†ç¼–è¾‘å™¨çš„çŠ¶æ€\n    // è¿”å› trueï¼Œå®ƒå°±ä¼šè¢«ä¿å­˜ã€‚\n    public override bool execute()\n    {\n        saveBackup();\n        editor.replaceSelection(app.clipboard);\n        return true;\n    }\n}\npublic class UndoCommand : Command\n{\n    public override bool execute()\n    {\n        app.undo();\n        return false;\n    }\n}\n//å…¨å±€å‘½ä»¤å†å²è®°å½•å°±æ˜¯ä¸€ä¸ªå †æ ˆ\npublic class CommandHistory\n{\n    private Command[] history;\n\n    public void push(Command c)\n    {\n        // å°†å‘½ä»¤å‹å…¥å†å²è®°å½•æ•°ç»„çš„æœ«å°¾ã€‚\n    }\n    public Command pop(Command c)\n    {\n        // ä»å†å²è®°å½•ä¸­å–å‡ºæœ€è¿‘çš„å‘½ä»¤ã€‚\n    }\n}\n// ç¼–è¾‘å™¨ç±»åŒ…å«å®é™…çš„æ–‡æœ¬ç¼–è¾‘æ“ä½œã€‚å®ƒä¼šæ‹…ä»»æ¥æ”¶è€…çš„è§’è‰²ï¼šæœ€åæ‰€æœ‰å‘½ä»¤éƒ½ä¼š\n// å°†æ‰§è¡Œå·¥ä½œå§”æ´¾ç»™ç¼–è¾‘å™¨çš„æ–¹æ³•ã€‚\npublic class Editor\n{\n    public string text;\n\n    public string getSlection()\n    {\n        // è¿”å›é€‰ä¸­çš„æ–‡å­—ã€‚\n    }\n\n    public void deleteSelction()\n    {\n        // åˆ é™¤é€‰ä¸­çš„æ–‡å­—ã€‚\n    }\n\n    public void replaceSelection(string text)\n    {\n        // åœ¨å½“å‰ä½ç½®æ’å…¥å‰ªè´´æ¿ä¸­çš„å†…å®¹ã€‚\n    }\n}\n// åº”ç”¨ç¨‹åºç±»ä¼šè®¾ç½®å¯¹è±¡ä¹‹é—´çš„å…³ç³»ã€‚å®ƒä¼šæ‹…ä»»å‘é€è€…çš„è§’è‰²ï¼šå½“éœ€è¦å®ŒæˆæŸäº›å·¥\n// ä½œæ—¶ï¼Œå®ƒä¼šåˆ›å»ºå¹¶æ‰§è¡Œä¸€ä¸ªå‘½ä»¤å¯¹è±¡ã€‚\npublic class Application\n{\n    public string clipboard;\n    public Editors[] editors;\n    public Editor activeEditor;\n    public CommandHistory histroy;\n\n    //åˆ†å‘UIçš„å‘½ä»¤\n    public void createUI() \n    {\n        //å¤åˆ¶æ“ä½œ\n        copy = function() { executeCommand(\n            new CopyCommand(this, activeEditor)) };\n        copyButton.setCommand(copy);\n        shortcuts.onKeyPress(\"Ctrl+C\", copy);\n\n        //å‰ªåˆ‡æ“ä½œ\n        cut = function() { executeCommand(\n            new CutCommand(this, activeEditor)) };\n        cutButton.setCommand(cut);\n        shortcuts.onKeyPress(\"Ctrl+X\", cut);\n\n        //ç²˜è´´æ“ä½œ\n        paste = function() { executeCommand(\n            new PasteCommand(this, activeEditor)) };\n        pasteButton.setCommand(paste);\n        shortcuts.onKeyPress(\"Ctrl+V\", paste);\n\n        //æ’¤é”€æ“ä½œ\n        undo = function() { executeCommand(\n            new UndoCommand(this, activeEditor)) };\n        undoButton.setCommand(undo);\n        shortcuts.onKeyPress(\"Ctrl+Z\", undo);\n    } \n\n    // æ‰§è¡Œä¸€ä¸ªå‘½ä»¤å¹¶æ£€æŸ¥å®ƒæ˜¯å¦éœ€è¦è¢«æ·»åŠ åˆ°å†å²è®°å½•ä¸­ã€‚\n    public void executeCommand(Command command)\n    {\n        if(command.execute)\n        {\n            history.push(command);\n        }\n    }\n\n    // ä»å†å²è®°å½•ä¸­å–å‡ºæœ€è¿‘çš„å‘½ä»¤å¹¶è¿è¡Œå…¶ undoï¼ˆæ’¤é”€ï¼‰æ–¹æ³•ã€‚è¯·æ³¨æ„ï¼Œä½ å¹¶\n    // ä¸çŸ¥æ™“è¯¥å‘½ä»¤æ‰€å±çš„ç±»ã€‚ä½†æ˜¯æˆ‘ä»¬ä¸éœ€è¦çŸ¥æ™“ï¼Œå› ä¸ºå‘½ä»¤è‡ªå·±çŸ¥é“å¦‚ä½•æ’¤é”€\n    // å…¶åŠ¨ä½œã€‚\n    public void undo()\n    {\n        Command command = history.pop();\n        if(command != null) \n        {\n            command.undo();\n        }\n    }\n}\n```\n\n##### é€‚åˆå‘½ä»¤æ¨¡å¼çš„åœ°æ–¹\n\n- å¦‚æœä½ éœ€è¦é€šè¿‡æ“ä½œæ¥å‚æ•°åŒ–å¯¹è±¡ï¼Œå¯ä½¿ç”¨å‘½ä»¤æ¨¡å¼ã€‚\n- å¦‚æœä½ æƒ³è¦å°†æ“ä½œæ”¾å…¥é˜Ÿåˆ—ä¸­ã€æ“ä½œçš„æ‰§è¡Œæˆ–è€…è¿œç¨‹æ‰§è¡Œæ“ä½œï¼Œå¯ä½¿ç”¨å‘½ä»¤æ¨¡å¼ã€‚\n- å¦‚æœä½ æƒ³è¦å®ç°æ“ä½œå›æ»šåŠŸèƒ½ï¼Œå¯ä½¿ç”¨å‘½ä»¤æ¨¡å¼ã€‚ä¸ºäº†èƒ½å¤Ÿå›æ»šæ“ä½œï¼Œä½ éœ€è¦å®ç°å·²æ‰§è¡Œæ“ä½œçš„å†å²è®°å½•åŠŸèƒ½ã€‚å‘½ä»¤å†å²è®°å½•æ˜¯ä¸€ç§åŒ…å«æ‰€æœ‰å·²æ‰§è¡Œå‘½ä»¤å¯¹è±¡åŠå…¶ç›¸å…³ç¨‹åºçŠ¶æ€å¤‡ä»½çš„æ ˆç»“æ„ã€‚è¿™ç§æ–¹æ³•æœ‰ä¸¤ä¸ªç¼ºç‚¹ã€‚é¦–å…ˆï¼Œç¨‹åºçŠ¶æ€çš„ä¿å­˜åŠŸèƒ½å¹¶ä¸å®¹æ˜“å®ç°ï¼Œå› ä¸ºéƒ¨åˆ†çŠ¶æ€å¯èƒ½æ˜¯ç§æœ‰çš„ã€‚ä½ å¯ä»¥ä½¿ç”¨**å¤‡å¿˜å½•æ¨¡å¼**æ¥åœ¨ä¸€å®šç¨‹åº¦ä¸Šè§£å†³è¿™ä¸ªé—®é¢˜ã€‚å…¶æ¬¡ï¼Œå¤‡ä»½çŠ¶æ€å¯èƒ½ä¼šå ç”¨å¤§é‡å†…å­˜ã€‚å› æ­¤ï¼Œæœ‰æ—¶ä½ éœ€è¦å€ŸåŠ©å¦ä¸€ç§å®ç°æ–¹å¼ï¼šå‘½ä»¤æ— éœ€æ¢å¤åŸå§‹çŠ¶æ€ï¼Œè€Œæ˜¯æ‰§è¡Œåå‘æ“ä½œã€‚åå‘æ“ä½œä¹Ÿæœ‰ä»£ä»·ï¼šå®ƒå¯èƒ½ä¼šå¾ˆéš¾ç”šè‡³æ˜¯æ— æ³•å®ç°ã€‚\n\n##### å‘½ä»¤æ¨¡å¼çš„ä¼˜ç¼ºç‚¹ \n\n**ä¼˜ç‚¹** :\n\n- ç¬¦åˆSRP\n- ç¬¦åˆOCP\n- ä½ å¯ä»¥å®ç°æ’¤é”€å’Œæ¢å¤åŠŸèƒ½ã€‚\n- ä½ å¯ä»¥å®ç°æ“ä½œçš„å»¶è¿Ÿæ‰§è¡Œã€‚\n- ä½ å¯ä»¥å°†ä¸€ç»„ç®€å•å‘½ä»¤ç»„åˆæˆä¸€ä¸ªå¤æ‚å‘½ä»¤ã€‚\n\n**ç¼ºç‚¹** :\n\n- ä»£ç å¯èƒ½ä¼šå˜å¾—æ›´åŠ å¤æ‚ï¼Œå› ä¸ºä½ åœ¨å‘é€è€…å’Œæ¥æ”¶è€…ä¹‹é—´å¢åŠ äº†ä¸€ä¸ªå…¨æ–°çš„å±‚æ¬¡ã€‚\n\n#### Iterator(è¿­ä»£å™¨æ¨¡å¼)\n\nè¿­ä»£å™¨æ¨¡å¼æ˜¯ä¸€ç§è¡Œä¸ºè®¾è®¡æ¨¡å¼ï¼Œè®©ä½ èƒ½åœ¨ä¸æš´éœ²é›†åˆåº•å±‚è¡¨ç°å½¢å¼ï¼ˆåˆ—è¡¨ã€ æ ˆå’Œæ ‘ç­‰ï¼‰çš„æƒ…å†µä¸‹éå†é›†åˆä¸­æ‰€æœ‰çš„å…ƒç´ ã€‚\n\n##### é—®é¢˜\n\nå¦‚æœä½ çš„é›†åˆåŸºäºåˆ—è¡¨ï¼Œé‚£ä¹ˆè¿™é¡¹å·¥ä½œå¬ä¸Šå»ä»¿ä½›å¾ˆç®€å•ã€‚ä½†å¦‚ä½•éå†å¤æ‚æ•°æ®ç»“æ„ï¼ˆä¾‹å¦‚æ ‘ï¼‰ä¸­çš„å…ƒç´ å‘¢ï¼Ÿä¾‹å¦‚ï¼Œä»Šå¤©ä½ éœ€è¦ä½¿ç”¨æ·±åº¦ä¼˜å…ˆç®—æ³•æ¥éå†æ ‘ç»“æ„ï¼Œæ˜å¤©å¯èƒ½ä¼šéœ€è¦å¹¿åº¦ä¼˜å…ˆç®—æ³•ï¼›ä¸‹å‘¨åˆ™å¯èƒ½ä¼šéœ€è¦å…¶ä»–æ–¹å¼ ï¼ˆæ¯”å¦‚éšæœºå­˜å–æ ‘ä¸­çš„å…ƒç´ ï¼‰ã€‚ä¸æ–­å‘é›†åˆä¸­æ·»åŠ éå†ç®—æ³•ä¼šæ¨¡ç³Šå…¶ â€œé«˜æ•ˆå­˜å‚¨æ•°æ®â€ çš„ä¸»è¦èŒè´£ã€‚æ­¤å¤–ï¼Œ æœ‰äº›ç®—æ³•å¯èƒ½æ˜¯æ ¹æ®ç‰¹å®šåº”ç”¨è®¢åˆ¶çš„ï¼Œå°†å…¶åŠ å…¥æ³›å‹é›†åˆç±»ä¸­ä¼šæ˜¾å¾—éå¸¸å¥‡æ€ªã€‚\nå¦ä¸€æ–¹é¢ï¼Œä½¿ç”¨å¤šç§é›†åˆçš„å®¢æˆ·ç«¯ä»£ç å¯èƒ½å¹¶ä¸å…³å¿ƒå­˜å‚¨æ•°æ®çš„æ–¹å¼ã€‚ä¸è¿‡ç”±äºé›†åˆæä¾›ä¸åŒçš„å…ƒç´ è®¿é—®æ–¹å¼ï¼Œä½ çš„ä»£ç å°†ä¸å¾—ä¸ä¸ç‰¹å®šé›†åˆç±»è¿›è¡Œè€¦åˆã€‚\n\n##### è§£å†³æ–¹æ¡ˆ\n\nè¿­ä»£å™¨æ¨¡å¼çš„ä¸»è¦æ€æƒ³æ˜¯å°†**é›†åˆçš„éå†è¡Œä¸ºæŠ½å–ä¸ºå•ç‹¬çš„è¿­ä»£å™¨å¯¹è±¡**ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220824153321.png)\n\né™¤å®ç°è‡ªèº«ç®—æ³•å¤–ï¼Œè¿­ä»£å™¨è¿˜å°è£…äº†éå†æ“ä½œçš„æ‰€æœ‰ç»†èŠ‚ï¼Œä¾‹å¦‚å½“å‰ä½ç½®å’Œæœ«å°¾å‰©ä½™å…ƒç´ çš„æ•°é‡ã€‚å› æ­¤ï¼Œå¤šä¸ªè¿­ä»£å™¨å¯ä»¥åœ¨ç›¸äº’ç‹¬ç«‹çš„æƒ…å†µä¸‹åŒæ—¶è®¿é—®é›†åˆã€‚\nè¿­ä»£å™¨é€šå¸¸ä¼šæä¾›ä¸€ä¸ªè·å–é›†åˆå…ƒç´ çš„åŸºæœ¬æ–¹æ³•ã€‚å®¢æˆ·ç«¯å¯ä¸æ–­è°ƒç”¨è¯¥æ–¹æ³•ç›´è‡³å®ƒä¸è¿”å›ä»»ä½•å†…å®¹ï¼Œè¿™æ„å‘³ç€è¿­ä»£å™¨å·²ç»éå†äº†æ‰€æœ‰å…ƒç´ ã€‚\næ‰€æœ‰è¿­ä»£å™¨å¿…é¡»å®ç°ç›¸åŒçš„æ¥å£ã€‚è¿™æ ·ä¸€æ¥ï¼Œåªè¦æœ‰åˆé€‚çš„è¿­ä»£å™¨ï¼Œå®¢æˆ·ç«¯ä»£ç å°±èƒ½å…¼å®¹ä»»ä½•ç±»å‹çš„é›†åˆæˆ–éå†ç®—æ³•ã€‚å¦‚æœä½ éœ€è¦é‡‡ç”¨ç‰¹æ®Šæ–¹å¼æ¥éå†é›†åˆï¼Œåªéœ€åˆ›å»ºä¸€ä¸ªæ–°çš„è¿­ä»£å™¨ç±»å³å¯ï¼Œæ— éœ€å¯¹é›†åˆæˆ–å®¢æˆ·ç«¯è¿›è¡Œä¿®æ”¹ã€‚\n\n##### è¿­ä»£å™¨æ¨¡å¼ç»“æ„\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220824153429.png)\n\n1.**è¿­ä»£å™¨(IterÂ­aÂ­tor)** æ¥å£å£°æ˜äº†éå†é›†åˆæ‰€éœ€çš„æ“ä½œï¼šè·å–ä¸‹ä¸€ä¸ªå…ƒç´ ã€è·å–å½“å‰ä½ç½®å’Œé‡æ–°å¼€å§‹è¿­ä»£ç­‰ã€‚\n\n2.**å…·ä½“è¿­ä»£å™¨(ConÂ­crete IterÂ­aÂ­tors)** å®ç°éå†é›†åˆçš„ä¸€ç§ç‰¹å®šç®—æ³•ã€‚è¿­ä»£å™¨å¯¹è±¡å¿…é¡»è·Ÿè¸ªè‡ªèº«éå†çš„è¿›åº¦ã€‚è¿™ä½¿å¾—å¤šä¸ªè¿­ä»£å™¨å¯ä»¥ç›¸äº’ç‹¬ç«‹åœ°éå†åŒä¸€é›†åˆã€‚\n\n3.**é›†åˆ(ColÂ­lecÂ­tion)** æ¥å£å£°æ˜ä¸€ä¸ªæˆ–å¤šä¸ªæ–¹æ³•æ¥è·å–ä¸é›†åˆå…¼å®¹çš„è¿­ä»£å™¨ã€‚è¯·æ³¨æ„ï¼Œè¿”å›æ–¹æ³•çš„ç±»å‹å¿…é¡»è¢«å£°æ˜ä¸ºè¿­ä»£å™¨æ¥å£ï¼Œå› æ­¤å…·ä½“é›†åˆå¯ä»¥è¿”å›å„ç§ä¸åŒç§ç±»çš„è¿­ä»£å™¨ã€‚\n\n4.**å…·ä½“é›†åˆ(ConÂ­crete ColÂ­lecÂ­tions)** ä¼šåœ¨å®¢æˆ·ç«¯è¯·æ±‚è¿­ä»£å™¨æ—¶è¿”å›ä¸€ä¸ªç‰¹å®šçš„å…·ä½“è¿­ä»£å™¨ç±»å®ä½“ã€‚ä½ å¯èƒ½ä¼šç¢ç£¨ï¼Œå‰©ä¸‹çš„é›†åˆä»£ç åœ¨ä»€ä¹ˆåœ°æ–¹å‘¢ï¼Ÿä¸ç”¨æ‹…å¿ƒï¼Œå®ƒä¹Ÿä¼šåœ¨åŒä¸€ä¸ªç±»ä¸­ã€‚åªæ˜¯è¿™äº›ç»†èŠ‚å¯¹äºå®é™…æ¨¡å¼æ¥è¯´å¹¶ä¸é‡è¦ï¼Œæ‰€ä»¥æˆ‘ä»¬å°†å…¶çœç•¥äº†è€Œå·²ã€‚\n\n5.**å®¢æˆ·ç«¯(Client)** é€šè¿‡é›†åˆå’Œè¿­ä»£å™¨çš„æ¥å£ä¸ä¸¤è€…è¿›è¡Œäº¤äº’ã€‚è¿™æ ·ä¸€æ¥å®¢æˆ·ç«¯æ— éœ€ä¸å…·ä½“ç±»è¿›è¡Œè€¦åˆï¼Œå…è®¸åŒä¸€å®¢æˆ·ç«¯ä»£ç ä½¿ç”¨å„ç§ä¸åŒçš„é›†åˆå’Œè¿­ä»£å™¨ã€‚\nå®¢æˆ·ç«¯é€šå¸¸ä¸ä¼šè‡ªè¡Œåˆ›å»ºè¿­ä»£å™¨ï¼Œè€Œæ˜¯ä¼šä»é›†åˆä¸­è·å–ã€‚ä½†åœ¨ç‰¹å®šæƒ…å†µä¸‹ï¼Œå®¢æˆ·ç«¯å¯ä»¥ç›´æ¥åˆ›å»ºä¸€ä¸ªè¿­ä»£å™¨ï¼ˆä¾‹å¦‚å½“å®¢æˆ·ç«¯éœ€è¦è‡ªå®šä¹‰ç‰¹æ®Šè¿­ä»£å™¨æ—¶ï¼‰ã€‚\n\n##### ä¼ªä»£ç \n\nè¿­ä»£å™¨æ¨¡å¼åœ¨c#ä¸­ååˆ†å¸¸è§ï¼ŒåŸºäºIEnumeratorå’ŒIEnumerableçš„ä½¿ç”¨ï¼Œç„¶ååœ¨foreachä¸­å°±èƒ½å¾ˆæ–¹ä¾¿åœ°å®ç°ã€‚å‰è€…æ˜¯è®¡æ•°å™¨ï¼Œåè€…æ˜¯å¯è®¡æ•°çš„ï¼Œä¹Ÿå°±ç›¸å½“äºè¿­ä»£å™¨æ¨¡å¼é‡Œçš„è¿­ä»£å™¨å’Œé›†åˆ\n\n```csharp\n//è¿­ä»£å™¨åŸºç±»ï¼Œå®ç°IEnumeratoræ¥å£\nabstract class Iterator : IEnumerator\n{\n    object IEnumerator.Current => Current();\n\n    // è¿”å›å½“å‰å…ƒç´ çš„é”®\n    public abstract int Key();    \n    // è¿”å›å½“å‰å…ƒç´ \n    public abstract object Current();    \n    // ç§»åŠ¨åˆ°ä¸‹ä¸€ä½å…ƒç´ \n    public abstract bool MoveNext();    \n    // é‡ç½®å½“å‰æŒ‡çš„ä½ç½®åˆ°åˆå§‹ä½ç½®\n    public abstract void Reset();\n}\n//é›†åˆåŸºç±»\nabstract class IteratorAggregate : Ienumerable\n{\n    //è¿”å›é›†åˆå¯¹åº”çš„è¿­ä»£å™¨\n    public abstract IEnumerator GetEnumerator();\n}\n//å…·ä½“è¿­ä»£å™¨çš„éå†ç®—æ³•\nclass AlphabeticalOrderIterator : Iterator\n{\n    private WordsCollection _collection;\n\n    private int _position = -1;\n\n    private bool _reverse = false;\n    public AlphabeticalOrderIterator(WordsCollection collection, bool reverse = false)\n    {\n        this._collection = collection;\n        this._reverse = reverse;\n        if (reverse)\n        {\n            this._position = collection.getItems().Count;\n        }\n    }\n\n    public override int Key()\n    {\n        return this._position;\n    }\n\n    public override object Current()\n    {\n        return this._collection.getItems()[_position];\n    }\n\n    public override bool MoveNext()\n    {\n        int updatedPosition = this._position + (this._reverse ? -1 : 1);\n\n        if(updatedPosition >= 0 && updatedPosition < this._collection.getItems())\n        {\n            this._position = updatePosition;\n            return true;\n        }\n        else \n        {\n            return false;\n        }\n    }\n\n    public override void Reset()\n    {\n        this._position = this._reverse ? this._collection.getItems().Count - 1 : 0;\n    }\n}\n//å…·ä½“é›†åˆç±»\nclass WordsCollection : IteratorAggregate\n{\n    List<string> _collection = new List<string>();\n    \n    //å†³å®šæ˜¯å¦åè½¬\n    bool _direction = false;\n        \n    public void ReverseDirection()\n    {\n        _direction = !_direction;\n    }\n        \n    public List<string> getItems()\n    {\n        return _collection;\n    }\n        \n    public void AddItem(string item)\n    {\n        this._collection.Add(item);\n    }\n        \n    public override IEnumerator GetEnumerator()\n    {\n        return new AlphabeticalOrderIterator(this, _direction);\n    }\n}\n\n//å®¢æˆ·ç«¯ä»£ç \nvar collection = new WordsCollection();\ncollection.AddItem(\"First\");        collection.AddItem(\"Second\");        collection.AddItem(\"Third\");\nConsole.WriteLine(\"Straight traversal:\");\n\nforeach (var element in collection)\n{\n    Console.WriteLine(element);\n}\n\nConsole.WriteLine(\"\\nReverse traversal:\");\n\ncollection.ReverseDirection();\n\nforeach (var element in collection)\n{\n    Console.WriteLine(element);\n}\n\n/*è¿è¡Œç»“æœ\nStraight traversal:\nFirst\nSecond\nThird\n\nReverse traversal:\nThird\nSecond\nFirst\n*/\n```\n\n##### é€‚åˆè¿­ä»£å™¨æ¨¡å¼çš„åœ°æ–¹\n\n- å½“é›†åˆèƒŒåä¸ºå¤æ‚çš„æ•°æ®ç»“æ„ï¼Œä¸”ä½ å¸Œæœ›å¯¹å®¢æˆ·ç«¯éšè—å…¶å¤æ‚æ€§æ—¶ï¼ˆå‡ºäºä½¿ç”¨ä¾¿åˆ©æ€§æˆ–å®‰å…¨æ€§çš„è€ƒè™‘ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨è¿­ä»£å™¨æ¨¡å¼ã€‚\n- ä½¿ç”¨è¯¥æ¨¡å¼å¯ä»¥å‡å°‘ç¨‹åºä¸­é‡å¤çš„éå†ä»£ç ã€‚\n- å¦‚æœä½ å¸Œæœ›ä»£ç èƒ½å¤Ÿéå†ä¸åŒçš„ç”šè‡³æ˜¯æ— æ³•é¢„çŸ¥çš„æ•°æ®ç»“æ„ï¼Œå¯ä»¥ä½¿ç”¨è¿­ä»£å™¨æ¨¡å¼ã€‚\n\n##### è¿­ä»£å™¨æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\n\n**ä¼˜ç‚¹** :\n\n- ç¬¦åˆSRP\n- ç¬¦åˆOCP\n- ä½ å¯ä»¥å¹¶è¡Œéå†åŒä¸€é›†åˆï¼Œå› ä¸ºæ¯ä¸ªè¿­ä»£å™¨å¯¹è±¡éƒ½åŒ…å«å…¶è‡ªèº«çš„éå†çŠ¶æ€ã€‚\n- ç›¸ä¼¼çš„ï¼Œä½ å¯ä»¥æš‚åœéå†å¹¶åœ¨éœ€è¦æ—¶ç»§ç»­ã€‚\n\n**ç¼ºç‚¹** :\n\n- å¦‚æœä½ çš„ç¨‹åºåªä¸ç®€å•çš„é›†åˆè¿›è¡Œäº¤äº’ï¼Œåº”ç”¨è¯¥æ¨¡å¼å¯èƒ½ä¼šçŸ«æ‰è¿‡æ­£ã€‚\n- å¯¹äºæŸäº›ç‰¹æ®Šé›†åˆï¼Œä½¿ç”¨è¿­ä»£å™¨å¯èƒ½æ¯”ç›´æ¥éå†çš„æ•ˆç‡ä½ã€‚\n\n#### Mediator(ä¸­ä»‹è€…æ¨¡å¼)\n\nä¸­ä»‹è€…æ¨¡å¼æ˜¯ä¸€ç§è¡Œä¸ºè®¾è®¡æ¨¡å¼ï¼Œèƒ½è®©ä½ å‡å°‘å¯¹è±¡ä¹‹é—´æ··ä¹±æ— åºçš„ä¾èµ–å…³ç³»ã€‚è¯¥æ¨¡å¼ä¼šé™åˆ¶å¯¹è±¡ä¹‹é—´çš„ç›´æ¥äº¤äº’ï¼Œè¿«ä½¿å®ƒä»¬é€šè¿‡ä¸€ä¸ªä¸­ä»‹è€…å¯¹è±¡è¿›è¡Œåˆä½œã€‚\n\n##### é—®é¢˜\n\nå‡å¦‚ä½ æœ‰ä¸€ä¸ªåˆ›å»ºå’Œä¿®æ”¹å®¢æˆ·èµ„æ–™çš„å¯¹è¯æ¡†ï¼Œå®ƒç”±å„ç§æ§ä»¶ç»„æˆï¼Œä¾‹å¦‚æ–‡æœ¬æ¡†ï¼ˆTextÂ­Fieldï¼‰ã€å¤é€‰æ¡† ï¼ˆCheckÂ­boxï¼‰å’ŒæŒ‰é’®ï¼ˆButÂ­tonï¼‰ç­‰ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220824213630.png)\n\nå¦‚æœç›´æ¥åœ¨è¡¨å•å…ƒç´ ä»£ç ä¸­å®ç°ä¸šåŠ¡é€»è¾‘ï¼Œä½ å°†å¾ˆéš¾åœ¨ç¨‹åºå…¶ä»–è¡¨å•ä¸­å¤ç”¨è¿™äº›å…ƒç´ ç±»ã€‚ä¾‹å¦‚ï¼Œç”±äºå¤é€‰æ¡†ç±»ä¸ç‹—ç‹—çš„æ–‡æœ¬æ¡†ç›¸è€¦åˆï¼Œæ‰€ä»¥å°†æ— æ³•åœ¨å…¶ä»–è¡¨å•ä¸­ä½¿ç”¨å®ƒã€‚ä½ è¦ä¹ˆä½¿ç”¨æ¸²æŸ“èµ„æ–™è¡¨å•æ—¶ç”¨åˆ°çš„æ‰€æœ‰ç±»ï¼Œè¦ä¹ˆä¸€ä¸ªéƒ½ä¸ç”¨ã€‚\n\n##### è§£å†³æ–¹æ¡ˆ\n\nä¸­ä»‹è€…æ¨¡å¼å»ºè®®ä½ **åœæ­¢ç»„ä»¶ä¹‹é—´çš„ç›´æ¥äº¤æµå¹¶ä½¿å…¶ç›¸äº’ç‹¬ç«‹**ã€‚è¿™äº›ç»„ä»¶å¿…é¡»è°ƒç”¨ç‰¹æ®Šçš„ä¸­ä»‹è€…å¯¹è±¡ï¼Œé€šè¿‡ä¸­ä»‹è€…å¯¹è±¡é‡å®šå‘è°ƒç”¨è¡Œä¸ºï¼Œä»¥é—´æ¥çš„æ–¹å¼è¿›è¡Œåˆä½œã€‚æœ€ç»ˆï¼Œ**ç»„ä»¶ä»…ä¾èµ–äºä¸€ä¸ªä¸­ä»‹è€…ç±»ï¼Œæ— éœ€ä¸å¤šä¸ªå…¶ä»–ç»„ä»¶ç›¸è€¦åˆ**ã€‚\nä½ è¿˜å¯ä»¥ä¸ºæ‰€æœ‰ç±»å‹çš„å¯¹è¯æ¡†æŠ½å–é€šç”¨æ¥å£ï¼Œè¿›ä¸€æ­¥å‰Šå¼±å…¶ä¾èµ–æ€§ã€‚æ¥å£ä¸­å°†å£°æ˜ä¸€ä¸ªæ‰€æœ‰è¡¨å•å…ƒç´ éƒ½èƒ½ä½¿ç”¨çš„é€šçŸ¥æ–¹æ³•ï¼Œå¯ç”¨äºå°†å…ƒç´ ä¸­å‘ç”Ÿçš„äº‹ä»¶é€šçŸ¥ç»™å¯¹è¯æ¡†ã€‚è¿™æ ·ä¸€æ¥ï¼Œæ‰€æœ‰å®ç°äº†è¯¥æ¥å£çš„å¯¹è¯æ¡†éƒ½èƒ½ä½¿ç”¨è¿™ä¸ªæäº¤æŒ‰é’®äº†ã€‚\né‡‡ç”¨è¿™ç§æ–¹å¼ï¼Œä¸­ä»‹è€…æ¨¡å¼è®©ä½ èƒ½åœ¨å•ä¸ªä¸­ä»‹è€…å¯¹è±¡ä¸­å°è£…å¤šä¸ªå¯¹è±¡é—´çš„å¤æ‚å…³ç³»ç½‘ã€‚ç±»æ‰€æ‹¥æœ‰çš„ä¾èµ–å…³ç³»è¶Šå°‘ï¼Œå°±è¶Šæ˜“äºä¿®æ”¹ã€æ‰©å±•æˆ–å¤ç”¨ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220824213818.png)\n\né£è¡Œå™¨é©¾é©¶å‘˜ä»¬åœ¨é è¿‘æˆ–ç¦»å¼€ç©ºä¸­ç®¡åˆ¶åŒºåŸŸæ—¶ä¸ä¼šç›´æ¥ç›¸äº’äº¤æµã€‚ä½†ä»–ä»¬ä¼šä¸é£æœºè·‘é“é™„è¿‘ï¼Œå¡”å°ä¸­çš„ç©ºç®¡å‘˜é€šè¯ã€‚å¦‚æœæ²¡æœ‰ç©ºç®¡å‘˜ï¼Œé©¾é©¶å‘˜å°±éœ€è¦ç•™æ„æœºåœºé™„è¿‘çš„æ‰€æœ‰é£æœºï¼Œå¹¶ä¸æ•°åä½é£è¡Œå‘˜ç»„æˆçš„å§”å‘˜ä¼šè®¨è®ºé™è½é¡ºåºã€‚é‚£ææ€•ä¼šè®©é£æœºå æ¯çš„ç»Ÿè®¡æ•°æ®ä¸€é£å†²å¤©å§ã€‚\n\nå¡”å°æ— éœ€ç®¡åˆ¶é£è¡Œå…¨ç¨‹ï¼Œåªéœ€åœ¨èˆªç«™åŒºåŠ å¼ºç®¡æ§å³å¯ï¼Œå› ä¸ºè¯¥åŒºåŸŸçš„å†³ç­–å‚ä¸è€…æ•°é‡å¯¹äºé£è¡Œå‘˜æ¥è¯´å®åœ¨å¤ªå¤šäº†ã€‚\n\n##### ä¸­ä»‹è€…æ¨¡å¼ç»“æ„\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220824213846.png)\n\n1.**ç»„ä»¶(ComÂ­poÂ­nent)** æ˜¯å„ç§åŒ…å«ä¸šåŠ¡é€»è¾‘çš„ç±»ã€‚æ¯ä¸ªç»„ä»¶éƒ½æœ‰ä¸€ä¸ªæŒ‡å‘ä¸­ä»‹è€…çš„å¼•ç”¨ï¼Œè¯¥å¼•ç”¨è¢«å£°æ˜ä¸ºä¸­ä»‹è€…æ¥å£ç±»å‹ã€‚ç»„ä»¶ä¸çŸ¥é“ä¸­ä»‹è€…å®é™…æ‰€å±çš„ç±»ï¼Œå› æ­¤ä½ å¯é€šè¿‡å°†å…¶è¿æ¥åˆ°ä¸åŒçš„ä¸­ä»‹è€…ä»¥ä½¿å…¶èƒ½åœ¨å…¶ä»–ç¨‹åºä¸­å¤ç”¨ã€‚\n\n2.**ä¸­ä»‹è€…(MediÂ­aÂ­tor)** æ¥å£å£°æ˜äº†ä¸ç»„ä»¶äº¤æµçš„æ–¹æ³•ï¼Œä½†é€šå¸¸ä»…åŒ…æ‹¬ä¸€ä¸ªé€šçŸ¥æ–¹æ³•ã€‚ç»„ä»¶å¯å°†ä»»æ„ä¸Šä¸‹æ–‡ï¼ˆåŒ…æ‹¬è‡ªå·±çš„å¯¹è±¡ï¼‰ä½œä¸ºè¯¥æ–¹æ³•çš„å‚æ•°ï¼Œåªæœ‰è¿™æ ·æ¥æ”¶ç»„ä»¶å’Œå‘é€è€…ç±»ä¹‹é—´æ‰ä¸ä¼šè€¦åˆã€‚\n\n3.**å…·ä½“ä¸­ä»‹è€…(ConÂ­crete MediÂ­aÂ­tor)** å°è£…äº†å¤šç§ç»„ä»¶é—´çš„å…³ç³»ã€‚å…·ä½“ä¸­ä»‹è€…é€šå¸¸ä¼šä¿å­˜æ‰€æœ‰ç»„ä»¶çš„å¼•ç”¨å¹¶å¯¹å…¶è¿›è¡Œç®¡ç†ï¼Œç”šè‡³æœ‰æ—¶ä¼šå¯¹å…¶ç”Ÿå‘½å‘¨æœŸè¿›è¡Œç®¡ç†ã€‚\n\n4.ç»„ä»¶å¹¶ä¸çŸ¥é“å…¶ä»–ç»„ä»¶çš„æƒ…å†µã€‚å¦‚æœç»„ä»¶å†…å‘ç”Ÿäº†é‡è¦äº‹ä»¶ï¼Œå®ƒåªèƒ½é€šçŸ¥ä¸­ä»‹è€…ã€‚ä¸­ä»‹è€…æ”¶åˆ°é€šçŸ¥åèƒ½è½»æ˜“åœ°ç¡®å®šå‘é€è€…ï¼Œè¿™æˆ–è®¸å·²è¶³ä»¥åˆ¤æ–­æ¥ä¸‹æ¥éœ€è¦è§¦å‘çš„ç»„ä»¶äº†ã€‚\nå¯¹äºç»„ä»¶æ¥è¯´ï¼Œä¸­ä»‹è€…çœ‹ä¸Šå»å®Œå…¨å°±æ˜¯ä¸€ä¸ªé»‘ç®±ã€‚å‘é€è€…ä¸çŸ¥é“æœ€ç»ˆä¼šç”±è°æ¥å¤„ç†è‡ªå·±çš„è¯·æ±‚ï¼Œæ¥æ”¶è€…ä¹Ÿä¸çŸ¥é“æœ€åˆæ˜¯è°å‘å‡ºäº†è¯·æ±‚ã€‚\n\n##### ä¼ªä»£ç \n\nä¸­ä»‹è€…æ¨¡å¼åœ¨ C# ä»£ç ä¸­æœ€å¸¸ç”¨äºå¸®åŠ©ç¨‹åº GUI ç»„ä»¶ä¹‹é—´çš„é€šä¿¡ã€‚åœ¨ MVC æ¨¡å¼ä¸­ï¼Œæ§åˆ¶å™¨æ˜¯ä¸­ä»‹è€…çš„åŒä¹‰è¯ã€‚\n\n```csharp\n//ä¸­ä»‹è€…æ¥å£å£°æ˜å„ç§å…ƒç´ é€šè¿‡æ´»åŠ¨ç›¸äº’é€šçŸ¥çš„æ–¹æ³•\npublic interface IMediator\n{\n    void Notify(object sender,string ev);\n}\n//å…·ä½“ä¸­ä»‹è€…\nclass ConcreteMediator : IMediator\n{\n    private Component1 _component1;\n    private Component2 _component2;\n\n    public ConcreteMediator(Component1 component1, Component2 component2)\n    {\n        this._component1 = component1;\n        this._component1.SetMediator(this);\n        this._component2 = component2;\n        this._component2.SetMediator(this);\n    }\n\n    public void Notify(object sender,string ev)\n    {\n        if (ev == \"A\")\n        {\n            Console.WriteLine(\"Mediator reacts on A and triggers folowing operations:\");\n            this._component2.DoC();\n        }\n        if (ev == \"D\")\n        {\n            Console.WriteLine(\"Mediator reacts on D and triggers following operations:\");                \n            this._component1.DoB();\n            this._component2.DoC();\n        }        \n    }\n}\n\n//åŸºæœ¬ç»„ä»¶ç±»æä¾›å­˜å‚¨å¯¹åº”çš„å¼•ç”¨çš„ä¸­ä»‹è€…çš„åŠŸèƒ½\nclass BaseComponent\n{\n    protected IMediator _mediator;\n\n    public BaseComponent(IMediator mediator =null)\n    {\n        this._mediator = mediator;\n    }\n\n    public void SetMediator(IMediator mediator)\n    {\n        this._mediator = mediator;\n    }\n}\n//å…·ä½“ç»„ä»¶å®ç°å…·ä½“åŠŸèƒ½ï¼Œä¸åŒçš„å…·ä½“ç»„ä»¶è™½ç„¶\n//ä¼šç›¸äº’ç”¨åˆ°ï¼Œä½†å¹¶ä¸ä¼šç›´æ¥ç”¨åˆ°ï¼Œåªä¼šé€šè¿‡\n//ä¸­ä»‹è€…æ¥å¼•ç”¨\nclass Component1 : BaseComponent\n{\n    public void DoA()\n    {\n        Console.WriteLine(\"Component 1 does A.\");\n\n        this._mediator.Notify(this,\"A\");\n    }\n    public void DoB()\n    {\n        Console.WriteLine(\"Component 1 does B.\");\n\n        this._mediator.Notify(this, \"B\");\n    }\n}\nclass Component2 : BaseComponent\n{\n    public void DoC()\n    {\n        Console.WriteLine(\"Component 2 does C.\");\n\n        this._mediator.Notify(this, \"C\");\n    }\n    public void DoD()\n    {\n        Console.WriteLine(\"Component 2 does D.\");\n\n        this._mediator.Notify(this, \"D\");\n    }\n}\n\n//å®¢æˆ·ç«¯ä»£ç \nComponent1 component1 = new Component1();\nComponent2 component2 = new Component2();\nnew ConcreteMediator(component1, component2);\n\nConsole.WriteLine(\"Client triggets operation A.\");\ncomponent1.DoA();\n\nConsole.WriteLine();\n\nConsole.WriteLine(\"Client triggers operation D.\");\ncomponent2.DoD();\n\n/*è¿è¡Œç»“æœ\nClient triggers operation A.\nComponent 1 does A.\nMediator reacts on A and triggers following operations:\nComponent 2 does C.\n\nClient triggers operation D.\nComponent 2 does D.\nMediator reacts on D and triggers following operations:\nComponent 1 does B.\nComponent 2 does C.\n*/\n```\n\n##### é€‚åˆä¸­ä»‹è€…æ¨¡å¼çš„åœ°æ–¹\n\n- å½“ä¸€äº›å¯¹è±¡å’Œå…¶ä»–å¯¹è±¡ç´§å¯†è€¦åˆä»¥è‡´éš¾ä»¥å¯¹å…¶è¿›è¡Œä¿®æ”¹æ—¶ï¼Œå¯ä½¿ç”¨ä¸­ä»‹è€…æ¨¡å¼ã€‚\n- å½“ç»„ä»¶å› è¿‡äºä¾èµ–å…¶ä»–ç»„ä»¶è€Œæ— æ³•åœ¨ä¸åŒåº”ç”¨ä¸­å¤ç”¨æ—¶ï¼Œå¯ä½¿ç”¨ä¸­ä»‹è€…æ¨¡å¼ã€‚\n- å¦‚æœä¸ºäº†èƒ½åœ¨ä¸åŒæƒ…æ™¯ä¸‹å¤ç”¨ä¸€äº›åŸºæœ¬è¡Œä¸ºï¼Œå¯¼è‡´ä½ éœ€è¦è¢«è¿«åˆ›å»ºå¤§é‡ç»„ä»¶å­ç±»æ—¶ï¼Œå¯ä½¿ç”¨ä¸­ä»‹è€…æ¨¡å¼ã€‚\n\n##### ä¸­ä»‹è€…æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\n\n**ä¼˜ç‚¹** ï¼š\n\n- ç¬¦åˆSRP\n- ç¬¦åˆOCP\n- ä½ å¯ä»¥å‡è½»åº”ç”¨ä¸­å¤šä¸ªç»„ä»¶é—´çš„è€¦åˆæƒ…å†µã€‚\n- ä½ å¯ä»¥æ›´æ–¹ä¾¿åœ°å¤ç”¨å„ä¸ªç»„ä»¶ã€‚\n\n**ç¼ºç‚¹** ï¼š\n\n- ä¸€æ®µæ—¶é—´åï¼Œä¸­ä»‹è€…å¯èƒ½ä¼šæ¼”åŒ–æˆä¸ºä¸Šå¸å¯¹è±¡ã€‚\n\n#### Memento(å¤‡å¿˜å½•æ¨¡å¼)\n\nå¤‡å¿˜å½•æ¨¡å¼æ˜¯ä¸€ç§è¡Œä¸ºè®¾è®¡æ¨¡å¼ï¼Œå…è®¸åœ¨ä¸æš´éœ²å¯¹è±¡å®ç°ç»†èŠ‚çš„æƒ…å†µä¸‹ä¿å­˜å’Œæ¢å¤å¯¹è±¡ä¹‹å‰çš„çŠ¶æ€ã€‚\n\n##### é—®é¢˜\n\nå‡å¦‚ä½ æ­£åœ¨å¼€å‘ä¸€æ¬¾æ–‡å­—ç¼–è¾‘å™¨åº”ç”¨ç¨‹åºã€‚é™¤äº†ç®€å•çš„æ–‡å­—ç¼–è¾‘åŠŸèƒ½å¤–ï¼Œç¼–è¾‘å™¨ä¸­è¿˜è¦æœ‰è®¾ç½®æ–‡æœ¬æ ¼å¼å’Œæ’å…¥å†…åµŒå›¾ç‰‡ç­‰åŠŸèƒ½ã€‚\nåæ¥ï¼Œä½ å†³å®šè®©ç”¨æˆ·èƒ½æ’¤é”€æ–½åŠ åœ¨æ–‡æœ¬ä¸Šçš„ä»»ä½•æ“ä½œã€‚è¿™é¡¹åŠŸèƒ½åœ¨è¿‡å»å‡ å¹´é‡Œå˜å¾—ååˆ†æ™®éï¼Œå› æ­¤ç”¨æˆ·æœŸå¾…ä»»ä½•ç¨‹åºéƒ½æœ‰è¿™é¡¹åŠŸèƒ½ã€‚ä½ é€‰æ‹©é‡‡ç”¨ç›´æ¥çš„æ–¹å¼æ¥å®ç°è¯¥åŠŸèƒ½ï¼šç¨‹åºåœ¨æ‰§è¡Œä»»ä½•æ“ä½œå‰ä¼šè®°å½•æ‰€æœ‰çš„å¯¹è±¡çŠ¶æ€ï¼Œå¹¶å°†å…¶ä¿å­˜ä¸‹æ¥ã€‚å½“ç”¨æˆ·æ­¤åéœ€è¦æ’¤é”€æŸä¸ªæ“ä½œæ—¶ï¼Œç¨‹åºå°†ä»å†å²è®°å½•ä¸­è·å–æœ€è¿‘çš„å¿«ç…§ï¼Œç„¶åä½¿ç”¨å®ƒæ¥æ¢å¤æ‰€æœ‰å¯¹è±¡çš„çŠ¶æ€ã€‚\nè®©æˆ‘ä»¬æ¥æ€è€ƒä¸€ä¸‹è¿™äº›çŠ¶æ€å¿«ç…§ã€‚é¦–å…ˆï¼Œåˆ°åº•è¯¥å¦‚ä½•ç”Ÿæˆä¸€ä¸ªå¿«ç…§å‘¢ï¼Ÿå¾ˆå¯èƒ½ä½ ä¼šéœ€è¦éå†å¯¹è±¡çš„æ‰€æœ‰æˆå‘˜å˜é‡å¹¶å°†å…¶æ•°å€¼å¤åˆ¶ä¿å­˜ã€‚ä½†åªæœ‰å½“å¯¹è±¡å¯¹å…¶å†…å®¹æ²¡æœ‰ä¸¥æ ¼è®¿é—®æƒé™é™åˆ¶çš„æƒ…å†µä¸‹ï¼Œä½ æ‰èƒ½ä½¿ç”¨è¯¥æ–¹å¼ã€‚ä¸è¿‡å¾ˆé—æ†¾ï¼Œç»å¤§éƒ¨åˆ†å¯¹è±¡ä¼šä½¿ç”¨ç§æœ‰æˆå‘˜å˜é‡æ¥å­˜å‚¨é‡è¦æ•°æ®ï¼Œè¿™æ ·åˆ«äººå°±æ— æ³•è½»æ˜“æŸ¥çœ‹å…¶ä¸­çš„å†…å®¹ã€‚\nç°åœ¨æˆ‘ä»¬æš‚æ—¶å¿½ç•¥è¿™ä¸ªé—®é¢˜ï¼Œå‡è®¾å¯¹è±¡éƒ½åƒå¬‰çš®å£«ä¸€æ ·ï¼šå–œæ¬¢å¼€æ”¾å¼çš„å…³ç³»å¹¶ä¼šå…¬å¼€å…¶æ‰€æœ‰çŠ¶æ€ã€‚å°½ç®¡è¿™ç§æ–¹å¼èƒ½å¤Ÿè§£å†³å½“å‰é—®é¢˜ï¼Œè®©ä½ å¯éšæ—¶ç”Ÿæˆå¯¹è±¡çš„çŠ¶æ€å¿«ç…§ï¼Œä½†è¿™ç§æ–¹å¼ä»å­˜åœ¨ä¸€äº›ä¸¥é‡é—®é¢˜ã€‚æœªæ¥ä½ å¯èƒ½ä¼šæ·»åŠ æˆ–åˆ é™¤ä¸€äº›æˆå‘˜å˜é‡ã€‚è¿™å¬ä¸Šå»å¾ˆç®€å•ï¼Œä½†éœ€è¦å¯¹è´Ÿè´£å¤åˆ¶å—å½±å“å¯¹è±¡çŠ¶æ€çš„ç±»è¿›è¡Œæ›´æ”¹ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220825143929.png)\n\nè¿˜æœ‰æ›´å¤šé—®é¢˜ã€‚è®©æˆ‘ä»¬æ¥è€ƒè™‘ç¼–è¾‘å™¨ ï¼ˆEdiÂ­torï¼‰çŠ¶æ€çš„å®é™… â€œå¿«ç…§â€ï¼Œå®ƒéœ€è¦åŒ…å«å“ªäº›æ•°æ®ï¼Ÿè‡³å°‘å¿…é¡»åŒ…å«å®é™…çš„æ–‡æœ¬ã€å…‰æ ‡åæ ‡å’Œå½“å‰æ»šåŠ¨æ¡ä½ç½®ç­‰ã€‚ä½ éœ€è¦æ”¶é›†è¿™äº›æ•°æ®å¹¶å°†å…¶æ”¾å…¥ç‰¹å®šå®¹å™¨ä¸­ï¼Œæ‰èƒ½ç”Ÿæˆå¿«ç…§ã€‚\nä½ å¾ˆå¯èƒ½ä¼šå°†å¤§é‡çš„å®¹å™¨å¯¹è±¡å­˜å‚¨åœ¨å†å²è®°å½•åˆ—è¡¨ä¸­ã€‚è¿™æ ·ä¸€æ¥ï¼Œå®¹å™¨æœ€ç»ˆå¤§æ¦‚ç‡ä¼šæˆä¸ºåŒä¸€ä¸ªç±»çš„å¯¹è±¡ã€‚è¿™ä¸ªç±»ä¸­å‡ ä¹æ²¡æœ‰ä»»ä½•æ–¹æ³•ï¼Œä½†æœ‰è®¸å¤šä¸ç¼–è¾‘å™¨çŠ¶æ€ä¸€ä¸€å¯¹åº”çš„æˆå‘˜å˜é‡ã€‚ä¸ºäº†è®©å…¶ä»–å¯¹è±¡èƒ½ä¿å­˜æˆ–è¯»å–å¿«ç…§ï¼Œä½ å¾ˆå¯èƒ½éœ€è¦å°†å¿«ç…§çš„æˆå‘˜å˜é‡è®¾ä¸ºå…¬æœ‰ã€‚æ— è®ºè¿™äº›çŠ¶æ€æ˜¯å¦ç§æœ‰ï¼Œå…¶éƒ½å°†æš´éœ²ä¸€åˆ‡ç¼–è¾‘å™¨çŠ¶æ€ã€‚å…¶ä»–ç±»ä¼šå¯¹å¿«ç…§ç±»çš„æ¯ä¸ªå°æ”¹åŠ¨äº§ç”Ÿä¾èµ–ï¼Œé™¤éè¿™äº›æ”¹åŠ¨ä»…å­˜åœ¨äºç§æœ‰æˆå‘˜å˜é‡æˆ–æ–¹æ³•ä¸­ï¼Œè€Œä¸ä¼šå½±å“å¤–éƒ¨ç±»ã€‚\næˆ‘ä»¬ä¼¼ä¹èµ°è¿›äº†ä¸€æ¡æ­»èƒ¡åŒï¼š**è¦ä¹ˆä¼šæš´éœ²ç±»çš„æ‰€æœ‰å†…éƒ¨ç»†èŠ‚è€Œä½¿å…¶è¿‡äºè„†å¼±ï¼›è¦ä¹ˆä¼šé™åˆ¶å¯¹å…¶çŠ¶æ€çš„è®¿é—®æƒé™è€Œæ— æ³•ç”Ÿæˆå¿«ç…§**ã€‚é‚£ä¹ˆï¼Œæˆ‘ä»¬è¿˜æœ‰å…¶ä»–æ–¹å¼æ¥å®ç° â€œæ’¤é”€â€ åŠŸèƒ½å—ï¼Ÿ\n\n##### è§£å†³æ–¹æ¡ˆ\n\næˆ‘ä»¬åˆšæ‰é‡åˆ°çš„æ‰€æœ‰é—®é¢˜éƒ½æ˜¯å°è£… â€œç ´æŸâ€ é€ æˆçš„ã€‚ ä¸€äº›å¯¹è±¡è¯•å›¾è¶…å‡ºå…¶èŒè´£èŒƒå›´çš„å·¥ä½œã€‚ç”±äºåœ¨æ‰§è¡ŒæŸäº›è¡Œä¸ºæ—¶éœ€è¦è·å–æ•°æ®ï¼Œæ‰€ä»¥å®ƒä»¬ä¾µå…¥äº†å…¶ä»–å¯¹è±¡çš„ç§æœ‰ç©ºé—´ï¼Œè€Œä¸æ˜¯è®©è¿™äº›å¯¹è±¡æ¥å®Œæˆå®é™…çš„å·¥ä½œã€‚\n\nå¤‡å¿˜å½•æ¨¡å¼å°†åˆ›å»ºçŠ¶æ€å¿«ç…§ï¼ˆSnapÂ­shotï¼‰çš„å·¥ä½œå§”æ´¾ç»™å®é™…çŠ¶æ€çš„æ‹¥æœ‰è€…åŸå‘å™¨ ï¼ˆOrigÂ­iÂ­naÂ­torï¼‰ å¯¹è±¡ã€‚è¿™æ ·å…¶ä»–å¯¹è±¡å°±ä¸å†éœ€è¦ä» â€œå¤–éƒ¨â€ å¤åˆ¶ç¼–è¾‘å™¨çŠ¶æ€äº†ï¼Œç¼–è¾‘å™¨ç±»æ‹¥æœ‰å…¶çŠ¶æ€çš„å®Œå…¨è®¿é—®æƒï¼Œå› æ­¤å¯ä»¥è‡ªè¡Œç”Ÿæˆå¿«ç…§ã€‚\n\næ¨¡å¼å»ºè®®å°†å¯¹è±¡çŠ¶æ€çš„å‰¯æœ¬å­˜å‚¨åœ¨ä¸€ä¸ªåä¸ºå¤‡å¿˜å½• ï¼ˆMemenÂ­toï¼‰çš„ç‰¹æ®Šå¯¹è±¡ä¸­ã€‚é™¤äº†åˆ›å»ºå¤‡å¿˜å½•çš„å¯¹è±¡å¤–ï¼Œä»»ä½•å¯¹è±¡éƒ½ä¸èƒ½è®¿é—®å¤‡å¿˜å½•çš„å†…å®¹ã€‚å…¶ä»–å¯¹è±¡å¿…é¡»ä½¿ç”¨å—é™æ¥å£ä¸å¤‡å¿˜å½•è¿›è¡Œäº¤äº’ï¼Œå®ƒä»¬å¯ä»¥è·å–å¿«ç…§çš„å…ƒæ•°æ® ï¼ˆåˆ›å»ºæ—¶é—´å’Œæ“ä½œåç§°ç­‰ï¼‰ï¼Œä½†ä¸èƒ½è·å–å¿«ç…§ä¸­åŸå§‹å¯¹è±¡çš„çŠ¶æ€ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220825144342.png)\n\nè¿™ç§é™åˆ¶ç­–ç•¥å…è®¸ä½ å°†å¤‡å¿˜å½•ä¿å­˜åœ¨é€šå¸¸è¢«ç§°ä¸ºè´Ÿè´£äººï¼ˆCareÂ­takÂ­ersï¼‰çš„å¯¹è±¡ä¸­ã€‚ç”±äºè´Ÿè´£äººä»…é€šè¿‡å—é™æ¥å£ä¸å¤‡å¿˜å½•äº’åŠ¨ï¼Œæ•…å…¶æ— æ³•ä¿®æ”¹å­˜å‚¨åœ¨å¤‡å¿˜å½•å†…éƒ¨çš„çŠ¶æ€ã€‚åŒæ—¶ï¼ŒåŸå‘å™¨æ‹¥æœ‰å¯¹å¤‡å¿˜å½•æ‰€æœ‰æˆå‘˜çš„è®¿é—®æƒé™ï¼Œä»è€Œèƒ½éšæ—¶æ¢å¤å…¶ä»¥å‰çš„çŠ¶æ€ã€‚\n\nåœ¨æ–‡å­—ç¼–è¾‘å™¨çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªç‹¬ç«‹çš„å†å² ï¼ˆHisÂ­toÂ­ryï¼‰ ç±»ä½œä¸ºè´Ÿè´£äººã€‚ç¼–è¾‘å™¨æ¯æ¬¡æ‰§è¡Œæ“ä½œå‰ï¼Œå­˜å‚¨åœ¨è´Ÿè´£äººä¸­çš„å¤‡å¿˜å½•æ ˆéƒ½ä¼šç”Ÿé•¿ã€‚ä½ ç”šè‡³å¯ä»¥åœ¨åº”ç”¨çš„ UI ä¸­æ¸²æŸ“è¯¥æ ˆï¼Œä¸ºç”¨æˆ·æ˜¾ç¤ºä¹‹å‰çš„æ“ä½œå†å²ã€‚\n\nå½“ç”¨æˆ·è§¦å‘æ’¤é”€æ“ä½œæ—¶ï¼Œå†å²ç±»å°†ä»æ ˆä¸­å–å›æœ€è¿‘çš„å¤‡å¿˜å½•ï¼Œå¹¶å°†å…¶ä¼ é€’ç»™ç¼–è¾‘å™¨ä»¥è¯·æ±‚è¿›è¡Œå›æ»šã€‚ç”±äºç¼–è¾‘å™¨æ‹¥æœ‰å¯¹å¤‡å¿˜å½•çš„å®Œå…¨è®¿é—®æƒé™ï¼Œå› æ­¤å®ƒå¯ä»¥ä½¿ç”¨ä»å¤‡å¿˜å½•ä¸­è·å–çš„æ•°å€¼æ¥æ›¿æ¢è‡ªèº«çš„çŠ¶æ€ã€‚\n\n##### å¤‡å¿˜å½•æ¨¡å¼ç»“æ„\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220825144517.png)\n\n1.**åŸå‘å™¨(OrigÂ­iÂ­naÂ­tor)** ç±»å¯ä»¥ç”Ÿæˆè‡ªèº«çŠ¶æ€çš„å¿«ç…§ï¼Œä¹Ÿå¯ä»¥åœ¨éœ€è¦æ—¶é€šè¿‡å¿«ç…§æ¢å¤è‡ªèº«çŠ¶æ€ã€‚\n\n2.**å¤‡å¿˜å½•(MemenÂ­to)** æ˜¯åŸå‘å™¨çŠ¶æ€å¿«ç…§çš„å€¼å¯¹è±¡(value object)ã€‚é€šå¸¸åšæ³•æ˜¯å°†å¤‡å¿˜å½•è®¾ä¸ºä¸å¯å˜çš„ï¼Œ å¹¶é€šè¿‡æ„é€ å‡½æ•°ä¸€æ¬¡æ€§ä¼ é€’æ•°æ®ã€‚\n\n3.**è´Ÿè´£äºº(CareÂ­takÂ­er)** ä»…çŸ¥é“ â€œä½•æ—¶â€ å’Œ â€œä¸ºä½•â€ æ•æ‰åŸå‘å™¨çš„çŠ¶æ€ï¼Œä»¥åŠä½•æ—¶æ¢å¤çŠ¶æ€ã€‚\nè´Ÿè´£äººé€šè¿‡ä¿å­˜å¤‡å¿˜å½•æ ˆæ¥è®°å½•åŸå‘å™¨çš„å†å²çŠ¶æ€ã€‚ å½“åŸå‘å™¨éœ€è¦å›æº¯å†å²çŠ¶æ€æ—¶ï¼Œè´Ÿè´£äººå°†ä»æ ˆä¸­è·å–æœ€é¡¶éƒ¨çš„å¤‡å¿˜å½•ï¼Œå¹¶å°†å…¶ä¼ é€’ç»™åŸå‘å™¨çš„æ¢å¤ (restoraÂ­tion)æ–¹æ³•ã€‚\n\n4.åœ¨è¯¥å®ç°æ–¹æ³•ä¸­ï¼Œå¤‡å¿˜å½•ç±»å°†è¢«åµŒå¥—åœ¨åŸå‘å™¨ä¸­ã€‚ è¿™æ ·åŸå‘å™¨å°±å¯è®¿é—®å¤‡å¿˜å½•çš„æˆå‘˜å˜é‡å’Œæ–¹æ³•ï¼Œå³ä½¿è¿™äº›æ–¹æ³•è¢«å£°æ˜ä¸ºç§æœ‰ã€‚å¦ä¸€æ–¹é¢ï¼Œè´Ÿè´£äººå¯¹äºå¤‡å¿˜å½•çš„æˆå‘˜å˜é‡å’Œæ–¹æ³•çš„è®¿é—®æƒé™éå¸¸æœ‰é™ï¼šå®ƒä»¬åªèƒ½åœ¨æ ˆä¸­ä¿å­˜å¤‡å¿˜å½•ï¼Œè€Œä¸èƒ½ä¿®æ”¹å…¶çŠ¶æ€ã€‚\n\n##### ä¼ªä»£ç \n\nå¤‡å¿˜å½•çš„åŸºæœ¬åŠŸèƒ½å¯ç”¨åºåˆ—åŒ–æ¥å®ç°ï¼Œè¿™åœ¨ C# è¯­è¨€ä¸­å¾ˆå¸¸è§ã€‚å°½ç®¡å¤‡å¿˜å½•ä¸æ˜¯ç”Ÿæˆå¯¹è±¡çŠ¶æ€å¿«ç…§çš„å”¯ä¸€æˆ–æœ€æœ‰æ•ˆçš„æ–¹æ³•ï¼Œä½†å®ƒèƒ½åœ¨ä¿æŠ¤åŸå§‹å¯¹è±¡çš„ç»“æ„ä¸æš´éœ²ç»™å…¶ä»–å¯¹è±¡çš„æƒ…å†µä¸‹ä¿å­˜å¯¹è±¡çŠ¶æ€çš„å¤‡ä»½ã€‚åœ¨æ¸¸æˆä¸­ï¼Œæ¯”å¦‚åœ°å¹³çº¿çš„å›é€€ï¼ŒPBUGçš„æ­»äº¡å›æ”¾ç­‰ç­‰éƒ½å¯èƒ½æ˜¯ç”¨åˆ°äº†å¤‡å¿˜å½•æ¨¡å¼ã€‚\nè¿™ä¸ªæ¨¡å¼è¿˜æ˜¯æœ‰ç‚¹å¤æ‚çš„ï¼Œä»…ä»…é€šè¿‡ç»“æ„ä¸å¤ªèƒ½åŒºåˆ†Originatorå’ŒCaretakerï¼Œé€šè¿‡ä»£ç æ¥ç®€å•äº†è§£ä¸€ä¸‹ã€‚\n\nç®€å•è°ˆä¸€ä¸‹ä¹‹åçš„ä¼ªä»£ç ï¼Œè¿™æ¬¡çš„ç»“æ„æ¯”è¾ƒå¤æ‚ï¼Œæ‰€ä»¥å»ºè®®æœ€å¥½è¿è¡Œä¸€éç„¶åçœ‹æ‡‚ä»£ç ï¼Œç®€å•æ¥è¯´å°±æ˜¯Caretakerè´Ÿè´£åšï¼Œé€šè¿‡Caretakerç±»æ¥ä½¿Originatoråˆ›å»ºä¸€æ¬¡Mementoç„¶åå­˜å‚¨åˆ°Caretakeré‡Œçš„listã€‚å¦‚æœæ˜¯æ’¤å›ä¹‹å‰çš„çŠ¶æ€ï¼ŒåŒæ ·ç”¨Caretakerçš„Undoæ¥è§¦å‘Originatorçš„Restoreå‡½æ•°ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒCaretakeræ˜¯å‘èµ·è€…ï¼ŒOriginatoræ˜¯Mementoçš„åˆ›é€ è€…ï¼ŒMementoåªæ˜¯ç”¨æ¥å­˜å‚¨ä¸€æ¬¡çš„çŠ¶æ€ã€‚\n\n```csharp\n//Originatorç±»ä¼šå­˜å‚¨ä¸€äº›é‡è¦çš„å¯èƒ½ä¼šéšæ—¶é—´æ”¹å˜çš„çŠ¶æ€ã€‚åŒæ—¶ä¹Ÿå®šä¹‰äº†ä¿å­˜å’Œå­˜å‚¨çŠ¶æ€çš„æ–¹æ³•\nclass Originator\n{\n    //åœ¨ä¼ªä»£ç ä¸­å°½é‡ç®€å•ï¼Œè¿™é‡Œåªç”¨äº†stringç±»å‹\n    private string _state;\n\n    public Originator(string state)\n    {\n        this._state = state;\n        Console.WriteLine(\"Originator: My initial state is: \" + state);\n    }\n\n    //è¿™é‡Œçš„\n    public void DoSomething()\n    {\n        Console.WriteLine(\"Originator: I'm doing something important.\");\n        this._state = this.GenerateRandomString(30);\n        Console.WriteLine($\"Originator: and my state has changed to: {_state}\");\n    }\n\n    //é€šè¿‡æ—¶é—´ç”Ÿæˆéšæœºçš„å­—ç¬¦ä¸²\n    private string GenerateRandomString(int length = 10)\n    {\n        string allowedSymbols = \"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ\";\n        string result = string.Empty;\n\n        while (length > 0)\n        {\n            result += allowedSymbols[new Random().Next(0, allowedSymbols.Length)];\n\n            Thread.Sleep(12);\n\n            length--;\n        }\n        return result;\n    }\n\n    //ä¿å­˜ç°åœ¨çš„çŠ¶æ€\n    public IMemento Save()\n    {\n        return new ConcreteMemento(this._state);\n    }\n\n    //æ¢å¤ä¹‹å‰çš„çŠ¶æ€\n    public void Restore(IMemento memento)\n    {\n        if(!(memento is ConcreteMemento))\n        {\n            throw new Exception(\"Unknown memento class \" + memento.ToString());\n        }\n\n        this._state = memento.GetState();\n        Console.Write($\"Originator: My state has changed to: {_state}\");\n    }\n}\n//å¤‡å¿˜å½•æ¥å£\npublic interface IMemento\n{\n    string GetName();\n\n    string GetState();\n\n    DateTime GetDate();\n}\n//å…·ä½“å¤‡å¿˜å½•\nclass ConcreteMemento : IMemento\n{\n    private string _state;\n\n    private DateTime _date;\n\n    public ConcreteMemento(string state)\n    {\n        this._state = state;\n        this._date = DateTime.Now;\n    }\n\n    public string GetState()\n    {\n        return this._state;\n    }\n    public string GetName()\n    {\n        return $\"{this._date} / ({this._state.Substring(0, 9)})...\";\n    }\n\n    public DateTime GetDate()\n    {\n        return this._date;\n    }\n}\nclass Caretaker\n{\n    private List<IMemento> _mementos = new List<IMemento>();\n\n    private Originator _originator = null;\n\n     public Caretaker(Originator originator)\n    {\n        this._originator = originator;\n    }\n\n    //å¤‡ä»½\n    public void Backup()\n    {\n        Console.WriteLine(\"\\nCaretaker: Saving Originator's state...\");\n        this._mementos.Add(this._originator.Save());\n    }\n\n    //æ’¤é”€\n    public void Undo()\n    {\n        if (this._mementos.Count == 0)\n        {\n            return;\n        }\n\n        var memento = this._mementos.Last();\n        this._mementos.Remove(memento);\n\n        Console.WriteLine(\"Caretaker: Restoring state to: \" + memento.GetName());\n\n        try\n        {\n            this._originator.Restore(memento);\n        }\n        catch (Exception)\n        {\n            this.Undo();\n        }\n    }\n\n    public void ShowHistory()\n    {\n        Console.WriteLine(\"Caretaker: Here's the list of mementos:\");\n\n        foreach (var memento in this._mementos)\n        {\n            Console.WriteLine(memento.GetName());\n        }\n    }\n}\n\n//å®¢æˆ·ç«¯ä»£ç \nOriginator originator = new Originator(\"Super-duper-super-puper-super.\");\nCaretaker caretaker = new Caretaker(originator);\n\ncaretaker.Backup();\noriginator.DoSomething();\n\ncaretaker.Backup();\noriginator.DoSomething();\n\ncaretaker.Backup();\noriginator.DoSomething();\n\nConsole.WriteLine();\ncaretaker.ShowHistory();\n\nConsole.WriteLine(\"\\nClient: Now, let's rollback!\\n\");\ncaretaker.Undo();\n\nConsole.WriteLine(\"\\n\\nClient: Once more!\\n\");\ncaretaker.Undo();\n\nConsole.WriteLine();\n\n/*è¿è¡Œç»“æœ,æ ¹æ®å½“å‰æ—¶é—´æœ‰æ‰€å˜åŒ–\nå¯ä»¥æ›´æ”¹å®¢æˆ·ç«¯ä»£ç æ¥ä½“ä¼šæ›´æ·±\n\nOriginator: My initial state is: Super-duper-super-puper-super.\n\nCaretaker: Saving Originator's state...\nOriginator: I'm doing something important.\nOriginator: and my state has changed to: oGyQIIatlDDWNgYYqJATTmdwnnGZQj\n\nCaretaker: Saving Originator's state...\nOriginator: I'm doing something important.\nOriginator: and my state has changed to: jBtMDDWogzzRJbTTmEwOOhZrjjBULe\n\nCaretaker: Saving Originator's state...\nOriginator: I'm doing something important.\nOriginator: and my state has changed to: exoHyyRkbuuNEXOhhArKccUmexPPHZ\n\nCaretaker: Here's the list of mementos:\n12.06.2018 15:52:45 / (Super-dup...)\n12.06.2018 15:52:46 / (oGyQIIatl...)\n12.06.2018 15:52:46 / (jBtMDDWog...)\n\nClient: Now, let's rollback!\n\nCaretaker: Restoring state to: 12.06.2018 15:52:46 / (jBtMDDWog...)\nOriginator: My state has changed to: jBtMDDWogzzRJbTTmEwOOhZrjjBULe\n\nClient: Once more!\n\nCaretaker: Restoring state to: 12.06.2018 15:52:46 / (oGyQIIatl...)\nOriginator: My state has changed to: oGyQIIatlDDWNgYYqJATTmdwnnGZQj\n*/\n```\n\n##### é€‚åˆå¤‡å¿˜å½•æ¨¡å¼çš„åœ°æ–¹\n\n- å½“ä½ éœ€è¦åˆ›å»ºå¯¹è±¡çŠ¶æ€å¿«ç…§æ¥æ¢å¤å…¶ä¹‹å‰çš„çŠ¶æ€æ—¶ï¼Œå¯ä»¥ä½¿ç”¨å¤‡å¿˜å½•æ¨¡å¼ã€‚\n- å½“ç›´æ¥è®¿é—®å¯¹è±¡çš„æˆå‘˜å˜é‡ã€è·å–å™¨æˆ–è®¾ç½®å™¨å°†å¯¼è‡´å°è£…è¢«çªç ´æ—¶ï¼Œå¯ä»¥ä½¿ç”¨è¯¥æ¨¡å¼ã€‚\n\n##### å¤‡å¿˜å½•æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\n\n**ä¼˜ç‚¹** ï¼š\n\n- ä½ å¯ä»¥åœ¨ä¸ç ´åå¯¹è±¡å°è£…æƒ…å†µçš„å‰æä¸‹åˆ›å»ºå¯¹è±¡çŠ¶æ€å¿«ç…§ã€‚\n- ä½ å¯ä»¥é€šè¿‡è®©è´Ÿè´£äººç»´æŠ¤åŸå‘å™¨çŠ¶æ€å†å²è®°å½•æ¥ç®€åŒ–åŸå‘å™¨ä»£ç ã€‚\n\n**ç¼ºç‚¹** ï¼š\n\n- å¦‚æœå®¢æˆ·ç«¯è¿‡äºé¢‘ç¹åœ°åˆ›å»ºå¤‡å¿˜å½•ï¼Œç¨‹åºå°†æ¶ˆè€—å¤§é‡å†…å­˜ã€‚\n- è´Ÿè´£äººå¿…é¡»å®Œæ•´è·Ÿè¸ªåŸå‘å™¨çš„ç”Ÿå‘½å‘¨æœŸï¼Œè¿™æ ·æ‰èƒ½é”€æ¯å¼ƒç”¨çš„å¤‡å¿˜å½•ã€‚\n- ç»å¤§éƒ¨åˆ†åŠ¨æ€ç¼–ç¨‹è¯­è¨€ ï¼ˆä¾‹å¦‚ PHPã€ Python å’Œ JavaScriptï¼‰ ä¸èƒ½ç¡®ä¿å¤‡å¿˜å½•ä¸­çš„çŠ¶æ€ä¸è¢«ä¿®æ”¹ï¼ˆä¸c#å…³ç³»ä¸å¤§ï¼‰ã€‚\n\n#### Observer(è§‚å¯Ÿè€…æ¨¡å¼)\n\nè§‚å¯Ÿè€…æ¨¡å¼æ˜¯ä¸€ç§è¡Œä¸ºè®¾è®¡æ¨¡å¼ï¼Œå…è®¸ä½ å®šä¹‰ä¸€ç§è®¢é˜…æœºåˆ¶ï¼Œå¯åœ¨å¯¹è±¡äº‹ä»¶å‘ç”Ÿæ—¶é€šçŸ¥å¤šä¸ª â€œè§‚å¯Ÿâ€ è¯¥å¯¹è±¡çš„å…¶ä»–å¯¹è±¡ã€‚\n\n##### é—®é¢˜\n\nå‡å¦‚ä½ æœ‰ä¸¤ç§ç±»å‹çš„å¯¹è±¡ï¼šâ€‹é¡¾å®¢å’Œ å•†åº— ã€‚é¡¾å®¢å¯¹æŸä¸ªç‰¹å®šå“ç‰Œçš„äº§å“éå¸¸æ„Ÿå…´è¶£ï¼ˆä¾‹å¦‚æœ€æ–°å‹å·çš„ iPhone æ‰‹æœºï¼‰ï¼Œè€Œè¯¥äº§å“å¾ˆå¿«å°†ä¼šåœ¨å•†åº—é‡Œå‡ºå”®ã€‚\né¡¾å®¢å¯ä»¥æ¯å¤©æ¥å•†åº—çœ‹çœ‹äº§å“æ˜¯å¦åˆ°è´§ã€‚ä½†å¦‚æœå•†å“å°šæœªåˆ°è´§æ—¶ï¼Œç»å¤§å¤šæ•°æ¥åˆ°å•†åº—çš„é¡¾å®¢éƒ½ä¼šç©ºæ‰‹è€Œå½’ã€‚å¦ä¸€æ–¹é¢ï¼Œæ¯æ¬¡æ–°äº§å“åˆ°è´§æ—¶ï¼Œå•†åº—å¯ä»¥å‘æ‰€æœ‰é¡¾å®¢å‘é€é‚®ä»¶ï¼ˆå¯èƒ½ä¼šè¢«è§†ä¸ºåƒåœ¾é‚®ä»¶ï¼‰ã€‚è¿™æ ·ï¼Œéƒ¨åˆ†é¡¾å®¢å°±æ— éœ€åå¤å‰å¾€å•†åº—äº†ï¼Œä½†ä¹Ÿå¯èƒ½ä¼šæƒ¹æ¼å¯¹æ–°äº§å“æ²¡æœ‰å…´è¶£çš„å…¶ä»–é¡¾å®¢ã€‚\næˆ‘ä»¬ä¼¼ä¹é‡åˆ°äº†ä¸€ä¸ªçŸ›ç›¾ï¼šè¦ä¹ˆè®©é¡¾å®¢æµªè´¹æ—¶é—´æ£€æŸ¥äº§å“æ˜¯å¦åˆ°è´§ï¼Œè¦ä¹ˆè®©å•†åº—æµªè´¹èµ„æºå»é€šçŸ¥æ²¡æœ‰éœ€æ±‚çš„é¡¾å®¢ã€‚\n\n##### è§£å†³æ–¹æ¡ˆ\n\næ‹¥æœ‰ä¸€äº›å€¼å¾—å…³æ³¨çš„çŠ¶æ€çš„å¯¹è±¡é€šå¸¸è¢«ç§°ä¸ºç›®æ ‡ï¼Œç”±äºå®ƒè¦**å°†è‡ªèº«çš„çŠ¶æ€æ”¹å˜é€šçŸ¥ç»™å…¶ä»–å¯¹è±¡**ï¼Œæˆ‘ä»¬ä¹Ÿå°†å…¶ç§°ä¸ºå‘å¸ƒè€…(pubÂ­lishÂ­er)ã€‚æ‰€æœ‰**å¸Œæœ›å…³æ³¨å‘å¸ƒè€…çŠ¶æ€å˜åŒ–çš„å…¶ä»–å¯¹è±¡**è¢«ç§°ä¸ºè®¢é˜…è€…(subÂ­scribers)ã€‚\n\nè§‚å¯Ÿè€…æ¨¡å¼å»ºè®®ä½ ä¸ºå‘å¸ƒè€…ç±»æ·»åŠ è®¢é˜…æœºåˆ¶ï¼Œè®©æ¯ä¸ªå¯¹è±¡éƒ½èƒ½è®¢é˜…æˆ–å–æ¶ˆè®¢é˜…å‘å¸ƒè€…äº‹ä»¶æµã€‚ä¸è¦å®³æ€•ï¼è¿™å¹¶ä¸åƒå¬ä¸Šå»é‚£ä¹ˆå¤æ‚ã€‚å®é™…ä¸Šï¼Œè¯¥æœºåˆ¶åŒ…æ‹¬ **1)** ä¸€ä¸ªç”¨äºå­˜å‚¨è®¢é˜…è€…å¯¹è±¡å¼•ç”¨çš„åˆ—è¡¨æˆå‘˜å˜é‡ï¼›**2)** å‡ ä¸ªç”¨äºæ·»åŠ æˆ–åˆ é™¤è¯¥åˆ—è¡¨ä¸­è®¢é˜…è€…çš„å…¬æœ‰æ–¹æ³•ã€‚\n\nå¦‚æœä½ çš„åº”ç”¨ä¸­æœ‰å¤šä¸ªä¸åŒç±»å‹çš„å‘å¸ƒè€…ï¼Œä¸”å¸Œæœ›è®¢é˜…è€…å¯å…¼å®¹æ‰€æœ‰å‘å¸ƒè€…ï¼Œé‚£ä¹ˆä½ ç”šè‡³å¯ä»¥è¿›ä¸€æ­¥è®©æ‰€æœ‰å‘å¸ƒè€…éµå¾ªåŒæ ·çš„æ¥å£ã€‚è¯¥æ¥å£ä»…éœ€æè¿°å‡ ä¸ªè®¢é˜…æ–¹æ³•å³å¯ã€‚è¿™æ ·è®¢é˜…è€…å°±èƒ½åœ¨ä¸ä¸å…·ä½“å‘å¸ƒè€…ç±»è€¦åˆçš„æƒ…å†µä¸‹é€šè¿‡æ¥å£è§‚å¯Ÿå‘å¸ƒè€…çš„çŠ¶æ€ã€‚\n\n##### è§‚å¯Ÿè€…æ¨¡å¼ç»“æ„\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220825160617.png)\n\n1.**å‘å¸ƒè€…(PubÂ­lishÂ­er)** ä¼šå‘å…¶ä»–å¯¹è±¡å‘é€å€¼å¾—å…³æ³¨çš„äº‹ä»¶ã€‚äº‹ä»¶ä¼šåœ¨å‘å¸ƒè€…è‡ªèº«çŠ¶æ€æ”¹å˜æˆ–æ‰§è¡Œç‰¹å®šè¡Œä¸ºåå‘ç”Ÿã€‚å‘å¸ƒè€…ä¸­åŒ…å«ä¸€ä¸ªå…è®¸æ–°è®¢é˜…è€…åŠ å…¥å’Œå½“å‰è®¢é˜…è€…ç¦»å¼€åˆ—è¡¨çš„è®¢é˜…æ„æ¶ã€‚\n\n2.å½“æ–°äº‹ä»¶å‘ç”Ÿæ—¶ï¼Œå‘é€è€…ä¼šéå†è®¢é˜…åˆ—è¡¨å¹¶è°ƒç”¨æ¯ä¸ªè®¢é˜…è€…å¯¹è±¡çš„é€šçŸ¥æ–¹æ³•ã€‚è¯¥æ–¹æ³•æ˜¯åœ¨è®¢é˜…è€…æ¥å£ä¸­å£°æ˜çš„ã€‚\n\n3.**è®¢é˜…è€…(SubÂ­scriber)** æ¥å£å£°æ˜äº†é€šçŸ¥æ¥å£ã€‚åœ¨ç»å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œè¯¥æ¥å£ä»…åŒ…å«ä¸€ä¸ª updateæ›´æ–°æ–¹æ³•ã€‚è¯¥æ–¹æ³•å¯ä»¥æ‹¥æœ‰å¤šä¸ªå‚æ•°ï¼Œä½¿å‘å¸ƒè€…èƒ½åœ¨æ›´æ–°æ—¶ä¼ é€’äº‹ä»¶çš„è¯¦ç»†ä¿¡æ¯ã€‚\n\n4.**å…·ä½“è®¢é˜…è€…(ConÂ­crete SubÂ­scribers)** å¯ä»¥æ‰§è¡Œä¸€äº›æ“ä½œæ¥å›åº”å‘å¸ƒè€…çš„é€šçŸ¥ã€‚æ‰€æœ‰å…·ä½“è®¢é˜…è€…ç±»éƒ½å®ç°äº†åŒæ ·çš„æ¥å£ï¼Œå› æ­¤å‘å¸ƒè€…ä¸éœ€è¦ä¸å…·ä½“ç±»ç›¸è€¦åˆã€‚\n\n5.è®¢é˜…è€…é€šå¸¸éœ€è¦ä¸€äº›ä¸Šä¸‹æ–‡ä¿¡æ¯æ¥æ­£ç¡®åœ°å¤„ç†æ›´æ–°ã€‚å› æ­¤ï¼Œå‘å¸ƒè€…é€šå¸¸ä¼šå°†ä¸€äº›ä¸Šä¸‹æ–‡æ•°æ®ä½œä¸ºé€šçŸ¥æ–¹æ³•çš„å‚æ•°è¿›è¡Œä¼ é€’ã€‚å‘å¸ƒè€…ä¹Ÿå¯å°†è‡ªèº«ä½œä¸ºå‚æ•°è¿›è¡Œä¼ é€’ï¼Œä½¿è®¢é˜…è€…ç›´æ¥è·å–æ‰€éœ€çš„æ•°æ®ã€‚\n\n6.**å®¢æˆ·ç«¯(Client)** ä¼šåˆ†åˆ«åˆ›å»ºå‘å¸ƒè€…å’Œè®¢é˜…è€…å¯¹è±¡ï¼Œç„¶åä¸ºè®¢é˜…è€…æ³¨å†Œå‘å¸ƒè€…æ›´æ–°ã€‚\n\n##### ä¼ªä»£ç \n\nè§‚å¯Ÿè€…æ¨¡å¼åœ¨ C# ä»£ç ä¸­å¾ˆå¸¸è§ï¼Œç‰¹åˆ«æ˜¯åœ¨ GUI ç»„ä»¶ä¸­ã€‚å®ƒæä¾›äº†åœ¨ä¸ä¸å…¶ä»–å¯¹è±¡æ‰€å±ç±»è€¦åˆçš„æƒ…å†µä¸‹å¯¹å…¶äº‹ä»¶åšå‡ºååº”çš„æ–¹å¼ã€‚åªè¦æ˜¯ä¸€å¯¹å¤šçš„å¹¿æ’­æ¨¡å¼çš„éœ€æ±‚ï¼Œè§‚å¯Ÿè€…æ¨¡å¼åŸºæœ¬ä¸Šå¯ä»¥ç”¨åˆ°ã€‚è€Œä¸”ä»£ç ç»“æ„ååˆ†å®¹æ˜“ç†è§£\n\n```csharp\n//æä¾›è®¢é˜…è€…æ¥å£\npublic interface ISubscriber\n{\n    //æ·»åŠ Observerï¼Œä¹Ÿå°±æ˜¯æ¥å—ä¿¡æ¯çš„äºº\n    void Attach(IObserver observer);\n\n    //å»æ‰Observer\n    void Detach(IObserver observer);\n\n    //é€šçŸ¥\n    void Notify();\n}\n//å‘å¸ƒè€…æ‹¥æœ‰è‡ªèº«çŠ¶æ€\npublic class Subscriber : ISubscriber\n{\n    //å½“å‘å¸ƒå™¨çŠ¶æ€å‘ç”Ÿæ”¹å˜çš„æ—¶å€™å¯èƒ½è¦è¿›è¡Œæ¨é€\n    //ä¼ªä»£ç è¿™é‡Œç®€åŒ–äº†çŠ¶æ€\n    public int State {get;set;} = -0;\n\n    //è®¢é˜…å‘å¸ƒå™¨çš„é˜Ÿåˆ—\n    private List<IObserver> _observers = new List<IObserver>();\n\n    public void Attach(IObserver observer)\n    {\n        Console.WriteLine(\"Subscriber: Attached an obseerver.\");\n        this._observers.Add(observer);\n    }\n\n    public void Detach(IObserver observer)\n    {\n        this._observers.Remove(observer);\n        Console.WriteLine(\"Subscriber: Detached an observer.\");\n    }\n\n    public void Notify()\n    {\n        Console.WriteLine(\"Subscriber: Notifying observers...\");\n\n        foreach (var observer in _observers)\n        {\n            observer.Update(this);\n        }\n    }\n\n    //ä¸»è¦çš„ä¸šåŠ¡é€»è¾‘\n    public void SomeBusinessLogic()\n    {\n        Console.WriteLine(\"\\nsubscriber: I'm doing something important.\");\n        this.State = new Random().Next(0, 10);\n\n        Thread.Sleep(15);\n\n        Console.WriteLine(\"subscriber: My state has just changed to: \" + this.State);\n        this.Notify();\n    }\n}\n//é€šç”¨è§‚å¯Ÿè€…æ¥å£\npublic interface IObserver\n{\n    void Update(ISubscriber subscriber);\n}\n//å…·ä½“è§‚å¯Ÿè€…\nclass ConcreteObserverA : IObserver\n{\n    public void Update(ISubscriber subscriber)\n    {            \n        if ((subscriber as Subscriber).State < 3)\n        {\n            Console.WriteLine(\"ConcreteObserverA: Reacted to the event.\");\n        }\n    }\n}\nclass ConcreteObserverB : IObserver\n{\n    public void Update(ISubscriber subscriber)\n    {\n        if ((subscriber as Subscriber).State == 0 || (subscriber as Subscriber).State >= 2)\n        {\n            Console.WriteLine(\"ConcreteObserverB: Reacted to the event.\");\n        }\n    }\n}\n\n//å®¢æˆ·ç«¯ä»£ç \nvar subscriber = new Subscriber();\n\nvar observerA = new ConcreteObserverA();\nsubscriber.Attach(observerA);\n\nvar observerB = new ConcreteObserverB();\nsubscriber.Attach(observerB);\n\nsubscriber.SomeBusinessLogic();\nsubscriber.SomeBusinessLogic();\n\nsubscriber.Detach(observerB);\n\nsubscriber.SomeBusinessLogic();\n\n/*è¿è¡Œç»“æœ\nSubscriber: Attached an observer.\nSubscriber: Attached an observer.\n\nSubscriber: I'm doing something important.\nSubscriber: My state has just changed to: 2\nSubscriber: Notifying observers...\nConcreteObserverA: Reacted to the event.\nConcreteObserverB: Reacted to the event.\n\nSubscriber: I'm doing something important.\nSubscriber: My state has just changed to: 1\nSubscriber: Notifying observers...\nConcreteObserverA: Reacted to the event.\nSubscriber: Detached an observer.\n\nSubscriber: I'm doing something important.\nSubscriber: My state has just changed to: 5\nSubscriber: Notifying observers...\n*/\n```\n\n##### é€‚åˆè§‚å¯Ÿè€…æ¨¡å¼çš„åœ°æ–¹\n\n- å½“ä¸€ä¸ªå¯¹è±¡çŠ¶æ€çš„æ”¹å˜éœ€è¦æ”¹å˜å…¶ä»–å¯¹è±¡ï¼Œæˆ–å®é™…å¯¹è±¡æ˜¯äº‹å…ˆæœªçŸ¥çš„æˆ–åŠ¨æ€å˜åŒ–çš„æ—¶ï¼Œå¯ä½¿ç”¨è§‚å¯Ÿè€…æ¨¡å¼ã€‚\n- å½“åº”ç”¨ä¸­çš„ä¸€äº›å¯¹è±¡å¿…é¡»è§‚å¯Ÿå…¶ä»–å¯¹è±¡æ—¶ï¼Œå¯ä½¿ç”¨è¯¥æ¨¡å¼ã€‚ä½†ä»…èƒ½åœ¨æœ‰é™æ—¶é—´å†…æˆ–ç‰¹å®šæƒ…å†µä¸‹ä½¿ç”¨ã€‚\n\n##### è§‚å¯Ÿè€…æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\n\n**ä¼˜ç‚¹** ï¼š\n\n- ç¬¦åˆOCP\n- ä½ å¯ä»¥åœ¨è¿è¡Œæ—¶å»ºç«‹å¯¹è±¡ä¹‹é—´çš„è”ç³»ã€‚\n\n\n**ç¼ºç‚¹** ï¼š\n\n- è®¢é˜…è€…çš„é€šçŸ¥é¡ºåºæ˜¯éšæœºçš„ã€‚\n\n#### State(çŠ¶æ€æ¨¡å¼)\n\nçŠ¶æ€æ¨¡å¼æ˜¯ä¸€ç§è¡Œä¸ºè®¾è®¡æ¨¡å¼ï¼Œè®©ä½ èƒ½åœ¨ä¸€ä¸ªå¯¹è±¡çš„å†…éƒ¨çŠ¶æ€å˜åŒ–æ—¶æ”¹å˜å…¶è¡Œä¸ºï¼Œä½¿å…¶çœ‹ä¸Šå»å°±åƒæ”¹å˜äº†è‡ªèº«æ‰€å±çš„ç±»ä¸€æ ·ã€‚\n\n##### é—®é¢˜\n\nçŠ¶æ€æ¨¡å¼ä¸æœ‰é™çŠ¶æ€æœºçš„æ¦‚å¿µç´§å¯†ç›¸å…³ã€‚\nå…¶ä¸»è¦æ€æƒ³æ˜¯ç¨‹åºåœ¨ä»»æ„æ—¶åˆ»ä»…å¯å¤„äºå‡ ç§**æœ‰é™çš„çŠ¶æ€**ä¸­ã€‚åœ¨ä»»ä½•ä¸€ä¸ªç‰¹å®šçŠ¶æ€ä¸­ï¼Œç¨‹åºçš„è¡Œä¸ºéƒ½ä¸ç›¸åŒï¼Œä¸”å¯ç¬é—´ä»ä¸€ä¸ªçŠ¶æ€åˆ‡æ¢åˆ°å¦ä¸€ä¸ªçŠ¶æ€ã€‚ä¸è¿‡ï¼Œæ ¹æ®å½“å‰çŠ¶æ€ï¼Œç¨‹åºå¯èƒ½ä¼šåˆ‡æ¢åˆ°å¦å¤–ä¸€ç§çŠ¶æ€ï¼Œä¹Ÿå¯èƒ½ä¼šä¿æŒå½“å‰çŠ¶æ€ä¸å˜ã€‚è¿™äº›æ•°é‡æœ‰é™ä¸”é¢„å…ˆå®šä¹‰çš„çŠ¶æ€åˆ‡æ¢è§„åˆ™è¢«ç§°ä¸ºè½¬ç§»ã€‚\n\nçŠ¶æ€æœºé€šå¸¸ç”±ä¼—å¤šæ¡ä»¶è¿ç®—ç¬¦ ï¼ˆ ifæˆ– switch ï¼‰ å®ç°ï¼Œå¯æ ¹æ®å¯¹è±¡çš„å½“å‰çŠ¶æ€é€‰æ‹©ç›¸åº”çš„è¡Œä¸ºã€‚ â€‹â€œçŠ¶æ€â€ é€šå¸¸åªæ˜¯å¯¹è±¡ä¸­çš„ä¸€ç»„æˆå‘˜å˜é‡å€¼ã€‚å³ä½¿ä½ ä¹‹å‰ä»æœªå¬è¯´è¿‡æœ‰é™çŠ¶æ€æœºï¼Œä½ ä¹Ÿå¾ˆå¯èƒ½å·²ç»å®ç°è¿‡çŠ¶æ€æ¨¡å¼ã€‚ä¸‹é¢çš„ä»£ç åº”è¯¥èƒ½å¸®åŠ©ä½ å›å¿†èµ·æ¥ã€‚\n\n```csharp\nclass Document is\n    field state: string\n    // ...\n    method publish() is\n        switch (state)\n            \"draft\":\n                state = \"moderation\"\n                break\n            \"moderation\":\n                if (currentUser.role == \"admin\")\n                    state = \"published\"\n                break\n            \"published\":\n                // ä»€ä¹ˆä¹Ÿä¸åšã€‚\n                break\n    // ...\n```\n\nå½“æˆ‘ä»¬é€æ­¥åœ¨æ–‡æ¡£ç±»ä¸­æ·»åŠ æ›´å¤šçŠ¶æ€å’Œä¾èµ–äºçŠ¶æ€çš„è¡Œä¸ºåï¼ŒåŸºäºæ¡ä»¶è¯­å¥çš„çŠ¶æ€æœºå°±ä¼šæš´éœ²å…¶æœ€å¤§çš„å¼±ç‚¹ã€‚ä¸ºäº†èƒ½æ ¹æ®å½“å‰çŠ¶æ€é€‰æ‹©å®Œæˆç›¸åº”è¡Œä¸ºçš„æ–¹æ³•ï¼Œç»å¤§éƒ¨åˆ†æ–¹æ³•ä¸­ä¼šåŒ…å«å¤æ‚çš„æ¡ä»¶è¯­å¥ã€‚ä¿®æ”¹å…¶è½¬æ¢é€»è¾‘å¯èƒ½ä¼šæ¶‰åŠåˆ°ä¿®æ”¹æ‰€æœ‰æ–¹æ³•ä¸­çš„çŠ¶æ€æ¡ä»¶è¯­å¥ï¼Œå¯¼è‡´ä»£ç çš„ç»´æŠ¤å·¥ä½œéå¸¸è‰°éš¾ã€‚\n\n##### è§£å†³æ–¹æ¡ˆ\n\nçŠ¶æ€æ¨¡å¼å»ºè®®ä¸ºå¯¹è±¡çš„æ‰€æœ‰å¯èƒ½çŠ¶æ€æ–°å»ºä¸€ä¸ªç±»ï¼Œç„¶åå°†æ‰€æœ‰çŠ¶æ€çš„å¯¹åº”è¡Œä¸ºæŠ½å–åˆ°è¿™äº›ç±»ä¸­ã€‚\n\nåŸå§‹å¯¹è±¡è¢«ç§°ä¸ºä¸Šä¸‹æ–‡(conÂ­text)ï¼Œå®ƒå¹¶ä¸ä¼šè‡ªè¡Œå®ç°æ‰€æœ‰è¡Œä¸ºï¼Œè€Œæ˜¯ä¼šä¿å­˜ä¸€ä¸ªæŒ‡å‘è¡¨ç¤ºå½“å‰çŠ¶æ€çš„çŠ¶æ€å¯¹è±¡çš„å¼•ç”¨ï¼Œä¸”å°†æ‰€æœ‰ä¸çŠ¶æ€ç›¸å…³çš„å·¥ä½œå§”æ´¾ç»™è¯¥å¯¹è±¡ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220825164123.png)\n\nå¦‚éœ€å°†ä¸Šä¸‹æ–‡è½¬æ¢ä¸ºå¦å¤–ä¸€ç§çŠ¶æ€ï¼Œåˆ™éœ€å°†å½“å‰æ´»åŠ¨çš„çŠ¶æ€å¯¹è±¡æ›¿æ¢ä¸ºå¦å¤–ä¸€ä¸ªä»£è¡¨æ–°çŠ¶æ€çš„å¯¹è±¡ã€‚é‡‡ç”¨è¿™ç§æ–¹å¼æ˜¯æœ‰å‰æçš„ï¼šæ‰€æœ‰çŠ¶æ€ç±»éƒ½å¿…é¡»éµå¾ªåŒæ ·çš„æ¥å£ï¼Œè€Œä¸”ä¸Šä¸‹æ–‡å¿…é¡»ä»…é€šè¿‡æ¥å£ä¸è¿™äº›å¯¹è±¡è¿›è¡Œäº¤äº’ã€‚\n\nè¿™ä¸ªç»“æ„å¯èƒ½çœ‹ä¸Šå»ä¸ç­–ç•¥æ¨¡å¼ç›¸ä¼¼ï¼Œä½†æœ‰ä¸€ä¸ªå…³é”®æ€§çš„ä¸åŒâ€”â€” åœ¨çŠ¶æ€æ¨¡å¼ä¸­ï¼Œç‰¹**å®šçŠ¶æ€çŸ¥é“å…¶ä»–æ‰€æœ‰çŠ¶æ€çš„å­˜åœ¨ï¼Œä¸”èƒ½è§¦å‘ä»ä¸€ä¸ªçŠ¶æ€åˆ°å¦ä¸€ä¸ªçŠ¶æ€çš„è½¬æ¢**ï¼›ç­–ç•¥åˆ™**å‡ ä¹å®Œå…¨ä¸çŸ¥é“å…¶ä»–ç­–ç•¥çš„å­˜åœ¨**ã€‚\n\n##### çŠ¶æ€æ¨¡å¼ç»“æ„\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220825164235.png)\n\n1.**ä¸Šä¸‹æ–‡(ConÂ­text)** ä¿å­˜äº†å¯¹äºä¸€ä¸ªå…·ä½“çŠ¶æ€å¯¹è±¡çš„å¼•ç”¨ï¼Œå¹¶ä¼šå°†æ‰€æœ‰ä¸è¯¥çŠ¶æ€ç›¸å…³çš„å·¥ä½œå§”æ´¾ç»™å®ƒã€‚ä¸Šä¸‹æ–‡é€šè¿‡çŠ¶æ€æ¥å£ä¸çŠ¶æ€å¯¹è±¡äº¤äº’ï¼Œä¸”ä¼šæä¾›ä¸€ä¸ªè®¾ç½®å™¨ç”¨äºä¼ é€’æ–°çš„çŠ¶æ€å¯¹è±¡ã€‚\n\n2.**çŠ¶æ€(State)** æ¥å£ä¼šå£°æ˜ç‰¹å®šäºçŠ¶æ€çš„æ–¹æ³•ã€‚è¿™äº›æ–¹æ³•åº”èƒ½è¢«å…¶ä»–æ‰€æœ‰å…·ä½“çŠ¶æ€æ‰€ç†è§£ï¼Œå› ä¸ºä½ ä¸å¸Œæœ›æŸäº›çŠ¶æ€æ‰€æ‹¥æœ‰çš„æ–¹æ³•æ°¸è¿œä¸ä¼šè¢«è°ƒç”¨ã€‚\n\n3.**å…·ä½“çŠ¶æ€(ConÂ­crete States)** ä¼šè‡ªè¡Œå®ç°ç‰¹å®šäºçŠ¶æ€çš„æ–¹æ³•ã€‚ä¸ºäº†é¿å…å¤šä¸ªçŠ¶æ€ä¸­åŒ…å«ç›¸ä¼¼ä»£ç ï¼Œä½ å¯ä»¥æä¾›ä¸€ä¸ªå°è£…æœ‰éƒ¨åˆ†é€šç”¨è¡Œä¸ºçš„ä¸­é—´æŠ½è±¡ç±»ã€‚\nçŠ¶æ€å¯¹è±¡å¯å­˜å‚¨å¯¹äºä¸Šä¸‹æ–‡å¯¹è±¡çš„åå‘å¼•ç”¨ã€‚çŠ¶æ€å¯ä»¥é€šè¿‡è¯¥å¼•ç”¨ä»ä¸Šä¸‹æ–‡å¤„è·å–æ‰€éœ€ä¿¡æ¯ï¼Œå¹¶ä¸”èƒ½è§¦å‘çŠ¶æ€è½¬ç§»ã€‚\n\n4.ä¸Šä¸‹æ–‡å’Œå…·ä½“çŠ¶æ€éƒ½å¯ä»¥è®¾ç½®ä¸Šä¸‹æ–‡çš„ä¸‹ä¸ªçŠ¶æ€ï¼Œå¹¶å¯é€šè¿‡æ›¿æ¢è¿æ¥åˆ°ä¸Šä¸‹æ–‡çš„çŠ¶æ€å¯¹è±¡æ¥å®Œæˆå®é™…çš„çŠ¶æ€è½¬æ¢ã€‚\n\n##### ä¼ªä»£ç \n\nçŠ¶æ€æ¨¡å¼åœ¨æ¸¸æˆä¸­è¿˜æ˜¯ååˆ†å¸¸è§çš„ï¼Œæ¯”å¦‚äººç‰©åŠ¨ç”»çŠ¶æ€çš„å˜åŒ–ï¼Œä½†æ˜¯æ¯”è¾ƒå¤šçš„è¿˜æ˜¯AIä¸­ï¼Œä¸è¿‡æ˜¯ç®€å•æ¸¸æˆé‡Œçš„ï¼ˆå¤§å‹æ¸¸æˆçš„æ–¹æ¡ˆå¯èƒ½ä¸å¤ªä¸€æ ·ï¼‰\n\n```csharp\n//Contextç±»å°±æ˜¯è¦è¿›è¡ŒçŠ¶æ€å˜åŒ–çš„ç±»\nclass Context\n{\n    private State _state = null;\n\n    public Context(State state)\n    {\n        this.ChangeState(state);\n    }\n\n    public void ChangeState(State state)\n    {\n        Console.WriteLine($\"Context: Transition to {state.GetType().Name}.\");\n        this._state = state;\n        this._state.SetContext(this);\n    }\n\n    public void Request1()\n    {\n        this._state.Handle1();\n    }\n\n    public void Request2()\n    {\n        this._state.Handle2();\n    }\n}\n//çŠ¶æ€åŸºç±»\nabstract class State\n{\n    protected Context _context;\n\n    public void SetContext(Context context)\n    {\n        this._context = context;\n    }\n\n    public abstract void Handle1();\n\n    public abstract void Handle2();\n}\nclass ConcreteStateA : State\n{\n    public override void Handle1()\n    {\n       Console.WriteLine(\"ConcreteStateA handles request1.\");\n        Console.WriteLine(\"ConcreteStateA wants to change the state of the context.\");\n       this._context.ChangeState(new ConcreteStateB());\n    }\n\n    public override void Handle2()\n    {\n       Console.WriteLine(\"ConcreteStateA handles request2.\");\n    }\n}\nclass ConcreteStateB : State\n{\n    public override void Handle1()\n    {\n        Console.Write(\"ConcreteStateB handles request1.\");\n    }\n\n    public override void Handle2()\n    {\n        Console.WriteLine(\"ConcreteStateB handles request2.\");\n        Console.WriteLine(\"ConcreteStateB wants to change the state of the context.\");\n        this._context.ChangeState(new ConcreteStateA());\n    }\n}\n\n//å®¢æˆ·ç«¯ä»£ç \nvar context = new Context(new ConcreteStateA());\ncontext.Request1();\ncontext.Request2();\n\n/*è¿è¡Œç»“æœ\nContext: Transition to ConcreteStateA.\nConcreteStateA handles request1.\nConcreteStateA wants to change the state of the context.\nContext: Transition to ConcreteStateB.\nConcreteStateB handles request2.\nConcreteStateB wants to change the state of the context.\nContext: Transition to ConcreteStateA.\n*/\n```\n\n##### é€‚åˆçŠ¶æ€æ¨¡å¼çš„åœ°æ–¹\n\n- å¦‚æœå¯¹è±¡éœ€è¦æ ¹æ®è‡ªèº«å½“å‰çŠ¶æ€è¿›è¡Œä¸åŒè¡Œä¸ºï¼ŒåŒæ—¶çŠ¶æ€çš„æ•°é‡éå¸¸å¤šä¸”ä¸çŠ¶æ€ç›¸å…³çš„ä»£ç ä¼šé¢‘ç¹å˜æ›´çš„è¯ï¼Œå¯ä½¿ç”¨çŠ¶æ€æ¨¡å¼ã€‚\n- å¦‚æœæŸä¸ªç±»éœ€è¦æ ¹æ®æˆå‘˜å˜é‡çš„å½“å‰å€¼æ”¹å˜è‡ªèº«è¡Œä¸ºï¼Œä»è€Œéœ€è¦ä½¿ç”¨å¤§é‡çš„æ¡ä»¶è¯­å¥æ—¶ï¼Œå¯ä½¿ç”¨è¯¥æ¨¡å¼ã€‚\n- å½“ç›¸ä¼¼çŠ¶æ€å’ŒåŸºäºæ¡ä»¶çš„çŠ¶æ€æœºè½¬æ¢ä¸­å­˜åœ¨è®¸å¤šé‡å¤ä»£ç æ—¶ï¼Œå¯ä½¿ç”¨çŠ¶æ€æ¨¡å¼ã€‚\n\n##### çŠ¶æ€æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\n\n**ä¼˜ç‚¹** ï¼š\n\n- ç¬¦åˆSRP\n- ç¬¦åˆOCP\n- é€šè¿‡æ¶ˆé™¤è‡ƒè‚¿çš„çŠ¶æ€æœºæ¡ä»¶è¯­å¥ç®€åŒ–ä¸Šä¸‹æ–‡ä»£ç ã€‚\n\n**ç¼ºç‚¹** ï¼š\n\n- å¦‚æœçŠ¶æ€æœºåªæœ‰å¾ˆå°‘çš„å‡ ä¸ªçŠ¶æ€ï¼Œæˆ–è€…å¾ˆå°‘å‘ç”Ÿæ”¹å˜ï¼Œé‚£ä¹ˆåº”ç”¨è¯¥æ¨¡å¼å¯èƒ½ä¼šæ˜¾å¾—å°é¢˜å¤§ä½œã€‚\n\n#### Strategy(ç­–ç•¥æ¨¡å¼)\n\nç­–ç•¥æ¨¡å¼æ˜¯ä¸€ç§è¡Œä¸ºè®¾è®¡æ¨¡å¼ï¼Œå®ƒèƒ½è®©ä½ å®šä¹‰ä¸€ç³»åˆ—ç®—æ³•ï¼Œå¹¶å°†æ¯ç§ç®—æ³•åˆ†åˆ«æ”¾å…¥ç‹¬ç«‹çš„ç±»ä¸­ï¼Œä»¥ä½¿ç®—æ³•çš„å¯¹è±¡èƒ½å¤Ÿç›¸äº’æ›¿æ¢ã€‚\n\n##### é—®é¢˜\n\nä¸€å¤©ï¼Œä½ æ‰“ç®—ä¸ºæ¸¸å®¢ä»¬åˆ›å»ºä¸€æ¬¾å¯¼æ¸¸ç¨‹åºã€‚è¯¥ç¨‹åºçš„æ ¸å¿ƒåŠŸèƒ½æ˜¯æä¾›ç¾è§‚çš„åœ°å›¾ï¼Œ ä»¥å¸®åŠ©ç”¨æˆ·åœ¨ä»»ä½•åŸå¸‚ä¸­å¿«é€Ÿå®šä½ã€‚ç”¨æˆ·æœŸå¾…çš„ç¨‹åºæ–°åŠŸèƒ½æ˜¯è‡ªåŠ¨è·¯çº¿è§„åˆ’ï¼šä»–ä»¬å¸Œæœ›è¾“å…¥åœ°å€åå°±èƒ½åœ¨åœ°å›¾ä¸Šçœ‹åˆ°å‰å¾€ç›®çš„åœ°çš„æœ€å¿«è·¯çº¿ã€‚ç¨‹åºçš„é¦–ä¸ªç‰ˆæœ¬åªèƒ½è§„åˆ’å…¬è·¯è·¯çº¿ã€‚é©¾è½¦æ—…è¡Œçš„äººä»¬å¯¹æ­¤éå¸¸æ»¡æ„ã€‚ä½†å¾ˆæ˜¾ç„¶ï¼Œå¹¶éæ‰€æœ‰äººéƒ½ä¼šåœ¨åº¦å‡æ—¶å¼€è½¦ã€‚å› æ­¤ä½ åœ¨ä¸‹æ¬¡æ›´æ–°æ—¶æ·»åŠ äº†è§„åˆ’æ­¥è¡Œè·¯çº¿çš„åŠŸèƒ½ã€‚æ­¤åï¼Œä½ åˆæ·»åŠ äº†è§„åˆ’å…¬å…±äº¤é€šè·¯çº¿çš„åŠŸèƒ½ã€‚è€Œè¿™åªæ˜¯ä¸ªå¼€å§‹ã€‚ä¸ä¹…åï¼Œä½ åˆè¦ä¸ºéª‘è¡Œè€…è§„åˆ’è·¯çº¿ã€‚åˆè¿‡äº†ä¸€æ®µæ—¶é—´ï¼Œä½ åˆè¦ä¸ºæ¸¸è§ˆåŸå¸‚ä¸­çš„æ‰€æœ‰æ™¯ç‚¹è§„åˆ’è·¯çº¿ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220826203722.png)\n\n##### è§£å†³æ–¹æ¡ˆ\n\nç­–ç•¥æ¨¡å¼å»ºè®®**æ‰¾å‡ºè´Ÿè´£ç”¨è®¸å¤šä¸åŒæ–¹å¼å®Œæˆç‰¹å®šä»»åŠ¡çš„ç±»ï¼Œç„¶åå°†å…¶ä¸­çš„ç®—æ³•æŠ½å–åˆ°ä¸€ç»„**è¢«ç§°ä¸ºç­–ç•¥çš„ç‹¬ç«‹ç±»ä¸­ã€‚åä¸ºä¸Šä¸‹æ–‡çš„åŸå§‹ç±»å¿…é¡»åŒ…å«ä¸€ä¸ªæˆå‘˜å˜é‡æ¥å­˜å‚¨å¯¹äºæ¯ç§ç­–ç•¥çš„å¼•ç”¨ã€‚ä¸Šä¸‹æ–‡å¹¶ä¸æ‰§è¡Œä»»åŠ¡ï¼Œè€Œæ˜¯å°†å·¥ä½œå§”æ´¾ç»™å·²è¿æ¥çš„ç­–ç•¥å¯¹è±¡ã€‚ä¸Šä¸‹æ–‡ä¸è´Ÿè´£é€‰æ‹©ç¬¦åˆä»»åŠ¡éœ€è¦çš„ç®—æ³•â€”â€”å®¢æˆ·ç«¯ä¼šå°†æ‰€éœ€ç­–ç•¥ä¼ é€’ç»™ä¸Šä¸‹æ–‡ã€‚å®é™…ä¸Šï¼Œä¸Šä¸‹æ–‡å¹¶ä¸ååˆ†äº†è§£ç­–ç•¥ï¼Œå®ƒä¼šé€šè¿‡åŒæ ·çš„é€šç”¨æ¥å£ä¸æ‰€æœ‰ç­–ç•¥è¿›è¡Œäº¤äº’ï¼Œè€Œè¯¥æ¥å£åªéœ€æš´éœ²ä¸€ä¸ªæ–¹æ³•æ¥è§¦å‘æ‰€é€‰ç­–ç•¥ä¸­å°è£…çš„ç®—æ³•å³å¯ã€‚ï¼ˆä¸Šä¸‹æ–‡å…¶å®å°±æ˜¯ä¸»è§’ï¼‰\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220826205036.png)\n\n##### ç­–ç•¥æ¨¡å¼ç»“æ„\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220826205148.png)\n\n1.**ä¸Šä¸‹æ–‡(ConÂ­text)** ç»´æŠ¤æŒ‡å‘å…·ä½“ç­–ç•¥çš„å¼•ç”¨ï¼Œä¸”ä»…é€šè¿‡ç­–ç•¥æ¥å£ä¸è¯¥å¯¹è±¡è¿›è¡Œäº¤æµã€‚\n\n2.**ç­–ç•¥(StratÂ­eÂ­gy)** æ¥å£æ˜¯æ‰€æœ‰å…·ä½“ç­–ç•¥çš„é€šç”¨æ¥å£ï¼Œå®ƒå£°æ˜äº†ä¸€ä¸ªä¸Šä¸‹æ–‡ç”¨äºæ‰§è¡Œç­–ç•¥çš„æ–¹æ³•ã€‚\n\n3.**å…·ä½“ç­–ç•¥(ConÂ­crete StrateÂ­gies)** å®ç°äº†ä¸Šä¸‹æ–‡æ‰€ç”¨ç®—æ³•çš„å„ç§ä¸åŒå˜ä½“ã€‚\n\n4.å½“ä¸Šä¸‹æ–‡éœ€è¦è¿è¡Œç®—æ³•æ—¶ï¼Œå®ƒä¼šåœ¨å…¶å·²è¿æ¥çš„ç­–ç•¥å¯¹è±¡ä¸Šè°ƒç”¨æ‰§è¡Œæ–¹æ³•ã€‚ä¸Šä¸‹æ–‡ä¸æ¸…æ¥šå…¶æ‰€æ¶‰åŠçš„ç­–ç•¥ç±»å‹ä¸ç®—æ³•çš„æ‰§è¡Œæ–¹å¼ã€‚\n\n5.**å®¢æˆ·ç«¯(Client)** ä¼šåˆ›å»ºä¸€ä¸ªç‰¹å®šç­–ç•¥å¯¹è±¡å¹¶å°†å…¶ä¼ é€’ç»™ä¸Šä¸‹æ–‡ã€‚ä¸Šä¸‹æ–‡åˆ™ä¼šæä¾›ä¸€ä¸ªè®¾ç½®å™¨ä»¥ä¾¿å®¢æˆ·ç«¯åœ¨è¿è¡Œæ—¶æ›¿æ¢ç›¸å…³è”çš„ç­–ç•¥ã€‚\n\n##### ä¼ªä»£ç \n\nç”±äºè·ŸçŠ¶æ€æ¨¡å¼å¾ˆç›¸è¿‘ï¼Œè¿˜æ˜¯å¾ˆå®¹æ˜“ç†è§£çš„ï¼Œæ³¨æ„ä¸€ä¸‹ä¸åŒå°±å¯ä»¥ã€‚\n\n```csharp\n//Contextä¸»ä½“ç±»ï¼Œå…¶å®å¯ä»¥æ˜¯Playerç±»ï¼Œç›¸å½“äºä¸»é¢˜åšæ“ä½œçš„ç±»\nclass Context\n{\n    //ä½¿ç”¨çš„ç­–ç•¥\n    private IStrategy _strategy;\n\n    public Context() {}\n\n    public Context(IStrategy strategy)\n    {\n        this._strategy = strategy;\n    }\n\n    public void SetStrategy(IStrategy strategy)\n    {\n        this._strategy = strategy;\n    }\n\n    //æ ¹æ®ç­–ç•¥è¿›è¡Œæ“ä½œ\n    public void DoSomeBusinessLogic()\n    {\n        Console.WriteLine(\"Context: Sorting data using the strategy (not sure how it'll do it)\");\n        var result = this._strategy.DoAlgorithm(new List<string> { \"a\", \"b\", \"c\", \"d\", \"e\" });\n\n        string resultStr = string.Empty;\n        foreach (var element in result as List<string>)\n        {\n            resultStr += element + \",\";\n        }\n\n        Console.WriteLine(resultStr);\n    }\n}\n//Strategyæ¥å£å£°æ˜æ–¹æ³•\npublic interface IStrategy\n{\n    object DoAlgorithm(object data);\n}\n//å…·ä½“ç­–ç•¥\nclass ConcreteStrategyA : IStrategy\n{\n    public object DoAlgorithm(object data)\n    {\n        var list = data as List<string>;\n        list.Sort();\n\n        return list;\n    }\n}\n\nclass ConcreteStrategyB : IStrategy\n{\n    public object DoAlgorithm(object data)\n    {\n        var list = data as List<string>;\n        list.Sort();\n        list.Reverse();\n\n        return list;\n    }\n}\n\n//å®¢æˆ·ç«¯ä»£ç \nvar context = new Context();\n\nConsole.WriteLine(\"Client: Strategy is set to normal sorting.\");\ncontext.SetStrategy(new ConcreteStrategyA());\ncontext.DoSomeBusinessLogic();\n            \nConsole.WriteLine();\n            \nConsole.WriteLine(\"Client: Strategy is set to reverse sorting.\");\ncontext.SetStrategy(new ConcreteStrategyB());\ncontext.DoSomeBusinessLogic();\n\n/*è¿è¡Œç»“æœ\nClient: Strategy is set to normal sorting.\nContext: Sorting data using the strategy (not sure how it'll do it)\na,b,c,d,e\n\nClient: Strategy is set to reverse sorting.\nContext: Sorting data using the strategy (not sure how it'll do it)\ne,d,c,b,a\n*/\n```\n\n##### é€‚åˆç­–ç•¥æ¨¡å¼çš„åœ°æ–¹\n\n- å½“ä½ æƒ³ä½¿ç”¨å¯¹è±¡ä¸­å„ç§ä¸åŒçš„ç®—æ³•å˜ä½“ï¼Œå¹¶å¸Œæœ›èƒ½åœ¨è¿è¡Œæ—¶åˆ‡æ¢ç®—æ³•æ—¶ï¼Œå¯ä½¿ç”¨ç­–ç•¥æ¨¡å¼ã€‚\n- å½“ä½ æœ‰è®¸å¤šä»…åœ¨æ‰§è¡ŒæŸäº›è¡Œä¸ºæ—¶ç•¥æœ‰ä¸åŒçš„ç›¸ä¼¼ç±»æ—¶ï¼Œå¯ä½¿ç”¨ç­–ç•¥æ¨¡å¼ã€‚\n- å¦‚æœç®—æ³•åœ¨ä¸Šä¸‹æ–‡çš„é€»è¾‘ä¸­ä¸æ˜¯ç‰¹åˆ«é‡è¦ï¼Œä½¿ç”¨è¯¥æ¨¡å¼èƒ½å°†ç±»çš„ä¸šåŠ¡é€»è¾‘ä¸å…¶ç®—æ³•å®ç°ç»†èŠ‚éš”ç¦»å¼€æ¥ã€‚\n- å½“ç±»ä¸­ä½¿ç”¨äº†å¤æ‚æ¡ä»¶è¿ç®—ç¬¦ä»¥åœ¨åŒä¸€ç®—æ³•çš„ä¸åŒå˜ä½“ä¸­åˆ‡æ¢æ—¶ï¼Œå¯ä½¿ç”¨è¯¥æ¨¡å¼ã€‚\n\n##### ç­–ç•¥æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\n\n**ä¼˜ç‚¹** ï¼š\n\n- ä½ å¯ä»¥åœ¨è¿è¡Œæ—¶åˆ‡æ¢å¯¹è±¡å†…çš„ç®—æ³•ã€‚\n- ä½ å¯ä»¥å°†ç®—æ³•çš„å®ç°å’Œä½¿ç”¨ç®—æ³•çš„ä»£ç éš”ç¦»å¼€æ¥ã€‚\n- ä½ å¯ä»¥ä½¿ç”¨ç»„åˆæ¥ä»£æ›¿ç»§æ‰¿ã€‚\n- ç¬¦åˆOCP\n\n**ç¼ºç‚¹** ï¼š\n\n- å¦‚æœä½ çš„ç®—æ³•æå°‘å‘ç”Ÿæ”¹å˜ï¼Œé‚£ä¹ˆæ²¡æœ‰ä»»ä½•ç†ç”±å¼•å…¥æ–°çš„ç±»å’Œæ¥å£ã€‚ä½¿ç”¨è¯¥æ¨¡å¼åªä¼šè®©ç¨‹åºè¿‡äºå¤æ‚ã€‚\n- å®¢æˆ·ç«¯å¿…é¡»çŸ¥æ™“ç­–ç•¥é—´çš„ä¸åŒâ€”â€”å®ƒéœ€è¦é€‰æ‹©åˆé€‚çš„ç­–ç•¥ã€‚\n- è®¸å¤šç°ä»£ç¼–ç¨‹è¯­è¨€æ”¯æŒå‡½æ•°ç±»å‹åŠŸèƒ½ï¼Œå…è®¸ä½ åœ¨ä¸€ç»„åŒ¿åå‡½æ•°ä¸­å®ç°ä¸åŒç‰ˆæœ¬çš„ç®—æ³•ã€‚è¿™æ ·ï¼Œä½ ä½¿ç”¨è¿™äº›å‡½æ•°çš„æ–¹å¼å°±å’Œä½¿ç”¨ç­–ç•¥å¯¹è±¡æ—¶å®Œå…¨ç›¸åŒï¼Œæ— éœ€å€ŸåŠ©é¢å¤–çš„ç±»å’Œæ¥å£æ¥ä¿æŒä»£ç ç®€æ´ã€‚\n\n#### Template Method(æ¨¡æ¿æ–¹æ³•æ¨¡å¼)\n\næ¨¡æ¿æ–¹æ³•æ¨¡å¼æ˜¯ä¸€ç§è¡Œä¸ºè®¾è®¡æ¨¡å¼ï¼Œå®ƒåœ¨è¶…ç±»ä¸­å®šä¹‰äº†ä¸€ä¸ªç®—æ³•çš„æ¡†æ¶ï¼Œå…è®¸å­ç±»åœ¨ä¸ä¿®æ”¹ç»“æ„çš„æƒ…å†µä¸‹é‡å†™ç®—æ³•çš„ç‰¹å®šæ­¥éª¤ã€‚\n\n##### é—®é¢˜\n\nå‡å¦‚ä½ æ­£åœ¨å¼€å‘ä¸€æ¬¾åˆ†æå…¬å¸æ–‡æ¡£çš„æ•°æ®æŒ–æ˜ç¨‹åºã€‚ ç”¨æˆ·éœ€è¦å‘ç¨‹åºè¾“å…¥å„ç§æ ¼å¼ ï¼ˆPDFã€ DOC æˆ– CSVï¼‰ çš„æ–‡æ¡£ï¼Œç¨‹åºåˆ™ä¼šè¯•å›¾ä»è¿™äº›æ–‡ä»¶ä¸­æŠ½å–æœ‰æ„ä¹‰çš„æ•°æ®ï¼Œå¹¶ä»¥ç»Ÿä¸€çš„æ ¼å¼å°†å…¶è¿”å›ç»™ç”¨æˆ·ã€‚\n\nè¯¥ç¨‹åºçš„é¦–ä¸ªç‰ˆæœ¬ä»…æ”¯æŒ DOC æ–‡ä»¶ã€‚åœ¨æ¥ä¸‹æ¥çš„ä¸€ä¸ªç‰ˆæœ¬ä¸­ï¼Œç¨‹åºèƒ½å¤Ÿæ”¯æŒ CSV æ–‡ä»¶ã€‚ä¸€ä¸ªæœˆåï¼Œä½  â€œæ•™ä¼šâ€ äº†ç¨‹åºä» PDF æ–‡ä»¶ä¸­æŠ½å–æ•°æ®ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220826213247.png)\n\nä¸€æ®µæ—¶é—´åï¼Œä½ å‘ç°è¿™ä¸‰ä¸ªç±»ä¸­åŒ…å«è®¸å¤šç›¸ä¼¼ä»£ç ã€‚ å°½ç®¡è¿™äº›ç±»å¤„ç†ä¸åŒæ•°æ®æ ¼å¼çš„ä»£ç å®Œå…¨ä¸åŒï¼Œä½†æ•°æ®å¤„ç†å’Œåˆ†æçš„ä»£ç å´å‡ ä¹å®Œå…¨ä¸€æ ·ã€‚å¦‚æœèƒ½åœ¨ä¿æŒç®—æ³•ç»“æ„å®Œæ•´çš„æƒ…å†µä¸‹å»é™¤é‡å¤ä»£ç ï¼Œè¿™éš¾é“ä¸æ˜¯ä¸€ä»¶å¾ˆæ£’çš„äº‹æƒ…å—ï¼Ÿ\n\nè¿˜æœ‰å¦ä¸€ä¸ªä¸ä½¿ç”¨è¿™äº›ç±»çš„å®¢æˆ·ç«¯ä»£ç ç›¸å…³çš„é—®é¢˜ï¼šå®¢æˆ·ç«¯ä»£ç ä¸­åŒ…å«è®¸å¤šæ¡ä»¶è¯­å¥ï¼Œä»¥æ ¹æ®ä¸åŒçš„å¤„ç†å¯¹è±¡ç±»å‹é€‰æ‹©åˆé€‚çš„å¤„ç†è¿‡ç¨‹ã€‚å¦‚æœæ‰€æœ‰å¤„ç†æ•°æ®çš„ç±»éƒ½æ‹¥æœ‰ç›¸åŒçš„æ¥å£æˆ–åŸºç±»ï¼Œé‚£ä¹ˆä½ å°±å¯ä»¥å»é™¤å®¢æˆ·ç«¯ä»£ç ä¸­çš„æ¡ä»¶è¯­å¥ï¼Œè½¬è€Œä½¿ç”¨å¤šæ€æœºåˆ¶æ¥åœ¨å¤„ç†å¯¹è±¡ä¸Šè°ƒç”¨å‡½æ•°ã€‚\n\n##### è§£å†³æ–¹æ¡ˆ\n\næ¨¡æ¿æ–¹æ³•æ¨¡å¼å»ºè®®å°†ç®—æ³•åˆ†è§£ä¸ºä¸€ç³»åˆ—æ­¥éª¤ï¼Œç„¶åå°†è¿™äº›æ­¥éª¤æ”¹å†™ä¸ºæ–¹æ³•ï¼Œæœ€ååœ¨ â€œæ¨¡æ¿æ–¹æ³•â€ ä¸­ä¾æ¬¡è°ƒç”¨è¿™äº›æ–¹æ³•ã€‚æ­¥éª¤å¯ä»¥æ˜¯æŠ½è±¡çš„ï¼Œä¹Ÿå¯ä»¥æœ‰ä¸€äº›é»˜è®¤çš„å®ç°ã€‚ä¸ºäº†èƒ½å¤Ÿä½¿ç”¨ç®—æ³•ï¼Œå®¢æˆ·ç«¯éœ€è¦è‡ªè¡Œæä¾›å­ç±»å¹¶å®ç°æ‰€æœ‰çš„æŠ½è±¡æ­¥éª¤ã€‚å¦‚æœ‰å¿…è¦è¿˜éœ€é‡å†™ä¸€äº›æ­¥éª¤ ï¼ˆä½†è¿™ä¸€æ­¥ä¸­ä¸åŒ…æ‹¬æ¨¡æ¿æ–¹æ³•è‡ªèº«ï¼‰ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220826213427.png)\n\né¦–å…ˆï¼Œ æˆ‘ä»¬å°†æ‰€æœ‰æ­¥éª¤å£°æ˜ä¸º æŠ½è±¡ç±»å‹ï¼Œ å¼ºåˆ¶è¦æ±‚å­ç±»è‡ªè¡Œå®ç°è¿™äº›æ–¹æ³•ã€‚ åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œ å­ç±»ä¸­å·²æœ‰æ‰€æœ‰å¿…è¦çš„å®ç°ï¼Œ å› æ­¤æˆ‘ä»¬åªéœ€è°ƒæ•´è¿™äº›æ–¹æ³•çš„ç­¾åï¼Œ ä½¿ä¹‹ä¸è¶…ç±»çš„æ–¹æ³•åŒ¹é…å³å¯ã€‚\n\nç°åœ¨ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•å»é™¤é‡å¤ä»£ç ã€‚å¯¹äºä¸åŒçš„æ•°æ®æ ¼å¼ï¼Œæ‰“å¼€å’Œå…³é—­æ–‡ä»¶ä»¥åŠæŠ½å–å’Œè§£ææ•°æ®çš„ä»£ç éƒ½ä¸åŒï¼Œå› æ­¤æ— éœ€ä¿®æ”¹è¿™äº›æ–¹æ³•ã€‚ä½†åˆ†æåŸå§‹æ•°æ®å’Œç”ŸæˆæŠ¥å‘Šç­‰å…¶ä»–æ­¥éª¤çš„å®ç°æ–¹å¼éå¸¸ç›¸ä¼¼ï¼Œå› æ­¤å¯å°†å…¶æå–åˆ°åŸºç±»ä¸­ï¼Œä»¥è®©å­ç±»å…±äº«è¿™äº›ä»£ç ã€‚\n\næ­£å¦‚ä½ æ‰€çœ‹åˆ°çš„é‚£æ ·ï¼Œæˆ‘ä»¬æœ‰ä¸¤ç§ç±»å‹çš„æ­¥éª¤ï¼š\n\n- æŠ½è±¡æ­¥éª¤å¿…é¡»ç”±å„ä¸ªå­ç±»æ¥å®ç°\n- å¯é€‰æ­¥éª¤å·²æœ‰ä¸€äº›é»˜è®¤å®ç°ï¼Œä½†ä»å¯åœ¨éœ€è¦æ—¶è¿›è¡Œé‡å†™\n\nè¿˜æœ‰å¦ä¸€ç§åä¸ºé’©å­çš„æ­¥éª¤ã€‚é’©å­æ˜¯å†…å®¹ä¸ºç©ºçš„å¯é€‰æ­¥éª¤ã€‚å³ä½¿ä¸é‡å†™é’©å­ï¼Œæ¨¡æ¿æ–¹æ³•ä¹Ÿèƒ½å·¥ä½œã€‚é’©å­é€šå¸¸æ”¾ç½®åœ¨ç®—æ³•é‡è¦æ­¥éª¤çš„å‰åï¼Œä¸ºå­ç±»æä¾›é¢å¤–çš„ç®—æ³•æ‰©å±•ç‚¹ã€‚\n\n##### æ¨¡æ¿æ–¹æ³•æ¨¡å¼ç»“æ„\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220826214113.png)\n\n1.**æŠ½è±¡ç±»(AbstractÂ­Class)** ä¼šå£°æ˜ä½œä¸ºç®—æ³•æ­¥éª¤çš„æ–¹æ³•ï¼Œä»¥åŠä¾æ¬¡è°ƒç”¨å®ƒä»¬çš„å®é™…æ¨¡æ¿æ–¹æ³•ã€‚ç®—æ³•æ­¥éª¤å¯ä»¥è¢«å£°æ˜ä¸º æŠ½è±¡ç±»å‹ï¼Œä¹Ÿå¯ä»¥æä¾›ä¸€äº›é»˜è®¤å®ç°ã€‚\n\n2.**å…·ä½“ç±»(ConÂ­creteÂ­Class)** å¯ä»¥é‡å†™æ‰€æœ‰æ­¥éª¤ï¼Œä½†ä¸èƒ½é‡å†™æ¨¡æ¿æ–¹æ³•è‡ªèº«ã€‚\n\n##### ä¼ªä»£ç \n\næœ¬ä¾‹ä¸­çš„æ¨¡æ¿æ–¹æ³•æ¨¡å¼ä¸ºä¸€æ¬¾ç®€å•ç­–ç•¥æ¸¸æˆä¸­äººå·¥æ™ºèƒ½çš„ä¸åŒåˆ†æ”¯æä¾› â€œæ¡†æ¶â€ã€‚æ¸¸æˆä¸­æ‰€æœ‰çš„ç§æ—éƒ½æœ‰å‡ ä¹åŒç±»çš„å•ä½å’Œå»ºç­‘ã€‚å› æ­¤ä½ å¯ä»¥åœ¨ä¸åŒçš„ç§æ—ä¸Šå¤ç”¨ç›¸åŒçš„ AI ç»“æ„ï¼ŒåŒæ—¶è¿˜éœ€è¦å…·å¤‡é‡å†™ä¸€äº›ç»†èŠ‚çš„èƒ½åŠ›ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œä½ å¯ä»¥é‡å†™åŠå…½äººçš„ AI ä½¿å…¶æ›´å¯Œæ”»å‡»æ€§ï¼Œä¹Ÿå¯ä»¥è®©äººç±»ä¾§é‡é˜²å®ˆï¼Œè¿˜å¯ä»¥ç¦æ­¢æ€ªç‰©å»ºé€ å»ºç­‘ã€‚åœ¨æ¸¸æˆä¸­æ–°å¢ç§æ—éœ€è¦åˆ›å»ºæ–°çš„ AI å­ç±»ï¼Œè¿˜éœ€è¦é‡å†™ AI åŸºç±»ä¸­æ‰€å£°æ˜çš„é»˜è®¤æ–¹æ³•ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220826214223.png)\n\n```csharp\n//è¿™ä¸‹çœŸçš„æ˜¯ä¼ªä»£ç äº†\n// æŠ½è±¡ç±»å®šä¹‰äº†ä¸€ä¸ªæ¨¡æ¿æ–¹æ³•ï¼Œå…¶ä¸­é€šå¸¸ä¼šåŒ…å«æŸä¸ªç”±æŠ½è±¡åŸè¯­æ“ä½œè°ƒç”¨ç»„æˆçš„ç®—\n// æ³•æ¡†æ¶ã€‚å…·ä½“å­ç±»ä¼šå®ç°è¿™äº›æ“ä½œï¼Œä½†æ˜¯ä¸ä¼šå¯¹æ¨¡æ¿æ–¹æ³•åšå‡ºä¿®æ”¹ã€‚\nabstract class GameAI\n{\n    //æŸäº›æ­¥éª¤å¯ä»¥åœ¨åŸºç±»ä¸­å®ç°\n    public void turn()\n    {\n        collectResources();\n        buildStructures();\n        buildUnits();\n        attack();\n    }\n\n    public void collectResources()\n    {\n        foreach(var s in this.builtStructures)\n        {\n            s.collect();\n        }\n    }\n\n    public abstract void buildStructures();\n    public abstract void buildUnits();\n\n    public void attack()\n    {\n        var enemy = cloestEnemy();\n        if(enemy == null)\n        {\n            sendScouts(map.center);\n        }\n        else \n            sendWarriors(enemy.position);\n    }\n\n    public abstract void sendScouts(position);\n    public abstract void sendWarriors(position);\n}\n\nclass OrcsAI : GameAI\n{\n    public override void buildStructures()\n    {\n        if (there are some resources) \n        {\n            // å»ºé€ å†œåœºï¼Œæ¥ç€æ˜¯è°·ä»“ï¼Œç„¶åæ˜¯è¦å¡ã€‚\n        }\n    }\n\n    public override void buildUnits()\n    {\n        if (there are plenty of resources) \n        {\n            if (there are no scouts)\n            {\n                // å»ºé€ è‹¦å·¥ï¼Œå°†å…¶åŠ å…¥ä¾¦æŸ¥ç¼–ç»„ã€‚\n            }\n            else\n            {\n                // å»ºé€ å…½æ—æ­¥å…µï¼Œå°†å…¶åŠ å…¥æˆ˜å£«ç¼–ç»„ã€‚\n            }\n        }\n    }\n\n    public override void sendScouts(position)\n    {\n        if(scouts.length > 0)\n        {\n            // å°†ä¾¦æŸ¥ç¼–ç»„é€åˆ°æŒ‡å®šä½ç½®ã€‚\n        }\n    }\n\n    public override void sendWarriors(position)\n    {\n        if(warriors.length > 5)\n        {\n            // å°†æˆ˜æ–—ç¼–ç»„é€åˆ°æŒ‡å®šä½ç½®ã€‚\n        }\n    }\n}\n\nclass MonstersAI : GameAI\n{\n    public override void collectResources()\n    {\n        // æ€ªç‰©ä¸ä¼šé‡‡é›†èµ„æºã€‚\n    }\n\n    public override void buildStructures()\n    {\n        // æ€ªç‰©ä¸ä¼šå»ºé€ å»ºç­‘ã€‚\n    }\n\n    public override void buildUnits()\n    {\n        // æ€ªç‰©ä¸ä¼šå»ºé€ å•ä½ã€‚\n    }\n}\n```\n\n##### é€‚åˆæ¨¡æ¿æ–¹æ³•æ¨¡å¼çš„åœ°æ–¹\n\n- å½“ä½ åªå¸Œæœ›å®¢æˆ·ç«¯æ‰©å±•æŸä¸ªç‰¹å®šç®—æ³•æ­¥éª¤ï¼Œè€Œä¸æ˜¯æ•´ä¸ªç®—æ³•æˆ–å…¶ç»“æ„æ—¶ï¼Œå¯ä½¿ç”¨æ¨¡æ¿æ–¹æ³•æ¨¡å¼ã€‚\n- å½“å¤šä¸ªç±»çš„ç®—æ³•é™¤ä¸€äº›ç»†å¾®ä¸åŒä¹‹å¤–å‡ ä¹å®Œå…¨ä¸€æ ·æ—¶ï¼Œä½ å¯ä½¿ç”¨è¯¥æ¨¡å¼ã€‚ä½†å…¶åæœå°±æ˜¯ï¼Œåªè¦ç®—æ³•å‘ç”Ÿå˜åŒ–ï¼Œä½ å°±å¯èƒ½éœ€è¦ä¿®æ”¹æ‰€æœ‰çš„ç±»ã€‚\n\n##### æ¨¡æ¿æ–¹æ³•çš„ä¼˜ç¼ºç‚¹\n\n**ä¼˜ç‚¹** ï¼š\n\n- ä½ å¯ä»…å…è®¸å®¢æˆ·ç«¯é‡å†™ä¸€ä¸ªå¤§å‹ç®—æ³•ä¸­çš„ç‰¹å®šéƒ¨åˆ†ï¼Œä½¿å¾—ç®—æ³•å…¶ä»–éƒ¨åˆ†ä¿®æ”¹å¯¹å…¶æ‰€é€ æˆçš„å½±å“å‡å°ã€‚\n- ä½ å¯å°†é‡å¤ä»£ç æå–åˆ°ä¸€ä¸ªè¶…ç±»ä¸­ã€‚\n\n**ç¼ºç‚¹** ï¼š\n\n- éƒ¨åˆ†å®¢æˆ·ç«¯å¯èƒ½ä¼šå—åˆ°ç®—æ³•æ¡†æ¶çš„é™åˆ¶ã€‚\n- é€šè¿‡å­ç±»æŠ‘åˆ¶é»˜è®¤æ­¥éª¤å®ç°å¯èƒ½ä¼šå¯¼è‡´è¿åé‡Œæ°æ›¿æ¢åŸåˆ™(Liskov)ã€‚\n- æ¨¡æ¿æ–¹æ³•ä¸­çš„æ­¥éª¤è¶Šå¤šï¼Œ å…¶ç»´æŠ¤å·¥ä½œå°±å¯èƒ½ä¼šè¶Šå›°éš¾ã€‚\n\n#### Visitor(è®¿é—®è€…æ¨¡å¼)\n\nè®¿é—®è€…æ¨¡å¼æ˜¯ä¸€ç§è¡Œä¸ºè®¾è®¡æ¨¡å¼ï¼Œå®ƒèƒ½å°†ç®—æ³•ä¸å…¶æ‰€ä½œç”¨çš„å¯¹è±¡éš”ç¦»å¼€æ¥ã€‚\n\n##### é—®é¢˜\n\nå‡å¦‚ä½ çš„å›¢é˜Ÿå¼€å‘äº†ä¸€æ¬¾èƒ½å¤Ÿä½¿ç”¨å·¨å‹å›¾åƒä¸­åœ°ç†ä¿¡æ¯çš„åº”ç”¨ç¨‹åºã€‚å›¾åƒä¸­çš„æ¯ä¸ªèŠ‚ç‚¹æ—¢èƒ½ä»£è¡¨å¤æ‚å®ä½“ ï¼ˆä¾‹å¦‚ä¸€åº§åŸå¸‚ï¼‰ï¼Œä¹Ÿèƒ½ä»£è¡¨æ›´ç²¾ç»†çš„å¯¹è±¡ ï¼ˆä¾‹å¦‚å·¥ä¸šåŒºå’Œæ—…æ¸¸æ™¯ç‚¹ç­‰ï¼‰ã€‚å¦‚æœèŠ‚ç‚¹ä»£è¡¨çš„çœŸå®å¯¹è±¡ä¹‹é—´å­˜åœ¨å…¬è·¯ï¼Œé‚£ä¹ˆè¿™äº›èŠ‚ç‚¹å°±ä¼šç›¸äº’è¿æ¥ã€‚åœ¨ç¨‹åºå†…éƒ¨ï¼Œæ¯ä¸ªèŠ‚ç‚¹çš„ç±»å‹éƒ½ç”±å…¶æ‰€å±çš„ç±»æ¥è¡¨ç¤ºï¼Œæ¯ä¸ªç‰¹å®šçš„èŠ‚ç‚¹åˆ™æ˜¯ä¸€ä¸ªå¯¹è±¡ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220826224114.png)\n\nä¸€æ®µæ—¶é—´åï¼Œä½ æ¥åˆ°äº†å®ç°å°†å›¾åƒå¯¼å‡ºåˆ° XML æ–‡ä»¶ä¸­çš„ä»»åŠ¡ã€‚è¿™äº›å·¥ä½œæœ€åˆçœ‹ä¸Šå»éå¸¸ç®€å•ã€‚ä½ è®¡åˆ’ä¸ºæ¯ä¸ªèŠ‚ç‚¹ç±»æ·»åŠ å¯¼å‡ºå‡½æ•°ï¼Œç„¶åé€’å½’æ‰§è¡Œå›¾åƒä¸­æ¯ä¸ªèŠ‚ç‚¹çš„å¯¼å‡ºå‡½æ•°ã€‚è§£å†³æ–¹æ¡ˆç®€å•ä¸”ä¼˜é›…ï¼šä½¿ç”¨å¤šæ€æœºåˆ¶å¯ä»¥è®©å¯¼å‡ºæ–¹æ³•çš„è°ƒç”¨ä»£ç ä¸ä¼šå’Œå…·ä½“çš„èŠ‚ç‚¹ç±»ç›¸è€¦åˆã€‚\n\nä½†ä½ ä¸å¤ªèµ°è¿ï¼Œç³»ç»Ÿæ¶æ„å¸ˆæ‹’ç»æ‰¹å‡†å¯¹å·²æœ‰èŠ‚ç‚¹ç±»è¿›è¡Œä¿®æ”¹ã€‚ä»–è®¤ä¸ºè¿™äº›ä»£ç å·²ç»æ˜¯äº§å“äº†ï¼Œä¸æƒ³å†’é™©å¯¹å…¶è¿›è¡Œä¿®æ”¹ï¼Œå› ä¸ºä¿®æ”¹å¯èƒ½ä¼šå¼•å…¥æ½œåœ¨çš„ç¼ºé™·ã€‚\n\næ­¤å¤–ï¼Œä»–è¿˜è´¨ç–‘åœ¨èŠ‚ç‚¹ç±»ä¸­åŒ…å«å¯¼å‡º XML æ–‡ä»¶çš„ä»£ç æ˜¯å¦æœ‰æ„ä¹‰ã€‚è¿™äº›ç±»çš„ä¸»è¦å·¥ä½œæ˜¯å¤„ç†åœ°ç†æ•°æ®ã€‚å¯¼å‡º XML æ–‡ä»¶çš„ä»£ç æ”¾åœ¨è¿™é‡Œå¹¶ä¸åˆé€‚ã€‚\n\nè¿˜æœ‰å¦ä¸€ä¸ªåŸå› ï¼Œé‚£å°±æ˜¯åœ¨æ­¤é¡¹ä»»åŠ¡å®Œæˆåï¼Œè¥é”€éƒ¨é—¨å¾ˆæœ‰å¯èƒ½ä¼šè¦æ±‚ç¨‹åºæä¾›å¯¼å‡ºå…¶ä»–ç±»å‹æ–‡ä»¶çš„åŠŸèƒ½ï¼Œæˆ–è€…æå‡ºå…¶ä»–å¥‡æ€ªçš„è¦æ±‚ã€‚è¿™æ ·ä½ å¾ˆå¯èƒ½ä¼šè¢«è¿«å†æ¬¡ä¿®æ”¹è¿™äº›é‡è¦ä½†è„†å¼±çš„ç±»ã€‚\n\n##### è§£å†³æ–¹æ¡ˆ\n\nè®¿é—®è€…æ¨¡å¼å»ºè®®å°†**æ–°è¡Œä¸ºæ”¾å…¥ä¸€ä¸ªåä¸ºè®¿é—®è€…çš„ç‹¬ç«‹ç±»ä¸­ï¼Œè€Œä¸æ˜¯è¯•å›¾å°†å…¶æ•´åˆåˆ°å·²æœ‰ç±»ä¸­**ã€‚ç°åœ¨ï¼Œéœ€è¦æ‰§è¡Œæ“ä½œçš„åŸå§‹å¯¹è±¡å°†ä½œä¸ºå‚æ•°è¢«ä¼ é€’ç»™è®¿é—®è€…ä¸­çš„æ–¹æ³•ï¼Œè®©æ–¹æ³•èƒ½è®¿é—®å¯¹è±¡æ‰€åŒ…å«çš„ä¸€åˆ‡å¿…è¦æ•°æ®ã€‚\n\n##### è®¿é—®è€…æ¨¡å¼ç»“æ„\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220826230156.png)\n\n1.**è®¿é—®è€…(VisÂ­iÂ­tor)** æ¥å£å£°æ˜äº†ä¸€ç³»åˆ—ä»¥å¯¹è±¡ç»“æ„çš„å…·ä½“å…ƒç´ ä¸ºå‚æ•°çš„è®¿é—®è€…æ–¹æ³•ã€‚å¦‚æœç¼–ç¨‹è¯­è¨€æ”¯æŒé‡è½½ï¼Œè¿™äº›æ–¹æ³•çš„åç§°å¯ä»¥æ˜¯ç›¸åŒçš„ï¼Œä½†æ˜¯å…¶å‚æ•°ä¸€å®šæ˜¯ä¸åŒçš„ã€‚\n\n2.**å…·ä½“è®¿é—®è€…(ConÂ­crete VisÂ­iÂ­tor)** ä¼šä¸ºä¸åŒçš„å…·ä½“å…ƒç´ ç±»å®ç°ç›¸åŒè¡Œä¸ºçš„å‡ ä¸ªä¸åŒç‰ˆæœ¬ã€‚\n\n3.**å…ƒç´ (EleÂ­ment)** æ¥å£å£°æ˜äº†ä¸€ä¸ªæ–¹æ³•æ¥ â€œæ¥æ”¶â€ è®¿é—®è€…ã€‚è¯¥æ–¹æ³•å¿…é¡»æœ‰ä¸€ä¸ªå‚æ•°è¢«å£°æ˜ä¸ºè®¿é—®è€…æ¥å£ç±»å‹ã€‚\n\n4.**å…·ä½“å…ƒç´ (ConÂ­crete EleÂ­ment)** å¿…é¡»å®ç°æ¥æ”¶æ–¹æ³•ã€‚è¯¥æ–¹æ³•çš„ç›®çš„æ˜¯æ ¹æ®å½“å‰å…ƒç´ ç±»å°†å…¶è°ƒç”¨é‡å®šå‘åˆ°ç›¸åº”è®¿é—®è€…çš„æ–¹æ³•ã€‚è¯·æ³¨æ„ï¼Œå³ä½¿å…ƒç´ åŸºç±»å®ç°äº†è¯¥æ–¹æ³•ï¼Œæ‰€æœ‰å­ç±»éƒ½å¿…é¡»å¯¹å…¶è¿›è¡Œé‡å†™å¹¶è°ƒç”¨è®¿é—®è€…å¯¹è±¡ä¸­çš„åˆé€‚æ–¹æ³•ã€‚\n\n5.**å®¢æˆ·ç«¯(Client)** é€šå¸¸ä¼šä½œä¸ºé›†åˆæˆ–å…¶ä»–å¤æ‚å¯¹è±¡ï¼ˆä¾‹å¦‚ä¸€ä¸ªç»„åˆæ ‘ï¼‰çš„ä»£è¡¨ã€‚å®¢æˆ·ç«¯é€šå¸¸ä¸çŸ¥æ™“æ‰€æœ‰çš„å…·ä½“å…ƒç´ ç±»ï¼Œå› ä¸ºå®ƒä»¬ä¼šé€šè¿‡æŠ½è±¡æ¥å£ä¸é›†åˆä¸­çš„å¯¹è±¡è¿›è¡Œäº¤äº’ã€‚\n\n##### ä¼ªä»£ç \n\nè®¿é—®è€…ä¸æ˜¯å¸¸ç”¨çš„è®¾è®¡æ¨¡å¼ï¼Œå› ä¸ºå®ƒä¸ä»…å¤æ‚ï¼Œåº”ç”¨èŒƒå›´ä¹Ÿæ¯”è¾ƒç‹­çª„ã€‚\n\n```csharp\n//Componentæ¥å£å£°æ˜ä¸€ä¸ªacceptæ–¹æ³•æ¥ä½¿ç”¨visitoræ¥å£\npublic interface IComponent\n{\n    void Accept(IVisitor visitor);\n}\n//å…·ä½“Componentç±»\npublic class ConcreteComponentA : IComponent\n{\n    public void Accept(IVisitor visitor)\n    {\n        visitor.VisitCOncreteComponentA(this);\n    }\n\n    //å…·ä½“Componentç±»ä¸­ä¸€äº›è‡ªå·±çš„æ–¹æ³•\n    public string ExclusiveMethodOfConcreteComponentA()\n    {\n        return \"A\";\n    }\n}\npublic class ConcreteComponentB : IComponent\n{\n    public void Accept(IVisitor visitor)\n    {\n        visitor.VisitCOncreteComponentB(this);\n    }\n\n    //å…·ä½“Componentç±»ä¸­ä¸€äº›è‡ªå·±çš„æ–¹æ³•\n    public string ExclusiveMethodOfConcreteComponentB()\n    {\n        return \"B\";\n    }\n}\n//Visitoræ¥å£å£°æ˜ä¸€ç³»åˆ—è®¿é—®Componentçš„æ–¹æ³•\npublic interface IVisitor\n{\n    void VisitConcreteComponentA(ConcreteComponentA element);\n\n    void VisitConcreteComponentB(ConcreteComponentB element);\n}\nclass ConcreteVisitor1 : IVisitor\n{\n    public void VisitConcreteComponentA(ConcreteComponentA element)\n    {\n        Console.WriteLine(element.ExclusiveMethodOfConcreteComponentA() + \" + ConcreteVisitor1\");\n    }\n\n    public void VisitConcreteComponentB(ConcreteComponentB element)\n    {\n        Console.WriteLine(element.SpecialMethodOfConcreteComponentB() + \" + ConcreteVisitor1\");\n    }\n}\nclass ConcreteVisitor2 : IVisitor\n{\n    public void VisitConcreteComponentA(ConcreteComponentA element)\n    {\n        Console.WriteLine(element.ExclusiveMethodOfConcreteComponentA() + \" + ConcreteVisitor2\");\n    }\n\n    public void VisitConcreteComponentB(ConcreteComponentB element)\n    {\n        Console.WriteLine(element.SpecialMethodOfConcreteComponentB() + \" + ConcreteVisitor2\");\n    }\n}\npublic class Client\n{\n    public static void ClientCode(List<IComponent> components, IVisitor visitor)\n    {\n        foreach (var component in components)\n        {\n            component.Accept(visitor);\n        }\n    }\n}\n//å®¢æˆ·ç«¯ä»£ç \nList<IComponent> components = new List<IComponent>\n{\n    new ConcreteComponentA(),\n    new ConcreteComponentB()\n};\n\nConsole.WriteLine(\"The client code works with all visitors via the base Visitor interface:\");\nvar visitor1 = new ConcreteVisitor1();\nClient.ClientCode(components,visitor1);\n\nConsole.WriteLine();\n\nConsole.WriteLine(\"It allows the same client code to work with different types of visitors:\");\nvar visitor2 = new ConcreteVisitor2();\nClient.ClientCode(components, visitor2);\n/*è¿è¡Œç»“æœ\nThe client code works with all visitors via the base Visitor interface:\nA + ConcreteVisitor1\nB + ConcreteVisitor1\n\nIt allows the same client code to work with different types of visitors:\nA + ConcreteVisitor2\nB + ConcreteVisitor2\n*/\n```\n\n##### é€‚åˆè®¿é—®è€…æ¨¡å¼çš„åœ°æ–¹\n\n- å¦‚æœä½ éœ€è¦å¯¹ä¸€ä¸ªå¤æ‚å¯¹è±¡ç»“æ„ï¼ˆä¾‹å¦‚å¯¹è±¡æ ‘ï¼‰ä¸­çš„æ‰€æœ‰å…ƒç´ æ‰§è¡ŒæŸäº›æ“ä½œï¼Œå¯ä½¿ç”¨è®¿é—®è€…æ¨¡å¼ã€‚\n- å¯ä½¿ç”¨è®¿é—®è€…æ¨¡å¼æ¥æ¸…ç†è¾…åŠ©è¡Œä¸ºçš„ä¸šåŠ¡é€»è¾‘ã€‚\n- å½“æŸä¸ªè¡Œä¸ºä»…åœ¨ç±»å±‚æ¬¡ç»“æ„ä¸­çš„ä¸€äº›ç±»ä¸­æœ‰æ„ä¹‰ï¼Œ è€Œåœ¨å…¶ä»–ç±»ä¸­æ²¡æœ‰æ„ä¹‰æ—¶ï¼Œå¯ä½¿ç”¨è¯¥æ¨¡å¼ã€‚\n\n##### è®¿é—®è€…æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\n\n**ä¼˜ç‚¹** ï¼š\n\n- ç¬¦åˆOCP\n- ç¬¦åˆSRP\n- è®¿é—®è€…å¯¹è±¡å¯ä»¥åœ¨ä¸å„ç§å¯¹è±¡äº¤äº’æ—¶æ”¶é›†ä¸€äº›æœ‰ç”¨çš„ä¿¡æ¯ã€‚å½“ä½ æƒ³è¦éå†ä¸€äº›å¤æ‚çš„å¯¹è±¡ç»“æ„ï¼ˆä¾‹å¦‚å¯¹è±¡æ ‘ï¼‰ï¼Œå¹¶åœ¨ç»“æ„ä¸­çš„æ¯ä¸ªå¯¹è±¡ä¸Šåº”ç”¨è®¿é—®è€…æ—¶ï¼Œè¿™äº›ä¿¡æ¯å¯èƒ½ä¼šæœ‰æ‰€å¸®åŠ©ã€‚\n\n**ç¼ºç‚¹** ï¼š\n\n- æ¯æ¬¡åœ¨å…ƒç´ å±‚æ¬¡ç»“æ„ä¸­æ·»åŠ æˆ–ç§»é™¤ä¸€ä¸ªç±»æ—¶ï¼Œä½ éƒ½è¦æ›´æ–°æ‰€æœ‰çš„è®¿é—®è€…ã€‚\n- åœ¨è®¿é—®è€…åŒæŸä¸ªå…ƒç´ è¿›è¡Œäº¤äº’æ—¶ï¼Œ å®ƒä»¬å¯èƒ½æ²¡æœ‰è®¿é—®å…ƒç´ ç§æœ‰æˆå‘˜å˜é‡å’Œæ–¹æ³•çš„å¿…è¦æƒé™ã€‚\n\n### åè®°\n\nè¿™æ¬¡èŠ±äº†å·®ä¸å¤š20å¤©çš„æ—¶é—´æ¥å†™è¿™ä¸€ä¸ªåšå®¢è®°å½•ä¸€ä¸‹å…³äºè®¾è®¡æ¨¡å¼çš„å­¦ä¹ ï¼Œå…¶å®çœ‹ä¹¦çš„æ—¶é—´ä¸ç®—é•¿ï¼Œä¸»è¦èŠ±æ—¶é—´çš„æ˜¯å†™å‡ºè®©äººå®¹æ˜“æ‡‚çš„åšå®¢ã€‚å­¦ä¹ äº†åˆæ­¥çš„è®¾è®¡æ¨¡å¼çš„çŸ¥è¯†ï¼Œä»¥å‰çœ‹è¿‡çš„ä½†æ˜¯ä¸æ˜¯å¾ˆæ‡‚çš„çŸ¥è¯†çªç„¶å°±æ˜ç™½äº†ä¸€äº›ã€‚å½“ç„¶ï¼Œç”±äºè‡ªèº«è¿˜æ²¡å†™è¿‡ä¸Šä¸‡è¡Œçš„ä»£ç ï¼Œåé¢è‚¯å®šè¿˜ä¼šåœ¨å¤ä¹ ä¸€ä¸‹è®¾è®¡æ¨¡å¼ï¼Œä¸è¿‡çœ‹çš„ä¹¦åº”è¯¥æ˜¯è®²è§£åœ°æ›´æ·±å…¥çš„ä¹¦ç±ã€‚\n\n### å‚è€ƒæ–‡çŒ®\n\n- ã€Šæ•æ·è½¯ä»¶è®¾è®¡å¼€å‘ã€‹\n- https://refactoring.guru/design-patterns(é€šä¿—æ˜“æ‡‚åœ°è®²è§£è®¾è®¡æ¨¡å¼çš„ç½‘ç«™ï¼Œå¤§éƒ¨åˆ†ä¾‹å­æ˜¯å¼•ç”¨å®ƒçš„)\n- https://www.runoob.com/design-pattern/design-pattern-tutorial.html(èœé¸Ÿæ•™ç¨‹ä¸­çš„è®¾è®¡æ¨¡å¼ï¼Œæä¾›æ›´å¤šçš„ä¾‹å­æ¥å­¦ä¹ )","source":"_posts/design patterns.md","raw":"---\ntitle: Design Patterns\ndate: 2022-08-07 21:04:20\n---\n\n### å‰è¨€\n\næœ€è¿‘èŠ±äº†ç‚¹è¯»äº†ã€Šæ•æ·è½¯ä»¶å¼€å‘ã€‹è¿™æœ¬ä¹¦ï¼Œå…³äºè¿™æœ¬ä¹¦ï¼Œæˆ‘åŸºæœ¬ä¸Šæ˜¯éšä¾¿çœ‹çœ‹ï¼Œäº†è§£æœ‰ä»€ä¹ˆçŸ¥è¯†ï¼Œä¹Ÿå°±åœ¨ä»£ç éƒ¨åˆ†ï¼ˆå…·ä½“ç¤ºä¾‹æ–¹é¢ï¼‰èŠ±äº†äº›åŠŸå¤«ã€‚å°½ç®¡çŸ¥é“äº†è§£äº†è¿™äº›çŸ¥è¯†ï¼Œä½†æ˜¯åœ¨å·¥ç¨‹ä¸Šï¼Œæ²¡å†™ä¸ª1wè¡Œä»¥ä¸Šçš„ä»£ç è¿˜æ˜¯éš¾ä»¥èä¼šè´¯é€šã€‚æ¯•ç«Ÿç†è®ºå’Œå·¥ç¨‹æ˜¯ä¸ä¸€æ ·çš„ï¼Œå·¥ç¨‹å®ç°ç†è®ºè‡³å°‘æ˜¯ä¸¤ä¸ªæ•°é‡çº§ä»¥ä¸Šçš„éš¾åº¦ã€‚ä¸è¿‡é€šè¿‡ç”»ç®€å•çš„UMLå›¾å’ŒçŸ­å°çš„ä»£ç æ˜¯å¯ä»¥å¿«é€Ÿè®¤è¯†åˆ°æ˜¯ä»€ä¹ˆï¼Œç”¨æ¥åšä»€ä¹ˆï¼Œè¿™æ ·å°±è¶³å¤Ÿäº†ã€‚\n\n### ã€Šæ•æ·è½¯ä»¶å¼€å‘ã€‹é˜…è¯»ç»éªŒ\n\nè¿™æœ¬ä¹¦è¿˜æ˜¯ä¸€æœ¬å¾ˆå¥½çš„ä¹¦ï¼Œå¯¹äºäº†è§£æ•æ·å¼€å‘ï¼Œè®¾è®¡æ¨¡å¼æ˜¯è¶³å¤Ÿçš„ï¼ŒåŒæ—¶ä¹Ÿæœ‰è¶³å¤Ÿå¤šçš„æºä»£ç å¯ä»¥è¯»ã€‚æˆ‘è¯»çš„ä¸€ç‰ˆæ˜¯ã€Šæ•æ·è½¯ä»¶å¼€å‘ï¼šåŸåˆ™ã€æ¨¡å¼ä¸å®è·µã€‹c++ç‰ˆæœ¬çš„ï¼Œä¸è¿‡é‡Œé¢ä¹Ÿæœ‰javaï¼Œè™½ç„¶æˆ‘çš„ä¸»è¯­è¨€æ˜¯c#ï¼Œä½†æ˜¯ä¹Ÿæ˜¯é˜…è¯»èµ·æ¥ä¹Ÿä¸ä¼šå¤ªå›°éš¾ã€‚è¿™æœ¬ä¹¦ä¸­æ–‡ç‰ˆè™½ç„¶æ˜¯åœ¨03å¹´å‡ºç‰ˆçš„ï¼Œä½†æ˜¯åœ¨ç°åœ¨å¯¹äºæˆ‘è¿™ç§æœªå…¥è¡Œä¸šçš„å°ç™½ä¹Ÿæ˜¯ååˆ†æœ‰å¯å‘çš„ã€‚\næ ¹æ®æˆ‘è¿™æ¬¡é˜…è¯»çš„ç»éªŒï¼Œæˆ‘æ¨èç¬¬Iéƒ¨åˆ†ï¼ˆä¹Ÿå°±æ˜¯1-6ç« ï¼‰è¿˜æœ‰ç¬¬IIéƒ¨åˆ†çš„ç¬¬7ç« **ç²—è¯»**ï¼Œå¯¹åŸåˆ™å’Œè®¾è®¡æ¨¡å¼ä¹‹ç±»çš„è¿›è¡Œ**é€šè¯»**ï¼Œ18ï¼Œ19ç« çš„è–ªæ°´æ”¯ä»˜å®è·µè¿›è¡Œ**ç»†è¯»**\n\n### ä»€ä¹ˆæ˜¯è®¾è®¡æ¨¡å¼\n\nè®¾è®¡æ¨¡å¼æ˜¯è½¯ä»¶è®¾è®¡ä¸­å¸¸è§é—®é¢˜çš„å…¸å‹è§£å†³æ–¹æ¡ˆã€‚ å®ƒä»¬å°±åƒèƒ½æ ¹æ®éœ€æ±‚è¿›è¡Œè°ƒæ•´çš„é¢„åˆ¶è“å›¾ï¼Œå¯ç”¨äºè§£å†³ä»£ç ä¸­åå¤å‡ºç°çš„è®¾è®¡é—®é¢˜ã€‚ä¸è¿‡è®¾è®¡æ¨¡å¼çš„å‡ºç°åŸºæœ¬ä¸Šæ˜¯ä¸ºäº†è§£å†³ **â€œè®¾è®¡çš„è‡­å‘³â€** â€”â€”åƒµåŒ–æ€§(Rigidity)ï¼Œè„†å¼±æ€§(Fragility)ï¼Œç‰¢å›ºæ€§(Immobility)ï¼Œç²˜æ»æ€§(Viscosity)ï¼Œä¸å¿…è¦çš„å¤æ‚æ€§(Needless Complexity)ï¼Œä¸å¿…è¦çš„é‡å¤(Needless Repetition)ï¼Œä»¥åŠæ™¦æ¶©æ€§(Opacity)\n\n- **åƒµåŒ–æ€§**ï¼šå¾ˆéš¾å¯¹ç³»ç»Ÿæ”¹åŠ¨ï¼Œå› ä¸ºæ¯æ¬¡æ”¹åŠ¨éƒ½ä¼šä½¿å…¶ä»–åœ°æ–¹æ”¹åŠ¨\n- **è„†å¼±æ€§**ï¼šå¯¹ç³»ç»Ÿçš„æ”¹åŠ¨ä¼šå¯¼è‡´å…¶ä»–çš„åœ°æ–¹å‡ºç°é—®é¢˜\n- **ç‰¢å›ºæ€§**ï¼šè®¾è®¡ä¸­åŒ…å«å¯¹å…¶å®ƒç³»ç»Ÿæœ‰ç”¨çš„éƒ¨åˆ†ï¼Œä½†æ˜¯æŠŠè¿™éƒ¨åˆ†æŠ½ç¦»å‡ºæ¥æˆæœ¬å¤ªé«˜\n- **ç²˜æ»æ€§**ï¼šåšæ–°çš„æ”¹åŠ¨æ—¶ï¼Œä¿æŒç³»ç»Ÿè®¾è®¡çš„æ–¹æ³•æ¯”ç ´åè®¾è®¡çš„æ–¹æ³•æ›´éš¾ä½¿ç”¨\n- **ä¸å¿…è¦çš„å¤æ‚æ€§**ï¼šåŒ…å«å½“å‰æ²¡æœ‰ç”¨çš„ç»„æˆéƒ¨åˆ†ï¼Œå¯èƒ½ä¼šå˜å¾—æ··ä¹±\n- **ä¸å¿…è¦çš„é‡å¤**ï¼šåŒ…å«é‡å¤çš„ç»“æ„ï¼ŒåŸæœ¬å¯ä»¥ç”¨å•ä¸€çš„æŠ½è±¡è¿›è¡Œç»Ÿä¸€\n- **æ™¦æ¶©æ€§**ï¼šéš¾ä»¥é˜…è¯»ã€ç†è§£\n\n#### è®¾è®¡æ¨¡å¼çš„æè¿°å¸¸å¸¸åŒ…å«ä»¥ä¸‹å†…å®¹\n\n- **æ„å›¾(Problem)** éƒ¨åˆ†ç®€å•æè¿°é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆã€‚\n- **åŠ¨æœº(Solution)** éƒ¨åˆ†å°†è¿›ä¸€æ­¥è§£é‡Šé—®é¢˜å¹¶è¯´æ˜æ¨¡å¼ä¼šå¦‚ä½•æä¾›è§£å†³æ–¹æ¡ˆã€‚\n- **ç»“æ„(Structure)** éƒ¨åˆ†å±•ç¤ºæ¨¡å¼çš„æ¯ä¸ªéƒ¨åˆ†å’Œå®ƒä»¬ä¹‹é—´çš„å…³ç³»ã€‚\n\n#### å­¦ä¹ è®¾è®¡æ¨¡å¼çš„å¥½å¤„ä»¥åŠä¸€äº›é—®é¢˜\n\n- ç°åœ¨å¸¸å¸¸è¯´çš„23ç§è®¾è®¡æ¨¡å¼æ˜¯ç»è¿‡å®è·µéªŒè¯çš„è§£å†³æ–¹æ¡ˆã€‚äº†è§£è¿™äº›è®¾è®¡æ¨¡å¼å¯¹äºé˜…è¯»æºä»£ç ååˆ†æœ‰ç”¨ã€‚\n- åŒæ—¶æ–¹ä¾¿äº¤æµï¼Œåªè¦çŸ¥æ™“æ¨¡å¼ä»¥åŠåç§°çš„åŸç†ï¼Œå°±å¯ä»¥ç”¨ä¸€ä¸ªè®¾è®¡æ¨¡å¼çš„åå­—æ¥äº’ç›¸æ²Ÿé€šè¿™é‡Œè¯¥æ€ä¹ˆå†™\n\nåŒæ—¶è®¾è®¡æ¨¡å¼ä¹Ÿä¸€äº›é—®é¢˜ï¼Œè®¾è®¡æ¨¡å¼æœ‰ä¸€äº›æ˜¯ä¸ºäº†å¼¥è¡¥è¯­è¨€æœ¬èº«çš„ç¼ºé™·ï¼Œæœ‰äº›è¯­è¨€æœ‰æ–¹ä¾¿çš„è¯­æ³•ï¼ŒåŸºæœ¬ä¸Šä¸€å¥è¯å°±å¯ä»¥ä»£è¡¨ä¸€ç§è®¾è®¡æ¨¡å¼ã€‚\n\nâ€œå¦‚æœä½ åªæœ‰ä¸€æŠŠé“é”¤ï¼Œ é‚£ä¹ˆä»»ä½•ä¸œè¥¿çœ‹ä¸Šå»éƒ½åƒæ˜¯é’‰å­ã€‚â€ è¿™ç‚¹æ˜¯æœ€é‡è¦çš„ï¼Œå¯¹äºåˆå­¦è€…ä¼šå¸¦æ¥ä¸€å®šå›°æ‰°ï¼Œå­¦ä¹ æŸä¸ªæ¨¡å¼ä¹‹åï¼Œä»–ä»¬ä¼šåœ¨æ‰€æœ‰åœ°æ–¹ä½¿ç”¨è¯¥æ¨¡å¼ï¼Œå³ä¾¿æ˜¯åœ¨è¾ƒä¸ºç®€å•çš„ä»£ç ä¸­ä¹Ÿä½¿ç”¨è¿™ç§æ¨¡å¼ã€‚æ‰€ä»¥è¯´åˆå­¦è€…å­¦æ¥å¸®åŠ©è‡ªå·±é˜…è¯»æºç å°±ç»°ç»°æœ‰ä½™äº†ã€‚\n\n### UMLç±»å›¾\n\nåœ¨å­¦ä¹ è®¾è®¡æ¨¡å¼ä¹‹å‰ï¼Œæˆ‘ä»¬å¾—å…ˆå­¦ä¼šå¦‚ä½•è¯»UMLå›¾ã€‚è™½ç„¶UMLå›¾æœ‰å¾ˆå¤šç§ï¼Œä½†æ˜¯åŸºæœ¬ä¸Šåªè¦ä¼šè¯»UMLç±»å›¾ï¼Œå°±å¯ä»¥èƒœä»»å¤§éƒ¨åˆ†çš„å·¥ä½œã€‚\n\n#### UMLç±»æ–¹æ¡†\n\nUMLç±»å›¾ä¸­åŸºæœ¬ä¸Šå°±ä¸‰ç§æ™®é€šç±»ï¼ŒæŠ½è±¡ç±»å’Œæ¥å£ã€‚éƒ½ç”¨çŸ©å½¢æ¡†è¡¨ç¤ºï¼Œç¬¬ä¸€å±‚æ˜¯ç±»åç§°ï¼Œç¬¬äºŒå±‚æ˜¯æˆå‘˜å˜é‡ï¼Œç¬¬ä¸‰å±‚æ˜¯ç±»çš„æ–¹æ³•ã€‚\n\n- **\"+\"** è¡¨ç¤º public\n- **\"-\"** è¡¨ç¤º private\n- **\"#\"** è¡¨ç¤º protected\n\næŠ½è±¡ç±»çš„ç±»åä»¥åŠæŠ½è±¡æ–¹æ³•éƒ½ç”¨**æ–œä½“**ï¼Œæ¥å£ä¼šåœ¨ç¬¬ä¸€å±‚åŠ ä¸Šä¸€ä¸ª **<< interface >>** ï¼Œå…¶ä»–å¹¶æ²¡æœ‰ä»€ä¹ˆä¸åŒ\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220807220610.png)\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220807221329.png)\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220807221347.png)\n\n#### UMLç±»å›¾ä¸­çš„å…³ç³»\n\nä¸‹é¢ä¸€å¼ å›¾å¦‚æœå¯èƒ½çš„è¯åº”è¯¥åœ¨ã€Šc++ prime plusã€‹ä¸­çœ‹è¿‡ï¼Œå¯ä»¥å¾ˆå¿«ç†è§£æ˜¯ä»€ä¹ˆæ„æ€ï¼Œæˆ‘ä»¬åŸºæœ¬ä¸Šåªè¦è®°å¾—å…³ç³»å¯¹åº”çš„ç®­å¤´å°±å¯ä»¥äº†ã€‚ä¸è¿‡ä¸çŸ¥é“ä¹Ÿæ²¡å…³ç³»ï¼Œæˆ‘ä»¬å¯ä»¥å¿«é€Ÿè¿‡ä¸€éï¼Œäº†è§£è¶³çŸ£ã€‚\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220807221552.png)\n\n##### å®ç°å…³ç³»\n\nç®€å•æ¥è¯´å°±æ˜¯ç±»å®ç°æ¥å£ï¼Œç”±ç±»æŒ‡å‘æ¥å£\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220807222154.png)\n\n##### æ³›åŒ–å…³ç³»\n\næŒ‡å¯¹è±¡ä¹‹é—´çš„ç»§æ‰¿å…³ç³»ï¼Œç”±å­ç±»æŒ‡å‘çˆ¶ç±»\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220807222354.png)\n\n##### å…³è”å…³ç³»\n\næŒ‡è¿™ä¸ªå¯¹è±¡åœ¨å†…éƒ¨å¼•ç”¨äº†å¦ä¸€ä¸ªå¯¹è±¡ï¼Œå…³è”å…³ç³»å†…éƒ¨åˆä¸ºä¾èµ–å…³è”ã€èšåˆå…³è”å’Œç»„åˆå…³è”ä¸‰ç§ç±»å‹\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220807222649.png)\n\n##### ä¾èµ–å…³ç³»\n\næŒ‡Aä½¿ç”¨äº†Bï¼Œä½†æ˜¯Aå’ŒBå¹¶æ²¡ä»€ä¹ˆå…³ç³»ï¼Œå°±å¯ä»¥è®¤ä¸ºæ˜¯ä¾èµ–å…³ç³»\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220807223108.png)\n\n##### èšåˆå…³ç³»\n\næŒ‡Aæ‹¥æœ‰Bï¼ŒBå¯ä»¥å±äºå¤šç§A\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220807223430.png)\n\n##### ç»„åˆå…³ç³»\n\næŒ‡AåŒ…æ‹¬Bï¼ŒåŒç”ŸåŒç­\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220807223521.png)\n\n#### UMLç±»å›¾å°ç»“\n\nå¤§æ¦‚ç¨å¾®çœ‹ä¸€ä¸‹å°±è¡Œäº†ï¼Œæˆ‘è®¤ä¸ºçœ‹è‹±æ–‡(is aé‚£äº›)æ›´å®¹æ˜“ç†è§£å…³ç³»æ˜¯ä»€ä¹ˆæ„æ€ï¼Œè™½ç„¶å…³è”å…³ç³»è¿˜å¯å†åˆ†ï¼Œä¸è¿‡åŸºæœ¬ä¸Šä¸æé‚£ä¹ˆè¯¦ç»†ã€‚æ¯•ç«ŸUMLç±»å›¾æ˜¯ä¸ºäº†å‰æœŸå¿«é€Ÿæ„æ€ç±»çš„å…³ç³»çš„ï¼ŒåŸºæœ¬ä¸Šæˆ‘ä»¬åªç”¨å‰ä¸‰ç§å…³ç³»â€”â€”**å®ç°å…³ç³»ã€æ³›åŒ–å…³ç³»ï¼Œå…³è”å…³ç³»**\n\n### é¢å‘å¯¹è±¡è®¾è®¡çš„ä¸€äº›åŸåˆ™\n\nåœ¨äº†è§£è®¾è®¡æ¨¡å¼ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦äº†è§£ä¸€äº›åŸåˆ™ï¼Œè¿™ä¹Ÿæ˜¯ä½¿ç”¨è®¾è®¡æ¨¡å¼çš„ç›®çš„ä¹‹ä¸€ã€‚\n\n#### å•ä¸€èŒè´£åŸåˆ™(SRP-Single Responsibility Principle)\n\nå½“ä¸€ä¸ªç±»æ‰¿æ‹…çš„èŒè´£è¿‡å¤šï¼Œå°±ç­‰äºæŠŠè¿™äº›èŒè´£è€¦åˆåœ¨äº†ä¸€èµ·ï¼Œä¸€ä¸ªèŒè´£å˜åŒ–çš„æ—¶å€™ï¼Œå¯èƒ½å°±å®¹æ˜“å¯¼è‡´å…¶ä»–èŒè´£çš„å˜åŒ–ã€‚å‡è®¾ä¸€ä¸ªç±»æ—¢å¯ä»¥é“¾æ¥ç®¡ç†ï¼Œåˆå¯ä»¥è¿›è¡Œæ•°æ®é€šä¿¡ï¼Œåœ¨æ•°æ®é€šä¿¡æ–¹é¢ç”±äºå®¢æˆ·éœ€æ±‚ä¸æ–­å˜åŒ–ï¼Œå¯èƒ½åœ¨æ•°æ®é€šä¿¡æ–¹é¢ä¸æ–­ä¿®æ”¹å¯¼è‡´é“¾æ¥ç®¡ç†ä¿®æ”¹èµ·æ¥ä¹Ÿå¾ˆéº»çƒ¦ï¼Œè¿™æ—¶å°±åº”è¯¥åˆ†ç¦»è¿™ä¸¤ä¸ªèŒè´£ï¼Œè®©ä¸¤ä¸ªèŒè´£åˆ†åˆ«ç½®äºä¸åŒçš„ç±»ä¸­ã€‚\n\n#### å¼€æ”¾-å°é—­åŸåˆ™(OCP-The Open-Closed Principle)\n\næŒ‡çš„æ˜¯åœ¨ä¸€ä¸ªç±»ä¸­æ–°åŠ å…¥çš„æ‰©å±•çš„åŠŸèƒ½å¹¶ä¸éœ€è¦ä¿®æ”¹åŸæœ‰çš„åŠŸèƒ½ã€‚æ¯”å¦‚è¯´ç»˜åˆ¶å›¾æ¡ˆï¼ŒåŸæœ¬åªèƒ½ç»˜åˆ¶æ­£æ–¹å½¢å’Œåœ†å½¢ï¼Œå¦‚æœåŠ å…¥ä¸‰è§’å½¢ï¼Œé‚£åœ¨ç»˜åˆ¶å›¾æ¡ˆçš„æ—¶å€™åªéœ€æ·»åŠ ä¸‰è§’å½¢è¿™ä¸ªç±»è€Œä¸ä¿®æ”¹å…¶ä»–ç±»ã€‚\n\n#### Liskovæ›¿æ¢åŸåˆ™(LSP-Liskov Substitution Principle)\n\nè¿åLSPåŸåˆ™å¿…ç„¶è¿åOCPåŸåˆ™ï¼Œä»»ä½•åŸºç±»å¯ä»¥å‡ºç°çš„åœ°æ–¹ï¼Œå­ç±»ä¸€å®šå¯ä»¥å‡ºç°ï¼Œå³åœ¨ä½¿ç”¨æ—¶å­ç±»å¯ä»¥æ›¿æ¢æ‰åŸºç±»ä½†æ˜¯åŠŸèƒ½ä¸å—å½±å“\n\n#### ä¾èµ–å¯¼è‡´åŸåˆ™(DIP-Dependency Inversion Principle)\n\n- é«˜å±‚æ¨¡å—ä¸åº”è¯¥ä¾èµ–äºåº•å±‚æ¨¡å—ï¼ŒäºŒè€…éƒ½åº”è¯¥ä¾èµ–äºæŠ½è±¡\n- æŠ½è±¡ä¸åº”è¯¥ä¾èµ–äºç»†èŠ‚ï¼Œç»†èŠ‚åº”è¯¥ä¾èµ–äºæŠ½è±¡\n\né«˜å±‚æ¨¡å—å³å®è·µæ¨¡å—ï¼Œæ¯”å¦‚mainå‡½æ•°ï¼Œä¿®æ”¹äº†mainå‡½æ•°çš„å®ç°æ–¹å¼å´ä¸æ”¹å˜åº•å±‚æ¨¡å—ç±»çš„ä»£ç å˜åŒ–\n\n#### æ¥å£éš”ç¦»åŸåˆ™(ISP-Interface Segregation Principle)\n\nå»ºç«‹å•ä¸€æ¥å£ï¼Œä¸è¦å»ºç«‹è‡ƒè‚¿åºå¤§çš„æ¥å£ã€‚å†é€šä¿—ä¸€ç‚¹è®²ï¼šæ¥å£å°½é‡ç»†åŒ–ï¼ŒåŒæ—¶æ¥å£ä¸­çš„æ–¹æ³•å°½é‡å°‘ã€‚è·ŸSRPå·®ä¸å¤š\n\n### è®¾è®¡æ¨¡å¼ä»‹ç»\n\nè®¾è®¡æ¨¡å¼å¯ä»¥æ ¹æ®å…¶æ„å›¾æ¥åˆ†ç±»ã€‚ä¸»è¦åˆ†ä¸ºä¸‰ç§ç±»åˆ«\n\n- **åˆ›å»ºå‹æ¨¡å¼(Creational Patterns)** æä¾›åˆ›å»ºå¯¹è±¡çš„æœºåˆ¶ï¼Œ å¢åŠ å·²æœ‰ä»£ç çš„çµæ´»æ€§å’Œå¯å¤ç”¨æ€§\n- **ç»“æ„å‹æ¨¡å¼(Structural Patterns)** ä»‹ç»å¦‚ä½•å°†å¯¹è±¡å’Œç±»ç»„è£…æˆè¾ƒå¤§çš„ç»“æ„ï¼Œ å¹¶åŒæ—¶ä¿æŒç»“æ„çš„çµæ´»å’Œé«˜æ•ˆ\n- **è¡Œä¸ºæ¨¡å¼(Behavioral Patterns)** è´Ÿè´£å¯¹è±¡é—´çš„é«˜æ•ˆæ²Ÿé€šå’ŒèŒè´£å§”æ´¾\n\n### åˆ›å»ºå‹æ¨¡å¼(Creational Patterns)\n\n#### Factory Method(å·¥å‚æ¨¡å¼)\n\nå·¥å‚æ¨¡å¼æ˜¯ä¸€ç§åˆ›å»ºå‹è®¾è®¡æ¨¡å¼ï¼Œå…¶åœ¨çˆ¶ç±»ä¸­æä¾›ä¸€ä¸ªåˆ›å»ºå¯¹è±¡çš„æ–¹æ³•ï¼Œ å…è®¸å­ç±»å†³å®šå®ä¾‹åŒ–å¯¹è±¡çš„ç±»å‹ã€‚\n\n##### é—®é¢˜\n\nå‡è®¾ä½ æ­£åœ¨å¼€å‘ä¸€æ¬¾ç‰©æµç®¡ç†åº”ç”¨ã€‚ æœ€åˆç‰ˆæœ¬åªèƒ½å¤„ç†å¡è½¦è¿è¾“ï¼Œ å› æ­¤å¤§éƒ¨åˆ†ä»£ç éƒ½åœ¨ä½äºåä¸º**å¡è½¦**çš„ç±»ä¸­ã€‚ä¸€æ®µæ—¶é—´åï¼Œ è¿™æ¬¾åº”ç”¨å˜å¾—æå—æ¬¢è¿ã€‚ ä½ æ¯å¤©éƒ½èƒ½æ”¶åˆ°åå‡ æ¬¡æ¥è‡ªæµ·è¿å…¬å¸çš„è¯·æ±‚ï¼Œ å¸Œæœ›åº”ç”¨èƒ½å¤Ÿæ”¯æŒæµ·ä¸Šç‰©æµåŠŸèƒ½ã€‚è¿™å¯æ˜¯ä¸ªå¥½æ¶ˆæ¯ã€‚ ä½†æ˜¯ä»£ç é—®é¢˜è¯¥å¦‚ä½•å¤„ç†å‘¢ï¼Ÿ ç›®å‰ï¼Œ å¤§éƒ¨åˆ†ä»£ç éƒ½ä¸ å¡è½¦ç±»ç›¸å…³ã€‚ åœ¨ç¨‹åºä¸­æ·»åŠ  è½®èˆ¹ç±»éœ€è¦ä¿®æ”¹å…¨éƒ¨ä»£ç ã€‚ æ›´ç³Ÿç³•çš„æ˜¯ï¼Œ å¦‚æœä½ ä»¥åéœ€è¦åœ¨ç¨‹åºä¸­æ”¯æŒå¦å¤–ä¸€ç§è¿è¾“æ–¹å¼ï¼Œ å¾ˆå¯èƒ½éœ€è¦å†æ¬¡å¯¹è¿™äº›ä»£ç è¿›è¡Œå¤§å¹…ä¿®æ”¹ã€‚\n\n##### è§£å†³æ–¹æ¡ˆ\n\nå·¥å‚æ–¹æ³•æ¨¡å¼å»ºè®®ä½¿ç”¨ç‰¹æ®Šçš„å·¥å‚æ–¹æ³•ä»£æ›¿å¯¹äºå¯¹è±¡æ„é€ å‡½æ•°çš„ç›´æ¥è°ƒç”¨ï¼ˆå³ä½¿ç”¨ newè¿ç®—ç¬¦ï¼‰ã€‚ä¸ç”¨æ‹…å¿ƒï¼Œ å¯¹è±¡ä»å°†é€šè¿‡newè¿ç®—ç¬¦åˆ›å»ºï¼Œåªæ˜¯è¯¥è¿ç®—ç¬¦æ”¹åœ¨å·¥å‚æ–¹æ³•ä¸­è°ƒç”¨ç½¢äº†ã€‚å·¥å‚æ–¹æ³•è¿”å›çš„å¯¹è±¡é€šå¸¸è¢«ç§°ä½œ â€œäº§å“â€ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220808133543.png)\n\nè¿™æ ·å­ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å­ç±»ä¸­é‡å†™å·¥å‚æ–¹æ³•ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220808134434.png)\n\nä¸¾ä¾‹æ¥è¯´ï¼Œ**RoadLogically**ç±»çš„å·¥å‚æ–¹æ³•ä¹Ÿå°±æ˜¯**createTransport()**è¿”å›çš„ä¾¿æ˜¯**Truck**å¯¹è±¡ï¼Œè€Œ**SeaLogistics**è¿”å›çš„ä¾¿æ˜¯**Ship**å¯¹è±¡ã€‚\n\nè°ƒç”¨å·¥å‚æ–¹æ³•çš„ä»£ç  ï¼ˆé€šå¸¸è¢«ç§°ä¸ºå®¢æˆ·ç«¯ä»£ç ï¼‰ æ— éœ€äº†è§£ä¸åŒå­ç±»è¿”å›å®é™…å¯¹è±¡ä¹‹é—´çš„å·®åˆ«ã€‚ å®¢æˆ·ç«¯å°†æ‰€æœ‰äº§å“è§†ä¸ºæŠ½è±¡çš„è¿è¾“ã€‚ å®¢æˆ·ç«¯çŸ¥é“æ‰€æœ‰è¿è¾“å¯¹è±¡éƒ½æä¾›äº¤ä»˜æ–¹æ³•ï¼Œä½†æ˜¯å¹¶ä¸å…³å¿ƒå…¶å…·ä½“å®ç°æ–¹å¼ã€‚\n\n##### å·¥å‚æ–¹æ³•æ¨¡å¼ç»“æ„\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220808164835.png)\n\nç”±å›¾å¯ä»¥çœ‹åˆ°è¿™ä¸ªç»“æ„è¢«åˆ†ä¸ºäº†ä¸¤éƒ¨åˆ†ï¼Œä¸€ä¸ªCreatoréƒ¨åˆ†ï¼Œä¸€ä¸ªProductéƒ¨åˆ†ï¼ŒCreatoréƒ¨åˆ†è´Ÿè´£åˆ›å»ºï¼ŒåŒæ—¶æä¾›SomeOperation()è¿›è¡Œæ“ä½œï¼Œè€ŒSomeOperation()å†…éƒ¨æ˜¯è·å¾—å…·ä½“ç‰©ä½“çš„æ¥å£ï¼Œå¹¶ä¸”åšå‡ºå…·ä½“å®ç°ã€‚\n\n1.**äº§å“(Product)** å°†ä¼šå¯¹æ¥å£è¿›è¡Œå£°æ˜ã€‚ å¯¹äºæ‰€æœ‰ç”±åˆ›å»ºè€…åŠå…¶å­ç±»æ„å»ºçš„å¯¹è±¡ï¼Œ è¿™äº›æ¥å£éƒ½æ˜¯é€šç”¨çš„ã€‚\n\n2.**å…·ä½“äº§å“(ConÂ­crete ProdÂ­ucts)** æ˜¯äº§å“æ¥å£çš„ä¸åŒå®ç°ã€‚\n\n3.**åˆ›å»ºè€…(CreÂ­ator)** ç±»å£°æ˜è¿”å›äº§å“å¯¹è±¡çš„å·¥å‚æ–¹æ³•ã€‚ è¯¥æ–¹æ³•çš„è¿”å›å¯¹è±¡ç±»å‹å¿…é¡»ä¸äº§å“æ¥å£ç›¸åŒ¹é…ã€‚\n\nä½ å¯ä»¥å°†å·¥å‚æ–¹æ³•å£°æ˜ä¸ºæŠ½è±¡æ–¹æ³•ï¼Œå¼ºåˆ¶è¦æ±‚æ¯ä¸ªå­ç±»ä»¥ä¸åŒæ–¹å¼å®ç°è¯¥æ–¹æ³•.æˆ–è€…ï¼Œä½ ä¹Ÿå¯ä»¥åœ¨åŸºç¡€å·¥å‚æ–¹æ³•ä¸­è¿”å›é»˜è®¤äº§å“ç±»å‹ã€‚\n\næ³¨æ„ï¼Œå°½ç®¡å®ƒçš„åå­—æ˜¯åˆ›å»ºè€…ï¼Œä½†å®ƒæœ€ä¸»è¦çš„èŒè´£å¹¶ä¸æ˜¯åˆ›å»ºäº§å“ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œåˆ›å»ºè€…ç±»åŒ…å«ä¸€äº›ä¸äº§å“ç›¸å…³çš„æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ã€‚å·¥å‚æ–¹æ³•å°†è¿™äº›é€»è¾‘å¤„ç†ä»å…·ä½“äº§å“ç±»ä¸­åˆ†ç¦»å‡ºæ¥.æ‰“ä¸ªæ¯”æ–¹ï¼Œå¤§å‹è½¯ä»¶å¼€å‘å…¬å¸æ‹¥æœ‰ç¨‹åºå‘˜åŸ¹è®­éƒ¨é—¨ã€‚ä½†æ˜¯ï¼Œè¿™äº›å…¬å¸çš„ä¸»è¦å·¥ä½œè¿˜æ˜¯ç¼–å†™ä»£ç ï¼Œè€Œéç”Ÿäº§ç¨‹åºå‘˜ã€‚\n\n4.**å…·ä½“åˆ›å»ºè€…(ConÂ­crete CreÂ­ators)** å°†ä¼šé‡å†™åŸºç¡€å·¥å‚æ–¹æ³•ï¼Œä½¿å…¶è¿”å›ä¸åŒç±»å‹çš„äº§å“ã€‚\n\næ³¨æ„ï¼Œå¹¶ä¸ä¸€å®šæ¯æ¬¡è°ƒç”¨å·¥å‚æ–¹æ³•éƒ½ä¼šåˆ›å»ºæ–°çš„å®ä¾‹ã€‚å·¥å‚æ–¹æ³•ä¹Ÿå¯ä»¥è¿”å›ç¼“å­˜ã€å¯¹è±¡æ± æˆ–å…¶ä»–æ¥æºçš„å·²æœ‰å¯¹è±¡ã€‚\n\n##### ä¼ªä»£ç \n\næ ¹æ®ä¸Šå›¾ï¼Œæˆ‘ä»¬å¯ä»¥å¿«é€Ÿçš„åšå‡ºä¸€ä¸ªåŸºäºè¿è¾“ä¾‹å­çš„ä¼ªä»£ç (å¹¶ä¸æ˜¯å¾ˆä¼ª)ï¼Œå¦‚æœæœ‰æ–°çš„ç§ç±»ï¼Œæ¯”å¦‚è¯´é£æœºï¼Œé‚£ä¹ˆä¿®æ”¹å°±å¾ˆå®¹æ˜“äº†ï¼Œå¹¶ä¸éœ€è¦ä¿®æ”¹åŸæ¥çš„ä»£ç ï¼Œåªéœ€è¦å¤šå†™ä¸€ä¸ª**AirLogisticsç±»**ç»§æ‰¿**Logisticsç±»**ï¼Œå†™ä¸€ä¸ª**Plane**ç»§æ‰¿**Transportæ¥å£**ï¼Œç”šè‡³è¿çˆ¶ç±»çš„Logisticséƒ½ä¸ç”¨åŠ¨ï¼Œè¿™å¾ˆå¥½çš„è·µè¡Œäº†SRPå’ŒOCPåŸåˆ™ã€‚\n\n```csharp\n//LogisiticæŠ½è±¡ç±»ï¼Œä¹Ÿå°±æ˜¯Creator\npublic abstract class Logisitic\n{\n    //CreateTransportä¹Ÿå°±æ˜¯å·¥å‚æ–¹æ³•(FactoryMethod)\n    public abstract Transport CreateTransport();\n\n    public void planDelivery()\n    {\n        Transport t = CreateTransport();\n        t.Deliver();\n    }\n}\npublic class RoadLogistics : Logisitic\n{\n    public overrride Transport CreateTransport()\n    {\n        //è¿”å›çš„æ˜¯äº§å“ç±»ï¼Œè€Œä¸æ˜¯æœ¬å°Š\n        return new Truck();\n    }\n}\npublic class SeaLogistics : Logisitic\n{\n    public overrride Transport CreateTransport()\n    {\n        return new Ship();\n    }\n}\n//Transportæ¥å£ï¼Œä¹Ÿå°±æ˜¯Product\npublic interface Transport\n{\n    void Deliver();\n}\nclass Truck : Transport\n{\n    public void Deliver() \n    {\n        //....\n    }\n}\nclass Ship : Transport\n{\n    public void Deliver() \n    {\n        //....\n    }\n}\n```\n\n##### é€‚åˆå·¥å‚æ¨¡å¼çš„åœ°æ–¹\n\n- å½“ä½ åœ¨ç¼–å†™ä»£ç çš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æœæ— æ³•é¢„çŸ¥å¯¹è±¡ç¡®åˆ‡ç±»åˆ«åŠå…¶ä¾èµ–å…³ç³»æ—¶ï¼Œå¯ä½¿ç”¨å·¥å‚æ–¹æ³•ã€‚\n- å¦‚æœä½ å¸Œæœ›ç”¨æˆ·èƒ½æ‰©å±•ä½ è½¯ä»¶åº“æˆ–æ¡†æ¶çš„å†…éƒ¨ç»„ä»¶ï¼Œå¯ä½¿ç”¨å·¥å‚æ–¹æ³•ã€‚\n- å¦‚æœä½ å¸Œæœ›å¤ç”¨ç°æœ‰å¯¹è±¡æ¥èŠ‚çœç³»ç»Ÿèµ„æºï¼Œè€Œä¸æ˜¯æ¯æ¬¡éƒ½é‡æ–°åˆ›å»ºå¯¹è±¡ï¼Œå¯ä½¿ç”¨å·¥å‚æ–¹æ³•ã€‚\n\n##### å·¥å‚æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\n\n**ä¼˜ç‚¹**ï¼š\n\n- ä½ å¯ä»¥é¿å…åˆ›å»ºè€…å’Œå…·ä½“äº§å“ä¹‹é—´çš„ç´§å¯†è€¦åˆã€‚\n- ç¬¦åˆSRP\n- ç¬¦åˆOCP\n  \n\n**ç¼ºç‚¹**ï¼š\n\n- åº”ç”¨å·¥å‚æ–¹æ³•æ¨¡å¼éœ€è¦å¼•å…¥è®¸å¤šæ–°çš„å­ç±»ï¼Œä»£ç å¯èƒ½ä¼šå› æ­¤å˜å¾—æ›´å¤æ‚ã€‚æœ€å¥½çš„æƒ…å†µæ˜¯å°†è¯¥æ¨¡å¼å¼•å…¥åˆ›å»ºè€…ç±»çš„ç°æœ‰å±‚æ¬¡ç»“æ„ä¸­ã€‚ç®€å•æ¥è¯´ï¼Œå°±æ˜¯åœ¨å·¥ä½œåˆæœŸä½¿ç”¨**å·¥å‚æ¨¡å¼**ï¼ˆæ¯”è¾ƒç®€å•ï¼Œè€Œä¸”å®¹æ˜“é€šè¿‡å­ç±»ä¿®æ”¹),ä½†ä»£ç å¤æ‚æ—¶ä¼šæ¼”åŒ–æˆå…¶ä»–æ¨¡å¼\n\n#### Abstract Factory(æŠ½è±¡å·¥å‚æ¨¡å¼)\n\næŠ½è±¡å·¥å‚æ¨¡å¼æ˜¯ä¸€ç§åˆ›å»ºå‹è®¾è®¡æ¨¡å¼ï¼Œ å®ƒèƒ½åˆ›å»ºä¸€ç³»åˆ—ç›¸å…³çš„å¯¹è±¡ï¼Œ è€Œæ— éœ€æŒ‡å®šå…¶å…·ä½“ç±»ã€‚\n\n##### é—®é¢˜\n\nå‡è®¾ä½ æ­£åœ¨å¼€å‘ä¸€æ¬¾å®¶å…·å•†åº—æ¨¡æ‹Ÿå™¨ã€‚ä½ çš„ä»£ç ä¸­åŒ…æ‹¬ä¸€äº›ç±»ï¼Œç”¨äºè¡¨ç¤ºï¼š\n1.ä¸€ç³»åˆ—ç›¸å…³äº§å“ï¼Œä¾‹å¦‚ æ¤…å­Chairã€æ²™å‘Sofaå’Œå’–å•¡æ¡ŒCofÂ­feeÂ­Tableã€‚\n2.ç³»åˆ—äº§å“çš„ä¸åŒå˜ä½“ã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥ä½¿ç”¨ç°ä»£ModÂ­ernã€ç»´å¤šåˆ©äºšVicÂ­toÂ­riÂ­anã€â€‹è£…é¥°é£è‰ºæœ¯ArtÂ­Decoç­‰é£æ ¼ç”Ÿæˆæ¤…å­ã€æ²™å‘å’Œå’–å•¡æ¡Œã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220808150223.png)\n\nä½ éœ€è¦è®¾æ³•å•ç‹¬ç”Ÿæˆæ¯ä»¶å®¶å…·å¯¹è±¡ï¼Œè¿™æ ·æ‰èƒ½ç¡®ä¿å…¶é£æ ¼ä¸€è‡´ã€‚å¦‚æœé¡¾å®¢æ”¶åˆ°çš„å®¶å…·é£æ ¼ä¸ä¸€æ ·ï¼Œä»–ä»¬å¯ä¸ä¼šå¼€å¿ƒã€‚\næ­¤å¤–ï¼Œä½ ä¹Ÿä¸å¸Œæœ›åœ¨æ·»åŠ æ–°äº§å“æˆ–æ–°é£æ ¼æ—¶ä¿®æ”¹å·²æœ‰ä»£ç ã€‚å®¶å…·ä¾›åº”å•†å¯¹äºäº§å“ç›®å½•çš„æ›´æ–°éå¸¸é¢‘ç¹ï¼Œä½ ä¸ä¼šæƒ³åœ¨æ¯æ¬¡æ›´æ–°æ—¶éƒ½å»ä¿®æ”¹æ ¸å¿ƒä»£ç çš„ã€‚\n\n##### è§£å†³æ–¹æ¡ˆ\n\né¦–å…ˆï¼Œ æŠ½è±¡å·¥å‚æ¨¡å¼å»ºè®®ä¸ºç³»åˆ—ä¸­çš„**æ¯ä»¶äº§å“**æ˜ç¡®å£°æ˜æ¥å£ï¼ˆä¾‹å¦‚æ¤…å­ã€æ²™å‘æˆ–å’–å•¡æ¡Œï¼‰ã€‚ç„¶åï¼Œç¡®ä¿æ‰€æœ‰äº§å“å˜ä½“éƒ½ç»§æ‰¿è¿™äº›æ¥å£ã€‚ä¾‹å¦‚ï¼Œæ‰€æœ‰é£æ ¼çš„æ¤…å­éƒ½å®ç°æ¤…å­æ¥å£ï¼›æ‰€æœ‰é£æ ¼çš„å’–å•¡æ¡Œéƒ½å®ç°å’–å•¡æ¡Œæ¥å£ï¼Œä»¥æ­¤ç±»æ¨ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220808150715.png)\n\næ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦å£°æ˜æŠ½è±¡å·¥å‚â€”â€”åŒ…å«ç³»åˆ—ä¸­æ‰€æœ‰äº§å“æ„é€ æ–¹æ³•çš„æ¥å£ã€‚ä¾‹å¦‚creÂ­ateÂ­Chairåˆ›å»ºæ¤…å­ã€â€‹creÂ­ateÂ­Sofaåˆ›å»ºæ²™å‘å’ŒcreÂ­ateÂ­CofÂ­feeÂ­Tableåˆ›å»ºå’–å•¡æ¡Œ.è¿™äº›æ–¹æ³•å¿…é¡»è¿”å›æŠ½è±¡äº§å“ç±»å‹ï¼Œå³æˆ‘ä»¬ä¹‹å‰æŠ½å–çš„é‚£äº›æ¥å£ï¼šæ¤…å­,æ²™å‘å’Œå’–å•¡æ¡Œç­‰ç­‰ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220808150835.png)\n\né‚£ä¹ˆè¯¥å¦‚ä½•å¤„ç†äº§å“å˜ä½“å‘¢ï¼Ÿå¯¹äºç³»åˆ—äº§å“çš„æ¯ä¸ªå˜ä½“ï¼Œæˆ‘ä»¬éƒ½å°†åŸºäºæŠ½è±¡å·¥å‚æ¥å£åˆ›å»ºä¸åŒçš„å·¥å‚ç±»ã€‚æ¯ä¸ªå·¥å‚ç±»éƒ½åªèƒ½è¿”å›ç‰¹å®šç±»åˆ«çš„äº§å“ï¼Œä¾‹å¦‚ï¼Œâ€‹ç°ä»£å®¶å…·å·¥å‚ModÂ­ernÂ­FurÂ­niÂ­tureÂ­FacÂ­toÂ­ryåªèƒ½åˆ›å»ºç°ä»£æ¤…å­ModÂ­ernÂ­Chairã€ç°ä»£æ²™å‘ModÂ­ernÂ­Sofaå’Œç°ä»£å’–å•¡æ¡ŒModÂ­ernÂ­CofÂ­feeÂ­Tableå¯¹è±¡ã€‚\n\nå®¢æˆ·ç«¯ä»£ç å¯ä»¥é€šè¿‡ç›¸åº”çš„æŠ½è±¡æ¥å£è°ƒç”¨å·¥å‚å’Œäº§å“ç±»ã€‚ ä½ æ— éœ€ä¿®æ”¹å®é™…å®¢æˆ·ç«¯ä»£ç ï¼Œ å°±èƒ½æ›´æ”¹ä¼ é€’ç»™å®¢æˆ·ç«¯çš„å·¥å‚ç±»ï¼Œ ä¹Ÿèƒ½æ›´æ”¹å®¢æˆ·ç«¯ä»£ç æ¥æ”¶çš„äº§å“å˜ä½“ã€‚\n\n##### æŠ½è±¡å·¥å‚æ¨¡å¼ç»“æ„\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220808151005.png)\n\n1.**æŠ½è±¡äº§å“(Abstract ProdÂ­uct)** ä¸ºæ„æˆç³»åˆ—äº§å“çš„ä¸€ç»„ä¸åŒä½†ç›¸å…³çš„äº§å“å£°æ˜æ¥å£ã€‚\n\n2.**å…·ä½“äº§å“(ConÂ­crete ProdÂ­uct)** æ˜¯æŠ½è±¡äº§å“çš„å¤šç§ä¸åŒç±»å‹å®ç°ã€‚æ‰€æœ‰å˜ä½“ ï¼ˆç»´å¤šåˆ©äºš/ç°ä»£ï¼‰éƒ½å¿…é¡»å®ç°ç›¸åº”çš„æŠ½è±¡äº§å“ ï¼ˆæ¤…å­/æ²™å‘ï¼‰ã€‚\n\n3.**æŠ½è±¡å·¥å‚(Abstract FacÂ­toÂ­ry)** æ¥å£å£°æ˜äº†ä¸€ç»„åˆ›å»ºå„ç§æŠ½è±¡äº§å“çš„æ–¹æ³•ã€‚\n\n4.**å…·ä½“å·¥å‚(ConÂ­crete FacÂ­toÂ­ry)** å®ç°æŠ½è±¡å·¥å‚çš„æ„å»ºæ–¹æ³•ã€‚æ¯ä¸ªå…·ä½“å·¥å‚éƒ½å¯¹åº”ç‰¹å®šäº§å“å˜ä½“ï¼Œä¸”ä»…åˆ›å»ºæ­¤ç§äº§å“å˜ä½“ã€‚\n\n5.å°½ç®¡å…·ä½“å·¥å‚ä¼šå¯¹å…·ä½“äº§å“è¿›è¡Œåˆå§‹åŒ–ï¼Œå…¶æ„å»ºæ–¹æ³•ç­¾åå¿…é¡»è¿”å›ç›¸åº”çš„æŠ½è±¡äº§å“ã€‚è¿™æ ·ï¼Œä½¿ç”¨å·¥å‚ç±»çš„å®¢æˆ·ç«¯ä»£ç å°±ä¸ä¼šä¸å·¥å‚åˆ›å»ºçš„ç‰¹å®šäº§å“å˜ä½“è€¦åˆã€‚**å®¢æˆ·ç«¯ (Client)** åªéœ€é€šè¿‡æŠ½è±¡æ¥å£è°ƒç”¨å·¥å‚å’Œäº§å“å¯¹è±¡ï¼Œå°±èƒ½ä¸ä»»ä½•å…·ä½“å·¥å‚/äº§å“å˜ä½“äº¤äº’ã€‚\n\n##### ä¼ªä»£ç \n\nåŒæ ·æ˜¯æ ¹æ®æŠ½è±¡å·¥å‚æ¨¡å¼ç»“æ„çš„å›¾ï¼Œæˆ‘ä»¬å¿«é€Ÿçš„å†™ä¸€ä¸ªåŸºäºå®¶å…·æŠ½è±¡å·¥å‚çš„ä¸æ˜¯é‚£ä¹ˆä¼ªçš„ä¼ªä»£ç \n\n```csharp\n//éšä¾¿å†™ä¸€ä¸‹ä»£ç å°±ä¼šå¾ˆå¤šï¼Œæ‰€ä»¥è¿™é‡Œåªå†™å‡ºäº†ä¸€éƒ¨åˆ†ä»£ç \n//æŠ½è±¡å·¥å‚æ¥å£\npublic interface FurnitureFactory\n{\n    //åˆ›å»ºæ¤…å­\n    Chair CreateChair();\n\n    //åˆ›å»ºå’–å•¡æ¡Œ\n    CoffeTable CreateCoffeeTable();\n\n    //åˆ›å»ºæ²™å‘\n    Sofa CreateSofa();\n}\npublic class VictorianFurnitureFactory : FurnitureFactory\n{\n    public Chair CreateChair()\n    {\n        return new VictorianChair();\n    }\n\n    public CoffeTable CreateCoffeeTable()\n    {\n        return new VictorianCoffeeTable();\n    }\n\n    public Sofa CreateSofa()\n    {\n        return new VictorianSofa();\n    }\n}\npublic class ModernFurnitureFactory : FurnitureFactory\n{\n    public Chair CreateChair()\n    {\n        return new ModernChair();\n    }\n\n    public CoffeTable CreateCoffeeTable()\n    {\n        return new ModenCoffeeTable();\n    }\n\n    public Sofa CreateSofa()\n    {\n        return new ModernSofa();\n    }\n}\n\n//æŠ½è±¡äº§å“ Chairç±»\npublic interface Chair\n{\n    void HasLegs();\n\n    void SitOn();\n}\n\npublic class VictorianChair : Chair\n{\n    public void HasLegs()\n    {\n        //...\n    }\n    public void SitOn()\n    {\n        //...\n    }\n}\n\npublic class ModernChair : Chair\n{\n    public void HasLegs()\n    {\n        //...\n    }\n    public void SitOn()\n    {\n        //...\n    }\n}\n\n//æŠ½è±¡äº§å“ CoffeeTableç±»\npublic interface CoffeeTable\n{\n    void HasLegs();\n}\n\npublic class VictorianCoffeeTable : CoffeeTable\n{\n    public void HasLegs()\n    {\n        //...\n    }\n}\npublic class ModernCoffeeTable : CoffeeTable\n{\n    public void HasLegs()\n    {\n        //...\n    }\n}\n\n//å®¢æˆ·ç«¯è°ƒç”¨æŠ½è±¡å·¥å‚ä»£ç \npublic class Client\n{\n    // - factory:AbstractFactory\n    private FurnitureFactory factory;\n\n    public Client(FurnitureFactory factory)\n    {\n        this.factory = factory;\n    }\n\n    public void SomeOperation()\n    {\n        Chair chair = factory.CreateChair();\n        //...\n    }\n}\n```\n\n##### é€‚åˆæŠ½è±¡å·¥å‚æ¨¡å¼çš„åœ°æ–¹\n\n- å¦‚æœä»£ç éœ€è¦ä¸å¤šä¸ªä¸åŒç³»åˆ—çš„ç›¸å…³äº§å“äº¤äº’ï¼Œä½†æ˜¯ç”±äºæ— æ³•æå‰è·å–ç›¸å…³ä¿¡æ¯ï¼Œæˆ–è€…å‡ºäºå¯¹æœªæ¥æ‰©å±•æ€§çš„è€ƒè™‘ï¼Œä½ ä¸å¸Œæœ›ä»£ç åŸºäºäº§å“çš„å…·ä½“ç±»è¿›è¡Œæ„å»ºï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½ å¯ä»¥ä½¿ç”¨æŠ½è±¡å·¥å‚\n\n##### æŠ½è±¡å·¥å‚æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\n\n**ä¼˜ç‚¹**:\n\n- ä½ å¯ä»¥ç¡®ä¿åŒä¸€å·¥å‚ç”Ÿæˆçš„äº§å“ç›¸äº’åŒ¹é…\n- ä½ å¯ä»¥é¿å…å®¢æˆ·ç«¯å’Œå…·ä½“äº§å“ä»£ç çš„è€¦åˆ\n- ç¬¦åˆSRP\n- ç¬¦åˆOCP\n\n**ç¼ºç‚¹**:\n\n- ç”±äºé‡‡ç”¨è¯¥æ¨¡å¼éœ€è¦å‘åº”ç”¨ä¸­å¼•å…¥ä¼—å¤šæ¥å£å’Œç±»ï¼Œ ä»£ç å¯èƒ½ä¼šæ¯”ä¹‹å‰æ›´åŠ å¤æ‚ã€‚\n\n#### Builder(ç”Ÿæˆå™¨æ¨¡å¼)\n\nç”Ÿæˆå™¨æ¨¡å¼æ˜¯ä¸€ç§åˆ›å»ºå‹è®¾è®¡æ¨¡å¼ï¼Œä½¿ä½ èƒ½å¤Ÿåˆ†æ­¥éª¤åˆ›å»ºå¤æ‚å¯¹è±¡ã€‚è¯¥æ¨¡å¼å…è®¸ä½ ä½¿ç”¨ç›¸åŒçš„åˆ›å»ºä»£ç ç”Ÿæˆä¸åŒç±»å‹å’Œå½¢å¼çš„å¯¹è±¡ã€‚\n\n##### é—®é¢˜\n\nå‡è®¾æœ‰è¿™æ ·ä¸€ä¸ªå¤æ‚å¯¹è±¡ï¼Œåœ¨å¯¹å…¶è¿›è¡Œæ„é€ æ—¶éœ€è¦å¯¹è¯¸å¤šæˆå‘˜å˜é‡å’ŒåµŒå¥—å¯¹è±¡è¿›è¡Œç¹å¤çš„åˆå§‹åŒ–å·¥ä½œã€‚è¿™äº›åˆå§‹åŒ–ä»£ç é€šå¸¸æ·±è—äºä¸€ä¸ªåŒ…å«ä¼—å¤šå‚æ•°ä¸”è®©äººåŸºæœ¬çœ‹ä¸æ‡‚çš„æ„é€ å‡½æ•°ä¸­ï¼›ç”šè‡³è¿˜æœ‰æ›´ç³Ÿç³•çš„æƒ…å†µï¼Œé‚£å°±æ˜¯è¿™äº›ä»£ç æ•£è½åœ¨å®¢æˆ·ç«¯ä»£ç çš„å¤šä¸ªä½ç½®ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220808163211.png)\n\næœ€ç®€å•çš„æ–¹æ³•æ˜¯æ‰©å±•æˆ¿å±‹åŸºç±»ï¼Œç„¶ååˆ›å»ºä¸€ç³»åˆ—æ¶µç›–æ‰€æœ‰å‚æ•°ç»„åˆçš„å­ç±»ã€‚ä½†æœ€ç»ˆä½ å°†é¢å¯¹ç›¸å½“æ•°é‡çš„å­ç±»ã€‚ä»»ä½•æ–°å¢çš„å‚æ•°ï¼ˆä¾‹å¦‚é—¨å»Šç±»å‹ï¼‰éƒ½ä¼šè®©è¿™ä¸ªå±‚æ¬¡ç»“æ„æ›´åŠ å¤æ‚ã€‚\n\nå¦ä¸€ç§æ–¹æ³•åˆ™æ— éœ€ç”Ÿæˆå­ç±»ã€‚ä½ å¯ä»¥åœ¨æˆ¿å±‹åŸºç±»ä¸­åˆ›å»ºä¸€ä¸ªåŒ…æ‹¬æ‰€æœ‰å¯èƒ½å‚æ•°çš„è¶…çº§æ„é€ å‡½æ•°ï¼Œå¹¶ç”¨å®ƒæ¥æ§åˆ¶æˆ¿å±‹å¯¹è±¡ã€‚è¿™ç§æ–¹æ³•ç¡®å®å¯ä»¥é¿å…ç”Ÿæˆå­ç±»ï¼Œä½†å®ƒå´ä¼šé€ æˆå¦å¤–ä¸€ä¸ªé—®é¢˜ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220808163441.png)\n\né€šå¸¸æƒ…å†µä¸‹ï¼Œ ç»å¤§éƒ¨åˆ†çš„å‚æ•°éƒ½æ²¡æœ‰ä½¿ç”¨ï¼Œ è¿™ä½¿å¾—å¯¹äºæ„é€ å‡½æ•°çš„è°ƒç”¨ååˆ†ä¸ç®€æ´ã€‚ ä¾‹å¦‚ï¼Œ åªæœ‰å¾ˆå°‘çš„æˆ¿å­æœ‰æ¸¸æ³³æ± ï¼Œ å› æ­¤ä¸æ¸¸æ³³æ± ç›¸å…³çš„å‚æ•°åä¹‹å…«ä¹æ˜¯æ¯«æ— ç”¨å¤„çš„ã€‚\n\n##### è§£å†³æ–¹æ¡ˆ\n\nç”Ÿæˆå™¨æ¨¡å¼å»ºè®®å°†å¯¹è±¡æ„é€ ä»£ç ä»äº§å“ç±»ä¸­æŠ½å–å‡ºæ¥ï¼Œå¹¶å°†å…¶æ”¾åœ¨ä¸€ä¸ªåä¸ºç”Ÿæˆå™¨çš„ç‹¬ç«‹å¯¹è±¡ä¸­ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220808164126.png)\n\nè¯¥æ¨¡å¼ä¼šå°†å¯¹è±¡æ„é€ è¿‡ç¨‹**åˆ’åˆ†ä¸ºä¸€ç»„æ­¥éª¤**ï¼Œæ¯”å¦‚buildÂ­Wallsåˆ›å»ºå¢™å£å’ŒbuildÂ­Dooråˆ›å»ºæˆ¿é—¨åˆ›å»ºæˆ¿é—¨ç­‰ã€‚æ¯æ¬¡åˆ›å»ºå¯¹è±¡æ—¶ï¼Œä½ éƒ½éœ€è¦é€šè¿‡ç”Ÿæˆå™¨å¯¹è±¡æ‰§è¡Œä¸€ç³»åˆ—æ­¥éª¤ã€‚é‡ç‚¹åœ¨äºä½ æ— éœ€è°ƒç”¨æ‰€æœ‰æ­¥éª¤ï¼Œè€Œåªéœ€è°ƒç”¨åˆ›å»ºç‰¹å®šå¯¹è±¡é…ç½®æ‰€éœ€çš„é‚£äº›æ­¥éª¤å³å¯ã€‚\n\nå½“ä½ éœ€è¦åˆ›å»º**ä¸åŒå½¢å¼çš„äº§å“**æ—¶ï¼Œå…¶ä¸­çš„ä¸€äº›æ„é€ æ­¥éª¤å¯èƒ½éœ€è¦ä¸åŒçš„å®ç°ã€‚ä¾‹å¦‚ï¼Œæœ¨å±‹çš„æˆ¿é—¨å¯èƒ½éœ€è¦ä½¿ç”¨æœ¨å¤´åˆ¶é€ ï¼Œè€ŒåŸå ¡çš„æˆ¿é—¨åˆ™å¿…é¡»ä½¿ç”¨çŸ³å¤´åˆ¶é€ ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½ å¯ä»¥åˆ›å»ºå¤šä¸ªä¸åŒçš„ç”Ÿæˆå™¨ï¼Œç”¨ä¸åŒæ–¹å¼å®ç°ä¸€ç»„ç›¸åŒçš„åˆ›å»ºæ­¥éª¤ã€‚ç„¶åä½ å°±å¯ä»¥åœ¨åˆ›å»ºè¿‡ç¨‹ä¸­ä½¿ç”¨è¿™äº›ç”Ÿæˆå™¨ï¼ˆä¾‹å¦‚æŒ‰é¡ºåºè°ƒç”¨å¤šä¸ªæ„é€ æ­¥éª¤ï¼‰æ¥ç”Ÿæˆä¸åŒç±»å‹çš„å¯¹è±¡ã€‚\n\n**ä¸»ç®¡(Director)** :\nä½ å¯ä»¥è¿›ä¸€æ­¥å°†ç”¨äºåˆ›å»ºäº§å“çš„ä¸€ç³»åˆ—ç”Ÿæˆå™¨æ­¥éª¤è°ƒç”¨æŠ½å–æˆä¸ºå•ç‹¬çš„ä¸»ç®¡ç±»ã€‚ä¸»ç®¡ç±»å¯å®šä¹‰åˆ›å»ºæ­¥éª¤çš„æ‰§è¡Œé¡ºåºï¼Œè€Œç”Ÿæˆå™¨åˆ™æä¾›è¿™äº›æ­¥éª¤çš„å®ç°ã€‚\nä¸¥æ ¼æ¥è¯´ï¼Œä½ çš„ç¨‹åºä¸­å¹¶ä¸ä¸€å®šéœ€è¦ä¸»ç®¡ç±»ã€‚å®¢æˆ·ç«¯ä»£ç å¯ç›´æ¥ä»¥ç‰¹å®šé¡ºåºè°ƒç”¨åˆ›å»ºæ­¥éª¤ã€‚ä¸è¿‡ï¼Œä¸»ç®¡ç±»ä¸­éå¸¸é€‚åˆæ”¾å…¥å„ç§ä¾‹è¡Œæ„é€ æµç¨‹ï¼Œä»¥ä¾¿åœ¨ç¨‹åºä¸­åå¤ä½¿ç”¨ã€‚\næ­¤å¤–ï¼Œå¯¹äºå®¢æˆ·ç«¯ä»£ç æ¥è¯´ï¼Œä¸»ç®¡ç±»å®Œå…¨éšè—äº†äº§å“æ„é€ ç»†èŠ‚ã€‚å®¢æˆ·ç«¯åªéœ€è¦å°†ä¸€ä¸ªç”Ÿæˆå™¨ä¸ä¸»ç®¡ç±»å…³è”ï¼Œç„¶åä½¿ç”¨ä¸»ç®¡ç±»æ¥æ„é€ äº§å“ï¼Œå°±èƒ½ä»ç”Ÿæˆå™¨å¤„è·å¾—æ„é€ ç»“æœäº†ã€‚\n\n##### ç”Ÿæˆå™¨æ¨¡å¼ç»“æ„\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220808164617.png)\n\n1.**ç”Ÿæˆå™¨(Builder)** æ¥å£å£°æ˜åœ¨æ‰€æœ‰ç±»å‹ç”Ÿæˆå™¨ä¸­é€šç”¨çš„äº§å“æ„é€ æ­¥éª¤ã€‚\n\n2.**å…·ä½“ç”Ÿæˆå™¨(ConÂ­crete Builders)** æä¾›æ„é€ è¿‡ç¨‹çš„ä¸åŒå®ç°ã€‚å…·ä½“ç”Ÿæˆå™¨ä¹Ÿå¯ä»¥æ„é€ ä¸éµå¾ªé€šç”¨æ¥å£çš„äº§å“ã€‚\n\n3.**äº§å“(ProdÂ­ucts)** æ˜¯æœ€ç»ˆç”Ÿæˆçš„å¯¹è±¡ã€‚ç”±ä¸åŒç”Ÿæˆå™¨æ„é€ çš„äº§å“æ— éœ€å±äºåŒä¸€ç±»å±‚æ¬¡ç»“æ„æˆ–æ¥å£ã€‚\n\n4.**ä¸»ç®¡(DirecÂ­tor)** ç±»å®šä¹‰è°ƒç”¨æ„é€ æ­¥éª¤çš„é¡ºåºï¼Œè¿™æ ·ä½ å°±å¯ä»¥åˆ›å»ºå’Œå¤ç”¨ç‰¹å®šçš„äº§å“é…ç½®ã€‚\n\n5.**å®¢æˆ·ç«¯(Client)** å¿…é¡»å°†æŸä¸ªç”Ÿæˆå™¨å¯¹è±¡ä¸ä¸»ç®¡ç±»å…³è”ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œä½ åªéœ€é€šè¿‡ä¸»ç®¡ç±»æ„é€ å‡½æ•°çš„å‚æ•°è¿›è¡Œä¸€æ¬¡æ€§å…³è”å³å¯ã€‚æ­¤åä¸»ç®¡ç±»å°±èƒ½ä½¿ç”¨ç”Ÿæˆå™¨å¯¹è±¡å®Œæˆåç»­æ‰€æœ‰çš„æ„é€ ä»»åŠ¡ã€‚ä½†åœ¨å®¢æˆ·ç«¯å°†ç”Ÿæˆå™¨å¯¹è±¡ä¼ é€’ç»™ä¸»ç®¡ç±»åˆ¶é€ æ–¹æ³•æ—¶è¿˜æœ‰å¦ä¸€ç§æ–¹å¼ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½ åœ¨ä½¿ç”¨ä¸»ç®¡ç±»ç”Ÿäº§äº§å“æ—¶æ¯æ¬¡éƒ½å¯ä»¥ä½¿ç”¨ä¸åŒçš„ç”Ÿæˆå™¨ã€‚\n\n##### ä¼ªä»£ç \n\næ„Ÿè§‰ä¸Šé¢çš„ä¾‹å­å¹¶ä¸æ˜¯å¾ˆç›´æ¥ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸‹é¢æœ‰ä¸€ä¸ªå…³äºç”Ÿæˆå™¨æ¨¡å¼çš„ä¾‹å­æ¼”ç¤ºäº†ä½ å¯ä»¥å¦‚ä½•å¤ç”¨ç›¸åŒçš„å¯¹è±¡æ„é€ ä»£ç æ¥ç”Ÿæˆä¸åŒç±»å‹çš„äº§å“â€”â€”ä¾‹å¦‚æ±½è½¦ï¼ˆCarï¼‰â€”â€”åŠå…¶ç›¸åº”çš„ä½¿ç”¨æ‰‹å†Œï¼ˆManÂ­uÂ­alï¼‰ã€‚\nç”Ÿæˆå™¨æ¨¡å¼å¯ä»¥å¾ˆæ–¹ä¾¿çš„å†™å‡º**å®ç°åŒç±»äº§å“ä½†æ˜¯å®ç°æ­¥éª¤ä¸åŒ**ï¼Œå®ƒä¼šå°†ä¸€ä¸ªçš„åˆ¶é€ è¿‡ç¨‹åˆ†ä¸º**ä¸€ç³»åˆ—æ­¥éª¤**ï¼Œç”¨Directorç±»åœ¨ç”Ÿæˆä¸åŒäº§å“çš„æ—¶å€™ä½ å¯ä»¥æ ¹æ®ä¸åŒéœ€æ±‚åœ¨åŒç±»äº§å“é€‰æ‹©ç›¸åº”çš„æ­¥éª¤ï¼Œæ¯”å¦‚Caræœ‰å¾ˆå¤šç§ï¼Œåœ¨Builderæˆ‘ä»¬æœ‰å»ºé€ Carçš„æ‰€æœ‰æ­¥éª¤ï¼Œä½†æ˜¯æ ¹æ®éœ€æ±‚åªéœ€è¦ä½¿ç”¨ä¸€äº›æ­¥éª¤ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨ç›¸åº”çš„Builderç±»ä¸­çš„æ–¹æ³•ï¼Œæˆ‘ä»¬å°½é‡çš„**è¯¦ç»†**ï¼Œè¿™æ ·åœ¨Directorä¸­æˆ‘ä»¬èƒ½å¤Ÿå»ºé€ æ›´å¤šç±»å‹çš„äº§å“ã€‚\nä»ç„¶æ˜¯å†™ä¸€ä¸ªå¹¶ä¸æ˜¯å¾ˆä¼ªçš„ä¼ªä»£ç ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220808165345.png)\n\n```csharp\n//åªæœ‰å½“äº§å“è¾ƒä¸ºå¤æ‚ä¸”éœ€è¦è¯¦ç»†é…ç½®æ—¶ï¼Œä½¿ç”¨ç”Ÿæˆå™¨æ¨¡å¼æ‰æœ‰æ„ä¹‰\n//ç”Ÿæˆå™¨æ¥å£å£°æ˜äº†åˆ›å»ºäº§å“ä¸åŒå¯¹è±¡çš„æ–¹æ³•\n\n//Productç±»\n//ä¸€è¾†è½¦æœ‰å¾ˆå¤šç§ç±»ï¼ŒSUVï¼Œå°è½¿è½¦ç­‰ç­‰\npublic class Car\n{\n    //...\n}\n//Productç±»\npublic class Manual\n{\n    //...\n}\npublic interface Builder\n{\n    void Reset();\n\n    void SetSeats();\n\n    void setEngine();\n\n    //...\n    \n}\npublic class CarBuilder : Builder\n{\n    private Car car = new Car();\n\n    public CarBuilder()\n    {\n        this.Reset();\n    }\n\n    public void Reset()\n    {\n        this.car = new Car();\n    }\n\n    public void SetSeats();\n\n    //...\n\n    //å…·ä½“ç”Ÿæˆå™¨éœ€è¦è‡ªè¡Œæä¾›è·å–ç»“æœçš„æ–¹æ³•ã€‚è¿™æ˜¯å› ä¸ºä¸åŒç±»å‹çš„ç”Ÿæˆå™¨å¯èƒ½\n    // ä¼šåˆ›å»ºä¸éµå¾ªç›¸åŒæ¥å£çš„ã€å®Œå…¨ä¸åŒçš„äº§å“ã€‚æ‰€ä»¥ä¹Ÿå°±æ— æ³•åœ¨ç”Ÿæˆå™¨æ¥å£ä¸­\n    // å£°æ˜è¿™äº›æ–¹æ³•ï¼ˆè‡³å°‘åœ¨é™æ€ç±»å‹çš„ç¼–ç¨‹è¯­è¨€ä¸­æ˜¯è¿™æ ·çš„ï¼‰ã€‚\n    //é€šå¸¸åœ¨ç”Ÿæˆå™¨å®ä¾‹å°†ç»“æœè¿”å›ç»™å®¢æˆ·ç«¯åï¼Œå®ƒä»¬åº”è¯¥åšå¥½ç”Ÿæˆå¦ä¸€ä¸ªäº§å“çš„å‡†å¤‡\n    public Car getResult()\n    {\n        Car result = this.car;\n\n        this.Reset();\n\n        return result;\n    }\n}\n\npublic class CarManualBuilder : Builder\n{\n    private Manual manual = new Manual();\n    public CarManualBuilder()\n    {\n        this.Reset();\n    }\n\n    public void Reset()\n    {\n        this.manual = new Manual();\n    }\n\n    public void SetSeats();\n\n    //...\n\n    public Manual getResult()\n    {\n        Manual result = this.manual;\n\n        this.Reset();\n\n        return result;\n    }\n}\n//ä¸»ç®¡ç±»åªè´Ÿè´£æŒ‰ç…§ç‰¹å®šé¡ºåºæ‰§è¡Œç”Ÿæˆæ­¥éª¤\n//ç”±äºå®¢æˆ·ç«¯å¯ä»¥ç›´æ¥æ§åˆ¶ç”Ÿæˆå™¨ï¼Œæ‰€ä»¥ä¸¥æ ¼æ„ä¹‰ä¸Šæ¥è¯´ä¸»ç®¡ç±»å¹¶ä¸æ˜¯å¿…éœ€çš„ã€‚\npublic class Director\n{\n    private Builder _builder;\n\n    public Builder builder\n    {\n        set{ _builder = value;}\n    }\n\n    public void MakeSUV(Builder builder)\n    {\n        this._builder.Reset();\n        this._builder.setSeat(...);\n        //...\n    }\n    public void MakeSportCar(Builder builder)\n    {\n        this._builder.Reset();\n        this._builder.setSeat(...);\n        //...\n    } \n}\n//å®¢æˆ·ç«¯ç±»\npublic class Client\n{\n    Director director = new Director();\n\n    CarBuilder builder = new CarBuilder();\n\n    director.MakeSportsCar(builder);\n\n    Car car = builder.getResult();\n\n    CarManualBuilder builder = new CarManualBuilder();\n    director.MakeSportsCar(builder);\n\n    Manual manual = builder.GetResult();\n}\n```\n\n##### é€‚åˆç”Ÿæˆå™¨æ¨¡å¼çš„åœ°æ–¹\n\n- ä½¿ç”¨ç”Ÿæˆå™¨æ¨¡å¼å¯é¿å… **â€œé‡å æ„é€ å‡½æ•° (teleÂ­scopÂ­ing conÂ­strucÂ­tor)â€** çš„å‡ºç°ã€‚å³ä¸‹åˆ—ä»£ç \n\n```csharp\nclass Pizza {\n    Pizza(int size) { ... }\n    Pizza(int size, boolean cheese) { ... }\n    Pizza(int size, boolean cheese, boolean pepperoni) { ... }\n}\n```\n\n- å½“ä½ å¸Œæœ›ä½¿ç”¨ä»£ç **åˆ›å»ºä¸åŒå½¢å¼çš„äº§å“** ï¼ˆä¾‹å¦‚çŸ³å¤´æˆ–æœ¨å¤´æˆ¿å±‹ï¼‰ æ—¶ï¼Œå¯ä½¿ç”¨ç”Ÿæˆå™¨æ¨¡å¼ã€‚\n- ä½¿ç”¨ç”Ÿæˆå™¨æ„é€ ç»„åˆæ ‘æˆ–å…¶ä»–å¤æ‚å¯¹è±¡ã€‚ç”Ÿæˆå™¨æ¨¡å¼è®©ä½ èƒ½åˆ†æ­¥éª¤æ„é€ äº§å“ã€‚ä½ å¯ä»¥å»¶è¿Ÿæ‰§è¡ŒæŸäº›æ­¥éª¤è€Œä¸ä¼šå½±å“æœ€ç»ˆäº§å“ã€‚ä½ ç”šè‡³å¯ä»¥é€’å½’è°ƒç”¨è¿™äº›æ­¥éª¤ï¼Œè¿™åœ¨åˆ›å»ºå¯¹è±¡æ ‘æ—¶éå¸¸æ–¹ä¾¿ã€‚**ç”Ÿæˆå™¨åœ¨æ‰§è¡Œåˆ¶é€ æ­¥éª¤æ—¶ï¼Œä¸èƒ½å¯¹å¤–å‘å¸ƒæœªå®Œæˆçš„äº§å“**ã€‚è¿™å¯ä»¥é¿å…å®¢æˆ·ç«¯ä»£ç è·å–åˆ°ä¸å®Œæ•´ç»“æœå¯¹è±¡çš„æƒ…å†µã€‚\n\n##### ç”Ÿæˆå™¨æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\n\n**ä¼˜ç‚¹** :\n\n- ä½ å¯ä»¥åˆ†æ­¥åˆ›å»ºå¯¹è±¡ï¼Œæš‚ç¼“åˆ›å»ºæ­¥éª¤æˆ–é€’å½’è¿è¡Œåˆ›å»ºæ­¥éª¤ã€‚\n- ç”Ÿæˆä¸åŒå½¢å¼çš„äº§å“æ—¶ï¼Œä½ å¯ä»¥å¤ç”¨ç›¸åŒçš„åˆ¶é€ ä»£ç ã€‚\n- ç¬¦åˆSRP\n\n**ç¼ºç‚¹** :\n\n- ç”±äºè¯¥æ¨¡å¼éœ€è¦æ–°å¢å¤šä¸ªç±»ï¼Œ å› æ­¤ä»£ç æ•´ä½“å¤æ‚ç¨‹åº¦ä¼šæœ‰æ‰€å¢åŠ ã€‚\n\n#### Prototype(åŸå‹æ¨¡å¼)\n\nåŸå‹æ¨¡å¼æ˜¯ä¸€ç§åˆ›å»ºå‹è®¾è®¡æ¨¡å¼ï¼Œä½¿ä½ èƒ½å¤Ÿå¤åˆ¶å·²æœ‰å¯¹è±¡ï¼Œè€Œåˆæ— éœ€ä½¿ä»£ç ä¾èµ–å®ƒä»¬æ‰€å±çš„ç±»ã€‚(å³å½“ä½ éœ€è¦ä¸€ä¸ªç›¸åŒçš„ç±»ï¼Œä½†æ˜¯é‡æ–°è®¾ç½®å‚æ•°å¾ˆç¹çï¼ŒåŸå‹æ¨¡å¼èƒ½è®©ä½ å¾ˆå¿«åœ°åˆ›é€ ä¸€ä¸ªæ–°çš„é™¤äº†åå­—ä¸ä¸€æ ·å…¶ä»–ä¸€æ‘¸ä¸€æ ·çš„å˜é‡)\n\n##### é—®é¢˜\n\nå¦‚æœä½ æœ‰ä¸€ä¸ªå¯¹è±¡ï¼Œå¹¶å¸Œæœ›ç”Ÿæˆä¸å…¶å®Œå…¨ç›¸åŒçš„ä¸€ä¸ªå¤åˆ¶å“ï¼Œä½ è¯¥å¦‚ä½•å®ç°å‘¢ï¼Ÿé¦–å…ˆï¼Œä½ å¿…é¡»æ–°å»ºä¸€ä¸ªå±äºç›¸åŒç±»çš„å¯¹è±¡ã€‚ç„¶åï¼Œä½ å¿…é¡»éå†åŸå§‹å¯¹è±¡çš„æ‰€æœ‰æˆå‘˜å˜é‡ï¼Œå¹¶å°†æˆå‘˜å˜é‡å€¼å¤åˆ¶åˆ°æ–°å¯¹è±¡ä¸­ã€‚ä½†æœ‰ä¸ªå°é—®é¢˜ã€‚å¹¶éæ‰€æœ‰å¯¹è±¡éƒ½èƒ½é€šè¿‡è¿™ç§æ–¹å¼è¿›è¡Œå¤åˆ¶ï¼Œå› ä¸ºæœ‰äº›å¯¹è±¡å¯èƒ½æ‹¥æœ‰ç§æœ‰æˆå‘˜å˜é‡ï¼Œå®ƒä»¬åœ¨å¯¹è±¡æœ¬èº«ä»¥å¤–æ˜¯ä¸å¯è§çš„ã€‚\n\nç›´æ¥å¤åˆ¶è¿˜æœ‰å¦å¤–ä¸€ä¸ªé—®é¢˜ã€‚å› ä¸ºä½ å¿…é¡»çŸ¥é“å¯¹è±¡æ‰€å±çš„ç±»æ‰èƒ½åˆ›å»ºå¤åˆ¶å“ï¼Œæ‰€ä»¥ä»£ç å¿…é¡»ä¾èµ–è¯¥ç±»ã€‚å³ä½¿ä½ å¯ä»¥æ¥å—é¢å¤–çš„ä¾èµ–æ€§ï¼Œé‚£è¿˜æœ‰å¦å¤–ä¸€ä¸ªé—®é¢˜ï¼šæœ‰æ—¶ä½ åªçŸ¥é“å¯¹è±¡æ‰€å®ç°çš„æ¥å£ï¼Œè€Œä¸çŸ¥é“å…¶æ‰€å±çš„å…·ä½“ç±»ï¼Œæ¯”å¦‚å¯å‘æ–¹æ³•çš„æŸä¸ªå‚æ•°ä¼ å…¥å®ç°äº†æŸä¸ªæ¥å£çš„ä»»ä½•å¯¹è±¡ã€‚\n\n##### è§£å†³æ–¹æ¡ˆ\n\nåŸå‹æ¨¡å¼å°†å…‹éš†è¿‡ç¨‹å§”æ´¾ç»™è¢«å…‹éš†çš„å®é™…å¯¹è±¡ã€‚æ¨¡å¼ä¸ºæ‰€æœ‰æ”¯æŒå…‹éš†çš„å¯¹è±¡å£°æ˜äº†ä¸€ä¸ªé€šç”¨æ¥å£ï¼Œè¯¥æ¥å£è®©ä½ èƒ½å¤Ÿå…‹éš†å¯¹è±¡ï¼ŒåŒæ—¶åˆæ— éœ€å°†ä»£ç å’Œå¯¹è±¡æ‰€å±ç±»è€¦åˆã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œè¿™æ ·çš„æ¥å£ä¸­ä»…åŒ…å«ä¸€ä¸ª**å…‹éš†æ–¹æ³•**ã€‚\n\næ‰€æœ‰çš„ç±»å¯¹ç»§æ‰¿çš„é€šç”¨æ¥å£çš„å…‹éš†æ–¹æ³•å®ç°éƒ½éå¸¸ç›¸ä¼¼ã€‚éƒ½æ˜¯åˆ›å»ºä¸€ä¸ªå½“å‰ç±»çš„å¯¹è±¡ï¼Œç„¶åè¿”å›ä¸€ä¸ªç±»â€”â€”å³ return new Class(this);é€šå¸¸åœ¨æ„é€ å‡½æ•°ä¸­å…ˆå†™å¥½åˆå§‹åŒ–çš„æ ·å¼ã€‚\n\nå…¶å®åœ¨c#è¯­è¨€ä¸­å·²ç»æœ‰æä¾›çš„**ICloneableæ¥å£**è¿›è¡Œå¤åˆ¶,å°±æ˜¯ç«‹å³å¯ç”¨çš„åŸå‹æ¨¡å¼ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥ä»ç„¶å»çœ‹çœ‹å¹¶ä¸”ç†è§£è¿™ä¸ªæ¨¡å¼æ˜¯å¦‚ä½•è¿è¡Œçš„ã€‚\n\n##### åŸå‹ç»“æ„æ¨¡å¼\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220809232541.png)\n\n1.**åŸå‹(ProÂ­toÂ­type)** æ¥å£å°†å¯¹å…‹éš†æ–¹æ³•è¿›è¡Œå£°æ˜ã€‚åœ¨ç»å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œå…¶ä¸­åªä¼šæœ‰ä¸€ä¸ªåä¸º cloneå…‹éš†çš„æ–¹æ³•ã€‚\n\n2.**å…·ä½“åŸå‹(ConÂ­crete ProÂ­toÂ­type)** ç±»å°†å®ç°å…‹éš†æ–¹æ³•ã€‚é™¤äº†å°†åŸå§‹å¯¹è±¡çš„æ•°æ®å¤åˆ¶åˆ°å…‹éš†ä½“ä¸­ä¹‹å¤–ï¼Œè¯¥æ–¹æ³•æœ‰æ—¶è¿˜éœ€å¤„ç†å…‹éš†è¿‡ç¨‹ä¸­çš„æç«¯æƒ…å†µï¼Œä¾‹å¦‚å…‹éš†å…³è”å¯¹è±¡å’Œæ¢³ç†é€’å½’ä¾èµ–ç­‰ç­‰ã€‚\n\n3.**å®¢æˆ·ç«¯(Client)** å¯ä»¥å¤åˆ¶å®ç°äº†åŸå‹æ¥å£çš„ä»»ä½•å¯¹è±¡ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220809233359.png)\n\n1.**åŸå‹æ³¨å†Œè¡¨(ProÂ­toÂ­type RegÂ­istry)** æä¾›äº†ä¸€ç§è®¿é—®å¸¸ç”¨åŸå‹çš„ç®€å•æ–¹æ³•ï¼Œå…¶ä¸­å­˜å‚¨äº†ä¸€ç³»åˆ—å¯ä¾›éšæ—¶å¤åˆ¶çš„é¢„ç”Ÿæˆå¯¹è±¡ã€‚æœ€ç®€å•çš„æ³¨å†Œè¡¨åŸå‹æ˜¯ä¸€ä¸ªåç§° â†’ åŸå‹çš„å“ˆå¸Œè¡¨ã€‚ä½†å¦‚æœéœ€è¦ä½¿ç”¨åç§°ä»¥å¤–çš„æ¡ä»¶è¿›è¡Œæœç´¢ï¼Œä½ å¯ä»¥åˆ›å»ºæ›´åŠ å®Œå–„çš„æ³¨å†Œè¡¨ç‰ˆæœ¬ã€‚\n\n##### ä¼ªä»£ç \n\næˆ‘ä¼šåœ¨è¿™é‡Œé™„ä¸Šä¸€ä»½ä¼ªä»£ç ä»¥åŠc#å®˜æ–¹æä¾›çš„ä»£ç é¡ºä¾¿å­¦ä¹ è¿™ä¸ªæ¥å£ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220809233553.png)\n\n**ä¸€ä»½ä¼ªä»£ç ** : é€šè¿‡é˜…è¯»å¯ä»¥å¿«é€Ÿäº†è§£æ˜¯å¦‚ä½•cloneçš„\n\n```csharp\n// åŸºç¡€åŸå‹ã€‚\nabstract class Shape is\n    field X: int\n    field Y: int\n    field color: string\n\n    // å¸¸è§„æ„é€ å‡½æ•°ã€‚\n    constructor Shape() is\n        // ...\n\n    // åŸå‹æ„é€ å‡½æ•°ã€‚ä½¿ç”¨å·²æœ‰å¯¹è±¡çš„æ•°å€¼æ¥åˆå§‹åŒ–ä¸€ä¸ªæ–°å¯¹è±¡ã€‚\n    constructor Shape(source: Shape) is\n        this()\n        this.X = source.X\n        this.Y = source.Y\n        this.color = source.color\n\n    // cloneï¼ˆå…‹éš†ï¼‰æ“ä½œä¼šè¿”å›ä¸€ä¸ªå½¢çŠ¶å­ç±»ã€‚\n    abstract method clone():Shape\n\n\n// å…·ä½“åŸå‹ã€‚å…‹éš†æ–¹æ³•ä¼šåˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡å¹¶å°†å…¶ä¼ é€’ç»™æ„é€ å‡½æ•°ã€‚ç›´åˆ°æ„é€ å‡½æ•°è¿\n// è¡Œå®Œæˆå‰ï¼Œå®ƒéƒ½æ‹¥æœ‰æŒ‡å‘æ–°å…‹éš†å¯¹è±¡çš„å¼•ç”¨ã€‚å› æ­¤ï¼Œä»»ä½•äººéƒ½æ— æ³•è®¿é—®æœªå®Œå…¨ç”Ÿ\n// æˆçš„å…‹éš†å¯¹è±¡ã€‚è¿™å¯ä»¥ä¿æŒå…‹éš†ç»“æœçš„ä¸€è‡´ã€‚\nclass Rectangle extends Shape is\n    field width: int\n    field height: int\n\n    constructor Rectangle(source: Rectangle) is\n        // éœ€è¦è°ƒç”¨çˆ¶æ„é€ å‡½æ•°æ¥å¤åˆ¶çˆ¶ç±»ä¸­å®šä¹‰çš„ç§æœ‰æˆå‘˜å˜é‡ã€‚\n        super(source)\n        this.width = source.width\n        this.height = source.height\n\n    method clone():Shape is\n        return new Rectangle(this)\n\n\nclass Circle extends Shape is\n    field radius: int\n\n    constructor Circle(source: Circle) is\n        super(source)\n        this.radius = source.radius\n\n    method clone():Shape is\n        return new Circle(this)\n\n\n// å®¢æˆ·ç«¯ä»£ç ä¸­çš„æŸä¸ªä½ç½®ã€‚\nclass Application is\n    field shapes: array of Shape\n\n    constructor Application() is\n        Circle circle = new Circle()\n        circle.X = 10\n        circle.Y = 10\n        circle.radius = 20\n        shapes.add(circle)\n\n        Circle anotherCircle = circle.clone()\n        shapes.add(anotherCircle)\n        // å˜é‡ `anotherCircleï¼ˆå¦ä¸€ä¸ªåœ†ï¼‰`ä¸ `circleï¼ˆåœ†ï¼‰`å¯¹è±¡çš„å†…\n        // å®¹å®Œå…¨ä¸€æ ·ã€‚\n\n        Rectangle rectangle = new Rectangle()\n        rectangle.width = 10\n        rectangle.height = 20\n        shapes.add(rectangle)\n\n    method businessLogic() is\n        // åŸå‹æ˜¯å¾ˆå¼ºå¤§çš„ä¸œè¥¿ï¼Œå› ä¸ºå®ƒèƒ½åœ¨ä¸çŸ¥æ™“å¯¹è±¡ç±»å‹çš„æƒ…å†µä¸‹ç”Ÿæˆä¸€ä¸ªä¸\n        // å…¶å®Œå…¨ç›¸åŒçš„å¤åˆ¶å“ã€‚\n        Array shapesCopy = new Array of Shapes.\n\n        // ä¾‹å¦‚ï¼Œæˆ‘ä»¬ä¸çŸ¥æ™“å½¢çŠ¶æ•°ç»„ä¸­å…ƒç´ çš„å…·ä½“ç±»å‹ï¼ŒåªçŸ¥é“å®ƒä»¬éƒ½æ˜¯å½¢çŠ¶ã€‚\n        // ä½†åœ¨å¤šæ€æœºåˆ¶çš„å¸®åŠ©ä¸‹ï¼Œå½“æˆ‘ä»¬åœ¨æŸä¸ªå½¢çŠ¶ä¸Šè°ƒç”¨ `cloneï¼ˆå…‹éš†ï¼‰`\n        // æ–¹æ³•æ—¶ï¼Œç¨‹åºä¼šæ£€æŸ¥å…¶æ‰€å±çš„ç±»å¹¶è°ƒç”¨å…¶ä¸­æ‰€å®šä¹‰çš„å…‹éš†æ–¹æ³•ã€‚è¿™æ ·ï¼Œ\n        // æˆ‘ä»¬å°†è·å¾—ä¸€ä¸ªæ­£ç¡®çš„å¤åˆ¶å“ï¼Œè€Œä¸æ˜¯ä¸€ç»„ç®€å•çš„å½¢çŠ¶å¯¹è±¡ã€‚\n        foreach (s in shapes) do\n            shapesCopy.add(s.clone())\n\n        // `shapesCopyï¼ˆå½¢çŠ¶å‰¯æœ¬ï¼‰`æ•°ç»„ä¸­åŒ…å« `shapeï¼ˆå½¢çŠ¶ï¼‰`æ•°ç»„æ‰€æœ‰\n        // å­å…ƒç´ çš„å¤åˆ¶å“ã€‚\n```\n\n**c#æä¾›çš„ICloneableæ¥å£çš„ä»£ç ** : é€šè¿‡è¿™é‡Œæˆ‘ä»¬å¯ä»¥çœ‹è§ä¸éœ€è¦å†™æ„é€ å‡½æ•°ï¼Œåªéœ€è¦ç”¨åˆ°**MemberwiseClone**è¿™ä¸ªå‡½æ•°å°±å¯ä»¥å¾ˆå¿«åœ°å®Œæˆ\n\n```csharp\nusing System;\n\nnamespace RefactoringGuru.DesignPatterns.Prototype.Conceptual\n{\n    public class Person\n    {\n        public int Age;\n        public DateTime BirthDate;\n        public string Name;\n        public IdInfo IdInfo;\n\n        //æµ…å¤åˆ¶ï¼Œåªå¤åˆ¶æŒ‡å‘æŸä¸ªå¯¹è±¡çš„æŒ‡é’ˆï¼Œè€Œä¸å¤åˆ¶å¯¹è±¡æœ¬èº«ï¼Œæ–°æ—§å¯¹è±¡è¿˜æ˜¯å…±äº«ä¸€å—å†…å­˜\n        //ä¹Ÿå°±æ˜¯è¯´ä¸ç®¡æ˜¯ä¿®æ”¹åŸå¯¹è±¡è¿˜æ˜¯æ–°å¯¹è±¡ä¸¤ä¸ªéƒ½ä¼šä¸€èµ·æ”¹å˜\n        public Person ShallowCopy()\n        {\n            return (Person)this.MemberwiseClone();\n        }\n\n        //æ·±å¤åˆ¶ï¼Œä¼šåˆ›é€ ä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œä½†ä¸ä¸äºåŸå¯¹è±¡å…±äº«å†…å­˜\n        //ä¿®æ”¹æ–°æ—§å¯¹è±¡äº’ä¸å½±å“\n        //æ‰€ä»¥æˆ‘ä»¬å¯ä»¥è®¤è¯†åˆ°åŸå‹æ¨¡å¼æ˜¯æ·±å¤åˆ¶\n        public Person DeepCopy()\n        {\n            Person clone = (Person)this.MemberwiseClone();\n            clone.IdInfo = new IdInfo(IdInfo.IdNumber);\n            clone.Name = String.Copy(Name);\n            return clone;\n        }\n    }\n\n    public class IdInfo\n    {\n        public int IdNumber;\n\n        public IdInfo(int idNumber)\n        {\n            this.IdNumber = idNumber;\n        }\n    }\n\n    //æµ‹è¯•ä¾‹å­ï¼Œé€šè¿‡ä¾‹å­æˆ‘ä»¬å¯ä»¥å¿«é€Ÿçš„ç†è§£æ·±å¤åˆ¶ä¸æµ…å¤åˆ¶ä¹‹é—´çš„åŒºåˆ«\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            Person p1 = new Person();\n            p1.Age = 42;\n            p1.BirthDate = Convert.ToDateTime(\"1977-01-01\");\n            p1.Name = \"Jack Daniels\";\n            p1.IdInfo = new IdInfo(666);\n\n            // Perform a shallow copy of p1 and assign it to p2.\n            Person p2 = p1.ShallowCopy();\n            // Make a deep copy of p1 and assign it to p3.\n            Person p3 = p1.DeepCopy();\n\n            // Display values of p1, p2 and p3.\n            Console.WriteLine(\"Original values of p1, p2, p3:\");\n            Console.WriteLine(\"   p1 instance values: \");\n            DisplayValues(p1);\n            Console.WriteLine(\"   p2 instance values:\");\n            DisplayValues(p2);\n            Console.WriteLine(\"   p3 instance values:\");\n            DisplayValues(p3);\n\n            // Change the value of p1 properties and display the values of p1,\n            // p2 and p3.\n            p1.Age = 32;\n            p1.BirthDate = Convert.ToDateTime(\"1900-01-01\");\n            p1.Name = \"Frank\";\n            p1.IdInfo.IdNumber = 7878;\n            Console.WriteLine(\"\\nValues of p1, p2 and p3 after changes to p1:\");\n            Console.WriteLine(\"   p1 instance values: \");\n            DisplayValues(p1);\n            Console.WriteLine(\"   p2 instance values (reference values have changed):\");\n            DisplayValues(p2);\n            Console.WriteLine(\"   p3 instance values (everything was kept the same):\");\n            DisplayValues(p3);\n        }\n\n        public static void DisplayValues(Person p)\n        {\n            Console.WriteLine(\"      Name: {0:s}, Age: {1:d}, BirthDate: {2:MM/dd/yy}\",\n                p.Name, p.Age, p.BirthDate);\n            Console.WriteLine(\"      ID#: {0:d}\", p.IdInfo.IdNumber);\n        }\n    }\n}\n// The example displays the following output:\n//       Original values of p1 and p2:\n//          p1 instance values:\n//             Name: Sam, Age: 42\n//             Value: 6565\n//          p2 instance values:\n//             Name: Sam, Age: 42\n//             Value: 6565\n//\n//       Values of p1 and p2 after changes to p1:\n//          p1 instance values:\n//             Name: Frank, Age: 32\n//             Value: 7878\n//          p2 instance values:\n//             Name: Sam, Age: 42\n//             Value: 7878\n//\n//       Values of p1 and p3 after changes to p1:\n//          p1 instance values:\n//             Name: George, Age: 39\n//             Value: 8641\n//          p3 instance values:\n//             Name: Frank, Age: 32\n//             Value: 7878\n```\n\n##### é€‚åˆåŸå‹æ¨¡å¼çš„åœ°æ–¹\n\n- å¦‚æœä½ éœ€è¦å¤åˆ¶ä¸€äº›å¯¹è±¡ï¼ŒåŒæ—¶åˆå¸Œæœ›ä»£ç ç‹¬ç«‹äºè¿™äº›å¯¹è±¡æ‰€å±çš„å…·ä½“ç±»ï¼Œå¯ä»¥ä½¿ç”¨åŸå‹æ¨¡å¼ã€‚\n\n- å¦‚æœå­ç±»çš„åŒºåˆ«ä»…åœ¨äºå…¶å¯¹è±¡çš„åˆå§‹åŒ–æ–¹å¼ï¼Œé‚£ä¹ˆä½ å¯ä»¥ä½¿ç”¨è¯¥æ¨¡å¼æ¥å‡å°‘å­ç±»çš„æ•°é‡ã€‚åˆ«äººåˆ›å»ºè¿™äº›å­ç±»çš„ç›®çš„å¯èƒ½æ˜¯ä¸ºäº†åˆ›å»ºç‰¹å®šç±»å‹çš„å¯¹è±¡ã€‚\n\n##### åŸå‹æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\n\n**ä¼˜ç‚¹** ï¼š\n\n- ä½ å¯ä»¥å…‹éš†å¯¹è±¡ï¼Œè€Œæ— éœ€ä¸å®ƒä»¬æ‰€å±çš„å…·ä½“ç±»ç›¸è€¦åˆã€‚\n- ä½ å¯ä»¥å…‹éš†é¢„ç”ŸæˆåŸå‹ï¼Œé¿å…åå¤è¿è¡Œåˆå§‹åŒ–ä»£ç ã€‚\n- ä½ å¯ä»¥æ›´æ–¹ä¾¿åœ°ç”Ÿæˆå¤æ‚å¯¹è±¡ã€‚\n- ä½ å¯ä»¥ç”¨ç»§æ‰¿ä»¥å¤–çš„æ–¹å¼æ¥å¤„ç†å¤æ‚å¯¹è±¡çš„ä¸åŒé…ç½®ã€‚\n\n**ç¼ºç‚¹** ï¼š\n\n- å…‹éš†åŒ…å«å¾ªç¯å¼•ç”¨çš„å¤æ‚å¯¹è±¡å¯èƒ½ä¼šéå¸¸éº»çƒ¦ã€‚\n\n#### Singleton(å•ä¾‹æ¨¡å¼)\n\nå•ä¾‹æ¨¡å¼æ˜¯ä¸€ç§åˆ›å»ºå‹è®¾è®¡æ¨¡å¼ï¼Œè®©ä½ èƒ½å¤Ÿä¿è¯ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Œå¹¶æä¾›ä¸€ä¸ªè®¿é—®è¯¥å®ä¾‹çš„å…¨å±€èŠ‚ç‚¹ã€‚\n\n##### é—®é¢˜\n\nå•ä¾‹æ¨¡å¼æ˜¯ä¸€ä¸ªååˆ†å¸¸ç”¨çš„è®¾è®¡æ¨¡å¼ï¼Œåœ¨Unityä¸­ï¼Œå®ƒå¸¸å¸¸è¢«ç”¨åœ¨æ˜¯**Manager**ç±»ä¸­ï¼Œæ¯”å¦‚**SceneManager**,**UIManager**,**AudioManager**ç­‰ç­‰ã€‚ä¹Ÿå°±æ˜¯è¯´åœ¨ä»£ç ä¸­ä¼šæœ‰ä¸€ç§å…¨å±€ç±»ï¼Œå„ä¸ªæ¨¡å—éƒ½å¯ä»¥è°ƒç”¨å®ƒã€‚è™½ç„¶å®ƒè¿åäº†å•ä¸€èŒè´£åŸåˆ™ï¼Œä½†ç”±äºä½¿ç”¨èµ·æ¥ååˆ†æ–¹ä¾¿ï¼Œä½†è¿˜æ˜¯å¾ˆé¦™çš„ï¼ˆè·Ÿå…¨å±€å˜é‡ä¸€æ ·ï¼‰ã€‚\n\næ€»ç»“ä¸‹æ¥ï¼Œå•ä¾‹æ¨¡å¼çš„ç‰¹ç‚¹ï¼š\n\n- ä¿è¯ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹\n- ä¸ºè¯¥å®ä¾‹æä¾›ä¸€ä¸ªå…¨å±€è®¿é—®èŠ‚ç‚¹\n\n##### è§£å†³æ–¹æ¡ˆ\n\næ‰€æœ‰å•ä¾‹çš„å®ç°éƒ½åŒ…å«ä»¥ä¸‹ä¸¤ä¸ªç›¸åŒçš„æ­¥éª¤ï¼š\n\n- å°†é»˜è®¤æ„é€ å‡½æ•°è®¾ä¸º**ç§æœ‰**ï¼Œé˜²æ­¢å…¶ä»–å¯¹è±¡ä½¿ç”¨å•ä¾‹ç±»çš„newè¿ç®—ç¬¦ã€‚\n- æ–°å»ºä¸€ä¸ªé™æ€æ„å»ºæ–¹æ³•ä½œä¸ºæ„é€ å‡½æ•°ã€‚è¯¥å‡½æ•°ä¼š â€œå·å·â€ è°ƒç”¨ç§æœ‰æ„é€ å‡½æ•°æ¥åˆ›å»ºå¯¹è±¡ï¼Œå¹¶å°†å…¶ä¿å­˜åœ¨ä¸€ä¸ªé™æ€æˆå‘˜å˜é‡ä¸­ã€‚æ­¤åæ‰€æœ‰å¯¹äºè¯¥å‡½æ•°çš„è°ƒç”¨éƒ½å°†è¿”å›è¿™ä¸€ç¼“å­˜å¯¹è±¡ã€‚\nå¦‚æœä½ çš„ä»£ç èƒ½å¤Ÿè®¿é—®å•ä¾‹ç±»ï¼Œé‚£å®ƒå°±èƒ½è°ƒç”¨å•ä¾‹ç±»çš„é™æ€æ–¹æ³•ã€‚æ— è®ºä½•æ—¶è°ƒç”¨è¯¥æ–¹æ³•ï¼Œå®ƒæ€»æ˜¯ä¼šè¿”å›ç›¸åŒçš„å¯¹è±¡ã€‚\n\n##### å•ä¾‹æ¨¡å¼ç»“æ„\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220810001041.png)\n\n1.**å•ä¾‹(SinÂ­gleÂ­ton)** ç±»å£°æ˜äº†ä¸€ä¸ªåä¸º getÂ­Instanceè·å–å®ä¾‹çš„é™æ€æ–¹æ³•æ¥è¿”å›å…¶æ‰€å±ç±»çš„ä¸€ä¸ªç›¸åŒå®ä¾‹ã€‚\n\nå•ä¾‹çš„æ„é€ å‡½æ•°å¿…é¡»å¯¹**å®¢æˆ·ç«¯(Client)** ä»£ç éšè—ã€‚è°ƒç”¨è·å–å®ä¾‹æ–¹æ³•å¿…é¡»æ˜¯è·å–å•ä¾‹å¯¹è±¡çš„å”¯ä¸€æ–¹å¼ã€‚\n\n##### ä¼ªä»£ç \n\nç”±äºå•ä¾‹æ¨¡å¼å®ç°è¿‡äºç®€å•ï¼Œæˆ‘ä»¬è¿™é‡Œä¸è®²ä¼ªä»£ç ï¼Œåè€Œæˆ‘ä»¬æ¥ç›´æ¥çœ‹çœ‹å„ç§çš„å•ä¾‹æ¨¡å¼ã€‚\n\n**æ‡’æ±‰å•ä¾‹æ¨¡å¼** ï¼šåœ¨ç¬¬ä¸€æ¬¡è°ƒç”¨çš„æ—¶å€™å®ä¾‹åŒ–æœ¬èº«ï¼Œåœ¨å¹¶å‘ç¯å¢ƒä¸‹ï¼Œå¯èƒ½å‡ºç°å¤šä¸ªæœ¬èº«å¯¹è±¡ã€‚æ‰€ä»¥çº¿ç¨‹æ˜¯ä¸å®‰å…¨çš„\n\n```csharp\npublic class Singleton\n{\n    //å°†æ„é€ å‡½æ•°è®¾ç½®ä¸ºç§æœ‰ï¼Œé˜²æ­¢ç”¨æˆ·åˆ›é€ å®ä¾‹\n    private Singleton() {}\n\n    private static Singleton instance = null;\n\n    public static Singleton GetInstance()\n    {\n        if(instance == null)\n        {\n            instance = new Singleton();\n        }\n        \n        return instance;\n    }\n}\n```\n\n**ç®€å•çš„çº¿ç¨‹å®‰å…¨çš„æ‡’æ±‰å•ä¾‹æ¨¡å¼** :\néœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™é‡Œä½¿ç”¨äº†ä¸€ä¸ª**private static object**å˜é‡è¿›è¡Œé”å®šï¼Œè¿™æ˜¯å› ä¸ºå½“å¦‚æœå¯¹ä¸€ä¸ªå¤–éƒ¨ç±»å¯ä»¥è®¿é—®çš„å¯¹è±¡è¿›è¡Œé”å®šæ—¶ä¼šå¯¼è‡´æ€§èƒ½ä½ä¸‹ç”šè‡³æ­»é”\n\n```csharp\npublic class Singleton\n{\n    //å°†æ„é€ å‡½æ•°è®¾ç½®ä¸ºç§æœ‰ï¼Œé˜²æ­¢ç”¨æˆ·åˆ›é€ å®ä¾‹\n    private Singleton{}\n\n    private static Singleton instance = null;\n    private static readonly object obj = new object ();\n\n    public static Singleton GetInstance()\n    {\n        lock(obj)\n        {\n            if(instance == null)\n            {\n                instance = new Singleton();\n            }\n            \n            return instance;\n        }\n    }\n}\n```\n\n**åŒé‡æ£€æŸ¥é”å®šçš„æ‡’æ±‰å•ä¾‹æ¨¡å¼** :è¦æ¯”å‰è€…æ–¹æ³•æ›´åŠ å®Œç¾\n\n```csharp\npublic class Singleton\n{\n    //å°†æ„é€ å‡½æ•°è®¾ç½®ä¸ºç§æœ‰ï¼Œé˜²æ­¢ç”¨æˆ·åˆ›é€ å®ä¾‹\n    private Singleton{}\n\n    private static Singleton instance = null;\n    private static readonly object obj = new object ();\n\n    public static Singleton GetInstance()\n    {   \n        if(instace == null)\n        {\n            lock(obj)\n            {\n                if(instance == null)\n                {\n                    instance = new Singleton();\n                }\n            }    \n        }\n        return instance;\n    }\n}\n```\n\n**é¥¿æ±‰å•ä¾‹æ¨¡å¼** :åœ¨ç±»åˆå§‹åŒ–æ—¶ï¼Œå·²ç»è‡ªè¡Œå®ä¾‹åŒ–ä¸€ä¸ªé™æ€å¯¹è±¡ï¼Œæ‰€ä»¥æœ¬èº«å°±æ˜¯çº¿ç¨‹å®‰å…¨çš„\n\n```csharp\npublic class Singleton\n{\n    private Singleton() {}\n\n    private static readonly Singleton instance = new Singleton();\n\n    public static Singleton GetInstance()\n    {\n        return instance;\n    }\n}\n```\n\né¥¿æ±‰å•ä¾‹æ¨¡å¼å®ç°ååˆ†ç®€å•ï¼ŒåŒæ—¶ä¹Ÿæ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œè¦ç›¸æ¯”æ‡’æ±‰å•ä¾‹æ¨¡å¼æ›´åŠ å¥½ç”¨ä¸€äº›ã€‚\n\n##### é€‚åˆå•ä¾‹æ¨¡å¼çš„åœ°æ–¹\n\n-  å¦‚æœç¨‹åºä¸­çš„æŸä¸ªç±»å¯¹äºæ‰€æœ‰å®¢æˆ·ç«¯åªæœ‰ä¸€ä¸ªå¯ç”¨çš„å®ä¾‹ï¼Œå¯ä»¥ä½¿ç”¨å•ä¾‹æ¨¡å¼ã€‚\n-  å¦‚æœä½ éœ€è¦æ›´åŠ ä¸¥æ ¼åœ°æ§åˆ¶å…¨å±€å˜é‡ï¼Œå¯ä»¥ä½¿ç”¨å•ä¾‹æ¨¡å¼ã€‚\n\n##### å•ä¾‹æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\n\n**ä¼˜ç‚¹** ï¼š\n\n- ä½ å¯ä»¥ä¿è¯ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹ã€‚\n- ä½ è·å¾—äº†ä¸€ä¸ªæŒ‡å‘è¯¥å®ä¾‹çš„å…¨å±€è®¿é—®èŠ‚ç‚¹ã€‚\n- ä»…åœ¨é¦–æ¬¡è¯·æ±‚å•ä¾‹å¯¹è±¡æ—¶å¯¹å…¶è¿›è¡Œåˆå§‹åŒ–ã€‚\n\n**ç¼ºç‚¹** ï¼š\n\n- è¿åäº†å•ä¸€èŒè´£åŸåˆ™ã€‚è¯¥æ¨¡å¼åŒæ—¶è§£å†³äº†ä¸¤ä¸ªé—®é¢˜ã€‚\n- å•ä¾‹æ¨¡å¼å¯èƒ½æ©ç›–ä¸è‰¯è®¾è®¡ï¼Œæ¯”å¦‚ç¨‹åºå„ç»„ä»¶ä¹‹é—´ç›¸äº’äº†è§£è¿‡å¤šç­‰ã€‚\n- è¯¥æ¨¡å¼åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹éœ€è¦è¿›è¡Œç‰¹æ®Šå¤„ç†ï¼Œé¿å…å¤šä¸ªçº¿ç¨‹å¤šæ¬¡åˆ›å»ºå•ä¾‹å¯¹è±¡ã€‚\n- å•ä¾‹çš„å®¢æˆ·ç«¯ä»£ç å•å…ƒæµ‹è¯•å¯èƒ½ä¼šæ¯”è¾ƒå›°éš¾ï¼Œå› ä¸ºè®¸å¤šæµ‹è¯•æ¡†æ¶ä»¥åŸºäºç»§æ‰¿çš„æ–¹å¼åˆ›å»ºæ¨¡æ‹Ÿå¯¹è±¡ã€‚ç”±äºå•ä¾‹ç±»çš„æ„é€ å‡½æ•°æ˜¯ç§æœ‰çš„ï¼Œè€Œä¸”ç»å¤§éƒ¨åˆ†è¯­è¨€æ— æ³•é‡å†™é™æ€æ–¹æ³•ï¼Œæ‰€ä»¥ä½ éœ€è¦æƒ³å‡ºä»”ç»†è€ƒè™‘æ¨¡æ‹Ÿå•ä¾‹çš„æ–¹æ³•ã€‚è¦ä¹ˆå¹²è„†ä¸ç¼–å†™æµ‹è¯•ä»£ç ï¼Œæˆ–è€…ä¸ä½¿ç”¨å•ä¾‹æ¨¡å¼ã€‚\n- ç±»ä¼¼å…¨å±€å˜é‡ï¼Œåœ¨é˜…è¯»ä»£ç æ—¶ä¼šäº§ç”Ÿä¸€å®šå›°éš¾ï¼Œä¸çŸ¥é“å“ªé‡Œè€Œæ¥ã€‚\n\n### ç»“æ„å‹æ¨¡å¼(Structural Patterns)\n\n#### Adapter(é€‚é…å™¨æ¨¡å¼)\n\né€‚é…å™¨æ¨¡å¼æ˜¯ä¸€ç§ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼Œå®ƒèƒ½ä½¿æ¥å£ä¸å…¼å®¹çš„å¯¹è±¡èƒ½å¤Ÿç›¸äº’åˆä½œã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220816154433.png)\n\nä¸Šå›¾æ˜¯ä¸€ä¸ªååˆ†ç›´è§‚çš„å›¾\n\n##### é—®é¢˜\n\nå‡å¦‚ä½ æ­£åœ¨å¼€å‘ä¸€æ¬¾è‚¡ç¥¨å¸‚åœºç›‘æµ‹ç¨‹åºï¼Œå®ƒä¼šä»ä¸åŒæ¥æºä¸‹è½½ XML æ ¼å¼çš„è‚¡ç¥¨æ•°æ®ï¼Œç„¶åå‘ç”¨æˆ·å‘ˆç°å‡ºç¾è§‚çš„å›¾è¡¨ã€‚åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œä½ å†³å®šåœ¨ç¨‹åºä¸­æ•´åˆä¸€ä¸ªç¬¬ä¸‰æ–¹æ™ºèƒ½åˆ†æå‡½æ•°åº“ã€‚ä½†æ˜¯é‡åˆ°äº†ä¸€ä¸ªé—®é¢˜ï¼Œé‚£å°±æ˜¯åˆ†æå‡½æ•°åº“åªå…¼å®¹ JSON æ ¼å¼çš„æ•°æ®ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220816154342.png)\n\n##### è§£å†³æ–¹æ¡ˆ\n\nä½ å¯ä»¥åˆ›å»ºä¸€ä¸ª**é€‚é…å™¨**ã€‚è¿™æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„å¯¹è±¡ï¼Œèƒ½å¤Ÿè½¬æ¢å¯¹è±¡æ¥å£ï¼Œä½¿å…¶èƒ½ä¸å…¶ä»–å¯¹è±¡è¿›è¡Œäº¤äº’ã€‚\n\né€‚é…å™¨æ¨¡å¼é€šè¿‡å°è£…å¯¹è±¡å°†å¤æ‚çš„è½¬æ¢è¿‡ç¨‹éšè—äºå¹•åã€‚è¢«å°è£…çš„å¯¹è±¡ç”šè‡³å¯Ÿè§‰ä¸åˆ°é€‚é…å™¨çš„å­˜åœ¨ã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥ä½¿ç”¨ä¸€ä¸ªå°†æ‰€æœ‰æ•°æ®è½¬æ¢ä¸ºè‹±åˆ¶å•ä½ï¼ˆå¦‚è‹±å°ºå’Œè‹±é‡Œï¼‰çš„é€‚é…å™¨å°è£…è¿è¡Œäºç±³å’Œåƒç±³å•ä½åˆ¶ä¸­çš„å¯¹è±¡ã€‚\n\né€‚é…å™¨ä¸ä»…å¯ä»¥è½¬æ¢ä¸åŒæ ¼å¼çš„æ•°æ®ï¼Œå…¶è¿˜æœ‰åŠ©äºé‡‡ç”¨ä¸åŒæ¥å£çš„å¯¹è±¡ä¹‹é—´çš„åˆä½œã€‚å®ƒçš„è¿ä½œæ–¹å¼å¦‚ä¸‹ï¼š\n\n- é€‚é…å™¨å®ç°ä¸å…¶ä¸­ä¸€ä¸ªç°æœ‰å¯¹è±¡å…¼å®¹çš„æ¥å£ã€‚\n- ç°æœ‰å¯¹è±¡å¯ä»¥ä½¿ç”¨è¯¥æ¥å£å®‰å…¨åœ°è°ƒç”¨é€‚é…å™¨æ–¹æ³•ã€‚\n- é€‚é…å™¨æ–¹æ³•è¢«è°ƒç”¨åå°†ä»¥å¦ä¸€ä¸ªå¯¹è±¡å…¼å®¹çš„æ ¼å¼å’Œé¡ºåºå°†è¯·æ±‚ä¼ é€’ç»™è¯¥å¯¹è±¡ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220816154725.png)\n\n##### é€‚é…å™¨æ¨¡å¼ç»“æ„\n\n**å¯¹è±¡é€‚é…å™¨** ï¼šé€‚é…å™¨å®ç°äº†å…¶ä¸­ä¸€ä¸ªå¯¹è±¡çš„æ¥å£ï¼Œå¹¶å¯¹å¦ä¸€ä¸ªå¯¹è±¡è¿›è¡Œå°è£…ã€‚æ‰€æœ‰æµè¡Œçš„ç¼–ç¨‹è¯­è¨€éƒ½å¯ä»¥å®ç°é€‚é…å™¨ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220816154822.png)\n\n1.**å®¢æˆ·ç«¯(Client)** æ˜¯åŒ…å«å½“å‰ç¨‹åºä¸šåŠ¡é€»è¾‘çš„ç±»ã€‚\n2.**å®¢æˆ·ç«¯æ¥å£(Client InterÂ­face)** æè¿°äº†å…¶ä»–ç±»ä¸å®¢æˆ·ç«¯ä»£ç åˆä½œæ—¶å¿…é¡»éµå¾ªçš„åè®®ã€‚\n\n3.**æœåŠ¡(SerÂ­vice)** ä¸­æœ‰ä¸€äº›åŠŸèƒ½ç±» ï¼ˆé€šå¸¸æ¥è‡ªç¬¬ä¸‰æ–¹æˆ–é—ç•™ç³»ç»Ÿï¼‰ã€‚å®¢æˆ·ç«¯ä¸å…¶æ¥å£ä¸å…¼å®¹ï¼Œå› æ­¤æ— æ³•ç›´æ¥è°ƒç”¨å…¶åŠŸèƒ½ã€‚\n\n4.**é€‚é…å™¨(Adapter)** æ˜¯ä¸€ä¸ªå¯ä»¥åŒæ—¶ä¸å®¢æˆ·ç«¯å’ŒæœåŠ¡äº¤äº’çš„ç±»ï¼šå®ƒåœ¨å®ç°å®¢æˆ·ç«¯æ¥å£çš„åŒæ—¶å°è£…äº†æœåŠ¡å¯¹è±¡ã€‚é€‚é…å™¨æ¥å—å®¢æˆ·ç«¯é€šè¿‡é€‚é…å™¨æ¥å£å‘èµ·çš„è°ƒç”¨ï¼Œå¹¶å°†å…¶è½¬æ¢ä¸ºé€‚ç”¨äºè¢«å°è£…æœåŠ¡å¯¹è±¡çš„è°ƒç”¨ã€‚\n\n5.å®¢æˆ·ç«¯ä»£ç åªéœ€é€šè¿‡æ¥å£ä¸é€‚é…å™¨äº¤äº’å³å¯ï¼Œæ— éœ€ä¸å…·ä½“çš„é€‚é…å™¨ç±»è€¦åˆã€‚å› æ­¤ï¼Œä½ å¯ä»¥å‘ç¨‹åºä¸­æ·»åŠ æ–°ç±»å‹çš„é€‚é…å™¨è€Œæ— éœ€ä¿®æ”¹å·²æœ‰ä»£ç ã€‚è¿™åœ¨æœåŠ¡ç±»çš„æ¥å£è¢«æ›´æ”¹æˆ–æ›¿æ¢æ—¶å¾ˆæœ‰ç”¨ï¼šä½ æ— éœ€ä¿®æ”¹å®¢æˆ·ç«¯ä»£ç å°±å¯ä»¥åˆ›å»ºæ–°çš„é€‚é…å™¨ç±»ã€‚\n\n**ç±»é€‚é…å™¨** ï¼šè¿™ä¸€å®ç°ä½¿ç”¨äº†ç»§æ‰¿æœºåˆ¶ï¼šé€‚é…å™¨åŒæ—¶ç»§æ‰¿ä¸¤ä¸ªå¯¹è±¡çš„æ¥å£ã€‚è¯·æ³¨æ„ï¼Œè¿™ç§æ–¹å¼ä»…èƒ½åœ¨æ”¯æŒå¤šé‡ç»§æ‰¿çš„ç¼–ç¨‹è¯­è¨€ä¸­å®ç°ï¼Œä¾‹å¦‚C++ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220816155303.png)\n\n1.**ç±»é€‚é…å™¨**ä¸éœ€è¦å°è£…ä»»ä½•å¯¹è±¡ï¼Œå› ä¸ºå®ƒåŒæ—¶ç»§æ‰¿äº†å®¢æˆ·ç«¯å’ŒæœåŠ¡çš„è¡Œä¸ºã€‚é€‚é…åŠŸèƒ½åœ¨é‡å†™çš„æ–¹æ³•ä¸­å®Œæˆã€‚æœ€åç”Ÿæˆçš„é€‚é…å™¨å¯æ›¿ä»£å·²æœ‰çš„å®¢æˆ·ç«¯ç±»è¿›è¡Œä½¿ç”¨ã€‚\n\n##### ä¼ªä»£ç \n\nä»…ä»…çœ‹ç»“æ„ä¹Ÿæ˜¯å¾ˆéš¾ç†è§£æ˜¯å•¥æ„æ€çš„ï¼Œæ¥çœ‹çœ‹ç»å…¸çš„æ–¹é’‰åœ†å­”é—®é¢˜ï¼Œå¦‚ä½•å°†æ–¹é’‰ç”¨é€‚é…å™¨è½¬åŒ–æˆåœ†é’‰æ¥é€‚é…åœ†å­”ã€‚ä¸€æ ·ç…§ç€ä¹‹å‰ï¼Œå†™ä¸€ä¸ªä¸æ˜¯é‚£ä¹ˆä¼ªçš„ä¼ªä»£ç \n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220816155544.png)\n\n```csharp\n//åœ†å­”ç±»(RoundHole)å’Œåœ†é’‰ç±»(RoundPeg)äº’ç›¸å…¼å®¹ \npublic class RoundHole \n{\n    private int radius;\n\n    public RoundHole(int radius)\n    {\n        //...\n    }\n    public int getRadius()\n    {\n        //\n    }\n    public bool fits(RoundPeg peg)\n    {\n        return this.getRadius() >= peg.getRadius();\n    }\n}\npublic class RoundPeg\n{\n    private int radius;\n\n    public RoundPeg(int radius)\n    {\n        //...\n    }\n\n    public int getRadius()\n    {\n        //...\n    }\n}\n//ä¸å…¼å®¹çš„æ–¹é’‰(SquarePeg)ç±»\npublic class SquarePeg\n{\n    private int width;\n\n    public SquarePeg(int width)\n    {\n        //...\n    }\n\n    public int getWidth()\n    {\n        //...\n    }\n}\n//é€‚é…å™¨ç±»å…¶å®å°±æ˜¯åœ†é’‰çš„å­ç±»ï¼Œç®—æ˜¯ç‰¹æ®Šçš„åœ†é’‰ç±»ï¼Œå°†è·å¾—çš„æ–¹é’‰â€œæ‰“ç£¨â€æˆåœ†é’‰\npublic class SquarePegAdapter : RoundPeg\n{\n    //é€‚é…å™¨é€šå¸¸åŒ…å«ä¸€ä¸ªè¦è¢«è½¬æ¢çš„å®ä¾‹\n    private SquarePeg peg;\n\n    public SquarePegAdapter(SquarePeg peg)\n    {\n        this.peg = peg;\n    }\n\n    public int getRadius()\n    {\n        return peg.getWidth() * Math.sqrt(2) / 2;\n    }\n}\n//å®¢æˆ·ç«¯ä»£ç \nhole = new RoundHole(5);\n\n_sqpeg = new SquarePeg(5);\n\nsqpeg_adapter = new SquarePegAdapter(_sqpeg);\nhole.fits(sqpeg_adapter);\n//å˜æ¢ä¹‹åï¼Œæˆ‘ä»¬è¿›è¡Œæ“ä½œçš„å°±æ˜¯é€‚é…å™¨ç±»è€Œä¸æ˜¯æ–¹é’‰ç±»äº†\n```\n\n##### é€‚åˆé€‚é…å™¨æ¨¡å¼çš„åœ°æ–¹\n\n- å½“ä½ å¸Œæœ›ä½¿ç”¨æŸä¸ªç±»ï¼Œä½†æ˜¯å…¶æ¥å£ä¸å…¶ä»–ä»£ç ä¸å…¼å®¹æ—¶ï¼Œå¯ä»¥ä½¿ç”¨é€‚é…å™¨ç±»ã€‚ä¹Ÿå°±æ˜¯åˆ›é€ ä¸€ä¸ªä¸­é—´å±‚ç±»ï¼Œå¦‚æœä½ åœ¨å‰äººçš„ä»£ç ä¿®æ”¹ä½†æ˜¯åˆä¸æ‰“ç®—ä¿®æ”¹å¤ªå¤š\n- å¦‚æœæ‚¨éœ€è¦å¤ç”¨è¿™æ ·ä¸€äº›ç±»ï¼Œä»–ä»¬å¤„äºåŒä¸€ä¸ªç»§æ‰¿ä½“ç³»ï¼Œå¹¶ä¸”ä»–ä»¬åˆæœ‰äº†é¢å¤–çš„ä¸€äº›å…±åŒçš„æ–¹æ³•ï¼Œä½†æ˜¯è¿™äº›å…±åŒçš„æ–¹æ³•ä¸æ˜¯æ‰€æœ‰åœ¨è¿™ä¸€ç»§æ‰¿ä½“ç³»ä¸­çš„å­ç±»æ‰€å…·æœ‰çš„å…±æ€§ã€‚\n\n##### é€‚é…å™¨æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\n\n**ä¼˜ç‚¹** ï¼š\n\n- ç¬¦åˆSRP\n- ç¬¦åˆOCP\n\n**ç¼ºç‚¹** ï¼š\n\n- ä»£ç æ•´ä½“å¤æ‚åº¦å¢åŠ ï¼Œå› ä¸ºä½ éœ€è¦æ–°å¢ä¸€ç³»åˆ—æ¥å£å’Œç±»ã€‚æœ‰æ—¶ç›´æ¥æ›´æ”¹æœåŠ¡ç±»ä½¿å…¶ä¸å…¶ä»–ä»£ç å…¼å®¹ä¼šæ›´ç®€å•ã€‚\n\n#### Bridge(æ¡¥æ¥æ¨¡å¼)\n\næ¡¥æ¥æ¨¡å¼æ˜¯ä¸€ç§ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼Œå¯å°†ä¸€ä¸ªå¤§ç±»æˆ–ä¸€ç³»åˆ—ç´§å¯†ç›¸å…³çš„ç±»æ‹†åˆ†ä¸ºæŠ½è±¡å’Œå®ç°ä¸¤ä¸ªç‹¬ç«‹çš„å±‚æ¬¡ç»“æ„ï¼Œä»è€Œèƒ½åœ¨å¼€å‘æ—¶åˆ†åˆ«ä½¿ç”¨ã€‚\n\n##### é—®é¢˜\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220816163009.png)\n\nå‡å¦‚ä½ æœ‰ä¸€ä¸ªå‡ ä½•å½¢çŠ¶**Shape**ç±»ï¼Œä»å®ƒèƒ½æ‰©å±•å‡ºä¸¤ä¸ªå­ç±»ï¼šâ€‹åœ†å½¢**CirÂ­cle**å’Œæ–¹å½¢**Square**ã€‚ä½ å¸Œæœ›å¯¹è¿™æ ·çš„ç±»å±‚æ¬¡ç»“æ„è¿›è¡Œæ‰©å±•ä»¥ä½¿å…¶åŒ…å«é¢œè‰²ï¼Œæ‰€ä»¥ä½ æ‰“ç®—åˆ›å»ºåä¸ºçº¢è‰²**Red**å’Œ è“è‰²**Blue**çš„å½¢çŠ¶å­ç±»ã€‚ä½†æ˜¯ï¼Œç”±äºä½ å·²æœ‰ä¸¤ä¸ªå­ç±»ï¼Œæ‰€ä»¥æ€»å…±éœ€è¦åˆ›å»ºå››ä¸ªç±»æ‰èƒ½è¦†ç›–æ‰€æœ‰ç»„åˆï¼Œä¾‹å¦‚è“è‰²åœ†å½¢**BlueÂ­CirÂ­cle**å’Œçº¢è‰²æ–¹å½¢**RedÂ­Square**ã€‚åœ¨å±‚æ¬¡ç»“æ„ä¸­æ–°å¢å½¢çŠ¶å’Œé¢œè‰²å°†å¯¼è‡´ä»£ç å¤æ‚ç¨‹åº¦æŒ‡æ•°å¢é•¿ã€‚ä¾‹å¦‚æ·»åŠ ä¸‰è§’å½¢çŠ¶ï¼Œä½ éœ€è¦æ–°å¢ä¸¤ä¸ªå­ç±»ï¼Œä¹Ÿå°±æ˜¯æ¯ç§é¢œè‰²ä¸€ä¸ªï¼›æ­¤åæ–°å¢ä¸€ç§æ–°é¢œè‰²éœ€è¦æ–°å¢ä¸‰ä¸ªå­ç±»ï¼Œå³æ¯ç§å½¢çŠ¶ä¸€ä¸ªã€‚å¦‚æ­¤ä»¥å¾€ï¼Œæƒ…å†µä¼šè¶Šæ¥è¶Šç³Ÿç³•ã€‚\n\n##### è§£å†³æ–¹æ¡ˆ\n\né—®é¢˜çš„æ ¹æœ¬åŸå› æ˜¯æˆ‘ä»¬è¯•å›¾åœ¨ä¸¤ä¸ªç‹¬ç«‹çš„ç»´åº¦â€”â€”å½¢çŠ¶ä¸é¢œè‰²â€”â€”ä¸Šæ‰©å±•å½¢çŠ¶ç±»ã€‚è¿™åœ¨å¤„ç†ç±»ç»§æ‰¿æ—¶æ˜¯å¾ˆå¸¸è§çš„é—®é¢˜ã€‚\n\næ¡¥æ¥æ¨¡å¼é€šè¿‡å°†ç»§æ‰¿æ”¹ä¸ºç»„åˆçš„æ–¹å¼æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚å…·ä½“æ¥è¯´ï¼Œå°±æ˜¯æŠ½å–å…¶ä¸­ä¸€ä¸ªç»´åº¦å¹¶ä½¿ä¹‹æˆä¸ºç‹¬ç«‹çš„ç±»å±‚æ¬¡ï¼Œè¿™æ ·å°±å¯ä»¥åœ¨åˆå§‹ç±»ä¸­å¼•ç”¨è¿™ä¸ªæ–°å±‚æ¬¡çš„å¯¹è±¡ï¼Œä»è€Œä½¿å¾—ä¸€ä¸ªç±»ä¸å¿…æ‹¥æœ‰æ‰€æœ‰çš„çŠ¶æ€å’Œè¡Œä¸ºã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220816163706.png)\n\næ ¹æ®è¯¥æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥å°†é¢œè‰²ç›¸å…³çš„ä»£ç æŠ½å–åˆ°æ‹¥æœ‰ çº¢è‰²å’Œ è“è‰²ä¸¤ä¸ªå­ç±»çš„é¢œè‰²ç±»ä¸­ï¼Œç„¶ååœ¨å½¢çŠ¶ç±»ä¸­æ·»åŠ ä¸€ä¸ªæŒ‡å‘æŸä¸€é¢œè‰²å¯¹è±¡çš„å¼•ç”¨æˆå‘˜å˜é‡ã€‚ç°åœ¨ï¼Œå½¢çŠ¶ç±»å¯ä»¥å°†æ‰€æœ‰ä¸é¢œè‰²ç›¸å…³çš„å·¥ä½œå§”æ´¾ç»™è¿å…¥çš„é¢œè‰²å¯¹è±¡ã€‚è¿™æ ·çš„å¼•ç”¨å°±æˆä¸ºäº† å½¢çŠ¶å’Œ é¢œè‰²ä¹‹é—´çš„æ¡¥æ¢ã€‚æ­¤åï¼Œæ–°å¢é¢œè‰²å°†ä¸å†éœ€è¦ä¿®æ”¹å½¢çŠ¶çš„ç±»å±‚æ¬¡ï¼Œåä¹‹äº¦ç„¶ã€‚\n\n##### æ¡¥æ¥æ¨¡å¼ç»“æ„\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220816164716.png)\n\n1.**æŠ½è±¡éƒ¨åˆ†(AbstracÂ­tion)** æä¾›é«˜å±‚æ§åˆ¶é€»è¾‘ï¼Œ ä¾èµ–äºå®Œæˆåº•å±‚å®é™…å·¥ä½œçš„å®ç°å¯¹è±¡ã€‚\n\n2.**å®ç°éƒ¨åˆ†(ImpleÂ­menÂ­taÂ­tion)** ä¸ºæ‰€æœ‰å…·ä½“å®ç°å£°æ˜é€šç”¨æ¥å£ã€‚æŠ½è±¡éƒ¨åˆ†ä»…èƒ½é€šè¿‡åœ¨è¿™é‡Œå£°æ˜çš„æ–¹æ³•ä¸å®ç°å¯¹è±¡äº¤äº’ã€‚æŠ½è±¡éƒ¨åˆ†å¯ä»¥åˆ—å‡ºå’Œå®ç°éƒ¨åˆ†ä¸€æ ·çš„æ–¹æ³•ï¼Œä½†æ˜¯æŠ½è±¡éƒ¨åˆ†é€šå¸¸å£°æ˜ä¸€äº›å¤æ‚è¡Œä¸ºï¼Œè¿™äº›è¡Œä¸ºä¾èµ–äºå¤šç§ç”±å®ç°éƒ¨åˆ†å£°æ˜çš„åŸè¯­æ“ä½œã€‚\n\n3.**å…·ä½“å®ç°(ConÂ­crete ImpleÂ­menÂ­taÂ­tions)** ä¸­åŒ…æ‹¬ç‰¹å®šäºå¹³å°çš„ä»£ç ã€‚\n\n4.**ç²¾ç¡®æŠ½è±¡(Refined AbstracÂ­tion)**æä¾›æ§åˆ¶é€»è¾‘çš„å˜ä½“ã€‚ä¸å…¶çˆ¶ç±»ä¸€æ ·ï¼Œå®ƒä»¬é€šè¿‡é€šç”¨å®ç°æ¥å£ä¸ä¸åŒçš„å®ç°è¿›è¡Œäº¤äº’ã€‚\n\n5.é€šå¸¸æƒ…å†µä¸‹ï¼Œ**å®¢æˆ·ç«¯(Client)**ä»…å…³å¿ƒå¦‚ä½•ä¸æŠ½è±¡éƒ¨åˆ†åˆä½œã€‚ä½†æ˜¯ï¼Œå®¢æˆ·ç«¯éœ€è¦å°†æŠ½è±¡å¯¹è±¡ä¸ä¸€ä¸ªå®ç°å¯¹è±¡è¿æ¥èµ·æ¥ã€‚\n\n##### ä¼ªä»£ç \n\nåœ¨è¿™æ¬¡ä¸é‚£ä¹ˆä¼ªçš„ä¼ªä»£ç ä¸­æˆ‘æ‰“ç®—å±•ç°ä¸¤æ®µï¼Œå…¶ä¸­ä¸€ä¸ªæ˜¯ä¹‹å‰çš„Shapeå’ŒColorä¹‹é—´çš„æ¡¥æ¥ã€‚é¦–å…ˆæˆ‘ä»¬æ¥çœ‹çœ‹é¥æ§å™¨é¥æ§è®¾å¤‡ï¼Œæ˜¯å¾ˆå®¹æ˜“ç†è§£è®¾å¤‡å°±æ˜¯å®ç°éƒ¨åˆ†ï¼Œè€Œé¥æ§ä¸ºæŠ½è±¡è®¾å¤‡ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220816170510.png)\n\né¥æ§å™¨åŸºç±»å£°æ˜äº†ä¸€ä¸ªæŒ‡å‘è®¾å¤‡å¯¹è±¡çš„å¼•ç”¨æˆå‘˜å˜é‡ã€‚ æ‰€æœ‰é¥æ§å™¨é€šè¿‡é€šç”¨è®¾å¤‡æ¥å£ä¸è®¾å¤‡è¿›è¡Œäº¤äº’ï¼Œä½¿å¾—åŒä¸€ä¸ªé¥æ§å™¨å¯ä»¥æ”¯æŒä¸åŒç±»å‹çš„è®¾å¤‡ã€‚\nä½ å¯ä»¥å¼€å‘ç‹¬ç«‹äºè®¾å¤‡ç±»çš„é¥æ§å™¨ç±»ï¼Œåªéœ€æ–°å»ºä¸€ä¸ªé¥æ§å™¨å­ç±»å³å¯ã€‚ä¾‹å¦‚ï¼ŒåŸºç¡€é¥æ§å™¨å¯èƒ½åªæœ‰ä¸¤ä¸ªæŒ‰é’®ï¼Œä½†ä½ å¯åœ¨å…¶åŸºç¡€ä¸Šæ‰©å±•æ–°åŠŸèƒ½ï¼Œæ¯”å¦‚é¢å¤–çš„ä¸€èŠ‚ç”µæ± æˆ–ä¸€å—è§¦æ‘¸å±ã€‚\n\n```csharp\n// â€œæŠ½è±¡éƒ¨åˆ†â€å®šä¹‰äº†ä¸¤ä¸ªç±»å±‚æ¬¡ç»“æ„ä¸­â€œæ§åˆ¶â€éƒ¨åˆ†çš„æ¥å£ã€‚å®ƒç®¡ç†ç€ä¸€ä¸ªæŒ‡å‘â€œå®\n// ç°éƒ¨åˆ†â€å±‚æ¬¡ç»“æ„ä¸­å¯¹è±¡çš„å¼•ç”¨ï¼Œå¹¶ä¼šå°†æ‰€æœ‰çœŸå®å·¥ä½œå§”æ´¾ç»™è¯¥å¯¹è±¡ã€‚\npublic class Remote\n{\n    private Device device;\n    \n    public Remote(Device device) \n    {\n        this.device = device;\n    }\n\n    public void togglePower()\n    {\n        if(device.isEnabled())\n        {\n            device.disable();\n        }\n        else \n        {\n            //..\n        }\n    }\n\n    public void volumeUp()\n    {\n        device.setVolume(device.getVolume() + 10);\n    }\n\n    public void volumeDown()\n    {\n        //..\n    }\n\n    public void ChannelUp()\n    {\n        device.setChannel(device.getChannel() + 1)\n    }\n\n    public void ChannelDown()\n    {\n        //..\n    }\n}\n// ä½ å¯ä»¥ç‹¬ç«‹äºè®¾å¤‡ç±»çš„æ–¹å¼ä»æŠ½è±¡å±‚ä¸­æ‰©å±•ç±»ã€‚\npublic class AdvancedRemote : Remote\n{\n    public void mute()\n    {\n        device.setVolume(0);\n    }\n}\n// â€œå®ç°éƒ¨åˆ†â€æ¥å£å£°æ˜äº†åœ¨æ‰€æœ‰å…·ä½“å®ç°ç±»ä¸­é€šç”¨çš„æ–¹æ³•ã€‚å®ƒä¸éœ€è¦ä¸æŠ½è±¡æ¥å£ç›¸\n// åŒ¹é…ã€‚å®é™…ä¸Šï¼Œè¿™ä¸¤ä¸ªæ¥å£å¯ä»¥å®Œå…¨ä¸ä¸€æ ·ã€‚é€šå¸¸å®ç°æ¥å£åªæä¾›åŸè¯­æ“ä½œï¼Œè€Œ\n// æŠ½è±¡æ¥å£åˆ™ä¼šåŸºäºè¿™äº›æ“ä½œå®šä¹‰è¾ƒé«˜å±‚æ¬¡çš„æ“ä½œã€‚\npublic interface Device \n{\n    bool isEnable();\n    void enable();\n    void disable();\n    int getVolume();\n    void setVolume(..);\n    int getChannel();\n    void setChannel(..);\n}\npublic class TV : Device \n{\n    //...\n}\npublic vlass Radio : Device\n{\n    //..\n}\n\n// å®¢æˆ·ç«¯ä»£ç \ntv = new Tv();\nremote = new RemoteControl(tv);\nremote.togglePower();\n\nradio = new Radio();\nremote = new AdvancedRemoteControl(radio);\n```\n\nå¯¹äºShapeå’ŒColoræˆ‘ä»¬å¯èƒ½å¾ˆéš¾åŒºåˆ«è°æ˜¯â€œæŠ½è±¡â€ï¼Œè°æ˜¯â€œå®ç°â€ï¼Œä½†æ˜¯æ¡¥æ¥æ¨¡å¼åŒæ ·é€‚åˆæ‹†åˆ†ç±»çš„ç»“æ„,å³æŠ½å–å¤æ‚ç±»çš„å…¶ä¸­ä¸€ä¸ªç»´åº¦ä½¿ä¹‹æˆä¸ºç‹¬ç«‹çš„ç±»å±‚æ¬¡ã€‚\n\n```csharp\npublic class Shape\n{\n    private Color color;\n\n    //..\n}\npublic class Circle : Shape\n{\n    //..\n}\n\npublic class Square : Shape\n{\n    //..\n}\n\npublic interface Color \n{\n    //..\n}\n\npublic class Red : Color \n{\n    //..\n}\npublic class Blue : Color\n{\n    //..\n}\n```\n\n##### é€‚åˆæ¡¥æ¥æ¨¡å¼çš„åœ°æ–¹\n\n- å¦‚æœä½ æƒ³è¦æ‹†åˆ†æˆ–é‡ç»„ä¸€ä¸ªå…·æœ‰å¤šé‡åŠŸèƒ½çš„åºæ‚ç±» ï¼ˆä¾‹å¦‚èƒ½ä¸å¤šä¸ªæ•°æ®åº“æœåŠ¡å™¨è¿›è¡Œäº¤äº’çš„ç±»ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨æ¡¥æ¥æ¨¡å¼ã€‚æ¡¥æ¥æ¨¡å¼å¯ä»¥å°†åºæ‚ç±»æ‹†åˆ†ä¸ºå‡ ä¸ªç±»å±‚æ¬¡ç»“æ„ã€‚æ­¤åï¼Œä½ å¯ä»¥ä¿®æ”¹ä»»æ„ä¸€ä¸ªç±»å±‚æ¬¡ç»“æ„è€Œä¸ä¼šå½±å“åˆ°å…¶ä»–ç±»å±‚æ¬¡ç»“æ„ã€‚è¿™ç§æ–¹æ³•å¯ä»¥ç®€åŒ–ä»£ç çš„ç»´æŠ¤å·¥ä½œï¼Œå¹¶å°†ä¿®æ”¹å·²æœ‰ä»£ç çš„é£é™©é™åˆ°æœ€ä½ã€‚\n- å¦‚æœä½ å¸Œæœ›åœ¨å‡ ä¸ªç‹¬ç«‹ç»´åº¦ä¸Šæ‰©å±•ä¸€ä¸ªç±»ï¼Œå¯ä½¿ç”¨è¯¥æ¨¡å¼ã€‚\n- å¦‚æœä½ éœ€è¦åœ¨è¿è¡Œæ—¶åˆ‡æ¢ä¸åŒå®ç°æ–¹æ³•ï¼Œå¯ä½¿ç”¨æ¡¥æ¥æ¨¡å¼ã€‚\n\n##### æ¡¥æ¥æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\n\n**ä¼˜ç‚¹** ï¼š\n\n- ä½ å¯ä»¥åˆ›å»ºä¸å¹³å°æ— å…³çš„ç±»å’Œç¨‹åºã€‚\n- å®¢æˆ·ç«¯ä»£ç ä»…ä¸é«˜å±‚æŠ½è±¡éƒ¨åˆ†è¿›è¡Œäº’åŠ¨ï¼Œä¸ä¼šæ¥è§¦åˆ°å¹³å°çš„è¯¦ç»†ä¿¡æ¯ã€‚\n- ç¬¦åˆOCP\n- ç¬¦åˆSRP\n\n**ç¼ºç‚¹** ï¼š\n\n- å¯¹é«˜å†…èšçš„ç±»ä½¿ç”¨è¯¥æ¨¡å¼å¯èƒ½ä¼šè®©ä»£ç æ›´åŠ å¤æ‚ã€‚\n\n#### Composite(ç»„åˆæ¨¡å¼)\n\nç»„åˆæ¨¡å¼æ˜¯ä¸€ç§ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼Œä½ å¯ä»¥ä½¿ç”¨å®ƒå°†å¯¹è±¡ç»„åˆæˆæ ‘çŠ¶ç»“æ„ï¼Œå¹¶ä¸”èƒ½åƒä½¿ç”¨ç‹¬ç«‹å¯¹è±¡ä¸€æ ·ä½¿ç”¨å®ƒä»¬ã€‚\n\n##### é—®é¢˜\n\n**å¦‚æœåº”ç”¨çš„æ ¸å¿ƒæ¨¡å‹èƒ½ç”¨æ ‘çŠ¶ç»“æ„è¡¨ç¤ºï¼Œåœ¨åº”ç”¨ä¸­ä½¿ç”¨ç»„åˆæ¨¡å¼æ‰æœ‰ä»·å€¼ã€‚**ä¾‹å¦‚ï¼Œä½ æœ‰ä¸¤ç±»å¯¹è±¡ï¼š â€‹ äº§å“å’Œç›’å­ã€‚ä¸€ä¸ªç›’å­ä¸­å¯ä»¥åŒ…å«å¤šä¸ªäº§å“æˆ–è€…å‡ ä¸ªè¾ƒå°çš„ç›’å­ã€‚è¿™äº›å°ç›’å­ä¸­åŒæ ·å¯ä»¥åŒ…å«ä¸€äº›äº§å“æˆ–æ›´å°çš„ç›’å­ï¼Œä»¥æ­¤ç±»æ¨ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220818150134.png)\n\nè®¢å•ä¸­å¯èƒ½åŒ…æ‹¬å„ç§äº§å“ï¼Œè¿™äº›äº§å“æ”¾ç½®åœ¨ç›’å­ä¸­ï¼Œç„¶ååˆè¢«æ”¾å…¥ä¸€å±‚åˆä¸€å±‚æ›´å¤§çš„ç›’å­ä¸­ã€‚æ•´ä¸ªç»“æ„çœ‹ä¸Šå»åƒæ˜¯ä¸€æ£µå€’è¿‡æ¥çš„æ ‘ã€‚ä½ å¯ä»¥å°è¯•ç›´æ¥è®¡ç®—ï¼šæ‰“å¼€æ‰€æœ‰ç›’å­ï¼Œæ‰¾åˆ°æ¯ä»¶äº§å“ï¼Œç„¶åè®¡ç®—æ€»ä»·ã€‚è¿™åœ¨çœŸå®ä¸–ç•Œä¸­æˆ–è®¸å¯è¡Œï¼Œä½†åœ¨ç¨‹åºä¸­ï¼Œä½ å¹¶ä¸èƒ½ç®€å•åœ°ä½¿ç”¨å¾ªç¯è¯­å¥æ¥å®Œæˆè¯¥å·¥ä½œã€‚ä½ å¿…é¡»äº‹å…ˆçŸ¥é“æ‰€æœ‰äº§å“å’Œç›’å­çš„ç±»åˆ«ï¼Œæ‰€æœ‰ç›’å­çš„åµŒå¥—å±‚æ•°ä»¥åŠå…¶ä»–ç¹æ‚çš„ç»†èŠ‚ä¿¡æ¯ã€‚å› æ­¤ï¼Œç›´æ¥è®¡ç®—æä¸æ–¹ä¾¿ï¼Œç”šè‡³å®Œå…¨ä¸å¯è¡Œã€‚\n\n##### è§£å†³æ–¹æ¡ˆ\n\nç»„åˆæ¨¡å¼å»ºè®®ä½¿ç”¨ä¸€ä¸ªé€šç”¨æ¥å£æ¥ä¸äº§å“å’Œç›’å­è¿›è¡Œäº¤äº’ï¼Œå¹¶ä¸”åœ¨è¯¥æ¥å£ä¸­å£°æ˜ä¸€ä¸ªè®¡ç®—æ€»ä»·çš„æ–¹æ³•ã€‚é‚£ä¹ˆæ–¹æ³•è¯¥å¦‚ä½•è®¾è®¡å‘¢ï¼Ÿå¯¹äºä¸€ä¸ªäº§å“ï¼Œè¯¥æ–¹æ³•ç›´æ¥è¿”å›å…¶ä»·æ ¼ï¼›å¯¹äºä¸€ä¸ªç›’å­ï¼Œè¯¥æ–¹æ³•éå†ç›’å­ä¸­çš„æ‰€æœ‰é¡¹ç›®ï¼Œè¯¢é—®æ¯ä¸ªé¡¹ç›®çš„ä»·æ ¼ï¼Œç„¶åè¿”å›è¯¥ç›’å­çš„æ€»ä»·æ ¼ã€‚å¦‚æœå…¶ä¸­æŸä¸ªé¡¹ç›®æ˜¯å°ä¸€å·çš„ç›’å­ï¼Œé‚£ä¹ˆå½“å‰ç›’å­ä¹Ÿä¼šéå†å…¶ä¸­çš„æ‰€æœ‰é¡¹ç›®ï¼Œä»¥æ­¤ç±»æ¨ï¼Œç›´åˆ°è®¡ç®—å‡ºæ‰€æœ‰å†…éƒ¨ç»„æˆéƒ¨åˆ†çš„ä»·æ ¼ã€‚ä½ ç”šè‡³å¯ä»¥åœ¨ç›’å­çš„æœ€ç»ˆä»·æ ¼ä¸­å¢åŠ é¢å¤–è´¹ç”¨ï¼Œä½œä¸ºè¯¥ç›’å­çš„åŒ…è£…è´¹ç”¨ã€‚**ç±»ä¼¼äºæ ‘çš„é€’å½’éå†**\nè¯¥æ–¹å¼çš„æœ€å¤§ä¼˜ç‚¹åœ¨äºä½ æ— éœ€äº†è§£æ„æˆæ ‘çŠ¶ç»“æ„çš„å¯¹è±¡çš„å…·ä½“ç±»ã€‚ä½ ä¹Ÿæ— éœ€äº†è§£å¯¹è±¡æ˜¯ç®€å•çš„äº§å“è¿˜æ˜¯å¤æ‚çš„ç›’å­ã€‚ä½ åªéœ€è°ƒç”¨é€šç”¨æ¥å£ä»¥ç›¸åŒçš„æ–¹å¼å¯¹å…¶è¿›è¡Œå¤„ç†å³å¯ã€‚å½“ä½ è°ƒç”¨è¯¥æ–¹æ³•åï¼Œå¯¹è±¡ä¼šå°†è¯·æ±‚æ²¿ç€æ ‘ç»“æ„ä¼ é€’ä¸‹å»ã€‚\n\n##### ç»„åˆæ¨¡å¼ç»“æ„\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220818150405.png)\n\n1.**ç»„ä»¶(ComÂ­poÂ­nent)** æ¥å£æè¿°äº†æ ‘ä¸­ç®€å•é¡¹ç›®å’Œå¤æ‚é¡¹ç›®æ‰€å…±æœ‰çš„æ“ä½œã€‚\n\n2.**å¶èŠ‚ç‚¹(Leaf)** æ˜¯æ ‘çš„åŸºæœ¬ç»“æ„ï¼Œå®ƒä¸åŒ…å«å­é¡¹ç›®ã€‚\nä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå¶èŠ‚ç‚¹æœ€ç»ˆä¼šå®Œæˆå¤§éƒ¨åˆ†çš„å®é™…å·¥ä½œï¼Œ å› ä¸ºå®ƒä»¬æ— æ³•å°†å·¥ä½œæŒ‡æ´¾ç»™å…¶ä»–éƒ¨åˆ†ã€‚\n\n3.**å®¹å™¨(ConÂ­tainÂ­er)** â€”â€”åˆå **â€œç»„åˆ (ComÂ­posÂ­ite)â€**â€”â€”æ˜¯åŒ…å«å¶èŠ‚ç‚¹æˆ–å…¶ä»–å®¹å™¨ç­‰å­é¡¹ç›®çš„å•ä½ã€‚å®¹å™¨ä¸çŸ¥é“å…¶å­é¡¹ç›®æ‰€å±çš„å…·ä½“ç±»ï¼Œå®ƒåªé€šè¿‡é€šç”¨çš„ç»„ä»¶æ¥å£ä¸å…¶å­é¡¹ç›®äº¤äº’ã€‚\nå®¹å™¨æ¥æ”¶åˆ°è¯·æ±‚åä¼šå°†å·¥ä½œåˆ†é…ç»™è‡ªå·±çš„å­é¡¹ç›®ï¼Œå¤„ç†ä¸­é—´ç»“æœï¼Œç„¶åå°†æœ€ç»ˆç»“æœè¿”å›ç»™å®¢æˆ·ç«¯ã€‚\n\n4.**å®¢æˆ·ç«¯(Client)** é€šè¿‡ç»„ä»¶æ¥å£ä¸æ‰€æœ‰é¡¹ç›®äº¤äº’ã€‚å› æ­¤ï¼Œå®¢æˆ·ç«¯èƒ½ä»¥ç›¸åŒæ–¹å¼ä¸æ ‘çŠ¶ç»“æ„ä¸­çš„ç®€å•æˆ–å¤æ‚é¡¹ç›®äº¤äº’ã€‚\n\n##### ä¼ªä»£ç \n\nä¸€ä¸ªä¾‹å­æ˜¯åˆ©ç”¨ç»„åˆæ¨¡å¼åœ¨å›¾å½¢ç¼–è¾‘å™¨ä¸­å®ç°ä¸€ç³»åˆ—çš„å‡ ä½•å›¾å½¢ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220818151017.png)\n\n```csharp\npublic interface Graphic \n{\n    void move(x,y);\n\n    void draw();\n}\n//Dotç±»æ˜¯å¶èŠ‚ç‚¹ï¼Œä¸èƒ½èƒ½åŒ…å«ä»»ä½•å­å¯¹è±¡ï¼Œé€šå¸¸å®Œæˆæ‰€æœ‰å·¥ä½œ\npublic class Dot : Graphic \n{\n    private T x,y;\n\n    public Dot(T x,T y)\n    {\n        //..\n    }\n\n    public void move(T x,T y)\n    {\n        this.x += x,this.y +=y;\n    }\n\n    public void draw()\n    {\n        //..\n    }\n}\n//æ‰€æœ‰çš„ç»„ä»¶ç±»éƒ½å¯ä»¥æ‹“å±•\npublic class Circle : Dot\n{\n    private T radius;\n\n    public Circle(T x,T y,T radius)\n    {\n        //..\n    }\n\n    void draw()\n    {\n        //...\n    }\n}\n//CompoundGraphicç±»æ˜¯å¤æ‚ç»„ä»¶ï¼Œä¹Ÿå°±æ˜¯æ ‘ä¸­çš„éå¶å­èŠ‚ç‚¹\npublic class CompoundGraphic : Graphic\n{\n    private Graphic[] chidren;\n\n    public void add(Graphic child)\n    {\n        //æ·»åŠ è‡³chidrenæ•°ç»„\n    }\n\n    public void remove(Graphic child)\n    {\n        //ç§»é™¤chidrenæ•°ç»„é‡Œçš„ä¸€ä¸ªchild\n    }\n\n    //éå†æ¯ä¸€ä¸ªchildï¼Œè®©childæ¥åšå…·ä½“çš„äº‹æƒ…\n    public void move(x,y)\n    {\n        foreach (var child in children)\n        {\n            child.move(x,y);\n        }\n    }\n\n    public void draw()\n    {\n        //åˆ†ä¸¤æ­¥ï¼Œä¸€ä¸ªæ˜¯ç”»å®Œæ‰€æœ‰childçš„å†…å®¹\n        //ç¬¬äºŒæ­¥æ˜¯æ ¹æ®è‡ªèº«å†…å®¹ç”»ç‚¹ä¸œè¥¿\n    }\n}\n\n//ç®€æ˜çš„å®¢æˆ·ç«¯ä»£ç \n\nCompoundGraphic tree = new CompoundGraphic();\nCompoundGraphic branch1 = new CompoundGraphic();\nbranch1.Add(new Dot(1,2));\nbranch1.Add(new Dot(3,4));\nCompoundGraphic branch2 = new CompoundGraphic();\nbranch2.Add(new Circle(5,6,3));\nbranch2.Add(new Dot(7,8));\nbranch3.Add(new Dot(9,10));\ntree.Add(branch1);\ntree.Add(branch2);\n\ntree.move(1,2);\ntree.draw();\n```\n\n##### é€‚åˆç»„åˆæ¨¡å¼çš„åœ°æ–¹\n\n- å¦‚æœä½ éœ€è¦å®ç°**æ ‘çŠ¶å¯¹è±¡ç»“æ„**ï¼Œå¯ä»¥ä½¿ç”¨ç»„åˆæ¨¡å¼ã€‚\n- å¦‚æœä½ å¸Œæœ›å®¢æˆ·ç«¯ä»£ç ä»¥**ç›¸åŒæ–¹å¼å¤„ç†ç®€å•å’Œå¤æ‚å…ƒç´ **ï¼Œå¯ä»¥ä½¿ç”¨è¯¥æ¨¡å¼ã€‚\n\n##### ç»„åˆæ¨¡å¼çš„ä¼˜ç¼ºç‚¹\n\n**ä¼˜ç‚¹** ï¼š\n\n- ä½ å¯ä»¥åˆ©ç”¨**å¤šæ€**å’Œ**é€’å½’**æœºåˆ¶æ›´æ–¹ä¾¿åœ°ä½¿ç”¨å¤æ‚æ ‘ç»“æ„ã€‚\n- ç¬¦åˆOCP\n\n**ç¼ºç‚¹** ï¼š\n\n- å¯¹äºåŠŸèƒ½å·®å¼‚è¾ƒå¤§çš„ç±»ï¼Œæä¾›å…¬å…±æ¥å£æˆ–è®¸ä¼šæœ‰å›°éš¾ã€‚åœ¨ç‰¹å®šæƒ…å†µä¸‹ï¼Œä½ éœ€è¦è¿‡åº¦ä¸€èˆ¬åŒ–ç»„ä»¶æ¥å£ï¼Œä½¿å…¶å˜å¾—ä»¤äººéš¾ä»¥ç†è§£ã€‚\n\n#### Decorator(è£…é¥°æ¨¡å¼)\n\nè£…é¥°æ¨¡å¼æ˜¯ä¸€ç§ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼Œå…è®¸ä½ é€šè¿‡å°†å¯¹è±¡æ”¾å…¥åŒ…å«è¡Œä¸ºçš„ç‰¹æ®Šå°è£…å¯¹è±¡ä¸­æ¥ä¸ºåŸå¯¹è±¡ç»‘å®šæ–°çš„è¡Œä¸ºã€‚\n\n##### é—®é¢˜\n\nå‡è®¾ä½ æ­£åœ¨å¼€å‘ä¸€ä¸ªæä¾›é€šçŸ¥åŠŸèƒ½çš„åº“ï¼Œå…¶ä»–ç¨‹åºå¯ä½¿ç”¨å®ƒå‘ç”¨æˆ·å‘é€å…³äºé‡è¦äº‹ä»¶çš„é€šçŸ¥ã€‚\nåº“çš„æœ€åˆç‰ˆæœ¬åŸºäº**é€šçŸ¥å™¨NotiÂ­fiÂ­erç±»**ï¼Œå…¶ä¸­åªæœ‰å¾ˆå°‘çš„å‡ ä¸ªæˆå‘˜å˜é‡ï¼Œä¸€ä¸ªæ„é€ å‡½æ•°å’Œä¸€ä¸ªsendå‘é€æ–¹æ³•ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220818203702.png)\n\næ­¤åæŸä¸ªæ—¶åˆ»ï¼Œä½ ä¼šå‘ç°åº“çš„ç”¨æˆ·å¸Œæœ›ä½¿ç”¨é™¤é‚®ä»¶é€šçŸ¥ä¹‹å¤–çš„åŠŸèƒ½ã€‚è®¸å¤šç”¨æˆ·ä¼šå¸Œæœ›æ¥æ”¶å…³äºç´§æ€¥äº‹ä»¶çš„æ‰‹æœºçŸ­ä¿¡ï¼Œè¿˜æœ‰äº›ç”¨æˆ·å¸Œæœ›åœ¨å¾®ä¿¡ä¸Šæ¥æ”¶æ¶ˆæ¯ï¼Œè€Œå…¬å¸ç”¨æˆ·åˆ™å¸Œæœ›åœ¨ QQ ä¸Šæ¥æ”¶æ¶ˆæ¯ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220818203808.png)\n\né¦–å…ˆæ‰©å±•é€šçŸ¥å™¨ç±»ï¼Œç„¶ååœ¨æ–°çš„å­ç±»ä¸­åŠ å…¥é¢å¤–çš„é€šçŸ¥æ–¹æ³•ã€‚ç°åœ¨å®¢æˆ·ç«¯è¦å¯¹æ‰€éœ€é€šçŸ¥å½¢å¼çš„å¯¹åº”ç±»è¿›è¡Œåˆå§‹åŒ–ï¼Œç„¶åä½¿ç”¨è¯¥ç±»å‘é€åç»­æ‰€æœ‰çš„é€šçŸ¥æ¶ˆæ¯ã€‚ä½†æ˜¯å¾ˆå¿«æœ‰äººä¼šé—®ï¼šâ€‹â€œä¸ºä»€ä¹ˆä¸åŒæ—¶ä½¿ç”¨å¤šç§é€šçŸ¥å½¢å¼å‘¢ï¼Ÿå¦‚æœæˆ¿å­ç€ç«äº†ï¼Œä½ å¤§æ¦‚ä¼šæƒ³åœ¨æ‰€æœ‰æ¸ é“ä¸­éƒ½æ”¶åˆ°ç›¸åŒçš„æ¶ˆæ¯å§ã€‚â€ä½ å¯ä»¥å°è¯•åˆ›å»ºä¸€ä¸ªç‰¹æ®Šå­ç±»æ¥å°†å¤šç§é€šçŸ¥æ–¹æ³•ç»„åˆåœ¨ä¸€èµ·ä»¥è§£å†³è¯¥é—®é¢˜ã€‚ä½†è¿™ç§æ–¹å¼ä¼šä½¿å¾—ä»£ç é‡è¿…é€Ÿè†¨èƒ€ï¼Œä¸ä»…ä»…æ˜¯ç¨‹åºåº“ä»£ç ï¼Œå®¢æˆ·ç«¯ä»£ç ä¹Ÿä¼šå¦‚æ­¤ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220818203913.png)\n\n##### è§£å†³æ–¹æ¡ˆ\n\nå½“ä½ éœ€è¦æ›´æ”¹ä¸€ä¸ªå¯¹è±¡çš„è¡Œä¸ºæ—¶ï¼Œç¬¬ä¸€ä¸ªè·³å…¥è„‘æµ·çš„æƒ³æ³•å°±æ˜¯æ‰©å±•å®ƒæ‰€å±çš„ç±»ã€‚ä½†æ˜¯ï¼Œä½ ä¸èƒ½å¿½è§†ç»§æ‰¿å¯èƒ½å¼•å‘çš„å‡ ä¸ªä¸¥é‡é—®é¢˜ã€‚\n\n- ç»§æ‰¿æ˜¯é™æ€çš„ã€‚ä½ æ— æ³•åœ¨è¿è¡Œæ—¶æ›´æ”¹å·²æœ‰å¯¹è±¡çš„è¡Œä¸ºï¼Œåªèƒ½ä½¿ç”¨ç”±ä¸åŒå­ç±»åˆ›å»ºçš„å¯¹è±¡æ¥æ›¿ä»£å½“å‰çš„æ•´ä¸ªå¯¹è±¡ã€‚\n- å­ç±»åªèƒ½æœ‰ä¸€ä¸ªçˆ¶ç±»ã€‚å¤§éƒ¨åˆ†ç¼–ç¨‹è¯­è¨€ä¸å…è®¸ä¸€ä¸ªç±»åŒæ—¶ç»§æ‰¿å¤šä¸ªç±»çš„è¡Œä¸ºã€‚\n\nå…¶ä¸­ä¸€ç§æ–¹æ³•æ˜¯ç”¨**èšåˆæˆ–ç»„åˆ(has a/contains a)** ï¼Œè€Œä¸æ˜¯ç»§æ‰¿ã€‚ä¸¤è€…çš„å·¥ä½œæ–¹å¼å‡ ä¹ä¸€æ¨¡ä¸€æ ·ï¼šä¸€ä¸ªå¯¹è±¡åŒ…å«æŒ‡å‘å¦ä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨ï¼Œå¹¶å°†éƒ¨åˆ†å·¥ä½œå§”æ´¾ç»™å¼•ç”¨å¯¹è±¡ï¼›ç»§æ‰¿ä¸­çš„å¯¹è±¡åˆ™ç»§æ‰¿äº†çˆ¶ç±»çš„è¡Œä¸ºï¼Œå®ƒä»¬è‡ªå·±èƒ½å¤Ÿå®Œæˆè¿™äº›å·¥ä½œã€‚ä½ å¯ä»¥ä½¿ç”¨è¿™ä¸ªæ–°æ–¹æ³•æ¥è½»æ¾æ›¿æ¢å„ç§è¿æ¥çš„ â€œå°å¸®æ‰‹â€ å¯¹è±¡ï¼Œä»è€Œèƒ½åœ¨è¿è¡Œæ—¶æ”¹å˜å®¹å™¨çš„è¡Œä¸ºã€‚ä¸€ä¸ªå¯¹è±¡å¯ä»¥ä½¿ç”¨å¤šä¸ªç±»çš„è¡Œä¸ºï¼Œ åŒ…å«å¤šä¸ªæŒ‡å‘å…¶ä»–å¯¹è±¡çš„å¼•ç”¨ï¼Œå¹¶å°†å„ç§å·¥ä½œå§”æ´¾ç»™å¼•ç”¨å¯¹è±¡**èšåˆï¼ˆæˆ–ç»„åˆï¼‰ ç»„åˆæ˜¯è®¸å¤šè®¾è®¡æ¨¡å¼èƒŒåçš„å…³é”®åŸåˆ™ ï¼ˆåŒ…æ‹¬è£…é¥°åœ¨å†…ï¼‰ã€‚è®°ä½è¿™ä¸€ç‚¹åï¼Œè®©æˆ‘ä»¬ç»§ç»­å…³äºæ¨¡å¼çš„è®¨è®º**ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220818204142.png)\n\né‚£ä¹ˆä»€ä¹ˆæ—¶å€™ä¸€ä¸ªç®€å•çš„å°è£…å™¨å¯ä»¥è¢«ç§°ä¸ºæ˜¯çœŸæ­£çš„è£…é¥°å‘¢ï¼Ÿæ­£å¦‚ä¹‹å‰æåˆ°çš„ï¼Œå°è£…å™¨å®ç°äº†ä¸å…¶å°è£…å¯¹è±¡ç›¸åŒçš„æ¥å£ã€‚å› æ­¤ä»å®¢æˆ·ç«¯çš„è§’åº¦æ¥çœ‹ï¼Œè¿™äº›å¯¹è±¡æ˜¯**å®Œå…¨ä¸€æ ·**çš„ã€‚å°è£…å™¨ä¸­çš„å¼•ç”¨æˆå‘˜å˜é‡å¯ä»¥æ˜¯éµå¾ªç›¸åŒæ¥å£çš„ä»»æ„å¯¹è±¡ã€‚è¿™ä½¿å¾—ä½ å¯ä»¥å°†**ä¸€ä¸ªå¯¹è±¡æ”¾å…¥å¤šä¸ªå°è£…å™¨**ä¸­ï¼Œå¹¶åœ¨å¯¹è±¡ä¸­æ·»åŠ æ‰€æœ‰è¿™äº›å°è£…å™¨çš„ç»„åˆè¡Œä¸ºã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220818205047.png)\n\n##### è£…é¥°æ¨¡å¼ç»“æ„\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220818205848.png)\n\n1.**éƒ¨ä»¶(ComÂ­poÂ­nent)** å£°æ˜å°è£…å™¨å’Œè¢«å°è£…å¯¹è±¡çš„å…¬ç”¨æ¥å£ã€‚\n\n2.**å…·ä½“éƒ¨ä»¶(ConÂ­crete ComÂ­poÂ­nent)** ç±»æ˜¯è¢«å°è£…å¯¹è±¡æ‰€å±çš„ç±»ã€‚ å®ƒå®šä¹‰äº†åŸºç¡€è¡Œä¸ºï¼Œ ä½†è£…é¥°ç±»å¯ä»¥æ”¹å˜è¿™äº›è¡Œä¸ºã€‚\n\n3.**åŸºç¡€è£…é¥°(Base DecÂ­oÂ­raÂ­tor)** ç±»æ‹¥æœ‰ä¸€ä¸ªæŒ‡å‘è¢«å°è£…å¯¹è±¡çš„å¼•ç”¨æˆå‘˜å˜é‡ã€‚ è¯¥å˜é‡çš„ç±»å‹åº”å½“è¢«å£°æ˜ä¸ºé€šç”¨éƒ¨ä»¶æ¥å£ï¼Œ è¿™æ ·å®ƒå°±å¯ä»¥å¼•ç”¨å…·ä½“çš„éƒ¨ä»¶å’Œè£…é¥°ã€‚ è£…é¥°åŸºç±»ä¼šå°†æ‰€æœ‰æ“ä½œå§”æ´¾ç»™è¢«å°è£…çš„å¯¹è±¡ã€‚\n\n4.**å…·ä½“è£…é¥°ç±»(ConÂ­crete DecÂ­oÂ­raÂ­tors)** å®šä¹‰äº†å¯åŠ¨æ€æ·»åŠ åˆ°éƒ¨ä»¶çš„é¢å¤–è¡Œä¸ºã€‚ å…·ä½“è£…é¥°ç±»ä¼šé‡å†™è£…é¥°åŸºç±»çš„æ–¹æ³•ï¼Œ å¹¶åœ¨è°ƒç”¨çˆ¶ç±»æ–¹æ³•ä¹‹å‰æˆ–ä¹‹åè¿›è¡Œé¢å¤–çš„è¡Œä¸ºã€‚\n\n5.**å®¢æˆ·ç«¯(Client)** å¯ä»¥ä½¿ç”¨å¤šå±‚è£…é¥°æ¥å°è£…éƒ¨ä»¶ï¼Œ åªè¦å®ƒèƒ½ä½¿ç”¨é€šç”¨æ¥å£ä¸æ‰€æœ‰å¯¹è±¡äº’åŠ¨å³å¯ã€‚\n\n##### ä¼ªä»£ç \n\nä»…ä»…çœ‹ä¸Šé¢çš„å†…å®¹åªæ˜¯çŸ¥é“ä¸ªå¤§æ¦‚ï¼Œæ¥çœ‹çœ‹æ›´å…·ä½“çš„ä¾‹å­ä»¥åŠå†™å†™ä¸€äº›ä¸é‚£ä¹ˆä¼ªçš„ä¼ªä»£ç ã€‚\n\n**ç¬¬ä¸€ä¸ªä¾‹å­ï¼Œc#ç±»å‹çš„å¤§æ¦‚ç»“æ„** :\n\n```csharp\n//å®šä¹‰æŠ½è±¡Componentç±»ï¼Œå‡†å¤‡è¢«å…·ä½“Componentç±»å’ŒBase Decoratorç±»ç»§æ‰¿\npublic abstract class Component\n{\n    public abstract string Operation();\n}\n//å…·ä½“Componentç±»å®šä¹‰äº†åŸºç¡€è¡Œä¸ºï¼Œè£…é¥°å™¨å°±æ˜¯ä¿®é¥°è¿™äº›è¡Œä¸º\n//æ¯”å¦‚è¯´ä½ è¦ç”»ä¸€ä¸ªåœ†ï¼Œè¿™æ˜¯æœ¬èº«è¦å¹²çš„äº‹æƒ…\n//å¦‚æœè¦ç”»ä¸€ä¸ªçº¢è‰²çš„åœ†ï¼Œå¯ä»¥ç”¨ä¿®é¥°å™¨æ¥ä¿®é¥°è¿™ä¸ªè¡Œä¸º\npublic class ConcreteComponent : Component\n{\n    public override string Operation()\n    {\n        return \"ConcreteComponent\";\n    }\n}\n//è£…é¥°å™¨è¦è·Ÿå…·ä½“ç»„ä»¶ç»§æ‰¿ç›¸åŒçš„ç±»\n//è¯¥ç±»ä¸»è¦ä¸ºäº†å®šä¹‰æ‰€æœ‰å…·ä½“è£…é¥°ç±»çš„æ¥å£ã€‚\n//é€šå¸¸æœ‰ä¸€ä¸ªå…³äºComponentçš„æˆå‘˜å˜é‡,å¹¶ä¸”è¦åˆå§‹åŒ–\npublic abstract class Decorator : Component\n{\n    protected Component _component;\n\n    //åˆå§‹åŒ–\n    public Decorator(Component component)\n    {\n        this._component = component;\n    }\n\n    public override string Operation()\n    {\n        if (this._component != null)\n        {\n            return this._component.Operation();\n        }\n        else\n        {\n            return string.Empty;\n        }\n    }\n}\npublic class ConcreteDecoratorA : Decorator\n{\n    public ConcreteDecoratorA(Component component) : base(component)\n    {\n        //ç»§æ‰¿åˆå§‹åŒ–\n    }\n\n    public override string Operation()\n    {\n        return $\"ConcreteDecoratorA({base.Operation()})\";\n    }   \n}\npublic class ConcreteDecoratorB : Decorator\n{\n    public ConcreteDecoratorB(Component component) : base(component)\n    {\n        //ç»§æ‰¿åˆå§‹åŒ–\n    }\n\n    public override string Operation()\n    {\n        return $\"ConcreteDecoratorB({base.Operation()})\";\n    }   \n}\npublic class Client\n{\n    public void ClientCode(Component component)\n    {\n        Console.WriteLine(\"RESULT: \" + component.Operation());\n    }\n}\n\n//å®¢æˆ·ç«¯ä»£ç \nClient client = new Client();\n\nvar simple = new ConcreteComponent();\n Console.WriteLine(\"Client: I get a simple component:\");\nclient.ClientCode(simple);\nConsole.WriteLine();\n\nConcreteDecoratorA decorator1 = new ConcreteDecoratorA(simple);\nConcreteDecoratorB decorator2 = new ConcreteDecoratorB(decorator1);\nConsole.WriteLine(\"Client: Now I've got a decorated component:\");\nclient.ClientCode(decorator2);\n\n/*æ¼”ç¤ºç»“æœ\nClient: I get a simple component:\nRESULT: ConcreteComponent\n\nClient: Now I've got a decorated component:\nRESULT: ConcreteDecoratorB(ConcreteDecoratorA(ConcreteComponent))\n*/\n```\n\nä¸Šä¸€ä¸ªä¾‹å­åŸºæœ¬ä¸Šå¯ä»¥çŸ¥é“å¤§æ¦‚çš„è¿ä½œæ–¹å¼ï¼Œä½†æ˜¯å¯¹äºä½¿ç”¨è¿˜ä¸èƒ½å¤Ÿäº†è§£ï¼Œæ¥ä¸‹æ¥çœ‹ä¸€ä¸ªæ¯”è¾ƒç®€å•çš„ä¾‹å­ï¼Œå¯ä»¥å¾ˆå®¹æ˜“ä½“ç°è£…é¥°å™¨æ˜¯åœ¨**è£…é¥°å…·ä½“ç»„ä»¶çš„è¡Œä¸º**ï¼Œæ„Ÿè§‰å°±è·Ÿc#ä¸€æ ·ï¼Œå¦‚æœ**Component**ç›¸å½“äºc#çš„æŠ½è±¡ç±»ï¼Œé‚£ä¹ˆ**Decorator**å°±ç›¸å½“äºc#çš„æ¥å£ï¼ˆä½†æ˜¯å®é™…ä¸Šc#çš„æ¥å£ä¸èƒ½ç»§æ‰¿ç±»ï¼‰\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220818212043.png)\n\nå›¾æ˜¯javaçš„ç¤ºæ„å›¾ï¼Œä½†æ˜¯æˆ‘è¿™é‡Œç”¨c#å†™å‡ºæ¥\n\n```csharp\n//Componentç±»\npublic abstract class Shape\n{\n    public abstract void draw();\n}\n//Concrete Component ç±»\npublic class Rectangle : Shape\n{\n    public override void draw()\n    {\n        Console.WriteLine(\"Shape:Rectangle\");\n    }\n}\n//Concrete Component ç±»\npublic class Circle : Shape\n{\n    public override void draw()\n    {\n        Console.WriteLine(\"Shape:Circle\");\n    }\n}\n//æŠ½è±¡Base Decoratorç±»\npublic abstract class ShapeDecorator : Shape\n{\n    protected Shape decoratedShape;\n\n    public ShapeDecorator(Shape shape)\n    {\n        this.decoratedShape = shape;\n    }\n\n    public override void draw()\n    {\n        decoratedShape.draw();\n    }\n}\n//Concrete Decoratorç±»\npublic class RedShapeDecorator : ShapeDecorator\n{\n    public RedShapeDecorator(Shape shape) : base (shape)\n    {\n        //ç»§æ‰¿åˆå§‹åŒ–\n    }\n\n    public override void draw()\n    {\n        Console.Write(\"Red + \");\n        base.draw();\n    }\n}\n//å®¢æˆ·ç«¯ä»£ç \nvar circle = new Circle();\nShapeDecorator redCircle = new RedShapeDecorator(new Circle());\nShapeDecorator redRectangle = new RedShapeDecorator(new Rectangle());\n\nConsole.WriteLine(\"Circle with normal border\");\ncircle.draw();\n\nConsole.WriteLine(\"\\nCircle of red border\");\nredCircle.draw();\n\nConsole.WriteLine(\"\\nRectangle of red border\");\nredRectangle.draw();\n\n/*è¿è¡Œç»“æœ\nCircle with normal border\nShape:Circle\n\nCircle of red border\nRed + Shape:Circle\n\nRectangle of red border\nRed + Shape:Rectangle\n*/\n```\n\n##### é€‚åˆè£…é¥°æ¨¡å¼çš„åœ°æ–¹\n\n- å¦‚æœä½ å¸Œæœ›åœ¨æ— éœ€ä¿®æ”¹ä»£ç çš„æƒ…å†µä¸‹å³å¯ä½¿ç”¨å¯¹è±¡ï¼Œä¸”å¸Œæœ›åœ¨è¿è¡Œæ—¶ä¸ºå¯¹è±¡æ–°å¢é¢å¤–çš„è¡Œä¸ºï¼Œå¯ä»¥ä½¿ç”¨è£…é¥°æ¨¡å¼ã€‚\n- å¦‚æœç”¨ç»§æ‰¿æ¥æ‰©å±•å¯¹è±¡è¡Œä¸ºçš„æ–¹æ¡ˆéš¾ä»¥å®ç°æˆ–è€…æ ¹æœ¬ä¸å¯è¡Œï¼Œä½ å¯ä»¥ä½¿ç”¨è¯¥æ¨¡å¼ã€‚\n\n##### è£…é¥°æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\n\n**ä¼˜ç‚¹** ï¼š\n\n- ä½ æ— éœ€åˆ›å»ºæ–°å­ç±»å³å¯æ‰©å±•å¯¹è±¡çš„è¡Œä¸ºã€‚\n- ä½ å¯ä»¥åœ¨è¿è¡Œæ—¶æ·»åŠ æˆ–åˆ é™¤å¯¹è±¡çš„åŠŸèƒ½ã€‚\n- ä½ å¯ä»¥ç”¨å¤šä¸ªè£…é¥°å°è£…å¯¹è±¡æ¥ç»„åˆå‡ ç§è¡Œä¸ºã€‚\n- ç¬¦åˆSRP\n\n**ç¼ºç‚¹** ï¼š\n\n- åœ¨å°è£…å™¨æ ˆä¸­åˆ é™¤ç‰¹å®šå°è£…å™¨æ¯”è¾ƒå›°éš¾ã€‚\n- å®ç°è¡Œä¸ºä¸å—è£…é¥°æ ˆé¡ºåºå½±å“çš„è£…é¥°æ¯”è¾ƒå›°éš¾ã€‚\n- å„å±‚çš„åˆå§‹åŒ–é…ç½®ä»£ç çœ‹ä¸Šå»å¯èƒ½ä¼šå¾ˆç³Ÿç³•ã€‚\n\n#### Fecade(å¤–è§‚æ¨¡å¼/é—¨é¢æ¨¡å¼)\n\nå¤–è§‚æ¨¡å¼æ˜¯ä¸€ç§ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼Œèƒ½ä¸ºç¨‹åºåº“ã€æ¡†æ¶æˆ–å…¶ä»–å¤æ‚ç±»æä¾›ä¸€ä¸ªç®€å•çš„æ¥å£ã€‚\n\n##### é—®é¢˜\n\nå‡è®¾ä½ å¿…é¡»åœ¨ä»£ç ä¸­ä½¿ç”¨æŸä¸ª**å¤æ‚çš„åº“æˆ–æ¡†æ¶ä¸­çš„ä¼—å¤šå¯¹è±¡**ã€‚æ­£å¸¸æƒ…å†µä¸‹ï¼Œä½ éœ€è¦è´Ÿè´£æ‰€æœ‰å¯¹è±¡çš„åˆå§‹åŒ–å·¥ä½œã€ç®¡ç†å…¶ä¾èµ–å…³ç³»å¹¶æŒ‰æ­£ç¡®çš„é¡ºåºæ‰§è¡Œæ–¹æ³•ç­‰ã€‚æœ€ç»ˆï¼Œç¨‹åºä¸­ç±»çš„ä¸šåŠ¡é€»è¾‘å°†ä¸ç¬¬ä¸‰æ–¹ç±»çš„å®ç°ç»†èŠ‚ç´§å¯†è€¦åˆï¼Œä½¿å¾—ç†è§£å’Œç»´æŠ¤ä»£ç çš„å·¥ä½œå¾ˆéš¾è¿›è¡Œã€‚\n\n##### è§£å†³æ–¹æ¡ˆ\n\nå¤–è§‚ç±»ä¸ºåŒ…å«è®¸å¤šæ´»åŠ¨éƒ¨ä»¶çš„**å¤æ‚å­ç³»ç»Ÿæä¾›ä¸€ä¸ªç®€å•çš„æ¥å£**ã€‚ä¸ç›´æ¥è°ƒç”¨å­ç³»ç»Ÿç›¸æ¯”ï¼Œ å¤–è§‚æä¾›çš„åŠŸèƒ½å¯èƒ½æ¯”è¾ƒæœ‰é™ï¼Œ ä½†å®ƒå´åŒ…å«äº†å®¢æˆ·ç«¯çœŸæ­£å…³å¿ƒçš„åŠŸèƒ½ã€‚\n\n##### å¤–è§‚æ¨¡å¼ç»“æ„\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220818223832.png)\n\n1.**å¤–è§‚(Facade)** æä¾›äº†ä¸€ç§è®¿é—®ç‰¹å®šå­ç³»ç»ŸåŠŸèƒ½çš„ä¾¿æ·æ–¹å¼ï¼Œ å…¶äº†è§£å¦‚ä½•é‡å®šå‘å®¢æˆ·ç«¯è¯·æ±‚ï¼Œ çŸ¥æ™“å¦‚ä½•æ“ä½œä¸€åˆ‡æ´»åŠ¨éƒ¨ä»¶ã€‚\n\n2.**åˆ›å»ºé™„åŠ å¤–è§‚(AddiÂ­tionÂ­al Facade)**ç±»å¯ä»¥é¿å…å¤šç§ä¸ç›¸å…³çš„åŠŸèƒ½æ±¡æŸ“å•ä¸€å¤–è§‚ï¼Œ ä½¿å…¶å˜æˆåˆä¸€ä¸ªå¤æ‚ç»“æ„ã€‚ å®¢æˆ·ç«¯å’Œå…¶ä»–å¤–è§‚éƒ½å¯ä½¿ç”¨é™„åŠ å¤–è§‚ã€‚\n\n3.**å¤æ‚å­ç³»ç»Ÿ(ComÂ­plex SubÂ­sysÂ­tem)** ç”±æ•°åä¸ªä¸åŒå¯¹è±¡æ„æˆã€‚å¦‚æœè¦ç”¨è¿™äº›å¯¹è±¡å®Œæˆæœ‰æ„ä¹‰çš„å·¥ä½œï¼Œä½ å¿…é¡»æ·±å…¥äº†è§£å­ç³»ç»Ÿçš„å®ç°ç»†èŠ‚ï¼Œæ¯”å¦‚æŒ‰ç…§æ­£ç¡®é¡ºåºåˆå§‹åŒ–å¯¹è±¡å’Œä¸ºå…¶æä¾›æ­£ç¡®æ ¼å¼çš„æ•°æ®ã€‚\nå­ç³»ç»Ÿç±»ä¸ä¼šæ„è¯†åˆ°å¤–è§‚çš„å­˜åœ¨ï¼Œå®ƒä»¬åœ¨ç³»ç»Ÿå†…è¿ä½œå¹¶ä¸”ç›¸äº’ä¹‹é—´å¯ç›´æ¥è¿›è¡Œäº¤äº’ã€‚\n\n4.**å®¢æˆ·ç«¯(Client)** ä½¿ç”¨å¤–è§‚ä»£æ›¿å¯¹å­ç³»ç»Ÿå¯¹è±¡çš„ç›´æ¥è°ƒç”¨ã€‚\n\n##### ä¼ªä»£ç \n\nåœ¨æœ¬ä¾‹ä¸­ï¼Œå¤–è§‚æ¨¡å¼ç®€åŒ–äº†å®¢æˆ·ç«¯ä¸å¤æ‚è§†é¢‘è½¬æ¢æ¡†æ¶ä¹‹é—´çš„äº¤äº’ã€‚ä½ å¯ä»¥åˆ›å»ºä¸€ä¸ªå°è£…æ‰€éœ€åŠŸèƒ½å¹¶éšè—å…¶ä»–ä»£ç çš„å¤–è§‚ç±»ï¼Œä»è€Œæ— éœ€ä½¿å…¨éƒ¨ä»£ç ç›´æ¥ä¸æ•°åä¸ªæ¡†æ¶ç±»è¿›è¡Œäº¤äº’ã€‚è¯¥ç»“æ„è¿˜èƒ½å°†æœªæ¥æ¡†æ¶å‡çº§æˆ–æ›´æ¢æ‰€é€ æˆçš„å½±å“æœ€å°åŒ–ï¼Œå› ä¸ºä½ åªéœ€ä¿®æ”¹ç¨‹åºä¸­å¤–è§‚æ–¹æ³•çš„å®ç°å³å¯ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220818224224.png)\n\n```csharp\n//å„ç§å­ç³»ç»Ÿç±»\npublic class VideoFile\n{\n    // ...\n}\npublic class OggCompressionCodec\n{\n    // ...\n}\npublic class MPEG4CompressionCodec\n{\n    // ...\n}\npublic class CodecFactory\n{\n    // ...\n}\npublic class BitrateReader\n{\n    // ...\n}\npublic class AudioMixer\n{\n    // ...\n}\n\n//ä¸€ä¸ªå¤–è§‚ç±»ï¼Œç›®çš„æ˜¯ä¸ºäº†å°†å¾ˆå¤šçš„å­ç³»ç»Ÿç±»è½¬æ¢æˆä¸€ä¸ªæ¥å£æ¥ç»™å®¢æˆ·ç«¯çœ‹\npublic class VideoConverter\n{\n    //å‡è®¾è¿”å›ç±»å‹å°±æ˜¯Fileç±»\n    //ä¸è¦åœ¨æ„é‡Œé¢çš„å…·ä½“å†…å®¹ï¼Œåªç”¨çŸ¥é“è¿™æ˜¯ä¸ªè½¬åŒ–å™¨å°±è¡Œäº†\n    public File converter(filename,format)\n    {\n        File file = new VideoFile(filename);\n        CodecFactory sourceCodec = new CodecFactory.extract(file);\n        if (format == \"mp4\")\n            MPEG4CompressionCodec destinationCodec = new MPEG4CompressionCodec();\n        else\n            OggCompressionCodec destinationCodec = new OggCompressionCodec();\n        BitrateReader buffer = BitrateReader.read(filename, sourceCodec);\n        BitrateReader result = BitrateReader.convert(buffer, destinationCodec);\n        AudioMixer result = (new AudioMixer()).fix(result);\n        return new File(result);\n    }\n}\n\n//å®¢æˆ·ç«¯ä»£ç \nvar convertor = new VideoConverter();\nvar mp4 = convertor.convert(\"funny-cats-video.ogg\", \"mp4\")\nmp4.save()\n```\n\n##### é€‚åˆå¤–è§‚æ¨¡å¼çš„åœ°æ–¹\n\n- å¦‚æœä½ éœ€è¦ä¸€ä¸ªæŒ‡å‘å¤æ‚å­ç³»ç»Ÿçš„ç›´æ¥æ¥å£ï¼Œä¸”è¯¥æ¥å£çš„åŠŸèƒ½æœ‰é™ï¼Œåˆ™å¯ä»¥ä½¿ç”¨å¤–è§‚æ¨¡å¼ã€‚\n- å¦‚æœéœ€è¦å°†å­ç³»ç»Ÿç»„ç»‡ä¸ºå¤šå±‚ç»“æ„ï¼Œå¯ä»¥ä½¿ç”¨å¤–è§‚ã€‚\n\n##### å¤–è§‚æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\n\n**ä¼˜ç‚¹** ï¼š\n\n- ä½ å¯ä»¥è®©è‡ªå·±çš„ä»£ç ç‹¬ç«‹äºå¤æ‚å­ç³»ç»Ÿã€‚\n\n**ç¼ºç‚¹** ï¼š\n\n- å¤–è§‚å¯èƒ½æˆä¸ºä¸ç¨‹åºä¸­æ‰€æœ‰ç±»éƒ½è€¦åˆçš„ä¸Šå¸å¯¹è±¡ï¼ˆä¸€ä¸ªä¸Šå¸å¯¹è±¡(God object)æ˜¯ä¸€ä¸ªäº†è§£è¿‡å¤šæˆ–è€…è´Ÿè´£è¿‡å¤šçš„å¯¹è±¡ï¼‰\n\n#### Flyweight(äº«å…ƒæ¨¡å¼)\n\näº«å…ƒæ¨¡å¼æ˜¯ä¸€ç§ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼Œå®ƒæ‘’å¼ƒäº†åœ¨æ¯ä¸ªå¯¹è±¡ä¸­ä¿å­˜æ‰€æœ‰æ•°æ®çš„æ–¹å¼ï¼Œé€šè¿‡å…±äº«å¤šä¸ªå¯¹è±¡æ‰€å…±æœ‰çš„ç›¸åŒçŠ¶æ€ï¼Œè®©ä½ èƒ½åœ¨æœ‰é™çš„å†…å­˜å®¹é‡ä¸­è½½å…¥æ›´å¤šå¯¹è±¡ã€‚ç®€å•æ¥è¯´ï¼Œå°±æ˜¯æå–ä¸€ä¸ªå¤§ç±»ä¸­å…±åŒçš„ä¸å˜çš„å†…å®¹çš„ä¸ºä¸€ä¸ªç±»å’Œä¸€ä¸ªéœ€è¦ç»å¸¸ç”Ÿæˆçš„å˜åŒ–çŠ¶æ€çš„ç±»ã€‚\n\n##### é—®é¢˜\n\nçœŸæ­£çš„é—®é¢˜ä¸ç²’å­ç³»ç»Ÿæœ‰å…³ã€‚æ¯ä¸ªç²’å­ ï¼ˆä¸€é¢—å­å¼¹ã€ ä¸€æšå¯¼å¼¹æˆ–ä¸€å—å¼¹ç‰‡ï¼‰ éƒ½ç”±åŒ…å«å®Œæ•´æ•°æ®çš„ç‹¬ç«‹å¯¹è±¡æ¥è¡¨ç¤ºã€‚å½“ç©å®¶åœ¨æ¸¸æˆä¸­é–æˆ˜è¿›å…¥é«˜æ½®åçš„æŸä¸€æ—¶åˆ»ï¼Œæ¸¸æˆå°†æ— æ³•åœ¨å‰©ä½™å†…å­˜ä¸­è½½å…¥æ–°å»ºç²’å­ï¼Œäºæ˜¯ç¨‹åºå°±å´©æºƒäº†ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220818230038.png)\n\n##### è§£å†³æ–¹æ¡ˆ\n\nä»”ç»†è§‚å¯Ÿ**ç²’å­ParÂ­tiÂ­cleç±»**ï¼Œ ä½ å¯èƒ½ä¼šæ³¨æ„åˆ°**é¢œè‰²(color)å’Œç²¾çµå›¾(sprite)**è¿™ä¸¤ä¸ªæˆå‘˜å˜é‡æ‰€æ¶ˆè€—çš„å†…å­˜è¦æ¯”å…¶ä»–å˜é‡å¤šå¾—å¤šã€‚æ›´ç³Ÿç³•çš„æ˜¯ï¼Œå¯¹äºæ‰€æœ‰çš„ç²’å­æ¥è¯´ï¼Œ**è¿™ä¸¤ä¸ªæˆå‘˜å˜é‡æ‰€å­˜å‚¨çš„æ•°æ®å‡ ä¹å®Œå…¨ä¸€æ ·** ï¼ˆæ¯”å¦‚æ‰€æœ‰å­å¼¹çš„é¢œè‰²å’Œç²¾çµå›¾éƒ½ä¸€æ ·ï¼‰ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220818230148.png)\n\næ¯ä¸ªç²’å­çš„å¦ä¸€äº›çŠ¶æ€ ï¼ˆåæ ‡ã€ ç§»åŠ¨çŸ¢é‡å’Œé€Ÿåº¦ï¼‰ åˆ™æ˜¯ä¸åŒçš„ã€‚å› ä¸ºè¿™äº›æˆå‘˜å˜é‡çš„æ•°å€¼ä¼šä¸æ–­å˜åŒ–ã€‚ è¿™äº›æ•°æ®ä»£è¡¨ç²’å­åœ¨å­˜ç»­æœŸé—´ä¸æ–­å˜åŒ–çš„æƒ…æ™¯ï¼Œä½†æ¯ä¸ªç²’å­çš„é¢œè‰²å’Œç²¾çµå›¾åˆ™ä¼šä¿æŒä¸å˜ã€‚\nå¯¹è±¡çš„å¸¸é‡æ•°æ®é€šå¸¸è¢«ç§°ä¸º**å†…åœ¨çŠ¶æ€**ï¼Œå…¶ä½äºå¯¹è±¡ä¸­ï¼Œå…¶ä»–å¯¹è±¡åªèƒ½è¯»å–ä½†ä¸èƒ½ä¿®æ”¹å…¶æ•°å€¼ã€‚è€Œå¯¹è±¡çš„å…¶ä»–çŠ¶æ€å¸¸å¸¸èƒ½è¢«å…¶ä»–å¯¹è±¡ â€œä»å¤–éƒ¨â€ æ”¹å˜ï¼Œå› æ­¤è¢«ç§°ä¸º**å¤–åœ¨çŠ¶æ€**ã€‚\næˆ‘ä»¬å°†è¿™æ ·ä¸€ä¸ª**ä»…å­˜å‚¨å†…åœ¨çŠ¶æ€çš„å¯¹è±¡ç§°ä¸ºäº«å…ƒ**ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220818230930.png)\n\n**äº«å…ƒä¸ä¸å¯å˜æ€§** :\nç”±äºäº«å…ƒå¯¹è±¡å¯åœ¨ä¸åŒçš„æƒ…æ™¯ä¸­ä½¿ç”¨ï¼Œä½ å¿…é¡»ç¡®ä¿å…¶çŠ¶æ€ä¸èƒ½è¢«ä¿®æ”¹ã€‚**äº«å…ƒç±»çš„çŠ¶æ€åªèƒ½ç”±æ„é€ å‡½æ•°çš„å‚æ•°è¿›è¡Œä¸€æ¬¡æ€§åˆå§‹åŒ–**ï¼Œå®ƒä¸èƒ½å¯¹å…¶ä»–å¯¹è±¡å…¬å¼€å…¶è®¾ç½®å™¨æˆ–å…¬æœ‰æˆå‘˜å˜é‡ã€‚\n\n**äº«å…ƒå·¥å‚** :\nä¸ºäº†èƒ½æ›´æ–¹ä¾¿åœ°è®¿é—®å„ç§äº«å…ƒï¼Œä½ å¯ä»¥åˆ›å»ºä¸€ä¸ªå·¥å‚æ–¹æ³•æ¥ç®¡ç†å·²æœ‰äº«å…ƒå¯¹è±¡çš„ç¼“å­˜æ± ã€‚å·¥å‚æ–¹æ³•ä»å®¢æˆ·ç«¯å¤„æ¥æ”¶ç›®æ ‡äº«å…ƒå¯¹è±¡çš„å†…åœ¨çŠ¶æ€ä½œä¸ºå‚æ•°ï¼Œå¦‚æœå®ƒèƒ½åœ¨ç¼“å­˜æ± ä¸­æ‰¾åˆ°æ‰€éœ€äº«å…ƒï¼Œåˆ™å°†å…¶è¿”å›ç»™å®¢æˆ·ç«¯ï¼›å¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œå®ƒå°±ä¼šæ–°å»ºä¸€ä¸ªäº«å…ƒï¼Œå¹¶å°†å…¶æ·»åŠ åˆ°ç¼“å­˜æ± ä¸­ã€‚\nä½ å¯ä»¥é€‰æ‹©åœ¨ç¨‹åºçš„ä¸åŒåœ°æ–¹æ”¾å…¥è¯¥å‡½æ•°ã€‚æœ€ç®€å•çš„é€‰æ‹©å°±æ˜¯å°†å…¶æ”¾ç½®åœ¨äº«å…ƒå®¹å™¨ä¸­ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œä½ è¿˜å¯ä»¥æ–°å»ºä¸€ä¸ªå·¥å‚ç±»ï¼Œæˆ–è€…åˆ›å»ºä¸€ä¸ªé™æ€çš„å·¥å‚æ–¹æ³•å¹¶å°†å…¶æ”¾å…¥å®é™…çš„äº«å…ƒç±»ä¸­ã€‚\n\n##### äº«å…ƒæ¨¡å¼ç»“æ„\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220818231129.png)\n\n1.äº«å…ƒæ¨¡å¼åªæ˜¯ä¸€ç§ä¼˜åŒ–ã€‚åœ¨åº”ç”¨è¯¥æ¨¡å¼ä¹‹å‰ï¼Œä½ è¦ç¡®å®šç¨‹åºä¸­å­˜åœ¨ä¸å¤§é‡ç±»ä¼¼å¯¹è±¡åŒæ—¶å ç”¨å†…å­˜ç›¸å…³çš„å†…å­˜æ¶ˆè€—é—®é¢˜ï¼Œå¹¶ä¸”ç¡®ä¿è¯¥é—®é¢˜æ— æ³•ä½¿ç”¨å…¶ä»–æ›´å¥½çš„æ–¹å¼æ¥è§£å†³ã€‚\n\n2.**äº«å…ƒ(FlyÂ­weight)** ç±»åŒ…å«åŸå§‹å¯¹è±¡ä¸­éƒ¨åˆ†èƒ½åœ¨å¤šä¸ªå¯¹è±¡ä¸­å…±äº«çš„çŠ¶æ€ã€‚ åŒä¸€äº«å…ƒå¯¹è±¡å¯åœ¨è®¸å¤šä¸åŒæƒ…æ™¯ä¸­ä½¿ç”¨ã€‚ äº«å…ƒä¸­å­˜å‚¨çš„çŠ¶æ€è¢«ç§°ä¸º â€œå†…åœ¨çŠ¶æ€â€ã€‚ ä¼ é€’ç»™äº«å…ƒæ–¹æ³•çš„çŠ¶æ€è¢«ç§°ä¸º â€œå¤–åœ¨çŠ¶æ€â€ã€‚\n\n3.**æƒ…æ™¯(ConÂ­text)** ç±»åŒ…å«åŸå§‹å¯¹è±¡ä¸­å„ä¸ç›¸åŒçš„å¤–åœ¨çŠ¶æ€ã€‚ æƒ…æ™¯ä¸äº«å…ƒå¯¹è±¡ç»„åˆåœ¨ä¸€èµ·å°±èƒ½è¡¨ç¤ºåŸå§‹å¯¹è±¡çš„å…¨éƒ¨çŠ¶æ€ã€‚\n\n4.é€šå¸¸æƒ…å†µä¸‹ï¼ŒåŸå§‹å¯¹è±¡çš„è¡Œä¸ºä¼šä¿ç•™åœ¨äº«å…ƒç±»ä¸­ã€‚å› æ­¤è°ƒç”¨äº«å…ƒæ–¹æ³•å¿…é¡»æä¾›éƒ¨åˆ†å¤–åœ¨çŠ¶æ€ä½œä¸ºå‚æ•°ã€‚ä½†ä½ ä¹Ÿå¯å°†è¡Œä¸ºç§»åŠ¨åˆ°æƒ…æ™¯ç±»ä¸­ï¼Œç„¶åå°†è¿å…¥çš„äº«å…ƒä½œä¸ºå•çº¯çš„æ•°æ®å¯¹è±¡ã€‚\n\n5.**å®¢æˆ·ç«¯(Client)** è´Ÿè´£è®¡ç®—æˆ–å­˜å‚¨äº«å…ƒçš„å¤–åœ¨çŠ¶æ€ã€‚åœ¨å®¢æˆ·ç«¯çœ‹æ¥ï¼Œäº«å…ƒæ˜¯ä¸€ç§å¯åœ¨è¿è¡Œæ—¶è¿›è¡Œé…ç½®çš„æ¨¡æ¿å¯¹è±¡ï¼Œå…·ä½“çš„é…ç½®æ–¹å¼ä¸ºå‘å…¶æ–¹æ³•ä¸­ä¼ å…¥ä¸€äº›æƒ…æ™¯æ•°æ®å‚æ•°ã€‚\n\n6.**äº«å…ƒå·¥å‚(FlyÂ­weight FacÂ­toÂ­ry)** ä¼šå¯¹å·²æœ‰äº«å…ƒçš„ç¼“å­˜æ± è¿›è¡Œç®¡ç†ã€‚æœ‰äº†å·¥å‚åï¼Œå®¢æˆ·ç«¯å°±æ— éœ€ç›´æ¥åˆ›å»ºäº«å…ƒï¼Œå®ƒä»¬åªéœ€è°ƒç”¨å·¥å‚å¹¶å‘å…¶ä¼ é€’ç›®æ ‡äº«å…ƒçš„ä¸€äº›å†…åœ¨çŠ¶æ€å³å¯ã€‚å·¥å‚ä¼šæ ¹æ®å‚æ•°åœ¨ä¹‹å‰å·²åˆ›å»ºçš„äº«å…ƒä¸­è¿›è¡ŒæŸ¥æ‰¾ï¼Œå¦‚æœæ‰¾åˆ°æ»¡è¶³æ¡ä»¶çš„äº«å…ƒå°±å°†å…¶è¿”å›ï¼›å¦‚æœæ²¡æœ‰æ‰¾åˆ°å°±æ ¹æ®å‚æ•°æ–°å»ºäº«å…ƒã€‚\n\n##### ä¼ªä»£ç \n\nåœ¨æœ¬ä¾‹ä¸­ï¼Œäº«å…ƒæ¨¡å¼èƒ½æœ‰æ•ˆå‡å°‘åœ¨ç”»å¸ƒä¸Šæ¸²æŸ“æ•°ç™¾ä¸‡ä¸ªæ ‘çŠ¶å¯¹è±¡æ—¶æ‰€éœ€çš„å†…å­˜ã€‚è¯¥æ¨¡å¼ä»ä¸»è¦çš„**æ ‘Tree**ç±»ä¸­æŠ½å–å†…åœ¨çŠ¶æ€ï¼Œå¹¶å°†å…¶ç§»åŠ¨åˆ°**äº«å…ƒç±»æ ‘ç§ç±»TreeÂ­Type**ä¹‹ä¸­ã€‚\n\n```csharp\n//äº«å…ƒç±»,æ‹¥æœ‰å¤§é‡å…±åŒçš„åå­—ï¼Œé¢œè‰²å’Œæè´¨\n//å¦‚æœæ¯ä¸ªæ ‘éƒ½è¿›è¡Œä¸€æ¬¡ä¿å­˜å°†ä¼šæ¶ˆè€—å¤§é‡çš„å†…å­˜\npublic class TreeType\n{\n    private string name;\n    private Color color;\n    private Texture texture;\n\n    public TreeType(name,color,texture)\n    {\n        //...\n    }\n    public draw(canvas,x,y)\n    {\n        // 1. åˆ›å»ºç‰¹å®šç±»å‹ã€é¢œè‰²å’Œçº¹ç†çš„ä½å›¾ã€‚\n        // 2. åœ¨ç”»å¸ƒåæ ‡ (X,Y) å¤„ç»˜åˆ¶ä½å›¾ã€‚\n    }\n}\n\n//ä½¿ç”¨äº«å…ƒå·¥å‚ï¼Œå½“ç„¶æ˜¯ä¸ä¸€å®šåªæœ‰ä¸€ç§æ ‘å•¦\npublic class TreeFactory\n{\n    public static TreeType[] treeTypes;\n    public static TreeType getTreeType(name,color,texture)\n    {\n        TreeType type = treeTypes.Find(name,color,texture);\n        if(type == null)\n        {\n            type = new TreeType(name,color,texture);\n            treeTypes.add(type);\n        }\n        return type;\n    }\n}\n\n//æ ‘çš„å¤–åœ¨çŠ¶æ€\npublic class Tree \n{\n    public float x,y;\n    public TreeType type;\n    \n    public Type(x,y,type)\n    {\n        //..\n    }\n    public void draw(canvas)\n    {\n        type.draw(canvas,this.x,this.y);\n    }\n}\n\n// æ ‘ï¼ˆTreeï¼‰å’Œæ£®æ—ï¼ˆForÂ­estï¼‰ç±»æ˜¯äº«å…ƒçš„å®¢æˆ·ç«¯ã€‚\n// å¦‚æœä¸æ‰“ç®—ç»§ç»­å¯¹æ ‘ç±»è¿›è¡Œå¼€å‘ï¼Œä½ å¯ä»¥å°†å®ƒä»¬åˆå¹¶ã€‚\npublic class Forest\n{\n    public Tree[] trees;\n\n    public void plantTree(x,y,name,color,texture)\n    {\n        TreeType type = TreeFactory.getTreeType(name,color,texture);\n        tree = new Tree(x,y,type);\n        trees.add(tree);\n    }\n\n    public void draw(canvas)\n    {\n        foreach(var tree in trees)\n        {\n            tree.draw(canvas);\n        }\n    }\n}\n```\n\n##### é€‚åˆäº«å…ƒæ¨¡å¼çš„åœ°æ–¹\n\n- ä»…åœ¨ç¨‹åºå¿…é¡»æ”¯æŒ**å¤§é‡å¯¹è±¡ä¸”æ²¡æœ‰è¶³å¤Ÿçš„å†…å­˜å®¹é‡**æ—¶ä½¿ç”¨äº«å…ƒæ¨¡å¼(æ¯”å¦‚ç²’å­ç³»ç»Ÿ)ã€‚\n\n##### äº«å…ƒæ¨¡å¼çš„ä¼˜ç¼ºç‚¹\n\n**ä¼˜ç‚¹** ï¼š\n\n- å¦‚æœç¨‹åºä¸­æœ‰å¾ˆå¤šç›¸ä¼¼å¯¹è±¡ï¼Œé‚£ä¹ˆä½ å°†å¯ä»¥èŠ‚çœå¤§é‡å†…å­˜ã€‚\n\n**ç¼ºç‚¹** ï¼š\n\n- ä½ å¯èƒ½éœ€è¦ç‰ºç‰²æ‰§è¡Œé€Ÿåº¦æ¥æ¢å–å†…å­˜ï¼Œå› ä¸ºä»–äººæ¯æ¬¡è°ƒç”¨äº«å…ƒæ–¹æ³•æ—¶éƒ½éœ€è¦é‡æ–°è®¡ç®—éƒ¨åˆ†æƒ…æ™¯æ•°æ®ã€‚\n- ä»£ç ä¼šå˜å¾—æ›´åŠ å¤æ‚ã€‚ å›¢é˜Ÿä¸­çš„æ–°æˆå‘˜æ€»æ˜¯ä¼šé—®ï¼š â€‹â€œä¸ºä»€ä¹ˆè¦åƒè¿™æ ·æ‹†åˆ†ä¸€ä¸ªå®ä½“çš„çŠ¶æ€ï¼Ÿâ€ã€‚\n\n#### Proxy(ä»£ç†æ¨¡å¼)\n\nä»£ç†æ¨¡å¼æ˜¯ä¸€ç§ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼Œè®©ä½ èƒ½å¤Ÿæä¾›å¯¹è±¡çš„æ›¿ä»£å“æˆ–å…¶å ä½ç¬¦ã€‚ä»£ç†æ§åˆ¶ç€å¯¹äºåŸå¯¹è±¡çš„è®¿é—®ï¼Œå¹¶å…è®¸åœ¨å°†è¯·æ±‚æäº¤ç»™å¯¹è±¡å‰åè¿›è¡Œä¸€äº›å¤„ç†ã€‚\n\n##### é—®é¢˜\n\nä¸ºä»€ä¹ˆè¦æ§åˆ¶å¯¹äºæŸä¸ªå¯¹è±¡çš„è®¿é—®å‘¢ï¼Ÿ ä¸¾ä¸ªä¾‹å­ï¼š æœ‰è¿™æ ·ä¸€ä¸ªæ¶ˆè€—å¤§é‡ç³»ç»Ÿèµ„æºçš„å·¨å‹å¯¹è±¡ï¼Œä½ åªæ˜¯å¶å°”éœ€è¦ä½¿ç”¨å®ƒï¼Œå¹¶éæ€»æ˜¯éœ€è¦ã€‚ä½ å¯ä»¥å®ç°å»¶è¿Ÿåˆå§‹åŒ–ï¼šåœ¨å®é™…æœ‰éœ€è¦æ—¶å†åˆ›å»ºè¯¥å¯¹è±¡ã€‚å¯¹è±¡çš„æ‰€æœ‰å®¢æˆ·ç«¯éƒ½è¦æ‰§è¡Œå»¶è¿Ÿåˆå§‹ä»£ç ã€‚ä¸å¹¸çš„æ˜¯ï¼Œè¿™å¾ˆå¯èƒ½ä¼šå¸¦æ¥å¾ˆå¤šé‡å¤ä»£ç ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220819001221.png)\n\nåœ¨ç†æƒ³æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¸Œæœ›å°†ä»£ç ç›´æ¥æ”¾å…¥å¯¹è±¡çš„ç±»ä¸­ï¼Œä½†è¿™å¹¶éæ€»æ˜¯èƒ½å®ç°ï¼šæ¯”å¦‚ç±»å¯èƒ½æ˜¯ç¬¬ä¸‰æ–¹å°é—­åº“çš„ä¸€éƒ¨åˆ†ã€‚\n\n##### è§£å†³æ–¹æ¡ˆ\n\nä»£ç†æ¨¡å¼å»ºè®®æ–°å»ºä¸€ä¸ªä¸åŸæœåŠ¡å¯¹è±¡æ¥å£ç›¸åŒçš„ä»£ç†ç±»ï¼Œç„¶åæ›´æ–°åº”ç”¨ä»¥å°†ä»£ç†å¯¹è±¡ä¼ é€’ç»™æ‰€æœ‰åŸå§‹å¯¹è±¡å®¢æˆ·ç«¯ã€‚ä»£ç†ç±»æ¥æ”¶åˆ°å®¢æˆ·ç«¯è¯·æ±‚åä¼šåˆ›å»ºå®é™…çš„æœåŠ¡å¯¹è±¡ï¼Œå¹¶å°†æ‰€æœ‰å·¥ä½œå§”æ´¾ç»™å®ƒã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220819001254.png)\n\n##### ä»£ç†æ¨¡å¼ç»“æ„\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220819001317.png)\n\n1.**æœåŠ¡æ¥å£(SerÂ­vice InterÂ­face)** å£°æ˜äº†æœåŠ¡æ¥å£ã€‚ä»£ç†å¿…é¡»éµå¾ªè¯¥æ¥å£æ‰èƒ½ä¼ªè£…æˆæœåŠ¡å¯¹è±¡ã€‚\n\n2.**æœåŠ¡(SerÂ­vice)** ç±»æä¾›äº†ä¸€äº›å®ç”¨çš„ä¸šåŠ¡é€»è¾‘ã€‚\n\n3.**ä»£ç†(Proxy)** ç±»åŒ…å«ä¸€ä¸ªæŒ‡å‘æœåŠ¡å¯¹è±¡çš„å¼•ç”¨æˆå‘˜å˜é‡ã€‚ä»£ç†å®Œæˆå…¶ä»»åŠ¡ï¼ˆä¾‹å¦‚å»¶è¿Ÿåˆå§‹åŒ–ã€è®°å½•æ—¥å¿—ã€è®¿é—®æ§åˆ¶å’Œç¼“å­˜ç­‰ï¼‰åä¼šå°†è¯·æ±‚ä¼ é€’ç»™æœåŠ¡å¯¹è±¡ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œä»£ç†ä¼šå¯¹å…¶æœåŠ¡å¯¹è±¡çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸè¿›è¡Œç®¡ç†ã€‚\n\n4.**å®¢æˆ·ç«¯(Client)** èƒ½é€šè¿‡åŒä¸€æ¥å£ä¸æœåŠ¡æˆ–ä»£ç†è¿›è¡Œäº¤äº’ï¼Œæ‰€ä»¥ä½ å¯åœ¨ä¸€åˆ‡éœ€è¦æœåŠ¡å¯¹è±¡çš„ä»£ç ä¸­ä½¿ç”¨ä»£ç†ã€‚\n\n##### ä¼ªä»£ç \n\nä»£ç†æ¨¡å¼è™½ç„¶åœ¨ç»å¤§å¤šæ•°c#ç¨‹åºä¸­ååˆ†ä¸å¸¸è§ï¼Œä½†æ˜¯åœ¨ä¸€äº›ç‰¹æ®Šæƒ…å†µä¸‹ä½¿ç”¨è¿˜æ˜¯å¾ˆæ–¹ä¾¿çš„ã€‚æˆ‘ä»¬ä»…ä»…åœ¨è¿™é‡Œå¯¹ç€ç»“æ„å›¾å†™ä¸€ä¸ªä»ç„¶ä¸æ˜¯é‚£ä¹ˆä¼ªçš„ä¼ªä»£ç \n\n```csharp\n//è¯¥æœåŠ¡æ¥å£æ˜¯ä»£ç†ç±»å’ŒçœŸå®æœåŠ¡ç±»å¿…é¡»è¦å£°æ˜çš„\npublic interface ServiceInterface\n{\n    void Operation();\n}\n//çœŸå®çš„æœåŠ¡ç±»\npublic class Service : ServiceInterface\n{\n    public void Operation()\n    {\n        Console.WriteLine(\"...\");\n    }\n}\n//ä»£ç†ç±»\npublic class Proxy : ServiceInterface\n{\n    private Service _service;\n\n    public Proxy(Service service)\n    {\n        this._service = service;\n    }\n\n    public void Operation()\n    {\n        if(this.CheckAccess())\n        {\n            this._service.Operation();\n        }\n    }\n\n    public bool CheckAccess()\n    {\n        //ä¸€äº›çœŸå®çš„Checkä»£ç æ®µï¼Œä½†æ˜¯è¿™é‡Œå°±çœç•¥äº†\n        //...\n\n        return true;\n    }\n}\n//å®¢æˆ·ç«¯ä»£ç \nConsole.WriteLine(\"Client: Executing the client code with a real subject:\");\nvar service = new Service();\nservice.Operation();\n\nConsole.WriteLine();\n\nConsole.WriteLine(\"Client: Executing the same client code with a proxy:\");\n\nProxy proxy = new Proxy(service);\nproxy.Operation();\n```\n\n##### é€‚åˆä»£ç†æ¨¡å¼çš„åœ°æ–¹\n\n- å»¶è¿Ÿåˆå§‹åŒ–ï¼ˆè™šæ‹Ÿä»£ç†ï¼‰ã€‚å¦‚æœä½ æœ‰ä¸€ä¸ªå¶å°”ä½¿ç”¨çš„é‡é‡çº§æœåŠ¡å¯¹è±¡ï¼Œä¸€ç›´ä¿æŒè¯¥å¯¹è±¡è¿è¡Œä¼šæ¶ˆè€—ç³»ç»Ÿèµ„æºæ—¶ï¼Œå¯ä½¿ç”¨ä»£ç†æ¨¡å¼ã€‚\n- è®¿é—®æ§åˆ¶ï¼ˆä¿æŠ¤ä»£ç†ï¼‰ã€‚å¦‚æœä½ åªå¸Œæœ›ç‰¹å®šå®¢æˆ·ç«¯ä½¿ç”¨æœåŠ¡å¯¹è±¡ï¼Œè¿™é‡Œçš„å¯¹è±¡å¯ä»¥æ˜¯æ“ä½œç³»ç»Ÿä¸­éå¸¸é‡è¦çš„éƒ¨åˆ†ï¼Œè€Œå®¢æˆ·ç«¯åˆ™æ˜¯å„ç§å·²å¯åŠ¨çš„ç¨‹åºï¼ˆåŒ…æ‹¬æ¶æ„ç¨‹åºï¼‰ï¼Œæ­¤æ—¶å¯ä½¿ç”¨ä»£ç†æ¨¡å¼ã€‚\n- æœ¬åœ°æ‰§è¡Œè¿œç¨‹æœåŠ¡ï¼ˆè¿œç¨‹ä»£ç†ï¼‰ã€‚é€‚ç”¨äºæœåŠ¡å¯¹è±¡ä½äºè¿œç¨‹æœåŠ¡å™¨ä¸Šçš„æƒ…å½¢ã€‚\n- è®°å½•æ—¥å¿—è¯·æ±‚ï¼ˆæ—¥å¿—è®°å½•ä»£ç†ï¼‰ã€‚é€‚ç”¨äºå½“ä½ éœ€è¦ä¿å­˜å¯¹äºæœåŠ¡å¯¹è±¡çš„è¯·æ±‚å†å²è®°å½•æ—¶ã€‚\n- ç¼“å­˜è¯·æ±‚ç»“æœï¼ˆç¼“å­˜ä»£ç†ï¼‰ã€‚é€‚ç”¨äºéœ€è¦ç¼“å­˜å®¢æˆ·è¯·æ±‚ç»“æœå¹¶å¯¹ç¼“å­˜ç”Ÿå‘½å‘¨æœŸè¿›è¡Œç®¡ç†æ—¶ï¼Œç‰¹åˆ«æ˜¯å½“è¿”å›ç»“æœçš„ä½“ç§¯éå¸¸å¤§æ—¶ã€‚\n- æ™ºèƒ½å¼•ç”¨ã€‚å¯åœ¨æ²¡æœ‰å®¢æˆ·ç«¯ä½¿ç”¨æŸä¸ªé‡é‡çº§å¯¹è±¡æ—¶ç«‹å³é”€æ¯è¯¥å¯¹è±¡ã€‚\n\n##### ä»£ç æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\n\n**ä¼˜ç‚¹** ï¼š\n\n- ä½ å¯ä»¥åœ¨å®¢æˆ·ç«¯æ¯«æ— å¯Ÿè§‰çš„æƒ…å†µä¸‹æ§åˆ¶æœåŠ¡å¯¹è±¡ã€‚\n- å¦‚æœå®¢æˆ·ç«¯å¯¹æœåŠ¡å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸæ²¡æœ‰ç‰¹æ®Šè¦æ±‚ï¼Œä½ å¯ä»¥å¯¹ç”Ÿå‘½å‘¨æœŸè¿›è¡Œç®¡ç†ã€‚\n- å³ä½¿æœåŠ¡å¯¹è±¡è¿˜æœªå‡†å¤‡å¥½æˆ–ä¸å­˜åœ¨ï¼Œä»£ç†ä¹Ÿå¯ä»¥æ­£å¸¸å·¥ä½œã€‚\n- ç¬¦åˆOCP\n\n**ç¼ºç‚¹** :\n\n- ä»£ç å¯èƒ½ä¼šå˜å¾—å¤æ‚ï¼Œå› ä¸ºéœ€è¦æ–°å»ºè®¸å¤šç±»ã€‚\n- æœåŠ¡å“åº”å¯èƒ½ä¼šå»¶è¿Ÿã€‚\n\n### è¡Œä¸ºæ¨¡å¼(Behavioral Patterns)\n\n#### Chain of Responsibility(è´£ä»»é“¾æ¨¡å¼)\n\nè´£ä»»é“¾æ¨¡å¼æ˜¯ä¸€ç§è¡Œä¸ºè®¾è®¡æ¨¡å¼ï¼Œå…è®¸ä½ å°†è¯·æ±‚æ²¿ç€å¤„ç†è€…é“¾è¿›è¡Œå‘é€ã€‚æ”¶åˆ°è¯·æ±‚åï¼Œæ¯ä¸ªå¤„ç†è€…å‡å¯å¯¹è¯·æ±‚è¿›è¡Œå¤„ç†ï¼Œæˆ–å°†å…¶ä¼ é€’ç»™é“¾ä¸Šçš„ä¸‹ä¸ªå¤„ç†è€…ã€‚\n\n##### é—®é¢˜\n\nå‡å¦‚ä½ æ­£åœ¨å¼€å‘ä¸€ä¸ªåœ¨çº¿è®¢è´­ç³»ç»Ÿã€‚ä½ å¸Œæœ›å¯¹ç³»ç»Ÿè®¿é—®è¿›è¡Œé™åˆ¶ï¼Œåªå…è®¸è®¤è¯ç”¨æˆ·åˆ›å»ºè®¢å•ã€‚æ­¤å¤–ï¼Œæ‹¥æœ‰ç®¡ç†æƒé™çš„ç”¨æˆ·ä¹Ÿæ‹¥æœ‰æ‰€æœ‰è®¢å•çš„å®Œå…¨è®¿é—®æƒé™ã€‚ç®€å•è§„åˆ’åï¼Œä½ ä¼šæ„è¯†åˆ°è¿™äº›æ£€æŸ¥å¿…é¡»ä¾æ¬¡è¿›è¡Œã€‚åªè¦æ¥æ”¶åˆ°åŒ…å«ç”¨æˆ·å‡­æ®çš„è¯·æ±‚ï¼Œåº”ç”¨ç¨‹åºå°±å¯å°è¯•å¯¹è¿›å…¥ç³»ç»Ÿçš„ç”¨æˆ·è¿›è¡Œè®¤è¯ã€‚ä½†å¦‚æœç”±äºç”¨æˆ·å‡­æ®ä¸æ­£ç¡®è€Œå¯¼è‡´è®¤è¯å¤±è´¥ï¼Œé‚£å°±æ²¡æœ‰å¿…è¦è¿›è¡Œåç»­æ£€æŸ¥äº†ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220824130805.png)\n\nåœ¨æ¥ä¸‹æ¥çš„å‡ ä¸ªæœˆé‡Œï¼Œä½ å®ç°äº†åç»­çš„å‡ ä¸ªæ£€æŸ¥æ­¥éª¤ã€‚\n\n- ä¸€ä½åŒäº‹è®¤ä¸ºç›´æ¥å°†åŸå§‹æ•°æ®ä¼ é€’ç»™è®¢è´­ç³»ç»Ÿå­˜åœ¨å®‰å…¨éšæ‚£ã€‚å› æ­¤ä½ æ–°å¢äº†é¢å¤–çš„éªŒè¯æ­¥éª¤æ¥æ¸…ç†è¯·æ±‚ä¸­çš„æ•°æ®ã€‚\n- è¿‡äº†ä¸€æ®µæ—¶é—´ï¼Œæœ‰äººæ³¨æ„åˆ°ç³»ç»Ÿæ— æ³•æŠµå¾¡æš´åŠ›å¯†ç ç ´è§£æ–¹å¼çš„æ”»å‡»ã€‚ä¸ºäº†é˜²èŒƒè¿™ç§æƒ…å†µä½ ç«‹åˆ»æ·»åŠ äº†ä¸€ä¸ªæ£€æŸ¥æ­¥éª¤æ¥è¿‡æ»¤æ¥è‡ªåŒä¸€IPåœ°å€çš„é‡å¤é”™è¯¯è¯·æ±‚ã€‚\n- åˆæœ‰äººæè®®ä½ å¯ä»¥å¯¹åŒ…å«åŒæ ·æ•°æ®çš„é‡å¤è¯·æ±‚è¿”å›ç¼“å­˜ä¸­çš„ç»“æœï¼Œä»è€Œæé«˜ç³»ç»Ÿå“åº”é€Ÿåº¦ã€‚å› æ­¤ï¼Œä½ æ–°å¢äº†ä¸€ä¸ªæ£€æŸ¥æ­¥éª¤ï¼Œç¡®ä¿åªæœ‰æ²¡æœ‰æ»¡è¶³æ¡ä»¶çš„ç¼“å­˜ç»“æœæ—¶è¯·æ±‚æ‰èƒ½é€šè¿‡å¹¶è¢«å‘é€ç»™ç³»ç»Ÿã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220824130901.png)\n\n##### è§£å†³æ–¹æ¡ˆ\n\nä¸è®¸å¤šå…¶ä»–è¡Œä¸ºè®¾è®¡æ¨¡å¼ä¸€æ ·ï¼Œè´£ä»»é“¾ä¼šå°†ç‰¹å®šè¡Œä¸ºè½¬æ¢ä¸ºè¢«ç§°ä½œ**å¤„ç†è€…çš„ç‹¬ç«‹å¯¹è±¡**ã€‚åœ¨ä¸Šè¿°ç¤ºä¾‹ä¸­ï¼Œæ¯ä¸ªæ£€æŸ¥æ­¥éª¤éƒ½å¯è¢«æŠ½å–ä¸ºä»…æœ‰å•ä¸ªæ–¹æ³•çš„ç±»ï¼Œå¹¶æ‰§è¡Œæ£€æŸ¥æ“ä½œã€‚è¯·æ±‚åŠå…¶æ•°æ®åˆ™ä¼šè¢«ä½œä¸ºå‚æ•°ä¼ é€’ç»™è¯¥æ–¹æ³•ã€‚\næ¨¡å¼å»ºè®®ä½ **å°†è¿™äº›å¤„ç†è€…è¿æˆä¸€æ¡é“¾**ã€‚é“¾ä¸Šçš„æ¯ä¸ªå¤„ç†è€…éƒ½æœ‰ä¸€ä¸ªæˆå‘˜å˜é‡æ¥ä¿å­˜å¯¹äºä¸‹ä¸€å¤„ç†è€…çš„å¼•ç”¨ã€‚é™¤äº†å¤„ç†è¯·æ±‚å¤–ï¼Œå¤„ç†è€…è¿˜è´Ÿè´£æ²¿ç€é“¾ä¼ é€’è¯·æ±‚ã€‚è¯·æ±‚ä¼šåœ¨é“¾ä¸Šç§»åŠ¨ï¼Œç›´è‡³æ‰€æœ‰å¤„ç†è€…éƒ½æœ‰æœºä¼šå¯¹å…¶è¿›è¡Œå¤„ç†ã€‚æœ€é‡è¦çš„æ˜¯ï¼š**å¤„ç†è€…å¯ä»¥å†³å®šä¸å†æ²¿ç€é“¾ä¼ é€’è¯·æ±‚ï¼Œè¿™å¯é«˜æ•ˆåœ°å–æ¶ˆæ‰€æœ‰åç»­å¤„ç†æ­¥éª¤**ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220824131142.png)\n\nä¸è¿‡è¿˜æœ‰ä¸€ç§ç¨å¾®ä¸åŒçš„æ–¹å¼ ï¼ˆä¹Ÿæ˜¯æ›´ç»å…¸ä¸€ç§ï¼‰ï¼Œ é‚£å°±æ˜¯**å¤„ç†è€…æ¥æ”¶åˆ°è¯·æ±‚åè‡ªè¡Œå†³å®šæ˜¯å¦èƒ½å¤Ÿå¯¹å…¶è¿›è¡Œå¤„ç†**ã€‚å¦‚æœè‡ªå·±èƒ½å¤Ÿå¤„ç†ï¼Œå¤„ç†è€…å°±ä¸å†ç»§ç»­ä¼ é€’è¯·æ±‚ã€‚å› æ­¤åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ¯ä¸ªè¯·æ±‚è¦ä¹ˆæœ€å¤šæœ‰ä¸€ä¸ªå¤„ç†è€…å¯¹å…¶è¿›è¡Œå¤„ç†ï¼Œè¦ä¹ˆæ²¡æœ‰ä»»ä½•å¤„ç†è€…å¯¹å…¶è¿›è¡Œå¤„ç†ã€‚åœ¨å¤„ç†å›¾å½¢ç”¨æˆ·ç•Œé¢å…ƒç´ æ ˆä¸­çš„äº‹ä»¶æ—¶ï¼Œè¿™ç§æ–¹å¼éå¸¸å¸¸è§ã€‚\næ‰€æœ‰**å¤„ç†è€…ç±»å‡å®ç°åŒä¸€æ¥å£**æ˜¯å…³é”®æ‰€åœ¨ã€‚æ¯ä¸ªå…·ä½“å¤„ç†è€…ä»…å…³å¿ƒä¸‹ä¸€ä¸ªåŒ…å«exeÂ­cuteæ‰§è¡Œæ–¹æ³•çš„å¤„ç†è€…ã€‚è¿™æ ·ä¸€æ¥ï¼Œä½ å°±å¯ä»¥åœ¨è¿è¡Œæ—¶ä½¿ç”¨ä¸åŒçš„å¤„ç†è€…æ¥åˆ›å»ºé“¾ï¼Œè€Œæ— éœ€å°†ç›¸å…³ä»£ç ä¸å¤„ç†è€…çš„å…·ä½“ç±»è¿›è¡Œè€¦åˆã€‚\n\n##### è´£ä»»é“¾æ¨¡å¼ç»“æ„\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220824131355.png)\n\n1.**å¤„ç†è€…(HanÂ­dler)** å£°æ˜äº†æ‰€æœ‰å…·ä½“å¤„ç†è€…çš„é€šç”¨æ¥å£ã€‚è¯¥æ¥å£é€šå¸¸ä»…åŒ…å«å•ä¸ªæ–¹æ³•ç”¨äºè¯·æ±‚å¤„ç†ï¼Œ ä½†æœ‰æ—¶å…¶è¿˜ä¼šåŒ…å«ä¸€ä¸ªè®¾ç½®é“¾ä¸Šä¸‹ä¸ªå¤„ç†è€…çš„æ–¹æ³•ã€‚\n\n2.**åŸºç¡€å¤„ç†è€…(Base HanÂ­dler)** æ˜¯ä¸€ä¸ªå¯é€‰çš„ç±»ï¼Œä½ å¯ä»¥å°†æ‰€æœ‰å¤„ç†è€…å…±ç”¨çš„æ ·æœ¬ä»£ç æ”¾ç½®åœ¨å…¶ä¸­ã€‚\né€šå¸¸æƒ…å†µä¸‹ï¼Œè¯¥ç±»ä¸­å®šä¹‰äº†ä¸€ä¸ªä¿å­˜å¯¹äºä¸‹ä¸ªå¤„ç†è€…å¼•ç”¨çš„æˆå‘˜å˜é‡ã€‚å®¢æˆ·ç«¯å¯é€šè¿‡å°†å¤„ç†è€…ä¼ é€’ç»™ä¸Šä¸ªå¤„ç†è€…çš„æ„é€ å‡½æ•°æˆ–è®¾å®šæ–¹æ³•æ¥åˆ›å»ºé“¾ã€‚è¯¥ç±»è¿˜å¯ä»¥å®ç°é»˜è®¤çš„å¤„ç†è¡Œä¸ºï¼šç¡®å®šä¸‹ä¸ªå¤„ç†è€…å­˜åœ¨åå†å°†è¯·æ±‚ä¼ é€’ç»™å®ƒã€‚\n\n3.**å…·ä½“å¤„ç†è€…(ConÂ­crete HanÂ­dlers)** åŒ…å«å¤„ç†è¯·æ±‚çš„å®é™…ä»£ç ã€‚æ¯ä¸ªå¤„ç†è€…æ¥æ”¶åˆ°è¯·æ±‚åï¼Œéƒ½å¿…é¡»å†³å®šæ˜¯å¦è¿›è¡Œå¤„ç†ï¼Œä»¥åŠæ˜¯å¦æ²¿ç€é“¾ä¼ é€’è¯·æ±‚ã€‚\nå¤„ç†è€…é€šå¸¸æ˜¯ç‹¬ç«‹ä¸”ä¸å¯å˜çš„ï¼Œéœ€è¦é€šè¿‡æ„é€ å‡½æ•°ä¸€æ¬¡æ€§åœ°è·å¾—æ‰€æœ‰å¿…è¦åœ°æ•°æ®ã€‚\n\n4.**å®¢æˆ·ç«¯(Client)** å¯æ ¹æ®ç¨‹åºé€»è¾‘ä¸€æ¬¡æ€§æˆ–è€…åŠ¨æ€åœ°ç”Ÿæˆé“¾ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œè¯·æ±‚å¯å‘é€ç»™é“¾ä¸Šçš„ä»»æ„ä¸€ä¸ªå¤„ç†è€…ï¼Œè€Œéå¿…é¡»æ˜¯ç¬¬ä¸€ä¸ªå¤„ç†è€…ã€‚\n\n##### ä¼ªä»£ç \n\nè´£ä»»é“¾åœ¨c#ç¨‹åºä¸­å¹¶ä¸å¸¸è§ï¼Œå› ä¸ºå®ƒä»…åœ¨ä»£ç ä¸å¯¹è±¡é“¾æ‰“äº¤é“æ—¶æ‰èƒ½å‘æŒ¥ä½œç”¨ã€‚ä½†æ˜¯ä¸€æ—¦ç”¨åˆ°è¿™ç§é“¾å¼è¯·æ±‚ï¼Œæ¯”å¦‚æŒ‰é¡ºåºåœ°éªŒè¯ç­”æ¡ˆï¼ŒéªŒè¯ä¿¡æ¯è¿˜æ˜¯æœ‰ç”¨çš„ã€‚\nåœ¨ä¸‹æ®µä»£ç ä¸­ï¼Œæˆ‘ä»¬ä¼šç»™ä¸€æ‰¹é£Ÿç‰©ï¼Œè®©æ¯ä¸ªé£Ÿç‰©åœ¨è´£ä»»é“¾ä¸Šèµ°å®Œï¼Œå¦‚æœæœ‰åŠ¨ç‰©è¦äº†ï¼Œåç»­çš„é“¾å°±ä¼šåœæ­¢ï¼Œå¦‚æœä¼šä¸€ç›´æ²¡æœ‰åŠ¨ç‰©è¦ï¼Œé‚£å°±ä¼šè¿”å› \"{food} was left untouched\"ã€‚é‚£ä¹ˆï¼Œå¦‚æœæ˜¯ä¿¡æ¯éªŒè¯çš„è¯ï¼ŒåŒç†ï¼Œæˆ‘ä»¬è®©ä¸€ä¸ªä¿¡æ¯åœ¨é“¾ä¸Šèµ°ï¼Œå¦‚æœä¸­é—´æœ‰ä¸€æ­¥é”™äº†ï¼Œé©¬ä¸Šåœæ­¢ï¼Œåªæœ‰å…¨éƒ¨ç¬¦åˆï¼Œæ‰ä¼šæŠ¥å‘Šä¿¡æ¯éªŒè¯æˆåŠŸã€‚\n\n```csharp\n//Handler æ¥å£å£°æ˜äº†å»ºç«‹å¤„ç†è€…é“¾çš„çš„æ–¹æ³•ï¼Œä¹Ÿå£°æ˜äº†æ‰§è¡Œè¯·æ±‚çš„æ–¹æ³•\npublic interface IHandler\n{\n    IHandler SetNext(IHandler handler);\n\n    object Handle(object request);\n}\n//åŸºç¡€å¤„ç†è€…ç±»\npublic abstract class AbstractHandler : IHandler\n{\n    private IHandler _nextHandler;\n    \n    public IHandler SetNext(IHandler handler)\n    {\n        this._nextHandler = handler;\n\n        return handler;\n    }\n\n    public virtual object Handle(object request)\n    {\n        if (this._nextHandler != null)\n        {\n            return this._nextHandler.Handle(request);\n        }\n        else\n        {\n            return null;\n        }\n    }\n}\n//å…·ä½“å¤„ç†è€…ç±»\nclass MonkeyHandler : AbstractHandler\n{\n    public override object Handle(object request)\n    {\n        if ((request as string) == \"Banana\")\n        {\n            return $\"Monkey: I'll eat the {request.ToString()}.\\n\";\n        }\n        else\n        {\n            return base.Handle(request);\n        }\n    }\n}\nclass SquirrelHandler : AbstractHandler\n{\n    public override object Handle(object request)\n    {\n        if (request.ToString() == \"Nut\")\n        {\n            return $\"Squirrel: I'll eat the {request.ToString()}.\\n\";\n        }\n        else\n        {\n            return base.Handle(request);\n        }\n    }\n}\nclass DogHandler : AbstractHandler\n{\n    public override object Handle(object request)\n    {\n        if (request.ToString() == \"MeatBall\")\n        {\n            return $\"Dog: I'll eat the {request.ToString()}.\\n\";\n        }\n        else\n        {\n            return base.Handle(request);\n        }\n    }\n}\npublic class Client\n{\n    public static void ClientCode(AbstractHandler handler)\n    {\n        foreach (var food in new List<string> { \"Nut\", \"Banana\", \"Cup of coffee\" })\n        {\n            Console.WriteLine($\"Client: Who wants a {food}?\");\n\n            var result = handler.Handle(food);\n\n            if (result != null)\n            {\n                Console.Write($\"   {result}\");\n            }\n            else\n            {\n                Console.WriteLine($\"   {food} was left untouched.\");\n            }\n        }\n    }\n}\n\n//å®¢æˆ·ç«¯ä»£ç \nvar monkey = new MonkeyHandler();\nvar squirrel = new SquirrelHandler();\nvar dog = new DogHandler();\n\n//è®¾ç½®è´£ä»»é“¾\nmonkey.setNext(squirrel).setNext(dog);\n\nConsole.WriteLine(\"Chain: Monkey > Squirrel > Dog\\n\");\nClient.ClientCode(monkey);\nConsole.WriteLine();\n\nConsole.WriteLine(\"Subchain: Squirrel > Dog\\n\");\nClient.ClientCode(squirrel);\n\n/*è¿è¡Œç»“æœ\nChain: Monkey > Squirrel > Dog\n\nClient: Who wants a Nut?\n   Squirrel: I'll eat the Nut.\nClient: Who wants a Banana?\n   Monkey: I'll eat the Banana.\nClient: Who wants a Cup of coffee?\n   Cup of coffee was left untouched.\n\nSubchain: Squirrel > Dog\n\nClient: Who wants a Nut?\n   Squirrel: I'll eat the Nut.\nClient: Who wants a Banana?\n   Banana was left untouched.\nClient: Who wants a Cup of coffee?\n   Cup of coffee was left untouched.\n*/\n```\n\n##### é€‚åˆè´£ä»»é“¾æ¨¡å¼çš„åœ°æ–¹\n\n- å½“ç¨‹åºéœ€è¦ä½¿ç”¨ä¸åŒæ–¹å¼å¤„ç†ä¸åŒç§ç±»è¯·æ±‚ï¼Œè€Œä¸”è¯·æ±‚ç±»å‹å’Œé¡ºåºé¢„å…ˆæœªçŸ¥æ—¶ï¼Œå¯ä»¥ä½¿ç”¨è´£ä»»é“¾æ¨¡å¼ã€‚\n- å½“å¿…é¡»æŒ‰é¡ºåºæ‰§è¡Œå¤šä¸ªå¤„ç†è€…æ—¶ï¼Œå¯ä»¥ä½¿ç”¨è¯¥æ¨¡å¼ã€‚\n- å¦‚æœæ‰€éœ€å¤„ç†è€…åŠå…¶é¡ºåºå¿…é¡»åœ¨è¿è¡Œæ—¶è¿›è¡Œæ”¹å˜ï¼Œ å¯ä»¥ä½¿ç”¨è´£ä»»é“¾æ¨¡å¼ã€‚\n\n##### è´£ä»»é“¾æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\n\n**ä¼˜ç‚¹** ï¼š\n\n- ä½ å¯ä»¥æ§åˆ¶è¯·æ±‚å¤„ç†çš„é¡ºåºã€‚\n- ç¬¦åˆSRP\n- ç¬¦åˆOCP\n\n**ç¼ºç‚¹** ï¼š\n\n- éƒ¨åˆ†è¯·æ±‚å¯èƒ½æœªè¢«å¤„ç†ã€‚\n\n#### Command(å‘½ä»¤æ¨¡å¼)\n\nå‘½ä»¤æ¨¡å¼æ˜¯ä¸€ç§è¡Œä¸ºè®¾è®¡æ¨¡å¼ï¼Œå®ƒå¯å°†è¯·æ±‚è½¬æ¢ä¸ºä¸€ä¸ªåŒ…å«ä¸è¯·æ±‚ç›¸å…³çš„æ‰€æœ‰ä¿¡æ¯çš„ç‹¬ç«‹å¯¹è±¡ã€‚è¯¥è½¬æ¢è®©ä½ èƒ½æ ¹æ®ä¸åŒçš„è¯·æ±‚å°†æ–¹æ³•å‚æ•°åŒ–ã€å»¶è¿Ÿè¯·æ±‚æ‰§è¡Œæˆ–å°†å…¶æ”¾å…¥é˜Ÿåˆ—ä¸­ï¼Œä¸”èƒ½å®ç°å¯æ’¤é”€æ“ä½œã€‚\n\n##### é—®é¢˜\n\nå‡å¦‚ä½ æ­£åœ¨å¼€å‘ä¸€æ¬¾æ–°çš„æ–‡å­—ç¼–è¾‘å™¨ï¼Œå½“å‰çš„ä»»åŠ¡æ˜¯åˆ›å»ºä¸€ä¸ªåŒ…å«å¤šä¸ªæŒ‰é’®çš„å·¥å…·æ ï¼Œå¹¶è®©æ¯ä¸ªæŒ‰é’®å¯¹åº”ç¼–è¾‘å™¨çš„ä¸åŒæ“ä½œã€‚ä½ åˆ›å»ºäº†ä¸€ä¸ªéå¸¸ç®€æ´çš„æŒ‰é’®ç±»ï¼Œå®ƒä¸ä»…å¯ç”¨äºç”Ÿæˆå·¥å…·æ ä¸Šçš„æŒ‰é’®ï¼Œè¿˜å¯ç”¨äºç”Ÿæˆå„ç§å¯¹è¯æ¡†çš„é€šç”¨æŒ‰é’®ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220824135308.png)\n\nå°½ç®¡æ‰€æœ‰æŒ‰é’®çœ‹ä¸Šå»éƒ½å¾ˆç›¸ä¼¼ï¼Œä½†å®ƒä»¬å¯ä»¥å®Œæˆä¸åŒçš„æ“ä½œï¼ˆæ‰“å¼€ã€ä¿å­˜ã€æ‰“å°å’Œåº”ç”¨ç­‰ï¼‰ã€‚ä½ ä¼šåœ¨å“ªé‡Œæ”¾ç½®è¿™äº›æŒ‰é’®çš„ç‚¹å‡»å¤„ç†ä»£ç å‘¢ï¼Ÿæœ€ç®€å•çš„è§£å†³æ–¹æ¡ˆæ˜¯åœ¨ä½¿ç”¨æŒ‰é’®çš„æ¯ä¸ªåœ°æ–¹éƒ½åˆ›å»ºå¤§é‡çš„å­ç±»ã€‚è¿™äº›å­ç±»ä¸­åŒ…å«æŒ‰é’®ç‚¹å‡»åå¿…é¡»æ‰§è¡Œçš„ä»£ç ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220824135352.png)\n\nä½ å¾ˆå¿«å°±æ„è¯†åˆ°è¿™ç§æ–¹å¼æœ‰ä¸¥é‡ç¼ºé™·ã€‚é¦–å…ˆï¼Œä½ åˆ›å»ºäº†å¤§é‡çš„å­ç±»ï¼Œå½“**æ¯æ¬¡ä¿®æ”¹åŸºç±»æŒ‰é’®æ—¶,ä½ éƒ½æœ‰å¯èƒ½éœ€è¦ä¿®æ”¹æ‰€æœ‰å­ç±»çš„ä»£ç **ã€‚ç®€å•æ¥è¯´ï¼ŒGUIä»£ç ä»¥ä¸€ç§æ‹™åŠ£çš„æ–¹å¼ä¾èµ–äºä¸šåŠ¡é€»è¾‘ä¸­çš„ä¸ç¨³å®šä»£ç ã€‚\n\nè¿˜æœ‰ä¸€ä¸ªéƒ¨åˆ†æœ€éš¾åŠã€‚å¤åˆ¶/ç²˜è´´æ–‡å­—ç­‰æ“ä½œå¯èƒ½ä¼šåœ¨å¤šä¸ªåœ°æ–¹è¢«è°ƒç”¨ã€‚ä¾‹å¦‚ç”¨æˆ·å¯ä»¥ç‚¹å‡»å·¥å…·æ ä¸Šå°å°çš„ â€œå¤åˆ¶â€ æŒ‰é’®ï¼Œæˆ–è€…é€šè¿‡ä¸Šä¸‹æ–‡èœå•å¤åˆ¶ä¸€äº›å†…å®¹ï¼Œåˆæˆ–è€…ç›´æ¥ä½¿ç”¨é”®ç›˜ä¸Šçš„ Ctrl+C ã€‚\n\n##### è§£å†³æ–¹æ¡ˆ\n\nä¼˜ç§€çš„è½¯ä»¶è®¾è®¡é€šå¸¸ä¼šå°†å…³æ³¨ç‚¹è¿›è¡Œåˆ†ç¦»ï¼Œè€Œè¿™å¾€å¾€ä¼šå¯¼è‡´è½¯ä»¶çš„åˆ†å±‚ã€‚æœ€å¸¸è§çš„ä¾‹å­ï¼šä¸€å±‚è´Ÿè´£ç”¨æˆ·å›¾åƒç•Œé¢ï¼›å¦ä¸€å±‚è´Ÿè´£ä¸šåŠ¡é€»è¾‘ã€‚GUI å±‚è´Ÿè´£åœ¨å±å¹•ä¸Šæ¸²æŸ“ç¾è§‚çš„å›¾å½¢ï¼Œæ•è·æ‰€æœ‰è¾“å…¥å¹¶æ˜¾ç¤ºç”¨æˆ·å’Œç¨‹åºå·¥ä½œçš„ç»“æœã€‚å½“éœ€è¦å®Œæˆä¸€äº›é‡è¦å†…å®¹æ—¶ï¼ˆæ¯”å¦‚è®¡ç®—æœˆçƒè½¨é“æˆ–æ’°å†™å¹´åº¦æŠ¥å‘Šï¼‰ï¼ŒGUI å±‚åˆ™ä¼šå°†å·¥ä½œå§”æ´¾ç»™ä¸šåŠ¡é€»è¾‘åº•å±‚ã€‚\nè¿™åœ¨ä»£ç ä¸­çœ‹ä¸Šå»å°±åƒè¿™æ ·ï¼šä¸€ä¸ª GUI å¯¹è±¡ä¼ é€’ä¸€äº›å‚æ•°æ¥è°ƒç”¨ä¸€ä¸ªä¸šåŠ¡é€»è¾‘å¯¹è±¡ã€‚è¿™ä¸ªè¿‡ç¨‹é€šå¸¸è¢«æè¿°ä¸ºä¸€ä¸ªå¯¹è±¡å‘é€è¯·æ±‚ç»™å¦ä¸€ä¸ªå¯¹è±¡ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220824135547.png)\n\nå‘½ä»¤æ¨¡å¼**å»ºè®® GUI å¯¹è±¡ä¸ç›´æ¥æäº¤è¿™äº›è¯·æ±‚**ã€‚ä½ åº”è¯¥å°†**è¯·æ±‚çš„æ‰€æœ‰ç»†èŠ‚** ï¼ˆä¾‹å¦‚è°ƒç”¨çš„å¯¹è±¡ã€ æ–¹æ³•åç§°å’Œå‚æ•°åˆ—è¡¨ï¼‰ **æŠ½å–å‡ºæ¥ç»„æˆå‘½ä»¤ç±»**ï¼Œè¯¥ç±»ä¸­ä»…åŒ…å«ä¸€ä¸ªç”¨äºè§¦å‘è¯·æ±‚çš„æ–¹æ³•ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220824135629.png)\n\nä¸‹ä¸€æ­¥æ˜¯è®©**æ‰€æœ‰å‘½ä»¤å®ç°ç›¸åŒçš„æ¥å£**ã€‚è¯¥æ¥å£é€šå¸¸åªæœ‰ä¸€ä¸ªæ²¡æœ‰ä»»ä½•å‚æ•°çš„æ‰§è¡Œæ–¹æ³•ï¼Œè®©ä½ èƒ½åœ¨ä¸å’Œå…·ä½“å‘½ä»¤ç±»è€¦åˆçš„æƒ…å†µä¸‹ä½¿ç”¨åŒä¸€è¯·æ±‚å‘é€è€…æ‰§è¡Œä¸åŒå‘½ä»¤ã€‚æ­¤å¤–è¿˜æœ‰é¢å¤–çš„å¥½å¤„ï¼Œç°åœ¨ä½ èƒ½åœ¨è¿è¡Œæ—¶åˆ‡æ¢è¿æ¥è‡³å‘é€è€…çš„å‘½ä»¤å¯¹è±¡ï¼Œä»¥æ­¤æ”¹å˜å‘é€è€…çš„è¡Œä¸ºã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220824135705.png)\n\n##### å‘½ä»¤æ¨¡å¼ç»“æ„\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220824135728.png)\n\n1.**å‘é€è€…(Sender)â€”â€”äº¦ç§° â€œè§¦å‘è€…(InvokÂ­er)â€** ç±»è´Ÿè´£å¯¹è¯·æ±‚è¿›è¡Œåˆå§‹åŒ–ï¼Œå…¶ä¸­å¿…é¡»åŒ…å«ä¸€ä¸ªæˆå‘˜å˜é‡æ¥å­˜å‚¨å¯¹äºå‘½ä»¤å¯¹è±¡çš„å¼•ç”¨ã€‚å‘é€è€…è§¦å‘å‘½ä»¤ï¼Œè€Œä¸å‘æ¥æ”¶è€…ç›´æ¥å‘é€è¯·æ±‚ã€‚æ³¨æ„ï¼Œå‘é€è€…å¹¶ä¸è´Ÿè´£åˆ›å»ºå‘½ä»¤å¯¹è±¡ï¼šå®ƒé€šå¸¸ä¼šé€šè¿‡æ„é€ å‡½æ•°ä»å®¢æˆ·ç«¯å¤„è·å¾—é¢„å…ˆç”Ÿæˆçš„å‘½ä»¤ã€‚\n\n2.**å‘½ä»¤(ComÂ­mand)** æ¥å£é€šå¸¸ä»…å£°æ˜ä¸€ä¸ªæ‰§è¡Œå‘½ä»¤çš„æ–¹æ³•ã€‚\n\n3.**å…·ä½“å‘½ä»¤(ConÂ­crete ComÂ­mands)** ä¼šå®ç°å„ç§ç±»å‹çš„è¯·æ±‚ã€‚å…·ä½“å‘½ä»¤è‡ªèº«å¹¶ä¸å®Œæˆå·¥ä½œï¼Œè€Œæ˜¯ä¼šå°†è°ƒç”¨å§”æ´¾ç»™ä¸€ä¸ªä¸šåŠ¡é€»è¾‘å¯¹è±¡ã€‚ä½†ä¸ºäº†ç®€åŒ–ä»£ç ï¼Œè¿™äº›ç±»å¯ä»¥è¿›è¡Œåˆå¹¶ã€‚\næ¥æ”¶å¯¹è±¡æ‰§è¡Œæ–¹æ³•æ‰€éœ€çš„å‚æ•°å¯ä»¥å£°æ˜ä¸ºå…·ä½“å‘½ä»¤çš„æˆå‘˜å˜é‡ã€‚ä½ å¯ä»¥å°†å‘½ä»¤å¯¹è±¡è®¾ä¸ºä¸å¯å˜ï¼Œä»…å…è®¸é€šè¿‡æ„é€ å‡½æ•°å¯¹è¿™äº›æˆå‘˜å˜é‡è¿›è¡Œåˆå§‹åŒ–ã€‚\n\n4.**æ¥æ”¶è€…(ReceivÂ­er)** ç±»åŒ…å«éƒ¨åˆ†ä¸šåŠ¡é€»è¾‘ã€‚å‡ ä¹ä»»ä½•å¯¹è±¡éƒ½å¯ä»¥ä½œä¸ºæ¥æ”¶è€…ã€‚ç»å¤§éƒ¨åˆ†å‘½ä»¤åªå¤„ç†å¦‚ä½•å°†è¯·æ±‚ä¼ é€’åˆ°æ¥æ”¶è€…çš„ç»†èŠ‚ï¼Œæ¥æ”¶è€…è‡ªå·±ä¼šå®Œæˆå®é™…çš„å·¥ä½œã€‚\n\n5.**å®¢æˆ·ç«¯(Client)** ä¼šåˆ›å»ºå¹¶é…ç½®å…·ä½“å‘½ä»¤å¯¹è±¡ã€‚ å®¢æˆ·ç«¯å¿…é¡»å°†åŒ…æ‹¬æ¥æ”¶è€…å®ä½“åœ¨å†…çš„æ‰€æœ‰è¯·æ±‚å‚æ•°ä¼ é€’ç»™å‘½ä»¤çš„æ„é€ å‡½æ•°ã€‚æ­¤åï¼Œç”Ÿæˆçš„å‘½ä»¤å°±å¯ä»¥ä¸ä¸€ä¸ªæˆ–å¤šä¸ªå‘é€è€…ç›¸å…³è”äº†ã€‚\n\n##### ä¼ªä»£ç \n\nå‘½ä»¤æ¨¡å¼ååˆ†å¸¸è§ã€‚å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œå®ƒè¢«ç”¨äºä»£æ›¿åŒ…å«è¡Œä¸ºçš„å‚æ•°åŒ– UI å…ƒç´ çš„å›è°ƒå‡½æ•°ï¼Œæ­¤å¤–è¿˜è¢«ç”¨äºå¯¹ä»»åŠ¡è¿›è¡Œæ’åºå’Œè®°å½•æ“ä½œå†å²è®°å½•ç­‰ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220824141646.png)\n\n```csharp\n//å‘½ä»¤åŸºç±»\npublic abstract class Command\n{\n    protected Application app;\n    protected Editor editor;\n    protected text backup;\n\n    public Command(Application app,editor Editor)\n    {\n        this.app = app;\n        this.editor = editor;\n    }\n\n    //å¤‡ä»½ç¼–è¾‘å™¨çŠ¶æ€\n    public void saveBackup()\n    {\n        backup = editor.text;\n    }\n\n    //æ¢å¤ç¼–è¾‘å™¨çŠ¶æ€\n    public void undo()\n    {\n        editor.text = backup;\n    }\n\n    // æ‰§è¡Œæ–¹æ³•è¢«å£°æ˜ä¸ºæŠ½è±¡ä»¥å¼ºåˆ¶æ‰€æœ‰å…·ä½“å‘½ä»¤æä¾›è‡ªå·±çš„å®ç°ã€‚è¯¥æ–¹æ³•å¿…é¡»æ ¹\n    // æ®å‘½ä»¤æ˜¯å¦æ›´æ”¹ç¼–è¾‘å™¨çš„çŠ¶æ€è¿”å› true æˆ– falseã€‚\n    public abstract bool execute();\n}\n//å…·ä½“å‘½ä»¤\npublic class CopyCommand : Command\n{\n    // å¤åˆ¶å‘½ä»¤ä¸ä¼šè¢«ä¿å­˜åˆ°å†å²è®°å½•ä¸­ï¼Œå› ä¸ºå®ƒæ²¡æœ‰æ”¹å˜ç¼–è¾‘å™¨çš„çŠ¶æ€ã€‚\n    public override bool execute()\n    {\n        app.clipboard = editor.getSelection();\n        return false;\n    }\n}\npublic class CutCommand : Command\n{\n    // å‰ªåˆ‡å‘½ä»¤æ”¹å˜äº†ç¼–è¾‘å™¨çš„çŠ¶æ€ï¼Œå› æ­¤å®ƒå¿…é¡»è¢«ä¿å­˜åˆ°å†å²è®°å½•ä¸­ã€‚åªè¦æ–¹æ³•\n    // è¿”å› trueï¼Œå®ƒå°±ä¼šè¢«ä¿å­˜ã€‚\n    public override bool execute()\n    {\n        saveBackup();\n        app.clipboard = editor.getSelection();\n        editor.deleteSelection();\n        return true;\n    }\n}\npublic class CutCommand : Command\n{\n    //ç²˜è´´å‘½ä»¤æ”¹å˜äº†ç¼–è¾‘å™¨çš„çŠ¶æ€\n    // è¿”å› trueï¼Œå®ƒå°±ä¼šè¢«ä¿å­˜ã€‚\n    public override bool execute()\n    {\n        saveBackup();\n        editor.replaceSelection(app.clipboard);\n        return true;\n    }\n}\npublic class UndoCommand : Command\n{\n    public override bool execute()\n    {\n        app.undo();\n        return false;\n    }\n}\n//å…¨å±€å‘½ä»¤å†å²è®°å½•å°±æ˜¯ä¸€ä¸ªå †æ ˆ\npublic class CommandHistory\n{\n    private Command[] history;\n\n    public void push(Command c)\n    {\n        // å°†å‘½ä»¤å‹å…¥å†å²è®°å½•æ•°ç»„çš„æœ«å°¾ã€‚\n    }\n    public Command pop(Command c)\n    {\n        // ä»å†å²è®°å½•ä¸­å–å‡ºæœ€è¿‘çš„å‘½ä»¤ã€‚\n    }\n}\n// ç¼–è¾‘å™¨ç±»åŒ…å«å®é™…çš„æ–‡æœ¬ç¼–è¾‘æ“ä½œã€‚å®ƒä¼šæ‹…ä»»æ¥æ”¶è€…çš„è§’è‰²ï¼šæœ€åæ‰€æœ‰å‘½ä»¤éƒ½ä¼š\n// å°†æ‰§è¡Œå·¥ä½œå§”æ´¾ç»™ç¼–è¾‘å™¨çš„æ–¹æ³•ã€‚\npublic class Editor\n{\n    public string text;\n\n    public string getSlection()\n    {\n        // è¿”å›é€‰ä¸­çš„æ–‡å­—ã€‚\n    }\n\n    public void deleteSelction()\n    {\n        // åˆ é™¤é€‰ä¸­çš„æ–‡å­—ã€‚\n    }\n\n    public void replaceSelection(string text)\n    {\n        // åœ¨å½“å‰ä½ç½®æ’å…¥å‰ªè´´æ¿ä¸­çš„å†…å®¹ã€‚\n    }\n}\n// åº”ç”¨ç¨‹åºç±»ä¼šè®¾ç½®å¯¹è±¡ä¹‹é—´çš„å…³ç³»ã€‚å®ƒä¼šæ‹…ä»»å‘é€è€…çš„è§’è‰²ï¼šå½“éœ€è¦å®ŒæˆæŸäº›å·¥\n// ä½œæ—¶ï¼Œå®ƒä¼šåˆ›å»ºå¹¶æ‰§è¡Œä¸€ä¸ªå‘½ä»¤å¯¹è±¡ã€‚\npublic class Application\n{\n    public string clipboard;\n    public Editors[] editors;\n    public Editor activeEditor;\n    public CommandHistory histroy;\n\n    //åˆ†å‘UIçš„å‘½ä»¤\n    public void createUI() \n    {\n        //å¤åˆ¶æ“ä½œ\n        copy = function() { executeCommand(\n            new CopyCommand(this, activeEditor)) };\n        copyButton.setCommand(copy);\n        shortcuts.onKeyPress(\"Ctrl+C\", copy);\n\n        //å‰ªåˆ‡æ“ä½œ\n        cut = function() { executeCommand(\n            new CutCommand(this, activeEditor)) };\n        cutButton.setCommand(cut);\n        shortcuts.onKeyPress(\"Ctrl+X\", cut);\n\n        //ç²˜è´´æ“ä½œ\n        paste = function() { executeCommand(\n            new PasteCommand(this, activeEditor)) };\n        pasteButton.setCommand(paste);\n        shortcuts.onKeyPress(\"Ctrl+V\", paste);\n\n        //æ’¤é”€æ“ä½œ\n        undo = function() { executeCommand(\n            new UndoCommand(this, activeEditor)) };\n        undoButton.setCommand(undo);\n        shortcuts.onKeyPress(\"Ctrl+Z\", undo);\n    } \n\n    // æ‰§è¡Œä¸€ä¸ªå‘½ä»¤å¹¶æ£€æŸ¥å®ƒæ˜¯å¦éœ€è¦è¢«æ·»åŠ åˆ°å†å²è®°å½•ä¸­ã€‚\n    public void executeCommand(Command command)\n    {\n        if(command.execute)\n        {\n            history.push(command);\n        }\n    }\n\n    // ä»å†å²è®°å½•ä¸­å–å‡ºæœ€è¿‘çš„å‘½ä»¤å¹¶è¿è¡Œå…¶ undoï¼ˆæ’¤é”€ï¼‰æ–¹æ³•ã€‚è¯·æ³¨æ„ï¼Œä½ å¹¶\n    // ä¸çŸ¥æ™“è¯¥å‘½ä»¤æ‰€å±çš„ç±»ã€‚ä½†æ˜¯æˆ‘ä»¬ä¸éœ€è¦çŸ¥æ™“ï¼Œå› ä¸ºå‘½ä»¤è‡ªå·±çŸ¥é“å¦‚ä½•æ’¤é”€\n    // å…¶åŠ¨ä½œã€‚\n    public void undo()\n    {\n        Command command = history.pop();\n        if(command != null) \n        {\n            command.undo();\n        }\n    }\n}\n```\n\n##### é€‚åˆå‘½ä»¤æ¨¡å¼çš„åœ°æ–¹\n\n- å¦‚æœä½ éœ€è¦é€šè¿‡æ“ä½œæ¥å‚æ•°åŒ–å¯¹è±¡ï¼Œå¯ä½¿ç”¨å‘½ä»¤æ¨¡å¼ã€‚\n- å¦‚æœä½ æƒ³è¦å°†æ“ä½œæ”¾å…¥é˜Ÿåˆ—ä¸­ã€æ“ä½œçš„æ‰§è¡Œæˆ–è€…è¿œç¨‹æ‰§è¡Œæ“ä½œï¼Œå¯ä½¿ç”¨å‘½ä»¤æ¨¡å¼ã€‚\n- å¦‚æœä½ æƒ³è¦å®ç°æ“ä½œå›æ»šåŠŸèƒ½ï¼Œå¯ä½¿ç”¨å‘½ä»¤æ¨¡å¼ã€‚ä¸ºäº†èƒ½å¤Ÿå›æ»šæ“ä½œï¼Œä½ éœ€è¦å®ç°å·²æ‰§è¡Œæ“ä½œçš„å†å²è®°å½•åŠŸèƒ½ã€‚å‘½ä»¤å†å²è®°å½•æ˜¯ä¸€ç§åŒ…å«æ‰€æœ‰å·²æ‰§è¡Œå‘½ä»¤å¯¹è±¡åŠå…¶ç›¸å…³ç¨‹åºçŠ¶æ€å¤‡ä»½çš„æ ˆç»“æ„ã€‚è¿™ç§æ–¹æ³•æœ‰ä¸¤ä¸ªç¼ºç‚¹ã€‚é¦–å…ˆï¼Œç¨‹åºçŠ¶æ€çš„ä¿å­˜åŠŸèƒ½å¹¶ä¸å®¹æ˜“å®ç°ï¼Œå› ä¸ºéƒ¨åˆ†çŠ¶æ€å¯èƒ½æ˜¯ç§æœ‰çš„ã€‚ä½ å¯ä»¥ä½¿ç”¨**å¤‡å¿˜å½•æ¨¡å¼**æ¥åœ¨ä¸€å®šç¨‹åº¦ä¸Šè§£å†³è¿™ä¸ªé—®é¢˜ã€‚å…¶æ¬¡ï¼Œå¤‡ä»½çŠ¶æ€å¯èƒ½ä¼šå ç”¨å¤§é‡å†…å­˜ã€‚å› æ­¤ï¼Œæœ‰æ—¶ä½ éœ€è¦å€ŸåŠ©å¦ä¸€ç§å®ç°æ–¹å¼ï¼šå‘½ä»¤æ— éœ€æ¢å¤åŸå§‹çŠ¶æ€ï¼Œè€Œæ˜¯æ‰§è¡Œåå‘æ“ä½œã€‚åå‘æ“ä½œä¹Ÿæœ‰ä»£ä»·ï¼šå®ƒå¯èƒ½ä¼šå¾ˆéš¾ç”šè‡³æ˜¯æ— æ³•å®ç°ã€‚\n\n##### å‘½ä»¤æ¨¡å¼çš„ä¼˜ç¼ºç‚¹ \n\n**ä¼˜ç‚¹** :\n\n- ç¬¦åˆSRP\n- ç¬¦åˆOCP\n- ä½ å¯ä»¥å®ç°æ’¤é”€å’Œæ¢å¤åŠŸèƒ½ã€‚\n- ä½ å¯ä»¥å®ç°æ“ä½œçš„å»¶è¿Ÿæ‰§è¡Œã€‚\n- ä½ å¯ä»¥å°†ä¸€ç»„ç®€å•å‘½ä»¤ç»„åˆæˆä¸€ä¸ªå¤æ‚å‘½ä»¤ã€‚\n\n**ç¼ºç‚¹** :\n\n- ä»£ç å¯èƒ½ä¼šå˜å¾—æ›´åŠ å¤æ‚ï¼Œå› ä¸ºä½ åœ¨å‘é€è€…å’Œæ¥æ”¶è€…ä¹‹é—´å¢åŠ äº†ä¸€ä¸ªå…¨æ–°çš„å±‚æ¬¡ã€‚\n\n#### Iterator(è¿­ä»£å™¨æ¨¡å¼)\n\nè¿­ä»£å™¨æ¨¡å¼æ˜¯ä¸€ç§è¡Œä¸ºè®¾è®¡æ¨¡å¼ï¼Œè®©ä½ èƒ½åœ¨ä¸æš´éœ²é›†åˆåº•å±‚è¡¨ç°å½¢å¼ï¼ˆåˆ—è¡¨ã€ æ ˆå’Œæ ‘ç­‰ï¼‰çš„æƒ…å†µä¸‹éå†é›†åˆä¸­æ‰€æœ‰çš„å…ƒç´ ã€‚\n\n##### é—®é¢˜\n\nå¦‚æœä½ çš„é›†åˆåŸºäºåˆ—è¡¨ï¼Œé‚£ä¹ˆè¿™é¡¹å·¥ä½œå¬ä¸Šå»ä»¿ä½›å¾ˆç®€å•ã€‚ä½†å¦‚ä½•éå†å¤æ‚æ•°æ®ç»“æ„ï¼ˆä¾‹å¦‚æ ‘ï¼‰ä¸­çš„å…ƒç´ å‘¢ï¼Ÿä¾‹å¦‚ï¼Œä»Šå¤©ä½ éœ€è¦ä½¿ç”¨æ·±åº¦ä¼˜å…ˆç®—æ³•æ¥éå†æ ‘ç»“æ„ï¼Œæ˜å¤©å¯èƒ½ä¼šéœ€è¦å¹¿åº¦ä¼˜å…ˆç®—æ³•ï¼›ä¸‹å‘¨åˆ™å¯èƒ½ä¼šéœ€è¦å…¶ä»–æ–¹å¼ ï¼ˆæ¯”å¦‚éšæœºå­˜å–æ ‘ä¸­çš„å…ƒç´ ï¼‰ã€‚ä¸æ–­å‘é›†åˆä¸­æ·»åŠ éå†ç®—æ³•ä¼šæ¨¡ç³Šå…¶ â€œé«˜æ•ˆå­˜å‚¨æ•°æ®â€ çš„ä¸»è¦èŒè´£ã€‚æ­¤å¤–ï¼Œ æœ‰äº›ç®—æ³•å¯èƒ½æ˜¯æ ¹æ®ç‰¹å®šåº”ç”¨è®¢åˆ¶çš„ï¼Œå°†å…¶åŠ å…¥æ³›å‹é›†åˆç±»ä¸­ä¼šæ˜¾å¾—éå¸¸å¥‡æ€ªã€‚\nå¦ä¸€æ–¹é¢ï¼Œä½¿ç”¨å¤šç§é›†åˆçš„å®¢æˆ·ç«¯ä»£ç å¯èƒ½å¹¶ä¸å…³å¿ƒå­˜å‚¨æ•°æ®çš„æ–¹å¼ã€‚ä¸è¿‡ç”±äºé›†åˆæä¾›ä¸åŒçš„å…ƒç´ è®¿é—®æ–¹å¼ï¼Œä½ çš„ä»£ç å°†ä¸å¾—ä¸ä¸ç‰¹å®šé›†åˆç±»è¿›è¡Œè€¦åˆã€‚\n\n##### è§£å†³æ–¹æ¡ˆ\n\nè¿­ä»£å™¨æ¨¡å¼çš„ä¸»è¦æ€æƒ³æ˜¯å°†**é›†åˆçš„éå†è¡Œä¸ºæŠ½å–ä¸ºå•ç‹¬çš„è¿­ä»£å™¨å¯¹è±¡**ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220824153321.png)\n\né™¤å®ç°è‡ªèº«ç®—æ³•å¤–ï¼Œè¿­ä»£å™¨è¿˜å°è£…äº†éå†æ“ä½œçš„æ‰€æœ‰ç»†èŠ‚ï¼Œä¾‹å¦‚å½“å‰ä½ç½®å’Œæœ«å°¾å‰©ä½™å…ƒç´ çš„æ•°é‡ã€‚å› æ­¤ï¼Œå¤šä¸ªè¿­ä»£å™¨å¯ä»¥åœ¨ç›¸äº’ç‹¬ç«‹çš„æƒ…å†µä¸‹åŒæ—¶è®¿é—®é›†åˆã€‚\nè¿­ä»£å™¨é€šå¸¸ä¼šæä¾›ä¸€ä¸ªè·å–é›†åˆå…ƒç´ çš„åŸºæœ¬æ–¹æ³•ã€‚å®¢æˆ·ç«¯å¯ä¸æ–­è°ƒç”¨è¯¥æ–¹æ³•ç›´è‡³å®ƒä¸è¿”å›ä»»ä½•å†…å®¹ï¼Œè¿™æ„å‘³ç€è¿­ä»£å™¨å·²ç»éå†äº†æ‰€æœ‰å…ƒç´ ã€‚\næ‰€æœ‰è¿­ä»£å™¨å¿…é¡»å®ç°ç›¸åŒçš„æ¥å£ã€‚è¿™æ ·ä¸€æ¥ï¼Œåªè¦æœ‰åˆé€‚çš„è¿­ä»£å™¨ï¼Œå®¢æˆ·ç«¯ä»£ç å°±èƒ½å…¼å®¹ä»»ä½•ç±»å‹çš„é›†åˆæˆ–éå†ç®—æ³•ã€‚å¦‚æœä½ éœ€è¦é‡‡ç”¨ç‰¹æ®Šæ–¹å¼æ¥éå†é›†åˆï¼Œåªéœ€åˆ›å»ºä¸€ä¸ªæ–°çš„è¿­ä»£å™¨ç±»å³å¯ï¼Œæ— éœ€å¯¹é›†åˆæˆ–å®¢æˆ·ç«¯è¿›è¡Œä¿®æ”¹ã€‚\n\n##### è¿­ä»£å™¨æ¨¡å¼ç»“æ„\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220824153429.png)\n\n1.**è¿­ä»£å™¨(IterÂ­aÂ­tor)** æ¥å£å£°æ˜äº†éå†é›†åˆæ‰€éœ€çš„æ“ä½œï¼šè·å–ä¸‹ä¸€ä¸ªå…ƒç´ ã€è·å–å½“å‰ä½ç½®å’Œé‡æ–°å¼€å§‹è¿­ä»£ç­‰ã€‚\n\n2.**å…·ä½“è¿­ä»£å™¨(ConÂ­crete IterÂ­aÂ­tors)** å®ç°éå†é›†åˆçš„ä¸€ç§ç‰¹å®šç®—æ³•ã€‚è¿­ä»£å™¨å¯¹è±¡å¿…é¡»è·Ÿè¸ªè‡ªèº«éå†çš„è¿›åº¦ã€‚è¿™ä½¿å¾—å¤šä¸ªè¿­ä»£å™¨å¯ä»¥ç›¸äº’ç‹¬ç«‹åœ°éå†åŒä¸€é›†åˆã€‚\n\n3.**é›†åˆ(ColÂ­lecÂ­tion)** æ¥å£å£°æ˜ä¸€ä¸ªæˆ–å¤šä¸ªæ–¹æ³•æ¥è·å–ä¸é›†åˆå…¼å®¹çš„è¿­ä»£å™¨ã€‚è¯·æ³¨æ„ï¼Œè¿”å›æ–¹æ³•çš„ç±»å‹å¿…é¡»è¢«å£°æ˜ä¸ºè¿­ä»£å™¨æ¥å£ï¼Œå› æ­¤å…·ä½“é›†åˆå¯ä»¥è¿”å›å„ç§ä¸åŒç§ç±»çš„è¿­ä»£å™¨ã€‚\n\n4.**å…·ä½“é›†åˆ(ConÂ­crete ColÂ­lecÂ­tions)** ä¼šåœ¨å®¢æˆ·ç«¯è¯·æ±‚è¿­ä»£å™¨æ—¶è¿”å›ä¸€ä¸ªç‰¹å®šçš„å…·ä½“è¿­ä»£å™¨ç±»å®ä½“ã€‚ä½ å¯èƒ½ä¼šç¢ç£¨ï¼Œå‰©ä¸‹çš„é›†åˆä»£ç åœ¨ä»€ä¹ˆåœ°æ–¹å‘¢ï¼Ÿä¸ç”¨æ‹…å¿ƒï¼Œå®ƒä¹Ÿä¼šåœ¨åŒä¸€ä¸ªç±»ä¸­ã€‚åªæ˜¯è¿™äº›ç»†èŠ‚å¯¹äºå®é™…æ¨¡å¼æ¥è¯´å¹¶ä¸é‡è¦ï¼Œæ‰€ä»¥æˆ‘ä»¬å°†å…¶çœç•¥äº†è€Œå·²ã€‚\n\n5.**å®¢æˆ·ç«¯(Client)** é€šè¿‡é›†åˆå’Œè¿­ä»£å™¨çš„æ¥å£ä¸ä¸¤è€…è¿›è¡Œäº¤äº’ã€‚è¿™æ ·ä¸€æ¥å®¢æˆ·ç«¯æ— éœ€ä¸å…·ä½“ç±»è¿›è¡Œè€¦åˆï¼Œå…è®¸åŒä¸€å®¢æˆ·ç«¯ä»£ç ä½¿ç”¨å„ç§ä¸åŒçš„é›†åˆå’Œè¿­ä»£å™¨ã€‚\nå®¢æˆ·ç«¯é€šå¸¸ä¸ä¼šè‡ªè¡Œåˆ›å»ºè¿­ä»£å™¨ï¼Œè€Œæ˜¯ä¼šä»é›†åˆä¸­è·å–ã€‚ä½†åœ¨ç‰¹å®šæƒ…å†µä¸‹ï¼Œå®¢æˆ·ç«¯å¯ä»¥ç›´æ¥åˆ›å»ºä¸€ä¸ªè¿­ä»£å™¨ï¼ˆä¾‹å¦‚å½“å®¢æˆ·ç«¯éœ€è¦è‡ªå®šä¹‰ç‰¹æ®Šè¿­ä»£å™¨æ—¶ï¼‰ã€‚\n\n##### ä¼ªä»£ç \n\nè¿­ä»£å™¨æ¨¡å¼åœ¨c#ä¸­ååˆ†å¸¸è§ï¼ŒåŸºäºIEnumeratorå’ŒIEnumerableçš„ä½¿ç”¨ï¼Œç„¶ååœ¨foreachä¸­å°±èƒ½å¾ˆæ–¹ä¾¿åœ°å®ç°ã€‚å‰è€…æ˜¯è®¡æ•°å™¨ï¼Œåè€…æ˜¯å¯è®¡æ•°çš„ï¼Œä¹Ÿå°±ç›¸å½“äºè¿­ä»£å™¨æ¨¡å¼é‡Œçš„è¿­ä»£å™¨å’Œé›†åˆ\n\n```csharp\n//è¿­ä»£å™¨åŸºç±»ï¼Œå®ç°IEnumeratoræ¥å£\nabstract class Iterator : IEnumerator\n{\n    object IEnumerator.Current => Current();\n\n    // è¿”å›å½“å‰å…ƒç´ çš„é”®\n    public abstract int Key();    \n    // è¿”å›å½“å‰å…ƒç´ \n    public abstract object Current();    \n    // ç§»åŠ¨åˆ°ä¸‹ä¸€ä½å…ƒç´ \n    public abstract bool MoveNext();    \n    // é‡ç½®å½“å‰æŒ‡çš„ä½ç½®åˆ°åˆå§‹ä½ç½®\n    public abstract void Reset();\n}\n//é›†åˆåŸºç±»\nabstract class IteratorAggregate : Ienumerable\n{\n    //è¿”å›é›†åˆå¯¹åº”çš„è¿­ä»£å™¨\n    public abstract IEnumerator GetEnumerator();\n}\n//å…·ä½“è¿­ä»£å™¨çš„éå†ç®—æ³•\nclass AlphabeticalOrderIterator : Iterator\n{\n    private WordsCollection _collection;\n\n    private int _position = -1;\n\n    private bool _reverse = false;\n    public AlphabeticalOrderIterator(WordsCollection collection, bool reverse = false)\n    {\n        this._collection = collection;\n        this._reverse = reverse;\n        if (reverse)\n        {\n            this._position = collection.getItems().Count;\n        }\n    }\n\n    public override int Key()\n    {\n        return this._position;\n    }\n\n    public override object Current()\n    {\n        return this._collection.getItems()[_position];\n    }\n\n    public override bool MoveNext()\n    {\n        int updatedPosition = this._position + (this._reverse ? -1 : 1);\n\n        if(updatedPosition >= 0 && updatedPosition < this._collection.getItems())\n        {\n            this._position = updatePosition;\n            return true;\n        }\n        else \n        {\n            return false;\n        }\n    }\n\n    public override void Reset()\n    {\n        this._position = this._reverse ? this._collection.getItems().Count - 1 : 0;\n    }\n}\n//å…·ä½“é›†åˆç±»\nclass WordsCollection : IteratorAggregate\n{\n    List<string> _collection = new List<string>();\n    \n    //å†³å®šæ˜¯å¦åè½¬\n    bool _direction = false;\n        \n    public void ReverseDirection()\n    {\n        _direction = !_direction;\n    }\n        \n    public List<string> getItems()\n    {\n        return _collection;\n    }\n        \n    public void AddItem(string item)\n    {\n        this._collection.Add(item);\n    }\n        \n    public override IEnumerator GetEnumerator()\n    {\n        return new AlphabeticalOrderIterator(this, _direction);\n    }\n}\n\n//å®¢æˆ·ç«¯ä»£ç \nvar collection = new WordsCollection();\ncollection.AddItem(\"First\");        collection.AddItem(\"Second\");        collection.AddItem(\"Third\");\nConsole.WriteLine(\"Straight traversal:\");\n\nforeach (var element in collection)\n{\n    Console.WriteLine(element);\n}\n\nConsole.WriteLine(\"\\nReverse traversal:\");\n\ncollection.ReverseDirection();\n\nforeach (var element in collection)\n{\n    Console.WriteLine(element);\n}\n\n/*è¿è¡Œç»“æœ\nStraight traversal:\nFirst\nSecond\nThird\n\nReverse traversal:\nThird\nSecond\nFirst\n*/\n```\n\n##### é€‚åˆè¿­ä»£å™¨æ¨¡å¼çš„åœ°æ–¹\n\n- å½“é›†åˆèƒŒåä¸ºå¤æ‚çš„æ•°æ®ç»“æ„ï¼Œä¸”ä½ å¸Œæœ›å¯¹å®¢æˆ·ç«¯éšè—å…¶å¤æ‚æ€§æ—¶ï¼ˆå‡ºäºä½¿ç”¨ä¾¿åˆ©æ€§æˆ–å®‰å…¨æ€§çš„è€ƒè™‘ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨è¿­ä»£å™¨æ¨¡å¼ã€‚\n- ä½¿ç”¨è¯¥æ¨¡å¼å¯ä»¥å‡å°‘ç¨‹åºä¸­é‡å¤çš„éå†ä»£ç ã€‚\n- å¦‚æœä½ å¸Œæœ›ä»£ç èƒ½å¤Ÿéå†ä¸åŒçš„ç”šè‡³æ˜¯æ— æ³•é¢„çŸ¥çš„æ•°æ®ç»“æ„ï¼Œå¯ä»¥ä½¿ç”¨è¿­ä»£å™¨æ¨¡å¼ã€‚\n\n##### è¿­ä»£å™¨æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\n\n**ä¼˜ç‚¹** :\n\n- ç¬¦åˆSRP\n- ç¬¦åˆOCP\n- ä½ å¯ä»¥å¹¶è¡Œéå†åŒä¸€é›†åˆï¼Œå› ä¸ºæ¯ä¸ªè¿­ä»£å™¨å¯¹è±¡éƒ½åŒ…å«å…¶è‡ªèº«çš„éå†çŠ¶æ€ã€‚\n- ç›¸ä¼¼çš„ï¼Œä½ å¯ä»¥æš‚åœéå†å¹¶åœ¨éœ€è¦æ—¶ç»§ç»­ã€‚\n\n**ç¼ºç‚¹** :\n\n- å¦‚æœä½ çš„ç¨‹åºåªä¸ç®€å•çš„é›†åˆè¿›è¡Œäº¤äº’ï¼Œåº”ç”¨è¯¥æ¨¡å¼å¯èƒ½ä¼šçŸ«æ‰è¿‡æ­£ã€‚\n- å¯¹äºæŸäº›ç‰¹æ®Šé›†åˆï¼Œä½¿ç”¨è¿­ä»£å™¨å¯èƒ½æ¯”ç›´æ¥éå†çš„æ•ˆç‡ä½ã€‚\n\n#### Mediator(ä¸­ä»‹è€…æ¨¡å¼)\n\nä¸­ä»‹è€…æ¨¡å¼æ˜¯ä¸€ç§è¡Œä¸ºè®¾è®¡æ¨¡å¼ï¼Œèƒ½è®©ä½ å‡å°‘å¯¹è±¡ä¹‹é—´æ··ä¹±æ— åºçš„ä¾èµ–å…³ç³»ã€‚è¯¥æ¨¡å¼ä¼šé™åˆ¶å¯¹è±¡ä¹‹é—´çš„ç›´æ¥äº¤äº’ï¼Œè¿«ä½¿å®ƒä»¬é€šè¿‡ä¸€ä¸ªä¸­ä»‹è€…å¯¹è±¡è¿›è¡Œåˆä½œã€‚\n\n##### é—®é¢˜\n\nå‡å¦‚ä½ æœ‰ä¸€ä¸ªåˆ›å»ºå’Œä¿®æ”¹å®¢æˆ·èµ„æ–™çš„å¯¹è¯æ¡†ï¼Œå®ƒç”±å„ç§æ§ä»¶ç»„æˆï¼Œä¾‹å¦‚æ–‡æœ¬æ¡†ï¼ˆTextÂ­Fieldï¼‰ã€å¤é€‰æ¡† ï¼ˆCheckÂ­boxï¼‰å’ŒæŒ‰é’®ï¼ˆButÂ­tonï¼‰ç­‰ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220824213630.png)\n\nå¦‚æœç›´æ¥åœ¨è¡¨å•å…ƒç´ ä»£ç ä¸­å®ç°ä¸šåŠ¡é€»è¾‘ï¼Œä½ å°†å¾ˆéš¾åœ¨ç¨‹åºå…¶ä»–è¡¨å•ä¸­å¤ç”¨è¿™äº›å…ƒç´ ç±»ã€‚ä¾‹å¦‚ï¼Œç”±äºå¤é€‰æ¡†ç±»ä¸ç‹—ç‹—çš„æ–‡æœ¬æ¡†ç›¸è€¦åˆï¼Œæ‰€ä»¥å°†æ— æ³•åœ¨å…¶ä»–è¡¨å•ä¸­ä½¿ç”¨å®ƒã€‚ä½ è¦ä¹ˆä½¿ç”¨æ¸²æŸ“èµ„æ–™è¡¨å•æ—¶ç”¨åˆ°çš„æ‰€æœ‰ç±»ï¼Œè¦ä¹ˆä¸€ä¸ªéƒ½ä¸ç”¨ã€‚\n\n##### è§£å†³æ–¹æ¡ˆ\n\nä¸­ä»‹è€…æ¨¡å¼å»ºè®®ä½ **åœæ­¢ç»„ä»¶ä¹‹é—´çš„ç›´æ¥äº¤æµå¹¶ä½¿å…¶ç›¸äº’ç‹¬ç«‹**ã€‚è¿™äº›ç»„ä»¶å¿…é¡»è°ƒç”¨ç‰¹æ®Šçš„ä¸­ä»‹è€…å¯¹è±¡ï¼Œé€šè¿‡ä¸­ä»‹è€…å¯¹è±¡é‡å®šå‘è°ƒç”¨è¡Œä¸ºï¼Œä»¥é—´æ¥çš„æ–¹å¼è¿›è¡Œåˆä½œã€‚æœ€ç»ˆï¼Œ**ç»„ä»¶ä»…ä¾èµ–äºä¸€ä¸ªä¸­ä»‹è€…ç±»ï¼Œæ— éœ€ä¸å¤šä¸ªå…¶ä»–ç»„ä»¶ç›¸è€¦åˆ**ã€‚\nä½ è¿˜å¯ä»¥ä¸ºæ‰€æœ‰ç±»å‹çš„å¯¹è¯æ¡†æŠ½å–é€šç”¨æ¥å£ï¼Œè¿›ä¸€æ­¥å‰Šå¼±å…¶ä¾èµ–æ€§ã€‚æ¥å£ä¸­å°†å£°æ˜ä¸€ä¸ªæ‰€æœ‰è¡¨å•å…ƒç´ éƒ½èƒ½ä½¿ç”¨çš„é€šçŸ¥æ–¹æ³•ï¼Œå¯ç”¨äºå°†å…ƒç´ ä¸­å‘ç”Ÿçš„äº‹ä»¶é€šçŸ¥ç»™å¯¹è¯æ¡†ã€‚è¿™æ ·ä¸€æ¥ï¼Œæ‰€æœ‰å®ç°äº†è¯¥æ¥å£çš„å¯¹è¯æ¡†éƒ½èƒ½ä½¿ç”¨è¿™ä¸ªæäº¤æŒ‰é’®äº†ã€‚\né‡‡ç”¨è¿™ç§æ–¹å¼ï¼Œä¸­ä»‹è€…æ¨¡å¼è®©ä½ èƒ½åœ¨å•ä¸ªä¸­ä»‹è€…å¯¹è±¡ä¸­å°è£…å¤šä¸ªå¯¹è±¡é—´çš„å¤æ‚å…³ç³»ç½‘ã€‚ç±»æ‰€æ‹¥æœ‰çš„ä¾èµ–å…³ç³»è¶Šå°‘ï¼Œå°±è¶Šæ˜“äºä¿®æ”¹ã€æ‰©å±•æˆ–å¤ç”¨ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220824213818.png)\n\né£è¡Œå™¨é©¾é©¶å‘˜ä»¬åœ¨é è¿‘æˆ–ç¦»å¼€ç©ºä¸­ç®¡åˆ¶åŒºåŸŸæ—¶ä¸ä¼šç›´æ¥ç›¸äº’äº¤æµã€‚ä½†ä»–ä»¬ä¼šä¸é£æœºè·‘é“é™„è¿‘ï¼Œå¡”å°ä¸­çš„ç©ºç®¡å‘˜é€šè¯ã€‚å¦‚æœæ²¡æœ‰ç©ºç®¡å‘˜ï¼Œé©¾é©¶å‘˜å°±éœ€è¦ç•™æ„æœºåœºé™„è¿‘çš„æ‰€æœ‰é£æœºï¼Œå¹¶ä¸æ•°åä½é£è¡Œå‘˜ç»„æˆçš„å§”å‘˜ä¼šè®¨è®ºé™è½é¡ºåºã€‚é‚£ææ€•ä¼šè®©é£æœºå æ¯çš„ç»Ÿè®¡æ•°æ®ä¸€é£å†²å¤©å§ã€‚\n\nå¡”å°æ— éœ€ç®¡åˆ¶é£è¡Œå…¨ç¨‹ï¼Œåªéœ€åœ¨èˆªç«™åŒºåŠ å¼ºç®¡æ§å³å¯ï¼Œå› ä¸ºè¯¥åŒºåŸŸçš„å†³ç­–å‚ä¸è€…æ•°é‡å¯¹äºé£è¡Œå‘˜æ¥è¯´å®åœ¨å¤ªå¤šäº†ã€‚\n\n##### ä¸­ä»‹è€…æ¨¡å¼ç»“æ„\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220824213846.png)\n\n1.**ç»„ä»¶(ComÂ­poÂ­nent)** æ˜¯å„ç§åŒ…å«ä¸šåŠ¡é€»è¾‘çš„ç±»ã€‚æ¯ä¸ªç»„ä»¶éƒ½æœ‰ä¸€ä¸ªæŒ‡å‘ä¸­ä»‹è€…çš„å¼•ç”¨ï¼Œè¯¥å¼•ç”¨è¢«å£°æ˜ä¸ºä¸­ä»‹è€…æ¥å£ç±»å‹ã€‚ç»„ä»¶ä¸çŸ¥é“ä¸­ä»‹è€…å®é™…æ‰€å±çš„ç±»ï¼Œå› æ­¤ä½ å¯é€šè¿‡å°†å…¶è¿æ¥åˆ°ä¸åŒçš„ä¸­ä»‹è€…ä»¥ä½¿å…¶èƒ½åœ¨å…¶ä»–ç¨‹åºä¸­å¤ç”¨ã€‚\n\n2.**ä¸­ä»‹è€…(MediÂ­aÂ­tor)** æ¥å£å£°æ˜äº†ä¸ç»„ä»¶äº¤æµçš„æ–¹æ³•ï¼Œä½†é€šå¸¸ä»…åŒ…æ‹¬ä¸€ä¸ªé€šçŸ¥æ–¹æ³•ã€‚ç»„ä»¶å¯å°†ä»»æ„ä¸Šä¸‹æ–‡ï¼ˆåŒ…æ‹¬è‡ªå·±çš„å¯¹è±¡ï¼‰ä½œä¸ºè¯¥æ–¹æ³•çš„å‚æ•°ï¼Œåªæœ‰è¿™æ ·æ¥æ”¶ç»„ä»¶å’Œå‘é€è€…ç±»ä¹‹é—´æ‰ä¸ä¼šè€¦åˆã€‚\n\n3.**å…·ä½“ä¸­ä»‹è€…(ConÂ­crete MediÂ­aÂ­tor)** å°è£…äº†å¤šç§ç»„ä»¶é—´çš„å…³ç³»ã€‚å…·ä½“ä¸­ä»‹è€…é€šå¸¸ä¼šä¿å­˜æ‰€æœ‰ç»„ä»¶çš„å¼•ç”¨å¹¶å¯¹å…¶è¿›è¡Œç®¡ç†ï¼Œç”šè‡³æœ‰æ—¶ä¼šå¯¹å…¶ç”Ÿå‘½å‘¨æœŸè¿›è¡Œç®¡ç†ã€‚\n\n4.ç»„ä»¶å¹¶ä¸çŸ¥é“å…¶ä»–ç»„ä»¶çš„æƒ…å†µã€‚å¦‚æœç»„ä»¶å†…å‘ç”Ÿäº†é‡è¦äº‹ä»¶ï¼Œå®ƒåªèƒ½é€šçŸ¥ä¸­ä»‹è€…ã€‚ä¸­ä»‹è€…æ”¶åˆ°é€šçŸ¥åèƒ½è½»æ˜“åœ°ç¡®å®šå‘é€è€…ï¼Œè¿™æˆ–è®¸å·²è¶³ä»¥åˆ¤æ–­æ¥ä¸‹æ¥éœ€è¦è§¦å‘çš„ç»„ä»¶äº†ã€‚\nå¯¹äºç»„ä»¶æ¥è¯´ï¼Œä¸­ä»‹è€…çœ‹ä¸Šå»å®Œå…¨å°±æ˜¯ä¸€ä¸ªé»‘ç®±ã€‚å‘é€è€…ä¸çŸ¥é“æœ€ç»ˆä¼šç”±è°æ¥å¤„ç†è‡ªå·±çš„è¯·æ±‚ï¼Œæ¥æ”¶è€…ä¹Ÿä¸çŸ¥é“æœ€åˆæ˜¯è°å‘å‡ºäº†è¯·æ±‚ã€‚\n\n##### ä¼ªä»£ç \n\nä¸­ä»‹è€…æ¨¡å¼åœ¨ C# ä»£ç ä¸­æœ€å¸¸ç”¨äºå¸®åŠ©ç¨‹åº GUI ç»„ä»¶ä¹‹é—´çš„é€šä¿¡ã€‚åœ¨ MVC æ¨¡å¼ä¸­ï¼Œæ§åˆ¶å™¨æ˜¯ä¸­ä»‹è€…çš„åŒä¹‰è¯ã€‚\n\n```csharp\n//ä¸­ä»‹è€…æ¥å£å£°æ˜å„ç§å…ƒç´ é€šè¿‡æ´»åŠ¨ç›¸äº’é€šçŸ¥çš„æ–¹æ³•\npublic interface IMediator\n{\n    void Notify(object sender,string ev);\n}\n//å…·ä½“ä¸­ä»‹è€…\nclass ConcreteMediator : IMediator\n{\n    private Component1 _component1;\n    private Component2 _component2;\n\n    public ConcreteMediator(Component1 component1, Component2 component2)\n    {\n        this._component1 = component1;\n        this._component1.SetMediator(this);\n        this._component2 = component2;\n        this._component2.SetMediator(this);\n    }\n\n    public void Notify(object sender,string ev)\n    {\n        if (ev == \"A\")\n        {\n            Console.WriteLine(\"Mediator reacts on A and triggers folowing operations:\");\n            this._component2.DoC();\n        }\n        if (ev == \"D\")\n        {\n            Console.WriteLine(\"Mediator reacts on D and triggers following operations:\");                \n            this._component1.DoB();\n            this._component2.DoC();\n        }        \n    }\n}\n\n//åŸºæœ¬ç»„ä»¶ç±»æä¾›å­˜å‚¨å¯¹åº”çš„å¼•ç”¨çš„ä¸­ä»‹è€…çš„åŠŸèƒ½\nclass BaseComponent\n{\n    protected IMediator _mediator;\n\n    public BaseComponent(IMediator mediator =null)\n    {\n        this._mediator = mediator;\n    }\n\n    public void SetMediator(IMediator mediator)\n    {\n        this._mediator = mediator;\n    }\n}\n//å…·ä½“ç»„ä»¶å®ç°å…·ä½“åŠŸèƒ½ï¼Œä¸åŒçš„å…·ä½“ç»„ä»¶è™½ç„¶\n//ä¼šç›¸äº’ç”¨åˆ°ï¼Œä½†å¹¶ä¸ä¼šç›´æ¥ç”¨åˆ°ï¼Œåªä¼šé€šè¿‡\n//ä¸­ä»‹è€…æ¥å¼•ç”¨\nclass Component1 : BaseComponent\n{\n    public void DoA()\n    {\n        Console.WriteLine(\"Component 1 does A.\");\n\n        this._mediator.Notify(this,\"A\");\n    }\n    public void DoB()\n    {\n        Console.WriteLine(\"Component 1 does B.\");\n\n        this._mediator.Notify(this, \"B\");\n    }\n}\nclass Component2 : BaseComponent\n{\n    public void DoC()\n    {\n        Console.WriteLine(\"Component 2 does C.\");\n\n        this._mediator.Notify(this, \"C\");\n    }\n    public void DoD()\n    {\n        Console.WriteLine(\"Component 2 does D.\");\n\n        this._mediator.Notify(this, \"D\");\n    }\n}\n\n//å®¢æˆ·ç«¯ä»£ç \nComponent1 component1 = new Component1();\nComponent2 component2 = new Component2();\nnew ConcreteMediator(component1, component2);\n\nConsole.WriteLine(\"Client triggets operation A.\");\ncomponent1.DoA();\n\nConsole.WriteLine();\n\nConsole.WriteLine(\"Client triggers operation D.\");\ncomponent2.DoD();\n\n/*è¿è¡Œç»“æœ\nClient triggers operation A.\nComponent 1 does A.\nMediator reacts on A and triggers following operations:\nComponent 2 does C.\n\nClient triggers operation D.\nComponent 2 does D.\nMediator reacts on D and triggers following operations:\nComponent 1 does B.\nComponent 2 does C.\n*/\n```\n\n##### é€‚åˆä¸­ä»‹è€…æ¨¡å¼çš„åœ°æ–¹\n\n- å½“ä¸€äº›å¯¹è±¡å’Œå…¶ä»–å¯¹è±¡ç´§å¯†è€¦åˆä»¥è‡´éš¾ä»¥å¯¹å…¶è¿›è¡Œä¿®æ”¹æ—¶ï¼Œå¯ä½¿ç”¨ä¸­ä»‹è€…æ¨¡å¼ã€‚\n- å½“ç»„ä»¶å› è¿‡äºä¾èµ–å…¶ä»–ç»„ä»¶è€Œæ— æ³•åœ¨ä¸åŒåº”ç”¨ä¸­å¤ç”¨æ—¶ï¼Œå¯ä½¿ç”¨ä¸­ä»‹è€…æ¨¡å¼ã€‚\n- å¦‚æœä¸ºäº†èƒ½åœ¨ä¸åŒæƒ…æ™¯ä¸‹å¤ç”¨ä¸€äº›åŸºæœ¬è¡Œä¸ºï¼Œå¯¼è‡´ä½ éœ€è¦è¢«è¿«åˆ›å»ºå¤§é‡ç»„ä»¶å­ç±»æ—¶ï¼Œå¯ä½¿ç”¨ä¸­ä»‹è€…æ¨¡å¼ã€‚\n\n##### ä¸­ä»‹è€…æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\n\n**ä¼˜ç‚¹** ï¼š\n\n- ç¬¦åˆSRP\n- ç¬¦åˆOCP\n- ä½ å¯ä»¥å‡è½»åº”ç”¨ä¸­å¤šä¸ªç»„ä»¶é—´çš„è€¦åˆæƒ…å†µã€‚\n- ä½ å¯ä»¥æ›´æ–¹ä¾¿åœ°å¤ç”¨å„ä¸ªç»„ä»¶ã€‚\n\n**ç¼ºç‚¹** ï¼š\n\n- ä¸€æ®µæ—¶é—´åï¼Œä¸­ä»‹è€…å¯èƒ½ä¼šæ¼”åŒ–æˆä¸ºä¸Šå¸å¯¹è±¡ã€‚\n\n#### Memento(å¤‡å¿˜å½•æ¨¡å¼)\n\nå¤‡å¿˜å½•æ¨¡å¼æ˜¯ä¸€ç§è¡Œä¸ºè®¾è®¡æ¨¡å¼ï¼Œå…è®¸åœ¨ä¸æš´éœ²å¯¹è±¡å®ç°ç»†èŠ‚çš„æƒ…å†µä¸‹ä¿å­˜å’Œæ¢å¤å¯¹è±¡ä¹‹å‰çš„çŠ¶æ€ã€‚\n\n##### é—®é¢˜\n\nå‡å¦‚ä½ æ­£åœ¨å¼€å‘ä¸€æ¬¾æ–‡å­—ç¼–è¾‘å™¨åº”ç”¨ç¨‹åºã€‚é™¤äº†ç®€å•çš„æ–‡å­—ç¼–è¾‘åŠŸèƒ½å¤–ï¼Œç¼–è¾‘å™¨ä¸­è¿˜è¦æœ‰è®¾ç½®æ–‡æœ¬æ ¼å¼å’Œæ’å…¥å†…åµŒå›¾ç‰‡ç­‰åŠŸèƒ½ã€‚\nåæ¥ï¼Œä½ å†³å®šè®©ç”¨æˆ·èƒ½æ’¤é”€æ–½åŠ åœ¨æ–‡æœ¬ä¸Šçš„ä»»ä½•æ“ä½œã€‚è¿™é¡¹åŠŸèƒ½åœ¨è¿‡å»å‡ å¹´é‡Œå˜å¾—ååˆ†æ™®éï¼Œå› æ­¤ç”¨æˆ·æœŸå¾…ä»»ä½•ç¨‹åºéƒ½æœ‰è¿™é¡¹åŠŸèƒ½ã€‚ä½ é€‰æ‹©é‡‡ç”¨ç›´æ¥çš„æ–¹å¼æ¥å®ç°è¯¥åŠŸèƒ½ï¼šç¨‹åºåœ¨æ‰§è¡Œä»»ä½•æ“ä½œå‰ä¼šè®°å½•æ‰€æœ‰çš„å¯¹è±¡çŠ¶æ€ï¼Œå¹¶å°†å…¶ä¿å­˜ä¸‹æ¥ã€‚å½“ç”¨æˆ·æ­¤åéœ€è¦æ’¤é”€æŸä¸ªæ“ä½œæ—¶ï¼Œç¨‹åºå°†ä»å†å²è®°å½•ä¸­è·å–æœ€è¿‘çš„å¿«ç…§ï¼Œç„¶åä½¿ç”¨å®ƒæ¥æ¢å¤æ‰€æœ‰å¯¹è±¡çš„çŠ¶æ€ã€‚\nè®©æˆ‘ä»¬æ¥æ€è€ƒä¸€ä¸‹è¿™äº›çŠ¶æ€å¿«ç…§ã€‚é¦–å…ˆï¼Œåˆ°åº•è¯¥å¦‚ä½•ç”Ÿæˆä¸€ä¸ªå¿«ç…§å‘¢ï¼Ÿå¾ˆå¯èƒ½ä½ ä¼šéœ€è¦éå†å¯¹è±¡çš„æ‰€æœ‰æˆå‘˜å˜é‡å¹¶å°†å…¶æ•°å€¼å¤åˆ¶ä¿å­˜ã€‚ä½†åªæœ‰å½“å¯¹è±¡å¯¹å…¶å†…å®¹æ²¡æœ‰ä¸¥æ ¼è®¿é—®æƒé™é™åˆ¶çš„æƒ…å†µä¸‹ï¼Œä½ æ‰èƒ½ä½¿ç”¨è¯¥æ–¹å¼ã€‚ä¸è¿‡å¾ˆé—æ†¾ï¼Œç»å¤§éƒ¨åˆ†å¯¹è±¡ä¼šä½¿ç”¨ç§æœ‰æˆå‘˜å˜é‡æ¥å­˜å‚¨é‡è¦æ•°æ®ï¼Œè¿™æ ·åˆ«äººå°±æ— æ³•è½»æ˜“æŸ¥çœ‹å…¶ä¸­çš„å†…å®¹ã€‚\nç°åœ¨æˆ‘ä»¬æš‚æ—¶å¿½ç•¥è¿™ä¸ªé—®é¢˜ï¼Œå‡è®¾å¯¹è±¡éƒ½åƒå¬‰çš®å£«ä¸€æ ·ï¼šå–œæ¬¢å¼€æ”¾å¼çš„å…³ç³»å¹¶ä¼šå…¬å¼€å…¶æ‰€æœ‰çŠ¶æ€ã€‚å°½ç®¡è¿™ç§æ–¹å¼èƒ½å¤Ÿè§£å†³å½“å‰é—®é¢˜ï¼Œè®©ä½ å¯éšæ—¶ç”Ÿæˆå¯¹è±¡çš„çŠ¶æ€å¿«ç…§ï¼Œä½†è¿™ç§æ–¹å¼ä»å­˜åœ¨ä¸€äº›ä¸¥é‡é—®é¢˜ã€‚æœªæ¥ä½ å¯èƒ½ä¼šæ·»åŠ æˆ–åˆ é™¤ä¸€äº›æˆå‘˜å˜é‡ã€‚è¿™å¬ä¸Šå»å¾ˆç®€å•ï¼Œä½†éœ€è¦å¯¹è´Ÿè´£å¤åˆ¶å—å½±å“å¯¹è±¡çŠ¶æ€çš„ç±»è¿›è¡Œæ›´æ”¹ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220825143929.png)\n\nè¿˜æœ‰æ›´å¤šé—®é¢˜ã€‚è®©æˆ‘ä»¬æ¥è€ƒè™‘ç¼–è¾‘å™¨ ï¼ˆEdiÂ­torï¼‰çŠ¶æ€çš„å®é™… â€œå¿«ç…§â€ï¼Œå®ƒéœ€è¦åŒ…å«å“ªäº›æ•°æ®ï¼Ÿè‡³å°‘å¿…é¡»åŒ…å«å®é™…çš„æ–‡æœ¬ã€å…‰æ ‡åæ ‡å’Œå½“å‰æ»šåŠ¨æ¡ä½ç½®ç­‰ã€‚ä½ éœ€è¦æ”¶é›†è¿™äº›æ•°æ®å¹¶å°†å…¶æ”¾å…¥ç‰¹å®šå®¹å™¨ä¸­ï¼Œæ‰èƒ½ç”Ÿæˆå¿«ç…§ã€‚\nä½ å¾ˆå¯èƒ½ä¼šå°†å¤§é‡çš„å®¹å™¨å¯¹è±¡å­˜å‚¨åœ¨å†å²è®°å½•åˆ—è¡¨ä¸­ã€‚è¿™æ ·ä¸€æ¥ï¼Œå®¹å™¨æœ€ç»ˆå¤§æ¦‚ç‡ä¼šæˆä¸ºåŒä¸€ä¸ªç±»çš„å¯¹è±¡ã€‚è¿™ä¸ªç±»ä¸­å‡ ä¹æ²¡æœ‰ä»»ä½•æ–¹æ³•ï¼Œä½†æœ‰è®¸å¤šä¸ç¼–è¾‘å™¨çŠ¶æ€ä¸€ä¸€å¯¹åº”çš„æˆå‘˜å˜é‡ã€‚ä¸ºäº†è®©å…¶ä»–å¯¹è±¡èƒ½ä¿å­˜æˆ–è¯»å–å¿«ç…§ï¼Œä½ å¾ˆå¯èƒ½éœ€è¦å°†å¿«ç…§çš„æˆå‘˜å˜é‡è®¾ä¸ºå…¬æœ‰ã€‚æ— è®ºè¿™äº›çŠ¶æ€æ˜¯å¦ç§æœ‰ï¼Œå…¶éƒ½å°†æš´éœ²ä¸€åˆ‡ç¼–è¾‘å™¨çŠ¶æ€ã€‚å…¶ä»–ç±»ä¼šå¯¹å¿«ç…§ç±»çš„æ¯ä¸ªå°æ”¹åŠ¨äº§ç”Ÿä¾èµ–ï¼Œé™¤éè¿™äº›æ”¹åŠ¨ä»…å­˜åœ¨äºç§æœ‰æˆå‘˜å˜é‡æˆ–æ–¹æ³•ä¸­ï¼Œè€Œä¸ä¼šå½±å“å¤–éƒ¨ç±»ã€‚\næˆ‘ä»¬ä¼¼ä¹èµ°è¿›äº†ä¸€æ¡æ­»èƒ¡åŒï¼š**è¦ä¹ˆä¼šæš´éœ²ç±»çš„æ‰€æœ‰å†…éƒ¨ç»†èŠ‚è€Œä½¿å…¶è¿‡äºè„†å¼±ï¼›è¦ä¹ˆä¼šé™åˆ¶å¯¹å…¶çŠ¶æ€çš„è®¿é—®æƒé™è€Œæ— æ³•ç”Ÿæˆå¿«ç…§**ã€‚é‚£ä¹ˆï¼Œæˆ‘ä»¬è¿˜æœ‰å…¶ä»–æ–¹å¼æ¥å®ç° â€œæ’¤é”€â€ åŠŸèƒ½å—ï¼Ÿ\n\n##### è§£å†³æ–¹æ¡ˆ\n\næˆ‘ä»¬åˆšæ‰é‡åˆ°çš„æ‰€æœ‰é—®é¢˜éƒ½æ˜¯å°è£… â€œç ´æŸâ€ é€ æˆçš„ã€‚ ä¸€äº›å¯¹è±¡è¯•å›¾è¶…å‡ºå…¶èŒè´£èŒƒå›´çš„å·¥ä½œã€‚ç”±äºåœ¨æ‰§è¡ŒæŸäº›è¡Œä¸ºæ—¶éœ€è¦è·å–æ•°æ®ï¼Œæ‰€ä»¥å®ƒä»¬ä¾µå…¥äº†å…¶ä»–å¯¹è±¡çš„ç§æœ‰ç©ºé—´ï¼Œè€Œä¸æ˜¯è®©è¿™äº›å¯¹è±¡æ¥å®Œæˆå®é™…çš„å·¥ä½œã€‚\n\nå¤‡å¿˜å½•æ¨¡å¼å°†åˆ›å»ºçŠ¶æ€å¿«ç…§ï¼ˆSnapÂ­shotï¼‰çš„å·¥ä½œå§”æ´¾ç»™å®é™…çŠ¶æ€çš„æ‹¥æœ‰è€…åŸå‘å™¨ ï¼ˆOrigÂ­iÂ­naÂ­torï¼‰ å¯¹è±¡ã€‚è¿™æ ·å…¶ä»–å¯¹è±¡å°±ä¸å†éœ€è¦ä» â€œå¤–éƒ¨â€ å¤åˆ¶ç¼–è¾‘å™¨çŠ¶æ€äº†ï¼Œç¼–è¾‘å™¨ç±»æ‹¥æœ‰å…¶çŠ¶æ€çš„å®Œå…¨è®¿é—®æƒï¼Œå› æ­¤å¯ä»¥è‡ªè¡Œç”Ÿæˆå¿«ç…§ã€‚\n\næ¨¡å¼å»ºè®®å°†å¯¹è±¡çŠ¶æ€çš„å‰¯æœ¬å­˜å‚¨åœ¨ä¸€ä¸ªåä¸ºå¤‡å¿˜å½• ï¼ˆMemenÂ­toï¼‰çš„ç‰¹æ®Šå¯¹è±¡ä¸­ã€‚é™¤äº†åˆ›å»ºå¤‡å¿˜å½•çš„å¯¹è±¡å¤–ï¼Œä»»ä½•å¯¹è±¡éƒ½ä¸èƒ½è®¿é—®å¤‡å¿˜å½•çš„å†…å®¹ã€‚å…¶ä»–å¯¹è±¡å¿…é¡»ä½¿ç”¨å—é™æ¥å£ä¸å¤‡å¿˜å½•è¿›è¡Œäº¤äº’ï¼Œå®ƒä»¬å¯ä»¥è·å–å¿«ç…§çš„å…ƒæ•°æ® ï¼ˆåˆ›å»ºæ—¶é—´å’Œæ“ä½œåç§°ç­‰ï¼‰ï¼Œä½†ä¸èƒ½è·å–å¿«ç…§ä¸­åŸå§‹å¯¹è±¡çš„çŠ¶æ€ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220825144342.png)\n\nè¿™ç§é™åˆ¶ç­–ç•¥å…è®¸ä½ å°†å¤‡å¿˜å½•ä¿å­˜åœ¨é€šå¸¸è¢«ç§°ä¸ºè´Ÿè´£äººï¼ˆCareÂ­takÂ­ersï¼‰çš„å¯¹è±¡ä¸­ã€‚ç”±äºè´Ÿè´£äººä»…é€šè¿‡å—é™æ¥å£ä¸å¤‡å¿˜å½•äº’åŠ¨ï¼Œæ•…å…¶æ— æ³•ä¿®æ”¹å­˜å‚¨åœ¨å¤‡å¿˜å½•å†…éƒ¨çš„çŠ¶æ€ã€‚åŒæ—¶ï¼ŒåŸå‘å™¨æ‹¥æœ‰å¯¹å¤‡å¿˜å½•æ‰€æœ‰æˆå‘˜çš„è®¿é—®æƒé™ï¼Œä»è€Œèƒ½éšæ—¶æ¢å¤å…¶ä»¥å‰çš„çŠ¶æ€ã€‚\n\nåœ¨æ–‡å­—ç¼–è¾‘å™¨çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªç‹¬ç«‹çš„å†å² ï¼ˆHisÂ­toÂ­ryï¼‰ ç±»ä½œä¸ºè´Ÿè´£äººã€‚ç¼–è¾‘å™¨æ¯æ¬¡æ‰§è¡Œæ“ä½œå‰ï¼Œå­˜å‚¨åœ¨è´Ÿè´£äººä¸­çš„å¤‡å¿˜å½•æ ˆéƒ½ä¼šç”Ÿé•¿ã€‚ä½ ç”šè‡³å¯ä»¥åœ¨åº”ç”¨çš„ UI ä¸­æ¸²æŸ“è¯¥æ ˆï¼Œä¸ºç”¨æˆ·æ˜¾ç¤ºä¹‹å‰çš„æ“ä½œå†å²ã€‚\n\nå½“ç”¨æˆ·è§¦å‘æ’¤é”€æ“ä½œæ—¶ï¼Œå†å²ç±»å°†ä»æ ˆä¸­å–å›æœ€è¿‘çš„å¤‡å¿˜å½•ï¼Œå¹¶å°†å…¶ä¼ é€’ç»™ç¼–è¾‘å™¨ä»¥è¯·æ±‚è¿›è¡Œå›æ»šã€‚ç”±äºç¼–è¾‘å™¨æ‹¥æœ‰å¯¹å¤‡å¿˜å½•çš„å®Œå…¨è®¿é—®æƒé™ï¼Œå› æ­¤å®ƒå¯ä»¥ä½¿ç”¨ä»å¤‡å¿˜å½•ä¸­è·å–çš„æ•°å€¼æ¥æ›¿æ¢è‡ªèº«çš„çŠ¶æ€ã€‚\n\n##### å¤‡å¿˜å½•æ¨¡å¼ç»“æ„\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220825144517.png)\n\n1.**åŸå‘å™¨(OrigÂ­iÂ­naÂ­tor)** ç±»å¯ä»¥ç”Ÿæˆè‡ªèº«çŠ¶æ€çš„å¿«ç…§ï¼Œä¹Ÿå¯ä»¥åœ¨éœ€è¦æ—¶é€šè¿‡å¿«ç…§æ¢å¤è‡ªèº«çŠ¶æ€ã€‚\n\n2.**å¤‡å¿˜å½•(MemenÂ­to)** æ˜¯åŸå‘å™¨çŠ¶æ€å¿«ç…§çš„å€¼å¯¹è±¡(value object)ã€‚é€šå¸¸åšæ³•æ˜¯å°†å¤‡å¿˜å½•è®¾ä¸ºä¸å¯å˜çš„ï¼Œ å¹¶é€šè¿‡æ„é€ å‡½æ•°ä¸€æ¬¡æ€§ä¼ é€’æ•°æ®ã€‚\n\n3.**è´Ÿè´£äºº(CareÂ­takÂ­er)** ä»…çŸ¥é“ â€œä½•æ—¶â€ å’Œ â€œä¸ºä½•â€ æ•æ‰åŸå‘å™¨çš„çŠ¶æ€ï¼Œä»¥åŠä½•æ—¶æ¢å¤çŠ¶æ€ã€‚\nè´Ÿè´£äººé€šè¿‡ä¿å­˜å¤‡å¿˜å½•æ ˆæ¥è®°å½•åŸå‘å™¨çš„å†å²çŠ¶æ€ã€‚ å½“åŸå‘å™¨éœ€è¦å›æº¯å†å²çŠ¶æ€æ—¶ï¼Œè´Ÿè´£äººå°†ä»æ ˆä¸­è·å–æœ€é¡¶éƒ¨çš„å¤‡å¿˜å½•ï¼Œå¹¶å°†å…¶ä¼ é€’ç»™åŸå‘å™¨çš„æ¢å¤ (restoraÂ­tion)æ–¹æ³•ã€‚\n\n4.åœ¨è¯¥å®ç°æ–¹æ³•ä¸­ï¼Œå¤‡å¿˜å½•ç±»å°†è¢«åµŒå¥—åœ¨åŸå‘å™¨ä¸­ã€‚ è¿™æ ·åŸå‘å™¨å°±å¯è®¿é—®å¤‡å¿˜å½•çš„æˆå‘˜å˜é‡å’Œæ–¹æ³•ï¼Œå³ä½¿è¿™äº›æ–¹æ³•è¢«å£°æ˜ä¸ºç§æœ‰ã€‚å¦ä¸€æ–¹é¢ï¼Œè´Ÿè´£äººå¯¹äºå¤‡å¿˜å½•çš„æˆå‘˜å˜é‡å’Œæ–¹æ³•çš„è®¿é—®æƒé™éå¸¸æœ‰é™ï¼šå®ƒä»¬åªèƒ½åœ¨æ ˆä¸­ä¿å­˜å¤‡å¿˜å½•ï¼Œè€Œä¸èƒ½ä¿®æ”¹å…¶çŠ¶æ€ã€‚\n\n##### ä¼ªä»£ç \n\nå¤‡å¿˜å½•çš„åŸºæœ¬åŠŸèƒ½å¯ç”¨åºåˆ—åŒ–æ¥å®ç°ï¼Œè¿™åœ¨ C# è¯­è¨€ä¸­å¾ˆå¸¸è§ã€‚å°½ç®¡å¤‡å¿˜å½•ä¸æ˜¯ç”Ÿæˆå¯¹è±¡çŠ¶æ€å¿«ç…§çš„å”¯ä¸€æˆ–æœ€æœ‰æ•ˆçš„æ–¹æ³•ï¼Œä½†å®ƒèƒ½åœ¨ä¿æŠ¤åŸå§‹å¯¹è±¡çš„ç»“æ„ä¸æš´éœ²ç»™å…¶ä»–å¯¹è±¡çš„æƒ…å†µä¸‹ä¿å­˜å¯¹è±¡çŠ¶æ€çš„å¤‡ä»½ã€‚åœ¨æ¸¸æˆä¸­ï¼Œæ¯”å¦‚åœ°å¹³çº¿çš„å›é€€ï¼ŒPBUGçš„æ­»äº¡å›æ”¾ç­‰ç­‰éƒ½å¯èƒ½æ˜¯ç”¨åˆ°äº†å¤‡å¿˜å½•æ¨¡å¼ã€‚\nè¿™ä¸ªæ¨¡å¼è¿˜æ˜¯æœ‰ç‚¹å¤æ‚çš„ï¼Œä»…ä»…é€šè¿‡ç»“æ„ä¸å¤ªèƒ½åŒºåˆ†Originatorå’ŒCaretakerï¼Œé€šè¿‡ä»£ç æ¥ç®€å•äº†è§£ä¸€ä¸‹ã€‚\n\nç®€å•è°ˆä¸€ä¸‹ä¹‹åçš„ä¼ªä»£ç ï¼Œè¿™æ¬¡çš„ç»“æ„æ¯”è¾ƒå¤æ‚ï¼Œæ‰€ä»¥å»ºè®®æœ€å¥½è¿è¡Œä¸€éç„¶åçœ‹æ‡‚ä»£ç ï¼Œç®€å•æ¥è¯´å°±æ˜¯Caretakerè´Ÿè´£åšï¼Œé€šè¿‡Caretakerç±»æ¥ä½¿Originatoråˆ›å»ºä¸€æ¬¡Mementoç„¶åå­˜å‚¨åˆ°Caretakeré‡Œçš„listã€‚å¦‚æœæ˜¯æ’¤å›ä¹‹å‰çš„çŠ¶æ€ï¼ŒåŒæ ·ç”¨Caretakerçš„Undoæ¥è§¦å‘Originatorçš„Restoreå‡½æ•°ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒCaretakeræ˜¯å‘èµ·è€…ï¼ŒOriginatoræ˜¯Mementoçš„åˆ›é€ è€…ï¼ŒMementoåªæ˜¯ç”¨æ¥å­˜å‚¨ä¸€æ¬¡çš„çŠ¶æ€ã€‚\n\n```csharp\n//Originatorç±»ä¼šå­˜å‚¨ä¸€äº›é‡è¦çš„å¯èƒ½ä¼šéšæ—¶é—´æ”¹å˜çš„çŠ¶æ€ã€‚åŒæ—¶ä¹Ÿå®šä¹‰äº†ä¿å­˜å’Œå­˜å‚¨çŠ¶æ€çš„æ–¹æ³•\nclass Originator\n{\n    //åœ¨ä¼ªä»£ç ä¸­å°½é‡ç®€å•ï¼Œè¿™é‡Œåªç”¨äº†stringç±»å‹\n    private string _state;\n\n    public Originator(string state)\n    {\n        this._state = state;\n        Console.WriteLine(\"Originator: My initial state is: \" + state);\n    }\n\n    //è¿™é‡Œçš„\n    public void DoSomething()\n    {\n        Console.WriteLine(\"Originator: I'm doing something important.\");\n        this._state = this.GenerateRandomString(30);\n        Console.WriteLine($\"Originator: and my state has changed to: {_state}\");\n    }\n\n    //é€šè¿‡æ—¶é—´ç”Ÿæˆéšæœºçš„å­—ç¬¦ä¸²\n    private string GenerateRandomString(int length = 10)\n    {\n        string allowedSymbols = \"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ\";\n        string result = string.Empty;\n\n        while (length > 0)\n        {\n            result += allowedSymbols[new Random().Next(0, allowedSymbols.Length)];\n\n            Thread.Sleep(12);\n\n            length--;\n        }\n        return result;\n    }\n\n    //ä¿å­˜ç°åœ¨çš„çŠ¶æ€\n    public IMemento Save()\n    {\n        return new ConcreteMemento(this._state);\n    }\n\n    //æ¢å¤ä¹‹å‰çš„çŠ¶æ€\n    public void Restore(IMemento memento)\n    {\n        if(!(memento is ConcreteMemento))\n        {\n            throw new Exception(\"Unknown memento class \" + memento.ToString());\n        }\n\n        this._state = memento.GetState();\n        Console.Write($\"Originator: My state has changed to: {_state}\");\n    }\n}\n//å¤‡å¿˜å½•æ¥å£\npublic interface IMemento\n{\n    string GetName();\n\n    string GetState();\n\n    DateTime GetDate();\n}\n//å…·ä½“å¤‡å¿˜å½•\nclass ConcreteMemento : IMemento\n{\n    private string _state;\n\n    private DateTime _date;\n\n    public ConcreteMemento(string state)\n    {\n        this._state = state;\n        this._date = DateTime.Now;\n    }\n\n    public string GetState()\n    {\n        return this._state;\n    }\n    public string GetName()\n    {\n        return $\"{this._date} / ({this._state.Substring(0, 9)})...\";\n    }\n\n    public DateTime GetDate()\n    {\n        return this._date;\n    }\n}\nclass Caretaker\n{\n    private List<IMemento> _mementos = new List<IMemento>();\n\n    private Originator _originator = null;\n\n     public Caretaker(Originator originator)\n    {\n        this._originator = originator;\n    }\n\n    //å¤‡ä»½\n    public void Backup()\n    {\n        Console.WriteLine(\"\\nCaretaker: Saving Originator's state...\");\n        this._mementos.Add(this._originator.Save());\n    }\n\n    //æ’¤é”€\n    public void Undo()\n    {\n        if (this._mementos.Count == 0)\n        {\n            return;\n        }\n\n        var memento = this._mementos.Last();\n        this._mementos.Remove(memento);\n\n        Console.WriteLine(\"Caretaker: Restoring state to: \" + memento.GetName());\n\n        try\n        {\n            this._originator.Restore(memento);\n        }\n        catch (Exception)\n        {\n            this.Undo();\n        }\n    }\n\n    public void ShowHistory()\n    {\n        Console.WriteLine(\"Caretaker: Here's the list of mementos:\");\n\n        foreach (var memento in this._mementos)\n        {\n            Console.WriteLine(memento.GetName());\n        }\n    }\n}\n\n//å®¢æˆ·ç«¯ä»£ç \nOriginator originator = new Originator(\"Super-duper-super-puper-super.\");\nCaretaker caretaker = new Caretaker(originator);\n\ncaretaker.Backup();\noriginator.DoSomething();\n\ncaretaker.Backup();\noriginator.DoSomething();\n\ncaretaker.Backup();\noriginator.DoSomething();\n\nConsole.WriteLine();\ncaretaker.ShowHistory();\n\nConsole.WriteLine(\"\\nClient: Now, let's rollback!\\n\");\ncaretaker.Undo();\n\nConsole.WriteLine(\"\\n\\nClient: Once more!\\n\");\ncaretaker.Undo();\n\nConsole.WriteLine();\n\n/*è¿è¡Œç»“æœ,æ ¹æ®å½“å‰æ—¶é—´æœ‰æ‰€å˜åŒ–\nå¯ä»¥æ›´æ”¹å®¢æˆ·ç«¯ä»£ç æ¥ä½“ä¼šæ›´æ·±\n\nOriginator: My initial state is: Super-duper-super-puper-super.\n\nCaretaker: Saving Originator's state...\nOriginator: I'm doing something important.\nOriginator: and my state has changed to: oGyQIIatlDDWNgYYqJATTmdwnnGZQj\n\nCaretaker: Saving Originator's state...\nOriginator: I'm doing something important.\nOriginator: and my state has changed to: jBtMDDWogzzRJbTTmEwOOhZrjjBULe\n\nCaretaker: Saving Originator's state...\nOriginator: I'm doing something important.\nOriginator: and my state has changed to: exoHyyRkbuuNEXOhhArKccUmexPPHZ\n\nCaretaker: Here's the list of mementos:\n12.06.2018 15:52:45 / (Super-dup...)\n12.06.2018 15:52:46 / (oGyQIIatl...)\n12.06.2018 15:52:46 / (jBtMDDWog...)\n\nClient: Now, let's rollback!\n\nCaretaker: Restoring state to: 12.06.2018 15:52:46 / (jBtMDDWog...)\nOriginator: My state has changed to: jBtMDDWogzzRJbTTmEwOOhZrjjBULe\n\nClient: Once more!\n\nCaretaker: Restoring state to: 12.06.2018 15:52:46 / (oGyQIIatl...)\nOriginator: My state has changed to: oGyQIIatlDDWNgYYqJATTmdwnnGZQj\n*/\n```\n\n##### é€‚åˆå¤‡å¿˜å½•æ¨¡å¼çš„åœ°æ–¹\n\n- å½“ä½ éœ€è¦åˆ›å»ºå¯¹è±¡çŠ¶æ€å¿«ç…§æ¥æ¢å¤å…¶ä¹‹å‰çš„çŠ¶æ€æ—¶ï¼Œå¯ä»¥ä½¿ç”¨å¤‡å¿˜å½•æ¨¡å¼ã€‚\n- å½“ç›´æ¥è®¿é—®å¯¹è±¡çš„æˆå‘˜å˜é‡ã€è·å–å™¨æˆ–è®¾ç½®å™¨å°†å¯¼è‡´å°è£…è¢«çªç ´æ—¶ï¼Œå¯ä»¥ä½¿ç”¨è¯¥æ¨¡å¼ã€‚\n\n##### å¤‡å¿˜å½•æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\n\n**ä¼˜ç‚¹** ï¼š\n\n- ä½ å¯ä»¥åœ¨ä¸ç ´åå¯¹è±¡å°è£…æƒ…å†µçš„å‰æä¸‹åˆ›å»ºå¯¹è±¡çŠ¶æ€å¿«ç…§ã€‚\n- ä½ å¯ä»¥é€šè¿‡è®©è´Ÿè´£äººç»´æŠ¤åŸå‘å™¨çŠ¶æ€å†å²è®°å½•æ¥ç®€åŒ–åŸå‘å™¨ä»£ç ã€‚\n\n**ç¼ºç‚¹** ï¼š\n\n- å¦‚æœå®¢æˆ·ç«¯è¿‡äºé¢‘ç¹åœ°åˆ›å»ºå¤‡å¿˜å½•ï¼Œç¨‹åºå°†æ¶ˆè€—å¤§é‡å†…å­˜ã€‚\n- è´Ÿè´£äººå¿…é¡»å®Œæ•´è·Ÿè¸ªåŸå‘å™¨çš„ç”Ÿå‘½å‘¨æœŸï¼Œè¿™æ ·æ‰èƒ½é”€æ¯å¼ƒç”¨çš„å¤‡å¿˜å½•ã€‚\n- ç»å¤§éƒ¨åˆ†åŠ¨æ€ç¼–ç¨‹è¯­è¨€ ï¼ˆä¾‹å¦‚ PHPã€ Python å’Œ JavaScriptï¼‰ ä¸èƒ½ç¡®ä¿å¤‡å¿˜å½•ä¸­çš„çŠ¶æ€ä¸è¢«ä¿®æ”¹ï¼ˆä¸c#å…³ç³»ä¸å¤§ï¼‰ã€‚\n\n#### Observer(è§‚å¯Ÿè€…æ¨¡å¼)\n\nè§‚å¯Ÿè€…æ¨¡å¼æ˜¯ä¸€ç§è¡Œä¸ºè®¾è®¡æ¨¡å¼ï¼Œå…è®¸ä½ å®šä¹‰ä¸€ç§è®¢é˜…æœºåˆ¶ï¼Œå¯åœ¨å¯¹è±¡äº‹ä»¶å‘ç”Ÿæ—¶é€šçŸ¥å¤šä¸ª â€œè§‚å¯Ÿâ€ è¯¥å¯¹è±¡çš„å…¶ä»–å¯¹è±¡ã€‚\n\n##### é—®é¢˜\n\nå‡å¦‚ä½ æœ‰ä¸¤ç§ç±»å‹çš„å¯¹è±¡ï¼šâ€‹é¡¾å®¢å’Œ å•†åº— ã€‚é¡¾å®¢å¯¹æŸä¸ªç‰¹å®šå“ç‰Œçš„äº§å“éå¸¸æ„Ÿå…´è¶£ï¼ˆä¾‹å¦‚æœ€æ–°å‹å·çš„ iPhone æ‰‹æœºï¼‰ï¼Œè€Œè¯¥äº§å“å¾ˆå¿«å°†ä¼šåœ¨å•†åº—é‡Œå‡ºå”®ã€‚\né¡¾å®¢å¯ä»¥æ¯å¤©æ¥å•†åº—çœ‹çœ‹äº§å“æ˜¯å¦åˆ°è´§ã€‚ä½†å¦‚æœå•†å“å°šæœªåˆ°è´§æ—¶ï¼Œç»å¤§å¤šæ•°æ¥åˆ°å•†åº—çš„é¡¾å®¢éƒ½ä¼šç©ºæ‰‹è€Œå½’ã€‚å¦ä¸€æ–¹é¢ï¼Œæ¯æ¬¡æ–°äº§å“åˆ°è´§æ—¶ï¼Œå•†åº—å¯ä»¥å‘æ‰€æœ‰é¡¾å®¢å‘é€é‚®ä»¶ï¼ˆå¯èƒ½ä¼šè¢«è§†ä¸ºåƒåœ¾é‚®ä»¶ï¼‰ã€‚è¿™æ ·ï¼Œéƒ¨åˆ†é¡¾å®¢å°±æ— éœ€åå¤å‰å¾€å•†åº—äº†ï¼Œä½†ä¹Ÿå¯èƒ½ä¼šæƒ¹æ¼å¯¹æ–°äº§å“æ²¡æœ‰å…´è¶£çš„å…¶ä»–é¡¾å®¢ã€‚\næˆ‘ä»¬ä¼¼ä¹é‡åˆ°äº†ä¸€ä¸ªçŸ›ç›¾ï¼šè¦ä¹ˆè®©é¡¾å®¢æµªè´¹æ—¶é—´æ£€æŸ¥äº§å“æ˜¯å¦åˆ°è´§ï¼Œè¦ä¹ˆè®©å•†åº—æµªè´¹èµ„æºå»é€šçŸ¥æ²¡æœ‰éœ€æ±‚çš„é¡¾å®¢ã€‚\n\n##### è§£å†³æ–¹æ¡ˆ\n\næ‹¥æœ‰ä¸€äº›å€¼å¾—å…³æ³¨çš„çŠ¶æ€çš„å¯¹è±¡é€šå¸¸è¢«ç§°ä¸ºç›®æ ‡ï¼Œç”±äºå®ƒè¦**å°†è‡ªèº«çš„çŠ¶æ€æ”¹å˜é€šçŸ¥ç»™å…¶ä»–å¯¹è±¡**ï¼Œæˆ‘ä»¬ä¹Ÿå°†å…¶ç§°ä¸ºå‘å¸ƒè€…(pubÂ­lishÂ­er)ã€‚æ‰€æœ‰**å¸Œæœ›å…³æ³¨å‘å¸ƒè€…çŠ¶æ€å˜åŒ–çš„å…¶ä»–å¯¹è±¡**è¢«ç§°ä¸ºè®¢é˜…è€…(subÂ­scribers)ã€‚\n\nè§‚å¯Ÿè€…æ¨¡å¼å»ºè®®ä½ ä¸ºå‘å¸ƒè€…ç±»æ·»åŠ è®¢é˜…æœºåˆ¶ï¼Œè®©æ¯ä¸ªå¯¹è±¡éƒ½èƒ½è®¢é˜…æˆ–å–æ¶ˆè®¢é˜…å‘å¸ƒè€…äº‹ä»¶æµã€‚ä¸è¦å®³æ€•ï¼è¿™å¹¶ä¸åƒå¬ä¸Šå»é‚£ä¹ˆå¤æ‚ã€‚å®é™…ä¸Šï¼Œè¯¥æœºåˆ¶åŒ…æ‹¬ **1)** ä¸€ä¸ªç”¨äºå­˜å‚¨è®¢é˜…è€…å¯¹è±¡å¼•ç”¨çš„åˆ—è¡¨æˆå‘˜å˜é‡ï¼›**2)** å‡ ä¸ªç”¨äºæ·»åŠ æˆ–åˆ é™¤è¯¥åˆ—è¡¨ä¸­è®¢é˜…è€…çš„å…¬æœ‰æ–¹æ³•ã€‚\n\nå¦‚æœä½ çš„åº”ç”¨ä¸­æœ‰å¤šä¸ªä¸åŒç±»å‹çš„å‘å¸ƒè€…ï¼Œä¸”å¸Œæœ›è®¢é˜…è€…å¯å…¼å®¹æ‰€æœ‰å‘å¸ƒè€…ï¼Œé‚£ä¹ˆä½ ç”šè‡³å¯ä»¥è¿›ä¸€æ­¥è®©æ‰€æœ‰å‘å¸ƒè€…éµå¾ªåŒæ ·çš„æ¥å£ã€‚è¯¥æ¥å£ä»…éœ€æè¿°å‡ ä¸ªè®¢é˜…æ–¹æ³•å³å¯ã€‚è¿™æ ·è®¢é˜…è€…å°±èƒ½åœ¨ä¸ä¸å…·ä½“å‘å¸ƒè€…ç±»è€¦åˆçš„æƒ…å†µä¸‹é€šè¿‡æ¥å£è§‚å¯Ÿå‘å¸ƒè€…çš„çŠ¶æ€ã€‚\n\n##### è§‚å¯Ÿè€…æ¨¡å¼ç»“æ„\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220825160617.png)\n\n1.**å‘å¸ƒè€…(PubÂ­lishÂ­er)** ä¼šå‘å…¶ä»–å¯¹è±¡å‘é€å€¼å¾—å…³æ³¨çš„äº‹ä»¶ã€‚äº‹ä»¶ä¼šåœ¨å‘å¸ƒè€…è‡ªèº«çŠ¶æ€æ”¹å˜æˆ–æ‰§è¡Œç‰¹å®šè¡Œä¸ºåå‘ç”Ÿã€‚å‘å¸ƒè€…ä¸­åŒ…å«ä¸€ä¸ªå…è®¸æ–°è®¢é˜…è€…åŠ å…¥å’Œå½“å‰è®¢é˜…è€…ç¦»å¼€åˆ—è¡¨çš„è®¢é˜…æ„æ¶ã€‚\n\n2.å½“æ–°äº‹ä»¶å‘ç”Ÿæ—¶ï¼Œå‘é€è€…ä¼šéå†è®¢é˜…åˆ—è¡¨å¹¶è°ƒç”¨æ¯ä¸ªè®¢é˜…è€…å¯¹è±¡çš„é€šçŸ¥æ–¹æ³•ã€‚è¯¥æ–¹æ³•æ˜¯åœ¨è®¢é˜…è€…æ¥å£ä¸­å£°æ˜çš„ã€‚\n\n3.**è®¢é˜…è€…(SubÂ­scriber)** æ¥å£å£°æ˜äº†é€šçŸ¥æ¥å£ã€‚åœ¨ç»å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œè¯¥æ¥å£ä»…åŒ…å«ä¸€ä¸ª updateæ›´æ–°æ–¹æ³•ã€‚è¯¥æ–¹æ³•å¯ä»¥æ‹¥æœ‰å¤šä¸ªå‚æ•°ï¼Œä½¿å‘å¸ƒè€…èƒ½åœ¨æ›´æ–°æ—¶ä¼ é€’äº‹ä»¶çš„è¯¦ç»†ä¿¡æ¯ã€‚\n\n4.**å…·ä½“è®¢é˜…è€…(ConÂ­crete SubÂ­scribers)** å¯ä»¥æ‰§è¡Œä¸€äº›æ“ä½œæ¥å›åº”å‘å¸ƒè€…çš„é€šçŸ¥ã€‚æ‰€æœ‰å…·ä½“è®¢é˜…è€…ç±»éƒ½å®ç°äº†åŒæ ·çš„æ¥å£ï¼Œå› æ­¤å‘å¸ƒè€…ä¸éœ€è¦ä¸å…·ä½“ç±»ç›¸è€¦åˆã€‚\n\n5.è®¢é˜…è€…é€šå¸¸éœ€è¦ä¸€äº›ä¸Šä¸‹æ–‡ä¿¡æ¯æ¥æ­£ç¡®åœ°å¤„ç†æ›´æ–°ã€‚å› æ­¤ï¼Œå‘å¸ƒè€…é€šå¸¸ä¼šå°†ä¸€äº›ä¸Šä¸‹æ–‡æ•°æ®ä½œä¸ºé€šçŸ¥æ–¹æ³•çš„å‚æ•°è¿›è¡Œä¼ é€’ã€‚å‘å¸ƒè€…ä¹Ÿå¯å°†è‡ªèº«ä½œä¸ºå‚æ•°è¿›è¡Œä¼ é€’ï¼Œä½¿è®¢é˜…è€…ç›´æ¥è·å–æ‰€éœ€çš„æ•°æ®ã€‚\n\n6.**å®¢æˆ·ç«¯(Client)** ä¼šåˆ†åˆ«åˆ›å»ºå‘å¸ƒè€…å’Œè®¢é˜…è€…å¯¹è±¡ï¼Œç„¶åä¸ºè®¢é˜…è€…æ³¨å†Œå‘å¸ƒè€…æ›´æ–°ã€‚\n\n##### ä¼ªä»£ç \n\nè§‚å¯Ÿè€…æ¨¡å¼åœ¨ C# ä»£ç ä¸­å¾ˆå¸¸è§ï¼Œç‰¹åˆ«æ˜¯åœ¨ GUI ç»„ä»¶ä¸­ã€‚å®ƒæä¾›äº†åœ¨ä¸ä¸å…¶ä»–å¯¹è±¡æ‰€å±ç±»è€¦åˆçš„æƒ…å†µä¸‹å¯¹å…¶äº‹ä»¶åšå‡ºååº”çš„æ–¹å¼ã€‚åªè¦æ˜¯ä¸€å¯¹å¤šçš„å¹¿æ’­æ¨¡å¼çš„éœ€æ±‚ï¼Œè§‚å¯Ÿè€…æ¨¡å¼åŸºæœ¬ä¸Šå¯ä»¥ç”¨åˆ°ã€‚è€Œä¸”ä»£ç ç»“æ„ååˆ†å®¹æ˜“ç†è§£\n\n```csharp\n//æä¾›è®¢é˜…è€…æ¥å£\npublic interface ISubscriber\n{\n    //æ·»åŠ Observerï¼Œä¹Ÿå°±æ˜¯æ¥å—ä¿¡æ¯çš„äºº\n    void Attach(IObserver observer);\n\n    //å»æ‰Observer\n    void Detach(IObserver observer);\n\n    //é€šçŸ¥\n    void Notify();\n}\n//å‘å¸ƒè€…æ‹¥æœ‰è‡ªèº«çŠ¶æ€\npublic class Subscriber : ISubscriber\n{\n    //å½“å‘å¸ƒå™¨çŠ¶æ€å‘ç”Ÿæ”¹å˜çš„æ—¶å€™å¯èƒ½è¦è¿›è¡Œæ¨é€\n    //ä¼ªä»£ç è¿™é‡Œç®€åŒ–äº†çŠ¶æ€\n    public int State {get;set;} = -0;\n\n    //è®¢é˜…å‘å¸ƒå™¨çš„é˜Ÿåˆ—\n    private List<IObserver> _observers = new List<IObserver>();\n\n    public void Attach(IObserver observer)\n    {\n        Console.WriteLine(\"Subscriber: Attached an obseerver.\");\n        this._observers.Add(observer);\n    }\n\n    public void Detach(IObserver observer)\n    {\n        this._observers.Remove(observer);\n        Console.WriteLine(\"Subscriber: Detached an observer.\");\n    }\n\n    public void Notify()\n    {\n        Console.WriteLine(\"Subscriber: Notifying observers...\");\n\n        foreach (var observer in _observers)\n        {\n            observer.Update(this);\n        }\n    }\n\n    //ä¸»è¦çš„ä¸šåŠ¡é€»è¾‘\n    public void SomeBusinessLogic()\n    {\n        Console.WriteLine(\"\\nsubscriber: I'm doing something important.\");\n        this.State = new Random().Next(0, 10);\n\n        Thread.Sleep(15);\n\n        Console.WriteLine(\"subscriber: My state has just changed to: \" + this.State);\n        this.Notify();\n    }\n}\n//é€šç”¨è§‚å¯Ÿè€…æ¥å£\npublic interface IObserver\n{\n    void Update(ISubscriber subscriber);\n}\n//å…·ä½“è§‚å¯Ÿè€…\nclass ConcreteObserverA : IObserver\n{\n    public void Update(ISubscriber subscriber)\n    {            \n        if ((subscriber as Subscriber).State < 3)\n        {\n            Console.WriteLine(\"ConcreteObserverA: Reacted to the event.\");\n        }\n    }\n}\nclass ConcreteObserverB : IObserver\n{\n    public void Update(ISubscriber subscriber)\n    {\n        if ((subscriber as Subscriber).State == 0 || (subscriber as Subscriber).State >= 2)\n        {\n            Console.WriteLine(\"ConcreteObserverB: Reacted to the event.\");\n        }\n    }\n}\n\n//å®¢æˆ·ç«¯ä»£ç \nvar subscriber = new Subscriber();\n\nvar observerA = new ConcreteObserverA();\nsubscriber.Attach(observerA);\n\nvar observerB = new ConcreteObserverB();\nsubscriber.Attach(observerB);\n\nsubscriber.SomeBusinessLogic();\nsubscriber.SomeBusinessLogic();\n\nsubscriber.Detach(observerB);\n\nsubscriber.SomeBusinessLogic();\n\n/*è¿è¡Œç»“æœ\nSubscriber: Attached an observer.\nSubscriber: Attached an observer.\n\nSubscriber: I'm doing something important.\nSubscriber: My state has just changed to: 2\nSubscriber: Notifying observers...\nConcreteObserverA: Reacted to the event.\nConcreteObserverB: Reacted to the event.\n\nSubscriber: I'm doing something important.\nSubscriber: My state has just changed to: 1\nSubscriber: Notifying observers...\nConcreteObserverA: Reacted to the event.\nSubscriber: Detached an observer.\n\nSubscriber: I'm doing something important.\nSubscriber: My state has just changed to: 5\nSubscriber: Notifying observers...\n*/\n```\n\n##### é€‚åˆè§‚å¯Ÿè€…æ¨¡å¼çš„åœ°æ–¹\n\n- å½“ä¸€ä¸ªå¯¹è±¡çŠ¶æ€çš„æ”¹å˜éœ€è¦æ”¹å˜å…¶ä»–å¯¹è±¡ï¼Œæˆ–å®é™…å¯¹è±¡æ˜¯äº‹å…ˆæœªçŸ¥çš„æˆ–åŠ¨æ€å˜åŒ–çš„æ—¶ï¼Œå¯ä½¿ç”¨è§‚å¯Ÿè€…æ¨¡å¼ã€‚\n- å½“åº”ç”¨ä¸­çš„ä¸€äº›å¯¹è±¡å¿…é¡»è§‚å¯Ÿå…¶ä»–å¯¹è±¡æ—¶ï¼Œå¯ä½¿ç”¨è¯¥æ¨¡å¼ã€‚ä½†ä»…èƒ½åœ¨æœ‰é™æ—¶é—´å†…æˆ–ç‰¹å®šæƒ…å†µä¸‹ä½¿ç”¨ã€‚\n\n##### è§‚å¯Ÿè€…æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\n\n**ä¼˜ç‚¹** ï¼š\n\n- ç¬¦åˆOCP\n- ä½ å¯ä»¥åœ¨è¿è¡Œæ—¶å»ºç«‹å¯¹è±¡ä¹‹é—´çš„è”ç³»ã€‚\n\n\n**ç¼ºç‚¹** ï¼š\n\n- è®¢é˜…è€…çš„é€šçŸ¥é¡ºåºæ˜¯éšæœºçš„ã€‚\n\n#### State(çŠ¶æ€æ¨¡å¼)\n\nçŠ¶æ€æ¨¡å¼æ˜¯ä¸€ç§è¡Œä¸ºè®¾è®¡æ¨¡å¼ï¼Œè®©ä½ èƒ½åœ¨ä¸€ä¸ªå¯¹è±¡çš„å†…éƒ¨çŠ¶æ€å˜åŒ–æ—¶æ”¹å˜å…¶è¡Œä¸ºï¼Œä½¿å…¶çœ‹ä¸Šå»å°±åƒæ”¹å˜äº†è‡ªèº«æ‰€å±çš„ç±»ä¸€æ ·ã€‚\n\n##### é—®é¢˜\n\nçŠ¶æ€æ¨¡å¼ä¸æœ‰é™çŠ¶æ€æœºçš„æ¦‚å¿µç´§å¯†ç›¸å…³ã€‚\nå…¶ä¸»è¦æ€æƒ³æ˜¯ç¨‹åºåœ¨ä»»æ„æ—¶åˆ»ä»…å¯å¤„äºå‡ ç§**æœ‰é™çš„çŠ¶æ€**ä¸­ã€‚åœ¨ä»»ä½•ä¸€ä¸ªç‰¹å®šçŠ¶æ€ä¸­ï¼Œç¨‹åºçš„è¡Œä¸ºéƒ½ä¸ç›¸åŒï¼Œä¸”å¯ç¬é—´ä»ä¸€ä¸ªçŠ¶æ€åˆ‡æ¢åˆ°å¦ä¸€ä¸ªçŠ¶æ€ã€‚ä¸è¿‡ï¼Œæ ¹æ®å½“å‰çŠ¶æ€ï¼Œç¨‹åºå¯èƒ½ä¼šåˆ‡æ¢åˆ°å¦å¤–ä¸€ç§çŠ¶æ€ï¼Œä¹Ÿå¯èƒ½ä¼šä¿æŒå½“å‰çŠ¶æ€ä¸å˜ã€‚è¿™äº›æ•°é‡æœ‰é™ä¸”é¢„å…ˆå®šä¹‰çš„çŠ¶æ€åˆ‡æ¢è§„åˆ™è¢«ç§°ä¸ºè½¬ç§»ã€‚\n\nçŠ¶æ€æœºé€šå¸¸ç”±ä¼—å¤šæ¡ä»¶è¿ç®—ç¬¦ ï¼ˆ ifæˆ– switch ï¼‰ å®ç°ï¼Œå¯æ ¹æ®å¯¹è±¡çš„å½“å‰çŠ¶æ€é€‰æ‹©ç›¸åº”çš„è¡Œä¸ºã€‚ â€‹â€œçŠ¶æ€â€ é€šå¸¸åªæ˜¯å¯¹è±¡ä¸­çš„ä¸€ç»„æˆå‘˜å˜é‡å€¼ã€‚å³ä½¿ä½ ä¹‹å‰ä»æœªå¬è¯´è¿‡æœ‰é™çŠ¶æ€æœºï¼Œä½ ä¹Ÿå¾ˆå¯èƒ½å·²ç»å®ç°è¿‡çŠ¶æ€æ¨¡å¼ã€‚ä¸‹é¢çš„ä»£ç åº”è¯¥èƒ½å¸®åŠ©ä½ å›å¿†èµ·æ¥ã€‚\n\n```csharp\nclass Document is\n    field state: string\n    // ...\n    method publish() is\n        switch (state)\n            \"draft\":\n                state = \"moderation\"\n                break\n            \"moderation\":\n                if (currentUser.role == \"admin\")\n                    state = \"published\"\n                break\n            \"published\":\n                // ä»€ä¹ˆä¹Ÿä¸åšã€‚\n                break\n    // ...\n```\n\nå½“æˆ‘ä»¬é€æ­¥åœ¨æ–‡æ¡£ç±»ä¸­æ·»åŠ æ›´å¤šçŠ¶æ€å’Œä¾èµ–äºçŠ¶æ€çš„è¡Œä¸ºåï¼ŒåŸºäºæ¡ä»¶è¯­å¥çš„çŠ¶æ€æœºå°±ä¼šæš´éœ²å…¶æœ€å¤§çš„å¼±ç‚¹ã€‚ä¸ºäº†èƒ½æ ¹æ®å½“å‰çŠ¶æ€é€‰æ‹©å®Œæˆç›¸åº”è¡Œä¸ºçš„æ–¹æ³•ï¼Œç»å¤§éƒ¨åˆ†æ–¹æ³•ä¸­ä¼šåŒ…å«å¤æ‚çš„æ¡ä»¶è¯­å¥ã€‚ä¿®æ”¹å…¶è½¬æ¢é€»è¾‘å¯èƒ½ä¼šæ¶‰åŠåˆ°ä¿®æ”¹æ‰€æœ‰æ–¹æ³•ä¸­çš„çŠ¶æ€æ¡ä»¶è¯­å¥ï¼Œå¯¼è‡´ä»£ç çš„ç»´æŠ¤å·¥ä½œéå¸¸è‰°éš¾ã€‚\n\n##### è§£å†³æ–¹æ¡ˆ\n\nçŠ¶æ€æ¨¡å¼å»ºè®®ä¸ºå¯¹è±¡çš„æ‰€æœ‰å¯èƒ½çŠ¶æ€æ–°å»ºä¸€ä¸ªç±»ï¼Œç„¶åå°†æ‰€æœ‰çŠ¶æ€çš„å¯¹åº”è¡Œä¸ºæŠ½å–åˆ°è¿™äº›ç±»ä¸­ã€‚\n\nåŸå§‹å¯¹è±¡è¢«ç§°ä¸ºä¸Šä¸‹æ–‡(conÂ­text)ï¼Œå®ƒå¹¶ä¸ä¼šè‡ªè¡Œå®ç°æ‰€æœ‰è¡Œä¸ºï¼Œè€Œæ˜¯ä¼šä¿å­˜ä¸€ä¸ªæŒ‡å‘è¡¨ç¤ºå½“å‰çŠ¶æ€çš„çŠ¶æ€å¯¹è±¡çš„å¼•ç”¨ï¼Œä¸”å°†æ‰€æœ‰ä¸çŠ¶æ€ç›¸å…³çš„å·¥ä½œå§”æ´¾ç»™è¯¥å¯¹è±¡ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220825164123.png)\n\nå¦‚éœ€å°†ä¸Šä¸‹æ–‡è½¬æ¢ä¸ºå¦å¤–ä¸€ç§çŠ¶æ€ï¼Œåˆ™éœ€å°†å½“å‰æ´»åŠ¨çš„çŠ¶æ€å¯¹è±¡æ›¿æ¢ä¸ºå¦å¤–ä¸€ä¸ªä»£è¡¨æ–°çŠ¶æ€çš„å¯¹è±¡ã€‚é‡‡ç”¨è¿™ç§æ–¹å¼æ˜¯æœ‰å‰æçš„ï¼šæ‰€æœ‰çŠ¶æ€ç±»éƒ½å¿…é¡»éµå¾ªåŒæ ·çš„æ¥å£ï¼Œè€Œä¸”ä¸Šä¸‹æ–‡å¿…é¡»ä»…é€šè¿‡æ¥å£ä¸è¿™äº›å¯¹è±¡è¿›è¡Œäº¤äº’ã€‚\n\nè¿™ä¸ªç»“æ„å¯èƒ½çœ‹ä¸Šå»ä¸ç­–ç•¥æ¨¡å¼ç›¸ä¼¼ï¼Œä½†æœ‰ä¸€ä¸ªå…³é”®æ€§çš„ä¸åŒâ€”â€” åœ¨çŠ¶æ€æ¨¡å¼ä¸­ï¼Œç‰¹**å®šçŠ¶æ€çŸ¥é“å…¶ä»–æ‰€æœ‰çŠ¶æ€çš„å­˜åœ¨ï¼Œä¸”èƒ½è§¦å‘ä»ä¸€ä¸ªçŠ¶æ€åˆ°å¦ä¸€ä¸ªçŠ¶æ€çš„è½¬æ¢**ï¼›ç­–ç•¥åˆ™**å‡ ä¹å®Œå…¨ä¸çŸ¥é“å…¶ä»–ç­–ç•¥çš„å­˜åœ¨**ã€‚\n\n##### çŠ¶æ€æ¨¡å¼ç»“æ„\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220825164235.png)\n\n1.**ä¸Šä¸‹æ–‡(ConÂ­text)** ä¿å­˜äº†å¯¹äºä¸€ä¸ªå…·ä½“çŠ¶æ€å¯¹è±¡çš„å¼•ç”¨ï¼Œå¹¶ä¼šå°†æ‰€æœ‰ä¸è¯¥çŠ¶æ€ç›¸å…³çš„å·¥ä½œå§”æ´¾ç»™å®ƒã€‚ä¸Šä¸‹æ–‡é€šè¿‡çŠ¶æ€æ¥å£ä¸çŠ¶æ€å¯¹è±¡äº¤äº’ï¼Œä¸”ä¼šæä¾›ä¸€ä¸ªè®¾ç½®å™¨ç”¨äºä¼ é€’æ–°çš„çŠ¶æ€å¯¹è±¡ã€‚\n\n2.**çŠ¶æ€(State)** æ¥å£ä¼šå£°æ˜ç‰¹å®šäºçŠ¶æ€çš„æ–¹æ³•ã€‚è¿™äº›æ–¹æ³•åº”èƒ½è¢«å…¶ä»–æ‰€æœ‰å…·ä½“çŠ¶æ€æ‰€ç†è§£ï¼Œå› ä¸ºä½ ä¸å¸Œæœ›æŸäº›çŠ¶æ€æ‰€æ‹¥æœ‰çš„æ–¹æ³•æ°¸è¿œä¸ä¼šè¢«è°ƒç”¨ã€‚\n\n3.**å…·ä½“çŠ¶æ€(ConÂ­crete States)** ä¼šè‡ªè¡Œå®ç°ç‰¹å®šäºçŠ¶æ€çš„æ–¹æ³•ã€‚ä¸ºäº†é¿å…å¤šä¸ªçŠ¶æ€ä¸­åŒ…å«ç›¸ä¼¼ä»£ç ï¼Œä½ å¯ä»¥æä¾›ä¸€ä¸ªå°è£…æœ‰éƒ¨åˆ†é€šç”¨è¡Œä¸ºçš„ä¸­é—´æŠ½è±¡ç±»ã€‚\nçŠ¶æ€å¯¹è±¡å¯å­˜å‚¨å¯¹äºä¸Šä¸‹æ–‡å¯¹è±¡çš„åå‘å¼•ç”¨ã€‚çŠ¶æ€å¯ä»¥é€šè¿‡è¯¥å¼•ç”¨ä»ä¸Šä¸‹æ–‡å¤„è·å–æ‰€éœ€ä¿¡æ¯ï¼Œå¹¶ä¸”èƒ½è§¦å‘çŠ¶æ€è½¬ç§»ã€‚\n\n4.ä¸Šä¸‹æ–‡å’Œå…·ä½“çŠ¶æ€éƒ½å¯ä»¥è®¾ç½®ä¸Šä¸‹æ–‡çš„ä¸‹ä¸ªçŠ¶æ€ï¼Œå¹¶å¯é€šè¿‡æ›¿æ¢è¿æ¥åˆ°ä¸Šä¸‹æ–‡çš„çŠ¶æ€å¯¹è±¡æ¥å®Œæˆå®é™…çš„çŠ¶æ€è½¬æ¢ã€‚\n\n##### ä¼ªä»£ç \n\nçŠ¶æ€æ¨¡å¼åœ¨æ¸¸æˆä¸­è¿˜æ˜¯ååˆ†å¸¸è§çš„ï¼Œæ¯”å¦‚äººç‰©åŠ¨ç”»çŠ¶æ€çš„å˜åŒ–ï¼Œä½†æ˜¯æ¯”è¾ƒå¤šçš„è¿˜æ˜¯AIä¸­ï¼Œä¸è¿‡æ˜¯ç®€å•æ¸¸æˆé‡Œçš„ï¼ˆå¤§å‹æ¸¸æˆçš„æ–¹æ¡ˆå¯èƒ½ä¸å¤ªä¸€æ ·ï¼‰\n\n```csharp\n//Contextç±»å°±æ˜¯è¦è¿›è¡ŒçŠ¶æ€å˜åŒ–çš„ç±»\nclass Context\n{\n    private State _state = null;\n\n    public Context(State state)\n    {\n        this.ChangeState(state);\n    }\n\n    public void ChangeState(State state)\n    {\n        Console.WriteLine($\"Context: Transition to {state.GetType().Name}.\");\n        this._state = state;\n        this._state.SetContext(this);\n    }\n\n    public void Request1()\n    {\n        this._state.Handle1();\n    }\n\n    public void Request2()\n    {\n        this._state.Handle2();\n    }\n}\n//çŠ¶æ€åŸºç±»\nabstract class State\n{\n    protected Context _context;\n\n    public void SetContext(Context context)\n    {\n        this._context = context;\n    }\n\n    public abstract void Handle1();\n\n    public abstract void Handle2();\n}\nclass ConcreteStateA : State\n{\n    public override void Handle1()\n    {\n       Console.WriteLine(\"ConcreteStateA handles request1.\");\n        Console.WriteLine(\"ConcreteStateA wants to change the state of the context.\");\n       this._context.ChangeState(new ConcreteStateB());\n    }\n\n    public override void Handle2()\n    {\n       Console.WriteLine(\"ConcreteStateA handles request2.\");\n    }\n}\nclass ConcreteStateB : State\n{\n    public override void Handle1()\n    {\n        Console.Write(\"ConcreteStateB handles request1.\");\n    }\n\n    public override void Handle2()\n    {\n        Console.WriteLine(\"ConcreteStateB handles request2.\");\n        Console.WriteLine(\"ConcreteStateB wants to change the state of the context.\");\n        this._context.ChangeState(new ConcreteStateA());\n    }\n}\n\n//å®¢æˆ·ç«¯ä»£ç \nvar context = new Context(new ConcreteStateA());\ncontext.Request1();\ncontext.Request2();\n\n/*è¿è¡Œç»“æœ\nContext: Transition to ConcreteStateA.\nConcreteStateA handles request1.\nConcreteStateA wants to change the state of the context.\nContext: Transition to ConcreteStateB.\nConcreteStateB handles request2.\nConcreteStateB wants to change the state of the context.\nContext: Transition to ConcreteStateA.\n*/\n```\n\n##### é€‚åˆçŠ¶æ€æ¨¡å¼çš„åœ°æ–¹\n\n- å¦‚æœå¯¹è±¡éœ€è¦æ ¹æ®è‡ªèº«å½“å‰çŠ¶æ€è¿›è¡Œä¸åŒè¡Œä¸ºï¼ŒåŒæ—¶çŠ¶æ€çš„æ•°é‡éå¸¸å¤šä¸”ä¸çŠ¶æ€ç›¸å…³çš„ä»£ç ä¼šé¢‘ç¹å˜æ›´çš„è¯ï¼Œå¯ä½¿ç”¨çŠ¶æ€æ¨¡å¼ã€‚\n- å¦‚æœæŸä¸ªç±»éœ€è¦æ ¹æ®æˆå‘˜å˜é‡çš„å½“å‰å€¼æ”¹å˜è‡ªèº«è¡Œä¸ºï¼Œä»è€Œéœ€è¦ä½¿ç”¨å¤§é‡çš„æ¡ä»¶è¯­å¥æ—¶ï¼Œå¯ä½¿ç”¨è¯¥æ¨¡å¼ã€‚\n- å½“ç›¸ä¼¼çŠ¶æ€å’ŒåŸºäºæ¡ä»¶çš„çŠ¶æ€æœºè½¬æ¢ä¸­å­˜åœ¨è®¸å¤šé‡å¤ä»£ç æ—¶ï¼Œå¯ä½¿ç”¨çŠ¶æ€æ¨¡å¼ã€‚\n\n##### çŠ¶æ€æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\n\n**ä¼˜ç‚¹** ï¼š\n\n- ç¬¦åˆSRP\n- ç¬¦åˆOCP\n- é€šè¿‡æ¶ˆé™¤è‡ƒè‚¿çš„çŠ¶æ€æœºæ¡ä»¶è¯­å¥ç®€åŒ–ä¸Šä¸‹æ–‡ä»£ç ã€‚\n\n**ç¼ºç‚¹** ï¼š\n\n- å¦‚æœçŠ¶æ€æœºåªæœ‰å¾ˆå°‘çš„å‡ ä¸ªçŠ¶æ€ï¼Œæˆ–è€…å¾ˆå°‘å‘ç”Ÿæ”¹å˜ï¼Œé‚£ä¹ˆåº”ç”¨è¯¥æ¨¡å¼å¯èƒ½ä¼šæ˜¾å¾—å°é¢˜å¤§ä½œã€‚\n\n#### Strategy(ç­–ç•¥æ¨¡å¼)\n\nç­–ç•¥æ¨¡å¼æ˜¯ä¸€ç§è¡Œä¸ºè®¾è®¡æ¨¡å¼ï¼Œå®ƒèƒ½è®©ä½ å®šä¹‰ä¸€ç³»åˆ—ç®—æ³•ï¼Œå¹¶å°†æ¯ç§ç®—æ³•åˆ†åˆ«æ”¾å…¥ç‹¬ç«‹çš„ç±»ä¸­ï¼Œä»¥ä½¿ç®—æ³•çš„å¯¹è±¡èƒ½å¤Ÿç›¸äº’æ›¿æ¢ã€‚\n\n##### é—®é¢˜\n\nä¸€å¤©ï¼Œä½ æ‰“ç®—ä¸ºæ¸¸å®¢ä»¬åˆ›å»ºä¸€æ¬¾å¯¼æ¸¸ç¨‹åºã€‚è¯¥ç¨‹åºçš„æ ¸å¿ƒåŠŸèƒ½æ˜¯æä¾›ç¾è§‚çš„åœ°å›¾ï¼Œ ä»¥å¸®åŠ©ç”¨æˆ·åœ¨ä»»ä½•åŸå¸‚ä¸­å¿«é€Ÿå®šä½ã€‚ç”¨æˆ·æœŸå¾…çš„ç¨‹åºæ–°åŠŸèƒ½æ˜¯è‡ªåŠ¨è·¯çº¿è§„åˆ’ï¼šä»–ä»¬å¸Œæœ›è¾“å…¥åœ°å€åå°±èƒ½åœ¨åœ°å›¾ä¸Šçœ‹åˆ°å‰å¾€ç›®çš„åœ°çš„æœ€å¿«è·¯çº¿ã€‚ç¨‹åºçš„é¦–ä¸ªç‰ˆæœ¬åªèƒ½è§„åˆ’å…¬è·¯è·¯çº¿ã€‚é©¾è½¦æ—…è¡Œçš„äººä»¬å¯¹æ­¤éå¸¸æ»¡æ„ã€‚ä½†å¾ˆæ˜¾ç„¶ï¼Œå¹¶éæ‰€æœ‰äººéƒ½ä¼šåœ¨åº¦å‡æ—¶å¼€è½¦ã€‚å› æ­¤ä½ åœ¨ä¸‹æ¬¡æ›´æ–°æ—¶æ·»åŠ äº†è§„åˆ’æ­¥è¡Œè·¯çº¿çš„åŠŸèƒ½ã€‚æ­¤åï¼Œä½ åˆæ·»åŠ äº†è§„åˆ’å…¬å…±äº¤é€šè·¯çº¿çš„åŠŸèƒ½ã€‚è€Œè¿™åªæ˜¯ä¸ªå¼€å§‹ã€‚ä¸ä¹…åï¼Œä½ åˆè¦ä¸ºéª‘è¡Œè€…è§„åˆ’è·¯çº¿ã€‚åˆè¿‡äº†ä¸€æ®µæ—¶é—´ï¼Œä½ åˆè¦ä¸ºæ¸¸è§ˆåŸå¸‚ä¸­çš„æ‰€æœ‰æ™¯ç‚¹è§„åˆ’è·¯çº¿ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220826203722.png)\n\n##### è§£å†³æ–¹æ¡ˆ\n\nç­–ç•¥æ¨¡å¼å»ºè®®**æ‰¾å‡ºè´Ÿè´£ç”¨è®¸å¤šä¸åŒæ–¹å¼å®Œæˆç‰¹å®šä»»åŠ¡çš„ç±»ï¼Œç„¶åå°†å…¶ä¸­çš„ç®—æ³•æŠ½å–åˆ°ä¸€ç»„**è¢«ç§°ä¸ºç­–ç•¥çš„ç‹¬ç«‹ç±»ä¸­ã€‚åä¸ºä¸Šä¸‹æ–‡çš„åŸå§‹ç±»å¿…é¡»åŒ…å«ä¸€ä¸ªæˆå‘˜å˜é‡æ¥å­˜å‚¨å¯¹äºæ¯ç§ç­–ç•¥çš„å¼•ç”¨ã€‚ä¸Šä¸‹æ–‡å¹¶ä¸æ‰§è¡Œä»»åŠ¡ï¼Œè€Œæ˜¯å°†å·¥ä½œå§”æ´¾ç»™å·²è¿æ¥çš„ç­–ç•¥å¯¹è±¡ã€‚ä¸Šä¸‹æ–‡ä¸è´Ÿè´£é€‰æ‹©ç¬¦åˆä»»åŠ¡éœ€è¦çš„ç®—æ³•â€”â€”å®¢æˆ·ç«¯ä¼šå°†æ‰€éœ€ç­–ç•¥ä¼ é€’ç»™ä¸Šä¸‹æ–‡ã€‚å®é™…ä¸Šï¼Œä¸Šä¸‹æ–‡å¹¶ä¸ååˆ†äº†è§£ç­–ç•¥ï¼Œå®ƒä¼šé€šè¿‡åŒæ ·çš„é€šç”¨æ¥å£ä¸æ‰€æœ‰ç­–ç•¥è¿›è¡Œäº¤äº’ï¼Œè€Œè¯¥æ¥å£åªéœ€æš´éœ²ä¸€ä¸ªæ–¹æ³•æ¥è§¦å‘æ‰€é€‰ç­–ç•¥ä¸­å°è£…çš„ç®—æ³•å³å¯ã€‚ï¼ˆä¸Šä¸‹æ–‡å…¶å®å°±æ˜¯ä¸»è§’ï¼‰\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220826205036.png)\n\n##### ç­–ç•¥æ¨¡å¼ç»“æ„\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220826205148.png)\n\n1.**ä¸Šä¸‹æ–‡(ConÂ­text)** ç»´æŠ¤æŒ‡å‘å…·ä½“ç­–ç•¥çš„å¼•ç”¨ï¼Œä¸”ä»…é€šè¿‡ç­–ç•¥æ¥å£ä¸è¯¥å¯¹è±¡è¿›è¡Œäº¤æµã€‚\n\n2.**ç­–ç•¥(StratÂ­eÂ­gy)** æ¥å£æ˜¯æ‰€æœ‰å…·ä½“ç­–ç•¥çš„é€šç”¨æ¥å£ï¼Œå®ƒå£°æ˜äº†ä¸€ä¸ªä¸Šä¸‹æ–‡ç”¨äºæ‰§è¡Œç­–ç•¥çš„æ–¹æ³•ã€‚\n\n3.**å…·ä½“ç­–ç•¥(ConÂ­crete StrateÂ­gies)** å®ç°äº†ä¸Šä¸‹æ–‡æ‰€ç”¨ç®—æ³•çš„å„ç§ä¸åŒå˜ä½“ã€‚\n\n4.å½“ä¸Šä¸‹æ–‡éœ€è¦è¿è¡Œç®—æ³•æ—¶ï¼Œå®ƒä¼šåœ¨å…¶å·²è¿æ¥çš„ç­–ç•¥å¯¹è±¡ä¸Šè°ƒç”¨æ‰§è¡Œæ–¹æ³•ã€‚ä¸Šä¸‹æ–‡ä¸æ¸…æ¥šå…¶æ‰€æ¶‰åŠçš„ç­–ç•¥ç±»å‹ä¸ç®—æ³•çš„æ‰§è¡Œæ–¹å¼ã€‚\n\n5.**å®¢æˆ·ç«¯(Client)** ä¼šåˆ›å»ºä¸€ä¸ªç‰¹å®šç­–ç•¥å¯¹è±¡å¹¶å°†å…¶ä¼ é€’ç»™ä¸Šä¸‹æ–‡ã€‚ä¸Šä¸‹æ–‡åˆ™ä¼šæä¾›ä¸€ä¸ªè®¾ç½®å™¨ä»¥ä¾¿å®¢æˆ·ç«¯åœ¨è¿è¡Œæ—¶æ›¿æ¢ç›¸å…³è”çš„ç­–ç•¥ã€‚\n\n##### ä¼ªä»£ç \n\nç”±äºè·ŸçŠ¶æ€æ¨¡å¼å¾ˆç›¸è¿‘ï¼Œè¿˜æ˜¯å¾ˆå®¹æ˜“ç†è§£çš„ï¼Œæ³¨æ„ä¸€ä¸‹ä¸åŒå°±å¯ä»¥ã€‚\n\n```csharp\n//Contextä¸»ä½“ç±»ï¼Œå…¶å®å¯ä»¥æ˜¯Playerç±»ï¼Œç›¸å½“äºä¸»é¢˜åšæ“ä½œçš„ç±»\nclass Context\n{\n    //ä½¿ç”¨çš„ç­–ç•¥\n    private IStrategy _strategy;\n\n    public Context() {}\n\n    public Context(IStrategy strategy)\n    {\n        this._strategy = strategy;\n    }\n\n    public void SetStrategy(IStrategy strategy)\n    {\n        this._strategy = strategy;\n    }\n\n    //æ ¹æ®ç­–ç•¥è¿›è¡Œæ“ä½œ\n    public void DoSomeBusinessLogic()\n    {\n        Console.WriteLine(\"Context: Sorting data using the strategy (not sure how it'll do it)\");\n        var result = this._strategy.DoAlgorithm(new List<string> { \"a\", \"b\", \"c\", \"d\", \"e\" });\n\n        string resultStr = string.Empty;\n        foreach (var element in result as List<string>)\n        {\n            resultStr += element + \",\";\n        }\n\n        Console.WriteLine(resultStr);\n    }\n}\n//Strategyæ¥å£å£°æ˜æ–¹æ³•\npublic interface IStrategy\n{\n    object DoAlgorithm(object data);\n}\n//å…·ä½“ç­–ç•¥\nclass ConcreteStrategyA : IStrategy\n{\n    public object DoAlgorithm(object data)\n    {\n        var list = data as List<string>;\n        list.Sort();\n\n        return list;\n    }\n}\n\nclass ConcreteStrategyB : IStrategy\n{\n    public object DoAlgorithm(object data)\n    {\n        var list = data as List<string>;\n        list.Sort();\n        list.Reverse();\n\n        return list;\n    }\n}\n\n//å®¢æˆ·ç«¯ä»£ç \nvar context = new Context();\n\nConsole.WriteLine(\"Client: Strategy is set to normal sorting.\");\ncontext.SetStrategy(new ConcreteStrategyA());\ncontext.DoSomeBusinessLogic();\n            \nConsole.WriteLine();\n            \nConsole.WriteLine(\"Client: Strategy is set to reverse sorting.\");\ncontext.SetStrategy(new ConcreteStrategyB());\ncontext.DoSomeBusinessLogic();\n\n/*è¿è¡Œç»“æœ\nClient: Strategy is set to normal sorting.\nContext: Sorting data using the strategy (not sure how it'll do it)\na,b,c,d,e\n\nClient: Strategy is set to reverse sorting.\nContext: Sorting data using the strategy (not sure how it'll do it)\ne,d,c,b,a\n*/\n```\n\n##### é€‚åˆç­–ç•¥æ¨¡å¼çš„åœ°æ–¹\n\n- å½“ä½ æƒ³ä½¿ç”¨å¯¹è±¡ä¸­å„ç§ä¸åŒçš„ç®—æ³•å˜ä½“ï¼Œå¹¶å¸Œæœ›èƒ½åœ¨è¿è¡Œæ—¶åˆ‡æ¢ç®—æ³•æ—¶ï¼Œå¯ä½¿ç”¨ç­–ç•¥æ¨¡å¼ã€‚\n- å½“ä½ æœ‰è®¸å¤šä»…åœ¨æ‰§è¡ŒæŸäº›è¡Œä¸ºæ—¶ç•¥æœ‰ä¸åŒçš„ç›¸ä¼¼ç±»æ—¶ï¼Œå¯ä½¿ç”¨ç­–ç•¥æ¨¡å¼ã€‚\n- å¦‚æœç®—æ³•åœ¨ä¸Šä¸‹æ–‡çš„é€»è¾‘ä¸­ä¸æ˜¯ç‰¹åˆ«é‡è¦ï¼Œä½¿ç”¨è¯¥æ¨¡å¼èƒ½å°†ç±»çš„ä¸šåŠ¡é€»è¾‘ä¸å…¶ç®—æ³•å®ç°ç»†èŠ‚éš”ç¦»å¼€æ¥ã€‚\n- å½“ç±»ä¸­ä½¿ç”¨äº†å¤æ‚æ¡ä»¶è¿ç®—ç¬¦ä»¥åœ¨åŒä¸€ç®—æ³•çš„ä¸åŒå˜ä½“ä¸­åˆ‡æ¢æ—¶ï¼Œå¯ä½¿ç”¨è¯¥æ¨¡å¼ã€‚\n\n##### ç­–ç•¥æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\n\n**ä¼˜ç‚¹** ï¼š\n\n- ä½ å¯ä»¥åœ¨è¿è¡Œæ—¶åˆ‡æ¢å¯¹è±¡å†…çš„ç®—æ³•ã€‚\n- ä½ å¯ä»¥å°†ç®—æ³•çš„å®ç°å’Œä½¿ç”¨ç®—æ³•çš„ä»£ç éš”ç¦»å¼€æ¥ã€‚\n- ä½ å¯ä»¥ä½¿ç”¨ç»„åˆæ¥ä»£æ›¿ç»§æ‰¿ã€‚\n- ç¬¦åˆOCP\n\n**ç¼ºç‚¹** ï¼š\n\n- å¦‚æœä½ çš„ç®—æ³•æå°‘å‘ç”Ÿæ”¹å˜ï¼Œé‚£ä¹ˆæ²¡æœ‰ä»»ä½•ç†ç”±å¼•å…¥æ–°çš„ç±»å’Œæ¥å£ã€‚ä½¿ç”¨è¯¥æ¨¡å¼åªä¼šè®©ç¨‹åºè¿‡äºå¤æ‚ã€‚\n- å®¢æˆ·ç«¯å¿…é¡»çŸ¥æ™“ç­–ç•¥é—´çš„ä¸åŒâ€”â€”å®ƒéœ€è¦é€‰æ‹©åˆé€‚çš„ç­–ç•¥ã€‚\n- è®¸å¤šç°ä»£ç¼–ç¨‹è¯­è¨€æ”¯æŒå‡½æ•°ç±»å‹åŠŸèƒ½ï¼Œå…è®¸ä½ åœ¨ä¸€ç»„åŒ¿åå‡½æ•°ä¸­å®ç°ä¸åŒç‰ˆæœ¬çš„ç®—æ³•ã€‚è¿™æ ·ï¼Œä½ ä½¿ç”¨è¿™äº›å‡½æ•°çš„æ–¹å¼å°±å’Œä½¿ç”¨ç­–ç•¥å¯¹è±¡æ—¶å®Œå…¨ç›¸åŒï¼Œæ— éœ€å€ŸåŠ©é¢å¤–çš„ç±»å’Œæ¥å£æ¥ä¿æŒä»£ç ç®€æ´ã€‚\n\n#### Template Method(æ¨¡æ¿æ–¹æ³•æ¨¡å¼)\n\næ¨¡æ¿æ–¹æ³•æ¨¡å¼æ˜¯ä¸€ç§è¡Œä¸ºè®¾è®¡æ¨¡å¼ï¼Œå®ƒåœ¨è¶…ç±»ä¸­å®šä¹‰äº†ä¸€ä¸ªç®—æ³•çš„æ¡†æ¶ï¼Œå…è®¸å­ç±»åœ¨ä¸ä¿®æ”¹ç»“æ„çš„æƒ…å†µä¸‹é‡å†™ç®—æ³•çš„ç‰¹å®šæ­¥éª¤ã€‚\n\n##### é—®é¢˜\n\nå‡å¦‚ä½ æ­£åœ¨å¼€å‘ä¸€æ¬¾åˆ†æå…¬å¸æ–‡æ¡£çš„æ•°æ®æŒ–æ˜ç¨‹åºã€‚ ç”¨æˆ·éœ€è¦å‘ç¨‹åºè¾“å…¥å„ç§æ ¼å¼ ï¼ˆPDFã€ DOC æˆ– CSVï¼‰ çš„æ–‡æ¡£ï¼Œç¨‹åºåˆ™ä¼šè¯•å›¾ä»è¿™äº›æ–‡ä»¶ä¸­æŠ½å–æœ‰æ„ä¹‰çš„æ•°æ®ï¼Œå¹¶ä»¥ç»Ÿä¸€çš„æ ¼å¼å°†å…¶è¿”å›ç»™ç”¨æˆ·ã€‚\n\nè¯¥ç¨‹åºçš„é¦–ä¸ªç‰ˆæœ¬ä»…æ”¯æŒ DOC æ–‡ä»¶ã€‚åœ¨æ¥ä¸‹æ¥çš„ä¸€ä¸ªç‰ˆæœ¬ä¸­ï¼Œç¨‹åºèƒ½å¤Ÿæ”¯æŒ CSV æ–‡ä»¶ã€‚ä¸€ä¸ªæœˆåï¼Œä½  â€œæ•™ä¼šâ€ äº†ç¨‹åºä» PDF æ–‡ä»¶ä¸­æŠ½å–æ•°æ®ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220826213247.png)\n\nä¸€æ®µæ—¶é—´åï¼Œä½ å‘ç°è¿™ä¸‰ä¸ªç±»ä¸­åŒ…å«è®¸å¤šç›¸ä¼¼ä»£ç ã€‚ å°½ç®¡è¿™äº›ç±»å¤„ç†ä¸åŒæ•°æ®æ ¼å¼çš„ä»£ç å®Œå…¨ä¸åŒï¼Œä½†æ•°æ®å¤„ç†å’Œåˆ†æçš„ä»£ç å´å‡ ä¹å®Œå…¨ä¸€æ ·ã€‚å¦‚æœèƒ½åœ¨ä¿æŒç®—æ³•ç»“æ„å®Œæ•´çš„æƒ…å†µä¸‹å»é™¤é‡å¤ä»£ç ï¼Œè¿™éš¾é“ä¸æ˜¯ä¸€ä»¶å¾ˆæ£’çš„äº‹æƒ…å—ï¼Ÿ\n\nè¿˜æœ‰å¦ä¸€ä¸ªä¸ä½¿ç”¨è¿™äº›ç±»çš„å®¢æˆ·ç«¯ä»£ç ç›¸å…³çš„é—®é¢˜ï¼šå®¢æˆ·ç«¯ä»£ç ä¸­åŒ…å«è®¸å¤šæ¡ä»¶è¯­å¥ï¼Œä»¥æ ¹æ®ä¸åŒçš„å¤„ç†å¯¹è±¡ç±»å‹é€‰æ‹©åˆé€‚çš„å¤„ç†è¿‡ç¨‹ã€‚å¦‚æœæ‰€æœ‰å¤„ç†æ•°æ®çš„ç±»éƒ½æ‹¥æœ‰ç›¸åŒçš„æ¥å£æˆ–åŸºç±»ï¼Œé‚£ä¹ˆä½ å°±å¯ä»¥å»é™¤å®¢æˆ·ç«¯ä»£ç ä¸­çš„æ¡ä»¶è¯­å¥ï¼Œè½¬è€Œä½¿ç”¨å¤šæ€æœºåˆ¶æ¥åœ¨å¤„ç†å¯¹è±¡ä¸Šè°ƒç”¨å‡½æ•°ã€‚\n\n##### è§£å†³æ–¹æ¡ˆ\n\næ¨¡æ¿æ–¹æ³•æ¨¡å¼å»ºè®®å°†ç®—æ³•åˆ†è§£ä¸ºä¸€ç³»åˆ—æ­¥éª¤ï¼Œç„¶åå°†è¿™äº›æ­¥éª¤æ”¹å†™ä¸ºæ–¹æ³•ï¼Œæœ€ååœ¨ â€œæ¨¡æ¿æ–¹æ³•â€ ä¸­ä¾æ¬¡è°ƒç”¨è¿™äº›æ–¹æ³•ã€‚æ­¥éª¤å¯ä»¥æ˜¯æŠ½è±¡çš„ï¼Œä¹Ÿå¯ä»¥æœ‰ä¸€äº›é»˜è®¤çš„å®ç°ã€‚ä¸ºäº†èƒ½å¤Ÿä½¿ç”¨ç®—æ³•ï¼Œå®¢æˆ·ç«¯éœ€è¦è‡ªè¡Œæä¾›å­ç±»å¹¶å®ç°æ‰€æœ‰çš„æŠ½è±¡æ­¥éª¤ã€‚å¦‚æœ‰å¿…è¦è¿˜éœ€é‡å†™ä¸€äº›æ­¥éª¤ ï¼ˆä½†è¿™ä¸€æ­¥ä¸­ä¸åŒ…æ‹¬æ¨¡æ¿æ–¹æ³•è‡ªèº«ï¼‰ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220826213427.png)\n\né¦–å…ˆï¼Œ æˆ‘ä»¬å°†æ‰€æœ‰æ­¥éª¤å£°æ˜ä¸º æŠ½è±¡ç±»å‹ï¼Œ å¼ºåˆ¶è¦æ±‚å­ç±»è‡ªè¡Œå®ç°è¿™äº›æ–¹æ³•ã€‚ åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œ å­ç±»ä¸­å·²æœ‰æ‰€æœ‰å¿…è¦çš„å®ç°ï¼Œ å› æ­¤æˆ‘ä»¬åªéœ€è°ƒæ•´è¿™äº›æ–¹æ³•çš„ç­¾åï¼Œ ä½¿ä¹‹ä¸è¶…ç±»çš„æ–¹æ³•åŒ¹é…å³å¯ã€‚\n\nç°åœ¨ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•å»é™¤é‡å¤ä»£ç ã€‚å¯¹äºä¸åŒçš„æ•°æ®æ ¼å¼ï¼Œæ‰“å¼€å’Œå…³é—­æ–‡ä»¶ä»¥åŠæŠ½å–å’Œè§£ææ•°æ®çš„ä»£ç éƒ½ä¸åŒï¼Œå› æ­¤æ— éœ€ä¿®æ”¹è¿™äº›æ–¹æ³•ã€‚ä½†åˆ†æåŸå§‹æ•°æ®å’Œç”ŸæˆæŠ¥å‘Šç­‰å…¶ä»–æ­¥éª¤çš„å®ç°æ–¹å¼éå¸¸ç›¸ä¼¼ï¼Œå› æ­¤å¯å°†å…¶æå–åˆ°åŸºç±»ä¸­ï¼Œä»¥è®©å­ç±»å…±äº«è¿™äº›ä»£ç ã€‚\n\næ­£å¦‚ä½ æ‰€çœ‹åˆ°çš„é‚£æ ·ï¼Œæˆ‘ä»¬æœ‰ä¸¤ç§ç±»å‹çš„æ­¥éª¤ï¼š\n\n- æŠ½è±¡æ­¥éª¤å¿…é¡»ç”±å„ä¸ªå­ç±»æ¥å®ç°\n- å¯é€‰æ­¥éª¤å·²æœ‰ä¸€äº›é»˜è®¤å®ç°ï¼Œä½†ä»å¯åœ¨éœ€è¦æ—¶è¿›è¡Œé‡å†™\n\nè¿˜æœ‰å¦ä¸€ç§åä¸ºé’©å­çš„æ­¥éª¤ã€‚é’©å­æ˜¯å†…å®¹ä¸ºç©ºçš„å¯é€‰æ­¥éª¤ã€‚å³ä½¿ä¸é‡å†™é’©å­ï¼Œæ¨¡æ¿æ–¹æ³•ä¹Ÿèƒ½å·¥ä½œã€‚é’©å­é€šå¸¸æ”¾ç½®åœ¨ç®—æ³•é‡è¦æ­¥éª¤çš„å‰åï¼Œä¸ºå­ç±»æä¾›é¢å¤–çš„ç®—æ³•æ‰©å±•ç‚¹ã€‚\n\n##### æ¨¡æ¿æ–¹æ³•æ¨¡å¼ç»“æ„\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220826214113.png)\n\n1.**æŠ½è±¡ç±»(AbstractÂ­Class)** ä¼šå£°æ˜ä½œä¸ºç®—æ³•æ­¥éª¤çš„æ–¹æ³•ï¼Œä»¥åŠä¾æ¬¡è°ƒç”¨å®ƒä»¬çš„å®é™…æ¨¡æ¿æ–¹æ³•ã€‚ç®—æ³•æ­¥éª¤å¯ä»¥è¢«å£°æ˜ä¸º æŠ½è±¡ç±»å‹ï¼Œä¹Ÿå¯ä»¥æä¾›ä¸€äº›é»˜è®¤å®ç°ã€‚\n\n2.**å…·ä½“ç±»(ConÂ­creteÂ­Class)** å¯ä»¥é‡å†™æ‰€æœ‰æ­¥éª¤ï¼Œä½†ä¸èƒ½é‡å†™æ¨¡æ¿æ–¹æ³•è‡ªèº«ã€‚\n\n##### ä¼ªä»£ç \n\næœ¬ä¾‹ä¸­çš„æ¨¡æ¿æ–¹æ³•æ¨¡å¼ä¸ºä¸€æ¬¾ç®€å•ç­–ç•¥æ¸¸æˆä¸­äººå·¥æ™ºèƒ½çš„ä¸åŒåˆ†æ”¯æä¾› â€œæ¡†æ¶â€ã€‚æ¸¸æˆä¸­æ‰€æœ‰çš„ç§æ—éƒ½æœ‰å‡ ä¹åŒç±»çš„å•ä½å’Œå»ºç­‘ã€‚å› æ­¤ä½ å¯ä»¥åœ¨ä¸åŒçš„ç§æ—ä¸Šå¤ç”¨ç›¸åŒçš„ AI ç»“æ„ï¼ŒåŒæ—¶è¿˜éœ€è¦å…·å¤‡é‡å†™ä¸€äº›ç»†èŠ‚çš„èƒ½åŠ›ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œä½ å¯ä»¥é‡å†™åŠå…½äººçš„ AI ä½¿å…¶æ›´å¯Œæ”»å‡»æ€§ï¼Œä¹Ÿå¯ä»¥è®©äººç±»ä¾§é‡é˜²å®ˆï¼Œè¿˜å¯ä»¥ç¦æ­¢æ€ªç‰©å»ºé€ å»ºç­‘ã€‚åœ¨æ¸¸æˆä¸­æ–°å¢ç§æ—éœ€è¦åˆ›å»ºæ–°çš„ AI å­ç±»ï¼Œè¿˜éœ€è¦é‡å†™ AI åŸºç±»ä¸­æ‰€å£°æ˜çš„é»˜è®¤æ–¹æ³•ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220826214223.png)\n\n```csharp\n//è¿™ä¸‹çœŸçš„æ˜¯ä¼ªä»£ç äº†\n// æŠ½è±¡ç±»å®šä¹‰äº†ä¸€ä¸ªæ¨¡æ¿æ–¹æ³•ï¼Œå…¶ä¸­é€šå¸¸ä¼šåŒ…å«æŸä¸ªç”±æŠ½è±¡åŸè¯­æ“ä½œè°ƒç”¨ç»„æˆçš„ç®—\n// æ³•æ¡†æ¶ã€‚å…·ä½“å­ç±»ä¼šå®ç°è¿™äº›æ“ä½œï¼Œä½†æ˜¯ä¸ä¼šå¯¹æ¨¡æ¿æ–¹æ³•åšå‡ºä¿®æ”¹ã€‚\nabstract class GameAI\n{\n    //æŸäº›æ­¥éª¤å¯ä»¥åœ¨åŸºç±»ä¸­å®ç°\n    public void turn()\n    {\n        collectResources();\n        buildStructures();\n        buildUnits();\n        attack();\n    }\n\n    public void collectResources()\n    {\n        foreach(var s in this.builtStructures)\n        {\n            s.collect();\n        }\n    }\n\n    public abstract void buildStructures();\n    public abstract void buildUnits();\n\n    public void attack()\n    {\n        var enemy = cloestEnemy();\n        if(enemy == null)\n        {\n            sendScouts(map.center);\n        }\n        else \n            sendWarriors(enemy.position);\n    }\n\n    public abstract void sendScouts(position);\n    public abstract void sendWarriors(position);\n}\n\nclass OrcsAI : GameAI\n{\n    public override void buildStructures()\n    {\n        if (there are some resources) \n        {\n            // å»ºé€ å†œåœºï¼Œæ¥ç€æ˜¯è°·ä»“ï¼Œç„¶åæ˜¯è¦å¡ã€‚\n        }\n    }\n\n    public override void buildUnits()\n    {\n        if (there are plenty of resources) \n        {\n            if (there are no scouts)\n            {\n                // å»ºé€ è‹¦å·¥ï¼Œå°†å…¶åŠ å…¥ä¾¦æŸ¥ç¼–ç»„ã€‚\n            }\n            else\n            {\n                // å»ºé€ å…½æ—æ­¥å…µï¼Œå°†å…¶åŠ å…¥æˆ˜å£«ç¼–ç»„ã€‚\n            }\n        }\n    }\n\n    public override void sendScouts(position)\n    {\n        if(scouts.length > 0)\n        {\n            // å°†ä¾¦æŸ¥ç¼–ç»„é€åˆ°æŒ‡å®šä½ç½®ã€‚\n        }\n    }\n\n    public override void sendWarriors(position)\n    {\n        if(warriors.length > 5)\n        {\n            // å°†æˆ˜æ–—ç¼–ç»„é€åˆ°æŒ‡å®šä½ç½®ã€‚\n        }\n    }\n}\n\nclass MonstersAI : GameAI\n{\n    public override void collectResources()\n    {\n        // æ€ªç‰©ä¸ä¼šé‡‡é›†èµ„æºã€‚\n    }\n\n    public override void buildStructures()\n    {\n        // æ€ªç‰©ä¸ä¼šå»ºé€ å»ºç­‘ã€‚\n    }\n\n    public override void buildUnits()\n    {\n        // æ€ªç‰©ä¸ä¼šå»ºé€ å•ä½ã€‚\n    }\n}\n```\n\n##### é€‚åˆæ¨¡æ¿æ–¹æ³•æ¨¡å¼çš„åœ°æ–¹\n\n- å½“ä½ åªå¸Œæœ›å®¢æˆ·ç«¯æ‰©å±•æŸä¸ªç‰¹å®šç®—æ³•æ­¥éª¤ï¼Œè€Œä¸æ˜¯æ•´ä¸ªç®—æ³•æˆ–å…¶ç»“æ„æ—¶ï¼Œå¯ä½¿ç”¨æ¨¡æ¿æ–¹æ³•æ¨¡å¼ã€‚\n- å½“å¤šä¸ªç±»çš„ç®—æ³•é™¤ä¸€äº›ç»†å¾®ä¸åŒä¹‹å¤–å‡ ä¹å®Œå…¨ä¸€æ ·æ—¶ï¼Œä½ å¯ä½¿ç”¨è¯¥æ¨¡å¼ã€‚ä½†å…¶åæœå°±æ˜¯ï¼Œåªè¦ç®—æ³•å‘ç”Ÿå˜åŒ–ï¼Œä½ å°±å¯èƒ½éœ€è¦ä¿®æ”¹æ‰€æœ‰çš„ç±»ã€‚\n\n##### æ¨¡æ¿æ–¹æ³•çš„ä¼˜ç¼ºç‚¹\n\n**ä¼˜ç‚¹** ï¼š\n\n- ä½ å¯ä»…å…è®¸å®¢æˆ·ç«¯é‡å†™ä¸€ä¸ªå¤§å‹ç®—æ³•ä¸­çš„ç‰¹å®šéƒ¨åˆ†ï¼Œä½¿å¾—ç®—æ³•å…¶ä»–éƒ¨åˆ†ä¿®æ”¹å¯¹å…¶æ‰€é€ æˆçš„å½±å“å‡å°ã€‚\n- ä½ å¯å°†é‡å¤ä»£ç æå–åˆ°ä¸€ä¸ªè¶…ç±»ä¸­ã€‚\n\n**ç¼ºç‚¹** ï¼š\n\n- éƒ¨åˆ†å®¢æˆ·ç«¯å¯èƒ½ä¼šå—åˆ°ç®—æ³•æ¡†æ¶çš„é™åˆ¶ã€‚\n- é€šè¿‡å­ç±»æŠ‘åˆ¶é»˜è®¤æ­¥éª¤å®ç°å¯èƒ½ä¼šå¯¼è‡´è¿åé‡Œæ°æ›¿æ¢åŸåˆ™(Liskov)ã€‚\n- æ¨¡æ¿æ–¹æ³•ä¸­çš„æ­¥éª¤è¶Šå¤šï¼Œ å…¶ç»´æŠ¤å·¥ä½œå°±å¯èƒ½ä¼šè¶Šå›°éš¾ã€‚\n\n#### Visitor(è®¿é—®è€…æ¨¡å¼)\n\nè®¿é—®è€…æ¨¡å¼æ˜¯ä¸€ç§è¡Œä¸ºè®¾è®¡æ¨¡å¼ï¼Œå®ƒèƒ½å°†ç®—æ³•ä¸å…¶æ‰€ä½œç”¨çš„å¯¹è±¡éš”ç¦»å¼€æ¥ã€‚\n\n##### é—®é¢˜\n\nå‡å¦‚ä½ çš„å›¢é˜Ÿå¼€å‘äº†ä¸€æ¬¾èƒ½å¤Ÿä½¿ç”¨å·¨å‹å›¾åƒä¸­åœ°ç†ä¿¡æ¯çš„åº”ç”¨ç¨‹åºã€‚å›¾åƒä¸­çš„æ¯ä¸ªèŠ‚ç‚¹æ—¢èƒ½ä»£è¡¨å¤æ‚å®ä½“ ï¼ˆä¾‹å¦‚ä¸€åº§åŸå¸‚ï¼‰ï¼Œä¹Ÿèƒ½ä»£è¡¨æ›´ç²¾ç»†çš„å¯¹è±¡ ï¼ˆä¾‹å¦‚å·¥ä¸šåŒºå’Œæ—…æ¸¸æ™¯ç‚¹ç­‰ï¼‰ã€‚å¦‚æœèŠ‚ç‚¹ä»£è¡¨çš„çœŸå®å¯¹è±¡ä¹‹é—´å­˜åœ¨å…¬è·¯ï¼Œé‚£ä¹ˆè¿™äº›èŠ‚ç‚¹å°±ä¼šç›¸äº’è¿æ¥ã€‚åœ¨ç¨‹åºå†…éƒ¨ï¼Œæ¯ä¸ªèŠ‚ç‚¹çš„ç±»å‹éƒ½ç”±å…¶æ‰€å±çš„ç±»æ¥è¡¨ç¤ºï¼Œæ¯ä¸ªç‰¹å®šçš„èŠ‚ç‚¹åˆ™æ˜¯ä¸€ä¸ªå¯¹è±¡ã€‚\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220826224114.png)\n\nä¸€æ®µæ—¶é—´åï¼Œä½ æ¥åˆ°äº†å®ç°å°†å›¾åƒå¯¼å‡ºåˆ° XML æ–‡ä»¶ä¸­çš„ä»»åŠ¡ã€‚è¿™äº›å·¥ä½œæœ€åˆçœ‹ä¸Šå»éå¸¸ç®€å•ã€‚ä½ è®¡åˆ’ä¸ºæ¯ä¸ªèŠ‚ç‚¹ç±»æ·»åŠ å¯¼å‡ºå‡½æ•°ï¼Œç„¶åé€’å½’æ‰§è¡Œå›¾åƒä¸­æ¯ä¸ªèŠ‚ç‚¹çš„å¯¼å‡ºå‡½æ•°ã€‚è§£å†³æ–¹æ¡ˆç®€å•ä¸”ä¼˜é›…ï¼šä½¿ç”¨å¤šæ€æœºåˆ¶å¯ä»¥è®©å¯¼å‡ºæ–¹æ³•çš„è°ƒç”¨ä»£ç ä¸ä¼šå’Œå…·ä½“çš„èŠ‚ç‚¹ç±»ç›¸è€¦åˆã€‚\n\nä½†ä½ ä¸å¤ªèµ°è¿ï¼Œç³»ç»Ÿæ¶æ„å¸ˆæ‹’ç»æ‰¹å‡†å¯¹å·²æœ‰èŠ‚ç‚¹ç±»è¿›è¡Œä¿®æ”¹ã€‚ä»–è®¤ä¸ºè¿™äº›ä»£ç å·²ç»æ˜¯äº§å“äº†ï¼Œä¸æƒ³å†’é™©å¯¹å…¶è¿›è¡Œä¿®æ”¹ï¼Œå› ä¸ºä¿®æ”¹å¯èƒ½ä¼šå¼•å…¥æ½œåœ¨çš„ç¼ºé™·ã€‚\n\næ­¤å¤–ï¼Œä»–è¿˜è´¨ç–‘åœ¨èŠ‚ç‚¹ç±»ä¸­åŒ…å«å¯¼å‡º XML æ–‡ä»¶çš„ä»£ç æ˜¯å¦æœ‰æ„ä¹‰ã€‚è¿™äº›ç±»çš„ä¸»è¦å·¥ä½œæ˜¯å¤„ç†åœ°ç†æ•°æ®ã€‚å¯¼å‡º XML æ–‡ä»¶çš„ä»£ç æ”¾åœ¨è¿™é‡Œå¹¶ä¸åˆé€‚ã€‚\n\nè¿˜æœ‰å¦ä¸€ä¸ªåŸå› ï¼Œé‚£å°±æ˜¯åœ¨æ­¤é¡¹ä»»åŠ¡å®Œæˆåï¼Œè¥é”€éƒ¨é—¨å¾ˆæœ‰å¯èƒ½ä¼šè¦æ±‚ç¨‹åºæä¾›å¯¼å‡ºå…¶ä»–ç±»å‹æ–‡ä»¶çš„åŠŸèƒ½ï¼Œæˆ–è€…æå‡ºå…¶ä»–å¥‡æ€ªçš„è¦æ±‚ã€‚è¿™æ ·ä½ å¾ˆå¯èƒ½ä¼šè¢«è¿«å†æ¬¡ä¿®æ”¹è¿™äº›é‡è¦ä½†è„†å¼±çš„ç±»ã€‚\n\n##### è§£å†³æ–¹æ¡ˆ\n\nè®¿é—®è€…æ¨¡å¼å»ºè®®å°†**æ–°è¡Œä¸ºæ”¾å…¥ä¸€ä¸ªåä¸ºè®¿é—®è€…çš„ç‹¬ç«‹ç±»ä¸­ï¼Œè€Œä¸æ˜¯è¯•å›¾å°†å…¶æ•´åˆåˆ°å·²æœ‰ç±»ä¸­**ã€‚ç°åœ¨ï¼Œéœ€è¦æ‰§è¡Œæ“ä½œçš„åŸå§‹å¯¹è±¡å°†ä½œä¸ºå‚æ•°è¢«ä¼ é€’ç»™è®¿é—®è€…ä¸­çš„æ–¹æ³•ï¼Œè®©æ–¹æ³•èƒ½è®¿é—®å¯¹è±¡æ‰€åŒ…å«çš„ä¸€åˆ‡å¿…è¦æ•°æ®ã€‚\n\n##### è®¿é—®è€…æ¨¡å¼ç»“æ„\n\n![img](https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220826230156.png)\n\n1.**è®¿é—®è€…(VisÂ­iÂ­tor)** æ¥å£å£°æ˜äº†ä¸€ç³»åˆ—ä»¥å¯¹è±¡ç»“æ„çš„å…·ä½“å…ƒç´ ä¸ºå‚æ•°çš„è®¿é—®è€…æ–¹æ³•ã€‚å¦‚æœç¼–ç¨‹è¯­è¨€æ”¯æŒé‡è½½ï¼Œè¿™äº›æ–¹æ³•çš„åç§°å¯ä»¥æ˜¯ç›¸åŒçš„ï¼Œä½†æ˜¯å…¶å‚æ•°ä¸€å®šæ˜¯ä¸åŒçš„ã€‚\n\n2.**å…·ä½“è®¿é—®è€…(ConÂ­crete VisÂ­iÂ­tor)** ä¼šä¸ºä¸åŒçš„å…·ä½“å…ƒç´ ç±»å®ç°ç›¸åŒè¡Œä¸ºçš„å‡ ä¸ªä¸åŒç‰ˆæœ¬ã€‚\n\n3.**å…ƒç´ (EleÂ­ment)** æ¥å£å£°æ˜äº†ä¸€ä¸ªæ–¹æ³•æ¥ â€œæ¥æ”¶â€ è®¿é—®è€…ã€‚è¯¥æ–¹æ³•å¿…é¡»æœ‰ä¸€ä¸ªå‚æ•°è¢«å£°æ˜ä¸ºè®¿é—®è€…æ¥å£ç±»å‹ã€‚\n\n4.**å…·ä½“å…ƒç´ (ConÂ­crete EleÂ­ment)** å¿…é¡»å®ç°æ¥æ”¶æ–¹æ³•ã€‚è¯¥æ–¹æ³•çš„ç›®çš„æ˜¯æ ¹æ®å½“å‰å…ƒç´ ç±»å°†å…¶è°ƒç”¨é‡å®šå‘åˆ°ç›¸åº”è®¿é—®è€…çš„æ–¹æ³•ã€‚è¯·æ³¨æ„ï¼Œå³ä½¿å…ƒç´ åŸºç±»å®ç°äº†è¯¥æ–¹æ³•ï¼Œæ‰€æœ‰å­ç±»éƒ½å¿…é¡»å¯¹å…¶è¿›è¡Œé‡å†™å¹¶è°ƒç”¨è®¿é—®è€…å¯¹è±¡ä¸­çš„åˆé€‚æ–¹æ³•ã€‚\n\n5.**å®¢æˆ·ç«¯(Client)** é€šå¸¸ä¼šä½œä¸ºé›†åˆæˆ–å…¶ä»–å¤æ‚å¯¹è±¡ï¼ˆä¾‹å¦‚ä¸€ä¸ªç»„åˆæ ‘ï¼‰çš„ä»£è¡¨ã€‚å®¢æˆ·ç«¯é€šå¸¸ä¸çŸ¥æ™“æ‰€æœ‰çš„å…·ä½“å…ƒç´ ç±»ï¼Œå› ä¸ºå®ƒä»¬ä¼šé€šè¿‡æŠ½è±¡æ¥å£ä¸é›†åˆä¸­çš„å¯¹è±¡è¿›è¡Œäº¤äº’ã€‚\n\n##### ä¼ªä»£ç \n\nè®¿é—®è€…ä¸æ˜¯å¸¸ç”¨çš„è®¾è®¡æ¨¡å¼ï¼Œå› ä¸ºå®ƒä¸ä»…å¤æ‚ï¼Œåº”ç”¨èŒƒå›´ä¹Ÿæ¯”è¾ƒç‹­çª„ã€‚\n\n```csharp\n//Componentæ¥å£å£°æ˜ä¸€ä¸ªacceptæ–¹æ³•æ¥ä½¿ç”¨visitoræ¥å£\npublic interface IComponent\n{\n    void Accept(IVisitor visitor);\n}\n//å…·ä½“Componentç±»\npublic class ConcreteComponentA : IComponent\n{\n    public void Accept(IVisitor visitor)\n    {\n        visitor.VisitCOncreteComponentA(this);\n    }\n\n    //å…·ä½“Componentç±»ä¸­ä¸€äº›è‡ªå·±çš„æ–¹æ³•\n    public string ExclusiveMethodOfConcreteComponentA()\n    {\n        return \"A\";\n    }\n}\npublic class ConcreteComponentB : IComponent\n{\n    public void Accept(IVisitor visitor)\n    {\n        visitor.VisitCOncreteComponentB(this);\n    }\n\n    //å…·ä½“Componentç±»ä¸­ä¸€äº›è‡ªå·±çš„æ–¹æ³•\n    public string ExclusiveMethodOfConcreteComponentB()\n    {\n        return \"B\";\n    }\n}\n//Visitoræ¥å£å£°æ˜ä¸€ç³»åˆ—è®¿é—®Componentçš„æ–¹æ³•\npublic interface IVisitor\n{\n    void VisitConcreteComponentA(ConcreteComponentA element);\n\n    void VisitConcreteComponentB(ConcreteComponentB element);\n}\nclass ConcreteVisitor1 : IVisitor\n{\n    public void VisitConcreteComponentA(ConcreteComponentA element)\n    {\n        Console.WriteLine(element.ExclusiveMethodOfConcreteComponentA() + \" + ConcreteVisitor1\");\n    }\n\n    public void VisitConcreteComponentB(ConcreteComponentB element)\n    {\n        Console.WriteLine(element.SpecialMethodOfConcreteComponentB() + \" + ConcreteVisitor1\");\n    }\n}\nclass ConcreteVisitor2 : IVisitor\n{\n    public void VisitConcreteComponentA(ConcreteComponentA element)\n    {\n        Console.WriteLine(element.ExclusiveMethodOfConcreteComponentA() + \" + ConcreteVisitor2\");\n    }\n\n    public void VisitConcreteComponentB(ConcreteComponentB element)\n    {\n        Console.WriteLine(element.SpecialMethodOfConcreteComponentB() + \" + ConcreteVisitor2\");\n    }\n}\npublic class Client\n{\n    public static void ClientCode(List<IComponent> components, IVisitor visitor)\n    {\n        foreach (var component in components)\n        {\n            component.Accept(visitor);\n        }\n    }\n}\n//å®¢æˆ·ç«¯ä»£ç \nList<IComponent> components = new List<IComponent>\n{\n    new ConcreteComponentA(),\n    new ConcreteComponentB()\n};\n\nConsole.WriteLine(\"The client code works with all visitors via the base Visitor interface:\");\nvar visitor1 = new ConcreteVisitor1();\nClient.ClientCode(components,visitor1);\n\nConsole.WriteLine();\n\nConsole.WriteLine(\"It allows the same client code to work with different types of visitors:\");\nvar visitor2 = new ConcreteVisitor2();\nClient.ClientCode(components, visitor2);\n/*è¿è¡Œç»“æœ\nThe client code works with all visitors via the base Visitor interface:\nA + ConcreteVisitor1\nB + ConcreteVisitor1\n\nIt allows the same client code to work with different types of visitors:\nA + ConcreteVisitor2\nB + ConcreteVisitor2\n*/\n```\n\n##### é€‚åˆè®¿é—®è€…æ¨¡å¼çš„åœ°æ–¹\n\n- å¦‚æœä½ éœ€è¦å¯¹ä¸€ä¸ªå¤æ‚å¯¹è±¡ç»“æ„ï¼ˆä¾‹å¦‚å¯¹è±¡æ ‘ï¼‰ä¸­çš„æ‰€æœ‰å…ƒç´ æ‰§è¡ŒæŸäº›æ“ä½œï¼Œå¯ä½¿ç”¨è®¿é—®è€…æ¨¡å¼ã€‚\n- å¯ä½¿ç”¨è®¿é—®è€…æ¨¡å¼æ¥æ¸…ç†è¾…åŠ©è¡Œä¸ºçš„ä¸šåŠ¡é€»è¾‘ã€‚\n- å½“æŸä¸ªè¡Œä¸ºä»…åœ¨ç±»å±‚æ¬¡ç»“æ„ä¸­çš„ä¸€äº›ç±»ä¸­æœ‰æ„ä¹‰ï¼Œ è€Œåœ¨å…¶ä»–ç±»ä¸­æ²¡æœ‰æ„ä¹‰æ—¶ï¼Œå¯ä½¿ç”¨è¯¥æ¨¡å¼ã€‚\n\n##### è®¿é—®è€…æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\n\n**ä¼˜ç‚¹** ï¼š\n\n- ç¬¦åˆOCP\n- ç¬¦åˆSRP\n- è®¿é—®è€…å¯¹è±¡å¯ä»¥åœ¨ä¸å„ç§å¯¹è±¡äº¤äº’æ—¶æ”¶é›†ä¸€äº›æœ‰ç”¨çš„ä¿¡æ¯ã€‚å½“ä½ æƒ³è¦éå†ä¸€äº›å¤æ‚çš„å¯¹è±¡ç»“æ„ï¼ˆä¾‹å¦‚å¯¹è±¡æ ‘ï¼‰ï¼Œå¹¶åœ¨ç»“æ„ä¸­çš„æ¯ä¸ªå¯¹è±¡ä¸Šåº”ç”¨è®¿é—®è€…æ—¶ï¼Œè¿™äº›ä¿¡æ¯å¯èƒ½ä¼šæœ‰æ‰€å¸®åŠ©ã€‚\n\n**ç¼ºç‚¹** ï¼š\n\n- æ¯æ¬¡åœ¨å…ƒç´ å±‚æ¬¡ç»“æ„ä¸­æ·»åŠ æˆ–ç§»é™¤ä¸€ä¸ªç±»æ—¶ï¼Œä½ éƒ½è¦æ›´æ–°æ‰€æœ‰çš„è®¿é—®è€…ã€‚\n- åœ¨è®¿é—®è€…åŒæŸä¸ªå…ƒç´ è¿›è¡Œäº¤äº’æ—¶ï¼Œ å®ƒä»¬å¯èƒ½æ²¡æœ‰è®¿é—®å…ƒç´ ç§æœ‰æˆå‘˜å˜é‡å’Œæ–¹æ³•çš„å¿…è¦æƒé™ã€‚\n\n### åè®°\n\nè¿™æ¬¡èŠ±äº†å·®ä¸å¤š20å¤©çš„æ—¶é—´æ¥å†™è¿™ä¸€ä¸ªåšå®¢è®°å½•ä¸€ä¸‹å…³äºè®¾è®¡æ¨¡å¼çš„å­¦ä¹ ï¼Œå…¶å®çœ‹ä¹¦çš„æ—¶é—´ä¸ç®—é•¿ï¼Œä¸»è¦èŠ±æ—¶é—´çš„æ˜¯å†™å‡ºè®©äººå®¹æ˜“æ‡‚çš„åšå®¢ã€‚å­¦ä¹ äº†åˆæ­¥çš„è®¾è®¡æ¨¡å¼çš„çŸ¥è¯†ï¼Œä»¥å‰çœ‹è¿‡çš„ä½†æ˜¯ä¸æ˜¯å¾ˆæ‡‚çš„çŸ¥è¯†çªç„¶å°±æ˜ç™½äº†ä¸€äº›ã€‚å½“ç„¶ï¼Œç”±äºè‡ªèº«è¿˜æ²¡å†™è¿‡ä¸Šä¸‡è¡Œçš„ä»£ç ï¼Œåé¢è‚¯å®šè¿˜ä¼šåœ¨å¤ä¹ ä¸€ä¸‹è®¾è®¡æ¨¡å¼ï¼Œä¸è¿‡çœ‹çš„ä¹¦åº”è¯¥æ˜¯è®²è§£åœ°æ›´æ·±å…¥çš„ä¹¦ç±ã€‚\n\n### å‚è€ƒæ–‡çŒ®\n\n- ã€Šæ•æ·è½¯ä»¶è®¾è®¡å¼€å‘ã€‹\n- https://refactoring.guru/design-patterns(é€šä¿—æ˜“æ‡‚åœ°è®²è§£è®¾è®¡æ¨¡å¼çš„ç½‘ç«™ï¼Œå¤§éƒ¨åˆ†ä¾‹å­æ˜¯å¼•ç”¨å®ƒçš„)\n- https://www.runoob.com/design-pattern/design-pattern-tutorial.html(èœé¸Ÿæ•™ç¨‹ä¸­çš„è®¾è®¡æ¨¡å¼ï¼Œæä¾›æ›´å¤šçš„ä¾‹å­æ¥å­¦ä¹ )","slug":"design patterns","published":1,"updated":"2024-01-07T07:52:50.121Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clr4d2ju7000hgwv0fc1ic6f8","content":"<h3 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h3><p>æœ€è¿‘èŠ±äº†ç‚¹è¯»äº†ã€Šæ•æ·è½¯ä»¶å¼€å‘ã€‹è¿™æœ¬ä¹¦ï¼Œå…³äºè¿™æœ¬ä¹¦ï¼Œæˆ‘åŸºæœ¬ä¸Šæ˜¯éšä¾¿çœ‹çœ‹ï¼Œäº†è§£æœ‰ä»€ä¹ˆçŸ¥è¯†ï¼Œä¹Ÿå°±åœ¨ä»£ç éƒ¨åˆ†ï¼ˆå…·ä½“ç¤ºä¾‹æ–¹é¢ï¼‰èŠ±äº†äº›åŠŸå¤«ã€‚å°½ç®¡çŸ¥é“äº†è§£äº†è¿™äº›çŸ¥è¯†ï¼Œä½†æ˜¯åœ¨å·¥ç¨‹ä¸Šï¼Œæ²¡å†™ä¸ª1wè¡Œä»¥ä¸Šçš„ä»£ç è¿˜æ˜¯éš¾ä»¥èä¼šè´¯é€šã€‚æ¯•ç«Ÿç†è®ºå’Œå·¥ç¨‹æ˜¯ä¸ä¸€æ ·çš„ï¼Œå·¥ç¨‹å®ç°ç†è®ºè‡³å°‘æ˜¯ä¸¤ä¸ªæ•°é‡çº§ä»¥ä¸Šçš„éš¾åº¦ã€‚ä¸è¿‡é€šè¿‡ç”»ç®€å•çš„UMLå›¾å’ŒçŸ­å°çš„ä»£ç æ˜¯å¯ä»¥å¿«é€Ÿè®¤è¯†åˆ°æ˜¯ä»€ä¹ˆï¼Œç”¨æ¥åšä»€ä¹ˆï¼Œè¿™æ ·å°±è¶³å¤Ÿäº†ã€‚</p>\n<h3 id=\"ã€Šæ•æ·è½¯ä»¶å¼€å‘ã€‹é˜…è¯»ç»éªŒ\"><a href=\"#ã€Šæ•æ·è½¯ä»¶å¼€å‘ã€‹é˜…è¯»ç»éªŒ\" class=\"headerlink\" title=\"ã€Šæ•æ·è½¯ä»¶å¼€å‘ã€‹é˜…è¯»ç»éªŒ\"></a>ã€Šæ•æ·è½¯ä»¶å¼€å‘ã€‹é˜…è¯»ç»éªŒ</h3><p>è¿™æœ¬ä¹¦è¿˜æ˜¯ä¸€æœ¬å¾ˆå¥½çš„ä¹¦ï¼Œå¯¹äºäº†è§£æ•æ·å¼€å‘ï¼Œè®¾è®¡æ¨¡å¼æ˜¯è¶³å¤Ÿçš„ï¼ŒåŒæ—¶ä¹Ÿæœ‰è¶³å¤Ÿå¤šçš„æºä»£ç å¯ä»¥è¯»ã€‚æˆ‘è¯»çš„ä¸€ç‰ˆæ˜¯ã€Šæ•æ·è½¯ä»¶å¼€å‘ï¼šåŸåˆ™ã€æ¨¡å¼ä¸å®è·µã€‹c++ç‰ˆæœ¬çš„ï¼Œä¸è¿‡é‡Œé¢ä¹Ÿæœ‰javaï¼Œè™½ç„¶æˆ‘çš„ä¸»è¯­è¨€æ˜¯c#ï¼Œä½†æ˜¯ä¹Ÿæ˜¯é˜…è¯»èµ·æ¥ä¹Ÿä¸ä¼šå¤ªå›°éš¾ã€‚è¿™æœ¬ä¹¦ä¸­æ–‡ç‰ˆè™½ç„¶æ˜¯åœ¨03å¹´å‡ºç‰ˆçš„ï¼Œä½†æ˜¯åœ¨ç°åœ¨å¯¹äºæˆ‘è¿™ç§æœªå…¥è¡Œä¸šçš„å°ç™½ä¹Ÿæ˜¯ååˆ†æœ‰å¯å‘çš„ã€‚<br>æ ¹æ®æˆ‘è¿™æ¬¡é˜…è¯»çš„ç»éªŒï¼Œæˆ‘æ¨èç¬¬Iéƒ¨åˆ†ï¼ˆä¹Ÿå°±æ˜¯1-6ç« ï¼‰è¿˜æœ‰ç¬¬IIéƒ¨åˆ†çš„ç¬¬7ç« <strong>ç²—è¯»</strong>ï¼Œå¯¹åŸåˆ™å’Œè®¾è®¡æ¨¡å¼ä¹‹ç±»çš„è¿›è¡Œ<strong>é€šè¯»</strong>ï¼Œ18ï¼Œ19ç« çš„è–ªæ°´æ”¯ä»˜å®è·µè¿›è¡Œ<strong>ç»†è¯»</strong></p>\n<h3 id=\"ä»€ä¹ˆæ˜¯è®¾è®¡æ¨¡å¼\"><a href=\"#ä»€ä¹ˆæ˜¯è®¾è®¡æ¨¡å¼\" class=\"headerlink\" title=\"ä»€ä¹ˆæ˜¯è®¾è®¡æ¨¡å¼\"></a>ä»€ä¹ˆæ˜¯è®¾è®¡æ¨¡å¼</h3><p>è®¾è®¡æ¨¡å¼æ˜¯è½¯ä»¶è®¾è®¡ä¸­å¸¸è§é—®é¢˜çš„å…¸å‹è§£å†³æ–¹æ¡ˆã€‚ å®ƒä»¬å°±åƒèƒ½æ ¹æ®éœ€æ±‚è¿›è¡Œè°ƒæ•´çš„é¢„åˆ¶è“å›¾ï¼Œå¯ç”¨äºè§£å†³ä»£ç ä¸­åå¤å‡ºç°çš„è®¾è®¡é—®é¢˜ã€‚ä¸è¿‡è®¾è®¡æ¨¡å¼çš„å‡ºç°åŸºæœ¬ä¸Šæ˜¯ä¸ºäº†è§£å†³ <strong>â€œè®¾è®¡çš„è‡­å‘³â€</strong> â€”â€”åƒµåŒ–æ€§(Rigidity)ï¼Œè„†å¼±æ€§(Fragility)ï¼Œç‰¢å›ºæ€§(Immobility)ï¼Œç²˜æ»æ€§(Viscosity)ï¼Œä¸å¿…è¦çš„å¤æ‚æ€§(Needless Complexity)ï¼Œä¸å¿…è¦çš„é‡å¤(Needless Repetition)ï¼Œä»¥åŠæ™¦æ¶©æ€§(Opacity)</p>\n<ul>\n<li><strong>åƒµåŒ–æ€§</strong>ï¼šå¾ˆéš¾å¯¹ç³»ç»Ÿæ”¹åŠ¨ï¼Œå› ä¸ºæ¯æ¬¡æ”¹åŠ¨éƒ½ä¼šä½¿å…¶ä»–åœ°æ–¹æ”¹åŠ¨</li>\n<li><strong>è„†å¼±æ€§</strong>ï¼šå¯¹ç³»ç»Ÿçš„æ”¹åŠ¨ä¼šå¯¼è‡´å…¶ä»–çš„åœ°æ–¹å‡ºç°é—®é¢˜</li>\n<li><strong>ç‰¢å›ºæ€§</strong>ï¼šè®¾è®¡ä¸­åŒ…å«å¯¹å…¶å®ƒç³»ç»Ÿæœ‰ç”¨çš„éƒ¨åˆ†ï¼Œä½†æ˜¯æŠŠè¿™éƒ¨åˆ†æŠ½ç¦»å‡ºæ¥æˆæœ¬å¤ªé«˜</li>\n<li><strong>ç²˜æ»æ€§</strong>ï¼šåšæ–°çš„æ”¹åŠ¨æ—¶ï¼Œä¿æŒç³»ç»Ÿè®¾è®¡çš„æ–¹æ³•æ¯”ç ´åè®¾è®¡çš„æ–¹æ³•æ›´éš¾ä½¿ç”¨</li>\n<li><strong>ä¸å¿…è¦çš„å¤æ‚æ€§</strong>ï¼šåŒ…å«å½“å‰æ²¡æœ‰ç”¨çš„ç»„æˆéƒ¨åˆ†ï¼Œå¯èƒ½ä¼šå˜å¾—æ··ä¹±</li>\n<li><strong>ä¸å¿…è¦çš„é‡å¤</strong>ï¼šåŒ…å«é‡å¤çš„ç»“æ„ï¼ŒåŸæœ¬å¯ä»¥ç”¨å•ä¸€çš„æŠ½è±¡è¿›è¡Œç»Ÿä¸€</li>\n<li><strong>æ™¦æ¶©æ€§</strong>ï¼šéš¾ä»¥é˜…è¯»ã€ç†è§£</li>\n</ul>\n<h4 id=\"è®¾è®¡æ¨¡å¼çš„æè¿°å¸¸å¸¸åŒ…å«ä»¥ä¸‹å†…å®¹\"><a href=\"#è®¾è®¡æ¨¡å¼çš„æè¿°å¸¸å¸¸åŒ…å«ä»¥ä¸‹å†…å®¹\" class=\"headerlink\" title=\"è®¾è®¡æ¨¡å¼çš„æè¿°å¸¸å¸¸åŒ…å«ä»¥ä¸‹å†…å®¹\"></a>è®¾è®¡æ¨¡å¼çš„æè¿°å¸¸å¸¸åŒ…å«ä»¥ä¸‹å†…å®¹</h4><ul>\n<li><strong>æ„å›¾(Problem)</strong> éƒ¨åˆ†ç®€å•æè¿°é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆã€‚</li>\n<li><strong>åŠ¨æœº(Solution)</strong> éƒ¨åˆ†å°†è¿›ä¸€æ­¥è§£é‡Šé—®é¢˜å¹¶è¯´æ˜æ¨¡å¼ä¼šå¦‚ä½•æä¾›è§£å†³æ–¹æ¡ˆã€‚</li>\n<li><strong>ç»“æ„(Structure)</strong> éƒ¨åˆ†å±•ç¤ºæ¨¡å¼çš„æ¯ä¸ªéƒ¨åˆ†å’Œå®ƒä»¬ä¹‹é—´çš„å…³ç³»ã€‚</li>\n</ul>\n<h4 id=\"å­¦ä¹ è®¾è®¡æ¨¡å¼çš„å¥½å¤„ä»¥åŠä¸€äº›é—®é¢˜\"><a href=\"#å­¦ä¹ è®¾è®¡æ¨¡å¼çš„å¥½å¤„ä»¥åŠä¸€äº›é—®é¢˜\" class=\"headerlink\" title=\"å­¦ä¹ è®¾è®¡æ¨¡å¼çš„å¥½å¤„ä»¥åŠä¸€äº›é—®é¢˜\"></a>å­¦ä¹ è®¾è®¡æ¨¡å¼çš„å¥½å¤„ä»¥åŠä¸€äº›é—®é¢˜</h4><ul>\n<li>ç°åœ¨å¸¸å¸¸è¯´çš„23ç§è®¾è®¡æ¨¡å¼æ˜¯ç»è¿‡å®è·µéªŒè¯çš„è§£å†³æ–¹æ¡ˆã€‚äº†è§£è¿™äº›è®¾è®¡æ¨¡å¼å¯¹äºé˜…è¯»æºä»£ç ååˆ†æœ‰ç”¨ã€‚</li>\n<li>åŒæ—¶æ–¹ä¾¿äº¤æµï¼Œåªè¦çŸ¥æ™“æ¨¡å¼ä»¥åŠåç§°çš„åŸç†ï¼Œå°±å¯ä»¥ç”¨ä¸€ä¸ªè®¾è®¡æ¨¡å¼çš„åå­—æ¥äº’ç›¸æ²Ÿé€šè¿™é‡Œè¯¥æ€ä¹ˆå†™</li>\n</ul>\n<p>åŒæ—¶è®¾è®¡æ¨¡å¼ä¹Ÿä¸€äº›é—®é¢˜ï¼Œè®¾è®¡æ¨¡å¼æœ‰ä¸€äº›æ˜¯ä¸ºäº†å¼¥è¡¥è¯­è¨€æœ¬èº«çš„ç¼ºé™·ï¼Œæœ‰äº›è¯­è¨€æœ‰æ–¹ä¾¿çš„è¯­æ³•ï¼ŒåŸºæœ¬ä¸Šä¸€å¥è¯å°±å¯ä»¥ä»£è¡¨ä¸€ç§è®¾è®¡æ¨¡å¼ã€‚</p>\n<p>â€œå¦‚æœä½ åªæœ‰ä¸€æŠŠé“é”¤ï¼Œ é‚£ä¹ˆä»»ä½•ä¸œè¥¿çœ‹ä¸Šå»éƒ½åƒæ˜¯é’‰å­ã€‚â€ è¿™ç‚¹æ˜¯æœ€é‡è¦çš„ï¼Œå¯¹äºåˆå­¦è€…ä¼šå¸¦æ¥ä¸€å®šå›°æ‰°ï¼Œå­¦ä¹ æŸä¸ªæ¨¡å¼ä¹‹åï¼Œä»–ä»¬ä¼šåœ¨æ‰€æœ‰åœ°æ–¹ä½¿ç”¨è¯¥æ¨¡å¼ï¼Œå³ä¾¿æ˜¯åœ¨è¾ƒä¸ºç®€å•çš„ä»£ç ä¸­ä¹Ÿä½¿ç”¨è¿™ç§æ¨¡å¼ã€‚æ‰€ä»¥è¯´åˆå­¦è€…å­¦æ¥å¸®åŠ©è‡ªå·±é˜…è¯»æºç å°±ç»°ç»°æœ‰ä½™äº†ã€‚</p>\n<h3 id=\"UMLç±»å›¾\"><a href=\"#UMLç±»å›¾\" class=\"headerlink\" title=\"UMLç±»å›¾\"></a>UMLç±»å›¾</h3><p>åœ¨å­¦ä¹ è®¾è®¡æ¨¡å¼ä¹‹å‰ï¼Œæˆ‘ä»¬å¾—å…ˆå­¦ä¼šå¦‚ä½•è¯»UMLå›¾ã€‚è™½ç„¶UMLå›¾æœ‰å¾ˆå¤šç§ï¼Œä½†æ˜¯åŸºæœ¬ä¸Šåªè¦ä¼šè¯»UMLç±»å›¾ï¼Œå°±å¯ä»¥èƒœä»»å¤§éƒ¨åˆ†çš„å·¥ä½œã€‚</p>\n<h4 id=\"UMLç±»æ–¹æ¡†\"><a href=\"#UMLç±»æ–¹æ¡†\" class=\"headerlink\" title=\"UMLç±»æ–¹æ¡†\"></a>UMLç±»æ–¹æ¡†</h4><p>UMLç±»å›¾ä¸­åŸºæœ¬ä¸Šå°±ä¸‰ç§æ™®é€šç±»ï¼ŒæŠ½è±¡ç±»å’Œæ¥å£ã€‚éƒ½ç”¨çŸ©å½¢æ¡†è¡¨ç¤ºï¼Œç¬¬ä¸€å±‚æ˜¯ç±»åç§°ï¼Œç¬¬äºŒå±‚æ˜¯æˆå‘˜å˜é‡ï¼Œç¬¬ä¸‰å±‚æ˜¯ç±»çš„æ–¹æ³•ã€‚</p>\n<ul>\n<li><strong>â€œ+â€</strong> è¡¨ç¤º public</li>\n<li><strong>â€œ-â€œ</strong> è¡¨ç¤º private</li>\n<li><strong>â€œ#â€</strong> è¡¨ç¤º protected</li>\n</ul>\n<p>æŠ½è±¡ç±»çš„ç±»åä»¥åŠæŠ½è±¡æ–¹æ³•éƒ½ç”¨<strong>æ–œä½“</strong>ï¼Œæ¥å£ä¼šåœ¨ç¬¬ä¸€å±‚åŠ ä¸Šä¸€ä¸ª <strong>&lt;&lt; interface &gt;&gt;</strong> ï¼Œå…¶ä»–å¹¶æ²¡æœ‰ä»€ä¹ˆä¸åŒ</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220807220610.png\" alt=\"img\"><br><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220807221329.png\" alt=\"img\"><br><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220807221347.png\" alt=\"img\"></p>\n<h4 id=\"UMLç±»å›¾ä¸­çš„å…³ç³»\"><a href=\"#UMLç±»å›¾ä¸­çš„å…³ç³»\" class=\"headerlink\" title=\"UMLç±»å›¾ä¸­çš„å…³ç³»\"></a>UMLç±»å›¾ä¸­çš„å…³ç³»</h4><p>ä¸‹é¢ä¸€å¼ å›¾å¦‚æœå¯èƒ½çš„è¯åº”è¯¥åœ¨ã€Šc++ prime plusã€‹ä¸­çœ‹è¿‡ï¼Œå¯ä»¥å¾ˆå¿«ç†è§£æ˜¯ä»€ä¹ˆæ„æ€ï¼Œæˆ‘ä»¬åŸºæœ¬ä¸Šåªè¦è®°å¾—å…³ç³»å¯¹åº”çš„ç®­å¤´å°±å¯ä»¥äº†ã€‚ä¸è¿‡ä¸çŸ¥é“ä¹Ÿæ²¡å…³ç³»ï¼Œæˆ‘ä»¬å¯ä»¥å¿«é€Ÿè¿‡ä¸€éï¼Œäº†è§£è¶³çŸ£ã€‚<br><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220807221552.png\" alt=\"img\"></p>\n<h5 id=\"å®ç°å…³ç³»\"><a href=\"#å®ç°å…³ç³»\" class=\"headerlink\" title=\"å®ç°å…³ç³»\"></a>å®ç°å…³ç³»</h5><p>ç®€å•æ¥è¯´å°±æ˜¯ç±»å®ç°æ¥å£ï¼Œç”±ç±»æŒ‡å‘æ¥å£<br><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220807222154.png\" alt=\"img\"></p>\n<h5 id=\"æ³›åŒ–å…³ç³»\"><a href=\"#æ³›åŒ–å…³ç³»\" class=\"headerlink\" title=\"æ³›åŒ–å…³ç³»\"></a>æ³›åŒ–å…³ç³»</h5><p>æŒ‡å¯¹è±¡ä¹‹é—´çš„ç»§æ‰¿å…³ç³»ï¼Œç”±å­ç±»æŒ‡å‘çˆ¶ç±»<br><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220807222354.png\" alt=\"img\"></p>\n<h5 id=\"å…³è”å…³ç³»\"><a href=\"#å…³è”å…³ç³»\" class=\"headerlink\" title=\"å…³è”å…³ç³»\"></a>å…³è”å…³ç³»</h5><p>æŒ‡è¿™ä¸ªå¯¹è±¡åœ¨å†…éƒ¨å¼•ç”¨äº†å¦ä¸€ä¸ªå¯¹è±¡ï¼Œå…³è”å…³ç³»å†…éƒ¨åˆä¸ºä¾èµ–å…³è”ã€èšåˆå…³è”å’Œç»„åˆå…³è”ä¸‰ç§ç±»å‹</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220807222649.png\" alt=\"img\"></p>\n<h5 id=\"ä¾èµ–å…³ç³»\"><a href=\"#ä¾èµ–å…³ç³»\" class=\"headerlink\" title=\"ä¾èµ–å…³ç³»\"></a>ä¾èµ–å…³ç³»</h5><p>æŒ‡Aä½¿ç”¨äº†Bï¼Œä½†æ˜¯Aå’ŒBå¹¶æ²¡ä»€ä¹ˆå…³ç³»ï¼Œå°±å¯ä»¥è®¤ä¸ºæ˜¯ä¾èµ–å…³ç³»</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220807223108.png\" alt=\"img\"></p>\n<h5 id=\"èšåˆå…³ç³»\"><a href=\"#èšåˆå…³ç³»\" class=\"headerlink\" title=\"èšåˆå…³ç³»\"></a>èšåˆå…³ç³»</h5><p>æŒ‡Aæ‹¥æœ‰Bï¼ŒBå¯ä»¥å±äºå¤šç§A</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220807223430.png\" alt=\"img\"></p>\n<h5 id=\"ç»„åˆå…³ç³»\"><a href=\"#ç»„åˆå…³ç³»\" class=\"headerlink\" title=\"ç»„åˆå…³ç³»\"></a>ç»„åˆå…³ç³»</h5><p>æŒ‡AåŒ…æ‹¬Bï¼ŒåŒç”ŸåŒç­</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220807223521.png\" alt=\"img\"></p>\n<h4 id=\"UMLç±»å›¾å°ç»“\"><a href=\"#UMLç±»å›¾å°ç»“\" class=\"headerlink\" title=\"UMLç±»å›¾å°ç»“\"></a>UMLç±»å›¾å°ç»“</h4><p>å¤§æ¦‚ç¨å¾®çœ‹ä¸€ä¸‹å°±è¡Œäº†ï¼Œæˆ‘è®¤ä¸ºçœ‹è‹±æ–‡(is aé‚£äº›)æ›´å®¹æ˜“ç†è§£å…³ç³»æ˜¯ä»€ä¹ˆæ„æ€ï¼Œè™½ç„¶å…³è”å…³ç³»è¿˜å¯å†åˆ†ï¼Œä¸è¿‡åŸºæœ¬ä¸Šä¸æé‚£ä¹ˆè¯¦ç»†ã€‚æ¯•ç«ŸUMLç±»å›¾æ˜¯ä¸ºäº†å‰æœŸå¿«é€Ÿæ„æ€ç±»çš„å…³ç³»çš„ï¼ŒåŸºæœ¬ä¸Šæˆ‘ä»¬åªç”¨å‰ä¸‰ç§å…³ç³»â€”â€”<strong>å®ç°å…³ç³»ã€æ³›åŒ–å…³ç³»ï¼Œå…³è”å…³ç³»</strong></p>\n<h3 id=\"é¢å‘å¯¹è±¡è®¾è®¡çš„ä¸€äº›åŸåˆ™\"><a href=\"#é¢å‘å¯¹è±¡è®¾è®¡çš„ä¸€äº›åŸåˆ™\" class=\"headerlink\" title=\"é¢å‘å¯¹è±¡è®¾è®¡çš„ä¸€äº›åŸåˆ™\"></a>é¢å‘å¯¹è±¡è®¾è®¡çš„ä¸€äº›åŸåˆ™</h3><p>åœ¨äº†è§£è®¾è®¡æ¨¡å¼ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦äº†è§£ä¸€äº›åŸåˆ™ï¼Œè¿™ä¹Ÿæ˜¯ä½¿ç”¨è®¾è®¡æ¨¡å¼çš„ç›®çš„ä¹‹ä¸€ã€‚</p>\n<h4 id=\"å•ä¸€èŒè´£åŸåˆ™-SRP-Single-Responsibility-Principle\"><a href=\"#å•ä¸€èŒè´£åŸåˆ™-SRP-Single-Responsibility-Principle\" class=\"headerlink\" title=\"å•ä¸€èŒè´£åŸåˆ™(SRP-Single Responsibility Principle)\"></a>å•ä¸€èŒè´£åŸåˆ™(SRP-Single Responsibility Principle)</h4><p>å½“ä¸€ä¸ªç±»æ‰¿æ‹…çš„èŒè´£è¿‡å¤šï¼Œå°±ç­‰äºæŠŠè¿™äº›èŒè´£è€¦åˆåœ¨äº†ä¸€èµ·ï¼Œä¸€ä¸ªèŒè´£å˜åŒ–çš„æ—¶å€™ï¼Œå¯èƒ½å°±å®¹æ˜“å¯¼è‡´å…¶ä»–èŒè´£çš„å˜åŒ–ã€‚å‡è®¾ä¸€ä¸ªç±»æ—¢å¯ä»¥é“¾æ¥ç®¡ç†ï¼Œåˆå¯ä»¥è¿›è¡Œæ•°æ®é€šä¿¡ï¼Œåœ¨æ•°æ®é€šä¿¡æ–¹é¢ç”±äºå®¢æˆ·éœ€æ±‚ä¸æ–­å˜åŒ–ï¼Œå¯èƒ½åœ¨æ•°æ®é€šä¿¡æ–¹é¢ä¸æ–­ä¿®æ”¹å¯¼è‡´é“¾æ¥ç®¡ç†ä¿®æ”¹èµ·æ¥ä¹Ÿå¾ˆéº»çƒ¦ï¼Œè¿™æ—¶å°±åº”è¯¥åˆ†ç¦»è¿™ä¸¤ä¸ªèŒè´£ï¼Œè®©ä¸¤ä¸ªèŒè´£åˆ†åˆ«ç½®äºä¸åŒçš„ç±»ä¸­ã€‚</p>\n<h4 id=\"å¼€æ”¾-å°é—­åŸåˆ™-OCP-The-Open-Closed-Principle\"><a href=\"#å¼€æ”¾-å°é—­åŸåˆ™-OCP-The-Open-Closed-Principle\" class=\"headerlink\" title=\"å¼€æ”¾-å°é—­åŸåˆ™(OCP-The Open-Closed Principle)\"></a>å¼€æ”¾-å°é—­åŸåˆ™(OCP-The Open-Closed Principle)</h4><p>æŒ‡çš„æ˜¯åœ¨ä¸€ä¸ªç±»ä¸­æ–°åŠ å…¥çš„æ‰©å±•çš„åŠŸèƒ½å¹¶ä¸éœ€è¦ä¿®æ”¹åŸæœ‰çš„åŠŸèƒ½ã€‚æ¯”å¦‚è¯´ç»˜åˆ¶å›¾æ¡ˆï¼ŒåŸæœ¬åªèƒ½ç»˜åˆ¶æ­£æ–¹å½¢å’Œåœ†å½¢ï¼Œå¦‚æœåŠ å…¥ä¸‰è§’å½¢ï¼Œé‚£åœ¨ç»˜åˆ¶å›¾æ¡ˆçš„æ—¶å€™åªéœ€æ·»åŠ ä¸‰è§’å½¢è¿™ä¸ªç±»è€Œä¸ä¿®æ”¹å…¶ä»–ç±»ã€‚</p>\n<h4 id=\"Liskovæ›¿æ¢åŸåˆ™-LSP-Liskov-Substitution-Principle\"><a href=\"#Liskovæ›¿æ¢åŸåˆ™-LSP-Liskov-Substitution-Principle\" class=\"headerlink\" title=\"Liskovæ›¿æ¢åŸåˆ™(LSP-Liskov Substitution Principle)\"></a>Liskovæ›¿æ¢åŸåˆ™(LSP-Liskov Substitution Principle)</h4><p>è¿åLSPåŸåˆ™å¿…ç„¶è¿åOCPåŸåˆ™ï¼Œä»»ä½•åŸºç±»å¯ä»¥å‡ºç°çš„åœ°æ–¹ï¼Œå­ç±»ä¸€å®šå¯ä»¥å‡ºç°ï¼Œå³åœ¨ä½¿ç”¨æ—¶å­ç±»å¯ä»¥æ›¿æ¢æ‰åŸºç±»ä½†æ˜¯åŠŸèƒ½ä¸å—å½±å“</p>\n<h4 id=\"ä¾èµ–å¯¼è‡´åŸåˆ™-DIP-Dependency-Inversion-Principle\"><a href=\"#ä¾èµ–å¯¼è‡´åŸåˆ™-DIP-Dependency-Inversion-Principle\" class=\"headerlink\" title=\"ä¾èµ–å¯¼è‡´åŸåˆ™(DIP-Dependency Inversion Principle)\"></a>ä¾èµ–å¯¼è‡´åŸåˆ™(DIP-Dependency Inversion Principle)</h4><ul>\n<li>é«˜å±‚æ¨¡å—ä¸åº”è¯¥ä¾èµ–äºåº•å±‚æ¨¡å—ï¼ŒäºŒè€…éƒ½åº”è¯¥ä¾èµ–äºæŠ½è±¡</li>\n<li>æŠ½è±¡ä¸åº”è¯¥ä¾èµ–äºç»†èŠ‚ï¼Œç»†èŠ‚åº”è¯¥ä¾èµ–äºæŠ½è±¡</li>\n</ul>\n<p>é«˜å±‚æ¨¡å—å³å®è·µæ¨¡å—ï¼Œæ¯”å¦‚mainå‡½æ•°ï¼Œä¿®æ”¹äº†mainå‡½æ•°çš„å®ç°æ–¹å¼å´ä¸æ”¹å˜åº•å±‚æ¨¡å—ç±»çš„ä»£ç å˜åŒ–</p>\n<h4 id=\"æ¥å£éš”ç¦»åŸåˆ™-ISP-Interface-Segregation-Principle\"><a href=\"#æ¥å£éš”ç¦»åŸåˆ™-ISP-Interface-Segregation-Principle\" class=\"headerlink\" title=\"æ¥å£éš”ç¦»åŸåˆ™(ISP-Interface Segregation Principle)\"></a>æ¥å£éš”ç¦»åŸåˆ™(ISP-Interface Segregation Principle)</h4><p>å»ºç«‹å•ä¸€æ¥å£ï¼Œä¸è¦å»ºç«‹è‡ƒè‚¿åºå¤§çš„æ¥å£ã€‚å†é€šä¿—ä¸€ç‚¹è®²ï¼šæ¥å£å°½é‡ç»†åŒ–ï¼ŒåŒæ—¶æ¥å£ä¸­çš„æ–¹æ³•å°½é‡å°‘ã€‚è·ŸSRPå·®ä¸å¤š</p>\n<h3 id=\"è®¾è®¡æ¨¡å¼ä»‹ç»\"><a href=\"#è®¾è®¡æ¨¡å¼ä»‹ç»\" class=\"headerlink\" title=\"è®¾è®¡æ¨¡å¼ä»‹ç»\"></a>è®¾è®¡æ¨¡å¼ä»‹ç»</h3><p>è®¾è®¡æ¨¡å¼å¯ä»¥æ ¹æ®å…¶æ„å›¾æ¥åˆ†ç±»ã€‚ä¸»è¦åˆ†ä¸ºä¸‰ç§ç±»åˆ«</p>\n<ul>\n<li><strong>åˆ›å»ºå‹æ¨¡å¼(Creational Patterns)</strong> æä¾›åˆ›å»ºå¯¹è±¡çš„æœºåˆ¶ï¼Œ å¢åŠ å·²æœ‰ä»£ç çš„çµæ´»æ€§å’Œå¯å¤ç”¨æ€§</li>\n<li><strong>ç»“æ„å‹æ¨¡å¼(Structural Patterns)</strong> ä»‹ç»å¦‚ä½•å°†å¯¹è±¡å’Œç±»ç»„è£…æˆè¾ƒå¤§çš„ç»“æ„ï¼Œ å¹¶åŒæ—¶ä¿æŒç»“æ„çš„çµæ´»å’Œé«˜æ•ˆ</li>\n<li><strong>è¡Œä¸ºæ¨¡å¼(Behavioral Patterns)</strong> è´Ÿè´£å¯¹è±¡é—´çš„é«˜æ•ˆæ²Ÿé€šå’ŒèŒè´£å§”æ´¾</li>\n</ul>\n<h3 id=\"åˆ›å»ºå‹æ¨¡å¼-Creational-Patterns\"><a href=\"#åˆ›å»ºå‹æ¨¡å¼-Creational-Patterns\" class=\"headerlink\" title=\"åˆ›å»ºå‹æ¨¡å¼(Creational Patterns)\"></a>åˆ›å»ºå‹æ¨¡å¼(Creational Patterns)</h3><h4 id=\"Factory-Method-å·¥å‚æ¨¡å¼\"><a href=\"#Factory-Method-å·¥å‚æ¨¡å¼\" class=\"headerlink\" title=\"Factory Method(å·¥å‚æ¨¡å¼)\"></a>Factory Method(å·¥å‚æ¨¡å¼)</h4><p>å·¥å‚æ¨¡å¼æ˜¯ä¸€ç§åˆ›å»ºå‹è®¾è®¡æ¨¡å¼ï¼Œå…¶åœ¨çˆ¶ç±»ä¸­æä¾›ä¸€ä¸ªåˆ›å»ºå¯¹è±¡çš„æ–¹æ³•ï¼Œ å…è®¸å­ç±»å†³å®šå®ä¾‹åŒ–å¯¹è±¡çš„ç±»å‹ã€‚</p>\n<h5 id=\"é—®é¢˜\"><a href=\"#é—®é¢˜\" class=\"headerlink\" title=\"é—®é¢˜\"></a>é—®é¢˜</h5><p>å‡è®¾ä½ æ­£åœ¨å¼€å‘ä¸€æ¬¾ç‰©æµç®¡ç†åº”ç”¨ã€‚ æœ€åˆç‰ˆæœ¬åªèƒ½å¤„ç†å¡è½¦è¿è¾“ï¼Œ å› æ­¤å¤§éƒ¨åˆ†ä»£ç éƒ½åœ¨ä½äºåä¸º<strong>å¡è½¦</strong>çš„ç±»ä¸­ã€‚ä¸€æ®µæ—¶é—´åï¼Œ è¿™æ¬¾åº”ç”¨å˜å¾—æå—æ¬¢è¿ã€‚ ä½ æ¯å¤©éƒ½èƒ½æ”¶åˆ°åå‡ æ¬¡æ¥è‡ªæµ·è¿å…¬å¸çš„è¯·æ±‚ï¼Œ å¸Œæœ›åº”ç”¨èƒ½å¤Ÿæ”¯æŒæµ·ä¸Šç‰©æµåŠŸèƒ½ã€‚è¿™å¯æ˜¯ä¸ªå¥½æ¶ˆæ¯ã€‚ ä½†æ˜¯ä»£ç é—®é¢˜è¯¥å¦‚ä½•å¤„ç†å‘¢ï¼Ÿ ç›®å‰ï¼Œ å¤§éƒ¨åˆ†ä»£ç éƒ½ä¸ å¡è½¦ç±»ç›¸å…³ã€‚ åœ¨ç¨‹åºä¸­æ·»åŠ  è½®èˆ¹ç±»éœ€è¦ä¿®æ”¹å…¨éƒ¨ä»£ç ã€‚ æ›´ç³Ÿç³•çš„æ˜¯ï¼Œ å¦‚æœä½ ä»¥åéœ€è¦åœ¨ç¨‹åºä¸­æ”¯æŒå¦å¤–ä¸€ç§è¿è¾“æ–¹å¼ï¼Œ å¾ˆå¯èƒ½éœ€è¦å†æ¬¡å¯¹è¿™äº›ä»£ç è¿›è¡Œå¤§å¹…ä¿®æ”¹ã€‚</p>\n<h5 id=\"è§£å†³æ–¹æ¡ˆ\"><a href=\"#è§£å†³æ–¹æ¡ˆ\" class=\"headerlink\" title=\"è§£å†³æ–¹æ¡ˆ\"></a>è§£å†³æ–¹æ¡ˆ</h5><p>å·¥å‚æ–¹æ³•æ¨¡å¼å»ºè®®ä½¿ç”¨ç‰¹æ®Šçš„å·¥å‚æ–¹æ³•ä»£æ›¿å¯¹äºå¯¹è±¡æ„é€ å‡½æ•°çš„ç›´æ¥è°ƒç”¨ï¼ˆå³ä½¿ç”¨ newè¿ç®—ç¬¦ï¼‰ã€‚ä¸ç”¨æ‹…å¿ƒï¼Œ å¯¹è±¡ä»å°†é€šè¿‡newè¿ç®—ç¬¦åˆ›å»ºï¼Œåªæ˜¯è¯¥è¿ç®—ç¬¦æ”¹åœ¨å·¥å‚æ–¹æ³•ä¸­è°ƒç”¨ç½¢äº†ã€‚å·¥å‚æ–¹æ³•è¿”å›çš„å¯¹è±¡é€šå¸¸è¢«ç§°ä½œ â€œäº§å“â€ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220808133543.png\" alt=\"img\"></p>\n<p>è¿™æ ·å­ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å­ç±»ä¸­é‡å†™å·¥å‚æ–¹æ³•ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220808134434.png\" alt=\"img\"></p>\n<p>ä¸¾ä¾‹æ¥è¯´ï¼Œ<strong>RoadLogically</strong>ç±»çš„å·¥å‚æ–¹æ³•ä¹Ÿå°±æ˜¯<strong>createTransport()<strong>è¿”å›çš„ä¾¿æ˜¯</strong>Truck</strong>å¯¹è±¡ï¼Œè€Œ<strong>SeaLogistics</strong>è¿”å›çš„ä¾¿æ˜¯<strong>Ship</strong>å¯¹è±¡ã€‚</p>\n<p>è°ƒç”¨å·¥å‚æ–¹æ³•çš„ä»£ç  ï¼ˆé€šå¸¸è¢«ç§°ä¸ºå®¢æˆ·ç«¯ä»£ç ï¼‰ æ— éœ€äº†è§£ä¸åŒå­ç±»è¿”å›å®é™…å¯¹è±¡ä¹‹é—´çš„å·®åˆ«ã€‚ å®¢æˆ·ç«¯å°†æ‰€æœ‰äº§å“è§†ä¸ºæŠ½è±¡çš„è¿è¾“ã€‚ å®¢æˆ·ç«¯çŸ¥é“æ‰€æœ‰è¿è¾“å¯¹è±¡éƒ½æä¾›äº¤ä»˜æ–¹æ³•ï¼Œä½†æ˜¯å¹¶ä¸å…³å¿ƒå…¶å…·ä½“å®ç°æ–¹å¼ã€‚</p>\n<h5 id=\"å·¥å‚æ–¹æ³•æ¨¡å¼ç»“æ„\"><a href=\"#å·¥å‚æ–¹æ³•æ¨¡å¼ç»“æ„\" class=\"headerlink\" title=\"å·¥å‚æ–¹æ³•æ¨¡å¼ç»“æ„\"></a>å·¥å‚æ–¹æ³•æ¨¡å¼ç»“æ„</h5><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220808164835.png\" alt=\"img\"></p>\n<p>ç”±å›¾å¯ä»¥çœ‹åˆ°è¿™ä¸ªç»“æ„è¢«åˆ†ä¸ºäº†ä¸¤éƒ¨åˆ†ï¼Œä¸€ä¸ªCreatoréƒ¨åˆ†ï¼Œä¸€ä¸ªProductéƒ¨åˆ†ï¼ŒCreatoréƒ¨åˆ†è´Ÿè´£åˆ›å»ºï¼ŒåŒæ—¶æä¾›SomeOperation()è¿›è¡Œæ“ä½œï¼Œè€ŒSomeOperation()å†…éƒ¨æ˜¯è·å¾—å…·ä½“ç‰©ä½“çš„æ¥å£ï¼Œå¹¶ä¸”åšå‡ºå…·ä½“å®ç°ã€‚</p>\n<p>1.<strong>äº§å“(Product)</strong> å°†ä¼šå¯¹æ¥å£è¿›è¡Œå£°æ˜ã€‚ å¯¹äºæ‰€æœ‰ç”±åˆ›å»ºè€…åŠå…¶å­ç±»æ„å»ºçš„å¯¹è±¡ï¼Œ è¿™äº›æ¥å£éƒ½æ˜¯é€šç”¨çš„ã€‚</p>\n<p>2.<strong>å…·ä½“äº§å“(ConÂ­crete ProdÂ­ucts)</strong> æ˜¯äº§å“æ¥å£çš„ä¸åŒå®ç°ã€‚</p>\n<p>3.<strong>åˆ›å»ºè€…(CreÂ­ator)</strong> ç±»å£°æ˜è¿”å›äº§å“å¯¹è±¡çš„å·¥å‚æ–¹æ³•ã€‚ è¯¥æ–¹æ³•çš„è¿”å›å¯¹è±¡ç±»å‹å¿…é¡»ä¸äº§å“æ¥å£ç›¸åŒ¹é…ã€‚</p>\n<p>ä½ å¯ä»¥å°†å·¥å‚æ–¹æ³•å£°æ˜ä¸ºæŠ½è±¡æ–¹æ³•ï¼Œå¼ºåˆ¶è¦æ±‚æ¯ä¸ªå­ç±»ä»¥ä¸åŒæ–¹å¼å®ç°è¯¥æ–¹æ³•.æˆ–è€…ï¼Œä½ ä¹Ÿå¯ä»¥åœ¨åŸºç¡€å·¥å‚æ–¹æ³•ä¸­è¿”å›é»˜è®¤äº§å“ç±»å‹ã€‚</p>\n<p>æ³¨æ„ï¼Œå°½ç®¡å®ƒçš„åå­—æ˜¯åˆ›å»ºè€…ï¼Œä½†å®ƒæœ€ä¸»è¦çš„èŒè´£å¹¶ä¸æ˜¯åˆ›å»ºäº§å“ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œåˆ›å»ºè€…ç±»åŒ…å«ä¸€äº›ä¸äº§å“ç›¸å…³çš„æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ã€‚å·¥å‚æ–¹æ³•å°†è¿™äº›é€»è¾‘å¤„ç†ä»å…·ä½“äº§å“ç±»ä¸­åˆ†ç¦»å‡ºæ¥.æ‰“ä¸ªæ¯”æ–¹ï¼Œå¤§å‹è½¯ä»¶å¼€å‘å…¬å¸æ‹¥æœ‰ç¨‹åºå‘˜åŸ¹è®­éƒ¨é—¨ã€‚ä½†æ˜¯ï¼Œè¿™äº›å…¬å¸çš„ä¸»è¦å·¥ä½œè¿˜æ˜¯ç¼–å†™ä»£ç ï¼Œè€Œéç”Ÿäº§ç¨‹åºå‘˜ã€‚</p>\n<p>4.<strong>å…·ä½“åˆ›å»ºè€…(ConÂ­crete CreÂ­ators)</strong> å°†ä¼šé‡å†™åŸºç¡€å·¥å‚æ–¹æ³•ï¼Œä½¿å…¶è¿”å›ä¸åŒç±»å‹çš„äº§å“ã€‚</p>\n<p>æ³¨æ„ï¼Œå¹¶ä¸ä¸€å®šæ¯æ¬¡è°ƒç”¨å·¥å‚æ–¹æ³•éƒ½ä¼šåˆ›å»ºæ–°çš„å®ä¾‹ã€‚å·¥å‚æ–¹æ³•ä¹Ÿå¯ä»¥è¿”å›ç¼“å­˜ã€å¯¹è±¡æ± æˆ–å…¶ä»–æ¥æºçš„å·²æœ‰å¯¹è±¡ã€‚</p>\n<h5 id=\"ä¼ªä»£ç \"><a href=\"#ä¼ªä»£ç \" class=\"headerlink\" title=\"ä¼ªä»£ç \"></a>ä¼ªä»£ç </h5><p>æ ¹æ®ä¸Šå›¾ï¼Œæˆ‘ä»¬å¯ä»¥å¿«é€Ÿçš„åšå‡ºä¸€ä¸ªåŸºäºè¿è¾“ä¾‹å­çš„ä¼ªä»£ç (å¹¶ä¸æ˜¯å¾ˆä¼ª)ï¼Œå¦‚æœæœ‰æ–°çš„ç§ç±»ï¼Œæ¯”å¦‚è¯´é£æœºï¼Œé‚£ä¹ˆä¿®æ”¹å°±å¾ˆå®¹æ˜“äº†ï¼Œå¹¶ä¸éœ€è¦ä¿®æ”¹åŸæ¥çš„ä»£ç ï¼Œåªéœ€è¦å¤šå†™ä¸€ä¸ª<strong>AirLogisticsç±»</strong>ç»§æ‰¿<strong>Logisticsç±»</strong>ï¼Œå†™ä¸€ä¸ª<strong>Plane</strong>ç»§æ‰¿<strong>Transportæ¥å£</strong>ï¼Œç”šè‡³è¿çˆ¶ç±»çš„Logisticséƒ½ä¸ç”¨åŠ¨ï¼Œè¿™å¾ˆå¥½çš„è·µè¡Œäº†SRPå’ŒOCPåŸåˆ™ã€‚</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//LogisiticæŠ½è±¡ç±»ï¼Œä¹Ÿå°±æ˜¯Creator</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> <span class=\"keyword\">class</span> <span class=\"title\">Logisitic</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">//CreateTransportä¹Ÿå°±æ˜¯å·¥å‚æ–¹æ³•(FactoryMethod)</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> Transport <span class=\"title\">CreateTransport</span>()</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">planDelivery</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Transport t = CreateTransport();</span><br><span class=\"line\">        t.Deliver();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">RoadLogistics</span> : <span class=\"title\">Logisitic</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> overrride Transport <span class=\"title\">CreateTransport</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">//è¿”å›çš„æ˜¯äº§å“ç±»ï¼Œè€Œä¸æ˜¯æœ¬å°Š</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> Truck();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">SeaLogistics</span> : <span class=\"title\">Logisitic</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> overrride Transport <span class=\"title\">CreateTransport</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> Ship();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//Transportæ¥å£ï¼Œä¹Ÿå°±æ˜¯Product</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title\">Transport</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">Deliver</span>()</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">Truck</span> : <span class=\"title\">Transport</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Deliver</span>()</span> </span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">//....</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">Ship</span> : <span class=\"title\">Transport</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Deliver</span>()</span> </span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">//....</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"é€‚åˆå·¥å‚æ¨¡å¼çš„åœ°æ–¹\"><a href=\"#é€‚åˆå·¥å‚æ¨¡å¼çš„åœ°æ–¹\" class=\"headerlink\" title=\"é€‚åˆå·¥å‚æ¨¡å¼çš„åœ°æ–¹\"></a>é€‚åˆå·¥å‚æ¨¡å¼çš„åœ°æ–¹</h5><ul>\n<li>å½“ä½ åœ¨ç¼–å†™ä»£ç çš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æœæ— æ³•é¢„çŸ¥å¯¹è±¡ç¡®åˆ‡ç±»åˆ«åŠå…¶ä¾èµ–å…³ç³»æ—¶ï¼Œå¯ä½¿ç”¨å·¥å‚æ–¹æ³•ã€‚</li>\n<li>å¦‚æœä½ å¸Œæœ›ç”¨æˆ·èƒ½æ‰©å±•ä½ è½¯ä»¶åº“æˆ–æ¡†æ¶çš„å†…éƒ¨ç»„ä»¶ï¼Œå¯ä½¿ç”¨å·¥å‚æ–¹æ³•ã€‚</li>\n<li>å¦‚æœä½ å¸Œæœ›å¤ç”¨ç°æœ‰å¯¹è±¡æ¥èŠ‚çœç³»ç»Ÿèµ„æºï¼Œè€Œä¸æ˜¯æ¯æ¬¡éƒ½é‡æ–°åˆ›å»ºå¯¹è±¡ï¼Œå¯ä½¿ç”¨å·¥å‚æ–¹æ³•ã€‚</li>\n</ul>\n<h5 id=\"å·¥å‚æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"><a href=\"#å·¥å‚æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\" class=\"headerlink\" title=\"å·¥å‚æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"></a>å·¥å‚æ¨¡å¼çš„ä¼˜ç¼ºç‚¹</h5><p><strong>ä¼˜ç‚¹</strong>ï¼š</p>\n<ul>\n<li>ä½ å¯ä»¥é¿å…åˆ›å»ºè€…å’Œå…·ä½“äº§å“ä¹‹é—´çš„ç´§å¯†è€¦åˆã€‚</li>\n<li>ç¬¦åˆSRP</li>\n<li>ç¬¦åˆOCP</li>\n</ul>\n<p><strong>ç¼ºç‚¹</strong>ï¼š</p>\n<ul>\n<li>åº”ç”¨å·¥å‚æ–¹æ³•æ¨¡å¼éœ€è¦å¼•å…¥è®¸å¤šæ–°çš„å­ç±»ï¼Œä»£ç å¯èƒ½ä¼šå› æ­¤å˜å¾—æ›´å¤æ‚ã€‚æœ€å¥½çš„æƒ…å†µæ˜¯å°†è¯¥æ¨¡å¼å¼•å…¥åˆ›å»ºè€…ç±»çš„ç°æœ‰å±‚æ¬¡ç»“æ„ä¸­ã€‚ç®€å•æ¥è¯´ï¼Œå°±æ˜¯åœ¨å·¥ä½œåˆæœŸä½¿ç”¨<strong>å·¥å‚æ¨¡å¼</strong>ï¼ˆæ¯”è¾ƒç®€å•ï¼Œè€Œä¸”å®¹æ˜“é€šè¿‡å­ç±»ä¿®æ”¹),ä½†ä»£ç å¤æ‚æ—¶ä¼šæ¼”åŒ–æˆå…¶ä»–æ¨¡å¼</li>\n</ul>\n<h4 id=\"Abstract-Factory-æŠ½è±¡å·¥å‚æ¨¡å¼\"><a href=\"#Abstract-Factory-æŠ½è±¡å·¥å‚æ¨¡å¼\" class=\"headerlink\" title=\"Abstract Factory(æŠ½è±¡å·¥å‚æ¨¡å¼)\"></a>Abstract Factory(æŠ½è±¡å·¥å‚æ¨¡å¼)</h4><p>æŠ½è±¡å·¥å‚æ¨¡å¼æ˜¯ä¸€ç§åˆ›å»ºå‹è®¾è®¡æ¨¡å¼ï¼Œ å®ƒèƒ½åˆ›å»ºä¸€ç³»åˆ—ç›¸å…³çš„å¯¹è±¡ï¼Œ è€Œæ— éœ€æŒ‡å®šå…¶å…·ä½“ç±»ã€‚</p>\n<h5 id=\"é—®é¢˜-1\"><a href=\"#é—®é¢˜-1\" class=\"headerlink\" title=\"é—®é¢˜\"></a>é—®é¢˜</h5><p>å‡è®¾ä½ æ­£åœ¨å¼€å‘ä¸€æ¬¾å®¶å…·å•†åº—æ¨¡æ‹Ÿå™¨ã€‚ä½ çš„ä»£ç ä¸­åŒ…æ‹¬ä¸€äº›ç±»ï¼Œç”¨äºè¡¨ç¤ºï¼š<br>1.ä¸€ç³»åˆ—ç›¸å…³äº§å“ï¼Œä¾‹å¦‚ æ¤…å­Chairã€æ²™å‘Sofaå’Œå’–å•¡æ¡ŒCofÂ­feeÂ­Tableã€‚<br>2.ç³»åˆ—äº§å“çš„ä¸åŒå˜ä½“ã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥ä½¿ç”¨ç°ä»£ModÂ­ernã€ç»´å¤šåˆ©äºšVicÂ­toÂ­riÂ­anã€â€‹è£…é¥°é£è‰ºæœ¯ArtÂ­Decoç­‰é£æ ¼ç”Ÿæˆæ¤…å­ã€æ²™å‘å’Œå’–å•¡æ¡Œã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220808150223.png\" alt=\"img\"></p>\n<p>ä½ éœ€è¦è®¾æ³•å•ç‹¬ç”Ÿæˆæ¯ä»¶å®¶å…·å¯¹è±¡ï¼Œè¿™æ ·æ‰èƒ½ç¡®ä¿å…¶é£æ ¼ä¸€è‡´ã€‚å¦‚æœé¡¾å®¢æ”¶åˆ°çš„å®¶å…·é£æ ¼ä¸ä¸€æ ·ï¼Œä»–ä»¬å¯ä¸ä¼šå¼€å¿ƒã€‚<br>æ­¤å¤–ï¼Œä½ ä¹Ÿä¸å¸Œæœ›åœ¨æ·»åŠ æ–°äº§å“æˆ–æ–°é£æ ¼æ—¶ä¿®æ”¹å·²æœ‰ä»£ç ã€‚å®¶å…·ä¾›åº”å•†å¯¹äºäº§å“ç›®å½•çš„æ›´æ–°éå¸¸é¢‘ç¹ï¼Œä½ ä¸ä¼šæƒ³åœ¨æ¯æ¬¡æ›´æ–°æ—¶éƒ½å»ä¿®æ”¹æ ¸å¿ƒä»£ç çš„ã€‚</p>\n<h5 id=\"è§£å†³æ–¹æ¡ˆ-1\"><a href=\"#è§£å†³æ–¹æ¡ˆ-1\" class=\"headerlink\" title=\"è§£å†³æ–¹æ¡ˆ\"></a>è§£å†³æ–¹æ¡ˆ</h5><p>é¦–å…ˆï¼Œ æŠ½è±¡å·¥å‚æ¨¡å¼å»ºè®®ä¸ºç³»åˆ—ä¸­çš„<strong>æ¯ä»¶äº§å“</strong>æ˜ç¡®å£°æ˜æ¥å£ï¼ˆä¾‹å¦‚æ¤…å­ã€æ²™å‘æˆ–å’–å•¡æ¡Œï¼‰ã€‚ç„¶åï¼Œç¡®ä¿æ‰€æœ‰äº§å“å˜ä½“éƒ½ç»§æ‰¿è¿™äº›æ¥å£ã€‚ä¾‹å¦‚ï¼Œæ‰€æœ‰é£æ ¼çš„æ¤…å­éƒ½å®ç°æ¤…å­æ¥å£ï¼›æ‰€æœ‰é£æ ¼çš„å’–å•¡æ¡Œéƒ½å®ç°å’–å•¡æ¡Œæ¥å£ï¼Œä»¥æ­¤ç±»æ¨ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220808150715.png\" alt=\"img\"></p>\n<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦å£°æ˜æŠ½è±¡å·¥å‚â€”â€”åŒ…å«ç³»åˆ—ä¸­æ‰€æœ‰äº§å“æ„é€ æ–¹æ³•çš„æ¥å£ã€‚ä¾‹å¦‚creÂ­ateÂ­Chairåˆ›å»ºæ¤…å­ã€â€‹creÂ­ateÂ­Sofaåˆ›å»ºæ²™å‘å’ŒcreÂ­ateÂ­CofÂ­feeÂ­Tableåˆ›å»ºå’–å•¡æ¡Œ.è¿™äº›æ–¹æ³•å¿…é¡»è¿”å›æŠ½è±¡äº§å“ç±»å‹ï¼Œå³æˆ‘ä»¬ä¹‹å‰æŠ½å–çš„é‚£äº›æ¥å£ï¼šæ¤…å­,æ²™å‘å’Œå’–å•¡æ¡Œç­‰ç­‰ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220808150835.png\" alt=\"img\"></p>\n<p>é‚£ä¹ˆè¯¥å¦‚ä½•å¤„ç†äº§å“å˜ä½“å‘¢ï¼Ÿå¯¹äºç³»åˆ—äº§å“çš„æ¯ä¸ªå˜ä½“ï¼Œæˆ‘ä»¬éƒ½å°†åŸºäºæŠ½è±¡å·¥å‚æ¥å£åˆ›å»ºä¸åŒçš„å·¥å‚ç±»ã€‚æ¯ä¸ªå·¥å‚ç±»éƒ½åªèƒ½è¿”å›ç‰¹å®šç±»åˆ«çš„äº§å“ï¼Œä¾‹å¦‚ï¼Œâ€‹ç°ä»£å®¶å…·å·¥å‚ModÂ­ernÂ­FurÂ­niÂ­tureÂ­FacÂ­toÂ­ryåªèƒ½åˆ›å»ºç°ä»£æ¤…å­ModÂ­ernÂ­Chairã€ç°ä»£æ²™å‘ModÂ­ernÂ­Sofaå’Œç°ä»£å’–å•¡æ¡ŒModÂ­ernÂ­CofÂ­feeÂ­Tableå¯¹è±¡ã€‚</p>\n<p>å®¢æˆ·ç«¯ä»£ç å¯ä»¥é€šè¿‡ç›¸åº”çš„æŠ½è±¡æ¥å£è°ƒç”¨å·¥å‚å’Œäº§å“ç±»ã€‚ ä½ æ— éœ€ä¿®æ”¹å®é™…å®¢æˆ·ç«¯ä»£ç ï¼Œ å°±èƒ½æ›´æ”¹ä¼ é€’ç»™å®¢æˆ·ç«¯çš„å·¥å‚ç±»ï¼Œ ä¹Ÿèƒ½æ›´æ”¹å®¢æˆ·ç«¯ä»£ç æ¥æ”¶çš„äº§å“å˜ä½“ã€‚</p>\n<h5 id=\"æŠ½è±¡å·¥å‚æ¨¡å¼ç»“æ„\"><a href=\"#æŠ½è±¡å·¥å‚æ¨¡å¼ç»“æ„\" class=\"headerlink\" title=\"æŠ½è±¡å·¥å‚æ¨¡å¼ç»“æ„\"></a>æŠ½è±¡å·¥å‚æ¨¡å¼ç»“æ„</h5><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220808151005.png\" alt=\"img\"></p>\n<p>1.<strong>æŠ½è±¡äº§å“(Abstract ProdÂ­uct)</strong> ä¸ºæ„æˆç³»åˆ—äº§å“çš„ä¸€ç»„ä¸åŒä½†ç›¸å…³çš„äº§å“å£°æ˜æ¥å£ã€‚</p>\n<p>2.<strong>å…·ä½“äº§å“(ConÂ­crete ProdÂ­uct)</strong> æ˜¯æŠ½è±¡äº§å“çš„å¤šç§ä¸åŒç±»å‹å®ç°ã€‚æ‰€æœ‰å˜ä½“ ï¼ˆç»´å¤šåˆ©äºš&#x2F;ç°ä»£ï¼‰éƒ½å¿…é¡»å®ç°ç›¸åº”çš„æŠ½è±¡äº§å“ ï¼ˆæ¤…å­&#x2F;æ²™å‘ï¼‰ã€‚</p>\n<p>3.<strong>æŠ½è±¡å·¥å‚(Abstract FacÂ­toÂ­ry)</strong> æ¥å£å£°æ˜äº†ä¸€ç»„åˆ›å»ºå„ç§æŠ½è±¡äº§å“çš„æ–¹æ³•ã€‚</p>\n<p>4.<strong>å…·ä½“å·¥å‚(ConÂ­crete FacÂ­toÂ­ry)</strong> å®ç°æŠ½è±¡å·¥å‚çš„æ„å»ºæ–¹æ³•ã€‚æ¯ä¸ªå…·ä½“å·¥å‚éƒ½å¯¹åº”ç‰¹å®šäº§å“å˜ä½“ï¼Œä¸”ä»…åˆ›å»ºæ­¤ç§äº§å“å˜ä½“ã€‚</p>\n<p>5.å°½ç®¡å…·ä½“å·¥å‚ä¼šå¯¹å…·ä½“äº§å“è¿›è¡Œåˆå§‹åŒ–ï¼Œå…¶æ„å»ºæ–¹æ³•ç­¾åå¿…é¡»è¿”å›ç›¸åº”çš„æŠ½è±¡äº§å“ã€‚è¿™æ ·ï¼Œä½¿ç”¨å·¥å‚ç±»çš„å®¢æˆ·ç«¯ä»£ç å°±ä¸ä¼šä¸å·¥å‚åˆ›å»ºçš„ç‰¹å®šäº§å“å˜ä½“è€¦åˆã€‚<strong>å®¢æˆ·ç«¯ (Client)</strong> åªéœ€é€šè¿‡æŠ½è±¡æ¥å£è°ƒç”¨å·¥å‚å’Œäº§å“å¯¹è±¡ï¼Œå°±èƒ½ä¸ä»»ä½•å…·ä½“å·¥å‚&#x2F;äº§å“å˜ä½“äº¤äº’ã€‚</p>\n<h5 id=\"ä¼ªä»£ç -1\"><a href=\"#ä¼ªä»£ç -1\" class=\"headerlink\" title=\"ä¼ªä»£ç \"></a>ä¼ªä»£ç </h5><p>åŒæ ·æ˜¯æ ¹æ®æŠ½è±¡å·¥å‚æ¨¡å¼ç»“æ„çš„å›¾ï¼Œæˆ‘ä»¬å¿«é€Ÿçš„å†™ä¸€ä¸ªåŸºäºå®¶å…·æŠ½è±¡å·¥å‚çš„ä¸æ˜¯é‚£ä¹ˆä¼ªçš„ä¼ªä»£ç </p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//éšä¾¿å†™ä¸€ä¸‹ä»£ç å°±ä¼šå¾ˆå¤šï¼Œæ‰€ä»¥è¿™é‡Œåªå†™å‡ºäº†ä¸€éƒ¨åˆ†ä»£ç </span></span><br><span class=\"line\"><span class=\"comment\">//æŠ½è±¡å·¥å‚æ¥å£</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title\">FurnitureFactory</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">//åˆ›å»ºæ¤…å­</span></span><br><span class=\"line\">    <span class=\"function\">Chair <span class=\"title\">CreateChair</span>()</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//åˆ›å»ºå’–å•¡æ¡Œ</span></span><br><span class=\"line\">    <span class=\"function\">CoffeTable <span class=\"title\">CreateCoffeeTable</span>()</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//åˆ›å»ºæ²™å‘</span></span><br><span class=\"line\">    <span class=\"function\">Sofa <span class=\"title\">CreateSofa</span>()</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">VictorianFurnitureFactory</span> : <span class=\"title\">FurnitureFactory</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> Chair <span class=\"title\">CreateChair</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> VictorianChair();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> CoffeTable <span class=\"title\">CreateCoffeeTable</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> VictorianCoffeeTable();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> Sofa <span class=\"title\">CreateSofa</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> VictorianSofa();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">ModernFurnitureFactory</span> : <span class=\"title\">FurnitureFactory</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> Chair <span class=\"title\">CreateChair</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> ModernChair();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> CoffeTable <span class=\"title\">CreateCoffeeTable</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> ModenCoffeeTable();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> Sofa <span class=\"title\">CreateSofa</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> ModernSofa();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//æŠ½è±¡äº§å“ Chairç±»</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title\">Chair</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">HasLegs</span>()</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">SitOn</span>()</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">VictorianChair</span> : <span class=\"title\">Chair</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">HasLegs</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">//...</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">SitOn</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">//...</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">ModernChair</span> : <span class=\"title\">Chair</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">HasLegs</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">//...</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">SitOn</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">//...</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//æŠ½è±¡äº§å“ CoffeeTableç±»</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title\">CoffeeTable</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">HasLegs</span>()</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">VictorianCoffeeTable</span> : <span class=\"title\">CoffeeTable</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">HasLegs</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">//...</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">ModernCoffeeTable</span> : <span class=\"title\">CoffeeTable</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">HasLegs</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">//...</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//å®¢æˆ·ç«¯è°ƒç”¨æŠ½è±¡å·¥å‚ä»£ç </span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">Client</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">// - factory:AbstractFactory</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> FurnitureFactory factory;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">Client</span>(<span class=\"params\">FurnitureFactory factory</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.factory = factory;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">SomeOperation</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Chair chair = factory.CreateChair();</span><br><span class=\"line\">        <span class=\"comment\">//...</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"é€‚åˆæŠ½è±¡å·¥å‚æ¨¡å¼çš„åœ°æ–¹\"><a href=\"#é€‚åˆæŠ½è±¡å·¥å‚æ¨¡å¼çš„åœ°æ–¹\" class=\"headerlink\" title=\"é€‚åˆæŠ½è±¡å·¥å‚æ¨¡å¼çš„åœ°æ–¹\"></a>é€‚åˆæŠ½è±¡å·¥å‚æ¨¡å¼çš„åœ°æ–¹</h5><ul>\n<li>å¦‚æœä»£ç éœ€è¦ä¸å¤šä¸ªä¸åŒç³»åˆ—çš„ç›¸å…³äº§å“äº¤äº’ï¼Œä½†æ˜¯ç”±äºæ— æ³•æå‰è·å–ç›¸å…³ä¿¡æ¯ï¼Œæˆ–è€…å‡ºäºå¯¹æœªæ¥æ‰©å±•æ€§çš„è€ƒè™‘ï¼Œä½ ä¸å¸Œæœ›ä»£ç åŸºäºäº§å“çš„å…·ä½“ç±»è¿›è¡Œæ„å»ºï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½ å¯ä»¥ä½¿ç”¨æŠ½è±¡å·¥å‚</li>\n</ul>\n<h5 id=\"æŠ½è±¡å·¥å‚æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"><a href=\"#æŠ½è±¡å·¥å‚æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\" class=\"headerlink\" title=\"æŠ½è±¡å·¥å‚æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"></a>æŠ½è±¡å·¥å‚æ¨¡å¼çš„ä¼˜ç¼ºç‚¹</h5><p><strong>ä¼˜ç‚¹</strong>:</p>\n<ul>\n<li>ä½ å¯ä»¥ç¡®ä¿åŒä¸€å·¥å‚ç”Ÿæˆçš„äº§å“ç›¸äº’åŒ¹é…</li>\n<li>ä½ å¯ä»¥é¿å…å®¢æˆ·ç«¯å’Œå…·ä½“äº§å“ä»£ç çš„è€¦åˆ</li>\n<li>ç¬¦åˆSRP</li>\n<li>ç¬¦åˆOCP</li>\n</ul>\n<p><strong>ç¼ºç‚¹</strong>:</p>\n<ul>\n<li>ç”±äºé‡‡ç”¨è¯¥æ¨¡å¼éœ€è¦å‘åº”ç”¨ä¸­å¼•å…¥ä¼—å¤šæ¥å£å’Œç±»ï¼Œ ä»£ç å¯èƒ½ä¼šæ¯”ä¹‹å‰æ›´åŠ å¤æ‚ã€‚</li>\n</ul>\n<h4 id=\"Builder-ç”Ÿæˆå™¨æ¨¡å¼\"><a href=\"#Builder-ç”Ÿæˆå™¨æ¨¡å¼\" class=\"headerlink\" title=\"Builder(ç”Ÿæˆå™¨æ¨¡å¼)\"></a>Builder(ç”Ÿæˆå™¨æ¨¡å¼)</h4><p>ç”Ÿæˆå™¨æ¨¡å¼æ˜¯ä¸€ç§åˆ›å»ºå‹è®¾è®¡æ¨¡å¼ï¼Œä½¿ä½ èƒ½å¤Ÿåˆ†æ­¥éª¤åˆ›å»ºå¤æ‚å¯¹è±¡ã€‚è¯¥æ¨¡å¼å…è®¸ä½ ä½¿ç”¨ç›¸åŒçš„åˆ›å»ºä»£ç ç”Ÿæˆä¸åŒç±»å‹å’Œå½¢å¼çš„å¯¹è±¡ã€‚</p>\n<h5 id=\"é—®é¢˜-2\"><a href=\"#é—®é¢˜-2\" class=\"headerlink\" title=\"é—®é¢˜\"></a>é—®é¢˜</h5><p>å‡è®¾æœ‰è¿™æ ·ä¸€ä¸ªå¤æ‚å¯¹è±¡ï¼Œåœ¨å¯¹å…¶è¿›è¡Œæ„é€ æ—¶éœ€è¦å¯¹è¯¸å¤šæˆå‘˜å˜é‡å’ŒåµŒå¥—å¯¹è±¡è¿›è¡Œç¹å¤çš„åˆå§‹åŒ–å·¥ä½œã€‚è¿™äº›åˆå§‹åŒ–ä»£ç é€šå¸¸æ·±è—äºä¸€ä¸ªåŒ…å«ä¼—å¤šå‚æ•°ä¸”è®©äººåŸºæœ¬çœ‹ä¸æ‡‚çš„æ„é€ å‡½æ•°ä¸­ï¼›ç”šè‡³è¿˜æœ‰æ›´ç³Ÿç³•çš„æƒ…å†µï¼Œé‚£å°±æ˜¯è¿™äº›ä»£ç æ•£è½åœ¨å®¢æˆ·ç«¯ä»£ç çš„å¤šä¸ªä½ç½®ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220808163211.png\" alt=\"img\"></p>\n<p>æœ€ç®€å•çš„æ–¹æ³•æ˜¯æ‰©å±•æˆ¿å±‹åŸºç±»ï¼Œç„¶ååˆ›å»ºä¸€ç³»åˆ—æ¶µç›–æ‰€æœ‰å‚æ•°ç»„åˆçš„å­ç±»ã€‚ä½†æœ€ç»ˆä½ å°†é¢å¯¹ç›¸å½“æ•°é‡çš„å­ç±»ã€‚ä»»ä½•æ–°å¢çš„å‚æ•°ï¼ˆä¾‹å¦‚é—¨å»Šç±»å‹ï¼‰éƒ½ä¼šè®©è¿™ä¸ªå±‚æ¬¡ç»“æ„æ›´åŠ å¤æ‚ã€‚</p>\n<p>å¦ä¸€ç§æ–¹æ³•åˆ™æ— éœ€ç”Ÿæˆå­ç±»ã€‚ä½ å¯ä»¥åœ¨æˆ¿å±‹åŸºç±»ä¸­åˆ›å»ºä¸€ä¸ªåŒ…æ‹¬æ‰€æœ‰å¯èƒ½å‚æ•°çš„è¶…çº§æ„é€ å‡½æ•°ï¼Œå¹¶ç”¨å®ƒæ¥æ§åˆ¶æˆ¿å±‹å¯¹è±¡ã€‚è¿™ç§æ–¹æ³•ç¡®å®å¯ä»¥é¿å…ç”Ÿæˆå­ç±»ï¼Œä½†å®ƒå´ä¼šé€ æˆå¦å¤–ä¸€ä¸ªé—®é¢˜ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220808163441.png\" alt=\"img\"></p>\n<p>é€šå¸¸æƒ…å†µä¸‹ï¼Œ ç»å¤§éƒ¨åˆ†çš„å‚æ•°éƒ½æ²¡æœ‰ä½¿ç”¨ï¼Œ è¿™ä½¿å¾—å¯¹äºæ„é€ å‡½æ•°çš„è°ƒç”¨ååˆ†ä¸ç®€æ´ã€‚ ä¾‹å¦‚ï¼Œ åªæœ‰å¾ˆå°‘çš„æˆ¿å­æœ‰æ¸¸æ³³æ± ï¼Œ å› æ­¤ä¸æ¸¸æ³³æ± ç›¸å…³çš„å‚æ•°åä¹‹å…«ä¹æ˜¯æ¯«æ— ç”¨å¤„çš„ã€‚</p>\n<h5 id=\"è§£å†³æ–¹æ¡ˆ-2\"><a href=\"#è§£å†³æ–¹æ¡ˆ-2\" class=\"headerlink\" title=\"è§£å†³æ–¹æ¡ˆ\"></a>è§£å†³æ–¹æ¡ˆ</h5><p>ç”Ÿæˆå™¨æ¨¡å¼å»ºè®®å°†å¯¹è±¡æ„é€ ä»£ç ä»äº§å“ç±»ä¸­æŠ½å–å‡ºæ¥ï¼Œå¹¶å°†å…¶æ”¾åœ¨ä¸€ä¸ªåä¸ºç”Ÿæˆå™¨çš„ç‹¬ç«‹å¯¹è±¡ä¸­ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220808164126.png\" alt=\"img\"></p>\n<p>è¯¥æ¨¡å¼ä¼šå°†å¯¹è±¡æ„é€ è¿‡ç¨‹<strong>åˆ’åˆ†ä¸ºä¸€ç»„æ­¥éª¤</strong>ï¼Œæ¯”å¦‚buildÂ­Wallsåˆ›å»ºå¢™å£å’ŒbuildÂ­Dooråˆ›å»ºæˆ¿é—¨åˆ›å»ºæˆ¿é—¨ç­‰ã€‚æ¯æ¬¡åˆ›å»ºå¯¹è±¡æ—¶ï¼Œä½ éƒ½éœ€è¦é€šè¿‡ç”Ÿæˆå™¨å¯¹è±¡æ‰§è¡Œä¸€ç³»åˆ—æ­¥éª¤ã€‚é‡ç‚¹åœ¨äºä½ æ— éœ€è°ƒç”¨æ‰€æœ‰æ­¥éª¤ï¼Œè€Œåªéœ€è°ƒç”¨åˆ›å»ºç‰¹å®šå¯¹è±¡é…ç½®æ‰€éœ€çš„é‚£äº›æ­¥éª¤å³å¯ã€‚</p>\n<p>å½“ä½ éœ€è¦åˆ›å»º<strong>ä¸åŒå½¢å¼çš„äº§å“</strong>æ—¶ï¼Œå…¶ä¸­çš„ä¸€äº›æ„é€ æ­¥éª¤å¯èƒ½éœ€è¦ä¸åŒçš„å®ç°ã€‚ä¾‹å¦‚ï¼Œæœ¨å±‹çš„æˆ¿é—¨å¯èƒ½éœ€è¦ä½¿ç”¨æœ¨å¤´åˆ¶é€ ï¼Œè€ŒåŸå ¡çš„æˆ¿é—¨åˆ™å¿…é¡»ä½¿ç”¨çŸ³å¤´åˆ¶é€ ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½ å¯ä»¥åˆ›å»ºå¤šä¸ªä¸åŒçš„ç”Ÿæˆå™¨ï¼Œç”¨ä¸åŒæ–¹å¼å®ç°ä¸€ç»„ç›¸åŒçš„åˆ›å»ºæ­¥éª¤ã€‚ç„¶åä½ å°±å¯ä»¥åœ¨åˆ›å»ºè¿‡ç¨‹ä¸­ä½¿ç”¨è¿™äº›ç”Ÿæˆå™¨ï¼ˆä¾‹å¦‚æŒ‰é¡ºåºè°ƒç”¨å¤šä¸ªæ„é€ æ­¥éª¤ï¼‰æ¥ç”Ÿæˆä¸åŒç±»å‹çš„å¯¹è±¡ã€‚</p>\n<p><strong>ä¸»ç®¡(Director)</strong> :<br>ä½ å¯ä»¥è¿›ä¸€æ­¥å°†ç”¨äºåˆ›å»ºäº§å“çš„ä¸€ç³»åˆ—ç”Ÿæˆå™¨æ­¥éª¤è°ƒç”¨æŠ½å–æˆä¸ºå•ç‹¬çš„ä¸»ç®¡ç±»ã€‚ä¸»ç®¡ç±»å¯å®šä¹‰åˆ›å»ºæ­¥éª¤çš„æ‰§è¡Œé¡ºåºï¼Œè€Œç”Ÿæˆå™¨åˆ™æä¾›è¿™äº›æ­¥éª¤çš„å®ç°ã€‚<br>ä¸¥æ ¼æ¥è¯´ï¼Œä½ çš„ç¨‹åºä¸­å¹¶ä¸ä¸€å®šéœ€è¦ä¸»ç®¡ç±»ã€‚å®¢æˆ·ç«¯ä»£ç å¯ç›´æ¥ä»¥ç‰¹å®šé¡ºåºè°ƒç”¨åˆ›å»ºæ­¥éª¤ã€‚ä¸è¿‡ï¼Œä¸»ç®¡ç±»ä¸­éå¸¸é€‚åˆæ”¾å…¥å„ç§ä¾‹è¡Œæ„é€ æµç¨‹ï¼Œä»¥ä¾¿åœ¨ç¨‹åºä¸­åå¤ä½¿ç”¨ã€‚<br>æ­¤å¤–ï¼Œå¯¹äºå®¢æˆ·ç«¯ä»£ç æ¥è¯´ï¼Œä¸»ç®¡ç±»å®Œå…¨éšè—äº†äº§å“æ„é€ ç»†èŠ‚ã€‚å®¢æˆ·ç«¯åªéœ€è¦å°†ä¸€ä¸ªç”Ÿæˆå™¨ä¸ä¸»ç®¡ç±»å…³è”ï¼Œç„¶åä½¿ç”¨ä¸»ç®¡ç±»æ¥æ„é€ äº§å“ï¼Œå°±èƒ½ä»ç”Ÿæˆå™¨å¤„è·å¾—æ„é€ ç»“æœäº†ã€‚</p>\n<h5 id=\"ç”Ÿæˆå™¨æ¨¡å¼ç»“æ„\"><a href=\"#ç”Ÿæˆå™¨æ¨¡å¼ç»“æ„\" class=\"headerlink\" title=\"ç”Ÿæˆå™¨æ¨¡å¼ç»“æ„\"></a>ç”Ÿæˆå™¨æ¨¡å¼ç»“æ„</h5><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220808164617.png\" alt=\"img\"></p>\n<p>1.<strong>ç”Ÿæˆå™¨(Builder)</strong> æ¥å£å£°æ˜åœ¨æ‰€æœ‰ç±»å‹ç”Ÿæˆå™¨ä¸­é€šç”¨çš„äº§å“æ„é€ æ­¥éª¤ã€‚</p>\n<p>2.<strong>å…·ä½“ç”Ÿæˆå™¨(ConÂ­crete Builders)</strong> æä¾›æ„é€ è¿‡ç¨‹çš„ä¸åŒå®ç°ã€‚å…·ä½“ç”Ÿæˆå™¨ä¹Ÿå¯ä»¥æ„é€ ä¸éµå¾ªé€šç”¨æ¥å£çš„äº§å“ã€‚</p>\n<p>3.<strong>äº§å“(ProdÂ­ucts)</strong> æ˜¯æœ€ç»ˆç”Ÿæˆçš„å¯¹è±¡ã€‚ç”±ä¸åŒç”Ÿæˆå™¨æ„é€ çš„äº§å“æ— éœ€å±äºåŒä¸€ç±»å±‚æ¬¡ç»“æ„æˆ–æ¥å£ã€‚</p>\n<p>4.<strong>ä¸»ç®¡(DirecÂ­tor)</strong> ç±»å®šä¹‰è°ƒç”¨æ„é€ æ­¥éª¤çš„é¡ºåºï¼Œè¿™æ ·ä½ å°±å¯ä»¥åˆ›å»ºå’Œå¤ç”¨ç‰¹å®šçš„äº§å“é…ç½®ã€‚</p>\n<p>5.<strong>å®¢æˆ·ç«¯(Client)</strong> å¿…é¡»å°†æŸä¸ªç”Ÿæˆå™¨å¯¹è±¡ä¸ä¸»ç®¡ç±»å…³è”ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œä½ åªéœ€é€šè¿‡ä¸»ç®¡ç±»æ„é€ å‡½æ•°çš„å‚æ•°è¿›è¡Œä¸€æ¬¡æ€§å…³è”å³å¯ã€‚æ­¤åä¸»ç®¡ç±»å°±èƒ½ä½¿ç”¨ç”Ÿæˆå™¨å¯¹è±¡å®Œæˆåç»­æ‰€æœ‰çš„æ„é€ ä»»åŠ¡ã€‚ä½†åœ¨å®¢æˆ·ç«¯å°†ç”Ÿæˆå™¨å¯¹è±¡ä¼ é€’ç»™ä¸»ç®¡ç±»åˆ¶é€ æ–¹æ³•æ—¶è¿˜æœ‰å¦ä¸€ç§æ–¹å¼ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½ åœ¨ä½¿ç”¨ä¸»ç®¡ç±»ç”Ÿäº§äº§å“æ—¶æ¯æ¬¡éƒ½å¯ä»¥ä½¿ç”¨ä¸åŒçš„ç”Ÿæˆå™¨ã€‚</p>\n<h5 id=\"ä¼ªä»£ç -2\"><a href=\"#ä¼ªä»£ç -2\" class=\"headerlink\" title=\"ä¼ªä»£ç \"></a>ä¼ªä»£ç </h5><p>æ„Ÿè§‰ä¸Šé¢çš„ä¾‹å­å¹¶ä¸æ˜¯å¾ˆç›´æ¥ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸‹é¢æœ‰ä¸€ä¸ªå…³äºç”Ÿæˆå™¨æ¨¡å¼çš„ä¾‹å­æ¼”ç¤ºäº†ä½ å¯ä»¥å¦‚ä½•å¤ç”¨ç›¸åŒçš„å¯¹è±¡æ„é€ ä»£ç æ¥ç”Ÿæˆä¸åŒç±»å‹çš„äº§å“â€”â€”ä¾‹å¦‚æ±½è½¦ï¼ˆCarï¼‰â€”â€”åŠå…¶ç›¸åº”çš„ä½¿ç”¨æ‰‹å†Œï¼ˆManÂ­uÂ­alï¼‰ã€‚<br>ç”Ÿæˆå™¨æ¨¡å¼å¯ä»¥å¾ˆæ–¹ä¾¿çš„å†™å‡º<strong>å®ç°åŒç±»äº§å“ä½†æ˜¯å®ç°æ­¥éª¤ä¸åŒ</strong>ï¼Œå®ƒä¼šå°†ä¸€ä¸ªçš„åˆ¶é€ è¿‡ç¨‹åˆ†ä¸º<strong>ä¸€ç³»åˆ—æ­¥éª¤</strong>ï¼Œç”¨Directorç±»åœ¨ç”Ÿæˆä¸åŒäº§å“çš„æ—¶å€™ä½ å¯ä»¥æ ¹æ®ä¸åŒéœ€æ±‚åœ¨åŒç±»äº§å“é€‰æ‹©ç›¸åº”çš„æ­¥éª¤ï¼Œæ¯”å¦‚Caræœ‰å¾ˆå¤šç§ï¼Œåœ¨Builderæˆ‘ä»¬æœ‰å»ºé€ Carçš„æ‰€æœ‰æ­¥éª¤ï¼Œä½†æ˜¯æ ¹æ®éœ€æ±‚åªéœ€è¦ä½¿ç”¨ä¸€äº›æ­¥éª¤ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨ç›¸åº”çš„Builderç±»ä¸­çš„æ–¹æ³•ï¼Œæˆ‘ä»¬å°½é‡çš„<strong>è¯¦ç»†</strong>ï¼Œè¿™æ ·åœ¨Directorä¸­æˆ‘ä»¬èƒ½å¤Ÿå»ºé€ æ›´å¤šç±»å‹çš„äº§å“ã€‚<br>ä»ç„¶æ˜¯å†™ä¸€ä¸ªå¹¶ä¸æ˜¯å¾ˆä¼ªçš„ä¼ªä»£ç ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220808165345.png\" alt=\"img\"></p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//åªæœ‰å½“äº§å“è¾ƒä¸ºå¤æ‚ä¸”éœ€è¦è¯¦ç»†é…ç½®æ—¶ï¼Œä½¿ç”¨ç”Ÿæˆå™¨æ¨¡å¼æ‰æœ‰æ„ä¹‰</span></span><br><span class=\"line\"><span class=\"comment\">//ç”Ÿæˆå™¨æ¥å£å£°æ˜äº†åˆ›å»ºäº§å“ä¸åŒå¯¹è±¡çš„æ–¹æ³•</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//Productç±»</span></span><br><span class=\"line\"><span class=\"comment\">//ä¸€è¾†è½¦æœ‰å¾ˆå¤šç§ç±»ï¼ŒSUVï¼Œå°è½¿è½¦ç­‰ç­‰</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">Car</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">//...</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//Productç±»</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">Manual</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">//...</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title\">Builder</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">Reset</span>()</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">SetSeats</span>()</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">setEngine</span>()</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//...</span></span><br><span class=\"line\">    </span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">CarBuilder</span> : <span class=\"title\">Builder</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> Car car = <span class=\"keyword\">new</span> Car();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">CarBuilder</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.Reset();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Reset</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.car = <span class=\"keyword\">new</span> Car();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">SetSeats</span>()</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//...</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//å…·ä½“ç”Ÿæˆå™¨éœ€è¦è‡ªè¡Œæä¾›è·å–ç»“æœçš„æ–¹æ³•ã€‚è¿™æ˜¯å› ä¸ºä¸åŒç±»å‹çš„ç”Ÿæˆå™¨å¯èƒ½</span></span><br><span class=\"line\">    <span class=\"comment\">// ä¼šåˆ›å»ºä¸éµå¾ªç›¸åŒæ¥å£çš„ã€å®Œå…¨ä¸åŒçš„äº§å“ã€‚æ‰€ä»¥ä¹Ÿå°±æ— æ³•åœ¨ç”Ÿæˆå™¨æ¥å£ä¸­</span></span><br><span class=\"line\">    <span class=\"comment\">// å£°æ˜è¿™äº›æ–¹æ³•ï¼ˆè‡³å°‘åœ¨é™æ€ç±»å‹çš„ç¼–ç¨‹è¯­è¨€ä¸­æ˜¯è¿™æ ·çš„ï¼‰ã€‚</span></span><br><span class=\"line\">    <span class=\"comment\">//é€šå¸¸åœ¨ç”Ÿæˆå™¨å®ä¾‹å°†ç»“æœè¿”å›ç»™å®¢æˆ·ç«¯åï¼Œå®ƒä»¬åº”è¯¥åšå¥½ç”Ÿæˆå¦ä¸€ä¸ªäº§å“çš„å‡†å¤‡</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> Car <span class=\"title\">getResult</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Car result = <span class=\"keyword\">this</span>.car;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">this</span>.Reset();</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">CarManualBuilder</span> : <span class=\"title\">Builder</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> Manual manual = <span class=\"keyword\">new</span> Manual();</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">CarManualBuilder</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.Reset();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Reset</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.manual = <span class=\"keyword\">new</span> Manual();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">SetSeats</span>()</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//...</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> Manual <span class=\"title\">getResult</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Manual result = <span class=\"keyword\">this</span>.manual;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">this</span>.Reset();</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//ä¸»ç®¡ç±»åªè´Ÿè´£æŒ‰ç…§ç‰¹å®šé¡ºåºæ‰§è¡Œç”Ÿæˆæ­¥éª¤</span></span><br><span class=\"line\"><span class=\"comment\">//ç”±äºå®¢æˆ·ç«¯å¯ä»¥ç›´æ¥æ§åˆ¶ç”Ÿæˆå™¨ï¼Œæ‰€ä»¥ä¸¥æ ¼æ„ä¹‰ä¸Šæ¥è¯´ä¸»ç®¡ç±»å¹¶ä¸æ˜¯å¿…éœ€çš„ã€‚</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">Director</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> Builder _builder;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> Builder builder</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">set</span>&#123; _builder = <span class=\"keyword\">value</span>;&#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">MakeSUV</span>(<span class=\"params\">Builder builder</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._builder.Reset();</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._builder.setSeat(...);</span><br><span class=\"line\">        <span class=\"comment\">//...</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">MakeSportCar</span>(<span class=\"params\">Builder builder</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._builder.Reset();</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._builder.setSeat(...);</span><br><span class=\"line\">        <span class=\"comment\">//...</span></span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//å®¢æˆ·ç«¯ç±»</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">Client</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    Director director = <span class=\"keyword\">new</span> Director();</span><br><span class=\"line\"></span><br><span class=\"line\">    CarBuilder builder = <span class=\"keyword\">new</span> CarBuilder();</span><br><span class=\"line\"></span><br><span class=\"line\">    director.MakeSportsCar(builder);</span><br><span class=\"line\"></span><br><span class=\"line\">    Car car = builder.getResult();</span><br><span class=\"line\"></span><br><span class=\"line\">    CarManualBuilder builder = <span class=\"keyword\">new</span> CarManualBuilder();</span><br><span class=\"line\">    director.MakeSportsCar(builder);</span><br><span class=\"line\"></span><br><span class=\"line\">    Manual manual = builder.GetResult();</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"é€‚åˆç”Ÿæˆå™¨æ¨¡å¼çš„åœ°æ–¹\"><a href=\"#é€‚åˆç”Ÿæˆå™¨æ¨¡å¼çš„åœ°æ–¹\" class=\"headerlink\" title=\"é€‚åˆç”Ÿæˆå™¨æ¨¡å¼çš„åœ°æ–¹\"></a>é€‚åˆç”Ÿæˆå™¨æ¨¡å¼çš„åœ°æ–¹</h5><ul>\n<li>ä½¿ç”¨ç”Ÿæˆå™¨æ¨¡å¼å¯é¿å… <strong>â€œé‡å æ„é€ å‡½æ•° (teleÂ­scopÂ­ing conÂ­strucÂ­tor)â€</strong> çš„å‡ºç°ã€‚å³ä¸‹åˆ—ä»£ç </li>\n</ul>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">Pizza</span> &#123;</span><br><span class=\"line\">    Pizza(<span class=\"built_in\">int</span> size) &#123; ... &#125;</span><br><span class=\"line\">    Pizza(<span class=\"built_in\">int</span> size, boolean cheese) &#123; ... &#125;</span><br><span class=\"line\">    Pizza(<span class=\"built_in\">int</span> size, boolean cheese, boolean pepperoni) &#123; ... &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>å½“ä½ å¸Œæœ›ä½¿ç”¨ä»£ç <strong>åˆ›å»ºä¸åŒå½¢å¼çš„äº§å“</strong> ï¼ˆä¾‹å¦‚çŸ³å¤´æˆ–æœ¨å¤´æˆ¿å±‹ï¼‰ æ—¶ï¼Œå¯ä½¿ç”¨ç”Ÿæˆå™¨æ¨¡å¼ã€‚</li>\n<li>ä½¿ç”¨ç”Ÿæˆå™¨æ„é€ ç»„åˆæ ‘æˆ–å…¶ä»–å¤æ‚å¯¹è±¡ã€‚ç”Ÿæˆå™¨æ¨¡å¼è®©ä½ èƒ½åˆ†æ­¥éª¤æ„é€ äº§å“ã€‚ä½ å¯ä»¥å»¶è¿Ÿæ‰§è¡ŒæŸäº›æ­¥éª¤è€Œä¸ä¼šå½±å“æœ€ç»ˆäº§å“ã€‚ä½ ç”šè‡³å¯ä»¥é€’å½’è°ƒç”¨è¿™äº›æ­¥éª¤ï¼Œè¿™åœ¨åˆ›å»ºå¯¹è±¡æ ‘æ—¶éå¸¸æ–¹ä¾¿ã€‚<strong>ç”Ÿæˆå™¨åœ¨æ‰§è¡Œåˆ¶é€ æ­¥éª¤æ—¶ï¼Œä¸èƒ½å¯¹å¤–å‘å¸ƒæœªå®Œæˆçš„äº§å“</strong>ã€‚è¿™å¯ä»¥é¿å…å®¢æˆ·ç«¯ä»£ç è·å–åˆ°ä¸å®Œæ•´ç»“æœå¯¹è±¡çš„æƒ…å†µã€‚</li>\n</ul>\n<h5 id=\"ç”Ÿæˆå™¨æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"><a href=\"#ç”Ÿæˆå™¨æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\" class=\"headerlink\" title=\"ç”Ÿæˆå™¨æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"></a>ç”Ÿæˆå™¨æ¨¡å¼çš„ä¼˜ç¼ºç‚¹</h5><p><strong>ä¼˜ç‚¹</strong> :</p>\n<ul>\n<li>ä½ å¯ä»¥åˆ†æ­¥åˆ›å»ºå¯¹è±¡ï¼Œæš‚ç¼“åˆ›å»ºæ­¥éª¤æˆ–é€’å½’è¿è¡Œåˆ›å»ºæ­¥éª¤ã€‚</li>\n<li>ç”Ÿæˆä¸åŒå½¢å¼çš„äº§å“æ—¶ï¼Œä½ å¯ä»¥å¤ç”¨ç›¸åŒçš„åˆ¶é€ ä»£ç ã€‚</li>\n<li>ç¬¦åˆSRP</li>\n</ul>\n<p><strong>ç¼ºç‚¹</strong> :</p>\n<ul>\n<li>ç”±äºè¯¥æ¨¡å¼éœ€è¦æ–°å¢å¤šä¸ªç±»ï¼Œ å› æ­¤ä»£ç æ•´ä½“å¤æ‚ç¨‹åº¦ä¼šæœ‰æ‰€å¢åŠ ã€‚</li>\n</ul>\n<h4 id=\"Prototype-åŸå‹æ¨¡å¼\"><a href=\"#Prototype-åŸå‹æ¨¡å¼\" class=\"headerlink\" title=\"Prototype(åŸå‹æ¨¡å¼)\"></a>Prototype(åŸå‹æ¨¡å¼)</h4><p>åŸå‹æ¨¡å¼æ˜¯ä¸€ç§åˆ›å»ºå‹è®¾è®¡æ¨¡å¼ï¼Œä½¿ä½ èƒ½å¤Ÿå¤åˆ¶å·²æœ‰å¯¹è±¡ï¼Œè€Œåˆæ— éœ€ä½¿ä»£ç ä¾èµ–å®ƒä»¬æ‰€å±çš„ç±»ã€‚(å³å½“ä½ éœ€è¦ä¸€ä¸ªç›¸åŒçš„ç±»ï¼Œä½†æ˜¯é‡æ–°è®¾ç½®å‚æ•°å¾ˆç¹çï¼ŒåŸå‹æ¨¡å¼èƒ½è®©ä½ å¾ˆå¿«åœ°åˆ›é€ ä¸€ä¸ªæ–°çš„é™¤äº†åå­—ä¸ä¸€æ ·å…¶ä»–ä¸€æ‘¸ä¸€æ ·çš„å˜é‡)</p>\n<h5 id=\"é—®é¢˜-3\"><a href=\"#é—®é¢˜-3\" class=\"headerlink\" title=\"é—®é¢˜\"></a>é—®é¢˜</h5><p>å¦‚æœä½ æœ‰ä¸€ä¸ªå¯¹è±¡ï¼Œå¹¶å¸Œæœ›ç”Ÿæˆä¸å…¶å®Œå…¨ç›¸åŒçš„ä¸€ä¸ªå¤åˆ¶å“ï¼Œä½ è¯¥å¦‚ä½•å®ç°å‘¢ï¼Ÿé¦–å…ˆï¼Œä½ å¿…é¡»æ–°å»ºä¸€ä¸ªå±äºç›¸åŒç±»çš„å¯¹è±¡ã€‚ç„¶åï¼Œä½ å¿…é¡»éå†åŸå§‹å¯¹è±¡çš„æ‰€æœ‰æˆå‘˜å˜é‡ï¼Œå¹¶å°†æˆå‘˜å˜é‡å€¼å¤åˆ¶åˆ°æ–°å¯¹è±¡ä¸­ã€‚ä½†æœ‰ä¸ªå°é—®é¢˜ã€‚å¹¶éæ‰€æœ‰å¯¹è±¡éƒ½èƒ½é€šè¿‡è¿™ç§æ–¹å¼è¿›è¡Œå¤åˆ¶ï¼Œå› ä¸ºæœ‰äº›å¯¹è±¡å¯èƒ½æ‹¥æœ‰ç§æœ‰æˆå‘˜å˜é‡ï¼Œå®ƒä»¬åœ¨å¯¹è±¡æœ¬èº«ä»¥å¤–æ˜¯ä¸å¯è§çš„ã€‚</p>\n<p>ç›´æ¥å¤åˆ¶è¿˜æœ‰å¦å¤–ä¸€ä¸ªé—®é¢˜ã€‚å› ä¸ºä½ å¿…é¡»çŸ¥é“å¯¹è±¡æ‰€å±çš„ç±»æ‰èƒ½åˆ›å»ºå¤åˆ¶å“ï¼Œæ‰€ä»¥ä»£ç å¿…é¡»ä¾èµ–è¯¥ç±»ã€‚å³ä½¿ä½ å¯ä»¥æ¥å—é¢å¤–çš„ä¾èµ–æ€§ï¼Œé‚£è¿˜æœ‰å¦å¤–ä¸€ä¸ªé—®é¢˜ï¼šæœ‰æ—¶ä½ åªçŸ¥é“å¯¹è±¡æ‰€å®ç°çš„æ¥å£ï¼Œè€Œä¸çŸ¥é“å…¶æ‰€å±çš„å…·ä½“ç±»ï¼Œæ¯”å¦‚å¯å‘æ–¹æ³•çš„æŸä¸ªå‚æ•°ä¼ å…¥å®ç°äº†æŸä¸ªæ¥å£çš„ä»»ä½•å¯¹è±¡ã€‚</p>\n<h5 id=\"è§£å†³æ–¹æ¡ˆ-3\"><a href=\"#è§£å†³æ–¹æ¡ˆ-3\" class=\"headerlink\" title=\"è§£å†³æ–¹æ¡ˆ\"></a>è§£å†³æ–¹æ¡ˆ</h5><p>åŸå‹æ¨¡å¼å°†å…‹éš†è¿‡ç¨‹å§”æ´¾ç»™è¢«å…‹éš†çš„å®é™…å¯¹è±¡ã€‚æ¨¡å¼ä¸ºæ‰€æœ‰æ”¯æŒå…‹éš†çš„å¯¹è±¡å£°æ˜äº†ä¸€ä¸ªé€šç”¨æ¥å£ï¼Œè¯¥æ¥å£è®©ä½ èƒ½å¤Ÿå…‹éš†å¯¹è±¡ï¼ŒåŒæ—¶åˆæ— éœ€å°†ä»£ç å’Œå¯¹è±¡æ‰€å±ç±»è€¦åˆã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œè¿™æ ·çš„æ¥å£ä¸­ä»…åŒ…å«ä¸€ä¸ª<strong>å…‹éš†æ–¹æ³•</strong>ã€‚</p>\n<p>æ‰€æœ‰çš„ç±»å¯¹ç»§æ‰¿çš„é€šç”¨æ¥å£çš„å…‹éš†æ–¹æ³•å®ç°éƒ½éå¸¸ç›¸ä¼¼ã€‚éƒ½æ˜¯åˆ›å»ºä¸€ä¸ªå½“å‰ç±»çš„å¯¹è±¡ï¼Œç„¶åè¿”å›ä¸€ä¸ªç±»â€”â€”å³ return new Class(this);é€šå¸¸åœ¨æ„é€ å‡½æ•°ä¸­å…ˆå†™å¥½åˆå§‹åŒ–çš„æ ·å¼ã€‚</p>\n<p>å…¶å®åœ¨c#è¯­è¨€ä¸­å·²ç»æœ‰æä¾›çš„<strong>ICloneableæ¥å£</strong>è¿›è¡Œå¤åˆ¶,å°±æ˜¯ç«‹å³å¯ç”¨çš„åŸå‹æ¨¡å¼ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥ä»ç„¶å»çœ‹çœ‹å¹¶ä¸”ç†è§£è¿™ä¸ªæ¨¡å¼æ˜¯å¦‚ä½•è¿è¡Œçš„ã€‚</p>\n<h5 id=\"åŸå‹ç»“æ„æ¨¡å¼\"><a href=\"#åŸå‹ç»“æ„æ¨¡å¼\" class=\"headerlink\" title=\"åŸå‹ç»“æ„æ¨¡å¼\"></a>åŸå‹ç»“æ„æ¨¡å¼</h5><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220809232541.png\" alt=\"img\"></p>\n<p>1.<strong>åŸå‹(ProÂ­toÂ­type)</strong> æ¥å£å°†å¯¹å…‹éš†æ–¹æ³•è¿›è¡Œå£°æ˜ã€‚åœ¨ç»å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œå…¶ä¸­åªä¼šæœ‰ä¸€ä¸ªåä¸º cloneå…‹éš†çš„æ–¹æ³•ã€‚</p>\n<p>2.<strong>å…·ä½“åŸå‹(ConÂ­crete ProÂ­toÂ­type)</strong> ç±»å°†å®ç°å…‹éš†æ–¹æ³•ã€‚é™¤äº†å°†åŸå§‹å¯¹è±¡çš„æ•°æ®å¤åˆ¶åˆ°å…‹éš†ä½“ä¸­ä¹‹å¤–ï¼Œè¯¥æ–¹æ³•æœ‰æ—¶è¿˜éœ€å¤„ç†å…‹éš†è¿‡ç¨‹ä¸­çš„æç«¯æƒ…å†µï¼Œä¾‹å¦‚å…‹éš†å…³è”å¯¹è±¡å’Œæ¢³ç†é€’å½’ä¾èµ–ç­‰ç­‰ã€‚</p>\n<p>3.<strong>å®¢æˆ·ç«¯(Client)</strong> å¯ä»¥å¤åˆ¶å®ç°äº†åŸå‹æ¥å£çš„ä»»ä½•å¯¹è±¡ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220809233359.png\" alt=\"img\"></p>\n<p>1.<strong>åŸå‹æ³¨å†Œè¡¨(ProÂ­toÂ­type RegÂ­istry)</strong> æä¾›äº†ä¸€ç§è®¿é—®å¸¸ç”¨åŸå‹çš„ç®€å•æ–¹æ³•ï¼Œå…¶ä¸­å­˜å‚¨äº†ä¸€ç³»åˆ—å¯ä¾›éšæ—¶å¤åˆ¶çš„é¢„ç”Ÿæˆå¯¹è±¡ã€‚æœ€ç®€å•çš„æ³¨å†Œè¡¨åŸå‹æ˜¯ä¸€ä¸ªåç§° â†’ åŸå‹çš„å“ˆå¸Œè¡¨ã€‚ä½†å¦‚æœéœ€è¦ä½¿ç”¨åç§°ä»¥å¤–çš„æ¡ä»¶è¿›è¡Œæœç´¢ï¼Œä½ å¯ä»¥åˆ›å»ºæ›´åŠ å®Œå–„çš„æ³¨å†Œè¡¨ç‰ˆæœ¬ã€‚</p>\n<h5 id=\"ä¼ªä»£ç -3\"><a href=\"#ä¼ªä»£ç -3\" class=\"headerlink\" title=\"ä¼ªä»£ç \"></a>ä¼ªä»£ç </h5><p>æˆ‘ä¼šåœ¨è¿™é‡Œé™„ä¸Šä¸€ä»½ä¼ªä»£ç ä»¥åŠc#å®˜æ–¹æä¾›çš„ä»£ç é¡ºä¾¿å­¦ä¹ è¿™ä¸ªæ¥å£ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220809233553.png\" alt=\"img\"></p>\n<p><strong>ä¸€ä»½ä¼ªä»£ç </strong> : é€šè¿‡é˜…è¯»å¯ä»¥å¿«é€Ÿäº†è§£æ˜¯å¦‚ä½•cloneçš„</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// åŸºç¡€åŸå‹ã€‚</span></span><br><span class=\"line\"><span class=\"keyword\">abstract</span> <span class=\"keyword\">class</span> <span class=\"title\">Shape</span> <span class=\"title\">is</span></span><br><span class=\"line\">    <span class=\"title\">field</span> <span class=\"title\">X</span>: <span class=\"title\">int</span></span><br><span class=\"line\">    <span class=\"title\">field</span> <span class=\"title\">Y</span>: <span class=\"title\">int</span></span><br><span class=\"line\">    <span class=\"title\">field</span> <span class=\"title\">color</span>: <span class=\"title\">string</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// å¸¸è§„æ„é€ å‡½æ•°ã€‚</span></span><br><span class=\"line\">    <span class=\"title\">constructor</span> <span class=\"title\">Shape</span>() <span class=\"title\">is</span></span><br><span class=\"line\">        <span class=\"comment\">// ...</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// åŸå‹æ„é€ å‡½æ•°ã€‚ä½¿ç”¨å·²æœ‰å¯¹è±¡çš„æ•°å€¼æ¥åˆå§‹åŒ–ä¸€ä¸ªæ–°å¯¹è±¡ã€‚</span></span><br><span class=\"line\">    <span class=\"title\">constructor</span> <span class=\"title\">Shape</span>(<span class=\"title\">source</span>: <span class=\"title\">Shape</span>) <span class=\"title\">is</span></span><br><span class=\"line\">        <span class=\"title\">this</span>()</span><br><span class=\"line\">        <span class=\"title\">this.X</span> = source.X</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.Y = source.Y</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.color = source.color</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// cloneï¼ˆå…‹éš†ï¼‰æ“ä½œä¼šè¿”å›ä¸€ä¸ªå½¢çŠ¶å­ç±»ã€‚</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">abstract</span> method <span class=\"title\">clone</span>():Shape</span></span><br><span class=\"line\"><span class=\"function\"></span></span><br><span class=\"line\"><span class=\"function\"></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"comment\">// å…·ä½“åŸå‹ã€‚å…‹éš†æ–¹æ³•ä¼šåˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡å¹¶å°†å…¶ä¼ é€’ç»™æ„é€ å‡½æ•°ã€‚ç›´åˆ°æ„é€ å‡½æ•°è¿</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"comment\">// è¡Œå®Œæˆå‰ï¼Œå®ƒéƒ½æ‹¥æœ‰æŒ‡å‘æ–°å…‹éš†å¯¹è±¡çš„å¼•ç”¨ã€‚å› æ­¤ï¼Œä»»ä½•äººéƒ½æ— æ³•è®¿é—®æœªå®Œå…¨ç”Ÿ</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"comment\">// æˆçš„å…‹éš†å¯¹è±¡ã€‚è¿™å¯ä»¥ä¿æŒå…‹éš†ç»“æœçš„ä¸€è‡´ã€‚</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">class</span> Rectangle extends Shape <span class=\"keyword\">is</span></span></span><br><span class=\"line\"><span class=\"function\">    field width: <span class=\"built_in\">int</span></span></span><br><span class=\"line\"><span class=\"function\">    field height: <span class=\"built_in\">int</span></span></span><br><span class=\"line\"><span class=\"function\"></span></span><br><span class=\"line\"><span class=\"function\">    constructor <span class=\"title\">Rectangle</span>(<span class=\"params\">source: Rectangle</span>) <span class=\"keyword\">is</span></span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"comment\">// éœ€è¦è°ƒç”¨çˆ¶æ„é€ å‡½æ•°æ¥å¤åˆ¶çˆ¶ç±»ä¸­å®šä¹‰çš„ç§æœ‰æˆå‘˜å˜é‡ã€‚</span></span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"title\">super</span>(<span class=\"params\">source</span>)</span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"keyword\">this</span>.width</span> = source.width</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.height = source.<span class=\"function\">height</span></span><br><span class=\"line\"><span class=\"function\"></span></span><br><span class=\"line\"><span class=\"function\">    method <span class=\"title\">clone</span>():Shape <span class=\"keyword\">is</span></span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title\">Rectangle</span>(<span class=\"params\"><span class=\"keyword\">this</span></span>)</span></span><br><span class=\"line\"><span class=\"function\"></span></span><br><span class=\"line\"><span class=\"function\"></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">class</span> Circle extends Shape <span class=\"keyword\">is</span></span></span><br><span class=\"line\"><span class=\"function\">    field radius: <span class=\"built_in\">int</span></span></span><br><span class=\"line\"><span class=\"function\"></span></span><br><span class=\"line\"><span class=\"function\">    constructor <span class=\"title\">Circle</span>(<span class=\"params\">source: Circle</span>) <span class=\"keyword\">is</span></span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"title\">super</span>(<span class=\"params\">source</span>)</span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"keyword\">this</span>.radius</span> = source.<span class=\"function\">radius</span></span><br><span class=\"line\"><span class=\"function\"></span></span><br><span class=\"line\"><span class=\"function\">    method <span class=\"title\">clone</span>():Shape <span class=\"keyword\">is</span></span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title\">Circle</span>(<span class=\"params\"><span class=\"keyword\">this</span></span>)</span></span><br><span class=\"line\"><span class=\"function\"></span></span><br><span class=\"line\"><span class=\"function\"></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"comment\">// å®¢æˆ·ç«¯ä»£ç ä¸­çš„æŸä¸ªä½ç½®ã€‚</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">class</span> Application <span class=\"keyword\">is</span></span></span><br><span class=\"line\"><span class=\"function\">    field shapes: array of Shape</span></span><br><span class=\"line\"><span class=\"function\"></span></span><br><span class=\"line\"><span class=\"function\">    constructor <span class=\"title\">Application</span>() <span class=\"keyword\">is</span></span></span><br><span class=\"line\"><span class=\"function\">        Circle circle</span> = <span class=\"keyword\">new</span> Circle()</span><br><span class=\"line\">        circle.X = <span class=\"number\">10</span></span><br><span class=\"line\">        circle.Y = <span class=\"number\">10</span></span><br><span class=\"line\">        circle.radius = <span class=\"number\">20</span></span><br><span class=\"line\">        shapes.<span class=\"keyword\">add</span>(circle)</span><br><span class=\"line\"></span><br><span class=\"line\">        Circle anotherCircle = circle.clone()</span><br><span class=\"line\">        shapes.<span class=\"keyword\">add</span>(anotherCircle)</span><br><span class=\"line\">        <span class=\"comment\">// å˜é‡ `anotherCircleï¼ˆå¦ä¸€ä¸ªåœ†ï¼‰`ä¸ `circleï¼ˆåœ†ï¼‰`å¯¹è±¡çš„å†…</span></span><br><span class=\"line\">        <span class=\"comment\">// å®¹å®Œå…¨ä¸€æ ·ã€‚</span></span><br><span class=\"line\"></span><br><span class=\"line\">        Rectangle rectangle = <span class=\"keyword\">new</span> Rectangle()</span><br><span class=\"line\">        rectangle.width = <span class=\"number\">10</span></span><br><span class=\"line\">        rectangle.height = <span class=\"number\">20</span></span><br><span class=\"line\">        shapes.<span class=\"keyword\">add</span>(rectangle)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\">method <span class=\"title\">businessLogic</span>() <span class=\"keyword\">is</span></span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"comment\">// åŸå‹æ˜¯å¾ˆå¼ºå¤§çš„ä¸œè¥¿ï¼Œå› ä¸ºå®ƒèƒ½åœ¨ä¸çŸ¥æ™“å¯¹è±¡ç±»å‹çš„æƒ…å†µä¸‹ç”Ÿæˆä¸€ä¸ªä¸</span></span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"comment\">// å…¶å®Œå…¨ç›¸åŒçš„å¤åˆ¶å“ã€‚</span></span></span><br><span class=\"line\"><span class=\"function\">        Array shapesCopy</span> = <span class=\"keyword\">new</span> Array of Shapes.</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// ä¾‹å¦‚ï¼Œæˆ‘ä»¬ä¸çŸ¥æ™“å½¢çŠ¶æ•°ç»„ä¸­å…ƒç´ çš„å…·ä½“ç±»å‹ï¼ŒåªçŸ¥é“å®ƒä»¬éƒ½æ˜¯å½¢çŠ¶ã€‚</span></span><br><span class=\"line\">        <span class=\"comment\">// ä½†åœ¨å¤šæ€æœºåˆ¶çš„å¸®åŠ©ä¸‹ï¼Œå½“æˆ‘ä»¬åœ¨æŸä¸ªå½¢çŠ¶ä¸Šè°ƒç”¨ `cloneï¼ˆå…‹éš†ï¼‰`</span></span><br><span class=\"line\">        <span class=\"comment\">// æ–¹æ³•æ—¶ï¼Œç¨‹åºä¼šæ£€æŸ¥å…¶æ‰€å±çš„ç±»å¹¶è°ƒç”¨å…¶ä¸­æ‰€å®šä¹‰çš„å…‹éš†æ–¹æ³•ã€‚è¿™æ ·ï¼Œ</span></span><br><span class=\"line\">        <span class=\"comment\">// æˆ‘ä»¬å°†è·å¾—ä¸€ä¸ªæ­£ç¡®çš„å¤åˆ¶å“ï¼Œè€Œä¸æ˜¯ä¸€ç»„ç®€å•çš„å½¢çŠ¶å¯¹è±¡ã€‚</span></span><br><span class=\"line\">        <span class=\"keyword\">foreach</span> (s <span class=\"keyword\">in</span> shapes) <span class=\"keyword\">do</span></span><br><span class=\"line\">            shapesCopy.<span class=\"keyword\">add</span>(s.clone())</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// `shapesCopyï¼ˆå½¢çŠ¶å‰¯æœ¬ï¼‰`æ•°ç»„ä¸­åŒ…å« `shapeï¼ˆå½¢çŠ¶ï¼‰`æ•°ç»„æ‰€æœ‰</span></span><br><span class=\"line\">        <span class=\"comment\">// å­å…ƒç´ çš„å¤åˆ¶å“ã€‚</span></span><br></pre></td></tr></table></figure>\n\n<p><strong>c#æä¾›çš„ICloneableæ¥å£çš„ä»£ç </strong> : é€šè¿‡è¿™é‡Œæˆ‘ä»¬å¯ä»¥çœ‹è§ä¸éœ€è¦å†™æ„é€ å‡½æ•°ï¼Œåªéœ€è¦ç”¨åˆ°<strong>MemberwiseClone</strong>è¿™ä¸ªå‡½æ•°å°±å¯ä»¥å¾ˆå¿«åœ°å®Œæˆ</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">using</span> System;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">RefactoringGuru.DesignPatterns.Prototype.Conceptual</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">Person</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">public</span> <span class=\"built_in\">int</span> Age;</span><br><span class=\"line\">        <span class=\"keyword\">public</span> DateTime BirthDate;</span><br><span class=\"line\">        <span class=\"keyword\">public</span> <span class=\"built_in\">string</span> Name;</span><br><span class=\"line\">        <span class=\"keyword\">public</span> IdInfo IdInfo;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">//æµ…å¤åˆ¶ï¼Œåªå¤åˆ¶æŒ‡å‘æŸä¸ªå¯¹è±¡çš„æŒ‡é’ˆï¼Œè€Œä¸å¤åˆ¶å¯¹è±¡æœ¬èº«ï¼Œæ–°æ—§å¯¹è±¡è¿˜æ˜¯å…±äº«ä¸€å—å†…å­˜</span></span><br><span class=\"line\">        <span class=\"comment\">//ä¹Ÿå°±æ˜¯è¯´ä¸ç®¡æ˜¯ä¿®æ”¹åŸå¯¹è±¡è¿˜æ˜¯æ–°å¯¹è±¡ä¸¤ä¸ªéƒ½ä¼šä¸€èµ·æ”¹å˜</span></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> Person <span class=\"title\">ShallowCopy</span>()</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> (Person)<span class=\"keyword\">this</span>.MemberwiseClone();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">//æ·±å¤åˆ¶ï¼Œä¼šåˆ›é€ ä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œä½†ä¸ä¸äºåŸå¯¹è±¡å…±äº«å†…å­˜</span></span><br><span class=\"line\">        <span class=\"comment\">//ä¿®æ”¹æ–°æ—§å¯¹è±¡äº’ä¸å½±å“</span></span><br><span class=\"line\">        <span class=\"comment\">//æ‰€ä»¥æˆ‘ä»¬å¯ä»¥è®¤è¯†åˆ°åŸå‹æ¨¡å¼æ˜¯æ·±å¤åˆ¶</span></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> Person <span class=\"title\">DeepCopy</span>()</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            Person clone = (Person)<span class=\"keyword\">this</span>.MemberwiseClone();</span><br><span class=\"line\">            clone.IdInfo = <span class=\"keyword\">new</span> IdInfo(IdInfo.IdNumber);</span><br><span class=\"line\">            clone.Name = String.Copy(Name);</span><br><span class=\"line\">            <span class=\"keyword\">return</span> clone;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">IdInfo</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">public</span> <span class=\"built_in\">int</span> IdNumber;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">IdInfo</span>(<span class=\"params\"><span class=\"built_in\">int</span> idNumber</span>)</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">this</span>.IdNumber = idNumber;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//æµ‹è¯•ä¾‹å­ï¼Œé€šè¿‡ä¾‹å­æˆ‘ä»¬å¯ä»¥å¿«é€Ÿçš„ç†è§£æ·±å¤åˆ¶ä¸æµ…å¤åˆ¶ä¹‹é—´çš„åŒºåˆ«</span></span><br><span class=\"line\">    <span class=\"keyword\">class</span> <span class=\"title\">Program</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">Main</span>(<span class=\"params\"><span class=\"built_in\">string</span>[] args</span>)</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            Person p1 = <span class=\"keyword\">new</span> Person();</span><br><span class=\"line\">            p1.Age = <span class=\"number\">42</span>;</span><br><span class=\"line\">            p1.BirthDate = Convert.ToDateTime(<span class=\"string\">&quot;1977-01-01&quot;</span>);</span><br><span class=\"line\">            p1.Name = <span class=\"string\">&quot;Jack Daniels&quot;</span>;</span><br><span class=\"line\">            p1.IdInfo = <span class=\"keyword\">new</span> IdInfo(<span class=\"number\">666</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\">// Perform a shallow copy of p1 and assign it to p2.</span></span><br><span class=\"line\">            Person p2 = p1.ShallowCopy();</span><br><span class=\"line\">            <span class=\"comment\">// Make a deep copy of p1 and assign it to p3.</span></span><br><span class=\"line\">            Person p3 = p1.DeepCopy();</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\">// Display values of p1, p2 and p3.</span></span><br><span class=\"line\">            Console.WriteLine(<span class=\"string\">&quot;Original values of p1, p2, p3:&quot;</span>);</span><br><span class=\"line\">            Console.WriteLine(<span class=\"string\">&quot;   p1 instance values: &quot;</span>);</span><br><span class=\"line\">            DisplayValues(p1);</span><br><span class=\"line\">            Console.WriteLine(<span class=\"string\">&quot;   p2 instance values:&quot;</span>);</span><br><span class=\"line\">            DisplayValues(p2);</span><br><span class=\"line\">            Console.WriteLine(<span class=\"string\">&quot;   p3 instance values:&quot;</span>);</span><br><span class=\"line\">            DisplayValues(p3);</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\">// Change the value of p1 properties and display the values of p1,</span></span><br><span class=\"line\">            <span class=\"comment\">// p2 and p3.</span></span><br><span class=\"line\">            p1.Age = <span class=\"number\">32</span>;</span><br><span class=\"line\">            p1.BirthDate = Convert.ToDateTime(<span class=\"string\">&quot;1900-01-01&quot;</span>);</span><br><span class=\"line\">            p1.Name = <span class=\"string\">&quot;Frank&quot;</span>;</span><br><span class=\"line\">            p1.IdInfo.IdNumber = <span class=\"number\">7878</span>;</span><br><span class=\"line\">            Console.WriteLine(<span class=\"string\">&quot;\\nValues of p1, p2 and p3 after changes to p1:&quot;</span>);</span><br><span class=\"line\">            Console.WriteLine(<span class=\"string\">&quot;   p1 instance values: &quot;</span>);</span><br><span class=\"line\">            DisplayValues(p1);</span><br><span class=\"line\">            Console.WriteLine(<span class=\"string\">&quot;   p2 instance values (reference values have changed):&quot;</span>);</span><br><span class=\"line\">            DisplayValues(p2);</span><br><span class=\"line\">            Console.WriteLine(<span class=\"string\">&quot;   p3 instance values (everything was kept the same):&quot;</span>);</span><br><span class=\"line\">            DisplayValues(p3);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">DisplayValues</span>(<span class=\"params\">Person p</span>)</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            Console.WriteLine(<span class=\"string\">&quot;      Name: &#123;0:s&#125;, Age: &#123;1:d&#125;, BirthDate: &#123;2:MM/dd/yy&#125;&quot;</span>,</span><br><span class=\"line\">                p.Name, p.Age, p.BirthDate);</span><br><span class=\"line\">            Console.WriteLine(<span class=\"string\">&quot;      ID#: &#123;0:d&#125;&quot;</span>, p.IdInfo.IdNumber);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// The example displays the following output:</span></span><br><span class=\"line\"><span class=\"comment\">//       Original values of p1 and p2:</span></span><br><span class=\"line\"><span class=\"comment\">//          p1 instance values:</span></span><br><span class=\"line\"><span class=\"comment\">//             Name: Sam, Age: 42</span></span><br><span class=\"line\"><span class=\"comment\">//             Value: 6565</span></span><br><span class=\"line\"><span class=\"comment\">//          p2 instance values:</span></span><br><span class=\"line\"><span class=\"comment\">//             Name: Sam, Age: 42</span></span><br><span class=\"line\"><span class=\"comment\">//             Value: 6565</span></span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\"><span class=\"comment\">//       Values of p1 and p2 after changes to p1:</span></span><br><span class=\"line\"><span class=\"comment\">//          p1 instance values:</span></span><br><span class=\"line\"><span class=\"comment\">//             Name: Frank, Age: 32</span></span><br><span class=\"line\"><span class=\"comment\">//             Value: 7878</span></span><br><span class=\"line\"><span class=\"comment\">//          p2 instance values:</span></span><br><span class=\"line\"><span class=\"comment\">//             Name: Sam, Age: 42</span></span><br><span class=\"line\"><span class=\"comment\">//             Value: 7878</span></span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\"><span class=\"comment\">//       Values of p1 and p3 after changes to p1:</span></span><br><span class=\"line\"><span class=\"comment\">//          p1 instance values:</span></span><br><span class=\"line\"><span class=\"comment\">//             Name: George, Age: 39</span></span><br><span class=\"line\"><span class=\"comment\">//             Value: 8641</span></span><br><span class=\"line\"><span class=\"comment\">//          p3 instance values:</span></span><br><span class=\"line\"><span class=\"comment\">//             Name: Frank, Age: 32</span></span><br><span class=\"line\"><span class=\"comment\">//             Value: 7878</span></span><br></pre></td></tr></table></figure>\n\n<h5 id=\"é€‚åˆåŸå‹æ¨¡å¼çš„åœ°æ–¹\"><a href=\"#é€‚åˆåŸå‹æ¨¡å¼çš„åœ°æ–¹\" class=\"headerlink\" title=\"é€‚åˆåŸå‹æ¨¡å¼çš„åœ°æ–¹\"></a>é€‚åˆåŸå‹æ¨¡å¼çš„åœ°æ–¹</h5><ul>\n<li><p>å¦‚æœä½ éœ€è¦å¤åˆ¶ä¸€äº›å¯¹è±¡ï¼ŒåŒæ—¶åˆå¸Œæœ›ä»£ç ç‹¬ç«‹äºè¿™äº›å¯¹è±¡æ‰€å±çš„å…·ä½“ç±»ï¼Œå¯ä»¥ä½¿ç”¨åŸå‹æ¨¡å¼ã€‚</p>\n</li>\n<li><p>å¦‚æœå­ç±»çš„åŒºåˆ«ä»…åœ¨äºå…¶å¯¹è±¡çš„åˆå§‹åŒ–æ–¹å¼ï¼Œé‚£ä¹ˆä½ å¯ä»¥ä½¿ç”¨è¯¥æ¨¡å¼æ¥å‡å°‘å­ç±»çš„æ•°é‡ã€‚åˆ«äººåˆ›å»ºè¿™äº›å­ç±»çš„ç›®çš„å¯èƒ½æ˜¯ä¸ºäº†åˆ›å»ºç‰¹å®šç±»å‹çš„å¯¹è±¡ã€‚</p>\n</li>\n</ul>\n<h5 id=\"åŸå‹æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"><a href=\"#åŸå‹æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\" class=\"headerlink\" title=\"åŸå‹æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"></a>åŸå‹æ¨¡å¼çš„ä¼˜ç¼ºç‚¹</h5><p><strong>ä¼˜ç‚¹</strong> ï¼š</p>\n<ul>\n<li>ä½ å¯ä»¥å…‹éš†å¯¹è±¡ï¼Œè€Œæ— éœ€ä¸å®ƒä»¬æ‰€å±çš„å…·ä½“ç±»ç›¸è€¦åˆã€‚</li>\n<li>ä½ å¯ä»¥å…‹éš†é¢„ç”ŸæˆåŸå‹ï¼Œé¿å…åå¤è¿è¡Œåˆå§‹åŒ–ä»£ç ã€‚</li>\n<li>ä½ å¯ä»¥æ›´æ–¹ä¾¿åœ°ç”Ÿæˆå¤æ‚å¯¹è±¡ã€‚</li>\n<li>ä½ å¯ä»¥ç”¨ç»§æ‰¿ä»¥å¤–çš„æ–¹å¼æ¥å¤„ç†å¤æ‚å¯¹è±¡çš„ä¸åŒé…ç½®ã€‚</li>\n</ul>\n<p><strong>ç¼ºç‚¹</strong> ï¼š</p>\n<ul>\n<li>å…‹éš†åŒ…å«å¾ªç¯å¼•ç”¨çš„å¤æ‚å¯¹è±¡å¯èƒ½ä¼šéå¸¸éº»çƒ¦ã€‚</li>\n</ul>\n<h4 id=\"Singleton-å•ä¾‹æ¨¡å¼\"><a href=\"#Singleton-å•ä¾‹æ¨¡å¼\" class=\"headerlink\" title=\"Singleton(å•ä¾‹æ¨¡å¼)\"></a>Singleton(å•ä¾‹æ¨¡å¼)</h4><p>å•ä¾‹æ¨¡å¼æ˜¯ä¸€ç§åˆ›å»ºå‹è®¾è®¡æ¨¡å¼ï¼Œè®©ä½ èƒ½å¤Ÿä¿è¯ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Œå¹¶æä¾›ä¸€ä¸ªè®¿é—®è¯¥å®ä¾‹çš„å…¨å±€èŠ‚ç‚¹ã€‚</p>\n<h5 id=\"é—®é¢˜-4\"><a href=\"#é—®é¢˜-4\" class=\"headerlink\" title=\"é—®é¢˜\"></a>é—®é¢˜</h5><p>å•ä¾‹æ¨¡å¼æ˜¯ä¸€ä¸ªååˆ†å¸¸ç”¨çš„è®¾è®¡æ¨¡å¼ï¼Œåœ¨Unityä¸­ï¼Œå®ƒå¸¸å¸¸è¢«ç”¨åœ¨æ˜¯<strong>Manager</strong>ç±»ä¸­ï¼Œæ¯”å¦‚<strong>SceneManager</strong>,<strong>UIManager</strong>,<strong>AudioManager</strong>ç­‰ç­‰ã€‚ä¹Ÿå°±æ˜¯è¯´åœ¨ä»£ç ä¸­ä¼šæœ‰ä¸€ç§å…¨å±€ç±»ï¼Œå„ä¸ªæ¨¡å—éƒ½å¯ä»¥è°ƒç”¨å®ƒã€‚è™½ç„¶å®ƒè¿åäº†å•ä¸€èŒè´£åŸåˆ™ï¼Œä½†ç”±äºä½¿ç”¨èµ·æ¥ååˆ†æ–¹ä¾¿ï¼Œä½†è¿˜æ˜¯å¾ˆé¦™çš„ï¼ˆè·Ÿå…¨å±€å˜é‡ä¸€æ ·ï¼‰ã€‚</p>\n<p>æ€»ç»“ä¸‹æ¥ï¼Œå•ä¾‹æ¨¡å¼çš„ç‰¹ç‚¹ï¼š</p>\n<ul>\n<li>ä¿è¯ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹</li>\n<li>ä¸ºè¯¥å®ä¾‹æä¾›ä¸€ä¸ªå…¨å±€è®¿é—®èŠ‚ç‚¹</li>\n</ul>\n<h5 id=\"è§£å†³æ–¹æ¡ˆ-4\"><a href=\"#è§£å†³æ–¹æ¡ˆ-4\" class=\"headerlink\" title=\"è§£å†³æ–¹æ¡ˆ\"></a>è§£å†³æ–¹æ¡ˆ</h5><p>æ‰€æœ‰å•ä¾‹çš„å®ç°éƒ½åŒ…å«ä»¥ä¸‹ä¸¤ä¸ªç›¸åŒçš„æ­¥éª¤ï¼š</p>\n<ul>\n<li>å°†é»˜è®¤æ„é€ å‡½æ•°è®¾ä¸º<strong>ç§æœ‰</strong>ï¼Œé˜²æ­¢å…¶ä»–å¯¹è±¡ä½¿ç”¨å•ä¾‹ç±»çš„newè¿ç®—ç¬¦ã€‚</li>\n<li>æ–°å»ºä¸€ä¸ªé™æ€æ„å»ºæ–¹æ³•ä½œä¸ºæ„é€ å‡½æ•°ã€‚è¯¥å‡½æ•°ä¼š â€œå·å·â€ è°ƒç”¨ç§æœ‰æ„é€ å‡½æ•°æ¥åˆ›å»ºå¯¹è±¡ï¼Œå¹¶å°†å…¶ä¿å­˜åœ¨ä¸€ä¸ªé™æ€æˆå‘˜å˜é‡ä¸­ã€‚æ­¤åæ‰€æœ‰å¯¹äºè¯¥å‡½æ•°çš„è°ƒç”¨éƒ½å°†è¿”å›è¿™ä¸€ç¼“å­˜å¯¹è±¡ã€‚<br>å¦‚æœä½ çš„ä»£ç èƒ½å¤Ÿè®¿é—®å•ä¾‹ç±»ï¼Œé‚£å®ƒå°±èƒ½è°ƒç”¨å•ä¾‹ç±»çš„é™æ€æ–¹æ³•ã€‚æ— è®ºä½•æ—¶è°ƒç”¨è¯¥æ–¹æ³•ï¼Œå®ƒæ€»æ˜¯ä¼šè¿”å›ç›¸åŒçš„å¯¹è±¡ã€‚</li>\n</ul>\n<h5 id=\"å•ä¾‹æ¨¡å¼ç»“æ„\"><a href=\"#å•ä¾‹æ¨¡å¼ç»“æ„\" class=\"headerlink\" title=\"å•ä¾‹æ¨¡å¼ç»“æ„\"></a>å•ä¾‹æ¨¡å¼ç»“æ„</h5><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220810001041.png\" alt=\"img\"></p>\n<p>1.<strong>å•ä¾‹(SinÂ­gleÂ­ton)</strong> ç±»å£°æ˜äº†ä¸€ä¸ªåä¸º getÂ­Instanceè·å–å®ä¾‹çš„é™æ€æ–¹æ³•æ¥è¿”å›å…¶æ‰€å±ç±»çš„ä¸€ä¸ªç›¸åŒå®ä¾‹ã€‚</p>\n<p>å•ä¾‹çš„æ„é€ å‡½æ•°å¿…é¡»å¯¹<strong>å®¢æˆ·ç«¯(Client)</strong> ä»£ç éšè—ã€‚è°ƒç”¨è·å–å®ä¾‹æ–¹æ³•å¿…é¡»æ˜¯è·å–å•ä¾‹å¯¹è±¡çš„å”¯ä¸€æ–¹å¼ã€‚</p>\n<h5 id=\"ä¼ªä»£ç -4\"><a href=\"#ä¼ªä»£ç -4\" class=\"headerlink\" title=\"ä¼ªä»£ç \"></a>ä¼ªä»£ç </h5><p>ç”±äºå•ä¾‹æ¨¡å¼å®ç°è¿‡äºç®€å•ï¼Œæˆ‘ä»¬è¿™é‡Œä¸è®²ä¼ªä»£ç ï¼Œåè€Œæˆ‘ä»¬æ¥ç›´æ¥çœ‹çœ‹å„ç§çš„å•ä¾‹æ¨¡å¼ã€‚</p>\n<p><strong>æ‡’æ±‰å•ä¾‹æ¨¡å¼</strong> ï¼šåœ¨ç¬¬ä¸€æ¬¡è°ƒç”¨çš„æ—¶å€™å®ä¾‹åŒ–æœ¬èº«ï¼Œåœ¨å¹¶å‘ç¯å¢ƒä¸‹ï¼Œå¯èƒ½å‡ºç°å¤šä¸ªæœ¬èº«å¯¹è±¡ã€‚æ‰€ä»¥çº¿ç¨‹æ˜¯ä¸å®‰å…¨çš„</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">Singleton</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">//å°†æ„é€ å‡½æ•°è®¾ç½®ä¸ºç§æœ‰ï¼Œé˜²æ­¢ç”¨æˆ·åˆ›é€ å®ä¾‹</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"title\">Singleton</span>()</span> &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> Singleton instance = <span class=\"literal\">null</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> Singleton <span class=\"title\">GetInstance</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(instance == <span class=\"literal\">null</span>)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            instance = <span class=\"keyword\">new</span> Singleton();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">return</span> instance;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>ç®€å•çš„çº¿ç¨‹å®‰å…¨çš„æ‡’æ±‰å•ä¾‹æ¨¡å¼</strong> :<br>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™é‡Œä½¿ç”¨äº†ä¸€ä¸ª<strong>private static object</strong>å˜é‡è¿›è¡Œé”å®šï¼Œè¿™æ˜¯å› ä¸ºå½“å¦‚æœå¯¹ä¸€ä¸ªå¤–éƒ¨ç±»å¯ä»¥è®¿é—®çš„å¯¹è±¡è¿›è¡Œé”å®šæ—¶ä¼šå¯¼è‡´æ€§èƒ½ä½ä¸‹ç”šè‡³æ­»é”</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">Singleton</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">//å°†æ„é€ å‡½æ•°è®¾ç½®ä¸ºç§æœ‰ï¼Œé˜²æ­¢ç”¨æˆ·åˆ›é€ å®ä¾‹</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> Singleton&#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> Singleton instance = <span class=\"literal\">null</span>;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">readonly</span> <span class=\"built_in\">object</span> obj = <span class=\"keyword\">new</span> <span class=\"built_in\">object</span> ();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> Singleton <span class=\"title\">GetInstance</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">lock</span>(obj)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(instance == <span class=\"literal\">null</span>)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                instance = <span class=\"keyword\">new</span> Singleton();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            </span><br><span class=\"line\">            <span class=\"keyword\">return</span> instance;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>åŒé‡æ£€æŸ¥é”å®šçš„æ‡’æ±‰å•ä¾‹æ¨¡å¼</strong> :è¦æ¯”å‰è€…æ–¹æ³•æ›´åŠ å®Œç¾</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">Singleton</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">//å°†æ„é€ å‡½æ•°è®¾ç½®ä¸ºç§æœ‰ï¼Œé˜²æ­¢ç”¨æˆ·åˆ›é€ å®ä¾‹</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> Singleton&#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> Singleton instance = <span class=\"literal\">null</span>;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">readonly</span> <span class=\"built_in\">object</span> obj = <span class=\"keyword\">new</span> <span class=\"built_in\">object</span> ();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> Singleton <span class=\"title\">GetInstance</span>()</span></span><br><span class=\"line\">    &#123;   </span><br><span class=\"line\">        <span class=\"keyword\">if</span>(instace == <span class=\"literal\">null</span>)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">lock</span>(obj)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(instance == <span class=\"literal\">null</span>)</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    instance = <span class=\"keyword\">new</span> Singleton();</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;    </span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> instance;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>é¥¿æ±‰å•ä¾‹æ¨¡å¼</strong> :åœ¨ç±»åˆå§‹åŒ–æ—¶ï¼Œå·²ç»è‡ªè¡Œå®ä¾‹åŒ–ä¸€ä¸ªé™æ€å¯¹è±¡ï¼Œæ‰€ä»¥æœ¬èº«å°±æ˜¯çº¿ç¨‹å®‰å…¨çš„</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">Singleton</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"title\">Singleton</span>()</span> &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">readonly</span> Singleton instance = <span class=\"keyword\">new</span> Singleton();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> Singleton <span class=\"title\">GetInstance</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> instance;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>é¥¿æ±‰å•ä¾‹æ¨¡å¼å®ç°ååˆ†ç®€å•ï¼ŒåŒæ—¶ä¹Ÿæ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œè¦ç›¸æ¯”æ‡’æ±‰å•ä¾‹æ¨¡å¼æ›´åŠ å¥½ç”¨ä¸€äº›ã€‚</p>\n<h5 id=\"é€‚åˆå•ä¾‹æ¨¡å¼çš„åœ°æ–¹\"><a href=\"#é€‚åˆå•ä¾‹æ¨¡å¼çš„åœ°æ–¹\" class=\"headerlink\" title=\"é€‚åˆå•ä¾‹æ¨¡å¼çš„åœ°æ–¹\"></a>é€‚åˆå•ä¾‹æ¨¡å¼çš„åœ°æ–¹</h5><ul>\n<li>å¦‚æœç¨‹åºä¸­çš„æŸä¸ªç±»å¯¹äºæ‰€æœ‰å®¢æˆ·ç«¯åªæœ‰ä¸€ä¸ªå¯ç”¨çš„å®ä¾‹ï¼Œå¯ä»¥ä½¿ç”¨å•ä¾‹æ¨¡å¼ã€‚</li>\n<li>å¦‚æœä½ éœ€è¦æ›´åŠ ä¸¥æ ¼åœ°æ§åˆ¶å…¨å±€å˜é‡ï¼Œå¯ä»¥ä½¿ç”¨å•ä¾‹æ¨¡å¼ã€‚</li>\n</ul>\n<h5 id=\"å•ä¾‹æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"><a href=\"#å•ä¾‹æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\" class=\"headerlink\" title=\"å•ä¾‹æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"></a>å•ä¾‹æ¨¡å¼çš„ä¼˜ç¼ºç‚¹</h5><p><strong>ä¼˜ç‚¹</strong> ï¼š</p>\n<ul>\n<li>ä½ å¯ä»¥ä¿è¯ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹ã€‚</li>\n<li>ä½ è·å¾—äº†ä¸€ä¸ªæŒ‡å‘è¯¥å®ä¾‹çš„å…¨å±€è®¿é—®èŠ‚ç‚¹ã€‚</li>\n<li>ä»…åœ¨é¦–æ¬¡è¯·æ±‚å•ä¾‹å¯¹è±¡æ—¶å¯¹å…¶è¿›è¡Œåˆå§‹åŒ–ã€‚</li>\n</ul>\n<p><strong>ç¼ºç‚¹</strong> ï¼š</p>\n<ul>\n<li>è¿åäº†å•ä¸€èŒè´£åŸåˆ™ã€‚è¯¥æ¨¡å¼åŒæ—¶è§£å†³äº†ä¸¤ä¸ªé—®é¢˜ã€‚</li>\n<li>å•ä¾‹æ¨¡å¼å¯èƒ½æ©ç›–ä¸è‰¯è®¾è®¡ï¼Œæ¯”å¦‚ç¨‹åºå„ç»„ä»¶ä¹‹é—´ç›¸äº’äº†è§£è¿‡å¤šç­‰ã€‚</li>\n<li>è¯¥æ¨¡å¼åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹éœ€è¦è¿›è¡Œç‰¹æ®Šå¤„ç†ï¼Œé¿å…å¤šä¸ªçº¿ç¨‹å¤šæ¬¡åˆ›å»ºå•ä¾‹å¯¹è±¡ã€‚</li>\n<li>å•ä¾‹çš„å®¢æˆ·ç«¯ä»£ç å•å…ƒæµ‹è¯•å¯èƒ½ä¼šæ¯”è¾ƒå›°éš¾ï¼Œå› ä¸ºè®¸å¤šæµ‹è¯•æ¡†æ¶ä»¥åŸºäºç»§æ‰¿çš„æ–¹å¼åˆ›å»ºæ¨¡æ‹Ÿå¯¹è±¡ã€‚ç”±äºå•ä¾‹ç±»çš„æ„é€ å‡½æ•°æ˜¯ç§æœ‰çš„ï¼Œè€Œä¸”ç»å¤§éƒ¨åˆ†è¯­è¨€æ— æ³•é‡å†™é™æ€æ–¹æ³•ï¼Œæ‰€ä»¥ä½ éœ€è¦æƒ³å‡ºä»”ç»†è€ƒè™‘æ¨¡æ‹Ÿå•ä¾‹çš„æ–¹æ³•ã€‚è¦ä¹ˆå¹²è„†ä¸ç¼–å†™æµ‹è¯•ä»£ç ï¼Œæˆ–è€…ä¸ä½¿ç”¨å•ä¾‹æ¨¡å¼ã€‚</li>\n<li>ç±»ä¼¼å…¨å±€å˜é‡ï¼Œåœ¨é˜…è¯»ä»£ç æ—¶ä¼šäº§ç”Ÿä¸€å®šå›°éš¾ï¼Œä¸çŸ¥é“å“ªé‡Œè€Œæ¥ã€‚</li>\n</ul>\n<h3 id=\"ç»“æ„å‹æ¨¡å¼-Structural-Patterns\"><a href=\"#ç»“æ„å‹æ¨¡å¼-Structural-Patterns\" class=\"headerlink\" title=\"ç»“æ„å‹æ¨¡å¼(Structural Patterns)\"></a>ç»“æ„å‹æ¨¡å¼(Structural Patterns)</h3><h4 id=\"Adapter-é€‚é…å™¨æ¨¡å¼\"><a href=\"#Adapter-é€‚é…å™¨æ¨¡å¼\" class=\"headerlink\" title=\"Adapter(é€‚é…å™¨æ¨¡å¼)\"></a>Adapter(é€‚é…å™¨æ¨¡å¼)</h4><p>é€‚é…å™¨æ¨¡å¼æ˜¯ä¸€ç§ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼Œå®ƒèƒ½ä½¿æ¥å£ä¸å…¼å®¹çš„å¯¹è±¡èƒ½å¤Ÿç›¸äº’åˆä½œã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220816154433.png\" alt=\"img\"></p>\n<p>ä¸Šå›¾æ˜¯ä¸€ä¸ªååˆ†ç›´è§‚çš„å›¾</p>\n<h5 id=\"é—®é¢˜-5\"><a href=\"#é—®é¢˜-5\" class=\"headerlink\" title=\"é—®é¢˜\"></a>é—®é¢˜</h5><p>å‡å¦‚ä½ æ­£åœ¨å¼€å‘ä¸€æ¬¾è‚¡ç¥¨å¸‚åœºç›‘æµ‹ç¨‹åºï¼Œå®ƒä¼šä»ä¸åŒæ¥æºä¸‹è½½ XML æ ¼å¼çš„è‚¡ç¥¨æ•°æ®ï¼Œç„¶åå‘ç”¨æˆ·å‘ˆç°å‡ºç¾è§‚çš„å›¾è¡¨ã€‚åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œä½ å†³å®šåœ¨ç¨‹åºä¸­æ•´åˆä¸€ä¸ªç¬¬ä¸‰æ–¹æ™ºèƒ½åˆ†æå‡½æ•°åº“ã€‚ä½†æ˜¯é‡åˆ°äº†ä¸€ä¸ªé—®é¢˜ï¼Œé‚£å°±æ˜¯åˆ†æå‡½æ•°åº“åªå…¼å®¹ JSON æ ¼å¼çš„æ•°æ®ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220816154342.png\" alt=\"img\"></p>\n<h5 id=\"è§£å†³æ–¹æ¡ˆ-5\"><a href=\"#è§£å†³æ–¹æ¡ˆ-5\" class=\"headerlink\" title=\"è§£å†³æ–¹æ¡ˆ\"></a>è§£å†³æ–¹æ¡ˆ</h5><p>ä½ å¯ä»¥åˆ›å»ºä¸€ä¸ª<strong>é€‚é…å™¨</strong>ã€‚è¿™æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„å¯¹è±¡ï¼Œèƒ½å¤Ÿè½¬æ¢å¯¹è±¡æ¥å£ï¼Œä½¿å…¶èƒ½ä¸å…¶ä»–å¯¹è±¡è¿›è¡Œäº¤äº’ã€‚</p>\n<p>é€‚é…å™¨æ¨¡å¼é€šè¿‡å°è£…å¯¹è±¡å°†å¤æ‚çš„è½¬æ¢è¿‡ç¨‹éšè—äºå¹•åã€‚è¢«å°è£…çš„å¯¹è±¡ç”šè‡³å¯Ÿè§‰ä¸åˆ°é€‚é…å™¨çš„å­˜åœ¨ã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥ä½¿ç”¨ä¸€ä¸ªå°†æ‰€æœ‰æ•°æ®è½¬æ¢ä¸ºè‹±åˆ¶å•ä½ï¼ˆå¦‚è‹±å°ºå’Œè‹±é‡Œï¼‰çš„é€‚é…å™¨å°è£…è¿è¡Œäºç±³å’Œåƒç±³å•ä½åˆ¶ä¸­çš„å¯¹è±¡ã€‚</p>\n<p>é€‚é…å™¨ä¸ä»…å¯ä»¥è½¬æ¢ä¸åŒæ ¼å¼çš„æ•°æ®ï¼Œå…¶è¿˜æœ‰åŠ©äºé‡‡ç”¨ä¸åŒæ¥å£çš„å¯¹è±¡ä¹‹é—´çš„åˆä½œã€‚å®ƒçš„è¿ä½œæ–¹å¼å¦‚ä¸‹ï¼š</p>\n<ul>\n<li>é€‚é…å™¨å®ç°ä¸å…¶ä¸­ä¸€ä¸ªç°æœ‰å¯¹è±¡å…¼å®¹çš„æ¥å£ã€‚</li>\n<li>ç°æœ‰å¯¹è±¡å¯ä»¥ä½¿ç”¨è¯¥æ¥å£å®‰å…¨åœ°è°ƒç”¨é€‚é…å™¨æ–¹æ³•ã€‚</li>\n<li>é€‚é…å™¨æ–¹æ³•è¢«è°ƒç”¨åå°†ä»¥å¦ä¸€ä¸ªå¯¹è±¡å…¼å®¹çš„æ ¼å¼å’Œé¡ºåºå°†è¯·æ±‚ä¼ é€’ç»™è¯¥å¯¹è±¡ã€‚</li>\n</ul>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220816154725.png\" alt=\"img\"></p>\n<h5 id=\"é€‚é…å™¨æ¨¡å¼ç»“æ„\"><a href=\"#é€‚é…å™¨æ¨¡å¼ç»“æ„\" class=\"headerlink\" title=\"é€‚é…å™¨æ¨¡å¼ç»“æ„\"></a>é€‚é…å™¨æ¨¡å¼ç»“æ„</h5><p><strong>å¯¹è±¡é€‚é…å™¨</strong> ï¼šé€‚é…å™¨å®ç°äº†å…¶ä¸­ä¸€ä¸ªå¯¹è±¡çš„æ¥å£ï¼Œå¹¶å¯¹å¦ä¸€ä¸ªå¯¹è±¡è¿›è¡Œå°è£…ã€‚æ‰€æœ‰æµè¡Œçš„ç¼–ç¨‹è¯­è¨€éƒ½å¯ä»¥å®ç°é€‚é…å™¨ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220816154822.png\" alt=\"img\"></p>\n<p>1.<strong>å®¢æˆ·ç«¯(Client)</strong> æ˜¯åŒ…å«å½“å‰ç¨‹åºä¸šåŠ¡é€»è¾‘çš„ç±»ã€‚<br>2.<strong>å®¢æˆ·ç«¯æ¥å£(Client InterÂ­face)</strong> æè¿°äº†å…¶ä»–ç±»ä¸å®¢æˆ·ç«¯ä»£ç åˆä½œæ—¶å¿…é¡»éµå¾ªçš„åè®®ã€‚</p>\n<p>3.<strong>æœåŠ¡(SerÂ­vice)</strong> ä¸­æœ‰ä¸€äº›åŠŸèƒ½ç±» ï¼ˆé€šå¸¸æ¥è‡ªç¬¬ä¸‰æ–¹æˆ–é—ç•™ç³»ç»Ÿï¼‰ã€‚å®¢æˆ·ç«¯ä¸å…¶æ¥å£ä¸å…¼å®¹ï¼Œå› æ­¤æ— æ³•ç›´æ¥è°ƒç”¨å…¶åŠŸèƒ½ã€‚</p>\n<p>4.<strong>é€‚é…å™¨(Adapter)</strong> æ˜¯ä¸€ä¸ªå¯ä»¥åŒæ—¶ä¸å®¢æˆ·ç«¯å’ŒæœåŠ¡äº¤äº’çš„ç±»ï¼šå®ƒåœ¨å®ç°å®¢æˆ·ç«¯æ¥å£çš„åŒæ—¶å°è£…äº†æœåŠ¡å¯¹è±¡ã€‚é€‚é…å™¨æ¥å—å®¢æˆ·ç«¯é€šè¿‡é€‚é…å™¨æ¥å£å‘èµ·çš„è°ƒç”¨ï¼Œå¹¶å°†å…¶è½¬æ¢ä¸ºé€‚ç”¨äºè¢«å°è£…æœåŠ¡å¯¹è±¡çš„è°ƒç”¨ã€‚</p>\n<p>5.å®¢æˆ·ç«¯ä»£ç åªéœ€é€šè¿‡æ¥å£ä¸é€‚é…å™¨äº¤äº’å³å¯ï¼Œæ— éœ€ä¸å…·ä½“çš„é€‚é…å™¨ç±»è€¦åˆã€‚å› æ­¤ï¼Œä½ å¯ä»¥å‘ç¨‹åºä¸­æ·»åŠ æ–°ç±»å‹çš„é€‚é…å™¨è€Œæ— éœ€ä¿®æ”¹å·²æœ‰ä»£ç ã€‚è¿™åœ¨æœåŠ¡ç±»çš„æ¥å£è¢«æ›´æ”¹æˆ–æ›¿æ¢æ—¶å¾ˆæœ‰ç”¨ï¼šä½ æ— éœ€ä¿®æ”¹å®¢æˆ·ç«¯ä»£ç å°±å¯ä»¥åˆ›å»ºæ–°çš„é€‚é…å™¨ç±»ã€‚</p>\n<p><strong>ç±»é€‚é…å™¨</strong> ï¼šè¿™ä¸€å®ç°ä½¿ç”¨äº†ç»§æ‰¿æœºåˆ¶ï¼šé€‚é…å™¨åŒæ—¶ç»§æ‰¿ä¸¤ä¸ªå¯¹è±¡çš„æ¥å£ã€‚è¯·æ³¨æ„ï¼Œè¿™ç§æ–¹å¼ä»…èƒ½åœ¨æ”¯æŒå¤šé‡ç»§æ‰¿çš„ç¼–ç¨‹è¯­è¨€ä¸­å®ç°ï¼Œä¾‹å¦‚C++ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220816155303.png\" alt=\"img\"></p>\n<p>1.<strong>ç±»é€‚é…å™¨</strong>ä¸éœ€è¦å°è£…ä»»ä½•å¯¹è±¡ï¼Œå› ä¸ºå®ƒåŒæ—¶ç»§æ‰¿äº†å®¢æˆ·ç«¯å’ŒæœåŠ¡çš„è¡Œä¸ºã€‚é€‚é…åŠŸèƒ½åœ¨é‡å†™çš„æ–¹æ³•ä¸­å®Œæˆã€‚æœ€åç”Ÿæˆçš„é€‚é…å™¨å¯æ›¿ä»£å·²æœ‰çš„å®¢æˆ·ç«¯ç±»è¿›è¡Œä½¿ç”¨ã€‚</p>\n<h5 id=\"ä¼ªä»£ç -5\"><a href=\"#ä¼ªä»£ç -5\" class=\"headerlink\" title=\"ä¼ªä»£ç \"></a>ä¼ªä»£ç </h5><p>ä»…ä»…çœ‹ç»“æ„ä¹Ÿæ˜¯å¾ˆéš¾ç†è§£æ˜¯å•¥æ„æ€çš„ï¼Œæ¥çœ‹çœ‹ç»å…¸çš„æ–¹é’‰åœ†å­”é—®é¢˜ï¼Œå¦‚ä½•å°†æ–¹é’‰ç”¨é€‚é…å™¨è½¬åŒ–æˆåœ†é’‰æ¥é€‚é…åœ†å­”ã€‚ä¸€æ ·ç…§ç€ä¹‹å‰ï¼Œå†™ä¸€ä¸ªä¸æ˜¯é‚£ä¹ˆä¼ªçš„ä¼ªä»£ç </p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220816155544.png\" alt=\"img\"></p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//åœ†å­”ç±»(RoundHole)å’Œåœ†é’‰ç±»(RoundPeg)äº’ç›¸å…¼å®¹ </span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">RoundHole</span> </span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"built_in\">int</span> radius;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">RoundHole</span>(<span class=\"params\"><span class=\"built_in\">int</span> radius</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">//...</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"built_in\">int</span> <span class=\"title\">getRadius</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">//</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"built_in\">bool</span> <span class=\"title\">fits</span>(<span class=\"params\">RoundPeg peg</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>.getRadius() &gt;= peg.getRadius();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">RoundPeg</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"built_in\">int</span> radius;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">RoundPeg</span>(<span class=\"params\"><span class=\"built_in\">int</span> radius</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">//...</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"built_in\">int</span> <span class=\"title\">getRadius</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">//...</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//ä¸å…¼å®¹çš„æ–¹é’‰(SquarePeg)ç±»</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">SquarePeg</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"built_in\">int</span> width;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">SquarePeg</span>(<span class=\"params\"><span class=\"built_in\">int</span> width</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">//...</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"built_in\">int</span> <span class=\"title\">getWidth</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">//...</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//é€‚é…å™¨ç±»å…¶å®å°±æ˜¯åœ†é’‰çš„å­ç±»ï¼Œç®—æ˜¯ç‰¹æ®Šçš„åœ†é’‰ç±»ï¼Œå°†è·å¾—çš„æ–¹é’‰â€œæ‰“ç£¨â€æˆåœ†é’‰</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">SquarePegAdapter</span> : <span class=\"title\">RoundPeg</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">//é€‚é…å™¨é€šå¸¸åŒ…å«ä¸€ä¸ªè¦è¢«è½¬æ¢çš„å®ä¾‹</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> SquarePeg peg;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">SquarePegAdapter</span>(<span class=\"params\">SquarePeg peg</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.peg = peg;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"built_in\">int</span> <span class=\"title\">getRadius</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> peg.getWidth() * Math.sqrt(<span class=\"number\">2</span>) / <span class=\"number\">2</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//å®¢æˆ·ç«¯ä»£ç </span></span><br><span class=\"line\">hole = <span class=\"keyword\">new</span> RoundHole(<span class=\"number\">5</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">_sqpeg = <span class=\"keyword\">new</span> SquarePeg(<span class=\"number\">5</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">sqpeg_adapter = <span class=\"keyword\">new</span> SquarePegAdapter(_sqpeg);</span><br><span class=\"line\">hole.fits(sqpeg_adapter);</span><br><span class=\"line\"><span class=\"comment\">//å˜æ¢ä¹‹åï¼Œæˆ‘ä»¬è¿›è¡Œæ“ä½œçš„å°±æ˜¯é€‚é…å™¨ç±»è€Œä¸æ˜¯æ–¹é’‰ç±»äº†</span></span><br></pre></td></tr></table></figure>\n\n<h5 id=\"é€‚åˆé€‚é…å™¨æ¨¡å¼çš„åœ°æ–¹\"><a href=\"#é€‚åˆé€‚é…å™¨æ¨¡å¼çš„åœ°æ–¹\" class=\"headerlink\" title=\"é€‚åˆé€‚é…å™¨æ¨¡å¼çš„åœ°æ–¹\"></a>é€‚åˆé€‚é…å™¨æ¨¡å¼çš„åœ°æ–¹</h5><ul>\n<li>å½“ä½ å¸Œæœ›ä½¿ç”¨æŸä¸ªç±»ï¼Œä½†æ˜¯å…¶æ¥å£ä¸å…¶ä»–ä»£ç ä¸å…¼å®¹æ—¶ï¼Œå¯ä»¥ä½¿ç”¨é€‚é…å™¨ç±»ã€‚ä¹Ÿå°±æ˜¯åˆ›é€ ä¸€ä¸ªä¸­é—´å±‚ç±»ï¼Œå¦‚æœä½ åœ¨å‰äººçš„ä»£ç ä¿®æ”¹ä½†æ˜¯åˆä¸æ‰“ç®—ä¿®æ”¹å¤ªå¤š</li>\n<li>å¦‚æœæ‚¨éœ€è¦å¤ç”¨è¿™æ ·ä¸€äº›ç±»ï¼Œä»–ä»¬å¤„äºåŒä¸€ä¸ªç»§æ‰¿ä½“ç³»ï¼Œå¹¶ä¸”ä»–ä»¬åˆæœ‰äº†é¢å¤–çš„ä¸€äº›å…±åŒçš„æ–¹æ³•ï¼Œä½†æ˜¯è¿™äº›å…±åŒçš„æ–¹æ³•ä¸æ˜¯æ‰€æœ‰åœ¨è¿™ä¸€ç»§æ‰¿ä½“ç³»ä¸­çš„å­ç±»æ‰€å…·æœ‰çš„å…±æ€§ã€‚</li>\n</ul>\n<h5 id=\"é€‚é…å™¨æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"><a href=\"#é€‚é…å™¨æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\" class=\"headerlink\" title=\"é€‚é…å™¨æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"></a>é€‚é…å™¨æ¨¡å¼çš„ä¼˜ç¼ºç‚¹</h5><p><strong>ä¼˜ç‚¹</strong> ï¼š</p>\n<ul>\n<li>ç¬¦åˆSRP</li>\n<li>ç¬¦åˆOCP</li>\n</ul>\n<p><strong>ç¼ºç‚¹</strong> ï¼š</p>\n<ul>\n<li>ä»£ç æ•´ä½“å¤æ‚åº¦å¢åŠ ï¼Œå› ä¸ºä½ éœ€è¦æ–°å¢ä¸€ç³»åˆ—æ¥å£å’Œç±»ã€‚æœ‰æ—¶ç›´æ¥æ›´æ”¹æœåŠ¡ç±»ä½¿å…¶ä¸å…¶ä»–ä»£ç å…¼å®¹ä¼šæ›´ç®€å•ã€‚</li>\n</ul>\n<h4 id=\"Bridge-æ¡¥æ¥æ¨¡å¼\"><a href=\"#Bridge-æ¡¥æ¥æ¨¡å¼\" class=\"headerlink\" title=\"Bridge(æ¡¥æ¥æ¨¡å¼)\"></a>Bridge(æ¡¥æ¥æ¨¡å¼)</h4><p>æ¡¥æ¥æ¨¡å¼æ˜¯ä¸€ç§ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼Œå¯å°†ä¸€ä¸ªå¤§ç±»æˆ–ä¸€ç³»åˆ—ç´§å¯†ç›¸å…³çš„ç±»æ‹†åˆ†ä¸ºæŠ½è±¡å’Œå®ç°ä¸¤ä¸ªç‹¬ç«‹çš„å±‚æ¬¡ç»“æ„ï¼Œä»è€Œèƒ½åœ¨å¼€å‘æ—¶åˆ†åˆ«ä½¿ç”¨ã€‚</p>\n<h5 id=\"é—®é¢˜-6\"><a href=\"#é—®é¢˜-6\" class=\"headerlink\" title=\"é—®é¢˜\"></a>é—®é¢˜</h5><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220816163009.png\" alt=\"img\"></p>\n<p>å‡å¦‚ä½ æœ‰ä¸€ä¸ªå‡ ä½•å½¢çŠ¶<strong>Shape</strong>ç±»ï¼Œä»å®ƒèƒ½æ‰©å±•å‡ºä¸¤ä¸ªå­ç±»ï¼šâ€‹åœ†å½¢<strong>CirÂ­cle</strong>å’Œæ–¹å½¢<strong>Square</strong>ã€‚ä½ å¸Œæœ›å¯¹è¿™æ ·çš„ç±»å±‚æ¬¡ç»“æ„è¿›è¡Œæ‰©å±•ä»¥ä½¿å…¶åŒ…å«é¢œè‰²ï¼Œæ‰€ä»¥ä½ æ‰“ç®—åˆ›å»ºåä¸ºçº¢è‰²<strong>Red</strong>å’Œ è“è‰²<strong>Blue</strong>çš„å½¢çŠ¶å­ç±»ã€‚ä½†æ˜¯ï¼Œç”±äºä½ å·²æœ‰ä¸¤ä¸ªå­ç±»ï¼Œæ‰€ä»¥æ€»å…±éœ€è¦åˆ›å»ºå››ä¸ªç±»æ‰èƒ½è¦†ç›–æ‰€æœ‰ç»„åˆï¼Œä¾‹å¦‚è“è‰²åœ†å½¢<strong>BlueÂ­CirÂ­cle</strong>å’Œçº¢è‰²æ–¹å½¢<strong>RedÂ­Square</strong>ã€‚åœ¨å±‚æ¬¡ç»“æ„ä¸­æ–°å¢å½¢çŠ¶å’Œé¢œè‰²å°†å¯¼è‡´ä»£ç å¤æ‚ç¨‹åº¦æŒ‡æ•°å¢é•¿ã€‚ä¾‹å¦‚æ·»åŠ ä¸‰è§’å½¢çŠ¶ï¼Œä½ éœ€è¦æ–°å¢ä¸¤ä¸ªå­ç±»ï¼Œä¹Ÿå°±æ˜¯æ¯ç§é¢œè‰²ä¸€ä¸ªï¼›æ­¤åæ–°å¢ä¸€ç§æ–°é¢œè‰²éœ€è¦æ–°å¢ä¸‰ä¸ªå­ç±»ï¼Œå³æ¯ç§å½¢çŠ¶ä¸€ä¸ªã€‚å¦‚æ­¤ä»¥å¾€ï¼Œæƒ…å†µä¼šè¶Šæ¥è¶Šç³Ÿç³•ã€‚</p>\n<h5 id=\"è§£å†³æ–¹æ¡ˆ-6\"><a href=\"#è§£å†³æ–¹æ¡ˆ-6\" class=\"headerlink\" title=\"è§£å†³æ–¹æ¡ˆ\"></a>è§£å†³æ–¹æ¡ˆ</h5><p>é—®é¢˜çš„æ ¹æœ¬åŸå› æ˜¯æˆ‘ä»¬è¯•å›¾åœ¨ä¸¤ä¸ªç‹¬ç«‹çš„ç»´åº¦â€”â€”å½¢çŠ¶ä¸é¢œè‰²â€”â€”ä¸Šæ‰©å±•å½¢çŠ¶ç±»ã€‚è¿™åœ¨å¤„ç†ç±»ç»§æ‰¿æ—¶æ˜¯å¾ˆå¸¸è§çš„é—®é¢˜ã€‚</p>\n<p>æ¡¥æ¥æ¨¡å¼é€šè¿‡å°†ç»§æ‰¿æ”¹ä¸ºç»„åˆçš„æ–¹å¼æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚å…·ä½“æ¥è¯´ï¼Œå°±æ˜¯æŠ½å–å…¶ä¸­ä¸€ä¸ªç»´åº¦å¹¶ä½¿ä¹‹æˆä¸ºç‹¬ç«‹çš„ç±»å±‚æ¬¡ï¼Œè¿™æ ·å°±å¯ä»¥åœ¨åˆå§‹ç±»ä¸­å¼•ç”¨è¿™ä¸ªæ–°å±‚æ¬¡çš„å¯¹è±¡ï¼Œä»è€Œä½¿å¾—ä¸€ä¸ªç±»ä¸å¿…æ‹¥æœ‰æ‰€æœ‰çš„çŠ¶æ€å’Œè¡Œä¸ºã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220816163706.png\" alt=\"img\"></p>\n<p>æ ¹æ®è¯¥æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥å°†é¢œè‰²ç›¸å…³çš„ä»£ç æŠ½å–åˆ°æ‹¥æœ‰ çº¢è‰²å’Œ è“è‰²ä¸¤ä¸ªå­ç±»çš„é¢œè‰²ç±»ä¸­ï¼Œç„¶ååœ¨å½¢çŠ¶ç±»ä¸­æ·»åŠ ä¸€ä¸ªæŒ‡å‘æŸä¸€é¢œè‰²å¯¹è±¡çš„å¼•ç”¨æˆå‘˜å˜é‡ã€‚ç°åœ¨ï¼Œå½¢çŠ¶ç±»å¯ä»¥å°†æ‰€æœ‰ä¸é¢œè‰²ç›¸å…³çš„å·¥ä½œå§”æ´¾ç»™è¿å…¥çš„é¢œè‰²å¯¹è±¡ã€‚è¿™æ ·çš„å¼•ç”¨å°±æˆä¸ºäº† å½¢çŠ¶å’Œ é¢œè‰²ä¹‹é—´çš„æ¡¥æ¢ã€‚æ­¤åï¼Œæ–°å¢é¢œè‰²å°†ä¸å†éœ€è¦ä¿®æ”¹å½¢çŠ¶çš„ç±»å±‚æ¬¡ï¼Œåä¹‹äº¦ç„¶ã€‚</p>\n<h5 id=\"æ¡¥æ¥æ¨¡å¼ç»“æ„\"><a href=\"#æ¡¥æ¥æ¨¡å¼ç»“æ„\" class=\"headerlink\" title=\"æ¡¥æ¥æ¨¡å¼ç»“æ„\"></a>æ¡¥æ¥æ¨¡å¼ç»“æ„</h5><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220816164716.png\" alt=\"img\"></p>\n<p>1.<strong>æŠ½è±¡éƒ¨åˆ†(AbstracÂ­tion)</strong> æä¾›é«˜å±‚æ§åˆ¶é€»è¾‘ï¼Œ ä¾èµ–äºå®Œæˆåº•å±‚å®é™…å·¥ä½œçš„å®ç°å¯¹è±¡ã€‚</p>\n<p>2.<strong>å®ç°éƒ¨åˆ†(ImpleÂ­menÂ­taÂ­tion)</strong> ä¸ºæ‰€æœ‰å…·ä½“å®ç°å£°æ˜é€šç”¨æ¥å£ã€‚æŠ½è±¡éƒ¨åˆ†ä»…èƒ½é€šè¿‡åœ¨è¿™é‡Œå£°æ˜çš„æ–¹æ³•ä¸å®ç°å¯¹è±¡äº¤äº’ã€‚æŠ½è±¡éƒ¨åˆ†å¯ä»¥åˆ—å‡ºå’Œå®ç°éƒ¨åˆ†ä¸€æ ·çš„æ–¹æ³•ï¼Œä½†æ˜¯æŠ½è±¡éƒ¨åˆ†é€šå¸¸å£°æ˜ä¸€äº›å¤æ‚è¡Œä¸ºï¼Œè¿™äº›è¡Œä¸ºä¾èµ–äºå¤šç§ç”±å®ç°éƒ¨åˆ†å£°æ˜çš„åŸè¯­æ“ä½œã€‚</p>\n<p>3.<strong>å…·ä½“å®ç°(ConÂ­crete ImpleÂ­menÂ­taÂ­tions)</strong> ä¸­åŒ…æ‹¬ç‰¹å®šäºå¹³å°çš„ä»£ç ã€‚</p>\n<p>4.**ç²¾ç¡®æŠ½è±¡(Refined AbstracÂ­tion)**æä¾›æ§åˆ¶é€»è¾‘çš„å˜ä½“ã€‚ä¸å…¶çˆ¶ç±»ä¸€æ ·ï¼Œå®ƒä»¬é€šè¿‡é€šç”¨å®ç°æ¥å£ä¸ä¸åŒçš„å®ç°è¿›è¡Œäº¤äº’ã€‚</p>\n<p>5.é€šå¸¸æƒ…å†µä¸‹ï¼Œ**å®¢æˆ·ç«¯(Client)**ä»…å…³å¿ƒå¦‚ä½•ä¸æŠ½è±¡éƒ¨åˆ†åˆä½œã€‚ä½†æ˜¯ï¼Œå®¢æˆ·ç«¯éœ€è¦å°†æŠ½è±¡å¯¹è±¡ä¸ä¸€ä¸ªå®ç°å¯¹è±¡è¿æ¥èµ·æ¥ã€‚</p>\n<h5 id=\"ä¼ªä»£ç -6\"><a href=\"#ä¼ªä»£ç -6\" class=\"headerlink\" title=\"ä¼ªä»£ç \"></a>ä¼ªä»£ç </h5><p>åœ¨è¿™æ¬¡ä¸é‚£ä¹ˆä¼ªçš„ä¼ªä»£ç ä¸­æˆ‘æ‰“ç®—å±•ç°ä¸¤æ®µï¼Œå…¶ä¸­ä¸€ä¸ªæ˜¯ä¹‹å‰çš„Shapeå’ŒColorä¹‹é—´çš„æ¡¥æ¥ã€‚é¦–å…ˆæˆ‘ä»¬æ¥çœ‹çœ‹é¥æ§å™¨é¥æ§è®¾å¤‡ï¼Œæ˜¯å¾ˆå®¹æ˜“ç†è§£è®¾å¤‡å°±æ˜¯å®ç°éƒ¨åˆ†ï¼Œè€Œé¥æ§ä¸ºæŠ½è±¡è®¾å¤‡ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220816170510.png\" alt=\"img\"></p>\n<p>é¥æ§å™¨åŸºç±»å£°æ˜äº†ä¸€ä¸ªæŒ‡å‘è®¾å¤‡å¯¹è±¡çš„å¼•ç”¨æˆå‘˜å˜é‡ã€‚ æ‰€æœ‰é¥æ§å™¨é€šè¿‡é€šç”¨è®¾å¤‡æ¥å£ä¸è®¾å¤‡è¿›è¡Œäº¤äº’ï¼Œä½¿å¾—åŒä¸€ä¸ªé¥æ§å™¨å¯ä»¥æ”¯æŒä¸åŒç±»å‹çš„è®¾å¤‡ã€‚<br>ä½ å¯ä»¥å¼€å‘ç‹¬ç«‹äºè®¾å¤‡ç±»çš„é¥æ§å™¨ç±»ï¼Œåªéœ€æ–°å»ºä¸€ä¸ªé¥æ§å™¨å­ç±»å³å¯ã€‚ä¾‹å¦‚ï¼ŒåŸºç¡€é¥æ§å™¨å¯èƒ½åªæœ‰ä¸¤ä¸ªæŒ‰é’®ï¼Œä½†ä½ å¯åœ¨å…¶åŸºç¡€ä¸Šæ‰©å±•æ–°åŠŸèƒ½ï¼Œæ¯”å¦‚é¢å¤–çš„ä¸€èŠ‚ç”µæ± æˆ–ä¸€å—è§¦æ‘¸å±ã€‚</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// â€œæŠ½è±¡éƒ¨åˆ†â€å®šä¹‰äº†ä¸¤ä¸ªç±»å±‚æ¬¡ç»“æ„ä¸­â€œæ§åˆ¶â€éƒ¨åˆ†çš„æ¥å£ã€‚å®ƒç®¡ç†ç€ä¸€ä¸ªæŒ‡å‘â€œå®</span></span><br><span class=\"line\"><span class=\"comment\">// ç°éƒ¨åˆ†â€å±‚æ¬¡ç»“æ„ä¸­å¯¹è±¡çš„å¼•ç”¨ï¼Œå¹¶ä¼šå°†æ‰€æœ‰çœŸå®å·¥ä½œå§”æ´¾ç»™è¯¥å¯¹è±¡ã€‚</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">Remote</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> Device device;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">Remote</span>(<span class=\"params\">Device device</span>)</span> </span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.device = device;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">togglePower</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(device.isEnabled())</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            device.disable();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">else</span> </span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"comment\">//..</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">volumeUp</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        device.setVolume(device.getVolume() + <span class=\"number\">10</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">volumeDown</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">//..</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">ChannelUp</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        device.setChannel(device.getChannel() + <span class=\"number\">1</span>)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">ChannelDown</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">//..</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// ä½ å¯ä»¥ç‹¬ç«‹äºè®¾å¤‡ç±»çš„æ–¹å¼ä»æŠ½è±¡å±‚ä¸­æ‰©å±•ç±»ã€‚</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">AdvancedRemote</span> : <span class=\"title\">Remote</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">mute</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        device.setVolume(<span class=\"number\">0</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// â€œå®ç°éƒ¨åˆ†â€æ¥å£å£°æ˜äº†åœ¨æ‰€æœ‰å…·ä½“å®ç°ç±»ä¸­é€šç”¨çš„æ–¹æ³•ã€‚å®ƒä¸éœ€è¦ä¸æŠ½è±¡æ¥å£ç›¸</span></span><br><span class=\"line\"><span class=\"comment\">// åŒ¹é…ã€‚å®é™…ä¸Šï¼Œè¿™ä¸¤ä¸ªæ¥å£å¯ä»¥å®Œå…¨ä¸ä¸€æ ·ã€‚é€šå¸¸å®ç°æ¥å£åªæä¾›åŸè¯­æ“ä½œï¼Œè€Œ</span></span><br><span class=\"line\"><span class=\"comment\">// æŠ½è±¡æ¥å£åˆ™ä¼šåŸºäºè¿™äº›æ“ä½œå®šä¹‰è¾ƒé«˜å±‚æ¬¡çš„æ“ä½œã€‚</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title\">Device</span> </span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"built_in\">bool</span> <span class=\"title\">isEnable</span>()</span>;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">enable</span>()</span>;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">disable</span>()</span>;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"built_in\">int</span> <span class=\"title\">getVolume</span>()</span>;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">setVolume</span>(<span class=\"params\">..</span>)</span>;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"built_in\">int</span> <span class=\"title\">getChannel</span>()</span>;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">setChannel</span>(<span class=\"params\">..</span>)</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">TV</span> : <span class=\"title\">Device</span> </span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">//...</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">public</span> vlass Radio : Device</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">//..</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å®¢æˆ·ç«¯ä»£ç </span></span><br><span class=\"line\">tv = <span class=\"keyword\">new</span> Tv();</span><br><span class=\"line\">remote = <span class=\"keyword\">new</span> RemoteControl(tv);</span><br><span class=\"line\">remote.togglePower();</span><br><span class=\"line\"></span><br><span class=\"line\">radio = <span class=\"keyword\">new</span> Radio();</span><br><span class=\"line\">remote = <span class=\"keyword\">new</span> AdvancedRemoteControl(radio);</span><br></pre></td></tr></table></figure>\n\n<p>å¯¹äºShapeå’ŒColoræˆ‘ä»¬å¯èƒ½å¾ˆéš¾åŒºåˆ«è°æ˜¯â€œæŠ½è±¡â€ï¼Œè°æ˜¯â€œå®ç°â€ï¼Œä½†æ˜¯æ¡¥æ¥æ¨¡å¼åŒæ ·é€‚åˆæ‹†åˆ†ç±»çš„ç»“æ„,å³æŠ½å–å¤æ‚ç±»çš„å…¶ä¸­ä¸€ä¸ªç»´åº¦ä½¿ä¹‹æˆä¸ºç‹¬ç«‹çš„ç±»å±‚æ¬¡ã€‚</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">Shape</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> Color color;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//..</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">Circle</span> : <span class=\"title\">Shape</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">//..</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">Square</span> : <span class=\"title\">Shape</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">//..</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title\">Color</span> </span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">//..</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">Red</span> : <span class=\"title\">Color</span> </span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">//..</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">Blue</span> : <span class=\"title\">Color</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">//..</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"é€‚åˆæ¡¥æ¥æ¨¡å¼çš„åœ°æ–¹\"><a href=\"#é€‚åˆæ¡¥æ¥æ¨¡å¼çš„åœ°æ–¹\" class=\"headerlink\" title=\"é€‚åˆæ¡¥æ¥æ¨¡å¼çš„åœ°æ–¹\"></a>é€‚åˆæ¡¥æ¥æ¨¡å¼çš„åœ°æ–¹</h5><ul>\n<li>å¦‚æœä½ æƒ³è¦æ‹†åˆ†æˆ–é‡ç»„ä¸€ä¸ªå…·æœ‰å¤šé‡åŠŸèƒ½çš„åºæ‚ç±» ï¼ˆä¾‹å¦‚èƒ½ä¸å¤šä¸ªæ•°æ®åº“æœåŠ¡å™¨è¿›è¡Œäº¤äº’çš„ç±»ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨æ¡¥æ¥æ¨¡å¼ã€‚æ¡¥æ¥æ¨¡å¼å¯ä»¥å°†åºæ‚ç±»æ‹†åˆ†ä¸ºå‡ ä¸ªç±»å±‚æ¬¡ç»“æ„ã€‚æ­¤åï¼Œä½ å¯ä»¥ä¿®æ”¹ä»»æ„ä¸€ä¸ªç±»å±‚æ¬¡ç»“æ„è€Œä¸ä¼šå½±å“åˆ°å…¶ä»–ç±»å±‚æ¬¡ç»“æ„ã€‚è¿™ç§æ–¹æ³•å¯ä»¥ç®€åŒ–ä»£ç çš„ç»´æŠ¤å·¥ä½œï¼Œå¹¶å°†ä¿®æ”¹å·²æœ‰ä»£ç çš„é£é™©é™åˆ°æœ€ä½ã€‚</li>\n<li>å¦‚æœä½ å¸Œæœ›åœ¨å‡ ä¸ªç‹¬ç«‹ç»´åº¦ä¸Šæ‰©å±•ä¸€ä¸ªç±»ï¼Œå¯ä½¿ç”¨è¯¥æ¨¡å¼ã€‚</li>\n<li>å¦‚æœä½ éœ€è¦åœ¨è¿è¡Œæ—¶åˆ‡æ¢ä¸åŒå®ç°æ–¹æ³•ï¼Œå¯ä½¿ç”¨æ¡¥æ¥æ¨¡å¼ã€‚</li>\n</ul>\n<h5 id=\"æ¡¥æ¥æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"><a href=\"#æ¡¥æ¥æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\" class=\"headerlink\" title=\"æ¡¥æ¥æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"></a>æ¡¥æ¥æ¨¡å¼çš„ä¼˜ç¼ºç‚¹</h5><p><strong>ä¼˜ç‚¹</strong> ï¼š</p>\n<ul>\n<li>ä½ å¯ä»¥åˆ›å»ºä¸å¹³å°æ— å…³çš„ç±»å’Œç¨‹åºã€‚</li>\n<li>å®¢æˆ·ç«¯ä»£ç ä»…ä¸é«˜å±‚æŠ½è±¡éƒ¨åˆ†è¿›è¡Œäº’åŠ¨ï¼Œä¸ä¼šæ¥è§¦åˆ°å¹³å°çš„è¯¦ç»†ä¿¡æ¯ã€‚</li>\n<li>ç¬¦åˆOCP</li>\n<li>ç¬¦åˆSRP</li>\n</ul>\n<p><strong>ç¼ºç‚¹</strong> ï¼š</p>\n<ul>\n<li>å¯¹é«˜å†…èšçš„ç±»ä½¿ç”¨è¯¥æ¨¡å¼å¯èƒ½ä¼šè®©ä»£ç æ›´åŠ å¤æ‚ã€‚</li>\n</ul>\n<h4 id=\"Composite-ç»„åˆæ¨¡å¼\"><a href=\"#Composite-ç»„åˆæ¨¡å¼\" class=\"headerlink\" title=\"Composite(ç»„åˆæ¨¡å¼)\"></a>Composite(ç»„åˆæ¨¡å¼)</h4><p>ç»„åˆæ¨¡å¼æ˜¯ä¸€ç§ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼Œä½ å¯ä»¥ä½¿ç”¨å®ƒå°†å¯¹è±¡ç»„åˆæˆæ ‘çŠ¶ç»“æ„ï¼Œå¹¶ä¸”èƒ½åƒä½¿ç”¨ç‹¬ç«‹å¯¹è±¡ä¸€æ ·ä½¿ç”¨å®ƒä»¬ã€‚</p>\n<h5 id=\"é—®é¢˜-7\"><a href=\"#é—®é¢˜-7\" class=\"headerlink\" title=\"é—®é¢˜\"></a>é—®é¢˜</h5><p><strong>å¦‚æœåº”ç”¨çš„æ ¸å¿ƒæ¨¡å‹èƒ½ç”¨æ ‘çŠ¶ç»“æ„è¡¨ç¤ºï¼Œåœ¨åº”ç”¨ä¸­ä½¿ç”¨ç»„åˆæ¨¡å¼æ‰æœ‰ä»·å€¼ã€‚</strong>ä¾‹å¦‚ï¼Œä½ æœ‰ä¸¤ç±»å¯¹è±¡ï¼š â€‹ äº§å“å’Œç›’å­ã€‚ä¸€ä¸ªç›’å­ä¸­å¯ä»¥åŒ…å«å¤šä¸ªäº§å“æˆ–è€…å‡ ä¸ªè¾ƒå°çš„ç›’å­ã€‚è¿™äº›å°ç›’å­ä¸­åŒæ ·å¯ä»¥åŒ…å«ä¸€äº›äº§å“æˆ–æ›´å°çš„ç›’å­ï¼Œä»¥æ­¤ç±»æ¨ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220818150134.png\" alt=\"img\"></p>\n<p>è®¢å•ä¸­å¯èƒ½åŒ…æ‹¬å„ç§äº§å“ï¼Œè¿™äº›äº§å“æ”¾ç½®åœ¨ç›’å­ä¸­ï¼Œç„¶ååˆè¢«æ”¾å…¥ä¸€å±‚åˆä¸€å±‚æ›´å¤§çš„ç›’å­ä¸­ã€‚æ•´ä¸ªç»“æ„çœ‹ä¸Šå»åƒæ˜¯ä¸€æ£µå€’è¿‡æ¥çš„æ ‘ã€‚ä½ å¯ä»¥å°è¯•ç›´æ¥è®¡ç®—ï¼šæ‰“å¼€æ‰€æœ‰ç›’å­ï¼Œæ‰¾åˆ°æ¯ä»¶äº§å“ï¼Œç„¶åè®¡ç®—æ€»ä»·ã€‚è¿™åœ¨çœŸå®ä¸–ç•Œä¸­æˆ–è®¸å¯è¡Œï¼Œä½†åœ¨ç¨‹åºä¸­ï¼Œä½ å¹¶ä¸èƒ½ç®€å•åœ°ä½¿ç”¨å¾ªç¯è¯­å¥æ¥å®Œæˆè¯¥å·¥ä½œã€‚ä½ å¿…é¡»äº‹å…ˆçŸ¥é“æ‰€æœ‰äº§å“å’Œç›’å­çš„ç±»åˆ«ï¼Œæ‰€æœ‰ç›’å­çš„åµŒå¥—å±‚æ•°ä»¥åŠå…¶ä»–ç¹æ‚çš„ç»†èŠ‚ä¿¡æ¯ã€‚å› æ­¤ï¼Œç›´æ¥è®¡ç®—æä¸æ–¹ä¾¿ï¼Œç”šè‡³å®Œå…¨ä¸å¯è¡Œã€‚</p>\n<h5 id=\"è§£å†³æ–¹æ¡ˆ-7\"><a href=\"#è§£å†³æ–¹æ¡ˆ-7\" class=\"headerlink\" title=\"è§£å†³æ–¹æ¡ˆ\"></a>è§£å†³æ–¹æ¡ˆ</h5><p>ç»„åˆæ¨¡å¼å»ºè®®ä½¿ç”¨ä¸€ä¸ªé€šç”¨æ¥å£æ¥ä¸äº§å“å’Œç›’å­è¿›è¡Œäº¤äº’ï¼Œå¹¶ä¸”åœ¨è¯¥æ¥å£ä¸­å£°æ˜ä¸€ä¸ªè®¡ç®—æ€»ä»·çš„æ–¹æ³•ã€‚é‚£ä¹ˆæ–¹æ³•è¯¥å¦‚ä½•è®¾è®¡å‘¢ï¼Ÿå¯¹äºä¸€ä¸ªäº§å“ï¼Œè¯¥æ–¹æ³•ç›´æ¥è¿”å›å…¶ä»·æ ¼ï¼›å¯¹äºä¸€ä¸ªç›’å­ï¼Œè¯¥æ–¹æ³•éå†ç›’å­ä¸­çš„æ‰€æœ‰é¡¹ç›®ï¼Œè¯¢é—®æ¯ä¸ªé¡¹ç›®çš„ä»·æ ¼ï¼Œç„¶åè¿”å›è¯¥ç›’å­çš„æ€»ä»·æ ¼ã€‚å¦‚æœå…¶ä¸­æŸä¸ªé¡¹ç›®æ˜¯å°ä¸€å·çš„ç›’å­ï¼Œé‚£ä¹ˆå½“å‰ç›’å­ä¹Ÿä¼šéå†å…¶ä¸­çš„æ‰€æœ‰é¡¹ç›®ï¼Œä»¥æ­¤ç±»æ¨ï¼Œç›´åˆ°è®¡ç®—å‡ºæ‰€æœ‰å†…éƒ¨ç»„æˆéƒ¨åˆ†çš„ä»·æ ¼ã€‚ä½ ç”šè‡³å¯ä»¥åœ¨ç›’å­çš„æœ€ç»ˆä»·æ ¼ä¸­å¢åŠ é¢å¤–è´¹ç”¨ï¼Œä½œä¸ºè¯¥ç›’å­çš„åŒ…è£…è´¹ç”¨ã€‚<strong>ç±»ä¼¼äºæ ‘çš„é€’å½’éå†</strong><br>è¯¥æ–¹å¼çš„æœ€å¤§ä¼˜ç‚¹åœ¨äºä½ æ— éœ€äº†è§£æ„æˆæ ‘çŠ¶ç»“æ„çš„å¯¹è±¡çš„å…·ä½“ç±»ã€‚ä½ ä¹Ÿæ— éœ€äº†è§£å¯¹è±¡æ˜¯ç®€å•çš„äº§å“è¿˜æ˜¯å¤æ‚çš„ç›’å­ã€‚ä½ åªéœ€è°ƒç”¨é€šç”¨æ¥å£ä»¥ç›¸åŒçš„æ–¹å¼å¯¹å…¶è¿›è¡Œå¤„ç†å³å¯ã€‚å½“ä½ è°ƒç”¨è¯¥æ–¹æ³•åï¼Œå¯¹è±¡ä¼šå°†è¯·æ±‚æ²¿ç€æ ‘ç»“æ„ä¼ é€’ä¸‹å»ã€‚</p>\n<h5 id=\"ç»„åˆæ¨¡å¼ç»“æ„\"><a href=\"#ç»„åˆæ¨¡å¼ç»“æ„\" class=\"headerlink\" title=\"ç»„åˆæ¨¡å¼ç»“æ„\"></a>ç»„åˆæ¨¡å¼ç»“æ„</h5><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220818150405.png\" alt=\"img\"></p>\n<p>1.<strong>ç»„ä»¶(ComÂ­poÂ­nent)</strong> æ¥å£æè¿°äº†æ ‘ä¸­ç®€å•é¡¹ç›®å’Œå¤æ‚é¡¹ç›®æ‰€å…±æœ‰çš„æ“ä½œã€‚</p>\n<p>2.<strong>å¶èŠ‚ç‚¹(Leaf)</strong> æ˜¯æ ‘çš„åŸºæœ¬ç»“æ„ï¼Œå®ƒä¸åŒ…å«å­é¡¹ç›®ã€‚<br>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå¶èŠ‚ç‚¹æœ€ç»ˆä¼šå®Œæˆå¤§éƒ¨åˆ†çš„å®é™…å·¥ä½œï¼Œ å› ä¸ºå®ƒä»¬æ— æ³•å°†å·¥ä½œæŒ‡æ´¾ç»™å…¶ä»–éƒ¨åˆ†ã€‚</p>\n<p>3.<strong>å®¹å™¨(ConÂ­tainÂ­er)</strong> â€”â€”åˆå <strong>â€œç»„åˆ (ComÂ­posÂ­ite)â€</strong>â€”â€”æ˜¯åŒ…å«å¶èŠ‚ç‚¹æˆ–å…¶ä»–å®¹å™¨ç­‰å­é¡¹ç›®çš„å•ä½ã€‚å®¹å™¨ä¸çŸ¥é“å…¶å­é¡¹ç›®æ‰€å±çš„å…·ä½“ç±»ï¼Œå®ƒåªé€šè¿‡é€šç”¨çš„ç»„ä»¶æ¥å£ä¸å…¶å­é¡¹ç›®äº¤äº’ã€‚<br>å®¹å™¨æ¥æ”¶åˆ°è¯·æ±‚åä¼šå°†å·¥ä½œåˆ†é…ç»™è‡ªå·±çš„å­é¡¹ç›®ï¼Œå¤„ç†ä¸­é—´ç»“æœï¼Œç„¶åå°†æœ€ç»ˆç»“æœè¿”å›ç»™å®¢æˆ·ç«¯ã€‚</p>\n<p>4.<strong>å®¢æˆ·ç«¯(Client)</strong> é€šè¿‡ç»„ä»¶æ¥å£ä¸æ‰€æœ‰é¡¹ç›®äº¤äº’ã€‚å› æ­¤ï¼Œå®¢æˆ·ç«¯èƒ½ä»¥ç›¸åŒæ–¹å¼ä¸æ ‘çŠ¶ç»“æ„ä¸­çš„ç®€å•æˆ–å¤æ‚é¡¹ç›®äº¤äº’ã€‚</p>\n<h5 id=\"ä¼ªä»£ç -7\"><a href=\"#ä¼ªä»£ç -7\" class=\"headerlink\" title=\"ä¼ªä»£ç \"></a>ä¼ªä»£ç </h5><p>ä¸€ä¸ªä¾‹å­æ˜¯åˆ©ç”¨ç»„åˆæ¨¡å¼åœ¨å›¾å½¢ç¼–è¾‘å™¨ä¸­å®ç°ä¸€ç³»åˆ—çš„å‡ ä½•å›¾å½¢ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220818151017.png\" alt=\"img\"></p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title\">Graphic</span> </span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">move</span>(<span class=\"params\">x,y</span>)</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">draw</span>()</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//Dotç±»æ˜¯å¶èŠ‚ç‚¹ï¼Œä¸èƒ½èƒ½åŒ…å«ä»»ä½•å­å¯¹è±¡ï¼Œé€šå¸¸å®Œæˆæ‰€æœ‰å·¥ä½œ</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">Dot</span> : <span class=\"title\">Graphic</span> </span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> T x,y;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">Dot</span>(<span class=\"params\">T x,T y</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">//..</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">move</span>(<span class=\"params\">T x,T y</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.x += x,<span class=\"keyword\">this</span>.y +=y;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">draw</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">//..</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//æ‰€æœ‰çš„ç»„ä»¶ç±»éƒ½å¯ä»¥æ‹“å±•</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">Circle</span> : <span class=\"title\">Dot</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> T radius;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">Circle</span>(<span class=\"params\">T x,T y,T radius</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">//..</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">draw</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">//...</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//CompoundGraphicç±»æ˜¯å¤æ‚ç»„ä»¶ï¼Œä¹Ÿå°±æ˜¯æ ‘ä¸­çš„éå¶å­èŠ‚ç‚¹</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">CompoundGraphic</span> : <span class=\"title\">Graphic</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> Graphic[] chidren;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">add</span>(<span class=\"params\">Graphic child</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">//æ·»åŠ è‡³chidrenæ•°ç»„</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">remove</span>(<span class=\"params\">Graphic child</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">//ç§»é™¤chidrenæ•°ç»„é‡Œçš„ä¸€ä¸ªchild</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//éå†æ¯ä¸€ä¸ªchildï¼Œè®©childæ¥åšå…·ä½“çš„äº‹æƒ…</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">move</span>(<span class=\"params\">x,y</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">foreach</span> (<span class=\"keyword\">var</span> child <span class=\"keyword\">in</span> children)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            child.move(x,y);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">draw</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">//åˆ†ä¸¤æ­¥ï¼Œä¸€ä¸ªæ˜¯ç”»å®Œæ‰€æœ‰childçš„å†…å®¹</span></span><br><span class=\"line\">        <span class=\"comment\">//ç¬¬äºŒæ­¥æ˜¯æ ¹æ®è‡ªèº«å†…å®¹ç”»ç‚¹ä¸œè¥¿</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//ç®€æ˜çš„å®¢æˆ·ç«¯ä»£ç </span></span><br><span class=\"line\"></span><br><span class=\"line\">CompoundGraphic tree = <span class=\"keyword\">new</span> CompoundGraphic();</span><br><span class=\"line\">CompoundGraphic branch1 = <span class=\"keyword\">new</span> CompoundGraphic();</span><br><span class=\"line\">branch1.Add(<span class=\"keyword\">new</span> Dot(<span class=\"number\">1</span>,<span class=\"number\">2</span>));</span><br><span class=\"line\">branch1.Add(<span class=\"keyword\">new</span> Dot(<span class=\"number\">3</span>,<span class=\"number\">4</span>));</span><br><span class=\"line\">CompoundGraphic branch2 = <span class=\"keyword\">new</span> CompoundGraphic();</span><br><span class=\"line\">branch2.Add(<span class=\"keyword\">new</span> Circle(<span class=\"number\">5</span>,<span class=\"number\">6</span>,<span class=\"number\">3</span>));</span><br><span class=\"line\">branch2.Add(<span class=\"keyword\">new</span> Dot(<span class=\"number\">7</span>,<span class=\"number\">8</span>));</span><br><span class=\"line\">branch3.Add(<span class=\"keyword\">new</span> Dot(<span class=\"number\">9</span>,<span class=\"number\">10</span>));</span><br><span class=\"line\">tree.Add(branch1);</span><br><span class=\"line\">tree.Add(branch2);</span><br><span class=\"line\"></span><br><span class=\"line\">tree.move(<span class=\"number\">1</span>,<span class=\"number\">2</span>);</span><br><span class=\"line\">tree.draw();</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"é€‚åˆç»„åˆæ¨¡å¼çš„åœ°æ–¹\"><a href=\"#é€‚åˆç»„åˆæ¨¡å¼çš„åœ°æ–¹\" class=\"headerlink\" title=\"é€‚åˆç»„åˆæ¨¡å¼çš„åœ°æ–¹\"></a>é€‚åˆç»„åˆæ¨¡å¼çš„åœ°æ–¹</h5><ul>\n<li>å¦‚æœä½ éœ€è¦å®ç°<strong>æ ‘çŠ¶å¯¹è±¡ç»“æ„</strong>ï¼Œå¯ä»¥ä½¿ç”¨ç»„åˆæ¨¡å¼ã€‚</li>\n<li>å¦‚æœä½ å¸Œæœ›å®¢æˆ·ç«¯ä»£ç ä»¥<strong>ç›¸åŒæ–¹å¼å¤„ç†ç®€å•å’Œå¤æ‚å…ƒç´ </strong>ï¼Œå¯ä»¥ä½¿ç”¨è¯¥æ¨¡å¼ã€‚</li>\n</ul>\n<h5 id=\"ç»„åˆæ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"><a href=\"#ç»„åˆæ¨¡å¼çš„ä¼˜ç¼ºç‚¹\" class=\"headerlink\" title=\"ç»„åˆæ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"></a>ç»„åˆæ¨¡å¼çš„ä¼˜ç¼ºç‚¹</h5><p><strong>ä¼˜ç‚¹</strong> ï¼š</p>\n<ul>\n<li>ä½ å¯ä»¥åˆ©ç”¨<strong>å¤šæ€</strong>å’Œ<strong>é€’å½’</strong>æœºåˆ¶æ›´æ–¹ä¾¿åœ°ä½¿ç”¨å¤æ‚æ ‘ç»“æ„ã€‚</li>\n<li>ç¬¦åˆOCP</li>\n</ul>\n<p><strong>ç¼ºç‚¹</strong> ï¼š</p>\n<ul>\n<li>å¯¹äºåŠŸèƒ½å·®å¼‚è¾ƒå¤§çš„ç±»ï¼Œæä¾›å…¬å…±æ¥å£æˆ–è®¸ä¼šæœ‰å›°éš¾ã€‚åœ¨ç‰¹å®šæƒ…å†µä¸‹ï¼Œä½ éœ€è¦è¿‡åº¦ä¸€èˆ¬åŒ–ç»„ä»¶æ¥å£ï¼Œä½¿å…¶å˜å¾—ä»¤äººéš¾ä»¥ç†è§£ã€‚</li>\n</ul>\n<h4 id=\"Decorator-è£…é¥°æ¨¡å¼\"><a href=\"#Decorator-è£…é¥°æ¨¡å¼\" class=\"headerlink\" title=\"Decorator(è£…é¥°æ¨¡å¼)\"></a>Decorator(è£…é¥°æ¨¡å¼)</h4><p>è£…é¥°æ¨¡å¼æ˜¯ä¸€ç§ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼Œå…è®¸ä½ é€šè¿‡å°†å¯¹è±¡æ”¾å…¥åŒ…å«è¡Œä¸ºçš„ç‰¹æ®Šå°è£…å¯¹è±¡ä¸­æ¥ä¸ºåŸå¯¹è±¡ç»‘å®šæ–°çš„è¡Œä¸ºã€‚</p>\n<h5 id=\"é—®é¢˜-8\"><a href=\"#é—®é¢˜-8\" class=\"headerlink\" title=\"é—®é¢˜\"></a>é—®é¢˜</h5><p>å‡è®¾ä½ æ­£åœ¨å¼€å‘ä¸€ä¸ªæä¾›é€šçŸ¥åŠŸèƒ½çš„åº“ï¼Œå…¶ä»–ç¨‹åºå¯ä½¿ç”¨å®ƒå‘ç”¨æˆ·å‘é€å…³äºé‡è¦äº‹ä»¶çš„é€šçŸ¥ã€‚<br>åº“çš„æœ€åˆç‰ˆæœ¬åŸºäº<strong>é€šçŸ¥å™¨NotiÂ­fiÂ­erç±»</strong>ï¼Œå…¶ä¸­åªæœ‰å¾ˆå°‘çš„å‡ ä¸ªæˆå‘˜å˜é‡ï¼Œä¸€ä¸ªæ„é€ å‡½æ•°å’Œä¸€ä¸ªsendå‘é€æ–¹æ³•ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220818203702.png\" alt=\"img\"></p>\n<p>æ­¤åæŸä¸ªæ—¶åˆ»ï¼Œä½ ä¼šå‘ç°åº“çš„ç”¨æˆ·å¸Œæœ›ä½¿ç”¨é™¤é‚®ä»¶é€šçŸ¥ä¹‹å¤–çš„åŠŸèƒ½ã€‚è®¸å¤šç”¨æˆ·ä¼šå¸Œæœ›æ¥æ”¶å…³äºç´§æ€¥äº‹ä»¶çš„æ‰‹æœºçŸ­ä¿¡ï¼Œè¿˜æœ‰äº›ç”¨æˆ·å¸Œæœ›åœ¨å¾®ä¿¡ä¸Šæ¥æ”¶æ¶ˆæ¯ï¼Œè€Œå…¬å¸ç”¨æˆ·åˆ™å¸Œæœ›åœ¨ QQ ä¸Šæ¥æ”¶æ¶ˆæ¯ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220818203808.png\" alt=\"img\"></p>\n<p>é¦–å…ˆæ‰©å±•é€šçŸ¥å™¨ç±»ï¼Œç„¶ååœ¨æ–°çš„å­ç±»ä¸­åŠ å…¥é¢å¤–çš„é€šçŸ¥æ–¹æ³•ã€‚ç°åœ¨å®¢æˆ·ç«¯è¦å¯¹æ‰€éœ€é€šçŸ¥å½¢å¼çš„å¯¹åº”ç±»è¿›è¡Œåˆå§‹åŒ–ï¼Œç„¶åä½¿ç”¨è¯¥ç±»å‘é€åç»­æ‰€æœ‰çš„é€šçŸ¥æ¶ˆæ¯ã€‚ä½†æ˜¯å¾ˆå¿«æœ‰äººä¼šé—®ï¼šâ€‹â€œä¸ºä»€ä¹ˆä¸åŒæ—¶ä½¿ç”¨å¤šç§é€šçŸ¥å½¢å¼å‘¢ï¼Ÿå¦‚æœæˆ¿å­ç€ç«äº†ï¼Œä½ å¤§æ¦‚ä¼šæƒ³åœ¨æ‰€æœ‰æ¸ é“ä¸­éƒ½æ”¶åˆ°ç›¸åŒçš„æ¶ˆæ¯å§ã€‚â€ä½ å¯ä»¥å°è¯•åˆ›å»ºä¸€ä¸ªç‰¹æ®Šå­ç±»æ¥å°†å¤šç§é€šçŸ¥æ–¹æ³•ç»„åˆåœ¨ä¸€èµ·ä»¥è§£å†³è¯¥é—®é¢˜ã€‚ä½†è¿™ç§æ–¹å¼ä¼šä½¿å¾—ä»£ç é‡è¿…é€Ÿè†¨èƒ€ï¼Œä¸ä»…ä»…æ˜¯ç¨‹åºåº“ä»£ç ï¼Œå®¢æˆ·ç«¯ä»£ç ä¹Ÿä¼šå¦‚æ­¤ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220818203913.png\" alt=\"img\"></p>\n<h5 id=\"è§£å†³æ–¹æ¡ˆ-8\"><a href=\"#è§£å†³æ–¹æ¡ˆ-8\" class=\"headerlink\" title=\"è§£å†³æ–¹æ¡ˆ\"></a>è§£å†³æ–¹æ¡ˆ</h5><p>å½“ä½ éœ€è¦æ›´æ”¹ä¸€ä¸ªå¯¹è±¡çš„è¡Œä¸ºæ—¶ï¼Œç¬¬ä¸€ä¸ªè·³å…¥è„‘æµ·çš„æƒ³æ³•å°±æ˜¯æ‰©å±•å®ƒæ‰€å±çš„ç±»ã€‚ä½†æ˜¯ï¼Œä½ ä¸èƒ½å¿½è§†ç»§æ‰¿å¯èƒ½å¼•å‘çš„å‡ ä¸ªä¸¥é‡é—®é¢˜ã€‚</p>\n<ul>\n<li>ç»§æ‰¿æ˜¯é™æ€çš„ã€‚ä½ æ— æ³•åœ¨è¿è¡Œæ—¶æ›´æ”¹å·²æœ‰å¯¹è±¡çš„è¡Œä¸ºï¼Œåªèƒ½ä½¿ç”¨ç”±ä¸åŒå­ç±»åˆ›å»ºçš„å¯¹è±¡æ¥æ›¿ä»£å½“å‰çš„æ•´ä¸ªå¯¹è±¡ã€‚</li>\n<li>å­ç±»åªèƒ½æœ‰ä¸€ä¸ªçˆ¶ç±»ã€‚å¤§éƒ¨åˆ†ç¼–ç¨‹è¯­è¨€ä¸å…è®¸ä¸€ä¸ªç±»åŒæ—¶ç»§æ‰¿å¤šä¸ªç±»çš„è¡Œä¸ºã€‚</li>\n</ul>\n<p>å…¶ä¸­ä¸€ç§æ–¹æ³•æ˜¯ç”¨<strong>èšåˆæˆ–ç»„åˆ(has a&#x2F;contains a)</strong> ï¼Œè€Œä¸æ˜¯ç»§æ‰¿ã€‚ä¸¤è€…çš„å·¥ä½œæ–¹å¼å‡ ä¹ä¸€æ¨¡ä¸€æ ·ï¼šä¸€ä¸ªå¯¹è±¡åŒ…å«æŒ‡å‘å¦ä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨ï¼Œå¹¶å°†éƒ¨åˆ†å·¥ä½œå§”æ´¾ç»™å¼•ç”¨å¯¹è±¡ï¼›ç»§æ‰¿ä¸­çš„å¯¹è±¡åˆ™ç»§æ‰¿äº†çˆ¶ç±»çš„è¡Œä¸ºï¼Œå®ƒä»¬è‡ªå·±èƒ½å¤Ÿå®Œæˆè¿™äº›å·¥ä½œã€‚ä½ å¯ä»¥ä½¿ç”¨è¿™ä¸ªæ–°æ–¹æ³•æ¥è½»æ¾æ›¿æ¢å„ç§è¿æ¥çš„ â€œå°å¸®æ‰‹â€ å¯¹è±¡ï¼Œä»è€Œèƒ½åœ¨è¿è¡Œæ—¶æ”¹å˜å®¹å™¨çš„è¡Œä¸ºã€‚ä¸€ä¸ªå¯¹è±¡å¯ä»¥ä½¿ç”¨å¤šä¸ªç±»çš„è¡Œä¸ºï¼Œ åŒ…å«å¤šä¸ªæŒ‡å‘å…¶ä»–å¯¹è±¡çš„å¼•ç”¨ï¼Œå¹¶å°†å„ç§å·¥ä½œå§”æ´¾ç»™å¼•ç”¨å¯¹è±¡<strong>èšåˆï¼ˆæˆ–ç»„åˆï¼‰ ç»„åˆæ˜¯è®¸å¤šè®¾è®¡æ¨¡å¼èƒŒåçš„å…³é”®åŸåˆ™ ï¼ˆåŒ…æ‹¬è£…é¥°åœ¨å†…ï¼‰ã€‚è®°ä½è¿™ä¸€ç‚¹åï¼Œè®©æˆ‘ä»¬ç»§ç»­å…³äºæ¨¡å¼çš„è®¨è®º</strong>ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220818204142.png\" alt=\"img\"></p>\n<p>é‚£ä¹ˆä»€ä¹ˆæ—¶å€™ä¸€ä¸ªç®€å•çš„å°è£…å™¨å¯ä»¥è¢«ç§°ä¸ºæ˜¯çœŸæ­£çš„è£…é¥°å‘¢ï¼Ÿæ­£å¦‚ä¹‹å‰æåˆ°çš„ï¼Œå°è£…å™¨å®ç°äº†ä¸å…¶å°è£…å¯¹è±¡ç›¸åŒçš„æ¥å£ã€‚å› æ­¤ä»å®¢æˆ·ç«¯çš„è§’åº¦æ¥çœ‹ï¼Œè¿™äº›å¯¹è±¡æ˜¯<strong>å®Œå…¨ä¸€æ ·</strong>çš„ã€‚å°è£…å™¨ä¸­çš„å¼•ç”¨æˆå‘˜å˜é‡å¯ä»¥æ˜¯éµå¾ªç›¸åŒæ¥å£çš„ä»»æ„å¯¹è±¡ã€‚è¿™ä½¿å¾—ä½ å¯ä»¥å°†<strong>ä¸€ä¸ªå¯¹è±¡æ”¾å…¥å¤šä¸ªå°è£…å™¨</strong>ä¸­ï¼Œå¹¶åœ¨å¯¹è±¡ä¸­æ·»åŠ æ‰€æœ‰è¿™äº›å°è£…å™¨çš„ç»„åˆè¡Œä¸ºã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220818205047.png\" alt=\"img\"></p>\n<h5 id=\"è£…é¥°æ¨¡å¼ç»“æ„\"><a href=\"#è£…é¥°æ¨¡å¼ç»“æ„\" class=\"headerlink\" title=\"è£…é¥°æ¨¡å¼ç»“æ„\"></a>è£…é¥°æ¨¡å¼ç»“æ„</h5><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220818205848.png\" alt=\"img\"></p>\n<p>1.<strong>éƒ¨ä»¶(ComÂ­poÂ­nent)</strong> å£°æ˜å°è£…å™¨å’Œè¢«å°è£…å¯¹è±¡çš„å…¬ç”¨æ¥å£ã€‚</p>\n<p>2.<strong>å…·ä½“éƒ¨ä»¶(ConÂ­crete ComÂ­poÂ­nent)</strong> ç±»æ˜¯è¢«å°è£…å¯¹è±¡æ‰€å±çš„ç±»ã€‚ å®ƒå®šä¹‰äº†åŸºç¡€è¡Œä¸ºï¼Œ ä½†è£…é¥°ç±»å¯ä»¥æ”¹å˜è¿™äº›è¡Œä¸ºã€‚</p>\n<p>3.<strong>åŸºç¡€è£…é¥°(Base DecÂ­oÂ­raÂ­tor)</strong> ç±»æ‹¥æœ‰ä¸€ä¸ªæŒ‡å‘è¢«å°è£…å¯¹è±¡çš„å¼•ç”¨æˆå‘˜å˜é‡ã€‚ è¯¥å˜é‡çš„ç±»å‹åº”å½“è¢«å£°æ˜ä¸ºé€šç”¨éƒ¨ä»¶æ¥å£ï¼Œ è¿™æ ·å®ƒå°±å¯ä»¥å¼•ç”¨å…·ä½“çš„éƒ¨ä»¶å’Œè£…é¥°ã€‚ è£…é¥°åŸºç±»ä¼šå°†æ‰€æœ‰æ“ä½œå§”æ´¾ç»™è¢«å°è£…çš„å¯¹è±¡ã€‚</p>\n<p>4.<strong>å…·ä½“è£…é¥°ç±»(ConÂ­crete DecÂ­oÂ­raÂ­tors)</strong> å®šä¹‰äº†å¯åŠ¨æ€æ·»åŠ åˆ°éƒ¨ä»¶çš„é¢å¤–è¡Œä¸ºã€‚ å…·ä½“è£…é¥°ç±»ä¼šé‡å†™è£…é¥°åŸºç±»çš„æ–¹æ³•ï¼Œ å¹¶åœ¨è°ƒç”¨çˆ¶ç±»æ–¹æ³•ä¹‹å‰æˆ–ä¹‹åè¿›è¡Œé¢å¤–çš„è¡Œä¸ºã€‚</p>\n<p>5.<strong>å®¢æˆ·ç«¯(Client)</strong> å¯ä»¥ä½¿ç”¨å¤šå±‚è£…é¥°æ¥å°è£…éƒ¨ä»¶ï¼Œ åªè¦å®ƒèƒ½ä½¿ç”¨é€šç”¨æ¥å£ä¸æ‰€æœ‰å¯¹è±¡äº’åŠ¨å³å¯ã€‚</p>\n<h5 id=\"ä¼ªä»£ç -8\"><a href=\"#ä¼ªä»£ç -8\" class=\"headerlink\" title=\"ä¼ªä»£ç \"></a>ä¼ªä»£ç </h5><p>ä»…ä»…çœ‹ä¸Šé¢çš„å†…å®¹åªæ˜¯çŸ¥é“ä¸ªå¤§æ¦‚ï¼Œæ¥çœ‹çœ‹æ›´å…·ä½“çš„ä¾‹å­ä»¥åŠå†™å†™ä¸€äº›ä¸é‚£ä¹ˆä¼ªçš„ä¼ªä»£ç ã€‚</p>\n<p><strong>ç¬¬ä¸€ä¸ªä¾‹å­ï¼Œc#ç±»å‹çš„å¤§æ¦‚ç»“æ„</strong> :</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//å®šä¹‰æŠ½è±¡Componentç±»ï¼Œå‡†å¤‡è¢«å…·ä½“Componentç±»å’ŒBase Decoratorç±»ç»§æ‰¿</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> <span class=\"keyword\">class</span> <span class=\"title\">Component</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> <span class=\"built_in\">string</span> <span class=\"title\">Operation</span>()</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//å…·ä½“Componentç±»å®šä¹‰äº†åŸºç¡€è¡Œä¸ºï¼Œè£…é¥°å™¨å°±æ˜¯ä¿®é¥°è¿™äº›è¡Œä¸º</span></span><br><span class=\"line\"><span class=\"comment\">//æ¯”å¦‚è¯´ä½ è¦ç”»ä¸€ä¸ªåœ†ï¼Œè¿™æ˜¯æœ¬èº«è¦å¹²çš„äº‹æƒ…</span></span><br><span class=\"line\"><span class=\"comment\">//å¦‚æœè¦ç”»ä¸€ä¸ªçº¢è‰²çš„åœ†ï¼Œå¯ä»¥ç”¨ä¿®é¥°å™¨æ¥ä¿®é¥°è¿™ä¸ªè¡Œä¸º</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">ConcreteComponent</span> : <span class=\"title\">Component</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">override</span> <span class=\"built_in\">string</span> <span class=\"title\">Operation</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">&quot;ConcreteComponent&quot;</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//è£…é¥°å™¨è¦è·Ÿå…·ä½“ç»„ä»¶ç»§æ‰¿ç›¸åŒçš„ç±»</span></span><br><span class=\"line\"><span class=\"comment\">//è¯¥ç±»ä¸»è¦ä¸ºäº†å®šä¹‰æ‰€æœ‰å…·ä½“è£…é¥°ç±»çš„æ¥å£ã€‚</span></span><br><span class=\"line\"><span class=\"comment\">//é€šå¸¸æœ‰ä¸€ä¸ªå…³äºComponentçš„æˆå‘˜å˜é‡,å¹¶ä¸”è¦åˆå§‹åŒ–</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> <span class=\"keyword\">class</span> <span class=\"title\">Decorator</span> : <span class=\"title\">Component</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">protected</span> Component _component;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//åˆå§‹åŒ–</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">Decorator</span>(<span class=\"params\">Component component</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._component = component;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">override</span> <span class=\"built_in\">string</span> <span class=\"title\">Operation</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"keyword\">this</span>._component != <span class=\"literal\">null</span>)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>._component.Operation();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">else</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"built_in\">string</span>.Empty;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">ConcreteDecoratorA</span> : <span class=\"title\">Decorator</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">ConcreteDecoratorA</span>(<span class=\"params\">Component component</span>) : <span class=\"title\">base</span>(<span class=\"params\">component</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">//ç»§æ‰¿åˆå§‹åŒ–</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">override</span> <span class=\"built_in\">string</span> <span class=\"title\">Operation</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">$&quot;ConcreteDecoratorA(<span class=\"subst\">&#123;<span class=\"keyword\">base</span>.Operation()&#125;</span>)&quot;</span>;</span><br><span class=\"line\">    &#125;   </span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">ConcreteDecoratorB</span> : <span class=\"title\">Decorator</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">ConcreteDecoratorB</span>(<span class=\"params\">Component component</span>) : <span class=\"title\">base</span>(<span class=\"params\">component</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">//ç»§æ‰¿åˆå§‹åŒ–</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">override</span> <span class=\"built_in\">string</span> <span class=\"title\">Operation</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">$&quot;ConcreteDecoratorB(<span class=\"subst\">&#123;<span class=\"keyword\">base</span>.Operation()&#125;</span>)&quot;</span>;</span><br><span class=\"line\">    &#125;   </span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">Client</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">ClientCode</span>(<span class=\"params\">Component component</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Console.WriteLine(<span class=\"string\">&quot;RESULT: &quot;</span> + component.Operation());</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//å®¢æˆ·ç«¯ä»£ç </span></span><br><span class=\"line\">Client client = <span class=\"keyword\">new</span> Client();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> simple = <span class=\"keyword\">new</span> ConcreteComponent();</span><br><span class=\"line\"> Console.WriteLine(<span class=\"string\">&quot;Client: I get a simple component:&quot;</span>);</span><br><span class=\"line\">client.ClientCode(simple);</span><br><span class=\"line\">Console.WriteLine();</span><br><span class=\"line\"></span><br><span class=\"line\">ConcreteDecoratorA decorator1 = <span class=\"keyword\">new</span> ConcreteDecoratorA(simple);</span><br><span class=\"line\">ConcreteDecoratorB decorator2 = <span class=\"keyword\">new</span> ConcreteDecoratorB(decorator1);</span><br><span class=\"line\">Console.WriteLine(<span class=\"string\">&quot;Client: Now I&#x27;ve got a decorated component:&quot;</span>);</span><br><span class=\"line\">client.ClientCode(decorator2);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/*æ¼”ç¤ºç»“æœ</span></span><br><span class=\"line\"><span class=\"comment\">Client: I get a simple component:</span></span><br><span class=\"line\"><span class=\"comment\">RESULT: ConcreteComponent</span></span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\">Client: Now I&#x27;ve got a decorated component:</span></span><br><span class=\"line\"><span class=\"comment\">RESULT: ConcreteDecoratorB(ConcreteDecoratorA(ConcreteComponent))</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br></pre></td></tr></table></figure>\n\n<p>ä¸Šä¸€ä¸ªä¾‹å­åŸºæœ¬ä¸Šå¯ä»¥çŸ¥é“å¤§æ¦‚çš„è¿ä½œæ–¹å¼ï¼Œä½†æ˜¯å¯¹äºä½¿ç”¨è¿˜ä¸èƒ½å¤Ÿäº†è§£ï¼Œæ¥ä¸‹æ¥çœ‹ä¸€ä¸ªæ¯”è¾ƒç®€å•çš„ä¾‹å­ï¼Œå¯ä»¥å¾ˆå®¹æ˜“ä½“ç°è£…é¥°å™¨æ˜¯åœ¨<strong>è£…é¥°å…·ä½“ç»„ä»¶çš„è¡Œä¸º</strong>ï¼Œæ„Ÿè§‰å°±è·Ÿc#ä¸€æ ·ï¼Œå¦‚æœ<strong>Component</strong>ç›¸å½“äºc#çš„æŠ½è±¡ç±»ï¼Œé‚£ä¹ˆ<strong>Decorator</strong>å°±ç›¸å½“äºc#çš„æ¥å£ï¼ˆä½†æ˜¯å®é™…ä¸Šc#çš„æ¥å£ä¸èƒ½ç»§æ‰¿ç±»ï¼‰</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220818212043.png\" alt=\"img\"></p>\n<p>å›¾æ˜¯javaçš„ç¤ºæ„å›¾ï¼Œä½†æ˜¯æˆ‘è¿™é‡Œç”¨c#å†™å‡ºæ¥</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//Componentç±»</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> <span class=\"keyword\">class</span> <span class=\"title\">Shape</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> <span class=\"keyword\">void</span> <span class=\"title\">draw</span>()</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//Concrete Component ç±»</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">Rectangle</span> : <span class=\"title\">Shape</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">override</span> <span class=\"keyword\">void</span> <span class=\"title\">draw</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Console.WriteLine(<span class=\"string\">&quot;Shape:Rectangle&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//Concrete Component ç±»</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">Circle</span> : <span class=\"title\">Shape</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">override</span> <span class=\"keyword\">void</span> <span class=\"title\">draw</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Console.WriteLine(<span class=\"string\">&quot;Shape:Circle&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//æŠ½è±¡Base Decoratorç±»</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> <span class=\"keyword\">class</span> <span class=\"title\">ShapeDecorator</span> : <span class=\"title\">Shape</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">protected</span> Shape decoratedShape;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">ShapeDecorator</span>(<span class=\"params\">Shape shape</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.decoratedShape = shape;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">override</span> <span class=\"keyword\">void</span> <span class=\"title\">draw</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        decoratedShape.draw();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//Concrete Decoratorç±»</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">RedShapeDecorator</span> : <span class=\"title\">ShapeDecorator</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">RedShapeDecorator</span>(<span class=\"params\">Shape shape</span>) : <span class=\"title\">base</span> (<span class=\"params\">shape</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">//ç»§æ‰¿åˆå§‹åŒ–</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">override</span> <span class=\"keyword\">void</span> <span class=\"title\">draw</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Console.Write(<span class=\"string\">&quot;Red + &quot;</span>);</span><br><span class=\"line\">        <span class=\"keyword\">base</span>.draw();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//å®¢æˆ·ç«¯ä»£ç </span></span><br><span class=\"line\"><span class=\"keyword\">var</span> circle = <span class=\"keyword\">new</span> Circle();</span><br><span class=\"line\">ShapeDecorator redCircle = <span class=\"keyword\">new</span> RedShapeDecorator(<span class=\"keyword\">new</span> Circle());</span><br><span class=\"line\">ShapeDecorator redRectangle = <span class=\"keyword\">new</span> RedShapeDecorator(<span class=\"keyword\">new</span> Rectangle());</span><br><span class=\"line\"></span><br><span class=\"line\">Console.WriteLine(<span class=\"string\">&quot;Circle with normal border&quot;</span>);</span><br><span class=\"line\">circle.draw();</span><br><span class=\"line\"></span><br><span class=\"line\">Console.WriteLine(<span class=\"string\">&quot;\\nCircle of red border&quot;</span>);</span><br><span class=\"line\">redCircle.draw();</span><br><span class=\"line\"></span><br><span class=\"line\">Console.WriteLine(<span class=\"string\">&quot;\\nRectangle of red border&quot;</span>);</span><br><span class=\"line\">redRectangle.draw();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/*è¿è¡Œç»“æœ</span></span><br><span class=\"line\"><span class=\"comment\">Circle with normal border</span></span><br><span class=\"line\"><span class=\"comment\">Shape:Circle</span></span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\">Circle of red border</span></span><br><span class=\"line\"><span class=\"comment\">Red + Shape:Circle</span></span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\">Rectangle of red border</span></span><br><span class=\"line\"><span class=\"comment\">Red + Shape:Rectangle</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br></pre></td></tr></table></figure>\n\n<h5 id=\"é€‚åˆè£…é¥°æ¨¡å¼çš„åœ°æ–¹\"><a href=\"#é€‚åˆè£…é¥°æ¨¡å¼çš„åœ°æ–¹\" class=\"headerlink\" title=\"é€‚åˆè£…é¥°æ¨¡å¼çš„åœ°æ–¹\"></a>é€‚åˆè£…é¥°æ¨¡å¼çš„åœ°æ–¹</h5><ul>\n<li>å¦‚æœä½ å¸Œæœ›åœ¨æ— éœ€ä¿®æ”¹ä»£ç çš„æƒ…å†µä¸‹å³å¯ä½¿ç”¨å¯¹è±¡ï¼Œä¸”å¸Œæœ›åœ¨è¿è¡Œæ—¶ä¸ºå¯¹è±¡æ–°å¢é¢å¤–çš„è¡Œä¸ºï¼Œå¯ä»¥ä½¿ç”¨è£…é¥°æ¨¡å¼ã€‚</li>\n<li>å¦‚æœç”¨ç»§æ‰¿æ¥æ‰©å±•å¯¹è±¡è¡Œä¸ºçš„æ–¹æ¡ˆéš¾ä»¥å®ç°æˆ–è€…æ ¹æœ¬ä¸å¯è¡Œï¼Œä½ å¯ä»¥ä½¿ç”¨è¯¥æ¨¡å¼ã€‚</li>\n</ul>\n<h5 id=\"è£…é¥°æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"><a href=\"#è£…é¥°æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\" class=\"headerlink\" title=\"è£…é¥°æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"></a>è£…é¥°æ¨¡å¼çš„ä¼˜ç¼ºç‚¹</h5><p><strong>ä¼˜ç‚¹</strong> ï¼š</p>\n<ul>\n<li>ä½ æ— éœ€åˆ›å»ºæ–°å­ç±»å³å¯æ‰©å±•å¯¹è±¡çš„è¡Œä¸ºã€‚</li>\n<li>ä½ å¯ä»¥åœ¨è¿è¡Œæ—¶æ·»åŠ æˆ–åˆ é™¤å¯¹è±¡çš„åŠŸèƒ½ã€‚</li>\n<li>ä½ å¯ä»¥ç”¨å¤šä¸ªè£…é¥°å°è£…å¯¹è±¡æ¥ç»„åˆå‡ ç§è¡Œä¸ºã€‚</li>\n<li>ç¬¦åˆSRP</li>\n</ul>\n<p><strong>ç¼ºç‚¹</strong> ï¼š</p>\n<ul>\n<li>åœ¨å°è£…å™¨æ ˆä¸­åˆ é™¤ç‰¹å®šå°è£…å™¨æ¯”è¾ƒå›°éš¾ã€‚</li>\n<li>å®ç°è¡Œä¸ºä¸å—è£…é¥°æ ˆé¡ºåºå½±å“çš„è£…é¥°æ¯”è¾ƒå›°éš¾ã€‚</li>\n<li>å„å±‚çš„åˆå§‹åŒ–é…ç½®ä»£ç çœ‹ä¸Šå»å¯èƒ½ä¼šå¾ˆç³Ÿç³•ã€‚</li>\n</ul>\n<h4 id=\"Fecade-å¤–è§‚æ¨¡å¼-x2F-é—¨é¢æ¨¡å¼\"><a href=\"#Fecade-å¤–è§‚æ¨¡å¼-x2F-é—¨é¢æ¨¡å¼\" class=\"headerlink\" title=\"Fecade(å¤–è§‚æ¨¡å¼&#x2F;é—¨é¢æ¨¡å¼)\"></a>Fecade(å¤–è§‚æ¨¡å¼&#x2F;é—¨é¢æ¨¡å¼)</h4><p>å¤–è§‚æ¨¡å¼æ˜¯ä¸€ç§ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼Œèƒ½ä¸ºç¨‹åºåº“ã€æ¡†æ¶æˆ–å…¶ä»–å¤æ‚ç±»æä¾›ä¸€ä¸ªç®€å•çš„æ¥å£ã€‚</p>\n<h5 id=\"é—®é¢˜-9\"><a href=\"#é—®é¢˜-9\" class=\"headerlink\" title=\"é—®é¢˜\"></a>é—®é¢˜</h5><p>å‡è®¾ä½ å¿…é¡»åœ¨ä»£ç ä¸­ä½¿ç”¨æŸä¸ª<strong>å¤æ‚çš„åº“æˆ–æ¡†æ¶ä¸­çš„ä¼—å¤šå¯¹è±¡</strong>ã€‚æ­£å¸¸æƒ…å†µä¸‹ï¼Œä½ éœ€è¦è´Ÿè´£æ‰€æœ‰å¯¹è±¡çš„åˆå§‹åŒ–å·¥ä½œã€ç®¡ç†å…¶ä¾èµ–å…³ç³»å¹¶æŒ‰æ­£ç¡®çš„é¡ºåºæ‰§è¡Œæ–¹æ³•ç­‰ã€‚æœ€ç»ˆï¼Œç¨‹åºä¸­ç±»çš„ä¸šåŠ¡é€»è¾‘å°†ä¸ç¬¬ä¸‰æ–¹ç±»çš„å®ç°ç»†èŠ‚ç´§å¯†è€¦åˆï¼Œä½¿å¾—ç†è§£å’Œç»´æŠ¤ä»£ç çš„å·¥ä½œå¾ˆéš¾è¿›è¡Œã€‚</p>\n<h5 id=\"è§£å†³æ–¹æ¡ˆ-9\"><a href=\"#è§£å†³æ–¹æ¡ˆ-9\" class=\"headerlink\" title=\"è§£å†³æ–¹æ¡ˆ\"></a>è§£å†³æ–¹æ¡ˆ</h5><p>å¤–è§‚ç±»ä¸ºåŒ…å«è®¸å¤šæ´»åŠ¨éƒ¨ä»¶çš„<strong>å¤æ‚å­ç³»ç»Ÿæä¾›ä¸€ä¸ªç®€å•çš„æ¥å£</strong>ã€‚ä¸ç›´æ¥è°ƒç”¨å­ç³»ç»Ÿç›¸æ¯”ï¼Œ å¤–è§‚æä¾›çš„åŠŸèƒ½å¯èƒ½æ¯”è¾ƒæœ‰é™ï¼Œ ä½†å®ƒå´åŒ…å«äº†å®¢æˆ·ç«¯çœŸæ­£å…³å¿ƒçš„åŠŸèƒ½ã€‚</p>\n<h5 id=\"å¤–è§‚æ¨¡å¼ç»“æ„\"><a href=\"#å¤–è§‚æ¨¡å¼ç»“æ„\" class=\"headerlink\" title=\"å¤–è§‚æ¨¡å¼ç»“æ„\"></a>å¤–è§‚æ¨¡å¼ç»“æ„</h5><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220818223832.png\" alt=\"img\"></p>\n<p>1.<strong>å¤–è§‚(Facade)</strong> æä¾›äº†ä¸€ç§è®¿é—®ç‰¹å®šå­ç³»ç»ŸåŠŸèƒ½çš„ä¾¿æ·æ–¹å¼ï¼Œ å…¶äº†è§£å¦‚ä½•é‡å®šå‘å®¢æˆ·ç«¯è¯·æ±‚ï¼Œ çŸ¥æ™“å¦‚ä½•æ“ä½œä¸€åˆ‡æ´»åŠ¨éƒ¨ä»¶ã€‚</p>\n<p>2.**åˆ›å»ºé™„åŠ å¤–è§‚(AddiÂ­tionÂ­al Facade)**ç±»å¯ä»¥é¿å…å¤šç§ä¸ç›¸å…³çš„åŠŸèƒ½æ±¡æŸ“å•ä¸€å¤–è§‚ï¼Œ ä½¿å…¶å˜æˆåˆä¸€ä¸ªå¤æ‚ç»“æ„ã€‚ å®¢æˆ·ç«¯å’Œå…¶ä»–å¤–è§‚éƒ½å¯ä½¿ç”¨é™„åŠ å¤–è§‚ã€‚</p>\n<p>3.<strong>å¤æ‚å­ç³»ç»Ÿ(ComÂ­plex SubÂ­sysÂ­tem)</strong> ç”±æ•°åä¸ªä¸åŒå¯¹è±¡æ„æˆã€‚å¦‚æœè¦ç”¨è¿™äº›å¯¹è±¡å®Œæˆæœ‰æ„ä¹‰çš„å·¥ä½œï¼Œä½ å¿…é¡»æ·±å…¥äº†è§£å­ç³»ç»Ÿçš„å®ç°ç»†èŠ‚ï¼Œæ¯”å¦‚æŒ‰ç…§æ­£ç¡®é¡ºåºåˆå§‹åŒ–å¯¹è±¡å’Œä¸ºå…¶æä¾›æ­£ç¡®æ ¼å¼çš„æ•°æ®ã€‚<br>å­ç³»ç»Ÿç±»ä¸ä¼šæ„è¯†åˆ°å¤–è§‚çš„å­˜åœ¨ï¼Œå®ƒä»¬åœ¨ç³»ç»Ÿå†…è¿ä½œå¹¶ä¸”ç›¸äº’ä¹‹é—´å¯ç›´æ¥è¿›è¡Œäº¤äº’ã€‚</p>\n<p>4.<strong>å®¢æˆ·ç«¯(Client)</strong> ä½¿ç”¨å¤–è§‚ä»£æ›¿å¯¹å­ç³»ç»Ÿå¯¹è±¡çš„ç›´æ¥è°ƒç”¨ã€‚</p>\n<h5 id=\"ä¼ªä»£ç -9\"><a href=\"#ä¼ªä»£ç -9\" class=\"headerlink\" title=\"ä¼ªä»£ç \"></a>ä¼ªä»£ç </h5><p>åœ¨æœ¬ä¾‹ä¸­ï¼Œå¤–è§‚æ¨¡å¼ç®€åŒ–äº†å®¢æˆ·ç«¯ä¸å¤æ‚è§†é¢‘è½¬æ¢æ¡†æ¶ä¹‹é—´çš„äº¤äº’ã€‚ä½ å¯ä»¥åˆ›å»ºä¸€ä¸ªå°è£…æ‰€éœ€åŠŸèƒ½å¹¶éšè—å…¶ä»–ä»£ç çš„å¤–è§‚ç±»ï¼Œä»è€Œæ— éœ€ä½¿å…¨éƒ¨ä»£ç ç›´æ¥ä¸æ•°åä¸ªæ¡†æ¶ç±»è¿›è¡Œäº¤äº’ã€‚è¯¥ç»“æ„è¿˜èƒ½å°†æœªæ¥æ¡†æ¶å‡çº§æˆ–æ›´æ¢æ‰€é€ æˆçš„å½±å“æœ€å°åŒ–ï¼Œå› ä¸ºä½ åªéœ€ä¿®æ”¹ç¨‹åºä¸­å¤–è§‚æ–¹æ³•çš„å®ç°å³å¯ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220818224224.png\" alt=\"img\"></p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//å„ç§å­ç³»ç»Ÿç±»</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">VideoFile</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">// ...</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">OggCompressionCodec</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">// ...</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">MPEG4CompressionCodec</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">// ...</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">CodecFactory</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">// ...</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">BitrateReader</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">// ...</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">AudioMixer</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">// ...</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//ä¸€ä¸ªå¤–è§‚ç±»ï¼Œç›®çš„æ˜¯ä¸ºäº†å°†å¾ˆå¤šçš„å­ç³»ç»Ÿç±»è½¬æ¢æˆä¸€ä¸ªæ¥å£æ¥ç»™å®¢æˆ·ç«¯çœ‹</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">VideoConverter</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">//å‡è®¾è¿”å›ç±»å‹å°±æ˜¯Fileç±»</span></span><br><span class=\"line\">    <span class=\"comment\">//ä¸è¦åœ¨æ„é‡Œé¢çš„å…·ä½“å†…å®¹ï¼Œåªç”¨çŸ¥é“è¿™æ˜¯ä¸ªè½¬åŒ–å™¨å°±è¡Œäº†</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> File <span class=\"title\">converter</span>(<span class=\"params\">filename,format</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        File file = <span class=\"keyword\">new</span> VideoFile(filename);</span><br><span class=\"line\">        CodecFactory sourceCodec = <span class=\"keyword\">new</span> CodecFactory.extract(file);</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (format == <span class=\"string\">&quot;mp4&quot;</span>)</span><br><span class=\"line\">            MPEG4CompressionCodec destinationCodec = <span class=\"keyword\">new</span> MPEG4CompressionCodec();</span><br><span class=\"line\">        <span class=\"keyword\">else</span></span><br><span class=\"line\">            OggCompressionCodec destinationCodec = <span class=\"keyword\">new</span> OggCompressionCodec();</span><br><span class=\"line\">        BitrateReader buffer = BitrateReader.read(filename, sourceCodec);</span><br><span class=\"line\">        BitrateReader result = BitrateReader.convert(buffer, destinationCodec);</span><br><span class=\"line\">        AudioMixer result = (<span class=\"keyword\">new</span> AudioMixer()).fix(result);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> File(result);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//å®¢æˆ·ç«¯ä»£ç </span></span><br><span class=\"line\"><span class=\"keyword\">var</span> convertor = <span class=\"keyword\">new</span> VideoConverter();</span><br><span class=\"line\"><span class=\"keyword\">var</span> mp4 = convertor.convert(<span class=\"string\">&quot;funny-cats-video.ogg&quot;</span>, <span class=\"string\">&quot;mp4&quot;</span>)</span><br><span class=\"line\">mp4.save()</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"é€‚åˆå¤–è§‚æ¨¡å¼çš„åœ°æ–¹\"><a href=\"#é€‚åˆå¤–è§‚æ¨¡å¼çš„åœ°æ–¹\" class=\"headerlink\" title=\"é€‚åˆå¤–è§‚æ¨¡å¼çš„åœ°æ–¹\"></a>é€‚åˆå¤–è§‚æ¨¡å¼çš„åœ°æ–¹</h5><ul>\n<li>å¦‚æœä½ éœ€è¦ä¸€ä¸ªæŒ‡å‘å¤æ‚å­ç³»ç»Ÿçš„ç›´æ¥æ¥å£ï¼Œä¸”è¯¥æ¥å£çš„åŠŸèƒ½æœ‰é™ï¼Œåˆ™å¯ä»¥ä½¿ç”¨å¤–è§‚æ¨¡å¼ã€‚</li>\n<li>å¦‚æœéœ€è¦å°†å­ç³»ç»Ÿç»„ç»‡ä¸ºå¤šå±‚ç»“æ„ï¼Œå¯ä»¥ä½¿ç”¨å¤–è§‚ã€‚</li>\n</ul>\n<h5 id=\"å¤–è§‚æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"><a href=\"#å¤–è§‚æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\" class=\"headerlink\" title=\"å¤–è§‚æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"></a>å¤–è§‚æ¨¡å¼çš„ä¼˜ç¼ºç‚¹</h5><p><strong>ä¼˜ç‚¹</strong> ï¼š</p>\n<ul>\n<li>ä½ å¯ä»¥è®©è‡ªå·±çš„ä»£ç ç‹¬ç«‹äºå¤æ‚å­ç³»ç»Ÿã€‚</li>\n</ul>\n<p><strong>ç¼ºç‚¹</strong> ï¼š</p>\n<ul>\n<li>å¤–è§‚å¯èƒ½æˆä¸ºä¸ç¨‹åºä¸­æ‰€æœ‰ç±»éƒ½è€¦åˆçš„ä¸Šå¸å¯¹è±¡ï¼ˆä¸€ä¸ªä¸Šå¸å¯¹è±¡(God object)æ˜¯ä¸€ä¸ªäº†è§£è¿‡å¤šæˆ–è€…è´Ÿè´£è¿‡å¤šçš„å¯¹è±¡ï¼‰</li>\n</ul>\n<h4 id=\"Flyweight-äº«å…ƒæ¨¡å¼\"><a href=\"#Flyweight-äº«å…ƒæ¨¡å¼\" class=\"headerlink\" title=\"Flyweight(äº«å…ƒæ¨¡å¼)\"></a>Flyweight(äº«å…ƒæ¨¡å¼)</h4><p>äº«å…ƒæ¨¡å¼æ˜¯ä¸€ç§ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼Œå®ƒæ‘’å¼ƒäº†åœ¨æ¯ä¸ªå¯¹è±¡ä¸­ä¿å­˜æ‰€æœ‰æ•°æ®çš„æ–¹å¼ï¼Œé€šè¿‡å…±äº«å¤šä¸ªå¯¹è±¡æ‰€å…±æœ‰çš„ç›¸åŒçŠ¶æ€ï¼Œè®©ä½ èƒ½åœ¨æœ‰é™çš„å†…å­˜å®¹é‡ä¸­è½½å…¥æ›´å¤šå¯¹è±¡ã€‚ç®€å•æ¥è¯´ï¼Œå°±æ˜¯æå–ä¸€ä¸ªå¤§ç±»ä¸­å…±åŒçš„ä¸å˜çš„å†…å®¹çš„ä¸ºä¸€ä¸ªç±»å’Œä¸€ä¸ªéœ€è¦ç»å¸¸ç”Ÿæˆçš„å˜åŒ–çŠ¶æ€çš„ç±»ã€‚</p>\n<h5 id=\"é—®é¢˜-10\"><a href=\"#é—®é¢˜-10\" class=\"headerlink\" title=\"é—®é¢˜\"></a>é—®é¢˜</h5><p>çœŸæ­£çš„é—®é¢˜ä¸ç²’å­ç³»ç»Ÿæœ‰å…³ã€‚æ¯ä¸ªç²’å­ ï¼ˆä¸€é¢—å­å¼¹ã€ ä¸€æšå¯¼å¼¹æˆ–ä¸€å—å¼¹ç‰‡ï¼‰ éƒ½ç”±åŒ…å«å®Œæ•´æ•°æ®çš„ç‹¬ç«‹å¯¹è±¡æ¥è¡¨ç¤ºã€‚å½“ç©å®¶åœ¨æ¸¸æˆä¸­é–æˆ˜è¿›å…¥é«˜æ½®åçš„æŸä¸€æ—¶åˆ»ï¼Œæ¸¸æˆå°†æ— æ³•åœ¨å‰©ä½™å†…å­˜ä¸­è½½å…¥æ–°å»ºç²’å­ï¼Œäºæ˜¯ç¨‹åºå°±å´©æºƒäº†ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220818230038.png\" alt=\"img\"></p>\n<h5 id=\"è§£å†³æ–¹æ¡ˆ-10\"><a href=\"#è§£å†³æ–¹æ¡ˆ-10\" class=\"headerlink\" title=\"è§£å†³æ–¹æ¡ˆ\"></a>è§£å†³æ–¹æ¡ˆ</h5><p>ä»”ç»†è§‚å¯Ÿ<strong>ç²’å­ParÂ­tiÂ­cleç±»</strong>ï¼Œ ä½ å¯èƒ½ä¼šæ³¨æ„åˆ°<strong>é¢œè‰²(color)å’Œç²¾çµå›¾(sprite)<strong>è¿™ä¸¤ä¸ªæˆå‘˜å˜é‡æ‰€æ¶ˆè€—çš„å†…å­˜è¦æ¯”å…¶ä»–å˜é‡å¤šå¾—å¤šã€‚æ›´ç³Ÿç³•çš„æ˜¯ï¼Œå¯¹äºæ‰€æœ‰çš„ç²’å­æ¥è¯´ï¼Œ</strong>è¿™ä¸¤ä¸ªæˆå‘˜å˜é‡æ‰€å­˜å‚¨çš„æ•°æ®å‡ ä¹å®Œå…¨ä¸€æ ·</strong> ï¼ˆæ¯”å¦‚æ‰€æœ‰å­å¼¹çš„é¢œè‰²å’Œç²¾çµå›¾éƒ½ä¸€æ ·ï¼‰ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220818230148.png\" alt=\"img\"></p>\n<p>æ¯ä¸ªç²’å­çš„å¦ä¸€äº›çŠ¶æ€ ï¼ˆåæ ‡ã€ ç§»åŠ¨çŸ¢é‡å’Œé€Ÿåº¦ï¼‰ åˆ™æ˜¯ä¸åŒçš„ã€‚å› ä¸ºè¿™äº›æˆå‘˜å˜é‡çš„æ•°å€¼ä¼šä¸æ–­å˜åŒ–ã€‚ è¿™äº›æ•°æ®ä»£è¡¨ç²’å­åœ¨å­˜ç»­æœŸé—´ä¸æ–­å˜åŒ–çš„æƒ…æ™¯ï¼Œä½†æ¯ä¸ªç²’å­çš„é¢œè‰²å’Œç²¾çµå›¾åˆ™ä¼šä¿æŒä¸å˜ã€‚<br>å¯¹è±¡çš„å¸¸é‡æ•°æ®é€šå¸¸è¢«ç§°ä¸º<strong>å†…åœ¨çŠ¶æ€</strong>ï¼Œå…¶ä½äºå¯¹è±¡ä¸­ï¼Œå…¶ä»–å¯¹è±¡åªèƒ½è¯»å–ä½†ä¸èƒ½ä¿®æ”¹å…¶æ•°å€¼ã€‚è€Œå¯¹è±¡çš„å…¶ä»–çŠ¶æ€å¸¸å¸¸èƒ½è¢«å…¶ä»–å¯¹è±¡ â€œä»å¤–éƒ¨â€ æ”¹å˜ï¼Œå› æ­¤è¢«ç§°ä¸º<strong>å¤–åœ¨çŠ¶æ€</strong>ã€‚<br>æˆ‘ä»¬å°†è¿™æ ·ä¸€ä¸ª<strong>ä»…å­˜å‚¨å†…åœ¨çŠ¶æ€çš„å¯¹è±¡ç§°ä¸ºäº«å…ƒ</strong>ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220818230930.png\" alt=\"img\"></p>\n<p><strong>äº«å…ƒä¸ä¸å¯å˜æ€§</strong> :<br>ç”±äºäº«å…ƒå¯¹è±¡å¯åœ¨ä¸åŒçš„æƒ…æ™¯ä¸­ä½¿ç”¨ï¼Œä½ å¿…é¡»ç¡®ä¿å…¶çŠ¶æ€ä¸èƒ½è¢«ä¿®æ”¹ã€‚<strong>äº«å…ƒç±»çš„çŠ¶æ€åªèƒ½ç”±æ„é€ å‡½æ•°çš„å‚æ•°è¿›è¡Œä¸€æ¬¡æ€§åˆå§‹åŒ–</strong>ï¼Œå®ƒä¸èƒ½å¯¹å…¶ä»–å¯¹è±¡å…¬å¼€å…¶è®¾ç½®å™¨æˆ–å…¬æœ‰æˆå‘˜å˜é‡ã€‚</p>\n<p><strong>äº«å…ƒå·¥å‚</strong> :<br>ä¸ºäº†èƒ½æ›´æ–¹ä¾¿åœ°è®¿é—®å„ç§äº«å…ƒï¼Œä½ å¯ä»¥åˆ›å»ºä¸€ä¸ªå·¥å‚æ–¹æ³•æ¥ç®¡ç†å·²æœ‰äº«å…ƒå¯¹è±¡çš„ç¼“å­˜æ± ã€‚å·¥å‚æ–¹æ³•ä»å®¢æˆ·ç«¯å¤„æ¥æ”¶ç›®æ ‡äº«å…ƒå¯¹è±¡çš„å†…åœ¨çŠ¶æ€ä½œä¸ºå‚æ•°ï¼Œå¦‚æœå®ƒèƒ½åœ¨ç¼“å­˜æ± ä¸­æ‰¾åˆ°æ‰€éœ€äº«å…ƒï¼Œåˆ™å°†å…¶è¿”å›ç»™å®¢æˆ·ç«¯ï¼›å¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œå®ƒå°±ä¼šæ–°å»ºä¸€ä¸ªäº«å…ƒï¼Œå¹¶å°†å…¶æ·»åŠ åˆ°ç¼“å­˜æ± ä¸­ã€‚<br>ä½ å¯ä»¥é€‰æ‹©åœ¨ç¨‹åºçš„ä¸åŒåœ°æ–¹æ”¾å…¥è¯¥å‡½æ•°ã€‚æœ€ç®€å•çš„é€‰æ‹©å°±æ˜¯å°†å…¶æ”¾ç½®åœ¨äº«å…ƒå®¹å™¨ä¸­ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œä½ è¿˜å¯ä»¥æ–°å»ºä¸€ä¸ªå·¥å‚ç±»ï¼Œæˆ–è€…åˆ›å»ºä¸€ä¸ªé™æ€çš„å·¥å‚æ–¹æ³•å¹¶å°†å…¶æ”¾å…¥å®é™…çš„äº«å…ƒç±»ä¸­ã€‚</p>\n<h5 id=\"äº«å…ƒæ¨¡å¼ç»“æ„\"><a href=\"#äº«å…ƒæ¨¡å¼ç»“æ„\" class=\"headerlink\" title=\"äº«å…ƒæ¨¡å¼ç»“æ„\"></a>äº«å…ƒæ¨¡å¼ç»“æ„</h5><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220818231129.png\" alt=\"img\"></p>\n<p>1.äº«å…ƒæ¨¡å¼åªæ˜¯ä¸€ç§ä¼˜åŒ–ã€‚åœ¨åº”ç”¨è¯¥æ¨¡å¼ä¹‹å‰ï¼Œä½ è¦ç¡®å®šç¨‹åºä¸­å­˜åœ¨ä¸å¤§é‡ç±»ä¼¼å¯¹è±¡åŒæ—¶å ç”¨å†…å­˜ç›¸å…³çš„å†…å­˜æ¶ˆè€—é—®é¢˜ï¼Œå¹¶ä¸”ç¡®ä¿è¯¥é—®é¢˜æ— æ³•ä½¿ç”¨å…¶ä»–æ›´å¥½çš„æ–¹å¼æ¥è§£å†³ã€‚</p>\n<p>2.<strong>äº«å…ƒ(FlyÂ­weight)</strong> ç±»åŒ…å«åŸå§‹å¯¹è±¡ä¸­éƒ¨åˆ†èƒ½åœ¨å¤šä¸ªå¯¹è±¡ä¸­å…±äº«çš„çŠ¶æ€ã€‚ åŒä¸€äº«å…ƒå¯¹è±¡å¯åœ¨è®¸å¤šä¸åŒæƒ…æ™¯ä¸­ä½¿ç”¨ã€‚ äº«å…ƒä¸­å­˜å‚¨çš„çŠ¶æ€è¢«ç§°ä¸º â€œå†…åœ¨çŠ¶æ€â€ã€‚ ä¼ é€’ç»™äº«å…ƒæ–¹æ³•çš„çŠ¶æ€è¢«ç§°ä¸º â€œå¤–åœ¨çŠ¶æ€â€ã€‚</p>\n<p>3.<strong>æƒ…æ™¯(ConÂ­text)</strong> ç±»åŒ…å«åŸå§‹å¯¹è±¡ä¸­å„ä¸ç›¸åŒçš„å¤–åœ¨çŠ¶æ€ã€‚ æƒ…æ™¯ä¸äº«å…ƒå¯¹è±¡ç»„åˆåœ¨ä¸€èµ·å°±èƒ½è¡¨ç¤ºåŸå§‹å¯¹è±¡çš„å…¨éƒ¨çŠ¶æ€ã€‚</p>\n<p>4.é€šå¸¸æƒ…å†µä¸‹ï¼ŒåŸå§‹å¯¹è±¡çš„è¡Œä¸ºä¼šä¿ç•™åœ¨äº«å…ƒç±»ä¸­ã€‚å› æ­¤è°ƒç”¨äº«å…ƒæ–¹æ³•å¿…é¡»æä¾›éƒ¨åˆ†å¤–åœ¨çŠ¶æ€ä½œä¸ºå‚æ•°ã€‚ä½†ä½ ä¹Ÿå¯å°†è¡Œä¸ºç§»åŠ¨åˆ°æƒ…æ™¯ç±»ä¸­ï¼Œç„¶åå°†è¿å…¥çš„äº«å…ƒä½œä¸ºå•çº¯çš„æ•°æ®å¯¹è±¡ã€‚</p>\n<p>5.<strong>å®¢æˆ·ç«¯(Client)</strong> è´Ÿè´£è®¡ç®—æˆ–å­˜å‚¨äº«å…ƒçš„å¤–åœ¨çŠ¶æ€ã€‚åœ¨å®¢æˆ·ç«¯çœ‹æ¥ï¼Œäº«å…ƒæ˜¯ä¸€ç§å¯åœ¨è¿è¡Œæ—¶è¿›è¡Œé…ç½®çš„æ¨¡æ¿å¯¹è±¡ï¼Œå…·ä½“çš„é…ç½®æ–¹å¼ä¸ºå‘å…¶æ–¹æ³•ä¸­ä¼ å…¥ä¸€äº›æƒ…æ™¯æ•°æ®å‚æ•°ã€‚</p>\n<p>6.<strong>äº«å…ƒå·¥å‚(FlyÂ­weight FacÂ­toÂ­ry)</strong> ä¼šå¯¹å·²æœ‰äº«å…ƒçš„ç¼“å­˜æ± è¿›è¡Œç®¡ç†ã€‚æœ‰äº†å·¥å‚åï¼Œå®¢æˆ·ç«¯å°±æ— éœ€ç›´æ¥åˆ›å»ºäº«å…ƒï¼Œå®ƒä»¬åªéœ€è°ƒç”¨å·¥å‚å¹¶å‘å…¶ä¼ é€’ç›®æ ‡äº«å…ƒçš„ä¸€äº›å†…åœ¨çŠ¶æ€å³å¯ã€‚å·¥å‚ä¼šæ ¹æ®å‚æ•°åœ¨ä¹‹å‰å·²åˆ›å»ºçš„äº«å…ƒä¸­è¿›è¡ŒæŸ¥æ‰¾ï¼Œå¦‚æœæ‰¾åˆ°æ»¡è¶³æ¡ä»¶çš„äº«å…ƒå°±å°†å…¶è¿”å›ï¼›å¦‚æœæ²¡æœ‰æ‰¾åˆ°å°±æ ¹æ®å‚æ•°æ–°å»ºäº«å…ƒã€‚</p>\n<h5 id=\"ä¼ªä»£ç -10\"><a href=\"#ä¼ªä»£ç -10\" class=\"headerlink\" title=\"ä¼ªä»£ç \"></a>ä¼ªä»£ç </h5><p>åœ¨æœ¬ä¾‹ä¸­ï¼Œäº«å…ƒæ¨¡å¼èƒ½æœ‰æ•ˆå‡å°‘åœ¨ç”»å¸ƒä¸Šæ¸²æŸ“æ•°ç™¾ä¸‡ä¸ªæ ‘çŠ¶å¯¹è±¡æ—¶æ‰€éœ€çš„å†…å­˜ã€‚è¯¥æ¨¡å¼ä»ä¸»è¦çš„<strong>æ ‘Tree</strong>ç±»ä¸­æŠ½å–å†…åœ¨çŠ¶æ€ï¼Œå¹¶å°†å…¶ç§»åŠ¨åˆ°<strong>äº«å…ƒç±»æ ‘ç§ç±»TreeÂ­Type</strong>ä¹‹ä¸­ã€‚</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//äº«å…ƒç±»,æ‹¥æœ‰å¤§é‡å…±åŒçš„åå­—ï¼Œé¢œè‰²å’Œæè´¨</span></span><br><span class=\"line\"><span class=\"comment\">//å¦‚æœæ¯ä¸ªæ ‘éƒ½è¿›è¡Œä¸€æ¬¡ä¿å­˜å°†ä¼šæ¶ˆè€—å¤§é‡çš„å†…å­˜</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">TreeType</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"built_in\">string</span> name;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> Color color;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> Texture texture;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">TreeType</span>(<span class=\"params\">name,color,texture</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">//...</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">draw</span>(<span class=\"params\">canvas,x,y</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 1. åˆ›å»ºç‰¹å®šç±»å‹ã€é¢œè‰²å’Œçº¹ç†çš„ä½å›¾ã€‚</span></span><br><span class=\"line\">        <span class=\"comment\">// 2. åœ¨ç”»å¸ƒåæ ‡ (X,Y) å¤„ç»˜åˆ¶ä½å›¾ã€‚</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//ä½¿ç”¨äº«å…ƒå·¥å‚ï¼Œå½“ç„¶æ˜¯ä¸ä¸€å®šåªæœ‰ä¸€ç§æ ‘å•¦</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">TreeFactory</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> TreeType[] treeTypes;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> TreeType <span class=\"title\">getTreeType</span>(<span class=\"params\">name,color,texture</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        TreeType type = treeTypes.Find(name,color,texture);</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(type == <span class=\"literal\">null</span>)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            type = <span class=\"keyword\">new</span> TreeType(name,color,texture);</span><br><span class=\"line\">            treeTypes.<span class=\"keyword\">add</span>(type);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> type;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//æ ‘çš„å¤–åœ¨çŠ¶æ€</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">Tree</span> </span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"built_in\">float</span> x,y;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> TreeType type;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">Type</span>(<span class=\"params\">x,y,type</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">//..</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">draw</span>(<span class=\"params\">canvas</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        type.draw(canvas,<span class=\"keyword\">this</span>.x,<span class=\"keyword\">this</span>.y);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æ ‘ï¼ˆTreeï¼‰å’Œæ£®æ—ï¼ˆForÂ­estï¼‰ç±»æ˜¯äº«å…ƒçš„å®¢æˆ·ç«¯ã€‚</span></span><br><span class=\"line\"><span class=\"comment\">// å¦‚æœä¸æ‰“ç®—ç»§ç»­å¯¹æ ‘ç±»è¿›è¡Œå¼€å‘ï¼Œä½ å¯ä»¥å°†å®ƒä»¬åˆå¹¶ã€‚</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">Forest</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> Tree[] trees;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">plantTree</span>(<span class=\"params\">x,y,name,color,texture</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        TreeType type = TreeFactory.getTreeType(name,color,texture);</span><br><span class=\"line\">        tree = <span class=\"keyword\">new</span> Tree(x,y,type);</span><br><span class=\"line\">        trees.<span class=\"keyword\">add</span>(tree);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">draw</span>(<span class=\"params\">canvas</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">foreach</span>(<span class=\"keyword\">var</span> tree <span class=\"keyword\">in</span> trees)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            tree.draw(canvas);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"é€‚åˆäº«å…ƒæ¨¡å¼çš„åœ°æ–¹\"><a href=\"#é€‚åˆäº«å…ƒæ¨¡å¼çš„åœ°æ–¹\" class=\"headerlink\" title=\"é€‚åˆäº«å…ƒæ¨¡å¼çš„åœ°æ–¹\"></a>é€‚åˆäº«å…ƒæ¨¡å¼çš„åœ°æ–¹</h5><ul>\n<li>ä»…åœ¨ç¨‹åºå¿…é¡»æ”¯æŒ<strong>å¤§é‡å¯¹è±¡ä¸”æ²¡æœ‰è¶³å¤Ÿçš„å†…å­˜å®¹é‡</strong>æ—¶ä½¿ç”¨äº«å…ƒæ¨¡å¼(æ¯”å¦‚ç²’å­ç³»ç»Ÿ)ã€‚</li>\n</ul>\n<h5 id=\"äº«å…ƒæ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"><a href=\"#äº«å…ƒæ¨¡å¼çš„ä¼˜ç¼ºç‚¹\" class=\"headerlink\" title=\"äº«å…ƒæ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"></a>äº«å…ƒæ¨¡å¼çš„ä¼˜ç¼ºç‚¹</h5><p><strong>ä¼˜ç‚¹</strong> ï¼š</p>\n<ul>\n<li>å¦‚æœç¨‹åºä¸­æœ‰å¾ˆå¤šç›¸ä¼¼å¯¹è±¡ï¼Œé‚£ä¹ˆä½ å°†å¯ä»¥èŠ‚çœå¤§é‡å†…å­˜ã€‚</li>\n</ul>\n<p><strong>ç¼ºç‚¹</strong> ï¼š</p>\n<ul>\n<li>ä½ å¯èƒ½éœ€è¦ç‰ºç‰²æ‰§è¡Œé€Ÿåº¦æ¥æ¢å–å†…å­˜ï¼Œå› ä¸ºä»–äººæ¯æ¬¡è°ƒç”¨äº«å…ƒæ–¹æ³•æ—¶éƒ½éœ€è¦é‡æ–°è®¡ç®—éƒ¨åˆ†æƒ…æ™¯æ•°æ®ã€‚</li>\n<li>ä»£ç ä¼šå˜å¾—æ›´åŠ å¤æ‚ã€‚ å›¢é˜Ÿä¸­çš„æ–°æˆå‘˜æ€»æ˜¯ä¼šé—®ï¼š â€‹â€œä¸ºä»€ä¹ˆè¦åƒè¿™æ ·æ‹†åˆ†ä¸€ä¸ªå®ä½“çš„çŠ¶æ€ï¼Ÿâ€ã€‚</li>\n</ul>\n<h4 id=\"Proxy-ä»£ç†æ¨¡å¼\"><a href=\"#Proxy-ä»£ç†æ¨¡å¼\" class=\"headerlink\" title=\"Proxy(ä»£ç†æ¨¡å¼)\"></a>Proxy(ä»£ç†æ¨¡å¼)</h4><p>ä»£ç†æ¨¡å¼æ˜¯ä¸€ç§ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼Œè®©ä½ èƒ½å¤Ÿæä¾›å¯¹è±¡çš„æ›¿ä»£å“æˆ–å…¶å ä½ç¬¦ã€‚ä»£ç†æ§åˆ¶ç€å¯¹äºåŸå¯¹è±¡çš„è®¿é—®ï¼Œå¹¶å…è®¸åœ¨å°†è¯·æ±‚æäº¤ç»™å¯¹è±¡å‰åè¿›è¡Œä¸€äº›å¤„ç†ã€‚</p>\n<h5 id=\"é—®é¢˜-11\"><a href=\"#é—®é¢˜-11\" class=\"headerlink\" title=\"é—®é¢˜\"></a>é—®é¢˜</h5><p>ä¸ºä»€ä¹ˆè¦æ§åˆ¶å¯¹äºæŸä¸ªå¯¹è±¡çš„è®¿é—®å‘¢ï¼Ÿ ä¸¾ä¸ªä¾‹å­ï¼š æœ‰è¿™æ ·ä¸€ä¸ªæ¶ˆè€—å¤§é‡ç³»ç»Ÿèµ„æºçš„å·¨å‹å¯¹è±¡ï¼Œä½ åªæ˜¯å¶å°”éœ€è¦ä½¿ç”¨å®ƒï¼Œå¹¶éæ€»æ˜¯éœ€è¦ã€‚ä½ å¯ä»¥å®ç°å»¶è¿Ÿåˆå§‹åŒ–ï¼šåœ¨å®é™…æœ‰éœ€è¦æ—¶å†åˆ›å»ºè¯¥å¯¹è±¡ã€‚å¯¹è±¡çš„æ‰€æœ‰å®¢æˆ·ç«¯éƒ½è¦æ‰§è¡Œå»¶è¿Ÿåˆå§‹ä»£ç ã€‚ä¸å¹¸çš„æ˜¯ï¼Œè¿™å¾ˆå¯èƒ½ä¼šå¸¦æ¥å¾ˆå¤šé‡å¤ä»£ç ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220819001221.png\" alt=\"img\"></p>\n<p>åœ¨ç†æƒ³æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¸Œæœ›å°†ä»£ç ç›´æ¥æ”¾å…¥å¯¹è±¡çš„ç±»ä¸­ï¼Œä½†è¿™å¹¶éæ€»æ˜¯èƒ½å®ç°ï¼šæ¯”å¦‚ç±»å¯èƒ½æ˜¯ç¬¬ä¸‰æ–¹å°é—­åº“çš„ä¸€éƒ¨åˆ†ã€‚</p>\n<h5 id=\"è§£å†³æ–¹æ¡ˆ-11\"><a href=\"#è§£å†³æ–¹æ¡ˆ-11\" class=\"headerlink\" title=\"è§£å†³æ–¹æ¡ˆ\"></a>è§£å†³æ–¹æ¡ˆ</h5><p>ä»£ç†æ¨¡å¼å»ºè®®æ–°å»ºä¸€ä¸ªä¸åŸæœåŠ¡å¯¹è±¡æ¥å£ç›¸åŒçš„ä»£ç†ç±»ï¼Œç„¶åæ›´æ–°åº”ç”¨ä»¥å°†ä»£ç†å¯¹è±¡ä¼ é€’ç»™æ‰€æœ‰åŸå§‹å¯¹è±¡å®¢æˆ·ç«¯ã€‚ä»£ç†ç±»æ¥æ”¶åˆ°å®¢æˆ·ç«¯è¯·æ±‚åä¼šåˆ›å»ºå®é™…çš„æœåŠ¡å¯¹è±¡ï¼Œå¹¶å°†æ‰€æœ‰å·¥ä½œå§”æ´¾ç»™å®ƒã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220819001254.png\" alt=\"img\"></p>\n<h5 id=\"ä»£ç†æ¨¡å¼ç»“æ„\"><a href=\"#ä»£ç†æ¨¡å¼ç»“æ„\" class=\"headerlink\" title=\"ä»£ç†æ¨¡å¼ç»“æ„\"></a>ä»£ç†æ¨¡å¼ç»“æ„</h5><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220819001317.png\" alt=\"img\"></p>\n<p>1.<strong>æœåŠ¡æ¥å£(SerÂ­vice InterÂ­face)</strong> å£°æ˜äº†æœåŠ¡æ¥å£ã€‚ä»£ç†å¿…é¡»éµå¾ªè¯¥æ¥å£æ‰èƒ½ä¼ªè£…æˆæœåŠ¡å¯¹è±¡ã€‚</p>\n<p>2.<strong>æœåŠ¡(SerÂ­vice)</strong> ç±»æä¾›äº†ä¸€äº›å®ç”¨çš„ä¸šåŠ¡é€»è¾‘ã€‚</p>\n<p>3.<strong>ä»£ç†(Proxy)</strong> ç±»åŒ…å«ä¸€ä¸ªæŒ‡å‘æœåŠ¡å¯¹è±¡çš„å¼•ç”¨æˆå‘˜å˜é‡ã€‚ä»£ç†å®Œæˆå…¶ä»»åŠ¡ï¼ˆä¾‹å¦‚å»¶è¿Ÿåˆå§‹åŒ–ã€è®°å½•æ—¥å¿—ã€è®¿é—®æ§åˆ¶å’Œç¼“å­˜ç­‰ï¼‰åä¼šå°†è¯·æ±‚ä¼ é€’ç»™æœåŠ¡å¯¹è±¡ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œä»£ç†ä¼šå¯¹å…¶æœåŠ¡å¯¹è±¡çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸè¿›è¡Œç®¡ç†ã€‚</p>\n<p>4.<strong>å®¢æˆ·ç«¯(Client)</strong> èƒ½é€šè¿‡åŒä¸€æ¥å£ä¸æœåŠ¡æˆ–ä»£ç†è¿›è¡Œäº¤äº’ï¼Œæ‰€ä»¥ä½ å¯åœ¨ä¸€åˆ‡éœ€è¦æœåŠ¡å¯¹è±¡çš„ä»£ç ä¸­ä½¿ç”¨ä»£ç†ã€‚</p>\n<h5 id=\"ä¼ªä»£ç -11\"><a href=\"#ä¼ªä»£ç -11\" class=\"headerlink\" title=\"ä¼ªä»£ç \"></a>ä¼ªä»£ç </h5><p>ä»£ç†æ¨¡å¼è™½ç„¶åœ¨ç»å¤§å¤šæ•°c#ç¨‹åºä¸­ååˆ†ä¸å¸¸è§ï¼Œä½†æ˜¯åœ¨ä¸€äº›ç‰¹æ®Šæƒ…å†µä¸‹ä½¿ç”¨è¿˜æ˜¯å¾ˆæ–¹ä¾¿çš„ã€‚æˆ‘ä»¬ä»…ä»…åœ¨è¿™é‡Œå¯¹ç€ç»“æ„å›¾å†™ä¸€ä¸ªä»ç„¶ä¸æ˜¯é‚£ä¹ˆä¼ªçš„ä¼ªä»£ç </p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//è¯¥æœåŠ¡æ¥å£æ˜¯ä»£ç†ç±»å’ŒçœŸå®æœåŠ¡ç±»å¿…é¡»è¦å£°æ˜çš„</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title\">ServiceInterface</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">Operation</span>()</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//çœŸå®çš„æœåŠ¡ç±»</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">Service</span> : <span class=\"title\">ServiceInterface</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Operation</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Console.WriteLine(<span class=\"string\">&quot;...&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//ä»£ç†ç±»</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">Proxy</span> : <span class=\"title\">ServiceInterface</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> Service _service;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">Proxy</span>(<span class=\"params\">Service service</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._service = service;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Operation</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(<span class=\"keyword\">this</span>.CheckAccess())</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">this</span>._service.Operation();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"built_in\">bool</span> <span class=\"title\">CheckAccess</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">//ä¸€äº›çœŸå®çš„Checkä»£ç æ®µï¼Œä½†æ˜¯è¿™é‡Œå°±çœç•¥äº†</span></span><br><span class=\"line\">        <span class=\"comment\">//...</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//å®¢æˆ·ç«¯ä»£ç </span></span><br><span class=\"line\">Console.WriteLine(<span class=\"string\">&quot;Client: Executing the client code with a real subject:&quot;</span>);</span><br><span class=\"line\"><span class=\"keyword\">var</span> service = <span class=\"keyword\">new</span> Service();</span><br><span class=\"line\">service.Operation();</span><br><span class=\"line\"></span><br><span class=\"line\">Console.WriteLine();</span><br><span class=\"line\"></span><br><span class=\"line\">Console.WriteLine(<span class=\"string\">&quot;Client: Executing the same client code with a proxy:&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">Proxy proxy = <span class=\"keyword\">new</span> Proxy(service);</span><br><span class=\"line\">proxy.Operation();</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"é€‚åˆä»£ç†æ¨¡å¼çš„åœ°æ–¹\"><a href=\"#é€‚åˆä»£ç†æ¨¡å¼çš„åœ°æ–¹\" class=\"headerlink\" title=\"é€‚åˆä»£ç†æ¨¡å¼çš„åœ°æ–¹\"></a>é€‚åˆä»£ç†æ¨¡å¼çš„åœ°æ–¹</h5><ul>\n<li>å»¶è¿Ÿåˆå§‹åŒ–ï¼ˆè™šæ‹Ÿä»£ç†ï¼‰ã€‚å¦‚æœä½ æœ‰ä¸€ä¸ªå¶å°”ä½¿ç”¨çš„é‡é‡çº§æœåŠ¡å¯¹è±¡ï¼Œä¸€ç›´ä¿æŒè¯¥å¯¹è±¡è¿è¡Œä¼šæ¶ˆè€—ç³»ç»Ÿèµ„æºæ—¶ï¼Œå¯ä½¿ç”¨ä»£ç†æ¨¡å¼ã€‚</li>\n<li>è®¿é—®æ§åˆ¶ï¼ˆä¿æŠ¤ä»£ç†ï¼‰ã€‚å¦‚æœä½ åªå¸Œæœ›ç‰¹å®šå®¢æˆ·ç«¯ä½¿ç”¨æœåŠ¡å¯¹è±¡ï¼Œè¿™é‡Œçš„å¯¹è±¡å¯ä»¥æ˜¯æ“ä½œç³»ç»Ÿä¸­éå¸¸é‡è¦çš„éƒ¨åˆ†ï¼Œè€Œå®¢æˆ·ç«¯åˆ™æ˜¯å„ç§å·²å¯åŠ¨çš„ç¨‹åºï¼ˆåŒ…æ‹¬æ¶æ„ç¨‹åºï¼‰ï¼Œæ­¤æ—¶å¯ä½¿ç”¨ä»£ç†æ¨¡å¼ã€‚</li>\n<li>æœ¬åœ°æ‰§è¡Œè¿œç¨‹æœåŠ¡ï¼ˆè¿œç¨‹ä»£ç†ï¼‰ã€‚é€‚ç”¨äºæœåŠ¡å¯¹è±¡ä½äºè¿œç¨‹æœåŠ¡å™¨ä¸Šçš„æƒ…å½¢ã€‚</li>\n<li>è®°å½•æ—¥å¿—è¯·æ±‚ï¼ˆæ—¥å¿—è®°å½•ä»£ç†ï¼‰ã€‚é€‚ç”¨äºå½“ä½ éœ€è¦ä¿å­˜å¯¹äºæœåŠ¡å¯¹è±¡çš„è¯·æ±‚å†å²è®°å½•æ—¶ã€‚</li>\n<li>ç¼“å­˜è¯·æ±‚ç»“æœï¼ˆç¼“å­˜ä»£ç†ï¼‰ã€‚é€‚ç”¨äºéœ€è¦ç¼“å­˜å®¢æˆ·è¯·æ±‚ç»“æœå¹¶å¯¹ç¼“å­˜ç”Ÿå‘½å‘¨æœŸè¿›è¡Œç®¡ç†æ—¶ï¼Œç‰¹åˆ«æ˜¯å½“è¿”å›ç»“æœçš„ä½“ç§¯éå¸¸å¤§æ—¶ã€‚</li>\n<li>æ™ºèƒ½å¼•ç”¨ã€‚å¯åœ¨æ²¡æœ‰å®¢æˆ·ç«¯ä½¿ç”¨æŸä¸ªé‡é‡çº§å¯¹è±¡æ—¶ç«‹å³é”€æ¯è¯¥å¯¹è±¡ã€‚</li>\n</ul>\n<h5 id=\"ä»£ç æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"><a href=\"#ä»£ç æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\" class=\"headerlink\" title=\"ä»£ç æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"></a>ä»£ç æ¨¡å¼çš„ä¼˜ç¼ºç‚¹</h5><p><strong>ä¼˜ç‚¹</strong> ï¼š</p>\n<ul>\n<li>ä½ å¯ä»¥åœ¨å®¢æˆ·ç«¯æ¯«æ— å¯Ÿè§‰çš„æƒ…å†µä¸‹æ§åˆ¶æœåŠ¡å¯¹è±¡ã€‚</li>\n<li>å¦‚æœå®¢æˆ·ç«¯å¯¹æœåŠ¡å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸæ²¡æœ‰ç‰¹æ®Šè¦æ±‚ï¼Œä½ å¯ä»¥å¯¹ç”Ÿå‘½å‘¨æœŸè¿›è¡Œç®¡ç†ã€‚</li>\n<li>å³ä½¿æœåŠ¡å¯¹è±¡è¿˜æœªå‡†å¤‡å¥½æˆ–ä¸å­˜åœ¨ï¼Œä»£ç†ä¹Ÿå¯ä»¥æ­£å¸¸å·¥ä½œã€‚</li>\n<li>ç¬¦åˆOCP</li>\n</ul>\n<p><strong>ç¼ºç‚¹</strong> :</p>\n<ul>\n<li>ä»£ç å¯èƒ½ä¼šå˜å¾—å¤æ‚ï¼Œå› ä¸ºéœ€è¦æ–°å»ºè®¸å¤šç±»ã€‚</li>\n<li>æœåŠ¡å“åº”å¯èƒ½ä¼šå»¶è¿Ÿã€‚</li>\n</ul>\n<h3 id=\"è¡Œä¸ºæ¨¡å¼-Behavioral-Patterns\"><a href=\"#è¡Œä¸ºæ¨¡å¼-Behavioral-Patterns\" class=\"headerlink\" title=\"è¡Œä¸ºæ¨¡å¼(Behavioral Patterns)\"></a>è¡Œä¸ºæ¨¡å¼(Behavioral Patterns)</h3><h4 id=\"Chain-of-Responsibility-è´£ä»»é“¾æ¨¡å¼\"><a href=\"#Chain-of-Responsibility-è´£ä»»é“¾æ¨¡å¼\" class=\"headerlink\" title=\"Chain of Responsibility(è´£ä»»é“¾æ¨¡å¼)\"></a>Chain of Responsibility(è´£ä»»é“¾æ¨¡å¼)</h4><p>è´£ä»»é“¾æ¨¡å¼æ˜¯ä¸€ç§è¡Œä¸ºè®¾è®¡æ¨¡å¼ï¼Œå…è®¸ä½ å°†è¯·æ±‚æ²¿ç€å¤„ç†è€…é“¾è¿›è¡Œå‘é€ã€‚æ”¶åˆ°è¯·æ±‚åï¼Œæ¯ä¸ªå¤„ç†è€…å‡å¯å¯¹è¯·æ±‚è¿›è¡Œå¤„ç†ï¼Œæˆ–å°†å…¶ä¼ é€’ç»™é“¾ä¸Šçš„ä¸‹ä¸ªå¤„ç†è€…ã€‚</p>\n<h5 id=\"é—®é¢˜-12\"><a href=\"#é—®é¢˜-12\" class=\"headerlink\" title=\"é—®é¢˜\"></a>é—®é¢˜</h5><p>å‡å¦‚ä½ æ­£åœ¨å¼€å‘ä¸€ä¸ªåœ¨çº¿è®¢è´­ç³»ç»Ÿã€‚ä½ å¸Œæœ›å¯¹ç³»ç»Ÿè®¿é—®è¿›è¡Œé™åˆ¶ï¼Œåªå…è®¸è®¤è¯ç”¨æˆ·åˆ›å»ºè®¢å•ã€‚æ­¤å¤–ï¼Œæ‹¥æœ‰ç®¡ç†æƒé™çš„ç”¨æˆ·ä¹Ÿæ‹¥æœ‰æ‰€æœ‰è®¢å•çš„å®Œå…¨è®¿é—®æƒé™ã€‚ç®€å•è§„åˆ’åï¼Œä½ ä¼šæ„è¯†åˆ°è¿™äº›æ£€æŸ¥å¿…é¡»ä¾æ¬¡è¿›è¡Œã€‚åªè¦æ¥æ”¶åˆ°åŒ…å«ç”¨æˆ·å‡­æ®çš„è¯·æ±‚ï¼Œåº”ç”¨ç¨‹åºå°±å¯å°è¯•å¯¹è¿›å…¥ç³»ç»Ÿçš„ç”¨æˆ·è¿›è¡Œè®¤è¯ã€‚ä½†å¦‚æœç”±äºç”¨æˆ·å‡­æ®ä¸æ­£ç¡®è€Œå¯¼è‡´è®¤è¯å¤±è´¥ï¼Œé‚£å°±æ²¡æœ‰å¿…è¦è¿›è¡Œåç»­æ£€æŸ¥äº†ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220824130805.png\" alt=\"img\"></p>\n<p>åœ¨æ¥ä¸‹æ¥çš„å‡ ä¸ªæœˆé‡Œï¼Œä½ å®ç°äº†åç»­çš„å‡ ä¸ªæ£€æŸ¥æ­¥éª¤ã€‚</p>\n<ul>\n<li>ä¸€ä½åŒäº‹è®¤ä¸ºç›´æ¥å°†åŸå§‹æ•°æ®ä¼ é€’ç»™è®¢è´­ç³»ç»Ÿå­˜åœ¨å®‰å…¨éšæ‚£ã€‚å› æ­¤ä½ æ–°å¢äº†é¢å¤–çš„éªŒè¯æ­¥éª¤æ¥æ¸…ç†è¯·æ±‚ä¸­çš„æ•°æ®ã€‚</li>\n<li>è¿‡äº†ä¸€æ®µæ—¶é—´ï¼Œæœ‰äººæ³¨æ„åˆ°ç³»ç»Ÿæ— æ³•æŠµå¾¡æš´åŠ›å¯†ç ç ´è§£æ–¹å¼çš„æ”»å‡»ã€‚ä¸ºäº†é˜²èŒƒè¿™ç§æƒ…å†µä½ ç«‹åˆ»æ·»åŠ äº†ä¸€ä¸ªæ£€æŸ¥æ­¥éª¤æ¥è¿‡æ»¤æ¥è‡ªåŒä¸€IPåœ°å€çš„é‡å¤é”™è¯¯è¯·æ±‚ã€‚</li>\n<li>åˆæœ‰äººæè®®ä½ å¯ä»¥å¯¹åŒ…å«åŒæ ·æ•°æ®çš„é‡å¤è¯·æ±‚è¿”å›ç¼“å­˜ä¸­çš„ç»“æœï¼Œä»è€Œæé«˜ç³»ç»Ÿå“åº”é€Ÿåº¦ã€‚å› æ­¤ï¼Œä½ æ–°å¢äº†ä¸€ä¸ªæ£€æŸ¥æ­¥éª¤ï¼Œç¡®ä¿åªæœ‰æ²¡æœ‰æ»¡è¶³æ¡ä»¶çš„ç¼“å­˜ç»“æœæ—¶è¯·æ±‚æ‰èƒ½é€šè¿‡å¹¶è¢«å‘é€ç»™ç³»ç»Ÿã€‚</li>\n</ul>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220824130901.png\" alt=\"img\"></p>\n<h5 id=\"è§£å†³æ–¹æ¡ˆ-12\"><a href=\"#è§£å†³æ–¹æ¡ˆ-12\" class=\"headerlink\" title=\"è§£å†³æ–¹æ¡ˆ\"></a>è§£å†³æ–¹æ¡ˆ</h5><p>ä¸è®¸å¤šå…¶ä»–è¡Œä¸ºè®¾è®¡æ¨¡å¼ä¸€æ ·ï¼Œè´£ä»»é“¾ä¼šå°†ç‰¹å®šè¡Œä¸ºè½¬æ¢ä¸ºè¢«ç§°ä½œ<strong>å¤„ç†è€…çš„ç‹¬ç«‹å¯¹è±¡</strong>ã€‚åœ¨ä¸Šè¿°ç¤ºä¾‹ä¸­ï¼Œæ¯ä¸ªæ£€æŸ¥æ­¥éª¤éƒ½å¯è¢«æŠ½å–ä¸ºä»…æœ‰å•ä¸ªæ–¹æ³•çš„ç±»ï¼Œå¹¶æ‰§è¡Œæ£€æŸ¥æ“ä½œã€‚è¯·æ±‚åŠå…¶æ•°æ®åˆ™ä¼šè¢«ä½œä¸ºå‚æ•°ä¼ é€’ç»™è¯¥æ–¹æ³•ã€‚<br>æ¨¡å¼å»ºè®®ä½ <strong>å°†è¿™äº›å¤„ç†è€…è¿æˆä¸€æ¡é“¾</strong>ã€‚é“¾ä¸Šçš„æ¯ä¸ªå¤„ç†è€…éƒ½æœ‰ä¸€ä¸ªæˆå‘˜å˜é‡æ¥ä¿å­˜å¯¹äºä¸‹ä¸€å¤„ç†è€…çš„å¼•ç”¨ã€‚é™¤äº†å¤„ç†è¯·æ±‚å¤–ï¼Œå¤„ç†è€…è¿˜è´Ÿè´£æ²¿ç€é“¾ä¼ é€’è¯·æ±‚ã€‚è¯·æ±‚ä¼šåœ¨é“¾ä¸Šç§»åŠ¨ï¼Œç›´è‡³æ‰€æœ‰å¤„ç†è€…éƒ½æœ‰æœºä¼šå¯¹å…¶è¿›è¡Œå¤„ç†ã€‚æœ€é‡è¦çš„æ˜¯ï¼š<strong>å¤„ç†è€…å¯ä»¥å†³å®šä¸å†æ²¿ç€é“¾ä¼ é€’è¯·æ±‚ï¼Œè¿™å¯é«˜æ•ˆåœ°å–æ¶ˆæ‰€æœ‰åç»­å¤„ç†æ­¥éª¤</strong>ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220824131142.png\" alt=\"img\"></p>\n<p>ä¸è¿‡è¿˜æœ‰ä¸€ç§ç¨å¾®ä¸åŒçš„æ–¹å¼ ï¼ˆä¹Ÿæ˜¯æ›´ç»å…¸ä¸€ç§ï¼‰ï¼Œ é‚£å°±æ˜¯<strong>å¤„ç†è€…æ¥æ”¶åˆ°è¯·æ±‚åè‡ªè¡Œå†³å®šæ˜¯å¦èƒ½å¤Ÿå¯¹å…¶è¿›è¡Œå¤„ç†</strong>ã€‚å¦‚æœè‡ªå·±èƒ½å¤Ÿå¤„ç†ï¼Œå¤„ç†è€…å°±ä¸å†ç»§ç»­ä¼ é€’è¯·æ±‚ã€‚å› æ­¤åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ¯ä¸ªè¯·æ±‚è¦ä¹ˆæœ€å¤šæœ‰ä¸€ä¸ªå¤„ç†è€…å¯¹å…¶è¿›è¡Œå¤„ç†ï¼Œè¦ä¹ˆæ²¡æœ‰ä»»ä½•å¤„ç†è€…å¯¹å…¶è¿›è¡Œå¤„ç†ã€‚åœ¨å¤„ç†å›¾å½¢ç”¨æˆ·ç•Œé¢å…ƒç´ æ ˆä¸­çš„äº‹ä»¶æ—¶ï¼Œè¿™ç§æ–¹å¼éå¸¸å¸¸è§ã€‚<br>æ‰€æœ‰<strong>å¤„ç†è€…ç±»å‡å®ç°åŒä¸€æ¥å£</strong>æ˜¯å…³é”®æ‰€åœ¨ã€‚æ¯ä¸ªå…·ä½“å¤„ç†è€…ä»…å…³å¿ƒä¸‹ä¸€ä¸ªåŒ…å«exeÂ­cuteæ‰§è¡Œæ–¹æ³•çš„å¤„ç†è€…ã€‚è¿™æ ·ä¸€æ¥ï¼Œä½ å°±å¯ä»¥åœ¨è¿è¡Œæ—¶ä½¿ç”¨ä¸åŒçš„å¤„ç†è€…æ¥åˆ›å»ºé“¾ï¼Œè€Œæ— éœ€å°†ç›¸å…³ä»£ç ä¸å¤„ç†è€…çš„å…·ä½“ç±»è¿›è¡Œè€¦åˆã€‚</p>\n<h5 id=\"è´£ä»»é“¾æ¨¡å¼ç»“æ„\"><a href=\"#è´£ä»»é“¾æ¨¡å¼ç»“æ„\" class=\"headerlink\" title=\"è´£ä»»é“¾æ¨¡å¼ç»“æ„\"></a>è´£ä»»é“¾æ¨¡å¼ç»“æ„</h5><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220824131355.png\" alt=\"img\"></p>\n<p>1.<strong>å¤„ç†è€…(HanÂ­dler)</strong> å£°æ˜äº†æ‰€æœ‰å…·ä½“å¤„ç†è€…çš„é€šç”¨æ¥å£ã€‚è¯¥æ¥å£é€šå¸¸ä»…åŒ…å«å•ä¸ªæ–¹æ³•ç”¨äºè¯·æ±‚å¤„ç†ï¼Œ ä½†æœ‰æ—¶å…¶è¿˜ä¼šåŒ…å«ä¸€ä¸ªè®¾ç½®é“¾ä¸Šä¸‹ä¸ªå¤„ç†è€…çš„æ–¹æ³•ã€‚</p>\n<p>2.<strong>åŸºç¡€å¤„ç†è€…(Base HanÂ­dler)</strong> æ˜¯ä¸€ä¸ªå¯é€‰çš„ç±»ï¼Œä½ å¯ä»¥å°†æ‰€æœ‰å¤„ç†è€…å…±ç”¨çš„æ ·æœ¬ä»£ç æ”¾ç½®åœ¨å…¶ä¸­ã€‚<br>é€šå¸¸æƒ…å†µä¸‹ï¼Œè¯¥ç±»ä¸­å®šä¹‰äº†ä¸€ä¸ªä¿å­˜å¯¹äºä¸‹ä¸ªå¤„ç†è€…å¼•ç”¨çš„æˆå‘˜å˜é‡ã€‚å®¢æˆ·ç«¯å¯é€šè¿‡å°†å¤„ç†è€…ä¼ é€’ç»™ä¸Šä¸ªå¤„ç†è€…çš„æ„é€ å‡½æ•°æˆ–è®¾å®šæ–¹æ³•æ¥åˆ›å»ºé“¾ã€‚è¯¥ç±»è¿˜å¯ä»¥å®ç°é»˜è®¤çš„å¤„ç†è¡Œä¸ºï¼šç¡®å®šä¸‹ä¸ªå¤„ç†è€…å­˜åœ¨åå†å°†è¯·æ±‚ä¼ é€’ç»™å®ƒã€‚</p>\n<p>3.<strong>å…·ä½“å¤„ç†è€…(ConÂ­crete HanÂ­dlers)</strong> åŒ…å«å¤„ç†è¯·æ±‚çš„å®é™…ä»£ç ã€‚æ¯ä¸ªå¤„ç†è€…æ¥æ”¶åˆ°è¯·æ±‚åï¼Œéƒ½å¿…é¡»å†³å®šæ˜¯å¦è¿›è¡Œå¤„ç†ï¼Œä»¥åŠæ˜¯å¦æ²¿ç€é“¾ä¼ é€’è¯·æ±‚ã€‚<br>å¤„ç†è€…é€šå¸¸æ˜¯ç‹¬ç«‹ä¸”ä¸å¯å˜çš„ï¼Œéœ€è¦é€šè¿‡æ„é€ å‡½æ•°ä¸€æ¬¡æ€§åœ°è·å¾—æ‰€æœ‰å¿…è¦åœ°æ•°æ®ã€‚</p>\n<p>4.<strong>å®¢æˆ·ç«¯(Client)</strong> å¯æ ¹æ®ç¨‹åºé€»è¾‘ä¸€æ¬¡æ€§æˆ–è€…åŠ¨æ€åœ°ç”Ÿæˆé“¾ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œè¯·æ±‚å¯å‘é€ç»™é“¾ä¸Šçš„ä»»æ„ä¸€ä¸ªå¤„ç†è€…ï¼Œè€Œéå¿…é¡»æ˜¯ç¬¬ä¸€ä¸ªå¤„ç†è€…ã€‚</p>\n<h5 id=\"ä¼ªä»£ç -12\"><a href=\"#ä¼ªä»£ç -12\" class=\"headerlink\" title=\"ä¼ªä»£ç \"></a>ä¼ªä»£ç </h5><p>è´£ä»»é“¾åœ¨c#ç¨‹åºä¸­å¹¶ä¸å¸¸è§ï¼Œå› ä¸ºå®ƒä»…åœ¨ä»£ç ä¸å¯¹è±¡é“¾æ‰“äº¤é“æ—¶æ‰èƒ½å‘æŒ¥ä½œç”¨ã€‚ä½†æ˜¯ä¸€æ—¦ç”¨åˆ°è¿™ç§é“¾å¼è¯·æ±‚ï¼Œæ¯”å¦‚æŒ‰é¡ºåºåœ°éªŒè¯ç­”æ¡ˆï¼ŒéªŒè¯ä¿¡æ¯è¿˜æ˜¯æœ‰ç”¨çš„ã€‚<br>åœ¨ä¸‹æ®µä»£ç ä¸­ï¼Œæˆ‘ä»¬ä¼šç»™ä¸€æ‰¹é£Ÿç‰©ï¼Œè®©æ¯ä¸ªé£Ÿç‰©åœ¨è´£ä»»é“¾ä¸Šèµ°å®Œï¼Œå¦‚æœæœ‰åŠ¨ç‰©è¦äº†ï¼Œåç»­çš„é“¾å°±ä¼šåœæ­¢ï¼Œå¦‚æœä¼šä¸€ç›´æ²¡æœ‰åŠ¨ç‰©è¦ï¼Œé‚£å°±ä¼šè¿”å› â€œ{food} was left untouchedâ€ã€‚é‚£ä¹ˆï¼Œå¦‚æœæ˜¯ä¿¡æ¯éªŒè¯çš„è¯ï¼ŒåŒç†ï¼Œæˆ‘ä»¬è®©ä¸€ä¸ªä¿¡æ¯åœ¨é“¾ä¸Šèµ°ï¼Œå¦‚æœä¸­é—´æœ‰ä¸€æ­¥é”™äº†ï¼Œé©¬ä¸Šåœæ­¢ï¼Œåªæœ‰å…¨éƒ¨ç¬¦åˆï¼Œæ‰ä¼šæŠ¥å‘Šä¿¡æ¯éªŒè¯æˆåŠŸã€‚</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//Handler æ¥å£å£°æ˜äº†å»ºç«‹å¤„ç†è€…é“¾çš„çš„æ–¹æ³•ï¼Œä¹Ÿå£°æ˜äº†æ‰§è¡Œè¯·æ±‚çš„æ–¹æ³•</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title\">IHandler</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\">IHandler <span class=\"title\">SetNext</span>(<span class=\"params\">IHandler handler</span>)</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"built_in\">object</span> <span class=\"title\">Handle</span>(<span class=\"params\"><span class=\"built_in\">object</span> request</span>)</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//åŸºç¡€å¤„ç†è€…ç±»</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> <span class=\"keyword\">class</span> <span class=\"title\">AbstractHandler</span> : <span class=\"title\">IHandler</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> IHandler _nextHandler;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> IHandler <span class=\"title\">SetNext</span>(<span class=\"params\">IHandler handler</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._nextHandler = handler;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> handler;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">virtual</span> <span class=\"built_in\">object</span> <span class=\"title\">Handle</span>(<span class=\"params\"><span class=\"built_in\">object</span> request</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"keyword\">this</span>._nextHandler != <span class=\"literal\">null</span>)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>._nextHandler.Handle(request);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">else</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">null</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//å…·ä½“å¤„ç†è€…ç±»</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">MonkeyHandler</span> : <span class=\"title\">AbstractHandler</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">override</span> <span class=\"built_in\">object</span> <span class=\"title\">Handle</span>(<span class=\"params\"><span class=\"built_in\">object</span> request</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> ((request <span class=\"keyword\">as</span> <span class=\"built_in\">string</span>) == <span class=\"string\">&quot;Banana&quot;</span>)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"string\">$&quot;Monkey: I&#x27;ll eat the <span class=\"subst\">&#123;request.ToString()&#125;</span>.\\n&quot;</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">else</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"keyword\">base</span>.Handle(request);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">SquirrelHandler</span> : <span class=\"title\">AbstractHandler</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">override</span> <span class=\"built_in\">object</span> <span class=\"title\">Handle</span>(<span class=\"params\"><span class=\"built_in\">object</span> request</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (request.ToString() == <span class=\"string\">&quot;Nut&quot;</span>)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"string\">$&quot;Squirrel: I&#x27;ll eat the <span class=\"subst\">&#123;request.ToString()&#125;</span>.\\n&quot;</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">else</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"keyword\">base</span>.Handle(request);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">DogHandler</span> : <span class=\"title\">AbstractHandler</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">override</span> <span class=\"built_in\">object</span> <span class=\"title\">Handle</span>(<span class=\"params\"><span class=\"built_in\">object</span> request</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (request.ToString() == <span class=\"string\">&quot;MeatBall&quot;</span>)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"string\">$&quot;Dog: I&#x27;ll eat the <span class=\"subst\">&#123;request.ToString()&#125;</span>.\\n&quot;</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">else</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"keyword\">base</span>.Handle(request);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">Client</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">ClientCode</span>(<span class=\"params\">AbstractHandler handler</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">foreach</span> (<span class=\"keyword\">var</span> food <span class=\"keyword\">in</span> <span class=\"keyword\">new</span> List&lt;<span class=\"built_in\">string</span>&gt; &#123; <span class=\"string\">&quot;Nut&quot;</span>, <span class=\"string\">&quot;Banana&quot;</span>, <span class=\"string\">&quot;Cup of coffee&quot;</span> &#125;)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            Console.WriteLine(<span class=\"string\">$&quot;Client: Who wants a <span class=\"subst\">&#123;food&#125;</span>?&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">var</span> result = handler.Handle(food);</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (result != <span class=\"literal\">null</span>)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                Console.Write(<span class=\"string\">$&quot;   <span class=\"subst\">&#123;result&#125;</span>&quot;</span>);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">else</span></span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                Console.WriteLine(<span class=\"string\">$&quot;   <span class=\"subst\">&#123;food&#125;</span> was left untouched.&quot;</span>);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//å®¢æˆ·ç«¯ä»£ç </span></span><br><span class=\"line\"><span class=\"keyword\">var</span> monkey = <span class=\"keyword\">new</span> MonkeyHandler();</span><br><span class=\"line\"><span class=\"keyword\">var</span> squirrel = <span class=\"keyword\">new</span> SquirrelHandler();</span><br><span class=\"line\"><span class=\"keyword\">var</span> dog = <span class=\"keyword\">new</span> DogHandler();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//è®¾ç½®è´£ä»»é“¾</span></span><br><span class=\"line\">monkey.setNext(squirrel).setNext(dog);</span><br><span class=\"line\"></span><br><span class=\"line\">Console.WriteLine(<span class=\"string\">&quot;Chain: Monkey &gt; Squirrel &gt; Dog\\n&quot;</span>);</span><br><span class=\"line\">Client.ClientCode(monkey);</span><br><span class=\"line\">Console.WriteLine();</span><br><span class=\"line\"></span><br><span class=\"line\">Console.WriteLine(<span class=\"string\">&quot;Subchain: Squirrel &gt; Dog\\n&quot;</span>);</span><br><span class=\"line\">Client.ClientCode(squirrel);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/*è¿è¡Œç»“æœ</span></span><br><span class=\"line\"><span class=\"comment\">Chain: Monkey &gt; Squirrel &gt; Dog</span></span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\">Client: Who wants a Nut?</span></span><br><span class=\"line\"><span class=\"comment\">   Squirrel: I&#x27;ll eat the Nut.</span></span><br><span class=\"line\"><span class=\"comment\">Client: Who wants a Banana?</span></span><br><span class=\"line\"><span class=\"comment\">   Monkey: I&#x27;ll eat the Banana.</span></span><br><span class=\"line\"><span class=\"comment\">Client: Who wants a Cup of coffee?</span></span><br><span class=\"line\"><span class=\"comment\">   Cup of coffee was left untouched.</span></span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\">Subchain: Squirrel &gt; Dog</span></span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\">Client: Who wants a Nut?</span></span><br><span class=\"line\"><span class=\"comment\">   Squirrel: I&#x27;ll eat the Nut.</span></span><br><span class=\"line\"><span class=\"comment\">Client: Who wants a Banana?</span></span><br><span class=\"line\"><span class=\"comment\">   Banana was left untouched.</span></span><br><span class=\"line\"><span class=\"comment\">Client: Who wants a Cup of coffee?</span></span><br><span class=\"line\"><span class=\"comment\">   Cup of coffee was left untouched.</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br></pre></td></tr></table></figure>\n\n<h5 id=\"é€‚åˆè´£ä»»é“¾æ¨¡å¼çš„åœ°æ–¹\"><a href=\"#é€‚åˆè´£ä»»é“¾æ¨¡å¼çš„åœ°æ–¹\" class=\"headerlink\" title=\"é€‚åˆè´£ä»»é“¾æ¨¡å¼çš„åœ°æ–¹\"></a>é€‚åˆè´£ä»»é“¾æ¨¡å¼çš„åœ°æ–¹</h5><ul>\n<li>å½“ç¨‹åºéœ€è¦ä½¿ç”¨ä¸åŒæ–¹å¼å¤„ç†ä¸åŒç§ç±»è¯·æ±‚ï¼Œè€Œä¸”è¯·æ±‚ç±»å‹å’Œé¡ºåºé¢„å…ˆæœªçŸ¥æ—¶ï¼Œå¯ä»¥ä½¿ç”¨è´£ä»»é“¾æ¨¡å¼ã€‚</li>\n<li>å½“å¿…é¡»æŒ‰é¡ºåºæ‰§è¡Œå¤šä¸ªå¤„ç†è€…æ—¶ï¼Œå¯ä»¥ä½¿ç”¨è¯¥æ¨¡å¼ã€‚</li>\n<li>å¦‚æœæ‰€éœ€å¤„ç†è€…åŠå…¶é¡ºåºå¿…é¡»åœ¨è¿è¡Œæ—¶è¿›è¡Œæ”¹å˜ï¼Œ å¯ä»¥ä½¿ç”¨è´£ä»»é“¾æ¨¡å¼ã€‚</li>\n</ul>\n<h5 id=\"è´£ä»»é“¾æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"><a href=\"#è´£ä»»é“¾æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\" class=\"headerlink\" title=\"è´£ä»»é“¾æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"></a>è´£ä»»é“¾æ¨¡å¼çš„ä¼˜ç¼ºç‚¹</h5><p><strong>ä¼˜ç‚¹</strong> ï¼š</p>\n<ul>\n<li>ä½ å¯ä»¥æ§åˆ¶è¯·æ±‚å¤„ç†çš„é¡ºåºã€‚</li>\n<li>ç¬¦åˆSRP</li>\n<li>ç¬¦åˆOCP</li>\n</ul>\n<p><strong>ç¼ºç‚¹</strong> ï¼š</p>\n<ul>\n<li>éƒ¨åˆ†è¯·æ±‚å¯èƒ½æœªè¢«å¤„ç†ã€‚</li>\n</ul>\n<h4 id=\"Command-å‘½ä»¤æ¨¡å¼\"><a href=\"#Command-å‘½ä»¤æ¨¡å¼\" class=\"headerlink\" title=\"Command(å‘½ä»¤æ¨¡å¼)\"></a>Command(å‘½ä»¤æ¨¡å¼)</h4><p>å‘½ä»¤æ¨¡å¼æ˜¯ä¸€ç§è¡Œä¸ºè®¾è®¡æ¨¡å¼ï¼Œå®ƒå¯å°†è¯·æ±‚è½¬æ¢ä¸ºä¸€ä¸ªåŒ…å«ä¸è¯·æ±‚ç›¸å…³çš„æ‰€æœ‰ä¿¡æ¯çš„ç‹¬ç«‹å¯¹è±¡ã€‚è¯¥è½¬æ¢è®©ä½ èƒ½æ ¹æ®ä¸åŒçš„è¯·æ±‚å°†æ–¹æ³•å‚æ•°åŒ–ã€å»¶è¿Ÿè¯·æ±‚æ‰§è¡Œæˆ–å°†å…¶æ”¾å…¥é˜Ÿåˆ—ä¸­ï¼Œä¸”èƒ½å®ç°å¯æ’¤é”€æ“ä½œã€‚</p>\n<h5 id=\"é—®é¢˜-13\"><a href=\"#é—®é¢˜-13\" class=\"headerlink\" title=\"é—®é¢˜\"></a>é—®é¢˜</h5><p>å‡å¦‚ä½ æ­£åœ¨å¼€å‘ä¸€æ¬¾æ–°çš„æ–‡å­—ç¼–è¾‘å™¨ï¼Œå½“å‰çš„ä»»åŠ¡æ˜¯åˆ›å»ºä¸€ä¸ªåŒ…å«å¤šä¸ªæŒ‰é’®çš„å·¥å…·æ ï¼Œå¹¶è®©æ¯ä¸ªæŒ‰é’®å¯¹åº”ç¼–è¾‘å™¨çš„ä¸åŒæ“ä½œã€‚ä½ åˆ›å»ºäº†ä¸€ä¸ªéå¸¸ç®€æ´çš„æŒ‰é’®ç±»ï¼Œå®ƒä¸ä»…å¯ç”¨äºç”Ÿæˆå·¥å…·æ ä¸Šçš„æŒ‰é’®ï¼Œè¿˜å¯ç”¨äºç”Ÿæˆå„ç§å¯¹è¯æ¡†çš„é€šç”¨æŒ‰é’®ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220824135308.png\" alt=\"img\"></p>\n<p>å°½ç®¡æ‰€æœ‰æŒ‰é’®çœ‹ä¸Šå»éƒ½å¾ˆç›¸ä¼¼ï¼Œä½†å®ƒä»¬å¯ä»¥å®Œæˆä¸åŒçš„æ“ä½œï¼ˆæ‰“å¼€ã€ä¿å­˜ã€æ‰“å°å’Œåº”ç”¨ç­‰ï¼‰ã€‚ä½ ä¼šåœ¨å“ªé‡Œæ”¾ç½®è¿™äº›æŒ‰é’®çš„ç‚¹å‡»å¤„ç†ä»£ç å‘¢ï¼Ÿæœ€ç®€å•çš„è§£å†³æ–¹æ¡ˆæ˜¯åœ¨ä½¿ç”¨æŒ‰é’®çš„æ¯ä¸ªåœ°æ–¹éƒ½åˆ›å»ºå¤§é‡çš„å­ç±»ã€‚è¿™äº›å­ç±»ä¸­åŒ…å«æŒ‰é’®ç‚¹å‡»åå¿…é¡»æ‰§è¡Œçš„ä»£ç ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220824135352.png\" alt=\"img\"></p>\n<p>ä½ å¾ˆå¿«å°±æ„è¯†åˆ°è¿™ç§æ–¹å¼æœ‰ä¸¥é‡ç¼ºé™·ã€‚é¦–å…ˆï¼Œä½ åˆ›å»ºäº†å¤§é‡çš„å­ç±»ï¼Œå½“<strong>æ¯æ¬¡ä¿®æ”¹åŸºç±»æŒ‰é’®æ—¶,ä½ éƒ½æœ‰å¯èƒ½éœ€è¦ä¿®æ”¹æ‰€æœ‰å­ç±»çš„ä»£ç </strong>ã€‚ç®€å•æ¥è¯´ï¼ŒGUIä»£ç ä»¥ä¸€ç§æ‹™åŠ£çš„æ–¹å¼ä¾èµ–äºä¸šåŠ¡é€»è¾‘ä¸­çš„ä¸ç¨³å®šä»£ç ã€‚</p>\n<p>è¿˜æœ‰ä¸€ä¸ªéƒ¨åˆ†æœ€éš¾åŠã€‚å¤åˆ¶&#x2F;ç²˜è´´æ–‡å­—ç­‰æ“ä½œå¯èƒ½ä¼šåœ¨å¤šä¸ªåœ°æ–¹è¢«è°ƒç”¨ã€‚ä¾‹å¦‚ç”¨æˆ·å¯ä»¥ç‚¹å‡»å·¥å…·æ ä¸Šå°å°çš„ â€œå¤åˆ¶â€ æŒ‰é’®ï¼Œæˆ–è€…é€šè¿‡ä¸Šä¸‹æ–‡èœå•å¤åˆ¶ä¸€äº›å†…å®¹ï¼Œåˆæˆ–è€…ç›´æ¥ä½¿ç”¨é”®ç›˜ä¸Šçš„ Ctrl+C ã€‚</p>\n<h5 id=\"è§£å†³æ–¹æ¡ˆ-13\"><a href=\"#è§£å†³æ–¹æ¡ˆ-13\" class=\"headerlink\" title=\"è§£å†³æ–¹æ¡ˆ\"></a>è§£å†³æ–¹æ¡ˆ</h5><p>ä¼˜ç§€çš„è½¯ä»¶è®¾è®¡é€šå¸¸ä¼šå°†å…³æ³¨ç‚¹è¿›è¡Œåˆ†ç¦»ï¼Œè€Œè¿™å¾€å¾€ä¼šå¯¼è‡´è½¯ä»¶çš„åˆ†å±‚ã€‚æœ€å¸¸è§çš„ä¾‹å­ï¼šä¸€å±‚è´Ÿè´£ç”¨æˆ·å›¾åƒç•Œé¢ï¼›å¦ä¸€å±‚è´Ÿè´£ä¸šåŠ¡é€»è¾‘ã€‚GUI å±‚è´Ÿè´£åœ¨å±å¹•ä¸Šæ¸²æŸ“ç¾è§‚çš„å›¾å½¢ï¼Œæ•è·æ‰€æœ‰è¾“å…¥å¹¶æ˜¾ç¤ºç”¨æˆ·å’Œç¨‹åºå·¥ä½œçš„ç»“æœã€‚å½“éœ€è¦å®Œæˆä¸€äº›é‡è¦å†…å®¹æ—¶ï¼ˆæ¯”å¦‚è®¡ç®—æœˆçƒè½¨é“æˆ–æ’°å†™å¹´åº¦æŠ¥å‘Šï¼‰ï¼ŒGUI å±‚åˆ™ä¼šå°†å·¥ä½œå§”æ´¾ç»™ä¸šåŠ¡é€»è¾‘åº•å±‚ã€‚<br>è¿™åœ¨ä»£ç ä¸­çœ‹ä¸Šå»å°±åƒè¿™æ ·ï¼šä¸€ä¸ª GUI å¯¹è±¡ä¼ é€’ä¸€äº›å‚æ•°æ¥è°ƒç”¨ä¸€ä¸ªä¸šåŠ¡é€»è¾‘å¯¹è±¡ã€‚è¿™ä¸ªè¿‡ç¨‹é€šå¸¸è¢«æè¿°ä¸ºä¸€ä¸ªå¯¹è±¡å‘é€è¯·æ±‚ç»™å¦ä¸€ä¸ªå¯¹è±¡ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220824135547.png\" alt=\"img\"></p>\n<p>å‘½ä»¤æ¨¡å¼<strong>å»ºè®® GUI å¯¹è±¡ä¸ç›´æ¥æäº¤è¿™äº›è¯·æ±‚</strong>ã€‚ä½ åº”è¯¥å°†<strong>è¯·æ±‚çš„æ‰€æœ‰ç»†èŠ‚</strong> ï¼ˆä¾‹å¦‚è°ƒç”¨çš„å¯¹è±¡ã€ æ–¹æ³•åç§°å’Œå‚æ•°åˆ—è¡¨ï¼‰ <strong>æŠ½å–å‡ºæ¥ç»„æˆå‘½ä»¤ç±»</strong>ï¼Œè¯¥ç±»ä¸­ä»…åŒ…å«ä¸€ä¸ªç”¨äºè§¦å‘è¯·æ±‚çš„æ–¹æ³•ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220824135629.png\" alt=\"img\"></p>\n<p>ä¸‹ä¸€æ­¥æ˜¯è®©<strong>æ‰€æœ‰å‘½ä»¤å®ç°ç›¸åŒçš„æ¥å£</strong>ã€‚è¯¥æ¥å£é€šå¸¸åªæœ‰ä¸€ä¸ªæ²¡æœ‰ä»»ä½•å‚æ•°çš„æ‰§è¡Œæ–¹æ³•ï¼Œè®©ä½ èƒ½åœ¨ä¸å’Œå…·ä½“å‘½ä»¤ç±»è€¦åˆçš„æƒ…å†µä¸‹ä½¿ç”¨åŒä¸€è¯·æ±‚å‘é€è€…æ‰§è¡Œä¸åŒå‘½ä»¤ã€‚æ­¤å¤–è¿˜æœ‰é¢å¤–çš„å¥½å¤„ï¼Œç°åœ¨ä½ èƒ½åœ¨è¿è¡Œæ—¶åˆ‡æ¢è¿æ¥è‡³å‘é€è€…çš„å‘½ä»¤å¯¹è±¡ï¼Œä»¥æ­¤æ”¹å˜å‘é€è€…çš„è¡Œä¸ºã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220824135705.png\" alt=\"img\"></p>\n<h5 id=\"å‘½ä»¤æ¨¡å¼ç»“æ„\"><a href=\"#å‘½ä»¤æ¨¡å¼ç»“æ„\" class=\"headerlink\" title=\"å‘½ä»¤æ¨¡å¼ç»“æ„\"></a>å‘½ä»¤æ¨¡å¼ç»“æ„</h5><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220824135728.png\" alt=\"img\"></p>\n<p>1.<strong>å‘é€è€…(Sender)â€”â€”äº¦ç§° â€œè§¦å‘è€…(InvokÂ­er)â€</strong> ç±»è´Ÿè´£å¯¹è¯·æ±‚è¿›è¡Œåˆå§‹åŒ–ï¼Œå…¶ä¸­å¿…é¡»åŒ…å«ä¸€ä¸ªæˆå‘˜å˜é‡æ¥å­˜å‚¨å¯¹äºå‘½ä»¤å¯¹è±¡çš„å¼•ç”¨ã€‚å‘é€è€…è§¦å‘å‘½ä»¤ï¼Œè€Œä¸å‘æ¥æ”¶è€…ç›´æ¥å‘é€è¯·æ±‚ã€‚æ³¨æ„ï¼Œå‘é€è€…å¹¶ä¸è´Ÿè´£åˆ›å»ºå‘½ä»¤å¯¹è±¡ï¼šå®ƒé€šå¸¸ä¼šé€šè¿‡æ„é€ å‡½æ•°ä»å®¢æˆ·ç«¯å¤„è·å¾—é¢„å…ˆç”Ÿæˆçš„å‘½ä»¤ã€‚</p>\n<p>2.<strong>å‘½ä»¤(ComÂ­mand)</strong> æ¥å£é€šå¸¸ä»…å£°æ˜ä¸€ä¸ªæ‰§è¡Œå‘½ä»¤çš„æ–¹æ³•ã€‚</p>\n<p>3.<strong>å…·ä½“å‘½ä»¤(ConÂ­crete ComÂ­mands)</strong> ä¼šå®ç°å„ç§ç±»å‹çš„è¯·æ±‚ã€‚å…·ä½“å‘½ä»¤è‡ªèº«å¹¶ä¸å®Œæˆå·¥ä½œï¼Œè€Œæ˜¯ä¼šå°†è°ƒç”¨å§”æ´¾ç»™ä¸€ä¸ªä¸šåŠ¡é€»è¾‘å¯¹è±¡ã€‚ä½†ä¸ºäº†ç®€åŒ–ä»£ç ï¼Œè¿™äº›ç±»å¯ä»¥è¿›è¡Œåˆå¹¶ã€‚<br>æ¥æ”¶å¯¹è±¡æ‰§è¡Œæ–¹æ³•æ‰€éœ€çš„å‚æ•°å¯ä»¥å£°æ˜ä¸ºå…·ä½“å‘½ä»¤çš„æˆå‘˜å˜é‡ã€‚ä½ å¯ä»¥å°†å‘½ä»¤å¯¹è±¡è®¾ä¸ºä¸å¯å˜ï¼Œä»…å…è®¸é€šè¿‡æ„é€ å‡½æ•°å¯¹è¿™äº›æˆå‘˜å˜é‡è¿›è¡Œåˆå§‹åŒ–ã€‚</p>\n<p>4.<strong>æ¥æ”¶è€…(ReceivÂ­er)</strong> ç±»åŒ…å«éƒ¨åˆ†ä¸šåŠ¡é€»è¾‘ã€‚å‡ ä¹ä»»ä½•å¯¹è±¡éƒ½å¯ä»¥ä½œä¸ºæ¥æ”¶è€…ã€‚ç»å¤§éƒ¨åˆ†å‘½ä»¤åªå¤„ç†å¦‚ä½•å°†è¯·æ±‚ä¼ é€’åˆ°æ¥æ”¶è€…çš„ç»†èŠ‚ï¼Œæ¥æ”¶è€…è‡ªå·±ä¼šå®Œæˆå®é™…çš„å·¥ä½œã€‚</p>\n<p>5.<strong>å®¢æˆ·ç«¯(Client)</strong> ä¼šåˆ›å»ºå¹¶é…ç½®å…·ä½“å‘½ä»¤å¯¹è±¡ã€‚ å®¢æˆ·ç«¯å¿…é¡»å°†åŒ…æ‹¬æ¥æ”¶è€…å®ä½“åœ¨å†…çš„æ‰€æœ‰è¯·æ±‚å‚æ•°ä¼ é€’ç»™å‘½ä»¤çš„æ„é€ å‡½æ•°ã€‚æ­¤åï¼Œç”Ÿæˆçš„å‘½ä»¤å°±å¯ä»¥ä¸ä¸€ä¸ªæˆ–å¤šä¸ªå‘é€è€…ç›¸å…³è”äº†ã€‚</p>\n<h5 id=\"ä¼ªä»£ç -13\"><a href=\"#ä¼ªä»£ç -13\" class=\"headerlink\" title=\"ä¼ªä»£ç \"></a>ä¼ªä»£ç </h5><p>å‘½ä»¤æ¨¡å¼ååˆ†å¸¸è§ã€‚å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œå®ƒè¢«ç”¨äºä»£æ›¿åŒ…å«è¡Œä¸ºçš„å‚æ•°åŒ– UI å…ƒç´ çš„å›è°ƒå‡½æ•°ï¼Œæ­¤å¤–è¿˜è¢«ç”¨äºå¯¹ä»»åŠ¡è¿›è¡Œæ’åºå’Œè®°å½•æ“ä½œå†å²è®°å½•ç­‰ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220824141646.png\" alt=\"img\"></p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//å‘½ä»¤åŸºç±»</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> <span class=\"keyword\">class</span> <span class=\"title\">Command</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">protected</span> Application app;</span><br><span class=\"line\">    <span class=\"keyword\">protected</span> Editor editor;</span><br><span class=\"line\">    <span class=\"keyword\">protected</span> text backup;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">Command</span>(<span class=\"params\">Application app,editor Editor</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.app = app;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.editor = editor;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//å¤‡ä»½ç¼–è¾‘å™¨çŠ¶æ€</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">saveBackup</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        backup = editor.text;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//æ¢å¤ç¼–è¾‘å™¨çŠ¶æ€</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">undo</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        editor.text = backup;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// æ‰§è¡Œæ–¹æ³•è¢«å£°æ˜ä¸ºæŠ½è±¡ä»¥å¼ºåˆ¶æ‰€æœ‰å…·ä½“å‘½ä»¤æä¾›è‡ªå·±çš„å®ç°ã€‚è¯¥æ–¹æ³•å¿…é¡»æ ¹</span></span><br><span class=\"line\">    <span class=\"comment\">// æ®å‘½ä»¤æ˜¯å¦æ›´æ”¹ç¼–è¾‘å™¨çš„çŠ¶æ€è¿”å› true æˆ– falseã€‚</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> <span class=\"built_in\">bool</span> <span class=\"title\">execute</span>()</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//å…·ä½“å‘½ä»¤</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">CopyCommand</span> : <span class=\"title\">Command</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">// å¤åˆ¶å‘½ä»¤ä¸ä¼šè¢«ä¿å­˜åˆ°å†å²è®°å½•ä¸­ï¼Œå› ä¸ºå®ƒæ²¡æœ‰æ”¹å˜ç¼–è¾‘å™¨çš„çŠ¶æ€ã€‚</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">override</span> <span class=\"built_in\">bool</span> <span class=\"title\">execute</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        app.clipboard = editor.getSelection();</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">CutCommand</span> : <span class=\"title\">Command</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">// å‰ªåˆ‡å‘½ä»¤æ”¹å˜äº†ç¼–è¾‘å™¨çš„çŠ¶æ€ï¼Œå› æ­¤å®ƒå¿…é¡»è¢«ä¿å­˜åˆ°å†å²è®°å½•ä¸­ã€‚åªè¦æ–¹æ³•</span></span><br><span class=\"line\">    <span class=\"comment\">// è¿”å› trueï¼Œå®ƒå°±ä¼šè¢«ä¿å­˜ã€‚</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">override</span> <span class=\"built_in\">bool</span> <span class=\"title\">execute</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        saveBackup();</span><br><span class=\"line\">        app.clipboard = editor.getSelection();</span><br><span class=\"line\">        editor.deleteSelection();</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">CutCommand</span> : <span class=\"title\">Command</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">//ç²˜è´´å‘½ä»¤æ”¹å˜äº†ç¼–è¾‘å™¨çš„çŠ¶æ€</span></span><br><span class=\"line\">    <span class=\"comment\">// è¿”å› trueï¼Œå®ƒå°±ä¼šè¢«ä¿å­˜ã€‚</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">override</span> <span class=\"built_in\">bool</span> <span class=\"title\">execute</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        saveBackup();</span><br><span class=\"line\">        editor.replaceSelection(app.clipboard);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">UndoCommand</span> : <span class=\"title\">Command</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">override</span> <span class=\"built_in\">bool</span> <span class=\"title\">execute</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        app.undo();</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//å…¨å±€å‘½ä»¤å†å²è®°å½•å°±æ˜¯ä¸€ä¸ªå †æ ˆ</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">CommandHistory</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> Command[] history;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">push</span>(<span class=\"params\">Command c</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">// å°†å‘½ä»¤å‹å…¥å†å²è®°å½•æ•°ç»„çš„æœ«å°¾ã€‚</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> Command <span class=\"title\">pop</span>(<span class=\"params\">Command c</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">// ä»å†å²è®°å½•ä¸­å–å‡ºæœ€è¿‘çš„å‘½ä»¤ã€‚</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// ç¼–è¾‘å™¨ç±»åŒ…å«å®é™…çš„æ–‡æœ¬ç¼–è¾‘æ“ä½œã€‚å®ƒä¼šæ‹…ä»»æ¥æ”¶è€…çš„è§’è‰²ï¼šæœ€åæ‰€æœ‰å‘½ä»¤éƒ½ä¼š</span></span><br><span class=\"line\"><span class=\"comment\">// å°†æ‰§è¡Œå·¥ä½œå§”æ´¾ç»™ç¼–è¾‘å™¨çš„æ–¹æ³•ã€‚</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">Editor</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"built_in\">string</span> text;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"built_in\">string</span> <span class=\"title\">getSlection</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">// è¿”å›é€‰ä¸­çš„æ–‡å­—ã€‚</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">deleteSelction</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">// åˆ é™¤é€‰ä¸­çš„æ–‡å­—ã€‚</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">replaceSelection</span>(<span class=\"params\"><span class=\"built_in\">string</span> text</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">// åœ¨å½“å‰ä½ç½®æ’å…¥å‰ªè´´æ¿ä¸­çš„å†…å®¹ã€‚</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// åº”ç”¨ç¨‹åºç±»ä¼šè®¾ç½®å¯¹è±¡ä¹‹é—´çš„å…³ç³»ã€‚å®ƒä¼šæ‹…ä»»å‘é€è€…çš„è§’è‰²ï¼šå½“éœ€è¦å®ŒæˆæŸäº›å·¥</span></span><br><span class=\"line\"><span class=\"comment\">// ä½œæ—¶ï¼Œå®ƒä¼šåˆ›å»ºå¹¶æ‰§è¡Œä¸€ä¸ªå‘½ä»¤å¯¹è±¡ã€‚</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">Application</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"built_in\">string</span> clipboard;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> Editors[] editors;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> Editor activeEditor;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> CommandHistory histroy;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//åˆ†å‘UIçš„å‘½ä»¤</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">createUI</span>()</span> </span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">//å¤åˆ¶æ“ä½œ</span></span><br><span class=\"line\">        copy = function() &#123; executeCommand(</span><br><span class=\"line\">            <span class=\"keyword\">new</span> CopyCommand(<span class=\"keyword\">this</span>, activeEditor)) &#125;;</span><br><span class=\"line\">        copyButton.setCommand(copy);</span><br><span class=\"line\">        shortcuts.onKeyPress(<span class=\"string\">&quot;Ctrl+C&quot;</span>, copy);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">//å‰ªåˆ‡æ“ä½œ</span></span><br><span class=\"line\">        cut = function() &#123; executeCommand(</span><br><span class=\"line\">            <span class=\"keyword\">new</span> CutCommand(<span class=\"keyword\">this</span>, activeEditor)) &#125;;</span><br><span class=\"line\">        cutButton.setCommand(cut);</span><br><span class=\"line\">        shortcuts.onKeyPress(<span class=\"string\">&quot;Ctrl+X&quot;</span>, cut);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">//ç²˜è´´æ“ä½œ</span></span><br><span class=\"line\">        paste = function() &#123; executeCommand(</span><br><span class=\"line\">            <span class=\"keyword\">new</span> PasteCommand(<span class=\"keyword\">this</span>, activeEditor)) &#125;;</span><br><span class=\"line\">        pasteButton.setCommand(paste);</span><br><span class=\"line\">        shortcuts.onKeyPress(<span class=\"string\">&quot;Ctrl+V&quot;</span>, paste);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">//æ’¤é”€æ“ä½œ</span></span><br><span class=\"line\">        undo = function() &#123; executeCommand(</span><br><span class=\"line\">            <span class=\"keyword\">new</span> UndoCommand(<span class=\"keyword\">this</span>, activeEditor)) &#125;;</span><br><span class=\"line\">        undoButton.setCommand(undo);</span><br><span class=\"line\">        shortcuts.onKeyPress(<span class=\"string\">&quot;Ctrl+Z&quot;</span>, undo);</span><br><span class=\"line\">    &#125; </span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// æ‰§è¡Œä¸€ä¸ªå‘½ä»¤å¹¶æ£€æŸ¥å®ƒæ˜¯å¦éœ€è¦è¢«æ·»åŠ åˆ°å†å²è®°å½•ä¸­ã€‚</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">executeCommand</span>(<span class=\"params\">Command command</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(command.execute)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            history.push(command);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// ä»å†å²è®°å½•ä¸­å–å‡ºæœ€è¿‘çš„å‘½ä»¤å¹¶è¿è¡Œå…¶ undoï¼ˆæ’¤é”€ï¼‰æ–¹æ³•ã€‚è¯·æ³¨æ„ï¼Œä½ å¹¶</span></span><br><span class=\"line\">    <span class=\"comment\">// ä¸çŸ¥æ™“è¯¥å‘½ä»¤æ‰€å±çš„ç±»ã€‚ä½†æ˜¯æˆ‘ä»¬ä¸éœ€è¦çŸ¥æ™“ï¼Œå› ä¸ºå‘½ä»¤è‡ªå·±çŸ¥é“å¦‚ä½•æ’¤é”€</span></span><br><span class=\"line\">    <span class=\"comment\">// å…¶åŠ¨ä½œã€‚</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">undo</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Command command = history.pop();</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(command != <span class=\"literal\">null</span>) </span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            command.undo();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"é€‚åˆå‘½ä»¤æ¨¡å¼çš„åœ°æ–¹\"><a href=\"#é€‚åˆå‘½ä»¤æ¨¡å¼çš„åœ°æ–¹\" class=\"headerlink\" title=\"é€‚åˆå‘½ä»¤æ¨¡å¼çš„åœ°æ–¹\"></a>é€‚åˆå‘½ä»¤æ¨¡å¼çš„åœ°æ–¹</h5><ul>\n<li>å¦‚æœä½ éœ€è¦é€šè¿‡æ“ä½œæ¥å‚æ•°åŒ–å¯¹è±¡ï¼Œå¯ä½¿ç”¨å‘½ä»¤æ¨¡å¼ã€‚</li>\n<li>å¦‚æœä½ æƒ³è¦å°†æ“ä½œæ”¾å…¥é˜Ÿåˆ—ä¸­ã€æ“ä½œçš„æ‰§è¡Œæˆ–è€…è¿œç¨‹æ‰§è¡Œæ“ä½œï¼Œå¯ä½¿ç”¨å‘½ä»¤æ¨¡å¼ã€‚</li>\n<li>å¦‚æœä½ æƒ³è¦å®ç°æ“ä½œå›æ»šåŠŸèƒ½ï¼Œå¯ä½¿ç”¨å‘½ä»¤æ¨¡å¼ã€‚ä¸ºäº†èƒ½å¤Ÿå›æ»šæ“ä½œï¼Œä½ éœ€è¦å®ç°å·²æ‰§è¡Œæ“ä½œçš„å†å²è®°å½•åŠŸèƒ½ã€‚å‘½ä»¤å†å²è®°å½•æ˜¯ä¸€ç§åŒ…å«æ‰€æœ‰å·²æ‰§è¡Œå‘½ä»¤å¯¹è±¡åŠå…¶ç›¸å…³ç¨‹åºçŠ¶æ€å¤‡ä»½çš„æ ˆç»“æ„ã€‚è¿™ç§æ–¹æ³•æœ‰ä¸¤ä¸ªç¼ºç‚¹ã€‚é¦–å…ˆï¼Œç¨‹åºçŠ¶æ€çš„ä¿å­˜åŠŸèƒ½å¹¶ä¸å®¹æ˜“å®ç°ï¼Œå› ä¸ºéƒ¨åˆ†çŠ¶æ€å¯èƒ½æ˜¯ç§æœ‰çš„ã€‚ä½ å¯ä»¥ä½¿ç”¨<strong>å¤‡å¿˜å½•æ¨¡å¼</strong>æ¥åœ¨ä¸€å®šç¨‹åº¦ä¸Šè§£å†³è¿™ä¸ªé—®é¢˜ã€‚å…¶æ¬¡ï¼Œå¤‡ä»½çŠ¶æ€å¯èƒ½ä¼šå ç”¨å¤§é‡å†…å­˜ã€‚å› æ­¤ï¼Œæœ‰æ—¶ä½ éœ€è¦å€ŸåŠ©å¦ä¸€ç§å®ç°æ–¹å¼ï¼šå‘½ä»¤æ— éœ€æ¢å¤åŸå§‹çŠ¶æ€ï¼Œè€Œæ˜¯æ‰§è¡Œåå‘æ“ä½œã€‚åå‘æ“ä½œä¹Ÿæœ‰ä»£ä»·ï¼šå®ƒå¯èƒ½ä¼šå¾ˆéš¾ç”šè‡³æ˜¯æ— æ³•å®ç°ã€‚</li>\n</ul>\n<h5 id=\"å‘½ä»¤æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"><a href=\"#å‘½ä»¤æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\" class=\"headerlink\" title=\"å‘½ä»¤æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"></a>å‘½ä»¤æ¨¡å¼çš„ä¼˜ç¼ºç‚¹</h5><p><strong>ä¼˜ç‚¹</strong> :</p>\n<ul>\n<li>ç¬¦åˆSRP</li>\n<li>ç¬¦åˆOCP</li>\n<li>ä½ å¯ä»¥å®ç°æ’¤é”€å’Œæ¢å¤åŠŸèƒ½ã€‚</li>\n<li>ä½ å¯ä»¥å®ç°æ“ä½œçš„å»¶è¿Ÿæ‰§è¡Œã€‚</li>\n<li>ä½ å¯ä»¥å°†ä¸€ç»„ç®€å•å‘½ä»¤ç»„åˆæˆä¸€ä¸ªå¤æ‚å‘½ä»¤ã€‚</li>\n</ul>\n<p><strong>ç¼ºç‚¹</strong> :</p>\n<ul>\n<li>ä»£ç å¯èƒ½ä¼šå˜å¾—æ›´åŠ å¤æ‚ï¼Œå› ä¸ºä½ åœ¨å‘é€è€…å’Œæ¥æ”¶è€…ä¹‹é—´å¢åŠ äº†ä¸€ä¸ªå…¨æ–°çš„å±‚æ¬¡ã€‚</li>\n</ul>\n<h4 id=\"Iterator-è¿­ä»£å™¨æ¨¡å¼\"><a href=\"#Iterator-è¿­ä»£å™¨æ¨¡å¼\" class=\"headerlink\" title=\"Iterator(è¿­ä»£å™¨æ¨¡å¼)\"></a>Iterator(è¿­ä»£å™¨æ¨¡å¼)</h4><p>è¿­ä»£å™¨æ¨¡å¼æ˜¯ä¸€ç§è¡Œä¸ºè®¾è®¡æ¨¡å¼ï¼Œè®©ä½ èƒ½åœ¨ä¸æš´éœ²é›†åˆåº•å±‚è¡¨ç°å½¢å¼ï¼ˆåˆ—è¡¨ã€ æ ˆå’Œæ ‘ç­‰ï¼‰çš„æƒ…å†µä¸‹éå†é›†åˆä¸­æ‰€æœ‰çš„å…ƒç´ ã€‚</p>\n<h5 id=\"é—®é¢˜-14\"><a href=\"#é—®é¢˜-14\" class=\"headerlink\" title=\"é—®é¢˜\"></a>é—®é¢˜</h5><p>å¦‚æœä½ çš„é›†åˆåŸºäºåˆ—è¡¨ï¼Œé‚£ä¹ˆè¿™é¡¹å·¥ä½œå¬ä¸Šå»ä»¿ä½›å¾ˆç®€å•ã€‚ä½†å¦‚ä½•éå†å¤æ‚æ•°æ®ç»“æ„ï¼ˆä¾‹å¦‚æ ‘ï¼‰ä¸­çš„å…ƒç´ å‘¢ï¼Ÿä¾‹å¦‚ï¼Œä»Šå¤©ä½ éœ€è¦ä½¿ç”¨æ·±åº¦ä¼˜å…ˆç®—æ³•æ¥éå†æ ‘ç»“æ„ï¼Œæ˜å¤©å¯èƒ½ä¼šéœ€è¦å¹¿åº¦ä¼˜å…ˆç®—æ³•ï¼›ä¸‹å‘¨åˆ™å¯èƒ½ä¼šéœ€è¦å…¶ä»–æ–¹å¼ ï¼ˆæ¯”å¦‚éšæœºå­˜å–æ ‘ä¸­çš„å…ƒç´ ï¼‰ã€‚ä¸æ–­å‘é›†åˆä¸­æ·»åŠ éå†ç®—æ³•ä¼šæ¨¡ç³Šå…¶ â€œé«˜æ•ˆå­˜å‚¨æ•°æ®â€ çš„ä¸»è¦èŒè´£ã€‚æ­¤å¤–ï¼Œ æœ‰äº›ç®—æ³•å¯èƒ½æ˜¯æ ¹æ®ç‰¹å®šåº”ç”¨è®¢åˆ¶çš„ï¼Œå°†å…¶åŠ å…¥æ³›å‹é›†åˆç±»ä¸­ä¼šæ˜¾å¾—éå¸¸å¥‡æ€ªã€‚<br>å¦ä¸€æ–¹é¢ï¼Œä½¿ç”¨å¤šç§é›†åˆçš„å®¢æˆ·ç«¯ä»£ç å¯èƒ½å¹¶ä¸å…³å¿ƒå­˜å‚¨æ•°æ®çš„æ–¹å¼ã€‚ä¸è¿‡ç”±äºé›†åˆæä¾›ä¸åŒçš„å…ƒç´ è®¿é—®æ–¹å¼ï¼Œä½ çš„ä»£ç å°†ä¸å¾—ä¸ä¸ç‰¹å®šé›†åˆç±»è¿›è¡Œè€¦åˆã€‚</p>\n<h5 id=\"è§£å†³æ–¹æ¡ˆ-14\"><a href=\"#è§£å†³æ–¹æ¡ˆ-14\" class=\"headerlink\" title=\"è§£å†³æ–¹æ¡ˆ\"></a>è§£å†³æ–¹æ¡ˆ</h5><p>è¿­ä»£å™¨æ¨¡å¼çš„ä¸»è¦æ€æƒ³æ˜¯å°†<strong>é›†åˆçš„éå†è¡Œä¸ºæŠ½å–ä¸ºå•ç‹¬çš„è¿­ä»£å™¨å¯¹è±¡</strong>ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220824153321.png\" alt=\"img\"></p>\n<p>é™¤å®ç°è‡ªèº«ç®—æ³•å¤–ï¼Œè¿­ä»£å™¨è¿˜å°è£…äº†éå†æ“ä½œçš„æ‰€æœ‰ç»†èŠ‚ï¼Œä¾‹å¦‚å½“å‰ä½ç½®å’Œæœ«å°¾å‰©ä½™å…ƒç´ çš„æ•°é‡ã€‚å› æ­¤ï¼Œå¤šä¸ªè¿­ä»£å™¨å¯ä»¥åœ¨ç›¸äº’ç‹¬ç«‹çš„æƒ…å†µä¸‹åŒæ—¶è®¿é—®é›†åˆã€‚<br>è¿­ä»£å™¨é€šå¸¸ä¼šæä¾›ä¸€ä¸ªè·å–é›†åˆå…ƒç´ çš„åŸºæœ¬æ–¹æ³•ã€‚å®¢æˆ·ç«¯å¯ä¸æ–­è°ƒç”¨è¯¥æ–¹æ³•ç›´è‡³å®ƒä¸è¿”å›ä»»ä½•å†…å®¹ï¼Œè¿™æ„å‘³ç€è¿­ä»£å™¨å·²ç»éå†äº†æ‰€æœ‰å…ƒç´ ã€‚<br>æ‰€æœ‰è¿­ä»£å™¨å¿…é¡»å®ç°ç›¸åŒçš„æ¥å£ã€‚è¿™æ ·ä¸€æ¥ï¼Œåªè¦æœ‰åˆé€‚çš„è¿­ä»£å™¨ï¼Œå®¢æˆ·ç«¯ä»£ç å°±èƒ½å…¼å®¹ä»»ä½•ç±»å‹çš„é›†åˆæˆ–éå†ç®—æ³•ã€‚å¦‚æœä½ éœ€è¦é‡‡ç”¨ç‰¹æ®Šæ–¹å¼æ¥éå†é›†åˆï¼Œåªéœ€åˆ›å»ºä¸€ä¸ªæ–°çš„è¿­ä»£å™¨ç±»å³å¯ï¼Œæ— éœ€å¯¹é›†åˆæˆ–å®¢æˆ·ç«¯è¿›è¡Œä¿®æ”¹ã€‚</p>\n<h5 id=\"è¿­ä»£å™¨æ¨¡å¼ç»“æ„\"><a href=\"#è¿­ä»£å™¨æ¨¡å¼ç»“æ„\" class=\"headerlink\" title=\"è¿­ä»£å™¨æ¨¡å¼ç»“æ„\"></a>è¿­ä»£å™¨æ¨¡å¼ç»“æ„</h5><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220824153429.png\" alt=\"img\"></p>\n<p>1.<strong>è¿­ä»£å™¨(IterÂ­aÂ­tor)</strong> æ¥å£å£°æ˜äº†éå†é›†åˆæ‰€éœ€çš„æ“ä½œï¼šè·å–ä¸‹ä¸€ä¸ªå…ƒç´ ã€è·å–å½“å‰ä½ç½®å’Œé‡æ–°å¼€å§‹è¿­ä»£ç­‰ã€‚</p>\n<p>2.<strong>å…·ä½“è¿­ä»£å™¨(ConÂ­crete IterÂ­aÂ­tors)</strong> å®ç°éå†é›†åˆçš„ä¸€ç§ç‰¹å®šç®—æ³•ã€‚è¿­ä»£å™¨å¯¹è±¡å¿…é¡»è·Ÿè¸ªè‡ªèº«éå†çš„è¿›åº¦ã€‚è¿™ä½¿å¾—å¤šä¸ªè¿­ä»£å™¨å¯ä»¥ç›¸äº’ç‹¬ç«‹åœ°éå†åŒä¸€é›†åˆã€‚</p>\n<p>3.<strong>é›†åˆ(ColÂ­lecÂ­tion)</strong> æ¥å£å£°æ˜ä¸€ä¸ªæˆ–å¤šä¸ªæ–¹æ³•æ¥è·å–ä¸é›†åˆå…¼å®¹çš„è¿­ä»£å™¨ã€‚è¯·æ³¨æ„ï¼Œè¿”å›æ–¹æ³•çš„ç±»å‹å¿…é¡»è¢«å£°æ˜ä¸ºè¿­ä»£å™¨æ¥å£ï¼Œå› æ­¤å…·ä½“é›†åˆå¯ä»¥è¿”å›å„ç§ä¸åŒç§ç±»çš„è¿­ä»£å™¨ã€‚</p>\n<p>4.<strong>å…·ä½“é›†åˆ(ConÂ­crete ColÂ­lecÂ­tions)</strong> ä¼šåœ¨å®¢æˆ·ç«¯è¯·æ±‚è¿­ä»£å™¨æ—¶è¿”å›ä¸€ä¸ªç‰¹å®šçš„å…·ä½“è¿­ä»£å™¨ç±»å®ä½“ã€‚ä½ å¯èƒ½ä¼šç¢ç£¨ï¼Œå‰©ä¸‹çš„é›†åˆä»£ç åœ¨ä»€ä¹ˆåœ°æ–¹å‘¢ï¼Ÿä¸ç”¨æ‹…å¿ƒï¼Œå®ƒä¹Ÿä¼šåœ¨åŒä¸€ä¸ªç±»ä¸­ã€‚åªæ˜¯è¿™äº›ç»†èŠ‚å¯¹äºå®é™…æ¨¡å¼æ¥è¯´å¹¶ä¸é‡è¦ï¼Œæ‰€ä»¥æˆ‘ä»¬å°†å…¶çœç•¥äº†è€Œå·²ã€‚</p>\n<p>5.<strong>å®¢æˆ·ç«¯(Client)</strong> é€šè¿‡é›†åˆå’Œè¿­ä»£å™¨çš„æ¥å£ä¸ä¸¤è€…è¿›è¡Œäº¤äº’ã€‚è¿™æ ·ä¸€æ¥å®¢æˆ·ç«¯æ— éœ€ä¸å…·ä½“ç±»è¿›è¡Œè€¦åˆï¼Œå…è®¸åŒä¸€å®¢æˆ·ç«¯ä»£ç ä½¿ç”¨å„ç§ä¸åŒçš„é›†åˆå’Œè¿­ä»£å™¨ã€‚<br>å®¢æˆ·ç«¯é€šå¸¸ä¸ä¼šè‡ªè¡Œåˆ›å»ºè¿­ä»£å™¨ï¼Œè€Œæ˜¯ä¼šä»é›†åˆä¸­è·å–ã€‚ä½†åœ¨ç‰¹å®šæƒ…å†µä¸‹ï¼Œå®¢æˆ·ç«¯å¯ä»¥ç›´æ¥åˆ›å»ºä¸€ä¸ªè¿­ä»£å™¨ï¼ˆä¾‹å¦‚å½“å®¢æˆ·ç«¯éœ€è¦è‡ªå®šä¹‰ç‰¹æ®Šè¿­ä»£å™¨æ—¶ï¼‰ã€‚</p>\n<h5 id=\"ä¼ªä»£ç -14\"><a href=\"#ä¼ªä»£ç -14\" class=\"headerlink\" title=\"ä¼ªä»£ç \"></a>ä¼ªä»£ç </h5><p>è¿­ä»£å™¨æ¨¡å¼åœ¨c#ä¸­ååˆ†å¸¸è§ï¼ŒåŸºäºIEnumeratorå’ŒIEnumerableçš„ä½¿ç”¨ï¼Œç„¶ååœ¨foreachä¸­å°±èƒ½å¾ˆæ–¹ä¾¿åœ°å®ç°ã€‚å‰è€…æ˜¯è®¡æ•°å™¨ï¼Œåè€…æ˜¯å¯è®¡æ•°çš„ï¼Œä¹Ÿå°±ç›¸å½“äºè¿­ä»£å™¨æ¨¡å¼é‡Œçš„è¿­ä»£å™¨å’Œé›†åˆ</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//è¿­ä»£å™¨åŸºç±»ï¼Œå®ç°IEnumeratoræ¥å£</span></span><br><span class=\"line\"><span class=\"keyword\">abstract</span> <span class=\"keyword\">class</span> <span class=\"title\">Iterator</span> : <span class=\"title\">IEnumerator</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"built_in\">object</span> IEnumerator.Current =&gt; Current();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// è¿”å›å½“å‰å…ƒç´ çš„é”®</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> <span class=\"built_in\">int</span> <span class=\"title\">Key</span>()</span>;    </span><br><span class=\"line\">    <span class=\"comment\">// è¿”å›å½“å‰å…ƒç´ </span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> <span class=\"built_in\">object</span> <span class=\"title\">Current</span>()</span>;    </span><br><span class=\"line\">    <span class=\"comment\">// ç§»åŠ¨åˆ°ä¸‹ä¸€ä½å…ƒç´ </span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> <span class=\"built_in\">bool</span> <span class=\"title\">MoveNext</span>()</span>;    </span><br><span class=\"line\">    <span class=\"comment\">// é‡ç½®å½“å‰æŒ‡çš„ä½ç½®åˆ°åˆå§‹ä½ç½®</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> <span class=\"keyword\">void</span> <span class=\"title\">Reset</span>()</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//é›†åˆåŸºç±»</span></span><br><span class=\"line\"><span class=\"keyword\">abstract</span> <span class=\"keyword\">class</span> <span class=\"title\">IteratorAggregate</span> : <span class=\"title\">Ienumerable</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">//è¿”å›é›†åˆå¯¹åº”çš„è¿­ä»£å™¨</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> IEnumerator <span class=\"title\">GetEnumerator</span>()</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//å…·ä½“è¿­ä»£å™¨çš„éå†ç®—æ³•</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">AlphabeticalOrderIterator</span> : <span class=\"title\">Iterator</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> WordsCollection _collection;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"built_in\">int</span> _position = <span class=\"number\">-1</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"built_in\">bool</span> _reverse = <span class=\"literal\">false</span>;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">AlphabeticalOrderIterator</span>(<span class=\"params\">WordsCollection collection, <span class=\"built_in\">bool</span> reverse = <span class=\"literal\">false</span></span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._collection = collection;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._reverse = reverse;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (reverse)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">this</span>._position = collection.getItems().Count;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">override</span> <span class=\"built_in\">int</span> <span class=\"title\">Key</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>._position;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">override</span> <span class=\"built_in\">object</span> <span class=\"title\">Current</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>._collection.getItems()[_position];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">override</span> <span class=\"built_in\">bool</span> <span class=\"title\">MoveNext</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"built_in\">int</span> updatedPosition = <span class=\"keyword\">this</span>._position + (<span class=\"keyword\">this</span>._reverse ? <span class=\"number\">-1</span> : <span class=\"number\">1</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span>(updatedPosition &gt;= <span class=\"number\">0</span> &amp;&amp; updatedPosition &lt; <span class=\"keyword\">this</span>._collection.getItems())</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">this</span>._position = updatePosition;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">else</span> </span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">override</span> <span class=\"keyword\">void</span> <span class=\"title\">Reset</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._position = <span class=\"keyword\">this</span>._reverse ? <span class=\"keyword\">this</span>._collection.getItems().Count - <span class=\"number\">1</span> : <span class=\"number\">0</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//å…·ä½“é›†åˆç±»</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">WordsCollection</span> : <span class=\"title\">IteratorAggregate</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    List&lt;<span class=\"built_in\">string</span>&gt; _collection = <span class=\"keyword\">new</span> List&lt;<span class=\"built_in\">string</span>&gt;();</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">//å†³å®šæ˜¯å¦åè½¬</span></span><br><span class=\"line\">    <span class=\"built_in\">bool</span> _direction = <span class=\"literal\">false</span>;</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">ReverseDirection</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        _direction = !_direction;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> List&lt;<span class=\"built_in\">string</span>&gt; <span class=\"title\">getItems</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> _collection;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">AddItem</span>(<span class=\"params\"><span class=\"built_in\">string</span> item</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._collection.Add(item);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">override</span> IEnumerator <span class=\"title\">GetEnumerator</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> AlphabeticalOrderIterator(<span class=\"keyword\">this</span>, _direction);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//å®¢æˆ·ç«¯ä»£ç </span></span><br><span class=\"line\"><span class=\"keyword\">var</span> collection = <span class=\"keyword\">new</span> WordsCollection();</span><br><span class=\"line\">collection.AddItem(<span class=\"string\">&quot;First&quot;</span>);        collection.AddItem(<span class=\"string\">&quot;Second&quot;</span>);        collection.AddItem(<span class=\"string\">&quot;Third&quot;</span>);</span><br><span class=\"line\">Console.WriteLine(<span class=\"string\">&quot;Straight traversal:&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">foreach</span> (<span class=\"keyword\">var</span> element <span class=\"keyword\">in</span> collection)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    Console.WriteLine(element);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">Console.WriteLine(<span class=\"string\">&quot;\\nReverse traversal:&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">collection.ReverseDirection();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">foreach</span> (<span class=\"keyword\">var</span> element <span class=\"keyword\">in</span> collection)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    Console.WriteLine(element);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/*è¿è¡Œç»“æœ</span></span><br><span class=\"line\"><span class=\"comment\">Straight traversal:</span></span><br><span class=\"line\"><span class=\"comment\">First</span></span><br><span class=\"line\"><span class=\"comment\">Second</span></span><br><span class=\"line\"><span class=\"comment\">Third</span></span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\">Reverse traversal:</span></span><br><span class=\"line\"><span class=\"comment\">Third</span></span><br><span class=\"line\"><span class=\"comment\">Second</span></span><br><span class=\"line\"><span class=\"comment\">First</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br></pre></td></tr></table></figure>\n\n<h5 id=\"é€‚åˆè¿­ä»£å™¨æ¨¡å¼çš„åœ°æ–¹\"><a href=\"#é€‚åˆè¿­ä»£å™¨æ¨¡å¼çš„åœ°æ–¹\" class=\"headerlink\" title=\"é€‚åˆè¿­ä»£å™¨æ¨¡å¼çš„åœ°æ–¹\"></a>é€‚åˆè¿­ä»£å™¨æ¨¡å¼çš„åœ°æ–¹</h5><ul>\n<li>å½“é›†åˆèƒŒåä¸ºå¤æ‚çš„æ•°æ®ç»“æ„ï¼Œä¸”ä½ å¸Œæœ›å¯¹å®¢æˆ·ç«¯éšè—å…¶å¤æ‚æ€§æ—¶ï¼ˆå‡ºäºä½¿ç”¨ä¾¿åˆ©æ€§æˆ–å®‰å…¨æ€§çš„è€ƒè™‘ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨è¿­ä»£å™¨æ¨¡å¼ã€‚</li>\n<li>ä½¿ç”¨è¯¥æ¨¡å¼å¯ä»¥å‡å°‘ç¨‹åºä¸­é‡å¤çš„éå†ä»£ç ã€‚</li>\n<li>å¦‚æœä½ å¸Œæœ›ä»£ç èƒ½å¤Ÿéå†ä¸åŒçš„ç”šè‡³æ˜¯æ— æ³•é¢„çŸ¥çš„æ•°æ®ç»“æ„ï¼Œå¯ä»¥ä½¿ç”¨è¿­ä»£å™¨æ¨¡å¼ã€‚</li>\n</ul>\n<h5 id=\"è¿­ä»£å™¨æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"><a href=\"#è¿­ä»£å™¨æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\" class=\"headerlink\" title=\"è¿­ä»£å™¨æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"></a>è¿­ä»£å™¨æ¨¡å¼çš„ä¼˜ç¼ºç‚¹</h5><p><strong>ä¼˜ç‚¹</strong> :</p>\n<ul>\n<li>ç¬¦åˆSRP</li>\n<li>ç¬¦åˆOCP</li>\n<li>ä½ å¯ä»¥å¹¶è¡Œéå†åŒä¸€é›†åˆï¼Œå› ä¸ºæ¯ä¸ªè¿­ä»£å™¨å¯¹è±¡éƒ½åŒ…å«å…¶è‡ªèº«çš„éå†çŠ¶æ€ã€‚</li>\n<li>ç›¸ä¼¼çš„ï¼Œä½ å¯ä»¥æš‚åœéå†å¹¶åœ¨éœ€è¦æ—¶ç»§ç»­ã€‚</li>\n</ul>\n<p><strong>ç¼ºç‚¹</strong> :</p>\n<ul>\n<li>å¦‚æœä½ çš„ç¨‹åºåªä¸ç®€å•çš„é›†åˆè¿›è¡Œäº¤äº’ï¼Œåº”ç”¨è¯¥æ¨¡å¼å¯èƒ½ä¼šçŸ«æ‰è¿‡æ­£ã€‚</li>\n<li>å¯¹äºæŸäº›ç‰¹æ®Šé›†åˆï¼Œä½¿ç”¨è¿­ä»£å™¨å¯èƒ½æ¯”ç›´æ¥éå†çš„æ•ˆç‡ä½ã€‚</li>\n</ul>\n<h4 id=\"Mediator-ä¸­ä»‹è€…æ¨¡å¼\"><a href=\"#Mediator-ä¸­ä»‹è€…æ¨¡å¼\" class=\"headerlink\" title=\"Mediator(ä¸­ä»‹è€…æ¨¡å¼)\"></a>Mediator(ä¸­ä»‹è€…æ¨¡å¼)</h4><p>ä¸­ä»‹è€…æ¨¡å¼æ˜¯ä¸€ç§è¡Œä¸ºè®¾è®¡æ¨¡å¼ï¼Œèƒ½è®©ä½ å‡å°‘å¯¹è±¡ä¹‹é—´æ··ä¹±æ— åºçš„ä¾èµ–å…³ç³»ã€‚è¯¥æ¨¡å¼ä¼šé™åˆ¶å¯¹è±¡ä¹‹é—´çš„ç›´æ¥äº¤äº’ï¼Œè¿«ä½¿å®ƒä»¬é€šè¿‡ä¸€ä¸ªä¸­ä»‹è€…å¯¹è±¡è¿›è¡Œåˆä½œã€‚</p>\n<h5 id=\"é—®é¢˜-15\"><a href=\"#é—®é¢˜-15\" class=\"headerlink\" title=\"é—®é¢˜\"></a>é—®é¢˜</h5><p>å‡å¦‚ä½ æœ‰ä¸€ä¸ªåˆ›å»ºå’Œä¿®æ”¹å®¢æˆ·èµ„æ–™çš„å¯¹è¯æ¡†ï¼Œå®ƒç”±å„ç§æ§ä»¶ç»„æˆï¼Œä¾‹å¦‚æ–‡æœ¬æ¡†ï¼ˆTextÂ­Fieldï¼‰ã€å¤é€‰æ¡† ï¼ˆCheckÂ­boxï¼‰å’ŒæŒ‰é’®ï¼ˆButÂ­tonï¼‰ç­‰ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220824213630.png\" alt=\"img\"></p>\n<p>å¦‚æœç›´æ¥åœ¨è¡¨å•å…ƒç´ ä»£ç ä¸­å®ç°ä¸šåŠ¡é€»è¾‘ï¼Œä½ å°†å¾ˆéš¾åœ¨ç¨‹åºå…¶ä»–è¡¨å•ä¸­å¤ç”¨è¿™äº›å…ƒç´ ç±»ã€‚ä¾‹å¦‚ï¼Œç”±äºå¤é€‰æ¡†ç±»ä¸ç‹—ç‹—çš„æ–‡æœ¬æ¡†ç›¸è€¦åˆï¼Œæ‰€ä»¥å°†æ— æ³•åœ¨å…¶ä»–è¡¨å•ä¸­ä½¿ç”¨å®ƒã€‚ä½ è¦ä¹ˆä½¿ç”¨æ¸²æŸ“èµ„æ–™è¡¨å•æ—¶ç”¨åˆ°çš„æ‰€æœ‰ç±»ï¼Œè¦ä¹ˆä¸€ä¸ªéƒ½ä¸ç”¨ã€‚</p>\n<h5 id=\"è§£å†³æ–¹æ¡ˆ-15\"><a href=\"#è§£å†³æ–¹æ¡ˆ-15\" class=\"headerlink\" title=\"è§£å†³æ–¹æ¡ˆ\"></a>è§£å†³æ–¹æ¡ˆ</h5><p>ä¸­ä»‹è€…æ¨¡å¼å»ºè®®ä½ <strong>åœæ­¢ç»„ä»¶ä¹‹é—´çš„ç›´æ¥äº¤æµå¹¶ä½¿å…¶ç›¸äº’ç‹¬ç«‹</strong>ã€‚è¿™äº›ç»„ä»¶å¿…é¡»è°ƒç”¨ç‰¹æ®Šçš„ä¸­ä»‹è€…å¯¹è±¡ï¼Œé€šè¿‡ä¸­ä»‹è€…å¯¹è±¡é‡å®šå‘è°ƒç”¨è¡Œä¸ºï¼Œä»¥é—´æ¥çš„æ–¹å¼è¿›è¡Œåˆä½œã€‚æœ€ç»ˆï¼Œ<strong>ç»„ä»¶ä»…ä¾èµ–äºä¸€ä¸ªä¸­ä»‹è€…ç±»ï¼Œæ— éœ€ä¸å¤šä¸ªå…¶ä»–ç»„ä»¶ç›¸è€¦åˆ</strong>ã€‚<br>ä½ è¿˜å¯ä»¥ä¸ºæ‰€æœ‰ç±»å‹çš„å¯¹è¯æ¡†æŠ½å–é€šç”¨æ¥å£ï¼Œè¿›ä¸€æ­¥å‰Šå¼±å…¶ä¾èµ–æ€§ã€‚æ¥å£ä¸­å°†å£°æ˜ä¸€ä¸ªæ‰€æœ‰è¡¨å•å…ƒç´ éƒ½èƒ½ä½¿ç”¨çš„é€šçŸ¥æ–¹æ³•ï¼Œå¯ç”¨äºå°†å…ƒç´ ä¸­å‘ç”Ÿçš„äº‹ä»¶é€šçŸ¥ç»™å¯¹è¯æ¡†ã€‚è¿™æ ·ä¸€æ¥ï¼Œæ‰€æœ‰å®ç°äº†è¯¥æ¥å£çš„å¯¹è¯æ¡†éƒ½èƒ½ä½¿ç”¨è¿™ä¸ªæäº¤æŒ‰é’®äº†ã€‚<br>é‡‡ç”¨è¿™ç§æ–¹å¼ï¼Œä¸­ä»‹è€…æ¨¡å¼è®©ä½ èƒ½åœ¨å•ä¸ªä¸­ä»‹è€…å¯¹è±¡ä¸­å°è£…å¤šä¸ªå¯¹è±¡é—´çš„å¤æ‚å…³ç³»ç½‘ã€‚ç±»æ‰€æ‹¥æœ‰çš„ä¾èµ–å…³ç³»è¶Šå°‘ï¼Œå°±è¶Šæ˜“äºä¿®æ”¹ã€æ‰©å±•æˆ–å¤ç”¨ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220824213818.png\" alt=\"img\"></p>\n<p>é£è¡Œå™¨é©¾é©¶å‘˜ä»¬åœ¨é è¿‘æˆ–ç¦»å¼€ç©ºä¸­ç®¡åˆ¶åŒºåŸŸæ—¶ä¸ä¼šç›´æ¥ç›¸äº’äº¤æµã€‚ä½†ä»–ä»¬ä¼šä¸é£æœºè·‘é“é™„è¿‘ï¼Œå¡”å°ä¸­çš„ç©ºç®¡å‘˜é€šè¯ã€‚å¦‚æœæ²¡æœ‰ç©ºç®¡å‘˜ï¼Œé©¾é©¶å‘˜å°±éœ€è¦ç•™æ„æœºåœºé™„è¿‘çš„æ‰€æœ‰é£æœºï¼Œå¹¶ä¸æ•°åä½é£è¡Œå‘˜ç»„æˆçš„å§”å‘˜ä¼šè®¨è®ºé™è½é¡ºåºã€‚é‚£ææ€•ä¼šè®©é£æœºå æ¯çš„ç»Ÿè®¡æ•°æ®ä¸€é£å†²å¤©å§ã€‚</p>\n<p>å¡”å°æ— éœ€ç®¡åˆ¶é£è¡Œå…¨ç¨‹ï¼Œåªéœ€åœ¨èˆªç«™åŒºåŠ å¼ºç®¡æ§å³å¯ï¼Œå› ä¸ºè¯¥åŒºåŸŸçš„å†³ç­–å‚ä¸è€…æ•°é‡å¯¹äºé£è¡Œå‘˜æ¥è¯´å®åœ¨å¤ªå¤šäº†ã€‚</p>\n<h5 id=\"ä¸­ä»‹è€…æ¨¡å¼ç»“æ„\"><a href=\"#ä¸­ä»‹è€…æ¨¡å¼ç»“æ„\" class=\"headerlink\" title=\"ä¸­ä»‹è€…æ¨¡å¼ç»“æ„\"></a>ä¸­ä»‹è€…æ¨¡å¼ç»“æ„</h5><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220824213846.png\" alt=\"img\"></p>\n<p>1.<strong>ç»„ä»¶(ComÂ­poÂ­nent)</strong> æ˜¯å„ç§åŒ…å«ä¸šåŠ¡é€»è¾‘çš„ç±»ã€‚æ¯ä¸ªç»„ä»¶éƒ½æœ‰ä¸€ä¸ªæŒ‡å‘ä¸­ä»‹è€…çš„å¼•ç”¨ï¼Œè¯¥å¼•ç”¨è¢«å£°æ˜ä¸ºä¸­ä»‹è€…æ¥å£ç±»å‹ã€‚ç»„ä»¶ä¸çŸ¥é“ä¸­ä»‹è€…å®é™…æ‰€å±çš„ç±»ï¼Œå› æ­¤ä½ å¯é€šè¿‡å°†å…¶è¿æ¥åˆ°ä¸åŒçš„ä¸­ä»‹è€…ä»¥ä½¿å…¶èƒ½åœ¨å…¶ä»–ç¨‹åºä¸­å¤ç”¨ã€‚</p>\n<p>2.<strong>ä¸­ä»‹è€…(MediÂ­aÂ­tor)</strong> æ¥å£å£°æ˜äº†ä¸ç»„ä»¶äº¤æµçš„æ–¹æ³•ï¼Œä½†é€šå¸¸ä»…åŒ…æ‹¬ä¸€ä¸ªé€šçŸ¥æ–¹æ³•ã€‚ç»„ä»¶å¯å°†ä»»æ„ä¸Šä¸‹æ–‡ï¼ˆåŒ…æ‹¬è‡ªå·±çš„å¯¹è±¡ï¼‰ä½œä¸ºè¯¥æ–¹æ³•çš„å‚æ•°ï¼Œåªæœ‰è¿™æ ·æ¥æ”¶ç»„ä»¶å’Œå‘é€è€…ç±»ä¹‹é—´æ‰ä¸ä¼šè€¦åˆã€‚</p>\n<p>3.<strong>å…·ä½“ä¸­ä»‹è€…(ConÂ­crete MediÂ­aÂ­tor)</strong> å°è£…äº†å¤šç§ç»„ä»¶é—´çš„å…³ç³»ã€‚å…·ä½“ä¸­ä»‹è€…é€šå¸¸ä¼šä¿å­˜æ‰€æœ‰ç»„ä»¶çš„å¼•ç”¨å¹¶å¯¹å…¶è¿›è¡Œç®¡ç†ï¼Œç”šè‡³æœ‰æ—¶ä¼šå¯¹å…¶ç”Ÿå‘½å‘¨æœŸè¿›è¡Œç®¡ç†ã€‚</p>\n<p>4.ç»„ä»¶å¹¶ä¸çŸ¥é“å…¶ä»–ç»„ä»¶çš„æƒ…å†µã€‚å¦‚æœç»„ä»¶å†…å‘ç”Ÿäº†é‡è¦äº‹ä»¶ï¼Œå®ƒåªèƒ½é€šçŸ¥ä¸­ä»‹è€…ã€‚ä¸­ä»‹è€…æ”¶åˆ°é€šçŸ¥åèƒ½è½»æ˜“åœ°ç¡®å®šå‘é€è€…ï¼Œè¿™æˆ–è®¸å·²è¶³ä»¥åˆ¤æ–­æ¥ä¸‹æ¥éœ€è¦è§¦å‘çš„ç»„ä»¶äº†ã€‚<br>å¯¹äºç»„ä»¶æ¥è¯´ï¼Œä¸­ä»‹è€…çœ‹ä¸Šå»å®Œå…¨å°±æ˜¯ä¸€ä¸ªé»‘ç®±ã€‚å‘é€è€…ä¸çŸ¥é“æœ€ç»ˆä¼šç”±è°æ¥å¤„ç†è‡ªå·±çš„è¯·æ±‚ï¼Œæ¥æ”¶è€…ä¹Ÿä¸çŸ¥é“æœ€åˆæ˜¯è°å‘å‡ºäº†è¯·æ±‚ã€‚</p>\n<h5 id=\"ä¼ªä»£ç -15\"><a href=\"#ä¼ªä»£ç -15\" class=\"headerlink\" title=\"ä¼ªä»£ç \"></a>ä¼ªä»£ç </h5><p>ä¸­ä»‹è€…æ¨¡å¼åœ¨ C# ä»£ç ä¸­æœ€å¸¸ç”¨äºå¸®åŠ©ç¨‹åº GUI ç»„ä»¶ä¹‹é—´çš„é€šä¿¡ã€‚åœ¨ MVC æ¨¡å¼ä¸­ï¼Œæ§åˆ¶å™¨æ˜¯ä¸­ä»‹è€…çš„åŒä¹‰è¯ã€‚</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//ä¸­ä»‹è€…æ¥å£å£°æ˜å„ç§å…ƒç´ é€šè¿‡æ´»åŠ¨ç›¸äº’é€šçŸ¥çš„æ–¹æ³•</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title\">IMediator</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">Notify</span>(<span class=\"params\"><span class=\"built_in\">object</span> sender,<span class=\"built_in\">string</span> ev</span>)</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//å…·ä½“ä¸­ä»‹è€…</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">ConcreteMediator</span> : <span class=\"title\">IMediator</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> Component1 _component1;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> Component2 _component2;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">ConcreteMediator</span>(<span class=\"params\">Component1 component1, Component2 component2</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._component1 = component1;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._component1.SetMediator(<span class=\"keyword\">this</span>);</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._component2 = component2;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._component2.SetMediator(<span class=\"keyword\">this</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Notify</span>(<span class=\"params\"><span class=\"built_in\">object</span> sender,<span class=\"built_in\">string</span> ev</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (ev == <span class=\"string\">&quot;A&quot;</span>)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            Console.WriteLine(<span class=\"string\">&quot;Mediator reacts on A and triggers folowing operations:&quot;</span>);</span><br><span class=\"line\">            <span class=\"keyword\">this</span>._component2.DoC();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (ev == <span class=\"string\">&quot;D&quot;</span>)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            Console.WriteLine(<span class=\"string\">&quot;Mediator reacts on D and triggers following operations:&quot;</span>);                </span><br><span class=\"line\">            <span class=\"keyword\">this</span>._component1.DoB();</span><br><span class=\"line\">            <span class=\"keyword\">this</span>._component2.DoC();</span><br><span class=\"line\">        &#125;        </span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//åŸºæœ¬ç»„ä»¶ç±»æä¾›å­˜å‚¨å¯¹åº”çš„å¼•ç”¨çš„ä¸­ä»‹è€…çš„åŠŸèƒ½</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">BaseComponent</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">protected</span> IMediator _mediator;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">BaseComponent</span>(<span class=\"params\">IMediator mediator =<span class=\"literal\">null</span></span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._mediator = mediator;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">SetMediator</span>(<span class=\"params\">IMediator mediator</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._mediator = mediator;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//å…·ä½“ç»„ä»¶å®ç°å…·ä½“åŠŸèƒ½ï¼Œä¸åŒçš„å…·ä½“ç»„ä»¶è™½ç„¶</span></span><br><span class=\"line\"><span class=\"comment\">//ä¼šç›¸äº’ç”¨åˆ°ï¼Œä½†å¹¶ä¸ä¼šç›´æ¥ç”¨åˆ°ï¼Œåªä¼šé€šè¿‡</span></span><br><span class=\"line\"><span class=\"comment\">//ä¸­ä»‹è€…æ¥å¼•ç”¨</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">Component1</span> : <span class=\"title\">BaseComponent</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">DoA</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Console.WriteLine(<span class=\"string\">&quot;Component 1 does A.&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">this</span>._mediator.Notify(<span class=\"keyword\">this</span>,<span class=\"string\">&quot;A&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">DoB</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Console.WriteLine(<span class=\"string\">&quot;Component 1 does B.&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">this</span>._mediator.Notify(<span class=\"keyword\">this</span>, <span class=\"string\">&quot;B&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">Component2</span> : <span class=\"title\">BaseComponent</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">DoC</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Console.WriteLine(<span class=\"string\">&quot;Component 2 does C.&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">this</span>._mediator.Notify(<span class=\"keyword\">this</span>, <span class=\"string\">&quot;C&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">DoD</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Console.WriteLine(<span class=\"string\">&quot;Component 2 does D.&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">this</span>._mediator.Notify(<span class=\"keyword\">this</span>, <span class=\"string\">&quot;D&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//å®¢æˆ·ç«¯ä»£ç </span></span><br><span class=\"line\">Component1 component1 = <span class=\"keyword\">new</span> Component1();</span><br><span class=\"line\">Component2 component2 = <span class=\"keyword\">new</span> Component2();</span><br><span class=\"line\"><span class=\"keyword\">new</span> ConcreteMediator(component1, component2);</span><br><span class=\"line\"></span><br><span class=\"line\">Console.WriteLine(<span class=\"string\">&quot;Client triggets operation A.&quot;</span>);</span><br><span class=\"line\">component1.DoA();</span><br><span class=\"line\"></span><br><span class=\"line\">Console.WriteLine();</span><br><span class=\"line\"></span><br><span class=\"line\">Console.WriteLine(<span class=\"string\">&quot;Client triggers operation D.&quot;</span>);</span><br><span class=\"line\">component2.DoD();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/*è¿è¡Œç»“æœ</span></span><br><span class=\"line\"><span class=\"comment\">Client triggers operation A.</span></span><br><span class=\"line\"><span class=\"comment\">Component 1 does A.</span></span><br><span class=\"line\"><span class=\"comment\">Mediator reacts on A and triggers following operations:</span></span><br><span class=\"line\"><span class=\"comment\">Component 2 does C.</span></span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\">Client triggers operation D.</span></span><br><span class=\"line\"><span class=\"comment\">Component 2 does D.</span></span><br><span class=\"line\"><span class=\"comment\">Mediator reacts on D and triggers following operations:</span></span><br><span class=\"line\"><span class=\"comment\">Component 1 does B.</span></span><br><span class=\"line\"><span class=\"comment\">Component 2 does C.</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br></pre></td></tr></table></figure>\n\n<h5 id=\"é€‚åˆä¸­ä»‹è€…æ¨¡å¼çš„åœ°æ–¹\"><a href=\"#é€‚åˆä¸­ä»‹è€…æ¨¡å¼çš„åœ°æ–¹\" class=\"headerlink\" title=\"é€‚åˆä¸­ä»‹è€…æ¨¡å¼çš„åœ°æ–¹\"></a>é€‚åˆä¸­ä»‹è€…æ¨¡å¼çš„åœ°æ–¹</h5><ul>\n<li>å½“ä¸€äº›å¯¹è±¡å’Œå…¶ä»–å¯¹è±¡ç´§å¯†è€¦åˆä»¥è‡´éš¾ä»¥å¯¹å…¶è¿›è¡Œä¿®æ”¹æ—¶ï¼Œå¯ä½¿ç”¨ä¸­ä»‹è€…æ¨¡å¼ã€‚</li>\n<li>å½“ç»„ä»¶å› è¿‡äºä¾èµ–å…¶ä»–ç»„ä»¶è€Œæ— æ³•åœ¨ä¸åŒåº”ç”¨ä¸­å¤ç”¨æ—¶ï¼Œå¯ä½¿ç”¨ä¸­ä»‹è€…æ¨¡å¼ã€‚</li>\n<li>å¦‚æœä¸ºäº†èƒ½åœ¨ä¸åŒæƒ…æ™¯ä¸‹å¤ç”¨ä¸€äº›åŸºæœ¬è¡Œä¸ºï¼Œå¯¼è‡´ä½ éœ€è¦è¢«è¿«åˆ›å»ºå¤§é‡ç»„ä»¶å­ç±»æ—¶ï¼Œå¯ä½¿ç”¨ä¸­ä»‹è€…æ¨¡å¼ã€‚</li>\n</ul>\n<h5 id=\"ä¸­ä»‹è€…æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"><a href=\"#ä¸­ä»‹è€…æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\" class=\"headerlink\" title=\"ä¸­ä»‹è€…æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"></a>ä¸­ä»‹è€…æ¨¡å¼çš„ä¼˜ç¼ºç‚¹</h5><p><strong>ä¼˜ç‚¹</strong> ï¼š</p>\n<ul>\n<li>ç¬¦åˆSRP</li>\n<li>ç¬¦åˆOCP</li>\n<li>ä½ å¯ä»¥å‡è½»åº”ç”¨ä¸­å¤šä¸ªç»„ä»¶é—´çš„è€¦åˆæƒ…å†µã€‚</li>\n<li>ä½ å¯ä»¥æ›´æ–¹ä¾¿åœ°å¤ç”¨å„ä¸ªç»„ä»¶ã€‚</li>\n</ul>\n<p><strong>ç¼ºç‚¹</strong> ï¼š</p>\n<ul>\n<li>ä¸€æ®µæ—¶é—´åï¼Œä¸­ä»‹è€…å¯èƒ½ä¼šæ¼”åŒ–æˆä¸ºä¸Šå¸å¯¹è±¡ã€‚</li>\n</ul>\n<h4 id=\"Memento-å¤‡å¿˜å½•æ¨¡å¼\"><a href=\"#Memento-å¤‡å¿˜å½•æ¨¡å¼\" class=\"headerlink\" title=\"Memento(å¤‡å¿˜å½•æ¨¡å¼)\"></a>Memento(å¤‡å¿˜å½•æ¨¡å¼)</h4><p>å¤‡å¿˜å½•æ¨¡å¼æ˜¯ä¸€ç§è¡Œä¸ºè®¾è®¡æ¨¡å¼ï¼Œå…è®¸åœ¨ä¸æš´éœ²å¯¹è±¡å®ç°ç»†èŠ‚çš„æƒ…å†µä¸‹ä¿å­˜å’Œæ¢å¤å¯¹è±¡ä¹‹å‰çš„çŠ¶æ€ã€‚</p>\n<h5 id=\"é—®é¢˜-16\"><a href=\"#é—®é¢˜-16\" class=\"headerlink\" title=\"é—®é¢˜\"></a>é—®é¢˜</h5><p>å‡å¦‚ä½ æ­£åœ¨å¼€å‘ä¸€æ¬¾æ–‡å­—ç¼–è¾‘å™¨åº”ç”¨ç¨‹åºã€‚é™¤äº†ç®€å•çš„æ–‡å­—ç¼–è¾‘åŠŸèƒ½å¤–ï¼Œç¼–è¾‘å™¨ä¸­è¿˜è¦æœ‰è®¾ç½®æ–‡æœ¬æ ¼å¼å’Œæ’å…¥å†…åµŒå›¾ç‰‡ç­‰åŠŸèƒ½ã€‚<br>åæ¥ï¼Œä½ å†³å®šè®©ç”¨æˆ·èƒ½æ’¤é”€æ–½åŠ åœ¨æ–‡æœ¬ä¸Šçš„ä»»ä½•æ“ä½œã€‚è¿™é¡¹åŠŸèƒ½åœ¨è¿‡å»å‡ å¹´é‡Œå˜å¾—ååˆ†æ™®éï¼Œå› æ­¤ç”¨æˆ·æœŸå¾…ä»»ä½•ç¨‹åºéƒ½æœ‰è¿™é¡¹åŠŸèƒ½ã€‚ä½ é€‰æ‹©é‡‡ç”¨ç›´æ¥çš„æ–¹å¼æ¥å®ç°è¯¥åŠŸèƒ½ï¼šç¨‹åºåœ¨æ‰§è¡Œä»»ä½•æ“ä½œå‰ä¼šè®°å½•æ‰€æœ‰çš„å¯¹è±¡çŠ¶æ€ï¼Œå¹¶å°†å…¶ä¿å­˜ä¸‹æ¥ã€‚å½“ç”¨æˆ·æ­¤åéœ€è¦æ’¤é”€æŸä¸ªæ“ä½œæ—¶ï¼Œç¨‹åºå°†ä»å†å²è®°å½•ä¸­è·å–æœ€è¿‘çš„å¿«ç…§ï¼Œç„¶åä½¿ç”¨å®ƒæ¥æ¢å¤æ‰€æœ‰å¯¹è±¡çš„çŠ¶æ€ã€‚<br>è®©æˆ‘ä»¬æ¥æ€è€ƒä¸€ä¸‹è¿™äº›çŠ¶æ€å¿«ç…§ã€‚é¦–å…ˆï¼Œåˆ°åº•è¯¥å¦‚ä½•ç”Ÿæˆä¸€ä¸ªå¿«ç…§å‘¢ï¼Ÿå¾ˆå¯èƒ½ä½ ä¼šéœ€è¦éå†å¯¹è±¡çš„æ‰€æœ‰æˆå‘˜å˜é‡å¹¶å°†å…¶æ•°å€¼å¤åˆ¶ä¿å­˜ã€‚ä½†åªæœ‰å½“å¯¹è±¡å¯¹å…¶å†…å®¹æ²¡æœ‰ä¸¥æ ¼è®¿é—®æƒé™é™åˆ¶çš„æƒ…å†µä¸‹ï¼Œä½ æ‰èƒ½ä½¿ç”¨è¯¥æ–¹å¼ã€‚ä¸è¿‡å¾ˆé—æ†¾ï¼Œç»å¤§éƒ¨åˆ†å¯¹è±¡ä¼šä½¿ç”¨ç§æœ‰æˆå‘˜å˜é‡æ¥å­˜å‚¨é‡è¦æ•°æ®ï¼Œè¿™æ ·åˆ«äººå°±æ— æ³•è½»æ˜“æŸ¥çœ‹å…¶ä¸­çš„å†…å®¹ã€‚<br>ç°åœ¨æˆ‘ä»¬æš‚æ—¶å¿½ç•¥è¿™ä¸ªé—®é¢˜ï¼Œå‡è®¾å¯¹è±¡éƒ½åƒå¬‰çš®å£«ä¸€æ ·ï¼šå–œæ¬¢å¼€æ”¾å¼çš„å…³ç³»å¹¶ä¼šå…¬å¼€å…¶æ‰€æœ‰çŠ¶æ€ã€‚å°½ç®¡è¿™ç§æ–¹å¼èƒ½å¤Ÿè§£å†³å½“å‰é—®é¢˜ï¼Œè®©ä½ å¯éšæ—¶ç”Ÿæˆå¯¹è±¡çš„çŠ¶æ€å¿«ç…§ï¼Œä½†è¿™ç§æ–¹å¼ä»å­˜åœ¨ä¸€äº›ä¸¥é‡é—®é¢˜ã€‚æœªæ¥ä½ å¯èƒ½ä¼šæ·»åŠ æˆ–åˆ é™¤ä¸€äº›æˆå‘˜å˜é‡ã€‚è¿™å¬ä¸Šå»å¾ˆç®€å•ï¼Œä½†éœ€è¦å¯¹è´Ÿè´£å¤åˆ¶å—å½±å“å¯¹è±¡çŠ¶æ€çš„ç±»è¿›è¡Œæ›´æ”¹ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220825143929.png\" alt=\"img\"></p>\n<p>è¿˜æœ‰æ›´å¤šé—®é¢˜ã€‚è®©æˆ‘ä»¬æ¥è€ƒè™‘ç¼–è¾‘å™¨ ï¼ˆEdiÂ­torï¼‰çŠ¶æ€çš„å®é™… â€œå¿«ç…§â€ï¼Œå®ƒéœ€è¦åŒ…å«å“ªäº›æ•°æ®ï¼Ÿè‡³å°‘å¿…é¡»åŒ…å«å®é™…çš„æ–‡æœ¬ã€å…‰æ ‡åæ ‡å’Œå½“å‰æ»šåŠ¨æ¡ä½ç½®ç­‰ã€‚ä½ éœ€è¦æ”¶é›†è¿™äº›æ•°æ®å¹¶å°†å…¶æ”¾å…¥ç‰¹å®šå®¹å™¨ä¸­ï¼Œæ‰èƒ½ç”Ÿæˆå¿«ç…§ã€‚<br>ä½ å¾ˆå¯èƒ½ä¼šå°†å¤§é‡çš„å®¹å™¨å¯¹è±¡å­˜å‚¨åœ¨å†å²è®°å½•åˆ—è¡¨ä¸­ã€‚è¿™æ ·ä¸€æ¥ï¼Œå®¹å™¨æœ€ç»ˆå¤§æ¦‚ç‡ä¼šæˆä¸ºåŒä¸€ä¸ªç±»çš„å¯¹è±¡ã€‚è¿™ä¸ªç±»ä¸­å‡ ä¹æ²¡æœ‰ä»»ä½•æ–¹æ³•ï¼Œä½†æœ‰è®¸å¤šä¸ç¼–è¾‘å™¨çŠ¶æ€ä¸€ä¸€å¯¹åº”çš„æˆå‘˜å˜é‡ã€‚ä¸ºäº†è®©å…¶ä»–å¯¹è±¡èƒ½ä¿å­˜æˆ–è¯»å–å¿«ç…§ï¼Œä½ å¾ˆå¯èƒ½éœ€è¦å°†å¿«ç…§çš„æˆå‘˜å˜é‡è®¾ä¸ºå…¬æœ‰ã€‚æ— è®ºè¿™äº›çŠ¶æ€æ˜¯å¦ç§æœ‰ï¼Œå…¶éƒ½å°†æš´éœ²ä¸€åˆ‡ç¼–è¾‘å™¨çŠ¶æ€ã€‚å…¶ä»–ç±»ä¼šå¯¹å¿«ç…§ç±»çš„æ¯ä¸ªå°æ”¹åŠ¨äº§ç”Ÿä¾èµ–ï¼Œé™¤éè¿™äº›æ”¹åŠ¨ä»…å­˜åœ¨äºç§æœ‰æˆå‘˜å˜é‡æˆ–æ–¹æ³•ä¸­ï¼Œè€Œä¸ä¼šå½±å“å¤–éƒ¨ç±»ã€‚<br>æˆ‘ä»¬ä¼¼ä¹èµ°è¿›äº†ä¸€æ¡æ­»èƒ¡åŒï¼š<strong>è¦ä¹ˆä¼šæš´éœ²ç±»çš„æ‰€æœ‰å†…éƒ¨ç»†èŠ‚è€Œä½¿å…¶è¿‡äºè„†å¼±ï¼›è¦ä¹ˆä¼šé™åˆ¶å¯¹å…¶çŠ¶æ€çš„è®¿é—®æƒé™è€Œæ— æ³•ç”Ÿæˆå¿«ç…§</strong>ã€‚é‚£ä¹ˆï¼Œæˆ‘ä»¬è¿˜æœ‰å…¶ä»–æ–¹å¼æ¥å®ç° â€œæ’¤é”€â€ åŠŸèƒ½å—ï¼Ÿ</p>\n<h5 id=\"è§£å†³æ–¹æ¡ˆ-16\"><a href=\"#è§£å†³æ–¹æ¡ˆ-16\" class=\"headerlink\" title=\"è§£å†³æ–¹æ¡ˆ\"></a>è§£å†³æ–¹æ¡ˆ</h5><p>æˆ‘ä»¬åˆšæ‰é‡åˆ°çš„æ‰€æœ‰é—®é¢˜éƒ½æ˜¯å°è£… â€œç ´æŸâ€ é€ æˆçš„ã€‚ ä¸€äº›å¯¹è±¡è¯•å›¾è¶…å‡ºå…¶èŒè´£èŒƒå›´çš„å·¥ä½œã€‚ç”±äºåœ¨æ‰§è¡ŒæŸäº›è¡Œä¸ºæ—¶éœ€è¦è·å–æ•°æ®ï¼Œæ‰€ä»¥å®ƒä»¬ä¾µå…¥äº†å…¶ä»–å¯¹è±¡çš„ç§æœ‰ç©ºé—´ï¼Œè€Œä¸æ˜¯è®©è¿™äº›å¯¹è±¡æ¥å®Œæˆå®é™…çš„å·¥ä½œã€‚</p>\n<p>å¤‡å¿˜å½•æ¨¡å¼å°†åˆ›å»ºçŠ¶æ€å¿«ç…§ï¼ˆSnapÂ­shotï¼‰çš„å·¥ä½œå§”æ´¾ç»™å®é™…çŠ¶æ€çš„æ‹¥æœ‰è€…åŸå‘å™¨ ï¼ˆOrigÂ­iÂ­naÂ­torï¼‰ å¯¹è±¡ã€‚è¿™æ ·å…¶ä»–å¯¹è±¡å°±ä¸å†éœ€è¦ä» â€œå¤–éƒ¨â€ å¤åˆ¶ç¼–è¾‘å™¨çŠ¶æ€äº†ï¼Œç¼–è¾‘å™¨ç±»æ‹¥æœ‰å…¶çŠ¶æ€çš„å®Œå…¨è®¿é—®æƒï¼Œå› æ­¤å¯ä»¥è‡ªè¡Œç”Ÿæˆå¿«ç…§ã€‚</p>\n<p>æ¨¡å¼å»ºè®®å°†å¯¹è±¡çŠ¶æ€çš„å‰¯æœ¬å­˜å‚¨åœ¨ä¸€ä¸ªåä¸ºå¤‡å¿˜å½• ï¼ˆMemenÂ­toï¼‰çš„ç‰¹æ®Šå¯¹è±¡ä¸­ã€‚é™¤äº†åˆ›å»ºå¤‡å¿˜å½•çš„å¯¹è±¡å¤–ï¼Œä»»ä½•å¯¹è±¡éƒ½ä¸èƒ½è®¿é—®å¤‡å¿˜å½•çš„å†…å®¹ã€‚å…¶ä»–å¯¹è±¡å¿…é¡»ä½¿ç”¨å—é™æ¥å£ä¸å¤‡å¿˜å½•è¿›è¡Œäº¤äº’ï¼Œå®ƒä»¬å¯ä»¥è·å–å¿«ç…§çš„å…ƒæ•°æ® ï¼ˆåˆ›å»ºæ—¶é—´å’Œæ“ä½œåç§°ç­‰ï¼‰ï¼Œä½†ä¸èƒ½è·å–å¿«ç…§ä¸­åŸå§‹å¯¹è±¡çš„çŠ¶æ€ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220825144342.png\" alt=\"img\"></p>\n<p>è¿™ç§é™åˆ¶ç­–ç•¥å…è®¸ä½ å°†å¤‡å¿˜å½•ä¿å­˜åœ¨é€šå¸¸è¢«ç§°ä¸ºè´Ÿè´£äººï¼ˆCareÂ­takÂ­ersï¼‰çš„å¯¹è±¡ä¸­ã€‚ç”±äºè´Ÿè´£äººä»…é€šè¿‡å—é™æ¥å£ä¸å¤‡å¿˜å½•äº’åŠ¨ï¼Œæ•…å…¶æ— æ³•ä¿®æ”¹å­˜å‚¨åœ¨å¤‡å¿˜å½•å†…éƒ¨çš„çŠ¶æ€ã€‚åŒæ—¶ï¼ŒåŸå‘å™¨æ‹¥æœ‰å¯¹å¤‡å¿˜å½•æ‰€æœ‰æˆå‘˜çš„è®¿é—®æƒé™ï¼Œä»è€Œèƒ½éšæ—¶æ¢å¤å…¶ä»¥å‰çš„çŠ¶æ€ã€‚</p>\n<p>åœ¨æ–‡å­—ç¼–è¾‘å™¨çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªç‹¬ç«‹çš„å†å² ï¼ˆHisÂ­toÂ­ryï¼‰ ç±»ä½œä¸ºè´Ÿè´£äººã€‚ç¼–è¾‘å™¨æ¯æ¬¡æ‰§è¡Œæ“ä½œå‰ï¼Œå­˜å‚¨åœ¨è´Ÿè´£äººä¸­çš„å¤‡å¿˜å½•æ ˆéƒ½ä¼šç”Ÿé•¿ã€‚ä½ ç”šè‡³å¯ä»¥åœ¨åº”ç”¨çš„ UI ä¸­æ¸²æŸ“è¯¥æ ˆï¼Œä¸ºç”¨æˆ·æ˜¾ç¤ºä¹‹å‰çš„æ“ä½œå†å²ã€‚</p>\n<p>å½“ç”¨æˆ·è§¦å‘æ’¤é”€æ“ä½œæ—¶ï¼Œå†å²ç±»å°†ä»æ ˆä¸­å–å›æœ€è¿‘çš„å¤‡å¿˜å½•ï¼Œå¹¶å°†å…¶ä¼ é€’ç»™ç¼–è¾‘å™¨ä»¥è¯·æ±‚è¿›è¡Œå›æ»šã€‚ç”±äºç¼–è¾‘å™¨æ‹¥æœ‰å¯¹å¤‡å¿˜å½•çš„å®Œå…¨è®¿é—®æƒé™ï¼Œå› æ­¤å®ƒå¯ä»¥ä½¿ç”¨ä»å¤‡å¿˜å½•ä¸­è·å–çš„æ•°å€¼æ¥æ›¿æ¢è‡ªèº«çš„çŠ¶æ€ã€‚</p>\n<h5 id=\"å¤‡å¿˜å½•æ¨¡å¼ç»“æ„\"><a href=\"#å¤‡å¿˜å½•æ¨¡å¼ç»“æ„\" class=\"headerlink\" title=\"å¤‡å¿˜å½•æ¨¡å¼ç»“æ„\"></a>å¤‡å¿˜å½•æ¨¡å¼ç»“æ„</h5><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220825144517.png\" alt=\"img\"></p>\n<p>1.<strong>åŸå‘å™¨(OrigÂ­iÂ­naÂ­tor)</strong> ç±»å¯ä»¥ç”Ÿæˆè‡ªèº«çŠ¶æ€çš„å¿«ç…§ï¼Œä¹Ÿå¯ä»¥åœ¨éœ€è¦æ—¶é€šè¿‡å¿«ç…§æ¢å¤è‡ªèº«çŠ¶æ€ã€‚</p>\n<p>2.<strong>å¤‡å¿˜å½•(MemenÂ­to)</strong> æ˜¯åŸå‘å™¨çŠ¶æ€å¿«ç…§çš„å€¼å¯¹è±¡(value object)ã€‚é€šå¸¸åšæ³•æ˜¯å°†å¤‡å¿˜å½•è®¾ä¸ºä¸å¯å˜çš„ï¼Œ å¹¶é€šè¿‡æ„é€ å‡½æ•°ä¸€æ¬¡æ€§ä¼ é€’æ•°æ®ã€‚</p>\n<p>3.<strong>è´Ÿè´£äºº(CareÂ­takÂ­er)</strong> ä»…çŸ¥é“ â€œä½•æ—¶â€ å’Œ â€œä¸ºä½•â€ æ•æ‰åŸå‘å™¨çš„çŠ¶æ€ï¼Œä»¥åŠä½•æ—¶æ¢å¤çŠ¶æ€ã€‚<br>è´Ÿè´£äººé€šè¿‡ä¿å­˜å¤‡å¿˜å½•æ ˆæ¥è®°å½•åŸå‘å™¨çš„å†å²çŠ¶æ€ã€‚ å½“åŸå‘å™¨éœ€è¦å›æº¯å†å²çŠ¶æ€æ—¶ï¼Œè´Ÿè´£äººå°†ä»æ ˆä¸­è·å–æœ€é¡¶éƒ¨çš„å¤‡å¿˜å½•ï¼Œå¹¶å°†å…¶ä¼ é€’ç»™åŸå‘å™¨çš„æ¢å¤ (restoraÂ­tion)æ–¹æ³•ã€‚</p>\n<p>4.åœ¨è¯¥å®ç°æ–¹æ³•ä¸­ï¼Œå¤‡å¿˜å½•ç±»å°†è¢«åµŒå¥—åœ¨åŸå‘å™¨ä¸­ã€‚ è¿™æ ·åŸå‘å™¨å°±å¯è®¿é—®å¤‡å¿˜å½•çš„æˆå‘˜å˜é‡å’Œæ–¹æ³•ï¼Œå³ä½¿è¿™äº›æ–¹æ³•è¢«å£°æ˜ä¸ºç§æœ‰ã€‚å¦ä¸€æ–¹é¢ï¼Œè´Ÿè´£äººå¯¹äºå¤‡å¿˜å½•çš„æˆå‘˜å˜é‡å’Œæ–¹æ³•çš„è®¿é—®æƒé™éå¸¸æœ‰é™ï¼šå®ƒä»¬åªèƒ½åœ¨æ ˆä¸­ä¿å­˜å¤‡å¿˜å½•ï¼Œè€Œä¸èƒ½ä¿®æ”¹å…¶çŠ¶æ€ã€‚</p>\n<h5 id=\"ä¼ªä»£ç -16\"><a href=\"#ä¼ªä»£ç -16\" class=\"headerlink\" title=\"ä¼ªä»£ç \"></a>ä¼ªä»£ç </h5><p>å¤‡å¿˜å½•çš„åŸºæœ¬åŠŸèƒ½å¯ç”¨åºåˆ—åŒ–æ¥å®ç°ï¼Œè¿™åœ¨ C# è¯­è¨€ä¸­å¾ˆå¸¸è§ã€‚å°½ç®¡å¤‡å¿˜å½•ä¸æ˜¯ç”Ÿæˆå¯¹è±¡çŠ¶æ€å¿«ç…§çš„å”¯ä¸€æˆ–æœ€æœ‰æ•ˆçš„æ–¹æ³•ï¼Œä½†å®ƒèƒ½åœ¨ä¿æŠ¤åŸå§‹å¯¹è±¡çš„ç»“æ„ä¸æš´éœ²ç»™å…¶ä»–å¯¹è±¡çš„æƒ…å†µä¸‹ä¿å­˜å¯¹è±¡çŠ¶æ€çš„å¤‡ä»½ã€‚åœ¨æ¸¸æˆä¸­ï¼Œæ¯”å¦‚åœ°å¹³çº¿çš„å›é€€ï¼ŒPBUGçš„æ­»äº¡å›æ”¾ç­‰ç­‰éƒ½å¯èƒ½æ˜¯ç”¨åˆ°äº†å¤‡å¿˜å½•æ¨¡å¼ã€‚<br>è¿™ä¸ªæ¨¡å¼è¿˜æ˜¯æœ‰ç‚¹å¤æ‚çš„ï¼Œä»…ä»…é€šè¿‡ç»“æ„ä¸å¤ªèƒ½åŒºåˆ†Originatorå’ŒCaretakerï¼Œé€šè¿‡ä»£ç æ¥ç®€å•äº†è§£ä¸€ä¸‹ã€‚</p>\n<p>ç®€å•è°ˆä¸€ä¸‹ä¹‹åçš„ä¼ªä»£ç ï¼Œè¿™æ¬¡çš„ç»“æ„æ¯”è¾ƒå¤æ‚ï¼Œæ‰€ä»¥å»ºè®®æœ€å¥½è¿è¡Œä¸€éç„¶åçœ‹æ‡‚ä»£ç ï¼Œç®€å•æ¥è¯´å°±æ˜¯Caretakerè´Ÿè´£åšï¼Œé€šè¿‡Caretakerç±»æ¥ä½¿Originatoråˆ›å»ºä¸€æ¬¡Mementoç„¶åå­˜å‚¨åˆ°Caretakeré‡Œçš„listã€‚å¦‚æœæ˜¯æ’¤å›ä¹‹å‰çš„çŠ¶æ€ï¼ŒåŒæ ·ç”¨Caretakerçš„Undoæ¥è§¦å‘Originatorçš„Restoreå‡½æ•°ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒCaretakeræ˜¯å‘èµ·è€…ï¼ŒOriginatoræ˜¯Mementoçš„åˆ›é€ è€…ï¼ŒMementoåªæ˜¯ç”¨æ¥å­˜å‚¨ä¸€æ¬¡çš„çŠ¶æ€ã€‚</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//Originatorç±»ä¼šå­˜å‚¨ä¸€äº›é‡è¦çš„å¯èƒ½ä¼šéšæ—¶é—´æ”¹å˜çš„çŠ¶æ€ã€‚åŒæ—¶ä¹Ÿå®šä¹‰äº†ä¿å­˜å’Œå­˜å‚¨çŠ¶æ€çš„æ–¹æ³•</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">Originator</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">//åœ¨ä¼ªä»£ç ä¸­å°½é‡ç®€å•ï¼Œè¿™é‡Œåªç”¨äº†stringç±»å‹</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"built_in\">string</span> _state;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">Originator</span>(<span class=\"params\"><span class=\"built_in\">string</span> state</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._state = state;</span><br><span class=\"line\">        Console.WriteLine(<span class=\"string\">&quot;Originator: My initial state is: &quot;</span> + state);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//è¿™é‡Œçš„</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">DoSomething</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Console.WriteLine(<span class=\"string\">&quot;Originator: I&#x27;m doing something important.&quot;</span>);</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._state = <span class=\"keyword\">this</span>.GenerateRandomString(<span class=\"number\">30</span>);</span><br><span class=\"line\">        Console.WriteLine(<span class=\"string\">$&quot;Originator: and my state has changed to: <span class=\"subst\">&#123;_state&#125;</span>&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//é€šè¿‡æ—¶é—´ç”Ÿæˆéšæœºçš„å­—ç¬¦ä¸²</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"built_in\">string</span> <span class=\"title\">GenerateRandomString</span>(<span class=\"params\"><span class=\"built_in\">int</span> length = <span class=\"number\">10</span></span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"built_in\">string</span> allowedSymbols = <span class=\"string\">&quot;abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;</span>;</span><br><span class=\"line\">        <span class=\"built_in\">string</span> result = <span class=\"built_in\">string</span>.Empty;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">while</span> (length &gt; <span class=\"number\">0</span>)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            result += allowedSymbols[<span class=\"keyword\">new</span> Random().Next(<span class=\"number\">0</span>, allowedSymbols.Length)];</span><br><span class=\"line\"></span><br><span class=\"line\">            Thread.Sleep(<span class=\"number\">12</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">            length--;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//ä¿å­˜ç°åœ¨çš„çŠ¶æ€</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> IMemento <span class=\"title\">Save</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> ConcreteMemento(<span class=\"keyword\">this</span>._state);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//æ¢å¤ä¹‹å‰çš„çŠ¶æ€</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Restore</span>(<span class=\"params\">IMemento memento</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(!(memento <span class=\"keyword\">is</span> ConcreteMemento))</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> Exception(<span class=\"string\">&quot;Unknown memento class &quot;</span> + memento.ToString());</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">this</span>._state = memento.GetState();</span><br><span class=\"line\">        Console.Write(<span class=\"string\">$&quot;Originator: My state has changed to: <span class=\"subst\">&#123;_state&#125;</span>&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//å¤‡å¿˜å½•æ¥å£</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title\">IMemento</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"built_in\">string</span> <span class=\"title\">GetName</span>()</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"built_in\">string</span> <span class=\"title\">GetState</span>()</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\">DateTime <span class=\"title\">GetDate</span>()</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//å…·ä½“å¤‡å¿˜å½•</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">ConcreteMemento</span> : <span class=\"title\">IMemento</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"built_in\">string</span> _state;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> DateTime _date;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">ConcreteMemento</span>(<span class=\"params\"><span class=\"built_in\">string</span> state</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._state = state;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._date = DateTime.Now;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"built_in\">string</span> <span class=\"title\">GetState</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>._state;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"built_in\">string</span> <span class=\"title\">GetName</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">$&quot;<span class=\"subst\">&#123;<span class=\"keyword\">this</span>._date&#125;</span> / (<span class=\"subst\">&#123;<span class=\"keyword\">this</span>._state.Substring(<span class=\"number\">0</span>, <span class=\"number\">9</span>)&#125;</span>)...&quot;</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> DateTime <span class=\"title\">GetDate</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>._date;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">Caretaker</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> List&lt;IMemento&gt; _mementos = <span class=\"keyword\">new</span> List&lt;IMemento&gt;();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> Originator _originator = <span class=\"literal\">null</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">     <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">Caretaker</span>(<span class=\"params\">Originator originator</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._originator = originator;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//å¤‡ä»½</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Backup</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Console.WriteLine(<span class=\"string\">&quot;\\nCaretaker: Saving Originator&#x27;s state...&quot;</span>);</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._mementos.Add(<span class=\"keyword\">this</span>._originator.Save());</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//æ’¤é”€</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Undo</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"keyword\">this</span>._mementos.Count == <span class=\"number\">0</span>)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">var</span> memento = <span class=\"keyword\">this</span>._mementos.Last();</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._mementos.Remove(memento);</span><br><span class=\"line\"></span><br><span class=\"line\">        Console.WriteLine(<span class=\"string\">&quot;Caretaker: Restoring state to: &quot;</span> + memento.GetName());</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">try</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">this</span>._originator.Restore(memento);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">catch</span> (Exception)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">this</span>.Undo();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">ShowHistory</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Console.WriteLine(<span class=\"string\">&quot;Caretaker: Here&#x27;s the list of mementos:&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">foreach</span> (<span class=\"keyword\">var</span> memento <span class=\"keyword\">in</span> <span class=\"keyword\">this</span>._mementos)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            Console.WriteLine(memento.GetName());</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//å®¢æˆ·ç«¯ä»£ç </span></span><br><span class=\"line\">Originator originator = <span class=\"keyword\">new</span> Originator(<span class=\"string\">&quot;Super-duper-super-puper-super.&quot;</span>);</span><br><span class=\"line\">Caretaker caretaker = <span class=\"keyword\">new</span> Caretaker(originator);</span><br><span class=\"line\"></span><br><span class=\"line\">caretaker.Backup();</span><br><span class=\"line\">originator.DoSomething();</span><br><span class=\"line\"></span><br><span class=\"line\">caretaker.Backup();</span><br><span class=\"line\">originator.DoSomething();</span><br><span class=\"line\"></span><br><span class=\"line\">caretaker.Backup();</span><br><span class=\"line\">originator.DoSomething();</span><br><span class=\"line\"></span><br><span class=\"line\">Console.WriteLine();</span><br><span class=\"line\">caretaker.ShowHistory();</span><br><span class=\"line\"></span><br><span class=\"line\">Console.WriteLine(<span class=\"string\">&quot;\\nClient: Now, let&#x27;s rollback!\\n&quot;</span>);</span><br><span class=\"line\">caretaker.Undo();</span><br><span class=\"line\"></span><br><span class=\"line\">Console.WriteLine(<span class=\"string\">&quot;\\n\\nClient: Once more!\\n&quot;</span>);</span><br><span class=\"line\">caretaker.Undo();</span><br><span class=\"line\"></span><br><span class=\"line\">Console.WriteLine();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/*è¿è¡Œç»“æœ,æ ¹æ®å½“å‰æ—¶é—´æœ‰æ‰€å˜åŒ–</span></span><br><span class=\"line\"><span class=\"comment\">å¯ä»¥æ›´æ”¹å®¢æˆ·ç«¯ä»£ç æ¥ä½“ä¼šæ›´æ·±</span></span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\">Originator: My initial state is: Super-duper-super-puper-super.</span></span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\">Caretaker: Saving Originator&#x27;s state...</span></span><br><span class=\"line\"><span class=\"comment\">Originator: I&#x27;m doing something important.</span></span><br><span class=\"line\"><span class=\"comment\">Originator: and my state has changed to: oGyQIIatlDDWNgYYqJATTmdwnnGZQj</span></span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\">Caretaker: Saving Originator&#x27;s state...</span></span><br><span class=\"line\"><span class=\"comment\">Originator: I&#x27;m doing something important.</span></span><br><span class=\"line\"><span class=\"comment\">Originator: and my state has changed to: jBtMDDWogzzRJbTTmEwOOhZrjjBULe</span></span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\">Caretaker: Saving Originator&#x27;s state...</span></span><br><span class=\"line\"><span class=\"comment\">Originator: I&#x27;m doing something important.</span></span><br><span class=\"line\"><span class=\"comment\">Originator: and my state has changed to: exoHyyRkbuuNEXOhhArKccUmexPPHZ</span></span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\">Caretaker: Here&#x27;s the list of mementos:</span></span><br><span class=\"line\"><span class=\"comment\">12.06.2018 15:52:45 / (Super-dup...)</span></span><br><span class=\"line\"><span class=\"comment\">12.06.2018 15:52:46 / (oGyQIIatl...)</span></span><br><span class=\"line\"><span class=\"comment\">12.06.2018 15:52:46 / (jBtMDDWog...)</span></span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\">Client: Now, let&#x27;s rollback!</span></span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\">Caretaker: Restoring state to: 12.06.2018 15:52:46 / (jBtMDDWog...)</span></span><br><span class=\"line\"><span class=\"comment\">Originator: My state has changed to: jBtMDDWogzzRJbTTmEwOOhZrjjBULe</span></span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\">Client: Once more!</span></span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\">Caretaker: Restoring state to: 12.06.2018 15:52:46 / (oGyQIIatl...)</span></span><br><span class=\"line\"><span class=\"comment\">Originator: My state has changed to: oGyQIIatlDDWNgYYqJATTmdwnnGZQj</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br></pre></td></tr></table></figure>\n\n<h5 id=\"é€‚åˆå¤‡å¿˜å½•æ¨¡å¼çš„åœ°æ–¹\"><a href=\"#é€‚åˆå¤‡å¿˜å½•æ¨¡å¼çš„åœ°æ–¹\" class=\"headerlink\" title=\"é€‚åˆå¤‡å¿˜å½•æ¨¡å¼çš„åœ°æ–¹\"></a>é€‚åˆå¤‡å¿˜å½•æ¨¡å¼çš„åœ°æ–¹</h5><ul>\n<li>å½“ä½ éœ€è¦åˆ›å»ºå¯¹è±¡çŠ¶æ€å¿«ç…§æ¥æ¢å¤å…¶ä¹‹å‰çš„çŠ¶æ€æ—¶ï¼Œå¯ä»¥ä½¿ç”¨å¤‡å¿˜å½•æ¨¡å¼ã€‚</li>\n<li>å½“ç›´æ¥è®¿é—®å¯¹è±¡çš„æˆå‘˜å˜é‡ã€è·å–å™¨æˆ–è®¾ç½®å™¨å°†å¯¼è‡´å°è£…è¢«çªç ´æ—¶ï¼Œå¯ä»¥ä½¿ç”¨è¯¥æ¨¡å¼ã€‚</li>\n</ul>\n<h5 id=\"å¤‡å¿˜å½•æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"><a href=\"#å¤‡å¿˜å½•æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\" class=\"headerlink\" title=\"å¤‡å¿˜å½•æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"></a>å¤‡å¿˜å½•æ¨¡å¼çš„ä¼˜ç¼ºç‚¹</h5><p><strong>ä¼˜ç‚¹</strong> ï¼š</p>\n<ul>\n<li>ä½ å¯ä»¥åœ¨ä¸ç ´åå¯¹è±¡å°è£…æƒ…å†µçš„å‰æä¸‹åˆ›å»ºå¯¹è±¡çŠ¶æ€å¿«ç…§ã€‚</li>\n<li>ä½ å¯ä»¥é€šè¿‡è®©è´Ÿè´£äººç»´æŠ¤åŸå‘å™¨çŠ¶æ€å†å²è®°å½•æ¥ç®€åŒ–åŸå‘å™¨ä»£ç ã€‚</li>\n</ul>\n<p><strong>ç¼ºç‚¹</strong> ï¼š</p>\n<ul>\n<li>å¦‚æœå®¢æˆ·ç«¯è¿‡äºé¢‘ç¹åœ°åˆ›å»ºå¤‡å¿˜å½•ï¼Œç¨‹åºå°†æ¶ˆè€—å¤§é‡å†…å­˜ã€‚</li>\n<li>è´Ÿè´£äººå¿…é¡»å®Œæ•´è·Ÿè¸ªåŸå‘å™¨çš„ç”Ÿå‘½å‘¨æœŸï¼Œè¿™æ ·æ‰èƒ½é”€æ¯å¼ƒç”¨çš„å¤‡å¿˜å½•ã€‚</li>\n<li>ç»å¤§éƒ¨åˆ†åŠ¨æ€ç¼–ç¨‹è¯­è¨€ ï¼ˆä¾‹å¦‚ PHPã€ Python å’Œ JavaScriptï¼‰ ä¸èƒ½ç¡®ä¿å¤‡å¿˜å½•ä¸­çš„çŠ¶æ€ä¸è¢«ä¿®æ”¹ï¼ˆä¸c#å…³ç³»ä¸å¤§ï¼‰ã€‚</li>\n</ul>\n<h4 id=\"Observer-è§‚å¯Ÿè€…æ¨¡å¼\"><a href=\"#Observer-è§‚å¯Ÿè€…æ¨¡å¼\" class=\"headerlink\" title=\"Observer(è§‚å¯Ÿè€…æ¨¡å¼)\"></a>Observer(è§‚å¯Ÿè€…æ¨¡å¼)</h4><p>è§‚å¯Ÿè€…æ¨¡å¼æ˜¯ä¸€ç§è¡Œä¸ºè®¾è®¡æ¨¡å¼ï¼Œå…è®¸ä½ å®šä¹‰ä¸€ç§è®¢é˜…æœºåˆ¶ï¼Œå¯åœ¨å¯¹è±¡äº‹ä»¶å‘ç”Ÿæ—¶é€šçŸ¥å¤šä¸ª â€œè§‚å¯Ÿâ€ è¯¥å¯¹è±¡çš„å…¶ä»–å¯¹è±¡ã€‚</p>\n<h5 id=\"é—®é¢˜-17\"><a href=\"#é—®é¢˜-17\" class=\"headerlink\" title=\"é—®é¢˜\"></a>é—®é¢˜</h5><p>å‡å¦‚ä½ æœ‰ä¸¤ç§ç±»å‹çš„å¯¹è±¡ï¼šâ€‹é¡¾å®¢å’Œ å•†åº— ã€‚é¡¾å®¢å¯¹æŸä¸ªç‰¹å®šå“ç‰Œçš„äº§å“éå¸¸æ„Ÿå…´è¶£ï¼ˆä¾‹å¦‚æœ€æ–°å‹å·çš„ iPhone æ‰‹æœºï¼‰ï¼Œè€Œè¯¥äº§å“å¾ˆå¿«å°†ä¼šåœ¨å•†åº—é‡Œå‡ºå”®ã€‚<br>é¡¾å®¢å¯ä»¥æ¯å¤©æ¥å•†åº—çœ‹çœ‹äº§å“æ˜¯å¦åˆ°è´§ã€‚ä½†å¦‚æœå•†å“å°šæœªåˆ°è´§æ—¶ï¼Œç»å¤§å¤šæ•°æ¥åˆ°å•†åº—çš„é¡¾å®¢éƒ½ä¼šç©ºæ‰‹è€Œå½’ã€‚å¦ä¸€æ–¹é¢ï¼Œæ¯æ¬¡æ–°äº§å“åˆ°è´§æ—¶ï¼Œå•†åº—å¯ä»¥å‘æ‰€æœ‰é¡¾å®¢å‘é€é‚®ä»¶ï¼ˆå¯èƒ½ä¼šè¢«è§†ä¸ºåƒåœ¾é‚®ä»¶ï¼‰ã€‚è¿™æ ·ï¼Œéƒ¨åˆ†é¡¾å®¢å°±æ— éœ€åå¤å‰å¾€å•†åº—äº†ï¼Œä½†ä¹Ÿå¯èƒ½ä¼šæƒ¹æ¼å¯¹æ–°äº§å“æ²¡æœ‰å…´è¶£çš„å…¶ä»–é¡¾å®¢ã€‚<br>æˆ‘ä»¬ä¼¼ä¹é‡åˆ°äº†ä¸€ä¸ªçŸ›ç›¾ï¼šè¦ä¹ˆè®©é¡¾å®¢æµªè´¹æ—¶é—´æ£€æŸ¥äº§å“æ˜¯å¦åˆ°è´§ï¼Œè¦ä¹ˆè®©å•†åº—æµªè´¹èµ„æºå»é€šçŸ¥æ²¡æœ‰éœ€æ±‚çš„é¡¾å®¢ã€‚</p>\n<h5 id=\"è§£å†³æ–¹æ¡ˆ-17\"><a href=\"#è§£å†³æ–¹æ¡ˆ-17\" class=\"headerlink\" title=\"è§£å†³æ–¹æ¡ˆ\"></a>è§£å†³æ–¹æ¡ˆ</h5><p>æ‹¥æœ‰ä¸€äº›å€¼å¾—å…³æ³¨çš„çŠ¶æ€çš„å¯¹è±¡é€šå¸¸è¢«ç§°ä¸ºç›®æ ‡ï¼Œç”±äºå®ƒè¦<strong>å°†è‡ªèº«çš„çŠ¶æ€æ”¹å˜é€šçŸ¥ç»™å…¶ä»–å¯¹è±¡</strong>ï¼Œæˆ‘ä»¬ä¹Ÿå°†å…¶ç§°ä¸ºå‘å¸ƒè€…(pubÂ­lishÂ­er)ã€‚æ‰€æœ‰<strong>å¸Œæœ›å…³æ³¨å‘å¸ƒè€…çŠ¶æ€å˜åŒ–çš„å…¶ä»–å¯¹è±¡</strong>è¢«ç§°ä¸ºè®¢é˜…è€…(subÂ­scribers)ã€‚</p>\n<p>è§‚å¯Ÿè€…æ¨¡å¼å»ºè®®ä½ ä¸ºå‘å¸ƒè€…ç±»æ·»åŠ è®¢é˜…æœºåˆ¶ï¼Œè®©æ¯ä¸ªå¯¹è±¡éƒ½èƒ½è®¢é˜…æˆ–å–æ¶ˆè®¢é˜…å‘å¸ƒè€…äº‹ä»¶æµã€‚ä¸è¦å®³æ€•ï¼è¿™å¹¶ä¸åƒå¬ä¸Šå»é‚£ä¹ˆå¤æ‚ã€‚å®é™…ä¸Šï¼Œè¯¥æœºåˆ¶åŒ…æ‹¬ <strong>1)</strong> ä¸€ä¸ªç”¨äºå­˜å‚¨è®¢é˜…è€…å¯¹è±¡å¼•ç”¨çš„åˆ—è¡¨æˆå‘˜å˜é‡ï¼›<strong>2)</strong> å‡ ä¸ªç”¨äºæ·»åŠ æˆ–åˆ é™¤è¯¥åˆ—è¡¨ä¸­è®¢é˜…è€…çš„å…¬æœ‰æ–¹æ³•ã€‚</p>\n<p>å¦‚æœä½ çš„åº”ç”¨ä¸­æœ‰å¤šä¸ªä¸åŒç±»å‹çš„å‘å¸ƒè€…ï¼Œä¸”å¸Œæœ›è®¢é˜…è€…å¯å…¼å®¹æ‰€æœ‰å‘å¸ƒè€…ï¼Œé‚£ä¹ˆä½ ç”šè‡³å¯ä»¥è¿›ä¸€æ­¥è®©æ‰€æœ‰å‘å¸ƒè€…éµå¾ªåŒæ ·çš„æ¥å£ã€‚è¯¥æ¥å£ä»…éœ€æè¿°å‡ ä¸ªè®¢é˜…æ–¹æ³•å³å¯ã€‚è¿™æ ·è®¢é˜…è€…å°±èƒ½åœ¨ä¸ä¸å…·ä½“å‘å¸ƒè€…ç±»è€¦åˆçš„æƒ…å†µä¸‹é€šè¿‡æ¥å£è§‚å¯Ÿå‘å¸ƒè€…çš„çŠ¶æ€ã€‚</p>\n<h5 id=\"è§‚å¯Ÿè€…æ¨¡å¼ç»“æ„\"><a href=\"#è§‚å¯Ÿè€…æ¨¡å¼ç»“æ„\" class=\"headerlink\" title=\"è§‚å¯Ÿè€…æ¨¡å¼ç»“æ„\"></a>è§‚å¯Ÿè€…æ¨¡å¼ç»“æ„</h5><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220825160617.png\" alt=\"img\"></p>\n<p>1.<strong>å‘å¸ƒè€…(PubÂ­lishÂ­er)</strong> ä¼šå‘å…¶ä»–å¯¹è±¡å‘é€å€¼å¾—å…³æ³¨çš„äº‹ä»¶ã€‚äº‹ä»¶ä¼šåœ¨å‘å¸ƒè€…è‡ªèº«çŠ¶æ€æ”¹å˜æˆ–æ‰§è¡Œç‰¹å®šè¡Œä¸ºåå‘ç”Ÿã€‚å‘å¸ƒè€…ä¸­åŒ…å«ä¸€ä¸ªå…è®¸æ–°è®¢é˜…è€…åŠ å…¥å’Œå½“å‰è®¢é˜…è€…ç¦»å¼€åˆ—è¡¨çš„è®¢é˜…æ„æ¶ã€‚</p>\n<p>2.å½“æ–°äº‹ä»¶å‘ç”Ÿæ—¶ï¼Œå‘é€è€…ä¼šéå†è®¢é˜…åˆ—è¡¨å¹¶è°ƒç”¨æ¯ä¸ªè®¢é˜…è€…å¯¹è±¡çš„é€šçŸ¥æ–¹æ³•ã€‚è¯¥æ–¹æ³•æ˜¯åœ¨è®¢é˜…è€…æ¥å£ä¸­å£°æ˜çš„ã€‚</p>\n<p>3.<strong>è®¢é˜…è€…(SubÂ­scriber)</strong> æ¥å£å£°æ˜äº†é€šçŸ¥æ¥å£ã€‚åœ¨ç»å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œè¯¥æ¥å£ä»…åŒ…å«ä¸€ä¸ª updateæ›´æ–°æ–¹æ³•ã€‚è¯¥æ–¹æ³•å¯ä»¥æ‹¥æœ‰å¤šä¸ªå‚æ•°ï¼Œä½¿å‘å¸ƒè€…èƒ½åœ¨æ›´æ–°æ—¶ä¼ é€’äº‹ä»¶çš„è¯¦ç»†ä¿¡æ¯ã€‚</p>\n<p>4.<strong>å…·ä½“è®¢é˜…è€…(ConÂ­crete SubÂ­scribers)</strong> å¯ä»¥æ‰§è¡Œä¸€äº›æ“ä½œæ¥å›åº”å‘å¸ƒè€…çš„é€šçŸ¥ã€‚æ‰€æœ‰å…·ä½“è®¢é˜…è€…ç±»éƒ½å®ç°äº†åŒæ ·çš„æ¥å£ï¼Œå› æ­¤å‘å¸ƒè€…ä¸éœ€è¦ä¸å…·ä½“ç±»ç›¸è€¦åˆã€‚</p>\n<p>5.è®¢é˜…è€…é€šå¸¸éœ€è¦ä¸€äº›ä¸Šä¸‹æ–‡ä¿¡æ¯æ¥æ­£ç¡®åœ°å¤„ç†æ›´æ–°ã€‚å› æ­¤ï¼Œå‘å¸ƒè€…é€šå¸¸ä¼šå°†ä¸€äº›ä¸Šä¸‹æ–‡æ•°æ®ä½œä¸ºé€šçŸ¥æ–¹æ³•çš„å‚æ•°è¿›è¡Œä¼ é€’ã€‚å‘å¸ƒè€…ä¹Ÿå¯å°†è‡ªèº«ä½œä¸ºå‚æ•°è¿›è¡Œä¼ é€’ï¼Œä½¿è®¢é˜…è€…ç›´æ¥è·å–æ‰€éœ€çš„æ•°æ®ã€‚</p>\n<p>6.<strong>å®¢æˆ·ç«¯(Client)</strong> ä¼šåˆ†åˆ«åˆ›å»ºå‘å¸ƒè€…å’Œè®¢é˜…è€…å¯¹è±¡ï¼Œç„¶åä¸ºè®¢é˜…è€…æ³¨å†Œå‘å¸ƒè€…æ›´æ–°ã€‚</p>\n<h5 id=\"ä¼ªä»£ç -17\"><a href=\"#ä¼ªä»£ç -17\" class=\"headerlink\" title=\"ä¼ªä»£ç \"></a>ä¼ªä»£ç </h5><p>è§‚å¯Ÿè€…æ¨¡å¼åœ¨ C# ä»£ç ä¸­å¾ˆå¸¸è§ï¼Œç‰¹åˆ«æ˜¯åœ¨ GUI ç»„ä»¶ä¸­ã€‚å®ƒæä¾›äº†åœ¨ä¸ä¸å…¶ä»–å¯¹è±¡æ‰€å±ç±»è€¦åˆçš„æƒ…å†µä¸‹å¯¹å…¶äº‹ä»¶åšå‡ºååº”çš„æ–¹å¼ã€‚åªè¦æ˜¯ä¸€å¯¹å¤šçš„å¹¿æ’­æ¨¡å¼çš„éœ€æ±‚ï¼Œè§‚å¯Ÿè€…æ¨¡å¼åŸºæœ¬ä¸Šå¯ä»¥ç”¨åˆ°ã€‚è€Œä¸”ä»£ç ç»“æ„ååˆ†å®¹æ˜“ç†è§£</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//æä¾›è®¢é˜…è€…æ¥å£</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title\">ISubscriber</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">//æ·»åŠ Observerï¼Œä¹Ÿå°±æ˜¯æ¥å—ä¿¡æ¯çš„äºº</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">Attach</span>(<span class=\"params\">IObserver observer</span>)</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//å»æ‰Observer</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">Detach</span>(<span class=\"params\">IObserver observer</span>)</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//é€šçŸ¥</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">Notify</span>()</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//å‘å¸ƒè€…æ‹¥æœ‰è‡ªèº«çŠ¶æ€</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">Subscriber</span> : <span class=\"title\">ISubscriber</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">//å½“å‘å¸ƒå™¨çŠ¶æ€å‘ç”Ÿæ”¹å˜çš„æ—¶å€™å¯èƒ½è¦è¿›è¡Œæ¨é€</span></span><br><span class=\"line\">    <span class=\"comment\">//ä¼ªä»£ç è¿™é‡Œç®€åŒ–äº†çŠ¶æ€</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"built_in\">int</span> State &#123;<span class=\"keyword\">get</span>;<span class=\"keyword\">set</span>;&#125; = <span class=\"number\">-0</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//è®¢é˜…å‘å¸ƒå™¨çš„é˜Ÿåˆ—</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> List&lt;IObserver&gt; _observers = <span class=\"keyword\">new</span> List&lt;IObserver&gt;();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Attach</span>(<span class=\"params\">IObserver observer</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Console.WriteLine(<span class=\"string\">&quot;Subscriber: Attached an obseerver.&quot;</span>);</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._observers.Add(observer);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Detach</span>(<span class=\"params\">IObserver observer</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._observers.Remove(observer);</span><br><span class=\"line\">        Console.WriteLine(<span class=\"string\">&quot;Subscriber: Detached an observer.&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Notify</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Console.WriteLine(<span class=\"string\">&quot;Subscriber: Notifying observers...&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">foreach</span> (<span class=\"keyword\">var</span> observer <span class=\"keyword\">in</span> _observers)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            observer.Update(<span class=\"keyword\">this</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//ä¸»è¦çš„ä¸šåŠ¡é€»è¾‘</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">SomeBusinessLogic</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Console.WriteLine(<span class=\"string\">&quot;\\nsubscriber: I&#x27;m doing something important.&quot;</span>);</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.State = <span class=\"keyword\">new</span> Random().Next(<span class=\"number\">0</span>, <span class=\"number\">10</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">        Thread.Sleep(<span class=\"number\">15</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">        Console.WriteLine(<span class=\"string\">&quot;subscriber: My state has just changed to: &quot;</span> + <span class=\"keyword\">this</span>.State);</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.Notify();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//é€šç”¨è§‚å¯Ÿè€…æ¥å£</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title\">IObserver</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">Update</span>(<span class=\"params\">ISubscriber subscriber</span>)</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//å…·ä½“è§‚å¯Ÿè€…</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">ConcreteObserverA</span> : <span class=\"title\">IObserver</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Update</span>(<span class=\"params\">ISubscriber subscriber</span>)</span></span><br><span class=\"line\">    &#123;            </span><br><span class=\"line\">        <span class=\"keyword\">if</span> ((subscriber <span class=\"keyword\">as</span> Subscriber).State &lt; <span class=\"number\">3</span>)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            Console.WriteLine(<span class=\"string\">&quot;ConcreteObserverA: Reacted to the event.&quot;</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">ConcreteObserverB</span> : <span class=\"title\">IObserver</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Update</span>(<span class=\"params\">ISubscriber subscriber</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> ((subscriber <span class=\"keyword\">as</span> Subscriber).State == <span class=\"number\">0</span> || (subscriber <span class=\"keyword\">as</span> Subscriber).State &gt;= <span class=\"number\">2</span>)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            Console.WriteLine(<span class=\"string\">&quot;ConcreteObserverB: Reacted to the event.&quot;</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//å®¢æˆ·ç«¯ä»£ç </span></span><br><span class=\"line\"><span class=\"keyword\">var</span> subscriber = <span class=\"keyword\">new</span> Subscriber();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> observerA = <span class=\"keyword\">new</span> ConcreteObserverA();</span><br><span class=\"line\">subscriber.Attach(observerA);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> observerB = <span class=\"keyword\">new</span> ConcreteObserverB();</span><br><span class=\"line\">subscriber.Attach(observerB);</span><br><span class=\"line\"></span><br><span class=\"line\">subscriber.SomeBusinessLogic();</span><br><span class=\"line\">subscriber.SomeBusinessLogic();</span><br><span class=\"line\"></span><br><span class=\"line\">subscriber.Detach(observerB);</span><br><span class=\"line\"></span><br><span class=\"line\">subscriber.SomeBusinessLogic();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/*è¿è¡Œç»“æœ</span></span><br><span class=\"line\"><span class=\"comment\">Subscriber: Attached an observer.</span></span><br><span class=\"line\"><span class=\"comment\">Subscriber: Attached an observer.</span></span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\">Subscriber: I&#x27;m doing something important.</span></span><br><span class=\"line\"><span class=\"comment\">Subscriber: My state has just changed to: 2</span></span><br><span class=\"line\"><span class=\"comment\">Subscriber: Notifying observers...</span></span><br><span class=\"line\"><span class=\"comment\">ConcreteObserverA: Reacted to the event.</span></span><br><span class=\"line\"><span class=\"comment\">ConcreteObserverB: Reacted to the event.</span></span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\">Subscriber: I&#x27;m doing something important.</span></span><br><span class=\"line\"><span class=\"comment\">Subscriber: My state has just changed to: 1</span></span><br><span class=\"line\"><span class=\"comment\">Subscriber: Notifying observers...</span></span><br><span class=\"line\"><span class=\"comment\">ConcreteObserverA: Reacted to the event.</span></span><br><span class=\"line\"><span class=\"comment\">Subscriber: Detached an observer.</span></span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\">Subscriber: I&#x27;m doing something important.</span></span><br><span class=\"line\"><span class=\"comment\">Subscriber: My state has just changed to: 5</span></span><br><span class=\"line\"><span class=\"comment\">Subscriber: Notifying observers...</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br></pre></td></tr></table></figure>\n\n<h5 id=\"é€‚åˆè§‚å¯Ÿè€…æ¨¡å¼çš„åœ°æ–¹\"><a href=\"#é€‚åˆè§‚å¯Ÿè€…æ¨¡å¼çš„åœ°æ–¹\" class=\"headerlink\" title=\"é€‚åˆè§‚å¯Ÿè€…æ¨¡å¼çš„åœ°æ–¹\"></a>é€‚åˆè§‚å¯Ÿè€…æ¨¡å¼çš„åœ°æ–¹</h5><ul>\n<li>å½“ä¸€ä¸ªå¯¹è±¡çŠ¶æ€çš„æ”¹å˜éœ€è¦æ”¹å˜å…¶ä»–å¯¹è±¡ï¼Œæˆ–å®é™…å¯¹è±¡æ˜¯äº‹å…ˆæœªçŸ¥çš„æˆ–åŠ¨æ€å˜åŒ–çš„æ—¶ï¼Œå¯ä½¿ç”¨è§‚å¯Ÿè€…æ¨¡å¼ã€‚</li>\n<li>å½“åº”ç”¨ä¸­çš„ä¸€äº›å¯¹è±¡å¿…é¡»è§‚å¯Ÿå…¶ä»–å¯¹è±¡æ—¶ï¼Œå¯ä½¿ç”¨è¯¥æ¨¡å¼ã€‚ä½†ä»…èƒ½åœ¨æœ‰é™æ—¶é—´å†…æˆ–ç‰¹å®šæƒ…å†µä¸‹ä½¿ç”¨ã€‚</li>\n</ul>\n<h5 id=\"è§‚å¯Ÿè€…æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"><a href=\"#è§‚å¯Ÿè€…æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\" class=\"headerlink\" title=\"è§‚å¯Ÿè€…æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"></a>è§‚å¯Ÿè€…æ¨¡å¼çš„ä¼˜ç¼ºç‚¹</h5><p><strong>ä¼˜ç‚¹</strong> ï¼š</p>\n<ul>\n<li>ç¬¦åˆOCP</li>\n<li>ä½ å¯ä»¥åœ¨è¿è¡Œæ—¶å»ºç«‹å¯¹è±¡ä¹‹é—´çš„è”ç³»ã€‚</li>\n</ul>\n<p><strong>ç¼ºç‚¹</strong> ï¼š</p>\n<ul>\n<li>è®¢é˜…è€…çš„é€šçŸ¥é¡ºåºæ˜¯éšæœºçš„ã€‚</li>\n</ul>\n<h4 id=\"State-çŠ¶æ€æ¨¡å¼\"><a href=\"#State-çŠ¶æ€æ¨¡å¼\" class=\"headerlink\" title=\"State(çŠ¶æ€æ¨¡å¼)\"></a>State(çŠ¶æ€æ¨¡å¼)</h4><p>çŠ¶æ€æ¨¡å¼æ˜¯ä¸€ç§è¡Œä¸ºè®¾è®¡æ¨¡å¼ï¼Œè®©ä½ èƒ½åœ¨ä¸€ä¸ªå¯¹è±¡çš„å†…éƒ¨çŠ¶æ€å˜åŒ–æ—¶æ”¹å˜å…¶è¡Œä¸ºï¼Œä½¿å…¶çœ‹ä¸Šå»å°±åƒæ”¹å˜äº†è‡ªèº«æ‰€å±çš„ç±»ä¸€æ ·ã€‚</p>\n<h5 id=\"é—®é¢˜-18\"><a href=\"#é—®é¢˜-18\" class=\"headerlink\" title=\"é—®é¢˜\"></a>é—®é¢˜</h5><p>çŠ¶æ€æ¨¡å¼ä¸æœ‰é™çŠ¶æ€æœºçš„æ¦‚å¿µç´§å¯†ç›¸å…³ã€‚<br>å…¶ä¸»è¦æ€æƒ³æ˜¯ç¨‹åºåœ¨ä»»æ„æ—¶åˆ»ä»…å¯å¤„äºå‡ ç§<strong>æœ‰é™çš„çŠ¶æ€</strong>ä¸­ã€‚åœ¨ä»»ä½•ä¸€ä¸ªç‰¹å®šçŠ¶æ€ä¸­ï¼Œç¨‹åºçš„è¡Œä¸ºéƒ½ä¸ç›¸åŒï¼Œä¸”å¯ç¬é—´ä»ä¸€ä¸ªçŠ¶æ€åˆ‡æ¢åˆ°å¦ä¸€ä¸ªçŠ¶æ€ã€‚ä¸è¿‡ï¼Œæ ¹æ®å½“å‰çŠ¶æ€ï¼Œç¨‹åºå¯èƒ½ä¼šåˆ‡æ¢åˆ°å¦å¤–ä¸€ç§çŠ¶æ€ï¼Œä¹Ÿå¯èƒ½ä¼šä¿æŒå½“å‰çŠ¶æ€ä¸å˜ã€‚è¿™äº›æ•°é‡æœ‰é™ä¸”é¢„å…ˆå®šä¹‰çš„çŠ¶æ€åˆ‡æ¢è§„åˆ™è¢«ç§°ä¸ºè½¬ç§»ã€‚</p>\n<p>çŠ¶æ€æœºé€šå¸¸ç”±ä¼—å¤šæ¡ä»¶è¿ç®—ç¬¦ ï¼ˆ ifæˆ– switch ï¼‰ å®ç°ï¼Œå¯æ ¹æ®å¯¹è±¡çš„å½“å‰çŠ¶æ€é€‰æ‹©ç›¸åº”çš„è¡Œä¸ºã€‚ â€‹â€œçŠ¶æ€â€ é€šå¸¸åªæ˜¯å¯¹è±¡ä¸­çš„ä¸€ç»„æˆå‘˜å˜é‡å€¼ã€‚å³ä½¿ä½ ä¹‹å‰ä»æœªå¬è¯´è¿‡æœ‰é™çŠ¶æ€æœºï¼Œä½ ä¹Ÿå¾ˆå¯èƒ½å·²ç»å®ç°è¿‡çŠ¶æ€æ¨¡å¼ã€‚ä¸‹é¢çš„ä»£ç åº”è¯¥èƒ½å¸®åŠ©ä½ å›å¿†èµ·æ¥ã€‚</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">Document</span> <span class=\"title\">is</span></span><br><span class=\"line\">    <span class=\"title\">field</span> <span class=\"title\">state</span>: <span class=\"title\">string</span></span><br><span class=\"line\">    <span class=\"comment\">// ...</span></span><br><span class=\"line\">    <span class=\"title\">method</span> <span class=\"title\">publish</span>() <span class=\"title\">is</span></span><br><span class=\"line\">        <span class=\"title\">switch</span> (<span class=\"title\">state</span>)</span><br><span class=\"line\">            &quot;<span class=\"title\">draft</span>&quot;:</span><br><span class=\"line\">                <span class=\"title\">state</span> = <span class=\"string\">&quot;moderation&quot;</span></span><br><span class=\"line\">                <span class=\"keyword\">break</span></span><br><span class=\"line\">            <span class=\"string\">&quot;moderation&quot;</span>:</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (currentUser.role == <span class=\"string\">&quot;admin&quot;</span>)</span><br><span class=\"line\">                    state = <span class=\"string\">&quot;published&quot;</span></span><br><span class=\"line\">                <span class=\"keyword\">break</span></span><br><span class=\"line\">            <span class=\"string\">&quot;published&quot;</span>:</span><br><span class=\"line\">                <span class=\"comment\">// ä»€ä¹ˆä¹Ÿä¸åšã€‚</span></span><br><span class=\"line\">                <span class=\"keyword\">break</span></span><br><span class=\"line\">    <span class=\"comment\">// ...</span></span><br></pre></td></tr></table></figure>\n\n<p>å½“æˆ‘ä»¬é€æ­¥åœ¨æ–‡æ¡£ç±»ä¸­æ·»åŠ æ›´å¤šçŠ¶æ€å’Œä¾èµ–äºçŠ¶æ€çš„è¡Œä¸ºåï¼ŒåŸºäºæ¡ä»¶è¯­å¥çš„çŠ¶æ€æœºå°±ä¼šæš´éœ²å…¶æœ€å¤§çš„å¼±ç‚¹ã€‚ä¸ºäº†èƒ½æ ¹æ®å½“å‰çŠ¶æ€é€‰æ‹©å®Œæˆç›¸åº”è¡Œä¸ºçš„æ–¹æ³•ï¼Œç»å¤§éƒ¨åˆ†æ–¹æ³•ä¸­ä¼šåŒ…å«å¤æ‚çš„æ¡ä»¶è¯­å¥ã€‚ä¿®æ”¹å…¶è½¬æ¢é€»è¾‘å¯èƒ½ä¼šæ¶‰åŠåˆ°ä¿®æ”¹æ‰€æœ‰æ–¹æ³•ä¸­çš„çŠ¶æ€æ¡ä»¶è¯­å¥ï¼Œå¯¼è‡´ä»£ç çš„ç»´æŠ¤å·¥ä½œéå¸¸è‰°éš¾ã€‚</p>\n<h5 id=\"è§£å†³æ–¹æ¡ˆ-18\"><a href=\"#è§£å†³æ–¹æ¡ˆ-18\" class=\"headerlink\" title=\"è§£å†³æ–¹æ¡ˆ\"></a>è§£å†³æ–¹æ¡ˆ</h5><p>çŠ¶æ€æ¨¡å¼å»ºè®®ä¸ºå¯¹è±¡çš„æ‰€æœ‰å¯èƒ½çŠ¶æ€æ–°å»ºä¸€ä¸ªç±»ï¼Œç„¶åå°†æ‰€æœ‰çŠ¶æ€çš„å¯¹åº”è¡Œä¸ºæŠ½å–åˆ°è¿™äº›ç±»ä¸­ã€‚</p>\n<p>åŸå§‹å¯¹è±¡è¢«ç§°ä¸ºä¸Šä¸‹æ–‡(conÂ­text)ï¼Œå®ƒå¹¶ä¸ä¼šè‡ªè¡Œå®ç°æ‰€æœ‰è¡Œä¸ºï¼Œè€Œæ˜¯ä¼šä¿å­˜ä¸€ä¸ªæŒ‡å‘è¡¨ç¤ºå½“å‰çŠ¶æ€çš„çŠ¶æ€å¯¹è±¡çš„å¼•ç”¨ï¼Œä¸”å°†æ‰€æœ‰ä¸çŠ¶æ€ç›¸å…³çš„å·¥ä½œå§”æ´¾ç»™è¯¥å¯¹è±¡ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220825164123.png\" alt=\"img\"></p>\n<p>å¦‚éœ€å°†ä¸Šä¸‹æ–‡è½¬æ¢ä¸ºå¦å¤–ä¸€ç§çŠ¶æ€ï¼Œåˆ™éœ€å°†å½“å‰æ´»åŠ¨çš„çŠ¶æ€å¯¹è±¡æ›¿æ¢ä¸ºå¦å¤–ä¸€ä¸ªä»£è¡¨æ–°çŠ¶æ€çš„å¯¹è±¡ã€‚é‡‡ç”¨è¿™ç§æ–¹å¼æ˜¯æœ‰å‰æçš„ï¼šæ‰€æœ‰çŠ¶æ€ç±»éƒ½å¿…é¡»éµå¾ªåŒæ ·çš„æ¥å£ï¼Œè€Œä¸”ä¸Šä¸‹æ–‡å¿…é¡»ä»…é€šè¿‡æ¥å£ä¸è¿™äº›å¯¹è±¡è¿›è¡Œäº¤äº’ã€‚</p>\n<p>è¿™ä¸ªç»“æ„å¯èƒ½çœ‹ä¸Šå»ä¸ç­–ç•¥æ¨¡å¼ç›¸ä¼¼ï¼Œä½†æœ‰ä¸€ä¸ªå…³é”®æ€§çš„ä¸åŒâ€”â€” åœ¨çŠ¶æ€æ¨¡å¼ä¸­ï¼Œç‰¹<strong>å®šçŠ¶æ€çŸ¥é“å…¶ä»–æ‰€æœ‰çŠ¶æ€çš„å­˜åœ¨ï¼Œä¸”èƒ½è§¦å‘ä»ä¸€ä¸ªçŠ¶æ€åˆ°å¦ä¸€ä¸ªçŠ¶æ€çš„è½¬æ¢</strong>ï¼›ç­–ç•¥åˆ™<strong>å‡ ä¹å®Œå…¨ä¸çŸ¥é“å…¶ä»–ç­–ç•¥çš„å­˜åœ¨</strong>ã€‚</p>\n<h5 id=\"çŠ¶æ€æ¨¡å¼ç»“æ„\"><a href=\"#çŠ¶æ€æ¨¡å¼ç»“æ„\" class=\"headerlink\" title=\"çŠ¶æ€æ¨¡å¼ç»“æ„\"></a>çŠ¶æ€æ¨¡å¼ç»“æ„</h5><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220825164235.png\" alt=\"img\"></p>\n<p>1.<strong>ä¸Šä¸‹æ–‡(ConÂ­text)</strong> ä¿å­˜äº†å¯¹äºä¸€ä¸ªå…·ä½“çŠ¶æ€å¯¹è±¡çš„å¼•ç”¨ï¼Œå¹¶ä¼šå°†æ‰€æœ‰ä¸è¯¥çŠ¶æ€ç›¸å…³çš„å·¥ä½œå§”æ´¾ç»™å®ƒã€‚ä¸Šä¸‹æ–‡é€šè¿‡çŠ¶æ€æ¥å£ä¸çŠ¶æ€å¯¹è±¡äº¤äº’ï¼Œä¸”ä¼šæä¾›ä¸€ä¸ªè®¾ç½®å™¨ç”¨äºä¼ é€’æ–°çš„çŠ¶æ€å¯¹è±¡ã€‚</p>\n<p>2.<strong>çŠ¶æ€(State)</strong> æ¥å£ä¼šå£°æ˜ç‰¹å®šäºçŠ¶æ€çš„æ–¹æ³•ã€‚è¿™äº›æ–¹æ³•åº”èƒ½è¢«å…¶ä»–æ‰€æœ‰å…·ä½“çŠ¶æ€æ‰€ç†è§£ï¼Œå› ä¸ºä½ ä¸å¸Œæœ›æŸäº›çŠ¶æ€æ‰€æ‹¥æœ‰çš„æ–¹æ³•æ°¸è¿œä¸ä¼šè¢«è°ƒç”¨ã€‚</p>\n<p>3.<strong>å…·ä½“çŠ¶æ€(ConÂ­crete States)</strong> ä¼šè‡ªè¡Œå®ç°ç‰¹å®šäºçŠ¶æ€çš„æ–¹æ³•ã€‚ä¸ºäº†é¿å…å¤šä¸ªçŠ¶æ€ä¸­åŒ…å«ç›¸ä¼¼ä»£ç ï¼Œä½ å¯ä»¥æä¾›ä¸€ä¸ªå°è£…æœ‰éƒ¨åˆ†é€šç”¨è¡Œä¸ºçš„ä¸­é—´æŠ½è±¡ç±»ã€‚<br>çŠ¶æ€å¯¹è±¡å¯å­˜å‚¨å¯¹äºä¸Šä¸‹æ–‡å¯¹è±¡çš„åå‘å¼•ç”¨ã€‚çŠ¶æ€å¯ä»¥é€šè¿‡è¯¥å¼•ç”¨ä»ä¸Šä¸‹æ–‡å¤„è·å–æ‰€éœ€ä¿¡æ¯ï¼Œå¹¶ä¸”èƒ½è§¦å‘çŠ¶æ€è½¬ç§»ã€‚</p>\n<p>4.ä¸Šä¸‹æ–‡å’Œå…·ä½“çŠ¶æ€éƒ½å¯ä»¥è®¾ç½®ä¸Šä¸‹æ–‡çš„ä¸‹ä¸ªçŠ¶æ€ï¼Œå¹¶å¯é€šè¿‡æ›¿æ¢è¿æ¥åˆ°ä¸Šä¸‹æ–‡çš„çŠ¶æ€å¯¹è±¡æ¥å®Œæˆå®é™…çš„çŠ¶æ€è½¬æ¢ã€‚</p>\n<h5 id=\"ä¼ªä»£ç -18\"><a href=\"#ä¼ªä»£ç -18\" class=\"headerlink\" title=\"ä¼ªä»£ç \"></a>ä¼ªä»£ç </h5><p>çŠ¶æ€æ¨¡å¼åœ¨æ¸¸æˆä¸­è¿˜æ˜¯ååˆ†å¸¸è§çš„ï¼Œæ¯”å¦‚äººç‰©åŠ¨ç”»çŠ¶æ€çš„å˜åŒ–ï¼Œä½†æ˜¯æ¯”è¾ƒå¤šçš„è¿˜æ˜¯AIä¸­ï¼Œä¸è¿‡æ˜¯ç®€å•æ¸¸æˆé‡Œçš„ï¼ˆå¤§å‹æ¸¸æˆçš„æ–¹æ¡ˆå¯èƒ½ä¸å¤ªä¸€æ ·ï¼‰</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//Contextç±»å°±æ˜¯è¦è¿›è¡ŒçŠ¶æ€å˜åŒ–çš„ç±»</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">Context</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> State _state = <span class=\"literal\">null</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">Context</span>(<span class=\"params\">State state</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.ChangeState(state);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">ChangeState</span>(<span class=\"params\">State state</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Console.WriteLine(<span class=\"string\">$&quot;Context: Transition to <span class=\"subst\">&#123;state.GetType().Name&#125;</span>.&quot;</span>);</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._state = state;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._state.SetContext(<span class=\"keyword\">this</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Request1</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._state.Handle1();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Request2</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._state.Handle2();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//çŠ¶æ€åŸºç±»</span></span><br><span class=\"line\"><span class=\"keyword\">abstract</span> <span class=\"keyword\">class</span> <span class=\"title\">State</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">protected</span> Context _context;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">SetContext</span>(<span class=\"params\">Context context</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._context = context;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> <span class=\"keyword\">void</span> <span class=\"title\">Handle1</span>()</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> <span class=\"keyword\">void</span> <span class=\"title\">Handle2</span>()</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">ConcreteStateA</span> : <span class=\"title\">State</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">override</span> <span class=\"keyword\">void</span> <span class=\"title\">Handle1</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">       Console.WriteLine(<span class=\"string\">&quot;ConcreteStateA handles request1.&quot;</span>);</span><br><span class=\"line\">        Console.WriteLine(<span class=\"string\">&quot;ConcreteStateA wants to change the state of the context.&quot;</span>);</span><br><span class=\"line\">       <span class=\"keyword\">this</span>._context.ChangeState(<span class=\"keyword\">new</span> ConcreteStateB());</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">override</span> <span class=\"keyword\">void</span> <span class=\"title\">Handle2</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">       Console.WriteLine(<span class=\"string\">&quot;ConcreteStateA handles request2.&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">ConcreteStateB</span> : <span class=\"title\">State</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">override</span> <span class=\"keyword\">void</span> <span class=\"title\">Handle1</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Console.Write(<span class=\"string\">&quot;ConcreteStateB handles request1.&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">override</span> <span class=\"keyword\">void</span> <span class=\"title\">Handle2</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Console.WriteLine(<span class=\"string\">&quot;ConcreteStateB handles request2.&quot;</span>);</span><br><span class=\"line\">        Console.WriteLine(<span class=\"string\">&quot;ConcreteStateB wants to change the state of the context.&quot;</span>);</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._context.ChangeState(<span class=\"keyword\">new</span> ConcreteStateA());</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//å®¢æˆ·ç«¯ä»£ç </span></span><br><span class=\"line\"><span class=\"keyword\">var</span> context = <span class=\"keyword\">new</span> Context(<span class=\"keyword\">new</span> ConcreteStateA());</span><br><span class=\"line\">context.Request1();</span><br><span class=\"line\">context.Request2();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/*è¿è¡Œç»“æœ</span></span><br><span class=\"line\"><span class=\"comment\">Context: Transition to ConcreteStateA.</span></span><br><span class=\"line\"><span class=\"comment\">ConcreteStateA handles request1.</span></span><br><span class=\"line\"><span class=\"comment\">ConcreteStateA wants to change the state of the context.</span></span><br><span class=\"line\"><span class=\"comment\">Context: Transition to ConcreteStateB.</span></span><br><span class=\"line\"><span class=\"comment\">ConcreteStateB handles request2.</span></span><br><span class=\"line\"><span class=\"comment\">ConcreteStateB wants to change the state of the context.</span></span><br><span class=\"line\"><span class=\"comment\">Context: Transition to ConcreteStateA.</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br></pre></td></tr></table></figure>\n\n<h5 id=\"é€‚åˆçŠ¶æ€æ¨¡å¼çš„åœ°æ–¹\"><a href=\"#é€‚åˆçŠ¶æ€æ¨¡å¼çš„åœ°æ–¹\" class=\"headerlink\" title=\"é€‚åˆçŠ¶æ€æ¨¡å¼çš„åœ°æ–¹\"></a>é€‚åˆçŠ¶æ€æ¨¡å¼çš„åœ°æ–¹</h5><ul>\n<li>å¦‚æœå¯¹è±¡éœ€è¦æ ¹æ®è‡ªèº«å½“å‰çŠ¶æ€è¿›è¡Œä¸åŒè¡Œä¸ºï¼ŒåŒæ—¶çŠ¶æ€çš„æ•°é‡éå¸¸å¤šä¸”ä¸çŠ¶æ€ç›¸å…³çš„ä»£ç ä¼šé¢‘ç¹å˜æ›´çš„è¯ï¼Œå¯ä½¿ç”¨çŠ¶æ€æ¨¡å¼ã€‚</li>\n<li>å¦‚æœæŸä¸ªç±»éœ€è¦æ ¹æ®æˆå‘˜å˜é‡çš„å½“å‰å€¼æ”¹å˜è‡ªèº«è¡Œä¸ºï¼Œä»è€Œéœ€è¦ä½¿ç”¨å¤§é‡çš„æ¡ä»¶è¯­å¥æ—¶ï¼Œå¯ä½¿ç”¨è¯¥æ¨¡å¼ã€‚</li>\n<li>å½“ç›¸ä¼¼çŠ¶æ€å’ŒåŸºäºæ¡ä»¶çš„çŠ¶æ€æœºè½¬æ¢ä¸­å­˜åœ¨è®¸å¤šé‡å¤ä»£ç æ—¶ï¼Œå¯ä½¿ç”¨çŠ¶æ€æ¨¡å¼ã€‚</li>\n</ul>\n<h5 id=\"çŠ¶æ€æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"><a href=\"#çŠ¶æ€æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\" class=\"headerlink\" title=\"çŠ¶æ€æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"></a>çŠ¶æ€æ¨¡å¼çš„ä¼˜ç¼ºç‚¹</h5><p><strong>ä¼˜ç‚¹</strong> ï¼š</p>\n<ul>\n<li>ç¬¦åˆSRP</li>\n<li>ç¬¦åˆOCP</li>\n<li>é€šè¿‡æ¶ˆé™¤è‡ƒè‚¿çš„çŠ¶æ€æœºæ¡ä»¶è¯­å¥ç®€åŒ–ä¸Šä¸‹æ–‡ä»£ç ã€‚</li>\n</ul>\n<p><strong>ç¼ºç‚¹</strong> ï¼š</p>\n<ul>\n<li>å¦‚æœçŠ¶æ€æœºåªæœ‰å¾ˆå°‘çš„å‡ ä¸ªçŠ¶æ€ï¼Œæˆ–è€…å¾ˆå°‘å‘ç”Ÿæ”¹å˜ï¼Œé‚£ä¹ˆåº”ç”¨è¯¥æ¨¡å¼å¯èƒ½ä¼šæ˜¾å¾—å°é¢˜å¤§ä½œã€‚</li>\n</ul>\n<h4 id=\"Strategy-ç­–ç•¥æ¨¡å¼\"><a href=\"#Strategy-ç­–ç•¥æ¨¡å¼\" class=\"headerlink\" title=\"Strategy(ç­–ç•¥æ¨¡å¼)\"></a>Strategy(ç­–ç•¥æ¨¡å¼)</h4><p>ç­–ç•¥æ¨¡å¼æ˜¯ä¸€ç§è¡Œä¸ºè®¾è®¡æ¨¡å¼ï¼Œå®ƒèƒ½è®©ä½ å®šä¹‰ä¸€ç³»åˆ—ç®—æ³•ï¼Œå¹¶å°†æ¯ç§ç®—æ³•åˆ†åˆ«æ”¾å…¥ç‹¬ç«‹çš„ç±»ä¸­ï¼Œä»¥ä½¿ç®—æ³•çš„å¯¹è±¡èƒ½å¤Ÿç›¸äº’æ›¿æ¢ã€‚</p>\n<h5 id=\"é—®é¢˜-19\"><a href=\"#é—®é¢˜-19\" class=\"headerlink\" title=\"é—®é¢˜\"></a>é—®é¢˜</h5><p>ä¸€å¤©ï¼Œä½ æ‰“ç®—ä¸ºæ¸¸å®¢ä»¬åˆ›å»ºä¸€æ¬¾å¯¼æ¸¸ç¨‹åºã€‚è¯¥ç¨‹åºçš„æ ¸å¿ƒåŠŸèƒ½æ˜¯æä¾›ç¾è§‚çš„åœ°å›¾ï¼Œ ä»¥å¸®åŠ©ç”¨æˆ·åœ¨ä»»ä½•åŸå¸‚ä¸­å¿«é€Ÿå®šä½ã€‚ç”¨æˆ·æœŸå¾…çš„ç¨‹åºæ–°åŠŸèƒ½æ˜¯è‡ªåŠ¨è·¯çº¿è§„åˆ’ï¼šä»–ä»¬å¸Œæœ›è¾“å…¥åœ°å€åå°±èƒ½åœ¨åœ°å›¾ä¸Šçœ‹åˆ°å‰å¾€ç›®çš„åœ°çš„æœ€å¿«è·¯çº¿ã€‚ç¨‹åºçš„é¦–ä¸ªç‰ˆæœ¬åªèƒ½è§„åˆ’å…¬è·¯è·¯çº¿ã€‚é©¾è½¦æ—…è¡Œçš„äººä»¬å¯¹æ­¤éå¸¸æ»¡æ„ã€‚ä½†å¾ˆæ˜¾ç„¶ï¼Œå¹¶éæ‰€æœ‰äººéƒ½ä¼šåœ¨åº¦å‡æ—¶å¼€è½¦ã€‚å› æ­¤ä½ åœ¨ä¸‹æ¬¡æ›´æ–°æ—¶æ·»åŠ äº†è§„åˆ’æ­¥è¡Œè·¯çº¿çš„åŠŸèƒ½ã€‚æ­¤åï¼Œä½ åˆæ·»åŠ äº†è§„åˆ’å…¬å…±äº¤é€šè·¯çº¿çš„åŠŸèƒ½ã€‚è€Œè¿™åªæ˜¯ä¸ªå¼€å§‹ã€‚ä¸ä¹…åï¼Œä½ åˆè¦ä¸ºéª‘è¡Œè€…è§„åˆ’è·¯çº¿ã€‚åˆè¿‡äº†ä¸€æ®µæ—¶é—´ï¼Œä½ åˆè¦ä¸ºæ¸¸è§ˆåŸå¸‚ä¸­çš„æ‰€æœ‰æ™¯ç‚¹è§„åˆ’è·¯çº¿ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220826203722.png\" alt=\"img\"></p>\n<h5 id=\"è§£å†³æ–¹æ¡ˆ-19\"><a href=\"#è§£å†³æ–¹æ¡ˆ-19\" class=\"headerlink\" title=\"è§£å†³æ–¹æ¡ˆ\"></a>è§£å†³æ–¹æ¡ˆ</h5><p>ç­–ç•¥æ¨¡å¼å»ºè®®<strong>æ‰¾å‡ºè´Ÿè´£ç”¨è®¸å¤šä¸åŒæ–¹å¼å®Œæˆç‰¹å®šä»»åŠ¡çš„ç±»ï¼Œç„¶åå°†å…¶ä¸­çš„ç®—æ³•æŠ½å–åˆ°ä¸€ç»„</strong>è¢«ç§°ä¸ºç­–ç•¥çš„ç‹¬ç«‹ç±»ä¸­ã€‚åä¸ºä¸Šä¸‹æ–‡çš„åŸå§‹ç±»å¿…é¡»åŒ…å«ä¸€ä¸ªæˆå‘˜å˜é‡æ¥å­˜å‚¨å¯¹äºæ¯ç§ç­–ç•¥çš„å¼•ç”¨ã€‚ä¸Šä¸‹æ–‡å¹¶ä¸æ‰§è¡Œä»»åŠ¡ï¼Œè€Œæ˜¯å°†å·¥ä½œå§”æ´¾ç»™å·²è¿æ¥çš„ç­–ç•¥å¯¹è±¡ã€‚ä¸Šä¸‹æ–‡ä¸è´Ÿè´£é€‰æ‹©ç¬¦åˆä»»åŠ¡éœ€è¦çš„ç®—æ³•â€”â€”å®¢æˆ·ç«¯ä¼šå°†æ‰€éœ€ç­–ç•¥ä¼ é€’ç»™ä¸Šä¸‹æ–‡ã€‚å®é™…ä¸Šï¼Œä¸Šä¸‹æ–‡å¹¶ä¸ååˆ†äº†è§£ç­–ç•¥ï¼Œå®ƒä¼šé€šè¿‡åŒæ ·çš„é€šç”¨æ¥å£ä¸æ‰€æœ‰ç­–ç•¥è¿›è¡Œäº¤äº’ï¼Œè€Œè¯¥æ¥å£åªéœ€æš´éœ²ä¸€ä¸ªæ–¹æ³•æ¥è§¦å‘æ‰€é€‰ç­–ç•¥ä¸­å°è£…çš„ç®—æ³•å³å¯ã€‚ï¼ˆä¸Šä¸‹æ–‡å…¶å®å°±æ˜¯ä¸»è§’ï¼‰</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220826205036.png\" alt=\"img\"></p>\n<h5 id=\"ç­–ç•¥æ¨¡å¼ç»“æ„\"><a href=\"#ç­–ç•¥æ¨¡å¼ç»“æ„\" class=\"headerlink\" title=\"ç­–ç•¥æ¨¡å¼ç»“æ„\"></a>ç­–ç•¥æ¨¡å¼ç»“æ„</h5><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220826205148.png\" alt=\"img\"></p>\n<p>1.<strong>ä¸Šä¸‹æ–‡(ConÂ­text)</strong> ç»´æŠ¤æŒ‡å‘å…·ä½“ç­–ç•¥çš„å¼•ç”¨ï¼Œä¸”ä»…é€šè¿‡ç­–ç•¥æ¥å£ä¸è¯¥å¯¹è±¡è¿›è¡Œäº¤æµã€‚</p>\n<p>2.<strong>ç­–ç•¥(StratÂ­eÂ­gy)</strong> æ¥å£æ˜¯æ‰€æœ‰å…·ä½“ç­–ç•¥çš„é€šç”¨æ¥å£ï¼Œå®ƒå£°æ˜äº†ä¸€ä¸ªä¸Šä¸‹æ–‡ç”¨äºæ‰§è¡Œç­–ç•¥çš„æ–¹æ³•ã€‚</p>\n<p>3.<strong>å…·ä½“ç­–ç•¥(ConÂ­crete StrateÂ­gies)</strong> å®ç°äº†ä¸Šä¸‹æ–‡æ‰€ç”¨ç®—æ³•çš„å„ç§ä¸åŒå˜ä½“ã€‚</p>\n<p>4.å½“ä¸Šä¸‹æ–‡éœ€è¦è¿è¡Œç®—æ³•æ—¶ï¼Œå®ƒä¼šåœ¨å…¶å·²è¿æ¥çš„ç­–ç•¥å¯¹è±¡ä¸Šè°ƒç”¨æ‰§è¡Œæ–¹æ³•ã€‚ä¸Šä¸‹æ–‡ä¸æ¸…æ¥šå…¶æ‰€æ¶‰åŠçš„ç­–ç•¥ç±»å‹ä¸ç®—æ³•çš„æ‰§è¡Œæ–¹å¼ã€‚</p>\n<p>5.<strong>å®¢æˆ·ç«¯(Client)</strong> ä¼šåˆ›å»ºä¸€ä¸ªç‰¹å®šç­–ç•¥å¯¹è±¡å¹¶å°†å…¶ä¼ é€’ç»™ä¸Šä¸‹æ–‡ã€‚ä¸Šä¸‹æ–‡åˆ™ä¼šæä¾›ä¸€ä¸ªè®¾ç½®å™¨ä»¥ä¾¿å®¢æˆ·ç«¯åœ¨è¿è¡Œæ—¶æ›¿æ¢ç›¸å…³è”çš„ç­–ç•¥ã€‚</p>\n<h5 id=\"ä¼ªä»£ç -19\"><a href=\"#ä¼ªä»£ç -19\" class=\"headerlink\" title=\"ä¼ªä»£ç \"></a>ä¼ªä»£ç </h5><p>ç”±äºè·ŸçŠ¶æ€æ¨¡å¼å¾ˆç›¸è¿‘ï¼Œè¿˜æ˜¯å¾ˆå®¹æ˜“ç†è§£çš„ï¼Œæ³¨æ„ä¸€ä¸‹ä¸åŒå°±å¯ä»¥ã€‚</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//Contextä¸»ä½“ç±»ï¼Œå…¶å®å¯ä»¥æ˜¯Playerç±»ï¼Œç›¸å½“äºä¸»é¢˜åšæ“ä½œçš„ç±»</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">Context</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">//ä½¿ç”¨çš„ç­–ç•¥</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> IStrategy _strategy;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">Context</span>()</span> &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">Context</span>(<span class=\"params\">IStrategy strategy</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._strategy = strategy;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">SetStrategy</span>(<span class=\"params\">IStrategy strategy</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._strategy = strategy;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//æ ¹æ®ç­–ç•¥è¿›è¡Œæ“ä½œ</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">DoSomeBusinessLogic</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Console.WriteLine(<span class=\"string\">&quot;Context: Sorting data using the strategy (not sure how it&#x27;ll do it)&quot;</span>);</span><br><span class=\"line\">        <span class=\"keyword\">var</span> result = <span class=\"keyword\">this</span>._strategy.DoAlgorithm(<span class=\"keyword\">new</span> List&lt;<span class=\"built_in\">string</span>&gt; &#123; <span class=\"string\">&quot;a&quot;</span>, <span class=\"string\">&quot;b&quot;</span>, <span class=\"string\">&quot;c&quot;</span>, <span class=\"string\">&quot;d&quot;</span>, <span class=\"string\">&quot;e&quot;</span> &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"built_in\">string</span> resultStr = <span class=\"built_in\">string</span>.Empty;</span><br><span class=\"line\">        <span class=\"keyword\">foreach</span> (<span class=\"keyword\">var</span> element <span class=\"keyword\">in</span> result <span class=\"keyword\">as</span> List&lt;<span class=\"built_in\">string</span>&gt;)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            resultStr += element + <span class=\"string\">&quot;,&quot;</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        Console.WriteLine(resultStr);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//Strategyæ¥å£å£°æ˜æ–¹æ³•</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title\">IStrategy</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"built_in\">object</span> <span class=\"title\">DoAlgorithm</span>(<span class=\"params\"><span class=\"built_in\">object</span> data</span>)</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//å…·ä½“ç­–ç•¥</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">ConcreteStrategyA</span> : <span class=\"title\">IStrategy</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"built_in\">object</span> <span class=\"title\">DoAlgorithm</span>(<span class=\"params\"><span class=\"built_in\">object</span> data</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> list = data <span class=\"keyword\">as</span> List&lt;<span class=\"built_in\">string</span>&gt;;</span><br><span class=\"line\">        list.Sort();</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> list;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">ConcreteStrategyB</span> : <span class=\"title\">IStrategy</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"built_in\">object</span> <span class=\"title\">DoAlgorithm</span>(<span class=\"params\"><span class=\"built_in\">object</span> data</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> list = data <span class=\"keyword\">as</span> List&lt;<span class=\"built_in\">string</span>&gt;;</span><br><span class=\"line\">        list.Sort();</span><br><span class=\"line\">        list.Reverse();</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> list;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//å®¢æˆ·ç«¯ä»£ç </span></span><br><span class=\"line\"><span class=\"keyword\">var</span> context = <span class=\"keyword\">new</span> Context();</span><br><span class=\"line\"></span><br><span class=\"line\">Console.WriteLine(<span class=\"string\">&quot;Client: Strategy is set to normal sorting.&quot;</span>);</span><br><span class=\"line\">context.SetStrategy(<span class=\"keyword\">new</span> ConcreteStrategyA());</span><br><span class=\"line\">context.DoSomeBusinessLogic();</span><br><span class=\"line\">            </span><br><span class=\"line\">Console.WriteLine();</span><br><span class=\"line\">            </span><br><span class=\"line\">Console.WriteLine(<span class=\"string\">&quot;Client: Strategy is set to reverse sorting.&quot;</span>);</span><br><span class=\"line\">context.SetStrategy(<span class=\"keyword\">new</span> ConcreteStrategyB());</span><br><span class=\"line\">context.DoSomeBusinessLogic();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/*è¿è¡Œç»“æœ</span></span><br><span class=\"line\"><span class=\"comment\">Client: Strategy is set to normal sorting.</span></span><br><span class=\"line\"><span class=\"comment\">Context: Sorting data using the strategy (not sure how it&#x27;ll do it)</span></span><br><span class=\"line\"><span class=\"comment\">a,b,c,d,e</span></span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\">Client: Strategy is set to reverse sorting.</span></span><br><span class=\"line\"><span class=\"comment\">Context: Sorting data using the strategy (not sure how it&#x27;ll do it)</span></span><br><span class=\"line\"><span class=\"comment\">e,d,c,b,a</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br></pre></td></tr></table></figure>\n\n<h5 id=\"é€‚åˆç­–ç•¥æ¨¡å¼çš„åœ°æ–¹\"><a href=\"#é€‚åˆç­–ç•¥æ¨¡å¼çš„åœ°æ–¹\" class=\"headerlink\" title=\"é€‚åˆç­–ç•¥æ¨¡å¼çš„åœ°æ–¹\"></a>é€‚åˆç­–ç•¥æ¨¡å¼çš„åœ°æ–¹</h5><ul>\n<li>å½“ä½ æƒ³ä½¿ç”¨å¯¹è±¡ä¸­å„ç§ä¸åŒçš„ç®—æ³•å˜ä½“ï¼Œå¹¶å¸Œæœ›èƒ½åœ¨è¿è¡Œæ—¶åˆ‡æ¢ç®—æ³•æ—¶ï¼Œå¯ä½¿ç”¨ç­–ç•¥æ¨¡å¼ã€‚</li>\n<li>å½“ä½ æœ‰è®¸å¤šä»…åœ¨æ‰§è¡ŒæŸäº›è¡Œä¸ºæ—¶ç•¥æœ‰ä¸åŒçš„ç›¸ä¼¼ç±»æ—¶ï¼Œå¯ä½¿ç”¨ç­–ç•¥æ¨¡å¼ã€‚</li>\n<li>å¦‚æœç®—æ³•åœ¨ä¸Šä¸‹æ–‡çš„é€»è¾‘ä¸­ä¸æ˜¯ç‰¹åˆ«é‡è¦ï¼Œä½¿ç”¨è¯¥æ¨¡å¼èƒ½å°†ç±»çš„ä¸šåŠ¡é€»è¾‘ä¸å…¶ç®—æ³•å®ç°ç»†èŠ‚éš”ç¦»å¼€æ¥ã€‚</li>\n<li>å½“ç±»ä¸­ä½¿ç”¨äº†å¤æ‚æ¡ä»¶è¿ç®—ç¬¦ä»¥åœ¨åŒä¸€ç®—æ³•çš„ä¸åŒå˜ä½“ä¸­åˆ‡æ¢æ—¶ï¼Œå¯ä½¿ç”¨è¯¥æ¨¡å¼ã€‚</li>\n</ul>\n<h5 id=\"ç­–ç•¥æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"><a href=\"#ç­–ç•¥æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\" class=\"headerlink\" title=\"ç­–ç•¥æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"></a>ç­–ç•¥æ¨¡å¼çš„ä¼˜ç¼ºç‚¹</h5><p><strong>ä¼˜ç‚¹</strong> ï¼š</p>\n<ul>\n<li>ä½ å¯ä»¥åœ¨è¿è¡Œæ—¶åˆ‡æ¢å¯¹è±¡å†…çš„ç®—æ³•ã€‚</li>\n<li>ä½ å¯ä»¥å°†ç®—æ³•çš„å®ç°å’Œä½¿ç”¨ç®—æ³•çš„ä»£ç éš”ç¦»å¼€æ¥ã€‚</li>\n<li>ä½ å¯ä»¥ä½¿ç”¨ç»„åˆæ¥ä»£æ›¿ç»§æ‰¿ã€‚</li>\n<li>ç¬¦åˆOCP</li>\n</ul>\n<p><strong>ç¼ºç‚¹</strong> ï¼š</p>\n<ul>\n<li>å¦‚æœä½ çš„ç®—æ³•æå°‘å‘ç”Ÿæ”¹å˜ï¼Œé‚£ä¹ˆæ²¡æœ‰ä»»ä½•ç†ç”±å¼•å…¥æ–°çš„ç±»å’Œæ¥å£ã€‚ä½¿ç”¨è¯¥æ¨¡å¼åªä¼šè®©ç¨‹åºè¿‡äºå¤æ‚ã€‚</li>\n<li>å®¢æˆ·ç«¯å¿…é¡»çŸ¥æ™“ç­–ç•¥é—´çš„ä¸åŒâ€”â€”å®ƒéœ€è¦é€‰æ‹©åˆé€‚çš„ç­–ç•¥ã€‚</li>\n<li>è®¸å¤šç°ä»£ç¼–ç¨‹è¯­è¨€æ”¯æŒå‡½æ•°ç±»å‹åŠŸèƒ½ï¼Œå…è®¸ä½ åœ¨ä¸€ç»„åŒ¿åå‡½æ•°ä¸­å®ç°ä¸åŒç‰ˆæœ¬çš„ç®—æ³•ã€‚è¿™æ ·ï¼Œä½ ä½¿ç”¨è¿™äº›å‡½æ•°çš„æ–¹å¼å°±å’Œä½¿ç”¨ç­–ç•¥å¯¹è±¡æ—¶å®Œå…¨ç›¸åŒï¼Œæ— éœ€å€ŸåŠ©é¢å¤–çš„ç±»å’Œæ¥å£æ¥ä¿æŒä»£ç ç®€æ´ã€‚</li>\n</ul>\n<h4 id=\"Template-Method-æ¨¡æ¿æ–¹æ³•æ¨¡å¼\"><a href=\"#Template-Method-æ¨¡æ¿æ–¹æ³•æ¨¡å¼\" class=\"headerlink\" title=\"Template Method(æ¨¡æ¿æ–¹æ³•æ¨¡å¼)\"></a>Template Method(æ¨¡æ¿æ–¹æ³•æ¨¡å¼)</h4><p>æ¨¡æ¿æ–¹æ³•æ¨¡å¼æ˜¯ä¸€ç§è¡Œä¸ºè®¾è®¡æ¨¡å¼ï¼Œå®ƒåœ¨è¶…ç±»ä¸­å®šä¹‰äº†ä¸€ä¸ªç®—æ³•çš„æ¡†æ¶ï¼Œå…è®¸å­ç±»åœ¨ä¸ä¿®æ”¹ç»“æ„çš„æƒ…å†µä¸‹é‡å†™ç®—æ³•çš„ç‰¹å®šæ­¥éª¤ã€‚</p>\n<h5 id=\"é—®é¢˜-20\"><a href=\"#é—®é¢˜-20\" class=\"headerlink\" title=\"é—®é¢˜\"></a>é—®é¢˜</h5><p>å‡å¦‚ä½ æ­£åœ¨å¼€å‘ä¸€æ¬¾åˆ†æå…¬å¸æ–‡æ¡£çš„æ•°æ®æŒ–æ˜ç¨‹åºã€‚ ç”¨æˆ·éœ€è¦å‘ç¨‹åºè¾“å…¥å„ç§æ ¼å¼ ï¼ˆPDFã€ DOC æˆ– CSVï¼‰ çš„æ–‡æ¡£ï¼Œç¨‹åºåˆ™ä¼šè¯•å›¾ä»è¿™äº›æ–‡ä»¶ä¸­æŠ½å–æœ‰æ„ä¹‰çš„æ•°æ®ï¼Œå¹¶ä»¥ç»Ÿä¸€çš„æ ¼å¼å°†å…¶è¿”å›ç»™ç”¨æˆ·ã€‚</p>\n<p>è¯¥ç¨‹åºçš„é¦–ä¸ªç‰ˆæœ¬ä»…æ”¯æŒ DOC æ–‡ä»¶ã€‚åœ¨æ¥ä¸‹æ¥çš„ä¸€ä¸ªç‰ˆæœ¬ä¸­ï¼Œç¨‹åºèƒ½å¤Ÿæ”¯æŒ CSV æ–‡ä»¶ã€‚ä¸€ä¸ªæœˆåï¼Œä½  â€œæ•™ä¼šâ€ äº†ç¨‹åºä» PDF æ–‡ä»¶ä¸­æŠ½å–æ•°æ®ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220826213247.png\" alt=\"img\"></p>\n<p>ä¸€æ®µæ—¶é—´åï¼Œä½ å‘ç°è¿™ä¸‰ä¸ªç±»ä¸­åŒ…å«è®¸å¤šç›¸ä¼¼ä»£ç ã€‚ å°½ç®¡è¿™äº›ç±»å¤„ç†ä¸åŒæ•°æ®æ ¼å¼çš„ä»£ç å®Œå…¨ä¸åŒï¼Œä½†æ•°æ®å¤„ç†å’Œåˆ†æçš„ä»£ç å´å‡ ä¹å®Œå…¨ä¸€æ ·ã€‚å¦‚æœèƒ½åœ¨ä¿æŒç®—æ³•ç»“æ„å®Œæ•´çš„æƒ…å†µä¸‹å»é™¤é‡å¤ä»£ç ï¼Œè¿™éš¾é“ä¸æ˜¯ä¸€ä»¶å¾ˆæ£’çš„äº‹æƒ…å—ï¼Ÿ</p>\n<p>è¿˜æœ‰å¦ä¸€ä¸ªä¸ä½¿ç”¨è¿™äº›ç±»çš„å®¢æˆ·ç«¯ä»£ç ç›¸å…³çš„é—®é¢˜ï¼šå®¢æˆ·ç«¯ä»£ç ä¸­åŒ…å«è®¸å¤šæ¡ä»¶è¯­å¥ï¼Œä»¥æ ¹æ®ä¸åŒçš„å¤„ç†å¯¹è±¡ç±»å‹é€‰æ‹©åˆé€‚çš„å¤„ç†è¿‡ç¨‹ã€‚å¦‚æœæ‰€æœ‰å¤„ç†æ•°æ®çš„ç±»éƒ½æ‹¥æœ‰ç›¸åŒçš„æ¥å£æˆ–åŸºç±»ï¼Œé‚£ä¹ˆä½ å°±å¯ä»¥å»é™¤å®¢æˆ·ç«¯ä»£ç ä¸­çš„æ¡ä»¶è¯­å¥ï¼Œè½¬è€Œä½¿ç”¨å¤šæ€æœºåˆ¶æ¥åœ¨å¤„ç†å¯¹è±¡ä¸Šè°ƒç”¨å‡½æ•°ã€‚</p>\n<h5 id=\"è§£å†³æ–¹æ¡ˆ-20\"><a href=\"#è§£å†³æ–¹æ¡ˆ-20\" class=\"headerlink\" title=\"è§£å†³æ–¹æ¡ˆ\"></a>è§£å†³æ–¹æ¡ˆ</h5><p>æ¨¡æ¿æ–¹æ³•æ¨¡å¼å»ºè®®å°†ç®—æ³•åˆ†è§£ä¸ºä¸€ç³»åˆ—æ­¥éª¤ï¼Œç„¶åå°†è¿™äº›æ­¥éª¤æ”¹å†™ä¸ºæ–¹æ³•ï¼Œæœ€ååœ¨ â€œæ¨¡æ¿æ–¹æ³•â€ ä¸­ä¾æ¬¡è°ƒç”¨è¿™äº›æ–¹æ³•ã€‚æ­¥éª¤å¯ä»¥æ˜¯æŠ½è±¡çš„ï¼Œä¹Ÿå¯ä»¥æœ‰ä¸€äº›é»˜è®¤çš„å®ç°ã€‚ä¸ºäº†èƒ½å¤Ÿä½¿ç”¨ç®—æ³•ï¼Œå®¢æˆ·ç«¯éœ€è¦è‡ªè¡Œæä¾›å­ç±»å¹¶å®ç°æ‰€æœ‰çš„æŠ½è±¡æ­¥éª¤ã€‚å¦‚æœ‰å¿…è¦è¿˜éœ€é‡å†™ä¸€äº›æ­¥éª¤ ï¼ˆä½†è¿™ä¸€æ­¥ä¸­ä¸åŒ…æ‹¬æ¨¡æ¿æ–¹æ³•è‡ªèº«ï¼‰ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220826213427.png\" alt=\"img\"></p>\n<p>é¦–å…ˆï¼Œ æˆ‘ä»¬å°†æ‰€æœ‰æ­¥éª¤å£°æ˜ä¸º æŠ½è±¡ç±»å‹ï¼Œ å¼ºåˆ¶è¦æ±‚å­ç±»è‡ªè¡Œå®ç°è¿™äº›æ–¹æ³•ã€‚ åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œ å­ç±»ä¸­å·²æœ‰æ‰€æœ‰å¿…è¦çš„å®ç°ï¼Œ å› æ­¤æˆ‘ä»¬åªéœ€è°ƒæ•´è¿™äº›æ–¹æ³•çš„ç­¾åï¼Œ ä½¿ä¹‹ä¸è¶…ç±»çš„æ–¹æ³•åŒ¹é…å³å¯ã€‚</p>\n<p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•å»é™¤é‡å¤ä»£ç ã€‚å¯¹äºä¸åŒçš„æ•°æ®æ ¼å¼ï¼Œæ‰“å¼€å’Œå…³é—­æ–‡ä»¶ä»¥åŠæŠ½å–å’Œè§£ææ•°æ®çš„ä»£ç éƒ½ä¸åŒï¼Œå› æ­¤æ— éœ€ä¿®æ”¹è¿™äº›æ–¹æ³•ã€‚ä½†åˆ†æåŸå§‹æ•°æ®å’Œç”ŸæˆæŠ¥å‘Šç­‰å…¶ä»–æ­¥éª¤çš„å®ç°æ–¹å¼éå¸¸ç›¸ä¼¼ï¼Œå› æ­¤å¯å°†å…¶æå–åˆ°åŸºç±»ä¸­ï¼Œä»¥è®©å­ç±»å…±äº«è¿™äº›ä»£ç ã€‚</p>\n<p>æ­£å¦‚ä½ æ‰€çœ‹åˆ°çš„é‚£æ ·ï¼Œæˆ‘ä»¬æœ‰ä¸¤ç§ç±»å‹çš„æ­¥éª¤ï¼š</p>\n<ul>\n<li>æŠ½è±¡æ­¥éª¤å¿…é¡»ç”±å„ä¸ªå­ç±»æ¥å®ç°</li>\n<li>å¯é€‰æ­¥éª¤å·²æœ‰ä¸€äº›é»˜è®¤å®ç°ï¼Œä½†ä»å¯åœ¨éœ€è¦æ—¶è¿›è¡Œé‡å†™</li>\n</ul>\n<p>è¿˜æœ‰å¦ä¸€ç§åä¸ºé’©å­çš„æ­¥éª¤ã€‚é’©å­æ˜¯å†…å®¹ä¸ºç©ºçš„å¯é€‰æ­¥éª¤ã€‚å³ä½¿ä¸é‡å†™é’©å­ï¼Œæ¨¡æ¿æ–¹æ³•ä¹Ÿèƒ½å·¥ä½œã€‚é’©å­é€šå¸¸æ”¾ç½®åœ¨ç®—æ³•é‡è¦æ­¥éª¤çš„å‰åï¼Œä¸ºå­ç±»æä¾›é¢å¤–çš„ç®—æ³•æ‰©å±•ç‚¹ã€‚</p>\n<h5 id=\"æ¨¡æ¿æ–¹æ³•æ¨¡å¼ç»“æ„\"><a href=\"#æ¨¡æ¿æ–¹æ³•æ¨¡å¼ç»“æ„\" class=\"headerlink\" title=\"æ¨¡æ¿æ–¹æ³•æ¨¡å¼ç»“æ„\"></a>æ¨¡æ¿æ–¹æ³•æ¨¡å¼ç»“æ„</h5><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220826214113.png\" alt=\"img\"></p>\n<p>1.<strong>æŠ½è±¡ç±»(AbstractÂ­Class)</strong> ä¼šå£°æ˜ä½œä¸ºç®—æ³•æ­¥éª¤çš„æ–¹æ³•ï¼Œä»¥åŠä¾æ¬¡è°ƒç”¨å®ƒä»¬çš„å®é™…æ¨¡æ¿æ–¹æ³•ã€‚ç®—æ³•æ­¥éª¤å¯ä»¥è¢«å£°æ˜ä¸º æŠ½è±¡ç±»å‹ï¼Œä¹Ÿå¯ä»¥æä¾›ä¸€äº›é»˜è®¤å®ç°ã€‚</p>\n<p>2.<strong>å…·ä½“ç±»(ConÂ­creteÂ­Class)</strong> å¯ä»¥é‡å†™æ‰€æœ‰æ­¥éª¤ï¼Œä½†ä¸èƒ½é‡å†™æ¨¡æ¿æ–¹æ³•è‡ªèº«ã€‚</p>\n<h5 id=\"ä¼ªä»£ç -20\"><a href=\"#ä¼ªä»£ç -20\" class=\"headerlink\" title=\"ä¼ªä»£ç \"></a>ä¼ªä»£ç </h5><p>æœ¬ä¾‹ä¸­çš„æ¨¡æ¿æ–¹æ³•æ¨¡å¼ä¸ºä¸€æ¬¾ç®€å•ç­–ç•¥æ¸¸æˆä¸­äººå·¥æ™ºèƒ½çš„ä¸åŒåˆ†æ”¯æä¾› â€œæ¡†æ¶â€ã€‚æ¸¸æˆä¸­æ‰€æœ‰çš„ç§æ—éƒ½æœ‰å‡ ä¹åŒç±»çš„å•ä½å’Œå»ºç­‘ã€‚å› æ­¤ä½ å¯ä»¥åœ¨ä¸åŒçš„ç§æ—ä¸Šå¤ç”¨ç›¸åŒçš„ AI ç»“æ„ï¼ŒåŒæ—¶è¿˜éœ€è¦å…·å¤‡é‡å†™ä¸€äº›ç»†èŠ‚çš„èƒ½åŠ›ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œä½ å¯ä»¥é‡å†™åŠå…½äººçš„ AI ä½¿å…¶æ›´å¯Œæ”»å‡»æ€§ï¼Œä¹Ÿå¯ä»¥è®©äººç±»ä¾§é‡é˜²å®ˆï¼Œè¿˜å¯ä»¥ç¦æ­¢æ€ªç‰©å»ºé€ å»ºç­‘ã€‚åœ¨æ¸¸æˆä¸­æ–°å¢ç§æ—éœ€è¦åˆ›å»ºæ–°çš„ AI å­ç±»ï¼Œè¿˜éœ€è¦é‡å†™ AI åŸºç±»ä¸­æ‰€å£°æ˜çš„é»˜è®¤æ–¹æ³•ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220826214223.png\" alt=\"img\"></p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//è¿™ä¸‹çœŸçš„æ˜¯ä¼ªä»£ç äº†</span></span><br><span class=\"line\"><span class=\"comment\">// æŠ½è±¡ç±»å®šä¹‰äº†ä¸€ä¸ªæ¨¡æ¿æ–¹æ³•ï¼Œå…¶ä¸­é€šå¸¸ä¼šåŒ…å«æŸä¸ªç”±æŠ½è±¡åŸè¯­æ“ä½œè°ƒç”¨ç»„æˆçš„ç®—</span></span><br><span class=\"line\"><span class=\"comment\">// æ³•æ¡†æ¶ã€‚å…·ä½“å­ç±»ä¼šå®ç°è¿™äº›æ“ä½œï¼Œä½†æ˜¯ä¸ä¼šå¯¹æ¨¡æ¿æ–¹æ³•åšå‡ºä¿®æ”¹ã€‚</span></span><br><span class=\"line\"><span class=\"keyword\">abstract</span> <span class=\"keyword\">class</span> <span class=\"title\">GameAI</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">//æŸäº›æ­¥éª¤å¯ä»¥åœ¨åŸºç±»ä¸­å®ç°</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">turn</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        collectResources();</span><br><span class=\"line\">        buildStructures();</span><br><span class=\"line\">        buildUnits();</span><br><span class=\"line\">        attack();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">collectResources</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">foreach</span>(<span class=\"keyword\">var</span> s <span class=\"keyword\">in</span> <span class=\"keyword\">this</span>.builtStructures)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            s.collect();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> <span class=\"keyword\">void</span> <span class=\"title\">buildStructures</span>()</span>;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> <span class=\"keyword\">void</span> <span class=\"title\">buildUnits</span>()</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">attack</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> enemy = cloestEnemy();</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(enemy == <span class=\"literal\">null</span>)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            sendScouts(map.center);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">else</span> </span><br><span class=\"line\">            sendWarriors(enemy.position);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> <span class=\"keyword\">void</span> <span class=\"title\">sendScouts</span>(<span class=\"params\">position</span>)</span>;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> <span class=\"keyword\">void</span> <span class=\"title\">sendWarriors</span>(<span class=\"params\">position</span>)</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">OrcsAI</span> : <span class=\"title\">GameAI</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">override</span> <span class=\"keyword\">void</span> <span class=\"title\">buildStructures</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (there are some resources) </span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"comment\">// å»ºé€ å†œåœºï¼Œæ¥ç€æ˜¯è°·ä»“ï¼Œç„¶åæ˜¯è¦å¡ã€‚</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">override</span> <span class=\"keyword\">void</span> <span class=\"title\">buildUnits</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (there are plenty of resources) </span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (there are no scouts)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"comment\">// å»ºé€ è‹¦å·¥ï¼Œå°†å…¶åŠ å…¥ä¾¦æŸ¥ç¼–ç»„ã€‚</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">else</span></span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"comment\">// å»ºé€ å…½æ—æ­¥å…µï¼Œå°†å…¶åŠ å…¥æˆ˜å£«ç¼–ç»„ã€‚</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">override</span> <span class=\"keyword\">void</span> <span class=\"title\">sendScouts</span>(<span class=\"params\">position</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(scouts.length &gt; <span class=\"number\">0</span>)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"comment\">// å°†ä¾¦æŸ¥ç¼–ç»„é€åˆ°æŒ‡å®šä½ç½®ã€‚</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">override</span> <span class=\"keyword\">void</span> <span class=\"title\">sendWarriors</span>(<span class=\"params\">position</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(warriors.length &gt; <span class=\"number\">5</span>)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"comment\">// å°†æˆ˜æ–—ç¼–ç»„é€åˆ°æŒ‡å®šä½ç½®ã€‚</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">MonstersAI</span> : <span class=\"title\">GameAI</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">override</span> <span class=\"keyword\">void</span> <span class=\"title\">collectResources</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">// æ€ªç‰©ä¸ä¼šé‡‡é›†èµ„æºã€‚</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">override</span> <span class=\"keyword\">void</span> <span class=\"title\">buildStructures</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">// æ€ªç‰©ä¸ä¼šå»ºé€ å»ºç­‘ã€‚</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">override</span> <span class=\"keyword\">void</span> <span class=\"title\">buildUnits</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">// æ€ªç‰©ä¸ä¼šå»ºé€ å•ä½ã€‚</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"é€‚åˆæ¨¡æ¿æ–¹æ³•æ¨¡å¼çš„åœ°æ–¹\"><a href=\"#é€‚åˆæ¨¡æ¿æ–¹æ³•æ¨¡å¼çš„åœ°æ–¹\" class=\"headerlink\" title=\"é€‚åˆæ¨¡æ¿æ–¹æ³•æ¨¡å¼çš„åœ°æ–¹\"></a>é€‚åˆæ¨¡æ¿æ–¹æ³•æ¨¡å¼çš„åœ°æ–¹</h5><ul>\n<li>å½“ä½ åªå¸Œæœ›å®¢æˆ·ç«¯æ‰©å±•æŸä¸ªç‰¹å®šç®—æ³•æ­¥éª¤ï¼Œè€Œä¸æ˜¯æ•´ä¸ªç®—æ³•æˆ–å…¶ç»“æ„æ—¶ï¼Œå¯ä½¿ç”¨æ¨¡æ¿æ–¹æ³•æ¨¡å¼ã€‚</li>\n<li>å½“å¤šä¸ªç±»çš„ç®—æ³•é™¤ä¸€äº›ç»†å¾®ä¸åŒä¹‹å¤–å‡ ä¹å®Œå…¨ä¸€æ ·æ—¶ï¼Œä½ å¯ä½¿ç”¨è¯¥æ¨¡å¼ã€‚ä½†å…¶åæœå°±æ˜¯ï¼Œåªè¦ç®—æ³•å‘ç”Ÿå˜åŒ–ï¼Œä½ å°±å¯èƒ½éœ€è¦ä¿®æ”¹æ‰€æœ‰çš„ç±»ã€‚</li>\n</ul>\n<h5 id=\"æ¨¡æ¿æ–¹æ³•çš„ä¼˜ç¼ºç‚¹\"><a href=\"#æ¨¡æ¿æ–¹æ³•çš„ä¼˜ç¼ºç‚¹\" class=\"headerlink\" title=\"æ¨¡æ¿æ–¹æ³•çš„ä¼˜ç¼ºç‚¹\"></a>æ¨¡æ¿æ–¹æ³•çš„ä¼˜ç¼ºç‚¹</h5><p><strong>ä¼˜ç‚¹</strong> ï¼š</p>\n<ul>\n<li>ä½ å¯ä»…å…è®¸å®¢æˆ·ç«¯é‡å†™ä¸€ä¸ªå¤§å‹ç®—æ³•ä¸­çš„ç‰¹å®šéƒ¨åˆ†ï¼Œä½¿å¾—ç®—æ³•å…¶ä»–éƒ¨åˆ†ä¿®æ”¹å¯¹å…¶æ‰€é€ æˆçš„å½±å“å‡å°ã€‚</li>\n<li>ä½ å¯å°†é‡å¤ä»£ç æå–åˆ°ä¸€ä¸ªè¶…ç±»ä¸­ã€‚</li>\n</ul>\n<p><strong>ç¼ºç‚¹</strong> ï¼š</p>\n<ul>\n<li>éƒ¨åˆ†å®¢æˆ·ç«¯å¯èƒ½ä¼šå—åˆ°ç®—æ³•æ¡†æ¶çš„é™åˆ¶ã€‚</li>\n<li>é€šè¿‡å­ç±»æŠ‘åˆ¶é»˜è®¤æ­¥éª¤å®ç°å¯èƒ½ä¼šå¯¼è‡´è¿åé‡Œæ°æ›¿æ¢åŸåˆ™(Liskov)ã€‚</li>\n<li>æ¨¡æ¿æ–¹æ³•ä¸­çš„æ­¥éª¤è¶Šå¤šï¼Œ å…¶ç»´æŠ¤å·¥ä½œå°±å¯èƒ½ä¼šè¶Šå›°éš¾ã€‚</li>\n</ul>\n<h4 id=\"Visitor-è®¿é—®è€…æ¨¡å¼\"><a href=\"#Visitor-è®¿é—®è€…æ¨¡å¼\" class=\"headerlink\" title=\"Visitor(è®¿é—®è€…æ¨¡å¼)\"></a>Visitor(è®¿é—®è€…æ¨¡å¼)</h4><p>è®¿é—®è€…æ¨¡å¼æ˜¯ä¸€ç§è¡Œä¸ºè®¾è®¡æ¨¡å¼ï¼Œå®ƒèƒ½å°†ç®—æ³•ä¸å…¶æ‰€ä½œç”¨çš„å¯¹è±¡éš”ç¦»å¼€æ¥ã€‚</p>\n<h5 id=\"é—®é¢˜-21\"><a href=\"#é—®é¢˜-21\" class=\"headerlink\" title=\"é—®é¢˜\"></a>é—®é¢˜</h5><p>å‡å¦‚ä½ çš„å›¢é˜Ÿå¼€å‘äº†ä¸€æ¬¾èƒ½å¤Ÿä½¿ç”¨å·¨å‹å›¾åƒä¸­åœ°ç†ä¿¡æ¯çš„åº”ç”¨ç¨‹åºã€‚å›¾åƒä¸­çš„æ¯ä¸ªèŠ‚ç‚¹æ—¢èƒ½ä»£è¡¨å¤æ‚å®ä½“ ï¼ˆä¾‹å¦‚ä¸€åº§åŸå¸‚ï¼‰ï¼Œä¹Ÿèƒ½ä»£è¡¨æ›´ç²¾ç»†çš„å¯¹è±¡ ï¼ˆä¾‹å¦‚å·¥ä¸šåŒºå’Œæ—…æ¸¸æ™¯ç‚¹ç­‰ï¼‰ã€‚å¦‚æœèŠ‚ç‚¹ä»£è¡¨çš„çœŸå®å¯¹è±¡ä¹‹é—´å­˜åœ¨å…¬è·¯ï¼Œé‚£ä¹ˆè¿™äº›èŠ‚ç‚¹å°±ä¼šç›¸äº’è¿æ¥ã€‚åœ¨ç¨‹åºå†…éƒ¨ï¼Œæ¯ä¸ªèŠ‚ç‚¹çš„ç±»å‹éƒ½ç”±å…¶æ‰€å±çš„ç±»æ¥è¡¨ç¤ºï¼Œæ¯ä¸ªç‰¹å®šçš„èŠ‚ç‚¹åˆ™æ˜¯ä¸€ä¸ªå¯¹è±¡ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220826224114.png\" alt=\"img\"></p>\n<p>ä¸€æ®µæ—¶é—´åï¼Œä½ æ¥åˆ°äº†å®ç°å°†å›¾åƒå¯¼å‡ºåˆ° XML æ–‡ä»¶ä¸­çš„ä»»åŠ¡ã€‚è¿™äº›å·¥ä½œæœ€åˆçœ‹ä¸Šå»éå¸¸ç®€å•ã€‚ä½ è®¡åˆ’ä¸ºæ¯ä¸ªèŠ‚ç‚¹ç±»æ·»åŠ å¯¼å‡ºå‡½æ•°ï¼Œç„¶åé€’å½’æ‰§è¡Œå›¾åƒä¸­æ¯ä¸ªèŠ‚ç‚¹çš„å¯¼å‡ºå‡½æ•°ã€‚è§£å†³æ–¹æ¡ˆç®€å•ä¸”ä¼˜é›…ï¼šä½¿ç”¨å¤šæ€æœºåˆ¶å¯ä»¥è®©å¯¼å‡ºæ–¹æ³•çš„è°ƒç”¨ä»£ç ä¸ä¼šå’Œå…·ä½“çš„èŠ‚ç‚¹ç±»ç›¸è€¦åˆã€‚</p>\n<p>ä½†ä½ ä¸å¤ªèµ°è¿ï¼Œç³»ç»Ÿæ¶æ„å¸ˆæ‹’ç»æ‰¹å‡†å¯¹å·²æœ‰èŠ‚ç‚¹ç±»è¿›è¡Œä¿®æ”¹ã€‚ä»–è®¤ä¸ºè¿™äº›ä»£ç å·²ç»æ˜¯äº§å“äº†ï¼Œä¸æƒ³å†’é™©å¯¹å…¶è¿›è¡Œä¿®æ”¹ï¼Œå› ä¸ºä¿®æ”¹å¯èƒ½ä¼šå¼•å…¥æ½œåœ¨çš„ç¼ºé™·ã€‚</p>\n<p>æ­¤å¤–ï¼Œä»–è¿˜è´¨ç–‘åœ¨èŠ‚ç‚¹ç±»ä¸­åŒ…å«å¯¼å‡º XML æ–‡ä»¶çš„ä»£ç æ˜¯å¦æœ‰æ„ä¹‰ã€‚è¿™äº›ç±»çš„ä¸»è¦å·¥ä½œæ˜¯å¤„ç†åœ°ç†æ•°æ®ã€‚å¯¼å‡º XML æ–‡ä»¶çš„ä»£ç æ”¾åœ¨è¿™é‡Œå¹¶ä¸åˆé€‚ã€‚</p>\n<p>è¿˜æœ‰å¦ä¸€ä¸ªåŸå› ï¼Œé‚£å°±æ˜¯åœ¨æ­¤é¡¹ä»»åŠ¡å®Œæˆåï¼Œè¥é”€éƒ¨é—¨å¾ˆæœ‰å¯èƒ½ä¼šè¦æ±‚ç¨‹åºæä¾›å¯¼å‡ºå…¶ä»–ç±»å‹æ–‡ä»¶çš„åŠŸèƒ½ï¼Œæˆ–è€…æå‡ºå…¶ä»–å¥‡æ€ªçš„è¦æ±‚ã€‚è¿™æ ·ä½ å¾ˆå¯èƒ½ä¼šè¢«è¿«å†æ¬¡ä¿®æ”¹è¿™äº›é‡è¦ä½†è„†å¼±çš„ç±»ã€‚</p>\n<h5 id=\"è§£å†³æ–¹æ¡ˆ-21\"><a href=\"#è§£å†³æ–¹æ¡ˆ-21\" class=\"headerlink\" title=\"è§£å†³æ–¹æ¡ˆ\"></a>è§£å†³æ–¹æ¡ˆ</h5><p>è®¿é—®è€…æ¨¡å¼å»ºè®®å°†<strong>æ–°è¡Œä¸ºæ”¾å…¥ä¸€ä¸ªåä¸ºè®¿é—®è€…çš„ç‹¬ç«‹ç±»ä¸­ï¼Œè€Œä¸æ˜¯è¯•å›¾å°†å…¶æ•´åˆåˆ°å·²æœ‰ç±»ä¸­</strong>ã€‚ç°åœ¨ï¼Œéœ€è¦æ‰§è¡Œæ“ä½œçš„åŸå§‹å¯¹è±¡å°†ä½œä¸ºå‚æ•°è¢«ä¼ é€’ç»™è®¿é—®è€…ä¸­çš„æ–¹æ³•ï¼Œè®©æ–¹æ³•èƒ½è®¿é—®å¯¹è±¡æ‰€åŒ…å«çš„ä¸€åˆ‡å¿…è¦æ•°æ®ã€‚</p>\n<h5 id=\"è®¿é—®è€…æ¨¡å¼ç»“æ„\"><a href=\"#è®¿é—®è€…æ¨¡å¼ç»“æ„\" class=\"headerlink\" title=\"è®¿é—®è€…æ¨¡å¼ç»“æ„\"></a>è®¿é—®è€…æ¨¡å¼ç»“æ„</h5><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220826230156.png\" alt=\"img\"></p>\n<p>1.<strong>è®¿é—®è€…(VisÂ­iÂ­tor)</strong> æ¥å£å£°æ˜äº†ä¸€ç³»åˆ—ä»¥å¯¹è±¡ç»“æ„çš„å…·ä½“å…ƒç´ ä¸ºå‚æ•°çš„è®¿é—®è€…æ–¹æ³•ã€‚å¦‚æœç¼–ç¨‹è¯­è¨€æ”¯æŒé‡è½½ï¼Œè¿™äº›æ–¹æ³•çš„åç§°å¯ä»¥æ˜¯ç›¸åŒçš„ï¼Œä½†æ˜¯å…¶å‚æ•°ä¸€å®šæ˜¯ä¸åŒçš„ã€‚</p>\n<p>2.<strong>å…·ä½“è®¿é—®è€…(ConÂ­crete VisÂ­iÂ­tor)</strong> ä¼šä¸ºä¸åŒçš„å…·ä½“å…ƒç´ ç±»å®ç°ç›¸åŒè¡Œä¸ºçš„å‡ ä¸ªä¸åŒç‰ˆæœ¬ã€‚</p>\n<p>3.<strong>å…ƒç´ (EleÂ­ment)</strong> æ¥å£å£°æ˜äº†ä¸€ä¸ªæ–¹æ³•æ¥ â€œæ¥æ”¶â€ è®¿é—®è€…ã€‚è¯¥æ–¹æ³•å¿…é¡»æœ‰ä¸€ä¸ªå‚æ•°è¢«å£°æ˜ä¸ºè®¿é—®è€…æ¥å£ç±»å‹ã€‚</p>\n<p>4.<strong>å…·ä½“å…ƒç´ (ConÂ­crete EleÂ­ment)</strong> å¿…é¡»å®ç°æ¥æ”¶æ–¹æ³•ã€‚è¯¥æ–¹æ³•çš„ç›®çš„æ˜¯æ ¹æ®å½“å‰å…ƒç´ ç±»å°†å…¶è°ƒç”¨é‡å®šå‘åˆ°ç›¸åº”è®¿é—®è€…çš„æ–¹æ³•ã€‚è¯·æ³¨æ„ï¼Œå³ä½¿å…ƒç´ åŸºç±»å®ç°äº†è¯¥æ–¹æ³•ï¼Œæ‰€æœ‰å­ç±»éƒ½å¿…é¡»å¯¹å…¶è¿›è¡Œé‡å†™å¹¶è°ƒç”¨è®¿é—®è€…å¯¹è±¡ä¸­çš„åˆé€‚æ–¹æ³•ã€‚</p>\n<p>5.<strong>å®¢æˆ·ç«¯(Client)</strong> é€šå¸¸ä¼šä½œä¸ºé›†åˆæˆ–å…¶ä»–å¤æ‚å¯¹è±¡ï¼ˆä¾‹å¦‚ä¸€ä¸ªç»„åˆæ ‘ï¼‰çš„ä»£è¡¨ã€‚å®¢æˆ·ç«¯é€šå¸¸ä¸çŸ¥æ™“æ‰€æœ‰çš„å…·ä½“å…ƒç´ ç±»ï¼Œå› ä¸ºå®ƒä»¬ä¼šé€šè¿‡æŠ½è±¡æ¥å£ä¸é›†åˆä¸­çš„å¯¹è±¡è¿›è¡Œäº¤äº’ã€‚</p>\n<h5 id=\"ä¼ªä»£ç -21\"><a href=\"#ä¼ªä»£ç -21\" class=\"headerlink\" title=\"ä¼ªä»£ç \"></a>ä¼ªä»£ç </h5><p>è®¿é—®è€…ä¸æ˜¯å¸¸ç”¨çš„è®¾è®¡æ¨¡å¼ï¼Œå› ä¸ºå®ƒä¸ä»…å¤æ‚ï¼Œåº”ç”¨èŒƒå›´ä¹Ÿæ¯”è¾ƒç‹­çª„ã€‚</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//Componentæ¥å£å£°æ˜ä¸€ä¸ªacceptæ–¹æ³•æ¥ä½¿ç”¨visitoræ¥å£</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title\">IComponent</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">Accept</span>(<span class=\"params\">IVisitor visitor</span>)</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//å…·ä½“Componentç±»</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">ConcreteComponentA</span> : <span class=\"title\">IComponent</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Accept</span>(<span class=\"params\">IVisitor visitor</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        visitor.VisitCOncreteComponentA(<span class=\"keyword\">this</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//å…·ä½“Componentç±»ä¸­ä¸€äº›è‡ªå·±çš„æ–¹æ³•</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"built_in\">string</span> <span class=\"title\">ExclusiveMethodOfConcreteComponentA</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">&quot;A&quot;</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">ConcreteComponentB</span> : <span class=\"title\">IComponent</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Accept</span>(<span class=\"params\">IVisitor visitor</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        visitor.VisitCOncreteComponentB(<span class=\"keyword\">this</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//å…·ä½“Componentç±»ä¸­ä¸€äº›è‡ªå·±çš„æ–¹æ³•</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"built_in\">string</span> <span class=\"title\">ExclusiveMethodOfConcreteComponentB</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">&quot;B&quot;</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//Visitoræ¥å£å£°æ˜ä¸€ç³»åˆ—è®¿é—®Componentçš„æ–¹æ³•</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title\">IVisitor</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">VisitConcreteComponentA</span>(<span class=\"params\">ConcreteComponentA element</span>)</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">VisitConcreteComponentB</span>(<span class=\"params\">ConcreteComponentB element</span>)</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">ConcreteVisitor1</span> : <span class=\"title\">IVisitor</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">VisitConcreteComponentA</span>(<span class=\"params\">ConcreteComponentA element</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Console.WriteLine(element.ExclusiveMethodOfConcreteComponentA() + <span class=\"string\">&quot; + ConcreteVisitor1&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">VisitConcreteComponentB</span>(<span class=\"params\">ConcreteComponentB element</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Console.WriteLine(element.SpecialMethodOfConcreteComponentB() + <span class=\"string\">&quot; + ConcreteVisitor1&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">ConcreteVisitor2</span> : <span class=\"title\">IVisitor</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">VisitConcreteComponentA</span>(<span class=\"params\">ConcreteComponentA element</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Console.WriteLine(element.ExclusiveMethodOfConcreteComponentA() + <span class=\"string\">&quot; + ConcreteVisitor2&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">VisitConcreteComponentB</span>(<span class=\"params\">ConcreteComponentB element</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Console.WriteLine(element.SpecialMethodOfConcreteComponentB() + <span class=\"string\">&quot; + ConcreteVisitor2&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">Client</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">ClientCode</span>(<span class=\"params\">List&lt;IComponent&gt; components, IVisitor visitor</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">foreach</span> (<span class=\"keyword\">var</span> component <span class=\"keyword\">in</span> components)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            component.Accept(visitor);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//å®¢æˆ·ç«¯ä»£ç </span></span><br><span class=\"line\">List&lt;IComponent&gt; components = <span class=\"keyword\">new</span> List&lt;IComponent&gt;</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">new</span> ConcreteComponentA(),</span><br><span class=\"line\">    <span class=\"keyword\">new</span> ConcreteComponentB()</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">Console.WriteLine(<span class=\"string\">&quot;The client code works with all visitors via the base Visitor interface:&quot;</span>);</span><br><span class=\"line\"><span class=\"keyword\">var</span> visitor1 = <span class=\"keyword\">new</span> ConcreteVisitor1();</span><br><span class=\"line\">Client.ClientCode(components,visitor1);</span><br><span class=\"line\"></span><br><span class=\"line\">Console.WriteLine();</span><br><span class=\"line\"></span><br><span class=\"line\">Console.WriteLine(<span class=\"string\">&quot;It allows the same client code to work with different types of visitors:&quot;</span>);</span><br><span class=\"line\"><span class=\"keyword\">var</span> visitor2 = <span class=\"keyword\">new</span> ConcreteVisitor2();</span><br><span class=\"line\">Client.ClientCode(components, visitor2);</span><br><span class=\"line\"><span class=\"comment\">/*è¿è¡Œç»“æœ</span></span><br><span class=\"line\"><span class=\"comment\">The client code works with all visitors via the base Visitor interface:</span></span><br><span class=\"line\"><span class=\"comment\">A + ConcreteVisitor1</span></span><br><span class=\"line\"><span class=\"comment\">B + ConcreteVisitor1</span></span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\">It allows the same client code to work with different types of visitors:</span></span><br><span class=\"line\"><span class=\"comment\">A + ConcreteVisitor2</span></span><br><span class=\"line\"><span class=\"comment\">B + ConcreteVisitor2</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br></pre></td></tr></table></figure>\n\n<h5 id=\"é€‚åˆè®¿é—®è€…æ¨¡å¼çš„åœ°æ–¹\"><a href=\"#é€‚åˆè®¿é—®è€…æ¨¡å¼çš„åœ°æ–¹\" class=\"headerlink\" title=\"é€‚åˆè®¿é—®è€…æ¨¡å¼çš„åœ°æ–¹\"></a>é€‚åˆè®¿é—®è€…æ¨¡å¼çš„åœ°æ–¹</h5><ul>\n<li>å¦‚æœä½ éœ€è¦å¯¹ä¸€ä¸ªå¤æ‚å¯¹è±¡ç»“æ„ï¼ˆä¾‹å¦‚å¯¹è±¡æ ‘ï¼‰ä¸­çš„æ‰€æœ‰å…ƒç´ æ‰§è¡ŒæŸäº›æ“ä½œï¼Œå¯ä½¿ç”¨è®¿é—®è€…æ¨¡å¼ã€‚</li>\n<li>å¯ä½¿ç”¨è®¿é—®è€…æ¨¡å¼æ¥æ¸…ç†è¾…åŠ©è¡Œä¸ºçš„ä¸šåŠ¡é€»è¾‘ã€‚</li>\n<li>å½“æŸä¸ªè¡Œä¸ºä»…åœ¨ç±»å±‚æ¬¡ç»“æ„ä¸­çš„ä¸€äº›ç±»ä¸­æœ‰æ„ä¹‰ï¼Œ è€Œåœ¨å…¶ä»–ç±»ä¸­æ²¡æœ‰æ„ä¹‰æ—¶ï¼Œå¯ä½¿ç”¨è¯¥æ¨¡å¼ã€‚</li>\n</ul>\n<h5 id=\"è®¿é—®è€…æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"><a href=\"#è®¿é—®è€…æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\" class=\"headerlink\" title=\"è®¿é—®è€…æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"></a>è®¿é—®è€…æ¨¡å¼çš„ä¼˜ç¼ºç‚¹</h5><p><strong>ä¼˜ç‚¹</strong> ï¼š</p>\n<ul>\n<li>ç¬¦åˆOCP</li>\n<li>ç¬¦åˆSRP</li>\n<li>è®¿é—®è€…å¯¹è±¡å¯ä»¥åœ¨ä¸å„ç§å¯¹è±¡äº¤äº’æ—¶æ”¶é›†ä¸€äº›æœ‰ç”¨çš„ä¿¡æ¯ã€‚å½“ä½ æƒ³è¦éå†ä¸€äº›å¤æ‚çš„å¯¹è±¡ç»“æ„ï¼ˆä¾‹å¦‚å¯¹è±¡æ ‘ï¼‰ï¼Œå¹¶åœ¨ç»“æ„ä¸­çš„æ¯ä¸ªå¯¹è±¡ä¸Šåº”ç”¨è®¿é—®è€…æ—¶ï¼Œè¿™äº›ä¿¡æ¯å¯èƒ½ä¼šæœ‰æ‰€å¸®åŠ©ã€‚</li>\n</ul>\n<p><strong>ç¼ºç‚¹</strong> ï¼š</p>\n<ul>\n<li>æ¯æ¬¡åœ¨å…ƒç´ å±‚æ¬¡ç»“æ„ä¸­æ·»åŠ æˆ–ç§»é™¤ä¸€ä¸ªç±»æ—¶ï¼Œä½ éƒ½è¦æ›´æ–°æ‰€æœ‰çš„è®¿é—®è€…ã€‚</li>\n<li>åœ¨è®¿é—®è€…åŒæŸä¸ªå…ƒç´ è¿›è¡Œäº¤äº’æ—¶ï¼Œ å®ƒä»¬å¯èƒ½æ²¡æœ‰è®¿é—®å…ƒç´ ç§æœ‰æˆå‘˜å˜é‡å’Œæ–¹æ³•çš„å¿…è¦æƒé™ã€‚</li>\n</ul>\n<h3 id=\"åè®°\"><a href=\"#åè®°\" class=\"headerlink\" title=\"åè®°\"></a>åè®°</h3><p>è¿™æ¬¡èŠ±äº†å·®ä¸å¤š20å¤©çš„æ—¶é—´æ¥å†™è¿™ä¸€ä¸ªåšå®¢è®°å½•ä¸€ä¸‹å…³äºè®¾è®¡æ¨¡å¼çš„å­¦ä¹ ï¼Œå…¶å®çœ‹ä¹¦çš„æ—¶é—´ä¸ç®—é•¿ï¼Œä¸»è¦èŠ±æ—¶é—´çš„æ˜¯å†™å‡ºè®©äººå®¹æ˜“æ‡‚çš„åšå®¢ã€‚å­¦ä¹ äº†åˆæ­¥çš„è®¾è®¡æ¨¡å¼çš„çŸ¥è¯†ï¼Œä»¥å‰çœ‹è¿‡çš„ä½†æ˜¯ä¸æ˜¯å¾ˆæ‡‚çš„çŸ¥è¯†çªç„¶å°±æ˜ç™½äº†ä¸€äº›ã€‚å½“ç„¶ï¼Œç”±äºè‡ªèº«è¿˜æ²¡å†™è¿‡ä¸Šä¸‡è¡Œçš„ä»£ç ï¼Œåé¢è‚¯å®šè¿˜ä¼šåœ¨å¤ä¹ ä¸€ä¸‹è®¾è®¡æ¨¡å¼ï¼Œä¸è¿‡çœ‹çš„ä¹¦åº”è¯¥æ˜¯è®²è§£åœ°æ›´æ·±å…¥çš„ä¹¦ç±ã€‚</p>\n<h3 id=\"å‚è€ƒæ–‡çŒ®\"><a href=\"#å‚è€ƒæ–‡çŒ®\" class=\"headerlink\" title=\"å‚è€ƒæ–‡çŒ®\"></a>å‚è€ƒæ–‡çŒ®</h3><ul>\n<li>ã€Šæ•æ·è½¯ä»¶è®¾è®¡å¼€å‘ã€‹</li>\n<li><a href=\"https://refactoring.guru/design-patterns(%E9%80%9A%E4%BF%97%E6%98%93%E6%87%82%E5%9C%B0%E8%AE%B2%E8%A7%A3%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E7%9A%84%E7%BD%91%E7%AB%99%EF%BC%8C%E5%A4%A7%E9%83%A8%E5%88%86%E4%BE%8B%E5%AD%90%E6%98%AF%E5%BC%95%E7%94%A8%E5%AE%83%E7%9A%84)\">https://refactoring.guru/design-patterns(é€šä¿—æ˜“æ‡‚åœ°è®²è§£è®¾è®¡æ¨¡å¼çš„ç½‘ç«™ï¼Œå¤§éƒ¨åˆ†ä¾‹å­æ˜¯å¼•ç”¨å®ƒçš„)</a></li>\n<li><a href=\"https://www.runoob.com/design-pattern/design-pattern-tutorial.html(%E8%8F%9C%E9%B8%9F%E6%95%99%E7%A8%8B%E4%B8%AD%E7%9A%84%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%EF%BC%8C%E6%8F%90%E4%BE%9B%E6%9B%B4%E5%A4%9A%E7%9A%84%E4%BE%8B%E5%AD%90%E6%9D%A5%E5%AD%A6%E4%B9%A0)\">https://www.runoob.com/design-pattern/design-pattern-tutorial.html(èœé¸Ÿæ•™ç¨‹ä¸­çš„è®¾è®¡æ¨¡å¼ï¼Œæä¾›æ›´å¤šçš„ä¾‹å­æ¥å­¦ä¹ )</a></li>\n</ul>\n","site":{"data":{}},"length":76896,"excerpt":"","more":"<h3 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h3><p>æœ€è¿‘èŠ±äº†ç‚¹è¯»äº†ã€Šæ•æ·è½¯ä»¶å¼€å‘ã€‹è¿™æœ¬ä¹¦ï¼Œå…³äºè¿™æœ¬ä¹¦ï¼Œæˆ‘åŸºæœ¬ä¸Šæ˜¯éšä¾¿çœ‹çœ‹ï¼Œäº†è§£æœ‰ä»€ä¹ˆçŸ¥è¯†ï¼Œä¹Ÿå°±åœ¨ä»£ç éƒ¨åˆ†ï¼ˆå…·ä½“ç¤ºä¾‹æ–¹é¢ï¼‰èŠ±äº†äº›åŠŸå¤«ã€‚å°½ç®¡çŸ¥é“äº†è§£äº†è¿™äº›çŸ¥è¯†ï¼Œä½†æ˜¯åœ¨å·¥ç¨‹ä¸Šï¼Œæ²¡å†™ä¸ª1wè¡Œä»¥ä¸Šçš„ä»£ç è¿˜æ˜¯éš¾ä»¥èä¼šè´¯é€šã€‚æ¯•ç«Ÿç†è®ºå’Œå·¥ç¨‹æ˜¯ä¸ä¸€æ ·çš„ï¼Œå·¥ç¨‹å®ç°ç†è®ºè‡³å°‘æ˜¯ä¸¤ä¸ªæ•°é‡çº§ä»¥ä¸Šçš„éš¾åº¦ã€‚ä¸è¿‡é€šè¿‡ç”»ç®€å•çš„UMLå›¾å’ŒçŸ­å°çš„ä»£ç æ˜¯å¯ä»¥å¿«é€Ÿè®¤è¯†åˆ°æ˜¯ä»€ä¹ˆï¼Œç”¨æ¥åšä»€ä¹ˆï¼Œè¿™æ ·å°±è¶³å¤Ÿäº†ã€‚</p>\n<h3 id=\"ã€Šæ•æ·è½¯ä»¶å¼€å‘ã€‹é˜…è¯»ç»éªŒ\"><a href=\"#ã€Šæ•æ·è½¯ä»¶å¼€å‘ã€‹é˜…è¯»ç»éªŒ\" class=\"headerlink\" title=\"ã€Šæ•æ·è½¯ä»¶å¼€å‘ã€‹é˜…è¯»ç»éªŒ\"></a>ã€Šæ•æ·è½¯ä»¶å¼€å‘ã€‹é˜…è¯»ç»éªŒ</h3><p>è¿™æœ¬ä¹¦è¿˜æ˜¯ä¸€æœ¬å¾ˆå¥½çš„ä¹¦ï¼Œå¯¹äºäº†è§£æ•æ·å¼€å‘ï¼Œè®¾è®¡æ¨¡å¼æ˜¯è¶³å¤Ÿçš„ï¼ŒåŒæ—¶ä¹Ÿæœ‰è¶³å¤Ÿå¤šçš„æºä»£ç å¯ä»¥è¯»ã€‚æˆ‘è¯»çš„ä¸€ç‰ˆæ˜¯ã€Šæ•æ·è½¯ä»¶å¼€å‘ï¼šåŸåˆ™ã€æ¨¡å¼ä¸å®è·µã€‹c++ç‰ˆæœ¬çš„ï¼Œä¸è¿‡é‡Œé¢ä¹Ÿæœ‰javaï¼Œè™½ç„¶æˆ‘çš„ä¸»è¯­è¨€æ˜¯c#ï¼Œä½†æ˜¯ä¹Ÿæ˜¯é˜…è¯»èµ·æ¥ä¹Ÿä¸ä¼šå¤ªå›°éš¾ã€‚è¿™æœ¬ä¹¦ä¸­æ–‡ç‰ˆè™½ç„¶æ˜¯åœ¨03å¹´å‡ºç‰ˆçš„ï¼Œä½†æ˜¯åœ¨ç°åœ¨å¯¹äºæˆ‘è¿™ç§æœªå…¥è¡Œä¸šçš„å°ç™½ä¹Ÿæ˜¯ååˆ†æœ‰å¯å‘çš„ã€‚<br>æ ¹æ®æˆ‘è¿™æ¬¡é˜…è¯»çš„ç»éªŒï¼Œæˆ‘æ¨èç¬¬Iéƒ¨åˆ†ï¼ˆä¹Ÿå°±æ˜¯1-6ç« ï¼‰è¿˜æœ‰ç¬¬IIéƒ¨åˆ†çš„ç¬¬7ç« <strong>ç²—è¯»</strong>ï¼Œå¯¹åŸåˆ™å’Œè®¾è®¡æ¨¡å¼ä¹‹ç±»çš„è¿›è¡Œ<strong>é€šè¯»</strong>ï¼Œ18ï¼Œ19ç« çš„è–ªæ°´æ”¯ä»˜å®è·µè¿›è¡Œ<strong>ç»†è¯»</strong></p>\n<h3 id=\"ä»€ä¹ˆæ˜¯è®¾è®¡æ¨¡å¼\"><a href=\"#ä»€ä¹ˆæ˜¯è®¾è®¡æ¨¡å¼\" class=\"headerlink\" title=\"ä»€ä¹ˆæ˜¯è®¾è®¡æ¨¡å¼\"></a>ä»€ä¹ˆæ˜¯è®¾è®¡æ¨¡å¼</h3><p>è®¾è®¡æ¨¡å¼æ˜¯è½¯ä»¶è®¾è®¡ä¸­å¸¸è§é—®é¢˜çš„å…¸å‹è§£å†³æ–¹æ¡ˆã€‚ å®ƒä»¬å°±åƒèƒ½æ ¹æ®éœ€æ±‚è¿›è¡Œè°ƒæ•´çš„é¢„åˆ¶è“å›¾ï¼Œå¯ç”¨äºè§£å†³ä»£ç ä¸­åå¤å‡ºç°çš„è®¾è®¡é—®é¢˜ã€‚ä¸è¿‡è®¾è®¡æ¨¡å¼çš„å‡ºç°åŸºæœ¬ä¸Šæ˜¯ä¸ºäº†è§£å†³ <strong>â€œè®¾è®¡çš„è‡­å‘³â€</strong> â€”â€”åƒµåŒ–æ€§(Rigidity)ï¼Œè„†å¼±æ€§(Fragility)ï¼Œç‰¢å›ºæ€§(Immobility)ï¼Œç²˜æ»æ€§(Viscosity)ï¼Œä¸å¿…è¦çš„å¤æ‚æ€§(Needless Complexity)ï¼Œä¸å¿…è¦çš„é‡å¤(Needless Repetition)ï¼Œä»¥åŠæ™¦æ¶©æ€§(Opacity)</p>\n<ul>\n<li><strong>åƒµåŒ–æ€§</strong>ï¼šå¾ˆéš¾å¯¹ç³»ç»Ÿæ”¹åŠ¨ï¼Œå› ä¸ºæ¯æ¬¡æ”¹åŠ¨éƒ½ä¼šä½¿å…¶ä»–åœ°æ–¹æ”¹åŠ¨</li>\n<li><strong>è„†å¼±æ€§</strong>ï¼šå¯¹ç³»ç»Ÿçš„æ”¹åŠ¨ä¼šå¯¼è‡´å…¶ä»–çš„åœ°æ–¹å‡ºç°é—®é¢˜</li>\n<li><strong>ç‰¢å›ºæ€§</strong>ï¼šè®¾è®¡ä¸­åŒ…å«å¯¹å…¶å®ƒç³»ç»Ÿæœ‰ç”¨çš„éƒ¨åˆ†ï¼Œä½†æ˜¯æŠŠè¿™éƒ¨åˆ†æŠ½ç¦»å‡ºæ¥æˆæœ¬å¤ªé«˜</li>\n<li><strong>ç²˜æ»æ€§</strong>ï¼šåšæ–°çš„æ”¹åŠ¨æ—¶ï¼Œä¿æŒç³»ç»Ÿè®¾è®¡çš„æ–¹æ³•æ¯”ç ´åè®¾è®¡çš„æ–¹æ³•æ›´éš¾ä½¿ç”¨</li>\n<li><strong>ä¸å¿…è¦çš„å¤æ‚æ€§</strong>ï¼šåŒ…å«å½“å‰æ²¡æœ‰ç”¨çš„ç»„æˆéƒ¨åˆ†ï¼Œå¯èƒ½ä¼šå˜å¾—æ··ä¹±</li>\n<li><strong>ä¸å¿…è¦çš„é‡å¤</strong>ï¼šåŒ…å«é‡å¤çš„ç»“æ„ï¼ŒåŸæœ¬å¯ä»¥ç”¨å•ä¸€çš„æŠ½è±¡è¿›è¡Œç»Ÿä¸€</li>\n<li><strong>æ™¦æ¶©æ€§</strong>ï¼šéš¾ä»¥é˜…è¯»ã€ç†è§£</li>\n</ul>\n<h4 id=\"è®¾è®¡æ¨¡å¼çš„æè¿°å¸¸å¸¸åŒ…å«ä»¥ä¸‹å†…å®¹\"><a href=\"#è®¾è®¡æ¨¡å¼çš„æè¿°å¸¸å¸¸åŒ…å«ä»¥ä¸‹å†…å®¹\" class=\"headerlink\" title=\"è®¾è®¡æ¨¡å¼çš„æè¿°å¸¸å¸¸åŒ…å«ä»¥ä¸‹å†…å®¹\"></a>è®¾è®¡æ¨¡å¼çš„æè¿°å¸¸å¸¸åŒ…å«ä»¥ä¸‹å†…å®¹</h4><ul>\n<li><strong>æ„å›¾(Problem)</strong> éƒ¨åˆ†ç®€å•æè¿°é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆã€‚</li>\n<li><strong>åŠ¨æœº(Solution)</strong> éƒ¨åˆ†å°†è¿›ä¸€æ­¥è§£é‡Šé—®é¢˜å¹¶è¯´æ˜æ¨¡å¼ä¼šå¦‚ä½•æä¾›è§£å†³æ–¹æ¡ˆã€‚</li>\n<li><strong>ç»“æ„(Structure)</strong> éƒ¨åˆ†å±•ç¤ºæ¨¡å¼çš„æ¯ä¸ªéƒ¨åˆ†å’Œå®ƒä»¬ä¹‹é—´çš„å…³ç³»ã€‚</li>\n</ul>\n<h4 id=\"å­¦ä¹ è®¾è®¡æ¨¡å¼çš„å¥½å¤„ä»¥åŠä¸€äº›é—®é¢˜\"><a href=\"#å­¦ä¹ è®¾è®¡æ¨¡å¼çš„å¥½å¤„ä»¥åŠä¸€äº›é—®é¢˜\" class=\"headerlink\" title=\"å­¦ä¹ è®¾è®¡æ¨¡å¼çš„å¥½å¤„ä»¥åŠä¸€äº›é—®é¢˜\"></a>å­¦ä¹ è®¾è®¡æ¨¡å¼çš„å¥½å¤„ä»¥åŠä¸€äº›é—®é¢˜</h4><ul>\n<li>ç°åœ¨å¸¸å¸¸è¯´çš„23ç§è®¾è®¡æ¨¡å¼æ˜¯ç»è¿‡å®è·µéªŒè¯çš„è§£å†³æ–¹æ¡ˆã€‚äº†è§£è¿™äº›è®¾è®¡æ¨¡å¼å¯¹äºé˜…è¯»æºä»£ç ååˆ†æœ‰ç”¨ã€‚</li>\n<li>åŒæ—¶æ–¹ä¾¿äº¤æµï¼Œåªè¦çŸ¥æ™“æ¨¡å¼ä»¥åŠåç§°çš„åŸç†ï¼Œå°±å¯ä»¥ç”¨ä¸€ä¸ªè®¾è®¡æ¨¡å¼çš„åå­—æ¥äº’ç›¸æ²Ÿé€šè¿™é‡Œè¯¥æ€ä¹ˆå†™</li>\n</ul>\n<p>åŒæ—¶è®¾è®¡æ¨¡å¼ä¹Ÿä¸€äº›é—®é¢˜ï¼Œè®¾è®¡æ¨¡å¼æœ‰ä¸€äº›æ˜¯ä¸ºäº†å¼¥è¡¥è¯­è¨€æœ¬èº«çš„ç¼ºé™·ï¼Œæœ‰äº›è¯­è¨€æœ‰æ–¹ä¾¿çš„è¯­æ³•ï¼ŒåŸºæœ¬ä¸Šä¸€å¥è¯å°±å¯ä»¥ä»£è¡¨ä¸€ç§è®¾è®¡æ¨¡å¼ã€‚</p>\n<p>â€œå¦‚æœä½ åªæœ‰ä¸€æŠŠé“é”¤ï¼Œ é‚£ä¹ˆä»»ä½•ä¸œè¥¿çœ‹ä¸Šå»éƒ½åƒæ˜¯é’‰å­ã€‚â€ è¿™ç‚¹æ˜¯æœ€é‡è¦çš„ï¼Œå¯¹äºåˆå­¦è€…ä¼šå¸¦æ¥ä¸€å®šå›°æ‰°ï¼Œå­¦ä¹ æŸä¸ªæ¨¡å¼ä¹‹åï¼Œä»–ä»¬ä¼šåœ¨æ‰€æœ‰åœ°æ–¹ä½¿ç”¨è¯¥æ¨¡å¼ï¼Œå³ä¾¿æ˜¯åœ¨è¾ƒä¸ºç®€å•çš„ä»£ç ä¸­ä¹Ÿä½¿ç”¨è¿™ç§æ¨¡å¼ã€‚æ‰€ä»¥è¯´åˆå­¦è€…å­¦æ¥å¸®åŠ©è‡ªå·±é˜…è¯»æºç å°±ç»°ç»°æœ‰ä½™äº†ã€‚</p>\n<h3 id=\"UMLç±»å›¾\"><a href=\"#UMLç±»å›¾\" class=\"headerlink\" title=\"UMLç±»å›¾\"></a>UMLç±»å›¾</h3><p>åœ¨å­¦ä¹ è®¾è®¡æ¨¡å¼ä¹‹å‰ï¼Œæˆ‘ä»¬å¾—å…ˆå­¦ä¼šå¦‚ä½•è¯»UMLå›¾ã€‚è™½ç„¶UMLå›¾æœ‰å¾ˆå¤šç§ï¼Œä½†æ˜¯åŸºæœ¬ä¸Šåªè¦ä¼šè¯»UMLç±»å›¾ï¼Œå°±å¯ä»¥èƒœä»»å¤§éƒ¨åˆ†çš„å·¥ä½œã€‚</p>\n<h4 id=\"UMLç±»æ–¹æ¡†\"><a href=\"#UMLç±»æ–¹æ¡†\" class=\"headerlink\" title=\"UMLç±»æ–¹æ¡†\"></a>UMLç±»æ–¹æ¡†</h4><p>UMLç±»å›¾ä¸­åŸºæœ¬ä¸Šå°±ä¸‰ç§æ™®é€šç±»ï¼ŒæŠ½è±¡ç±»å’Œæ¥å£ã€‚éƒ½ç”¨çŸ©å½¢æ¡†è¡¨ç¤ºï¼Œç¬¬ä¸€å±‚æ˜¯ç±»åç§°ï¼Œç¬¬äºŒå±‚æ˜¯æˆå‘˜å˜é‡ï¼Œç¬¬ä¸‰å±‚æ˜¯ç±»çš„æ–¹æ³•ã€‚</p>\n<ul>\n<li><strong>â€œ+â€</strong> è¡¨ç¤º public</li>\n<li><strong>â€œ-â€œ</strong> è¡¨ç¤º private</li>\n<li><strong>â€œ#â€</strong> è¡¨ç¤º protected</li>\n</ul>\n<p>æŠ½è±¡ç±»çš„ç±»åä»¥åŠæŠ½è±¡æ–¹æ³•éƒ½ç”¨<strong>æ–œä½“</strong>ï¼Œæ¥å£ä¼šåœ¨ç¬¬ä¸€å±‚åŠ ä¸Šä¸€ä¸ª <strong>&lt;&lt; interface &gt;&gt;</strong> ï¼Œå…¶ä»–å¹¶æ²¡æœ‰ä»€ä¹ˆä¸åŒ</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220807220610.png\" alt=\"img\"><br><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220807221329.png\" alt=\"img\"><br><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220807221347.png\" alt=\"img\"></p>\n<h4 id=\"UMLç±»å›¾ä¸­çš„å…³ç³»\"><a href=\"#UMLç±»å›¾ä¸­çš„å…³ç³»\" class=\"headerlink\" title=\"UMLç±»å›¾ä¸­çš„å…³ç³»\"></a>UMLç±»å›¾ä¸­çš„å…³ç³»</h4><p>ä¸‹é¢ä¸€å¼ å›¾å¦‚æœå¯èƒ½çš„è¯åº”è¯¥åœ¨ã€Šc++ prime plusã€‹ä¸­çœ‹è¿‡ï¼Œå¯ä»¥å¾ˆå¿«ç†è§£æ˜¯ä»€ä¹ˆæ„æ€ï¼Œæˆ‘ä»¬åŸºæœ¬ä¸Šåªè¦è®°å¾—å…³ç³»å¯¹åº”çš„ç®­å¤´å°±å¯ä»¥äº†ã€‚ä¸è¿‡ä¸çŸ¥é“ä¹Ÿæ²¡å…³ç³»ï¼Œæˆ‘ä»¬å¯ä»¥å¿«é€Ÿè¿‡ä¸€éï¼Œäº†è§£è¶³çŸ£ã€‚<br><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220807221552.png\" alt=\"img\"></p>\n<h5 id=\"å®ç°å…³ç³»\"><a href=\"#å®ç°å…³ç³»\" class=\"headerlink\" title=\"å®ç°å…³ç³»\"></a>å®ç°å…³ç³»</h5><p>ç®€å•æ¥è¯´å°±æ˜¯ç±»å®ç°æ¥å£ï¼Œç”±ç±»æŒ‡å‘æ¥å£<br><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220807222154.png\" alt=\"img\"></p>\n<h5 id=\"æ³›åŒ–å…³ç³»\"><a href=\"#æ³›åŒ–å…³ç³»\" class=\"headerlink\" title=\"æ³›åŒ–å…³ç³»\"></a>æ³›åŒ–å…³ç³»</h5><p>æŒ‡å¯¹è±¡ä¹‹é—´çš„ç»§æ‰¿å…³ç³»ï¼Œç”±å­ç±»æŒ‡å‘çˆ¶ç±»<br><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220807222354.png\" alt=\"img\"></p>\n<h5 id=\"å…³è”å…³ç³»\"><a href=\"#å…³è”å…³ç³»\" class=\"headerlink\" title=\"å…³è”å…³ç³»\"></a>å…³è”å…³ç³»</h5><p>æŒ‡è¿™ä¸ªå¯¹è±¡åœ¨å†…éƒ¨å¼•ç”¨äº†å¦ä¸€ä¸ªå¯¹è±¡ï¼Œå…³è”å…³ç³»å†…éƒ¨åˆä¸ºä¾èµ–å…³è”ã€èšåˆå…³è”å’Œç»„åˆå…³è”ä¸‰ç§ç±»å‹</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220807222649.png\" alt=\"img\"></p>\n<h5 id=\"ä¾èµ–å…³ç³»\"><a href=\"#ä¾èµ–å…³ç³»\" class=\"headerlink\" title=\"ä¾èµ–å…³ç³»\"></a>ä¾èµ–å…³ç³»</h5><p>æŒ‡Aä½¿ç”¨äº†Bï¼Œä½†æ˜¯Aå’ŒBå¹¶æ²¡ä»€ä¹ˆå…³ç³»ï¼Œå°±å¯ä»¥è®¤ä¸ºæ˜¯ä¾èµ–å…³ç³»</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220807223108.png\" alt=\"img\"></p>\n<h5 id=\"èšåˆå…³ç³»\"><a href=\"#èšåˆå…³ç³»\" class=\"headerlink\" title=\"èšåˆå…³ç³»\"></a>èšåˆå…³ç³»</h5><p>æŒ‡Aæ‹¥æœ‰Bï¼ŒBå¯ä»¥å±äºå¤šç§A</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220807223430.png\" alt=\"img\"></p>\n<h5 id=\"ç»„åˆå…³ç³»\"><a href=\"#ç»„åˆå…³ç³»\" class=\"headerlink\" title=\"ç»„åˆå…³ç³»\"></a>ç»„åˆå…³ç³»</h5><p>æŒ‡AåŒ…æ‹¬Bï¼ŒåŒç”ŸåŒç­</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220807223521.png\" alt=\"img\"></p>\n<h4 id=\"UMLç±»å›¾å°ç»“\"><a href=\"#UMLç±»å›¾å°ç»“\" class=\"headerlink\" title=\"UMLç±»å›¾å°ç»“\"></a>UMLç±»å›¾å°ç»“</h4><p>å¤§æ¦‚ç¨å¾®çœ‹ä¸€ä¸‹å°±è¡Œäº†ï¼Œæˆ‘è®¤ä¸ºçœ‹è‹±æ–‡(is aé‚£äº›)æ›´å®¹æ˜“ç†è§£å…³ç³»æ˜¯ä»€ä¹ˆæ„æ€ï¼Œè™½ç„¶å…³è”å…³ç³»è¿˜å¯å†åˆ†ï¼Œä¸è¿‡åŸºæœ¬ä¸Šä¸æé‚£ä¹ˆè¯¦ç»†ã€‚æ¯•ç«ŸUMLç±»å›¾æ˜¯ä¸ºäº†å‰æœŸå¿«é€Ÿæ„æ€ç±»çš„å…³ç³»çš„ï¼ŒåŸºæœ¬ä¸Šæˆ‘ä»¬åªç”¨å‰ä¸‰ç§å…³ç³»â€”â€”<strong>å®ç°å…³ç³»ã€æ³›åŒ–å…³ç³»ï¼Œå…³è”å…³ç³»</strong></p>\n<h3 id=\"é¢å‘å¯¹è±¡è®¾è®¡çš„ä¸€äº›åŸåˆ™\"><a href=\"#é¢å‘å¯¹è±¡è®¾è®¡çš„ä¸€äº›åŸåˆ™\" class=\"headerlink\" title=\"é¢å‘å¯¹è±¡è®¾è®¡çš„ä¸€äº›åŸåˆ™\"></a>é¢å‘å¯¹è±¡è®¾è®¡çš„ä¸€äº›åŸåˆ™</h3><p>åœ¨äº†è§£è®¾è®¡æ¨¡å¼ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦äº†è§£ä¸€äº›åŸåˆ™ï¼Œè¿™ä¹Ÿæ˜¯ä½¿ç”¨è®¾è®¡æ¨¡å¼çš„ç›®çš„ä¹‹ä¸€ã€‚</p>\n<h4 id=\"å•ä¸€èŒè´£åŸåˆ™-SRP-Single-Responsibility-Principle\"><a href=\"#å•ä¸€èŒè´£åŸåˆ™-SRP-Single-Responsibility-Principle\" class=\"headerlink\" title=\"å•ä¸€èŒè´£åŸåˆ™(SRP-Single Responsibility Principle)\"></a>å•ä¸€èŒè´£åŸåˆ™(SRP-Single Responsibility Principle)</h4><p>å½“ä¸€ä¸ªç±»æ‰¿æ‹…çš„èŒè´£è¿‡å¤šï¼Œå°±ç­‰äºæŠŠè¿™äº›èŒè´£è€¦åˆåœ¨äº†ä¸€èµ·ï¼Œä¸€ä¸ªèŒè´£å˜åŒ–çš„æ—¶å€™ï¼Œå¯èƒ½å°±å®¹æ˜“å¯¼è‡´å…¶ä»–èŒè´£çš„å˜åŒ–ã€‚å‡è®¾ä¸€ä¸ªç±»æ—¢å¯ä»¥é“¾æ¥ç®¡ç†ï¼Œåˆå¯ä»¥è¿›è¡Œæ•°æ®é€šä¿¡ï¼Œåœ¨æ•°æ®é€šä¿¡æ–¹é¢ç”±äºå®¢æˆ·éœ€æ±‚ä¸æ–­å˜åŒ–ï¼Œå¯èƒ½åœ¨æ•°æ®é€šä¿¡æ–¹é¢ä¸æ–­ä¿®æ”¹å¯¼è‡´é“¾æ¥ç®¡ç†ä¿®æ”¹èµ·æ¥ä¹Ÿå¾ˆéº»çƒ¦ï¼Œè¿™æ—¶å°±åº”è¯¥åˆ†ç¦»è¿™ä¸¤ä¸ªèŒè´£ï¼Œè®©ä¸¤ä¸ªèŒè´£åˆ†åˆ«ç½®äºä¸åŒçš„ç±»ä¸­ã€‚</p>\n<h4 id=\"å¼€æ”¾-å°é—­åŸåˆ™-OCP-The-Open-Closed-Principle\"><a href=\"#å¼€æ”¾-å°é—­åŸåˆ™-OCP-The-Open-Closed-Principle\" class=\"headerlink\" title=\"å¼€æ”¾-å°é—­åŸåˆ™(OCP-The Open-Closed Principle)\"></a>å¼€æ”¾-å°é—­åŸåˆ™(OCP-The Open-Closed Principle)</h4><p>æŒ‡çš„æ˜¯åœ¨ä¸€ä¸ªç±»ä¸­æ–°åŠ å…¥çš„æ‰©å±•çš„åŠŸèƒ½å¹¶ä¸éœ€è¦ä¿®æ”¹åŸæœ‰çš„åŠŸèƒ½ã€‚æ¯”å¦‚è¯´ç»˜åˆ¶å›¾æ¡ˆï¼ŒåŸæœ¬åªèƒ½ç»˜åˆ¶æ­£æ–¹å½¢å’Œåœ†å½¢ï¼Œå¦‚æœåŠ å…¥ä¸‰è§’å½¢ï¼Œé‚£åœ¨ç»˜åˆ¶å›¾æ¡ˆçš„æ—¶å€™åªéœ€æ·»åŠ ä¸‰è§’å½¢è¿™ä¸ªç±»è€Œä¸ä¿®æ”¹å…¶ä»–ç±»ã€‚</p>\n<h4 id=\"Liskovæ›¿æ¢åŸåˆ™-LSP-Liskov-Substitution-Principle\"><a href=\"#Liskovæ›¿æ¢åŸåˆ™-LSP-Liskov-Substitution-Principle\" class=\"headerlink\" title=\"Liskovæ›¿æ¢åŸåˆ™(LSP-Liskov Substitution Principle)\"></a>Liskovæ›¿æ¢åŸåˆ™(LSP-Liskov Substitution Principle)</h4><p>è¿åLSPåŸåˆ™å¿…ç„¶è¿åOCPåŸåˆ™ï¼Œä»»ä½•åŸºç±»å¯ä»¥å‡ºç°çš„åœ°æ–¹ï¼Œå­ç±»ä¸€å®šå¯ä»¥å‡ºç°ï¼Œå³åœ¨ä½¿ç”¨æ—¶å­ç±»å¯ä»¥æ›¿æ¢æ‰åŸºç±»ä½†æ˜¯åŠŸèƒ½ä¸å—å½±å“</p>\n<h4 id=\"ä¾èµ–å¯¼è‡´åŸåˆ™-DIP-Dependency-Inversion-Principle\"><a href=\"#ä¾èµ–å¯¼è‡´åŸåˆ™-DIP-Dependency-Inversion-Principle\" class=\"headerlink\" title=\"ä¾èµ–å¯¼è‡´åŸåˆ™(DIP-Dependency Inversion Principle)\"></a>ä¾èµ–å¯¼è‡´åŸåˆ™(DIP-Dependency Inversion Principle)</h4><ul>\n<li>é«˜å±‚æ¨¡å—ä¸åº”è¯¥ä¾èµ–äºåº•å±‚æ¨¡å—ï¼ŒäºŒè€…éƒ½åº”è¯¥ä¾èµ–äºæŠ½è±¡</li>\n<li>æŠ½è±¡ä¸åº”è¯¥ä¾èµ–äºç»†èŠ‚ï¼Œç»†èŠ‚åº”è¯¥ä¾èµ–äºæŠ½è±¡</li>\n</ul>\n<p>é«˜å±‚æ¨¡å—å³å®è·µæ¨¡å—ï¼Œæ¯”å¦‚mainå‡½æ•°ï¼Œä¿®æ”¹äº†mainå‡½æ•°çš„å®ç°æ–¹å¼å´ä¸æ”¹å˜åº•å±‚æ¨¡å—ç±»çš„ä»£ç å˜åŒ–</p>\n<h4 id=\"æ¥å£éš”ç¦»åŸåˆ™-ISP-Interface-Segregation-Principle\"><a href=\"#æ¥å£éš”ç¦»åŸåˆ™-ISP-Interface-Segregation-Principle\" class=\"headerlink\" title=\"æ¥å£éš”ç¦»åŸåˆ™(ISP-Interface Segregation Principle)\"></a>æ¥å£éš”ç¦»åŸåˆ™(ISP-Interface Segregation Principle)</h4><p>å»ºç«‹å•ä¸€æ¥å£ï¼Œä¸è¦å»ºç«‹è‡ƒè‚¿åºå¤§çš„æ¥å£ã€‚å†é€šä¿—ä¸€ç‚¹è®²ï¼šæ¥å£å°½é‡ç»†åŒ–ï¼ŒåŒæ—¶æ¥å£ä¸­çš„æ–¹æ³•å°½é‡å°‘ã€‚è·ŸSRPå·®ä¸å¤š</p>\n<h3 id=\"è®¾è®¡æ¨¡å¼ä»‹ç»\"><a href=\"#è®¾è®¡æ¨¡å¼ä»‹ç»\" class=\"headerlink\" title=\"è®¾è®¡æ¨¡å¼ä»‹ç»\"></a>è®¾è®¡æ¨¡å¼ä»‹ç»</h3><p>è®¾è®¡æ¨¡å¼å¯ä»¥æ ¹æ®å…¶æ„å›¾æ¥åˆ†ç±»ã€‚ä¸»è¦åˆ†ä¸ºä¸‰ç§ç±»åˆ«</p>\n<ul>\n<li><strong>åˆ›å»ºå‹æ¨¡å¼(Creational Patterns)</strong> æä¾›åˆ›å»ºå¯¹è±¡çš„æœºåˆ¶ï¼Œ å¢åŠ å·²æœ‰ä»£ç çš„çµæ´»æ€§å’Œå¯å¤ç”¨æ€§</li>\n<li><strong>ç»“æ„å‹æ¨¡å¼(Structural Patterns)</strong> ä»‹ç»å¦‚ä½•å°†å¯¹è±¡å’Œç±»ç»„è£…æˆè¾ƒå¤§çš„ç»“æ„ï¼Œ å¹¶åŒæ—¶ä¿æŒç»“æ„çš„çµæ´»å’Œé«˜æ•ˆ</li>\n<li><strong>è¡Œä¸ºæ¨¡å¼(Behavioral Patterns)</strong> è´Ÿè´£å¯¹è±¡é—´çš„é«˜æ•ˆæ²Ÿé€šå’ŒèŒè´£å§”æ´¾</li>\n</ul>\n<h3 id=\"åˆ›å»ºå‹æ¨¡å¼-Creational-Patterns\"><a href=\"#åˆ›å»ºå‹æ¨¡å¼-Creational-Patterns\" class=\"headerlink\" title=\"åˆ›å»ºå‹æ¨¡å¼(Creational Patterns)\"></a>åˆ›å»ºå‹æ¨¡å¼(Creational Patterns)</h3><h4 id=\"Factory-Method-å·¥å‚æ¨¡å¼\"><a href=\"#Factory-Method-å·¥å‚æ¨¡å¼\" class=\"headerlink\" title=\"Factory Method(å·¥å‚æ¨¡å¼)\"></a>Factory Method(å·¥å‚æ¨¡å¼)</h4><p>å·¥å‚æ¨¡å¼æ˜¯ä¸€ç§åˆ›å»ºå‹è®¾è®¡æ¨¡å¼ï¼Œå…¶åœ¨çˆ¶ç±»ä¸­æä¾›ä¸€ä¸ªåˆ›å»ºå¯¹è±¡çš„æ–¹æ³•ï¼Œ å…è®¸å­ç±»å†³å®šå®ä¾‹åŒ–å¯¹è±¡çš„ç±»å‹ã€‚</p>\n<h5 id=\"é—®é¢˜\"><a href=\"#é—®é¢˜\" class=\"headerlink\" title=\"é—®é¢˜\"></a>é—®é¢˜</h5><p>å‡è®¾ä½ æ­£åœ¨å¼€å‘ä¸€æ¬¾ç‰©æµç®¡ç†åº”ç”¨ã€‚ æœ€åˆç‰ˆæœ¬åªèƒ½å¤„ç†å¡è½¦è¿è¾“ï¼Œ å› æ­¤å¤§éƒ¨åˆ†ä»£ç éƒ½åœ¨ä½äºåä¸º<strong>å¡è½¦</strong>çš„ç±»ä¸­ã€‚ä¸€æ®µæ—¶é—´åï¼Œ è¿™æ¬¾åº”ç”¨å˜å¾—æå—æ¬¢è¿ã€‚ ä½ æ¯å¤©éƒ½èƒ½æ”¶åˆ°åå‡ æ¬¡æ¥è‡ªæµ·è¿å…¬å¸çš„è¯·æ±‚ï¼Œ å¸Œæœ›åº”ç”¨èƒ½å¤Ÿæ”¯æŒæµ·ä¸Šç‰©æµåŠŸèƒ½ã€‚è¿™å¯æ˜¯ä¸ªå¥½æ¶ˆæ¯ã€‚ ä½†æ˜¯ä»£ç é—®é¢˜è¯¥å¦‚ä½•å¤„ç†å‘¢ï¼Ÿ ç›®å‰ï¼Œ å¤§éƒ¨åˆ†ä»£ç éƒ½ä¸ å¡è½¦ç±»ç›¸å…³ã€‚ åœ¨ç¨‹åºä¸­æ·»åŠ  è½®èˆ¹ç±»éœ€è¦ä¿®æ”¹å…¨éƒ¨ä»£ç ã€‚ æ›´ç³Ÿç³•çš„æ˜¯ï¼Œ å¦‚æœä½ ä»¥åéœ€è¦åœ¨ç¨‹åºä¸­æ”¯æŒå¦å¤–ä¸€ç§è¿è¾“æ–¹å¼ï¼Œ å¾ˆå¯èƒ½éœ€è¦å†æ¬¡å¯¹è¿™äº›ä»£ç è¿›è¡Œå¤§å¹…ä¿®æ”¹ã€‚</p>\n<h5 id=\"è§£å†³æ–¹æ¡ˆ\"><a href=\"#è§£å†³æ–¹æ¡ˆ\" class=\"headerlink\" title=\"è§£å†³æ–¹æ¡ˆ\"></a>è§£å†³æ–¹æ¡ˆ</h5><p>å·¥å‚æ–¹æ³•æ¨¡å¼å»ºè®®ä½¿ç”¨ç‰¹æ®Šçš„å·¥å‚æ–¹æ³•ä»£æ›¿å¯¹äºå¯¹è±¡æ„é€ å‡½æ•°çš„ç›´æ¥è°ƒç”¨ï¼ˆå³ä½¿ç”¨ newè¿ç®—ç¬¦ï¼‰ã€‚ä¸ç”¨æ‹…å¿ƒï¼Œ å¯¹è±¡ä»å°†é€šè¿‡newè¿ç®—ç¬¦åˆ›å»ºï¼Œåªæ˜¯è¯¥è¿ç®—ç¬¦æ”¹åœ¨å·¥å‚æ–¹æ³•ä¸­è°ƒç”¨ç½¢äº†ã€‚å·¥å‚æ–¹æ³•è¿”å›çš„å¯¹è±¡é€šå¸¸è¢«ç§°ä½œ â€œäº§å“â€ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220808133543.png\" alt=\"img\"></p>\n<p>è¿™æ ·å­ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å­ç±»ä¸­é‡å†™å·¥å‚æ–¹æ³•ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220808134434.png\" alt=\"img\"></p>\n<p>ä¸¾ä¾‹æ¥è¯´ï¼Œ<strong>RoadLogically</strong>ç±»çš„å·¥å‚æ–¹æ³•ä¹Ÿå°±æ˜¯<strong>createTransport()<strong>è¿”å›çš„ä¾¿æ˜¯</strong>Truck</strong>å¯¹è±¡ï¼Œè€Œ<strong>SeaLogistics</strong>è¿”å›çš„ä¾¿æ˜¯<strong>Ship</strong>å¯¹è±¡ã€‚</p>\n<p>è°ƒç”¨å·¥å‚æ–¹æ³•çš„ä»£ç  ï¼ˆé€šå¸¸è¢«ç§°ä¸ºå®¢æˆ·ç«¯ä»£ç ï¼‰ æ— éœ€äº†è§£ä¸åŒå­ç±»è¿”å›å®é™…å¯¹è±¡ä¹‹é—´çš„å·®åˆ«ã€‚ å®¢æˆ·ç«¯å°†æ‰€æœ‰äº§å“è§†ä¸ºæŠ½è±¡çš„è¿è¾“ã€‚ å®¢æˆ·ç«¯çŸ¥é“æ‰€æœ‰è¿è¾“å¯¹è±¡éƒ½æä¾›äº¤ä»˜æ–¹æ³•ï¼Œä½†æ˜¯å¹¶ä¸å…³å¿ƒå…¶å…·ä½“å®ç°æ–¹å¼ã€‚</p>\n<h5 id=\"å·¥å‚æ–¹æ³•æ¨¡å¼ç»“æ„\"><a href=\"#å·¥å‚æ–¹æ³•æ¨¡å¼ç»“æ„\" class=\"headerlink\" title=\"å·¥å‚æ–¹æ³•æ¨¡å¼ç»“æ„\"></a>å·¥å‚æ–¹æ³•æ¨¡å¼ç»“æ„</h5><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220808164835.png\" alt=\"img\"></p>\n<p>ç”±å›¾å¯ä»¥çœ‹åˆ°è¿™ä¸ªç»“æ„è¢«åˆ†ä¸ºäº†ä¸¤éƒ¨åˆ†ï¼Œä¸€ä¸ªCreatoréƒ¨åˆ†ï¼Œä¸€ä¸ªProductéƒ¨åˆ†ï¼ŒCreatoréƒ¨åˆ†è´Ÿè´£åˆ›å»ºï¼ŒåŒæ—¶æä¾›SomeOperation()è¿›è¡Œæ“ä½œï¼Œè€ŒSomeOperation()å†…éƒ¨æ˜¯è·å¾—å…·ä½“ç‰©ä½“çš„æ¥å£ï¼Œå¹¶ä¸”åšå‡ºå…·ä½“å®ç°ã€‚</p>\n<p>1.<strong>äº§å“(Product)</strong> å°†ä¼šå¯¹æ¥å£è¿›è¡Œå£°æ˜ã€‚ å¯¹äºæ‰€æœ‰ç”±åˆ›å»ºè€…åŠå…¶å­ç±»æ„å»ºçš„å¯¹è±¡ï¼Œ è¿™äº›æ¥å£éƒ½æ˜¯é€šç”¨çš„ã€‚</p>\n<p>2.<strong>å…·ä½“äº§å“(ConÂ­crete ProdÂ­ucts)</strong> æ˜¯äº§å“æ¥å£çš„ä¸åŒå®ç°ã€‚</p>\n<p>3.<strong>åˆ›å»ºè€…(CreÂ­ator)</strong> ç±»å£°æ˜è¿”å›äº§å“å¯¹è±¡çš„å·¥å‚æ–¹æ³•ã€‚ è¯¥æ–¹æ³•çš„è¿”å›å¯¹è±¡ç±»å‹å¿…é¡»ä¸äº§å“æ¥å£ç›¸åŒ¹é…ã€‚</p>\n<p>ä½ å¯ä»¥å°†å·¥å‚æ–¹æ³•å£°æ˜ä¸ºæŠ½è±¡æ–¹æ³•ï¼Œå¼ºåˆ¶è¦æ±‚æ¯ä¸ªå­ç±»ä»¥ä¸åŒæ–¹å¼å®ç°è¯¥æ–¹æ³•.æˆ–è€…ï¼Œä½ ä¹Ÿå¯ä»¥åœ¨åŸºç¡€å·¥å‚æ–¹æ³•ä¸­è¿”å›é»˜è®¤äº§å“ç±»å‹ã€‚</p>\n<p>æ³¨æ„ï¼Œå°½ç®¡å®ƒçš„åå­—æ˜¯åˆ›å»ºè€…ï¼Œä½†å®ƒæœ€ä¸»è¦çš„èŒè´£å¹¶ä¸æ˜¯åˆ›å»ºäº§å“ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œåˆ›å»ºè€…ç±»åŒ…å«ä¸€äº›ä¸äº§å“ç›¸å…³çš„æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ã€‚å·¥å‚æ–¹æ³•å°†è¿™äº›é€»è¾‘å¤„ç†ä»å…·ä½“äº§å“ç±»ä¸­åˆ†ç¦»å‡ºæ¥.æ‰“ä¸ªæ¯”æ–¹ï¼Œå¤§å‹è½¯ä»¶å¼€å‘å…¬å¸æ‹¥æœ‰ç¨‹åºå‘˜åŸ¹è®­éƒ¨é—¨ã€‚ä½†æ˜¯ï¼Œè¿™äº›å…¬å¸çš„ä¸»è¦å·¥ä½œè¿˜æ˜¯ç¼–å†™ä»£ç ï¼Œè€Œéç”Ÿäº§ç¨‹åºå‘˜ã€‚</p>\n<p>4.<strong>å…·ä½“åˆ›å»ºè€…(ConÂ­crete CreÂ­ators)</strong> å°†ä¼šé‡å†™åŸºç¡€å·¥å‚æ–¹æ³•ï¼Œä½¿å…¶è¿”å›ä¸åŒç±»å‹çš„äº§å“ã€‚</p>\n<p>æ³¨æ„ï¼Œå¹¶ä¸ä¸€å®šæ¯æ¬¡è°ƒç”¨å·¥å‚æ–¹æ³•éƒ½ä¼šåˆ›å»ºæ–°çš„å®ä¾‹ã€‚å·¥å‚æ–¹æ³•ä¹Ÿå¯ä»¥è¿”å›ç¼“å­˜ã€å¯¹è±¡æ± æˆ–å…¶ä»–æ¥æºçš„å·²æœ‰å¯¹è±¡ã€‚</p>\n<h5 id=\"ä¼ªä»£ç \"><a href=\"#ä¼ªä»£ç \" class=\"headerlink\" title=\"ä¼ªä»£ç \"></a>ä¼ªä»£ç </h5><p>æ ¹æ®ä¸Šå›¾ï¼Œæˆ‘ä»¬å¯ä»¥å¿«é€Ÿçš„åšå‡ºä¸€ä¸ªåŸºäºè¿è¾“ä¾‹å­çš„ä¼ªä»£ç (å¹¶ä¸æ˜¯å¾ˆä¼ª)ï¼Œå¦‚æœæœ‰æ–°çš„ç§ç±»ï¼Œæ¯”å¦‚è¯´é£æœºï¼Œé‚£ä¹ˆä¿®æ”¹å°±å¾ˆå®¹æ˜“äº†ï¼Œå¹¶ä¸éœ€è¦ä¿®æ”¹åŸæ¥çš„ä»£ç ï¼Œåªéœ€è¦å¤šå†™ä¸€ä¸ª<strong>AirLogisticsç±»</strong>ç»§æ‰¿<strong>Logisticsç±»</strong>ï¼Œå†™ä¸€ä¸ª<strong>Plane</strong>ç»§æ‰¿<strong>Transportæ¥å£</strong>ï¼Œç”šè‡³è¿çˆ¶ç±»çš„Logisticséƒ½ä¸ç”¨åŠ¨ï¼Œè¿™å¾ˆå¥½çš„è·µè¡Œäº†SRPå’ŒOCPåŸåˆ™ã€‚</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//LogisiticæŠ½è±¡ç±»ï¼Œä¹Ÿå°±æ˜¯Creator</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> <span class=\"keyword\">class</span> <span class=\"title\">Logisitic</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">//CreateTransportä¹Ÿå°±æ˜¯å·¥å‚æ–¹æ³•(FactoryMethod)</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> Transport <span class=\"title\">CreateTransport</span>()</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">planDelivery</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Transport t = CreateTransport();</span><br><span class=\"line\">        t.Deliver();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">RoadLogistics</span> : <span class=\"title\">Logisitic</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> overrride Transport <span class=\"title\">CreateTransport</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">//è¿”å›çš„æ˜¯äº§å“ç±»ï¼Œè€Œä¸æ˜¯æœ¬å°Š</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> Truck();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">SeaLogistics</span> : <span class=\"title\">Logisitic</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> overrride Transport <span class=\"title\">CreateTransport</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> Ship();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//Transportæ¥å£ï¼Œä¹Ÿå°±æ˜¯Product</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title\">Transport</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">Deliver</span>()</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">Truck</span> : <span class=\"title\">Transport</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Deliver</span>()</span> </span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">//....</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">Ship</span> : <span class=\"title\">Transport</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Deliver</span>()</span> </span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">//....</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"é€‚åˆå·¥å‚æ¨¡å¼çš„åœ°æ–¹\"><a href=\"#é€‚åˆå·¥å‚æ¨¡å¼çš„åœ°æ–¹\" class=\"headerlink\" title=\"é€‚åˆå·¥å‚æ¨¡å¼çš„åœ°æ–¹\"></a>é€‚åˆå·¥å‚æ¨¡å¼çš„åœ°æ–¹</h5><ul>\n<li>å½“ä½ åœ¨ç¼–å†™ä»£ç çš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æœæ— æ³•é¢„çŸ¥å¯¹è±¡ç¡®åˆ‡ç±»åˆ«åŠå…¶ä¾èµ–å…³ç³»æ—¶ï¼Œå¯ä½¿ç”¨å·¥å‚æ–¹æ³•ã€‚</li>\n<li>å¦‚æœä½ å¸Œæœ›ç”¨æˆ·èƒ½æ‰©å±•ä½ è½¯ä»¶åº“æˆ–æ¡†æ¶çš„å†…éƒ¨ç»„ä»¶ï¼Œå¯ä½¿ç”¨å·¥å‚æ–¹æ³•ã€‚</li>\n<li>å¦‚æœä½ å¸Œæœ›å¤ç”¨ç°æœ‰å¯¹è±¡æ¥èŠ‚çœç³»ç»Ÿèµ„æºï¼Œè€Œä¸æ˜¯æ¯æ¬¡éƒ½é‡æ–°åˆ›å»ºå¯¹è±¡ï¼Œå¯ä½¿ç”¨å·¥å‚æ–¹æ³•ã€‚</li>\n</ul>\n<h5 id=\"å·¥å‚æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"><a href=\"#å·¥å‚æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\" class=\"headerlink\" title=\"å·¥å‚æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"></a>å·¥å‚æ¨¡å¼çš„ä¼˜ç¼ºç‚¹</h5><p><strong>ä¼˜ç‚¹</strong>ï¼š</p>\n<ul>\n<li>ä½ å¯ä»¥é¿å…åˆ›å»ºè€…å’Œå…·ä½“äº§å“ä¹‹é—´çš„ç´§å¯†è€¦åˆã€‚</li>\n<li>ç¬¦åˆSRP</li>\n<li>ç¬¦åˆOCP</li>\n</ul>\n<p><strong>ç¼ºç‚¹</strong>ï¼š</p>\n<ul>\n<li>åº”ç”¨å·¥å‚æ–¹æ³•æ¨¡å¼éœ€è¦å¼•å…¥è®¸å¤šæ–°çš„å­ç±»ï¼Œä»£ç å¯èƒ½ä¼šå› æ­¤å˜å¾—æ›´å¤æ‚ã€‚æœ€å¥½çš„æƒ…å†µæ˜¯å°†è¯¥æ¨¡å¼å¼•å…¥åˆ›å»ºè€…ç±»çš„ç°æœ‰å±‚æ¬¡ç»“æ„ä¸­ã€‚ç®€å•æ¥è¯´ï¼Œå°±æ˜¯åœ¨å·¥ä½œåˆæœŸä½¿ç”¨<strong>å·¥å‚æ¨¡å¼</strong>ï¼ˆæ¯”è¾ƒç®€å•ï¼Œè€Œä¸”å®¹æ˜“é€šè¿‡å­ç±»ä¿®æ”¹),ä½†ä»£ç å¤æ‚æ—¶ä¼šæ¼”åŒ–æˆå…¶ä»–æ¨¡å¼</li>\n</ul>\n<h4 id=\"Abstract-Factory-æŠ½è±¡å·¥å‚æ¨¡å¼\"><a href=\"#Abstract-Factory-æŠ½è±¡å·¥å‚æ¨¡å¼\" class=\"headerlink\" title=\"Abstract Factory(æŠ½è±¡å·¥å‚æ¨¡å¼)\"></a>Abstract Factory(æŠ½è±¡å·¥å‚æ¨¡å¼)</h4><p>æŠ½è±¡å·¥å‚æ¨¡å¼æ˜¯ä¸€ç§åˆ›å»ºå‹è®¾è®¡æ¨¡å¼ï¼Œ å®ƒèƒ½åˆ›å»ºä¸€ç³»åˆ—ç›¸å…³çš„å¯¹è±¡ï¼Œ è€Œæ— éœ€æŒ‡å®šå…¶å…·ä½“ç±»ã€‚</p>\n<h5 id=\"é—®é¢˜-1\"><a href=\"#é—®é¢˜-1\" class=\"headerlink\" title=\"é—®é¢˜\"></a>é—®é¢˜</h5><p>å‡è®¾ä½ æ­£åœ¨å¼€å‘ä¸€æ¬¾å®¶å…·å•†åº—æ¨¡æ‹Ÿå™¨ã€‚ä½ çš„ä»£ç ä¸­åŒ…æ‹¬ä¸€äº›ç±»ï¼Œç”¨äºè¡¨ç¤ºï¼š<br>1.ä¸€ç³»åˆ—ç›¸å…³äº§å“ï¼Œä¾‹å¦‚ æ¤…å­Chairã€æ²™å‘Sofaå’Œå’–å•¡æ¡ŒCofÂ­feeÂ­Tableã€‚<br>2.ç³»åˆ—äº§å“çš„ä¸åŒå˜ä½“ã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥ä½¿ç”¨ç°ä»£ModÂ­ernã€ç»´å¤šåˆ©äºšVicÂ­toÂ­riÂ­anã€â€‹è£…é¥°é£è‰ºæœ¯ArtÂ­Decoç­‰é£æ ¼ç”Ÿæˆæ¤…å­ã€æ²™å‘å’Œå’–å•¡æ¡Œã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220808150223.png\" alt=\"img\"></p>\n<p>ä½ éœ€è¦è®¾æ³•å•ç‹¬ç”Ÿæˆæ¯ä»¶å®¶å…·å¯¹è±¡ï¼Œè¿™æ ·æ‰èƒ½ç¡®ä¿å…¶é£æ ¼ä¸€è‡´ã€‚å¦‚æœé¡¾å®¢æ”¶åˆ°çš„å®¶å…·é£æ ¼ä¸ä¸€æ ·ï¼Œä»–ä»¬å¯ä¸ä¼šå¼€å¿ƒã€‚<br>æ­¤å¤–ï¼Œä½ ä¹Ÿä¸å¸Œæœ›åœ¨æ·»åŠ æ–°äº§å“æˆ–æ–°é£æ ¼æ—¶ä¿®æ”¹å·²æœ‰ä»£ç ã€‚å®¶å…·ä¾›åº”å•†å¯¹äºäº§å“ç›®å½•çš„æ›´æ–°éå¸¸é¢‘ç¹ï¼Œä½ ä¸ä¼šæƒ³åœ¨æ¯æ¬¡æ›´æ–°æ—¶éƒ½å»ä¿®æ”¹æ ¸å¿ƒä»£ç çš„ã€‚</p>\n<h5 id=\"è§£å†³æ–¹æ¡ˆ-1\"><a href=\"#è§£å†³æ–¹æ¡ˆ-1\" class=\"headerlink\" title=\"è§£å†³æ–¹æ¡ˆ\"></a>è§£å†³æ–¹æ¡ˆ</h5><p>é¦–å…ˆï¼Œ æŠ½è±¡å·¥å‚æ¨¡å¼å»ºè®®ä¸ºç³»åˆ—ä¸­çš„<strong>æ¯ä»¶äº§å“</strong>æ˜ç¡®å£°æ˜æ¥å£ï¼ˆä¾‹å¦‚æ¤…å­ã€æ²™å‘æˆ–å’–å•¡æ¡Œï¼‰ã€‚ç„¶åï¼Œç¡®ä¿æ‰€æœ‰äº§å“å˜ä½“éƒ½ç»§æ‰¿è¿™äº›æ¥å£ã€‚ä¾‹å¦‚ï¼Œæ‰€æœ‰é£æ ¼çš„æ¤…å­éƒ½å®ç°æ¤…å­æ¥å£ï¼›æ‰€æœ‰é£æ ¼çš„å’–å•¡æ¡Œéƒ½å®ç°å’–å•¡æ¡Œæ¥å£ï¼Œä»¥æ­¤ç±»æ¨ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220808150715.png\" alt=\"img\"></p>\n<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦å£°æ˜æŠ½è±¡å·¥å‚â€”â€”åŒ…å«ç³»åˆ—ä¸­æ‰€æœ‰äº§å“æ„é€ æ–¹æ³•çš„æ¥å£ã€‚ä¾‹å¦‚creÂ­ateÂ­Chairåˆ›å»ºæ¤…å­ã€â€‹creÂ­ateÂ­Sofaåˆ›å»ºæ²™å‘å’ŒcreÂ­ateÂ­CofÂ­feeÂ­Tableåˆ›å»ºå’–å•¡æ¡Œ.è¿™äº›æ–¹æ³•å¿…é¡»è¿”å›æŠ½è±¡äº§å“ç±»å‹ï¼Œå³æˆ‘ä»¬ä¹‹å‰æŠ½å–çš„é‚£äº›æ¥å£ï¼šæ¤…å­,æ²™å‘å’Œå’–å•¡æ¡Œç­‰ç­‰ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220808150835.png\" alt=\"img\"></p>\n<p>é‚£ä¹ˆè¯¥å¦‚ä½•å¤„ç†äº§å“å˜ä½“å‘¢ï¼Ÿå¯¹äºç³»åˆ—äº§å“çš„æ¯ä¸ªå˜ä½“ï¼Œæˆ‘ä»¬éƒ½å°†åŸºäºæŠ½è±¡å·¥å‚æ¥å£åˆ›å»ºä¸åŒçš„å·¥å‚ç±»ã€‚æ¯ä¸ªå·¥å‚ç±»éƒ½åªèƒ½è¿”å›ç‰¹å®šç±»åˆ«çš„äº§å“ï¼Œä¾‹å¦‚ï¼Œâ€‹ç°ä»£å®¶å…·å·¥å‚ModÂ­ernÂ­FurÂ­niÂ­tureÂ­FacÂ­toÂ­ryåªèƒ½åˆ›å»ºç°ä»£æ¤…å­ModÂ­ernÂ­Chairã€ç°ä»£æ²™å‘ModÂ­ernÂ­Sofaå’Œç°ä»£å’–å•¡æ¡ŒModÂ­ernÂ­CofÂ­feeÂ­Tableå¯¹è±¡ã€‚</p>\n<p>å®¢æˆ·ç«¯ä»£ç å¯ä»¥é€šè¿‡ç›¸åº”çš„æŠ½è±¡æ¥å£è°ƒç”¨å·¥å‚å’Œäº§å“ç±»ã€‚ ä½ æ— éœ€ä¿®æ”¹å®é™…å®¢æˆ·ç«¯ä»£ç ï¼Œ å°±èƒ½æ›´æ”¹ä¼ é€’ç»™å®¢æˆ·ç«¯çš„å·¥å‚ç±»ï¼Œ ä¹Ÿèƒ½æ›´æ”¹å®¢æˆ·ç«¯ä»£ç æ¥æ”¶çš„äº§å“å˜ä½“ã€‚</p>\n<h5 id=\"æŠ½è±¡å·¥å‚æ¨¡å¼ç»“æ„\"><a href=\"#æŠ½è±¡å·¥å‚æ¨¡å¼ç»“æ„\" class=\"headerlink\" title=\"æŠ½è±¡å·¥å‚æ¨¡å¼ç»“æ„\"></a>æŠ½è±¡å·¥å‚æ¨¡å¼ç»“æ„</h5><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220808151005.png\" alt=\"img\"></p>\n<p>1.<strong>æŠ½è±¡äº§å“(Abstract ProdÂ­uct)</strong> ä¸ºæ„æˆç³»åˆ—äº§å“çš„ä¸€ç»„ä¸åŒä½†ç›¸å…³çš„äº§å“å£°æ˜æ¥å£ã€‚</p>\n<p>2.<strong>å…·ä½“äº§å“(ConÂ­crete ProdÂ­uct)</strong> æ˜¯æŠ½è±¡äº§å“çš„å¤šç§ä¸åŒç±»å‹å®ç°ã€‚æ‰€æœ‰å˜ä½“ ï¼ˆç»´å¤šåˆ©äºš&#x2F;ç°ä»£ï¼‰éƒ½å¿…é¡»å®ç°ç›¸åº”çš„æŠ½è±¡äº§å“ ï¼ˆæ¤…å­&#x2F;æ²™å‘ï¼‰ã€‚</p>\n<p>3.<strong>æŠ½è±¡å·¥å‚(Abstract FacÂ­toÂ­ry)</strong> æ¥å£å£°æ˜äº†ä¸€ç»„åˆ›å»ºå„ç§æŠ½è±¡äº§å“çš„æ–¹æ³•ã€‚</p>\n<p>4.<strong>å…·ä½“å·¥å‚(ConÂ­crete FacÂ­toÂ­ry)</strong> å®ç°æŠ½è±¡å·¥å‚çš„æ„å»ºæ–¹æ³•ã€‚æ¯ä¸ªå…·ä½“å·¥å‚éƒ½å¯¹åº”ç‰¹å®šäº§å“å˜ä½“ï¼Œä¸”ä»…åˆ›å»ºæ­¤ç§äº§å“å˜ä½“ã€‚</p>\n<p>5.å°½ç®¡å…·ä½“å·¥å‚ä¼šå¯¹å…·ä½“äº§å“è¿›è¡Œåˆå§‹åŒ–ï¼Œå…¶æ„å»ºæ–¹æ³•ç­¾åå¿…é¡»è¿”å›ç›¸åº”çš„æŠ½è±¡äº§å“ã€‚è¿™æ ·ï¼Œä½¿ç”¨å·¥å‚ç±»çš„å®¢æˆ·ç«¯ä»£ç å°±ä¸ä¼šä¸å·¥å‚åˆ›å»ºçš„ç‰¹å®šäº§å“å˜ä½“è€¦åˆã€‚<strong>å®¢æˆ·ç«¯ (Client)</strong> åªéœ€é€šè¿‡æŠ½è±¡æ¥å£è°ƒç”¨å·¥å‚å’Œäº§å“å¯¹è±¡ï¼Œå°±èƒ½ä¸ä»»ä½•å…·ä½“å·¥å‚&#x2F;äº§å“å˜ä½“äº¤äº’ã€‚</p>\n<h5 id=\"ä¼ªä»£ç -1\"><a href=\"#ä¼ªä»£ç -1\" class=\"headerlink\" title=\"ä¼ªä»£ç \"></a>ä¼ªä»£ç </h5><p>åŒæ ·æ˜¯æ ¹æ®æŠ½è±¡å·¥å‚æ¨¡å¼ç»“æ„çš„å›¾ï¼Œæˆ‘ä»¬å¿«é€Ÿçš„å†™ä¸€ä¸ªåŸºäºå®¶å…·æŠ½è±¡å·¥å‚çš„ä¸æ˜¯é‚£ä¹ˆä¼ªçš„ä¼ªä»£ç </p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//éšä¾¿å†™ä¸€ä¸‹ä»£ç å°±ä¼šå¾ˆå¤šï¼Œæ‰€ä»¥è¿™é‡Œåªå†™å‡ºäº†ä¸€éƒ¨åˆ†ä»£ç </span></span><br><span class=\"line\"><span class=\"comment\">//æŠ½è±¡å·¥å‚æ¥å£</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title\">FurnitureFactory</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">//åˆ›å»ºæ¤…å­</span></span><br><span class=\"line\">    <span class=\"function\">Chair <span class=\"title\">CreateChair</span>()</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//åˆ›å»ºå’–å•¡æ¡Œ</span></span><br><span class=\"line\">    <span class=\"function\">CoffeTable <span class=\"title\">CreateCoffeeTable</span>()</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//åˆ›å»ºæ²™å‘</span></span><br><span class=\"line\">    <span class=\"function\">Sofa <span class=\"title\">CreateSofa</span>()</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">VictorianFurnitureFactory</span> : <span class=\"title\">FurnitureFactory</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> Chair <span class=\"title\">CreateChair</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> VictorianChair();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> CoffeTable <span class=\"title\">CreateCoffeeTable</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> VictorianCoffeeTable();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> Sofa <span class=\"title\">CreateSofa</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> VictorianSofa();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">ModernFurnitureFactory</span> : <span class=\"title\">FurnitureFactory</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> Chair <span class=\"title\">CreateChair</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> ModernChair();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> CoffeTable <span class=\"title\">CreateCoffeeTable</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> ModenCoffeeTable();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> Sofa <span class=\"title\">CreateSofa</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> ModernSofa();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//æŠ½è±¡äº§å“ Chairç±»</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title\">Chair</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">HasLegs</span>()</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">SitOn</span>()</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">VictorianChair</span> : <span class=\"title\">Chair</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">HasLegs</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">//...</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">SitOn</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">//...</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">ModernChair</span> : <span class=\"title\">Chair</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">HasLegs</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">//...</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">SitOn</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">//...</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//æŠ½è±¡äº§å“ CoffeeTableç±»</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title\">CoffeeTable</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">HasLegs</span>()</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">VictorianCoffeeTable</span> : <span class=\"title\">CoffeeTable</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">HasLegs</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">//...</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">ModernCoffeeTable</span> : <span class=\"title\">CoffeeTable</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">HasLegs</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">//...</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//å®¢æˆ·ç«¯è°ƒç”¨æŠ½è±¡å·¥å‚ä»£ç </span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">Client</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">// - factory:AbstractFactory</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> FurnitureFactory factory;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">Client</span>(<span class=\"params\">FurnitureFactory factory</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.factory = factory;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">SomeOperation</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Chair chair = factory.CreateChair();</span><br><span class=\"line\">        <span class=\"comment\">//...</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"é€‚åˆæŠ½è±¡å·¥å‚æ¨¡å¼çš„åœ°æ–¹\"><a href=\"#é€‚åˆæŠ½è±¡å·¥å‚æ¨¡å¼çš„åœ°æ–¹\" class=\"headerlink\" title=\"é€‚åˆæŠ½è±¡å·¥å‚æ¨¡å¼çš„åœ°æ–¹\"></a>é€‚åˆæŠ½è±¡å·¥å‚æ¨¡å¼çš„åœ°æ–¹</h5><ul>\n<li>å¦‚æœä»£ç éœ€è¦ä¸å¤šä¸ªä¸åŒç³»åˆ—çš„ç›¸å…³äº§å“äº¤äº’ï¼Œä½†æ˜¯ç”±äºæ— æ³•æå‰è·å–ç›¸å…³ä¿¡æ¯ï¼Œæˆ–è€…å‡ºäºå¯¹æœªæ¥æ‰©å±•æ€§çš„è€ƒè™‘ï¼Œä½ ä¸å¸Œæœ›ä»£ç åŸºäºäº§å“çš„å…·ä½“ç±»è¿›è¡Œæ„å»ºï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½ å¯ä»¥ä½¿ç”¨æŠ½è±¡å·¥å‚</li>\n</ul>\n<h5 id=\"æŠ½è±¡å·¥å‚æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"><a href=\"#æŠ½è±¡å·¥å‚æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\" class=\"headerlink\" title=\"æŠ½è±¡å·¥å‚æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"></a>æŠ½è±¡å·¥å‚æ¨¡å¼çš„ä¼˜ç¼ºç‚¹</h5><p><strong>ä¼˜ç‚¹</strong>:</p>\n<ul>\n<li>ä½ å¯ä»¥ç¡®ä¿åŒä¸€å·¥å‚ç”Ÿæˆçš„äº§å“ç›¸äº’åŒ¹é…</li>\n<li>ä½ å¯ä»¥é¿å…å®¢æˆ·ç«¯å’Œå…·ä½“äº§å“ä»£ç çš„è€¦åˆ</li>\n<li>ç¬¦åˆSRP</li>\n<li>ç¬¦åˆOCP</li>\n</ul>\n<p><strong>ç¼ºç‚¹</strong>:</p>\n<ul>\n<li>ç”±äºé‡‡ç”¨è¯¥æ¨¡å¼éœ€è¦å‘åº”ç”¨ä¸­å¼•å…¥ä¼—å¤šæ¥å£å’Œç±»ï¼Œ ä»£ç å¯èƒ½ä¼šæ¯”ä¹‹å‰æ›´åŠ å¤æ‚ã€‚</li>\n</ul>\n<h4 id=\"Builder-ç”Ÿæˆå™¨æ¨¡å¼\"><a href=\"#Builder-ç”Ÿæˆå™¨æ¨¡å¼\" class=\"headerlink\" title=\"Builder(ç”Ÿæˆå™¨æ¨¡å¼)\"></a>Builder(ç”Ÿæˆå™¨æ¨¡å¼)</h4><p>ç”Ÿæˆå™¨æ¨¡å¼æ˜¯ä¸€ç§åˆ›å»ºå‹è®¾è®¡æ¨¡å¼ï¼Œä½¿ä½ èƒ½å¤Ÿåˆ†æ­¥éª¤åˆ›å»ºå¤æ‚å¯¹è±¡ã€‚è¯¥æ¨¡å¼å…è®¸ä½ ä½¿ç”¨ç›¸åŒçš„åˆ›å»ºä»£ç ç”Ÿæˆä¸åŒç±»å‹å’Œå½¢å¼çš„å¯¹è±¡ã€‚</p>\n<h5 id=\"é—®é¢˜-2\"><a href=\"#é—®é¢˜-2\" class=\"headerlink\" title=\"é—®é¢˜\"></a>é—®é¢˜</h5><p>å‡è®¾æœ‰è¿™æ ·ä¸€ä¸ªå¤æ‚å¯¹è±¡ï¼Œåœ¨å¯¹å…¶è¿›è¡Œæ„é€ æ—¶éœ€è¦å¯¹è¯¸å¤šæˆå‘˜å˜é‡å’ŒåµŒå¥—å¯¹è±¡è¿›è¡Œç¹å¤çš„åˆå§‹åŒ–å·¥ä½œã€‚è¿™äº›åˆå§‹åŒ–ä»£ç é€šå¸¸æ·±è—äºä¸€ä¸ªåŒ…å«ä¼—å¤šå‚æ•°ä¸”è®©äººåŸºæœ¬çœ‹ä¸æ‡‚çš„æ„é€ å‡½æ•°ä¸­ï¼›ç”šè‡³è¿˜æœ‰æ›´ç³Ÿç³•çš„æƒ…å†µï¼Œé‚£å°±æ˜¯è¿™äº›ä»£ç æ•£è½åœ¨å®¢æˆ·ç«¯ä»£ç çš„å¤šä¸ªä½ç½®ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220808163211.png\" alt=\"img\"></p>\n<p>æœ€ç®€å•çš„æ–¹æ³•æ˜¯æ‰©å±•æˆ¿å±‹åŸºç±»ï¼Œç„¶ååˆ›å»ºä¸€ç³»åˆ—æ¶µç›–æ‰€æœ‰å‚æ•°ç»„åˆçš„å­ç±»ã€‚ä½†æœ€ç»ˆä½ å°†é¢å¯¹ç›¸å½“æ•°é‡çš„å­ç±»ã€‚ä»»ä½•æ–°å¢çš„å‚æ•°ï¼ˆä¾‹å¦‚é—¨å»Šç±»å‹ï¼‰éƒ½ä¼šè®©è¿™ä¸ªå±‚æ¬¡ç»“æ„æ›´åŠ å¤æ‚ã€‚</p>\n<p>å¦ä¸€ç§æ–¹æ³•åˆ™æ— éœ€ç”Ÿæˆå­ç±»ã€‚ä½ å¯ä»¥åœ¨æˆ¿å±‹åŸºç±»ä¸­åˆ›å»ºä¸€ä¸ªåŒ…æ‹¬æ‰€æœ‰å¯èƒ½å‚æ•°çš„è¶…çº§æ„é€ å‡½æ•°ï¼Œå¹¶ç”¨å®ƒæ¥æ§åˆ¶æˆ¿å±‹å¯¹è±¡ã€‚è¿™ç§æ–¹æ³•ç¡®å®å¯ä»¥é¿å…ç”Ÿæˆå­ç±»ï¼Œä½†å®ƒå´ä¼šé€ æˆå¦å¤–ä¸€ä¸ªé—®é¢˜ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220808163441.png\" alt=\"img\"></p>\n<p>é€šå¸¸æƒ…å†µä¸‹ï¼Œ ç»å¤§éƒ¨åˆ†çš„å‚æ•°éƒ½æ²¡æœ‰ä½¿ç”¨ï¼Œ è¿™ä½¿å¾—å¯¹äºæ„é€ å‡½æ•°çš„è°ƒç”¨ååˆ†ä¸ç®€æ´ã€‚ ä¾‹å¦‚ï¼Œ åªæœ‰å¾ˆå°‘çš„æˆ¿å­æœ‰æ¸¸æ³³æ± ï¼Œ å› æ­¤ä¸æ¸¸æ³³æ± ç›¸å…³çš„å‚æ•°åä¹‹å…«ä¹æ˜¯æ¯«æ— ç”¨å¤„çš„ã€‚</p>\n<h5 id=\"è§£å†³æ–¹æ¡ˆ-2\"><a href=\"#è§£å†³æ–¹æ¡ˆ-2\" class=\"headerlink\" title=\"è§£å†³æ–¹æ¡ˆ\"></a>è§£å†³æ–¹æ¡ˆ</h5><p>ç”Ÿæˆå™¨æ¨¡å¼å»ºè®®å°†å¯¹è±¡æ„é€ ä»£ç ä»äº§å“ç±»ä¸­æŠ½å–å‡ºæ¥ï¼Œå¹¶å°†å…¶æ”¾åœ¨ä¸€ä¸ªåä¸ºç”Ÿæˆå™¨çš„ç‹¬ç«‹å¯¹è±¡ä¸­ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220808164126.png\" alt=\"img\"></p>\n<p>è¯¥æ¨¡å¼ä¼šå°†å¯¹è±¡æ„é€ è¿‡ç¨‹<strong>åˆ’åˆ†ä¸ºä¸€ç»„æ­¥éª¤</strong>ï¼Œæ¯”å¦‚buildÂ­Wallsåˆ›å»ºå¢™å£å’ŒbuildÂ­Dooråˆ›å»ºæˆ¿é—¨åˆ›å»ºæˆ¿é—¨ç­‰ã€‚æ¯æ¬¡åˆ›å»ºå¯¹è±¡æ—¶ï¼Œä½ éƒ½éœ€è¦é€šè¿‡ç”Ÿæˆå™¨å¯¹è±¡æ‰§è¡Œä¸€ç³»åˆ—æ­¥éª¤ã€‚é‡ç‚¹åœ¨äºä½ æ— éœ€è°ƒç”¨æ‰€æœ‰æ­¥éª¤ï¼Œè€Œåªéœ€è°ƒç”¨åˆ›å»ºç‰¹å®šå¯¹è±¡é…ç½®æ‰€éœ€çš„é‚£äº›æ­¥éª¤å³å¯ã€‚</p>\n<p>å½“ä½ éœ€è¦åˆ›å»º<strong>ä¸åŒå½¢å¼çš„äº§å“</strong>æ—¶ï¼Œå…¶ä¸­çš„ä¸€äº›æ„é€ æ­¥éª¤å¯èƒ½éœ€è¦ä¸åŒçš„å®ç°ã€‚ä¾‹å¦‚ï¼Œæœ¨å±‹çš„æˆ¿é—¨å¯èƒ½éœ€è¦ä½¿ç”¨æœ¨å¤´åˆ¶é€ ï¼Œè€ŒåŸå ¡çš„æˆ¿é—¨åˆ™å¿…é¡»ä½¿ç”¨çŸ³å¤´åˆ¶é€ ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½ å¯ä»¥åˆ›å»ºå¤šä¸ªä¸åŒçš„ç”Ÿæˆå™¨ï¼Œç”¨ä¸åŒæ–¹å¼å®ç°ä¸€ç»„ç›¸åŒçš„åˆ›å»ºæ­¥éª¤ã€‚ç„¶åä½ å°±å¯ä»¥åœ¨åˆ›å»ºè¿‡ç¨‹ä¸­ä½¿ç”¨è¿™äº›ç”Ÿæˆå™¨ï¼ˆä¾‹å¦‚æŒ‰é¡ºåºè°ƒç”¨å¤šä¸ªæ„é€ æ­¥éª¤ï¼‰æ¥ç”Ÿæˆä¸åŒç±»å‹çš„å¯¹è±¡ã€‚</p>\n<p><strong>ä¸»ç®¡(Director)</strong> :<br>ä½ å¯ä»¥è¿›ä¸€æ­¥å°†ç”¨äºåˆ›å»ºäº§å“çš„ä¸€ç³»åˆ—ç”Ÿæˆå™¨æ­¥éª¤è°ƒç”¨æŠ½å–æˆä¸ºå•ç‹¬çš„ä¸»ç®¡ç±»ã€‚ä¸»ç®¡ç±»å¯å®šä¹‰åˆ›å»ºæ­¥éª¤çš„æ‰§è¡Œé¡ºåºï¼Œè€Œç”Ÿæˆå™¨åˆ™æä¾›è¿™äº›æ­¥éª¤çš„å®ç°ã€‚<br>ä¸¥æ ¼æ¥è¯´ï¼Œä½ çš„ç¨‹åºä¸­å¹¶ä¸ä¸€å®šéœ€è¦ä¸»ç®¡ç±»ã€‚å®¢æˆ·ç«¯ä»£ç å¯ç›´æ¥ä»¥ç‰¹å®šé¡ºåºè°ƒç”¨åˆ›å»ºæ­¥éª¤ã€‚ä¸è¿‡ï¼Œä¸»ç®¡ç±»ä¸­éå¸¸é€‚åˆæ”¾å…¥å„ç§ä¾‹è¡Œæ„é€ æµç¨‹ï¼Œä»¥ä¾¿åœ¨ç¨‹åºä¸­åå¤ä½¿ç”¨ã€‚<br>æ­¤å¤–ï¼Œå¯¹äºå®¢æˆ·ç«¯ä»£ç æ¥è¯´ï¼Œä¸»ç®¡ç±»å®Œå…¨éšè—äº†äº§å“æ„é€ ç»†èŠ‚ã€‚å®¢æˆ·ç«¯åªéœ€è¦å°†ä¸€ä¸ªç”Ÿæˆå™¨ä¸ä¸»ç®¡ç±»å…³è”ï¼Œç„¶åä½¿ç”¨ä¸»ç®¡ç±»æ¥æ„é€ äº§å“ï¼Œå°±èƒ½ä»ç”Ÿæˆå™¨å¤„è·å¾—æ„é€ ç»“æœäº†ã€‚</p>\n<h5 id=\"ç”Ÿæˆå™¨æ¨¡å¼ç»“æ„\"><a href=\"#ç”Ÿæˆå™¨æ¨¡å¼ç»“æ„\" class=\"headerlink\" title=\"ç”Ÿæˆå™¨æ¨¡å¼ç»“æ„\"></a>ç”Ÿæˆå™¨æ¨¡å¼ç»“æ„</h5><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220808164617.png\" alt=\"img\"></p>\n<p>1.<strong>ç”Ÿæˆå™¨(Builder)</strong> æ¥å£å£°æ˜åœ¨æ‰€æœ‰ç±»å‹ç”Ÿæˆå™¨ä¸­é€šç”¨çš„äº§å“æ„é€ æ­¥éª¤ã€‚</p>\n<p>2.<strong>å…·ä½“ç”Ÿæˆå™¨(ConÂ­crete Builders)</strong> æä¾›æ„é€ è¿‡ç¨‹çš„ä¸åŒå®ç°ã€‚å…·ä½“ç”Ÿæˆå™¨ä¹Ÿå¯ä»¥æ„é€ ä¸éµå¾ªé€šç”¨æ¥å£çš„äº§å“ã€‚</p>\n<p>3.<strong>äº§å“(ProdÂ­ucts)</strong> æ˜¯æœ€ç»ˆç”Ÿæˆçš„å¯¹è±¡ã€‚ç”±ä¸åŒç”Ÿæˆå™¨æ„é€ çš„äº§å“æ— éœ€å±äºåŒä¸€ç±»å±‚æ¬¡ç»“æ„æˆ–æ¥å£ã€‚</p>\n<p>4.<strong>ä¸»ç®¡(DirecÂ­tor)</strong> ç±»å®šä¹‰è°ƒç”¨æ„é€ æ­¥éª¤çš„é¡ºåºï¼Œè¿™æ ·ä½ å°±å¯ä»¥åˆ›å»ºå’Œå¤ç”¨ç‰¹å®šçš„äº§å“é…ç½®ã€‚</p>\n<p>5.<strong>å®¢æˆ·ç«¯(Client)</strong> å¿…é¡»å°†æŸä¸ªç”Ÿæˆå™¨å¯¹è±¡ä¸ä¸»ç®¡ç±»å…³è”ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œä½ åªéœ€é€šè¿‡ä¸»ç®¡ç±»æ„é€ å‡½æ•°çš„å‚æ•°è¿›è¡Œä¸€æ¬¡æ€§å…³è”å³å¯ã€‚æ­¤åä¸»ç®¡ç±»å°±èƒ½ä½¿ç”¨ç”Ÿæˆå™¨å¯¹è±¡å®Œæˆåç»­æ‰€æœ‰çš„æ„é€ ä»»åŠ¡ã€‚ä½†åœ¨å®¢æˆ·ç«¯å°†ç”Ÿæˆå™¨å¯¹è±¡ä¼ é€’ç»™ä¸»ç®¡ç±»åˆ¶é€ æ–¹æ³•æ—¶è¿˜æœ‰å¦ä¸€ç§æ–¹å¼ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½ åœ¨ä½¿ç”¨ä¸»ç®¡ç±»ç”Ÿäº§äº§å“æ—¶æ¯æ¬¡éƒ½å¯ä»¥ä½¿ç”¨ä¸åŒçš„ç”Ÿæˆå™¨ã€‚</p>\n<h5 id=\"ä¼ªä»£ç -2\"><a href=\"#ä¼ªä»£ç -2\" class=\"headerlink\" title=\"ä¼ªä»£ç \"></a>ä¼ªä»£ç </h5><p>æ„Ÿè§‰ä¸Šé¢çš„ä¾‹å­å¹¶ä¸æ˜¯å¾ˆç›´æ¥ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸‹é¢æœ‰ä¸€ä¸ªå…³äºç”Ÿæˆå™¨æ¨¡å¼çš„ä¾‹å­æ¼”ç¤ºäº†ä½ å¯ä»¥å¦‚ä½•å¤ç”¨ç›¸åŒçš„å¯¹è±¡æ„é€ ä»£ç æ¥ç”Ÿæˆä¸åŒç±»å‹çš„äº§å“â€”â€”ä¾‹å¦‚æ±½è½¦ï¼ˆCarï¼‰â€”â€”åŠå…¶ç›¸åº”çš„ä½¿ç”¨æ‰‹å†Œï¼ˆManÂ­uÂ­alï¼‰ã€‚<br>ç”Ÿæˆå™¨æ¨¡å¼å¯ä»¥å¾ˆæ–¹ä¾¿çš„å†™å‡º<strong>å®ç°åŒç±»äº§å“ä½†æ˜¯å®ç°æ­¥éª¤ä¸åŒ</strong>ï¼Œå®ƒä¼šå°†ä¸€ä¸ªçš„åˆ¶é€ è¿‡ç¨‹åˆ†ä¸º<strong>ä¸€ç³»åˆ—æ­¥éª¤</strong>ï¼Œç”¨Directorç±»åœ¨ç”Ÿæˆä¸åŒäº§å“çš„æ—¶å€™ä½ å¯ä»¥æ ¹æ®ä¸åŒéœ€æ±‚åœ¨åŒç±»äº§å“é€‰æ‹©ç›¸åº”çš„æ­¥éª¤ï¼Œæ¯”å¦‚Caræœ‰å¾ˆå¤šç§ï¼Œåœ¨Builderæˆ‘ä»¬æœ‰å»ºé€ Carçš„æ‰€æœ‰æ­¥éª¤ï¼Œä½†æ˜¯æ ¹æ®éœ€æ±‚åªéœ€è¦ä½¿ç”¨ä¸€äº›æ­¥éª¤ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨ç›¸åº”çš„Builderç±»ä¸­çš„æ–¹æ³•ï¼Œæˆ‘ä»¬å°½é‡çš„<strong>è¯¦ç»†</strong>ï¼Œè¿™æ ·åœ¨Directorä¸­æˆ‘ä»¬èƒ½å¤Ÿå»ºé€ æ›´å¤šç±»å‹çš„äº§å“ã€‚<br>ä»ç„¶æ˜¯å†™ä¸€ä¸ªå¹¶ä¸æ˜¯å¾ˆä¼ªçš„ä¼ªä»£ç ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220808165345.png\" alt=\"img\"></p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//åªæœ‰å½“äº§å“è¾ƒä¸ºå¤æ‚ä¸”éœ€è¦è¯¦ç»†é…ç½®æ—¶ï¼Œä½¿ç”¨ç”Ÿæˆå™¨æ¨¡å¼æ‰æœ‰æ„ä¹‰</span></span><br><span class=\"line\"><span class=\"comment\">//ç”Ÿæˆå™¨æ¥å£å£°æ˜äº†åˆ›å»ºäº§å“ä¸åŒå¯¹è±¡çš„æ–¹æ³•</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//Productç±»</span></span><br><span class=\"line\"><span class=\"comment\">//ä¸€è¾†è½¦æœ‰å¾ˆå¤šç§ç±»ï¼ŒSUVï¼Œå°è½¿è½¦ç­‰ç­‰</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">Car</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">//...</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//Productç±»</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">Manual</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">//...</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title\">Builder</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">Reset</span>()</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">SetSeats</span>()</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">setEngine</span>()</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//...</span></span><br><span class=\"line\">    </span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">CarBuilder</span> : <span class=\"title\">Builder</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> Car car = <span class=\"keyword\">new</span> Car();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">CarBuilder</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.Reset();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Reset</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.car = <span class=\"keyword\">new</span> Car();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">SetSeats</span>()</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//...</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//å…·ä½“ç”Ÿæˆå™¨éœ€è¦è‡ªè¡Œæä¾›è·å–ç»“æœçš„æ–¹æ³•ã€‚è¿™æ˜¯å› ä¸ºä¸åŒç±»å‹çš„ç”Ÿæˆå™¨å¯èƒ½</span></span><br><span class=\"line\">    <span class=\"comment\">// ä¼šåˆ›å»ºä¸éµå¾ªç›¸åŒæ¥å£çš„ã€å®Œå…¨ä¸åŒçš„äº§å“ã€‚æ‰€ä»¥ä¹Ÿå°±æ— æ³•åœ¨ç”Ÿæˆå™¨æ¥å£ä¸­</span></span><br><span class=\"line\">    <span class=\"comment\">// å£°æ˜è¿™äº›æ–¹æ³•ï¼ˆè‡³å°‘åœ¨é™æ€ç±»å‹çš„ç¼–ç¨‹è¯­è¨€ä¸­æ˜¯è¿™æ ·çš„ï¼‰ã€‚</span></span><br><span class=\"line\">    <span class=\"comment\">//é€šå¸¸åœ¨ç”Ÿæˆå™¨å®ä¾‹å°†ç»“æœè¿”å›ç»™å®¢æˆ·ç«¯åï¼Œå®ƒä»¬åº”è¯¥åšå¥½ç”Ÿæˆå¦ä¸€ä¸ªäº§å“çš„å‡†å¤‡</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> Car <span class=\"title\">getResult</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Car result = <span class=\"keyword\">this</span>.car;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">this</span>.Reset();</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">CarManualBuilder</span> : <span class=\"title\">Builder</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> Manual manual = <span class=\"keyword\">new</span> Manual();</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">CarManualBuilder</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.Reset();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Reset</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.manual = <span class=\"keyword\">new</span> Manual();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">SetSeats</span>()</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//...</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> Manual <span class=\"title\">getResult</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Manual result = <span class=\"keyword\">this</span>.manual;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">this</span>.Reset();</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//ä¸»ç®¡ç±»åªè´Ÿè´£æŒ‰ç…§ç‰¹å®šé¡ºåºæ‰§è¡Œç”Ÿæˆæ­¥éª¤</span></span><br><span class=\"line\"><span class=\"comment\">//ç”±äºå®¢æˆ·ç«¯å¯ä»¥ç›´æ¥æ§åˆ¶ç”Ÿæˆå™¨ï¼Œæ‰€ä»¥ä¸¥æ ¼æ„ä¹‰ä¸Šæ¥è¯´ä¸»ç®¡ç±»å¹¶ä¸æ˜¯å¿…éœ€çš„ã€‚</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">Director</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> Builder _builder;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> Builder builder</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">set</span>&#123; _builder = <span class=\"keyword\">value</span>;&#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">MakeSUV</span>(<span class=\"params\">Builder builder</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._builder.Reset();</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._builder.setSeat(...);</span><br><span class=\"line\">        <span class=\"comment\">//...</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">MakeSportCar</span>(<span class=\"params\">Builder builder</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._builder.Reset();</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._builder.setSeat(...);</span><br><span class=\"line\">        <span class=\"comment\">//...</span></span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//å®¢æˆ·ç«¯ç±»</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">Client</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    Director director = <span class=\"keyword\">new</span> Director();</span><br><span class=\"line\"></span><br><span class=\"line\">    CarBuilder builder = <span class=\"keyword\">new</span> CarBuilder();</span><br><span class=\"line\"></span><br><span class=\"line\">    director.MakeSportsCar(builder);</span><br><span class=\"line\"></span><br><span class=\"line\">    Car car = builder.getResult();</span><br><span class=\"line\"></span><br><span class=\"line\">    CarManualBuilder builder = <span class=\"keyword\">new</span> CarManualBuilder();</span><br><span class=\"line\">    director.MakeSportsCar(builder);</span><br><span class=\"line\"></span><br><span class=\"line\">    Manual manual = builder.GetResult();</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"é€‚åˆç”Ÿæˆå™¨æ¨¡å¼çš„åœ°æ–¹\"><a href=\"#é€‚åˆç”Ÿæˆå™¨æ¨¡å¼çš„åœ°æ–¹\" class=\"headerlink\" title=\"é€‚åˆç”Ÿæˆå™¨æ¨¡å¼çš„åœ°æ–¹\"></a>é€‚åˆç”Ÿæˆå™¨æ¨¡å¼çš„åœ°æ–¹</h5><ul>\n<li>ä½¿ç”¨ç”Ÿæˆå™¨æ¨¡å¼å¯é¿å… <strong>â€œé‡å æ„é€ å‡½æ•° (teleÂ­scopÂ­ing conÂ­strucÂ­tor)â€</strong> çš„å‡ºç°ã€‚å³ä¸‹åˆ—ä»£ç </li>\n</ul>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">Pizza</span> &#123;</span><br><span class=\"line\">    Pizza(<span class=\"built_in\">int</span> size) &#123; ... &#125;</span><br><span class=\"line\">    Pizza(<span class=\"built_in\">int</span> size, boolean cheese) &#123; ... &#125;</span><br><span class=\"line\">    Pizza(<span class=\"built_in\">int</span> size, boolean cheese, boolean pepperoni) &#123; ... &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>å½“ä½ å¸Œæœ›ä½¿ç”¨ä»£ç <strong>åˆ›å»ºä¸åŒå½¢å¼çš„äº§å“</strong> ï¼ˆä¾‹å¦‚çŸ³å¤´æˆ–æœ¨å¤´æˆ¿å±‹ï¼‰ æ—¶ï¼Œå¯ä½¿ç”¨ç”Ÿæˆå™¨æ¨¡å¼ã€‚</li>\n<li>ä½¿ç”¨ç”Ÿæˆå™¨æ„é€ ç»„åˆæ ‘æˆ–å…¶ä»–å¤æ‚å¯¹è±¡ã€‚ç”Ÿæˆå™¨æ¨¡å¼è®©ä½ èƒ½åˆ†æ­¥éª¤æ„é€ äº§å“ã€‚ä½ å¯ä»¥å»¶è¿Ÿæ‰§è¡ŒæŸäº›æ­¥éª¤è€Œä¸ä¼šå½±å“æœ€ç»ˆäº§å“ã€‚ä½ ç”šè‡³å¯ä»¥é€’å½’è°ƒç”¨è¿™äº›æ­¥éª¤ï¼Œè¿™åœ¨åˆ›å»ºå¯¹è±¡æ ‘æ—¶éå¸¸æ–¹ä¾¿ã€‚<strong>ç”Ÿæˆå™¨åœ¨æ‰§è¡Œåˆ¶é€ æ­¥éª¤æ—¶ï¼Œä¸èƒ½å¯¹å¤–å‘å¸ƒæœªå®Œæˆçš„äº§å“</strong>ã€‚è¿™å¯ä»¥é¿å…å®¢æˆ·ç«¯ä»£ç è·å–åˆ°ä¸å®Œæ•´ç»“æœå¯¹è±¡çš„æƒ…å†µã€‚</li>\n</ul>\n<h5 id=\"ç”Ÿæˆå™¨æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"><a href=\"#ç”Ÿæˆå™¨æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\" class=\"headerlink\" title=\"ç”Ÿæˆå™¨æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"></a>ç”Ÿæˆå™¨æ¨¡å¼çš„ä¼˜ç¼ºç‚¹</h5><p><strong>ä¼˜ç‚¹</strong> :</p>\n<ul>\n<li>ä½ å¯ä»¥åˆ†æ­¥åˆ›å»ºå¯¹è±¡ï¼Œæš‚ç¼“åˆ›å»ºæ­¥éª¤æˆ–é€’å½’è¿è¡Œåˆ›å»ºæ­¥éª¤ã€‚</li>\n<li>ç”Ÿæˆä¸åŒå½¢å¼çš„äº§å“æ—¶ï¼Œä½ å¯ä»¥å¤ç”¨ç›¸åŒçš„åˆ¶é€ ä»£ç ã€‚</li>\n<li>ç¬¦åˆSRP</li>\n</ul>\n<p><strong>ç¼ºç‚¹</strong> :</p>\n<ul>\n<li>ç”±äºè¯¥æ¨¡å¼éœ€è¦æ–°å¢å¤šä¸ªç±»ï¼Œ å› æ­¤ä»£ç æ•´ä½“å¤æ‚ç¨‹åº¦ä¼šæœ‰æ‰€å¢åŠ ã€‚</li>\n</ul>\n<h4 id=\"Prototype-åŸå‹æ¨¡å¼\"><a href=\"#Prototype-åŸå‹æ¨¡å¼\" class=\"headerlink\" title=\"Prototype(åŸå‹æ¨¡å¼)\"></a>Prototype(åŸå‹æ¨¡å¼)</h4><p>åŸå‹æ¨¡å¼æ˜¯ä¸€ç§åˆ›å»ºå‹è®¾è®¡æ¨¡å¼ï¼Œä½¿ä½ èƒ½å¤Ÿå¤åˆ¶å·²æœ‰å¯¹è±¡ï¼Œè€Œåˆæ— éœ€ä½¿ä»£ç ä¾èµ–å®ƒä»¬æ‰€å±çš„ç±»ã€‚(å³å½“ä½ éœ€è¦ä¸€ä¸ªç›¸åŒçš„ç±»ï¼Œä½†æ˜¯é‡æ–°è®¾ç½®å‚æ•°å¾ˆç¹çï¼ŒåŸå‹æ¨¡å¼èƒ½è®©ä½ å¾ˆå¿«åœ°åˆ›é€ ä¸€ä¸ªæ–°çš„é™¤äº†åå­—ä¸ä¸€æ ·å…¶ä»–ä¸€æ‘¸ä¸€æ ·çš„å˜é‡)</p>\n<h5 id=\"é—®é¢˜-3\"><a href=\"#é—®é¢˜-3\" class=\"headerlink\" title=\"é—®é¢˜\"></a>é—®é¢˜</h5><p>å¦‚æœä½ æœ‰ä¸€ä¸ªå¯¹è±¡ï¼Œå¹¶å¸Œæœ›ç”Ÿæˆä¸å…¶å®Œå…¨ç›¸åŒçš„ä¸€ä¸ªå¤åˆ¶å“ï¼Œä½ è¯¥å¦‚ä½•å®ç°å‘¢ï¼Ÿé¦–å…ˆï¼Œä½ å¿…é¡»æ–°å»ºä¸€ä¸ªå±äºç›¸åŒç±»çš„å¯¹è±¡ã€‚ç„¶åï¼Œä½ å¿…é¡»éå†åŸå§‹å¯¹è±¡çš„æ‰€æœ‰æˆå‘˜å˜é‡ï¼Œå¹¶å°†æˆå‘˜å˜é‡å€¼å¤åˆ¶åˆ°æ–°å¯¹è±¡ä¸­ã€‚ä½†æœ‰ä¸ªå°é—®é¢˜ã€‚å¹¶éæ‰€æœ‰å¯¹è±¡éƒ½èƒ½é€šè¿‡è¿™ç§æ–¹å¼è¿›è¡Œå¤åˆ¶ï¼Œå› ä¸ºæœ‰äº›å¯¹è±¡å¯èƒ½æ‹¥æœ‰ç§æœ‰æˆå‘˜å˜é‡ï¼Œå®ƒä»¬åœ¨å¯¹è±¡æœ¬èº«ä»¥å¤–æ˜¯ä¸å¯è§çš„ã€‚</p>\n<p>ç›´æ¥å¤åˆ¶è¿˜æœ‰å¦å¤–ä¸€ä¸ªé—®é¢˜ã€‚å› ä¸ºä½ å¿…é¡»çŸ¥é“å¯¹è±¡æ‰€å±çš„ç±»æ‰èƒ½åˆ›å»ºå¤åˆ¶å“ï¼Œæ‰€ä»¥ä»£ç å¿…é¡»ä¾èµ–è¯¥ç±»ã€‚å³ä½¿ä½ å¯ä»¥æ¥å—é¢å¤–çš„ä¾èµ–æ€§ï¼Œé‚£è¿˜æœ‰å¦å¤–ä¸€ä¸ªé—®é¢˜ï¼šæœ‰æ—¶ä½ åªçŸ¥é“å¯¹è±¡æ‰€å®ç°çš„æ¥å£ï¼Œè€Œä¸çŸ¥é“å…¶æ‰€å±çš„å…·ä½“ç±»ï¼Œæ¯”å¦‚å¯å‘æ–¹æ³•çš„æŸä¸ªå‚æ•°ä¼ å…¥å®ç°äº†æŸä¸ªæ¥å£çš„ä»»ä½•å¯¹è±¡ã€‚</p>\n<h5 id=\"è§£å†³æ–¹æ¡ˆ-3\"><a href=\"#è§£å†³æ–¹æ¡ˆ-3\" class=\"headerlink\" title=\"è§£å†³æ–¹æ¡ˆ\"></a>è§£å†³æ–¹æ¡ˆ</h5><p>åŸå‹æ¨¡å¼å°†å…‹éš†è¿‡ç¨‹å§”æ´¾ç»™è¢«å…‹éš†çš„å®é™…å¯¹è±¡ã€‚æ¨¡å¼ä¸ºæ‰€æœ‰æ”¯æŒå…‹éš†çš„å¯¹è±¡å£°æ˜äº†ä¸€ä¸ªé€šç”¨æ¥å£ï¼Œè¯¥æ¥å£è®©ä½ èƒ½å¤Ÿå…‹éš†å¯¹è±¡ï¼ŒåŒæ—¶åˆæ— éœ€å°†ä»£ç å’Œå¯¹è±¡æ‰€å±ç±»è€¦åˆã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œè¿™æ ·çš„æ¥å£ä¸­ä»…åŒ…å«ä¸€ä¸ª<strong>å…‹éš†æ–¹æ³•</strong>ã€‚</p>\n<p>æ‰€æœ‰çš„ç±»å¯¹ç»§æ‰¿çš„é€šç”¨æ¥å£çš„å…‹éš†æ–¹æ³•å®ç°éƒ½éå¸¸ç›¸ä¼¼ã€‚éƒ½æ˜¯åˆ›å»ºä¸€ä¸ªå½“å‰ç±»çš„å¯¹è±¡ï¼Œç„¶åè¿”å›ä¸€ä¸ªç±»â€”â€”å³ return new Class(this);é€šå¸¸åœ¨æ„é€ å‡½æ•°ä¸­å…ˆå†™å¥½åˆå§‹åŒ–çš„æ ·å¼ã€‚</p>\n<p>å…¶å®åœ¨c#è¯­è¨€ä¸­å·²ç»æœ‰æä¾›çš„<strong>ICloneableæ¥å£</strong>è¿›è¡Œå¤åˆ¶,å°±æ˜¯ç«‹å³å¯ç”¨çš„åŸå‹æ¨¡å¼ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥ä»ç„¶å»çœ‹çœ‹å¹¶ä¸”ç†è§£è¿™ä¸ªæ¨¡å¼æ˜¯å¦‚ä½•è¿è¡Œçš„ã€‚</p>\n<h5 id=\"åŸå‹ç»“æ„æ¨¡å¼\"><a href=\"#åŸå‹ç»“æ„æ¨¡å¼\" class=\"headerlink\" title=\"åŸå‹ç»“æ„æ¨¡å¼\"></a>åŸå‹ç»“æ„æ¨¡å¼</h5><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220809232541.png\" alt=\"img\"></p>\n<p>1.<strong>åŸå‹(ProÂ­toÂ­type)</strong> æ¥å£å°†å¯¹å…‹éš†æ–¹æ³•è¿›è¡Œå£°æ˜ã€‚åœ¨ç»å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œå…¶ä¸­åªä¼šæœ‰ä¸€ä¸ªåä¸º cloneå…‹éš†çš„æ–¹æ³•ã€‚</p>\n<p>2.<strong>å…·ä½“åŸå‹(ConÂ­crete ProÂ­toÂ­type)</strong> ç±»å°†å®ç°å…‹éš†æ–¹æ³•ã€‚é™¤äº†å°†åŸå§‹å¯¹è±¡çš„æ•°æ®å¤åˆ¶åˆ°å…‹éš†ä½“ä¸­ä¹‹å¤–ï¼Œè¯¥æ–¹æ³•æœ‰æ—¶è¿˜éœ€å¤„ç†å…‹éš†è¿‡ç¨‹ä¸­çš„æç«¯æƒ…å†µï¼Œä¾‹å¦‚å…‹éš†å…³è”å¯¹è±¡å’Œæ¢³ç†é€’å½’ä¾èµ–ç­‰ç­‰ã€‚</p>\n<p>3.<strong>å®¢æˆ·ç«¯(Client)</strong> å¯ä»¥å¤åˆ¶å®ç°äº†åŸå‹æ¥å£çš„ä»»ä½•å¯¹è±¡ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220809233359.png\" alt=\"img\"></p>\n<p>1.<strong>åŸå‹æ³¨å†Œè¡¨(ProÂ­toÂ­type RegÂ­istry)</strong> æä¾›äº†ä¸€ç§è®¿é—®å¸¸ç”¨åŸå‹çš„ç®€å•æ–¹æ³•ï¼Œå…¶ä¸­å­˜å‚¨äº†ä¸€ç³»åˆ—å¯ä¾›éšæ—¶å¤åˆ¶çš„é¢„ç”Ÿæˆå¯¹è±¡ã€‚æœ€ç®€å•çš„æ³¨å†Œè¡¨åŸå‹æ˜¯ä¸€ä¸ªåç§° â†’ åŸå‹çš„å“ˆå¸Œè¡¨ã€‚ä½†å¦‚æœéœ€è¦ä½¿ç”¨åç§°ä»¥å¤–çš„æ¡ä»¶è¿›è¡Œæœç´¢ï¼Œä½ å¯ä»¥åˆ›å»ºæ›´åŠ å®Œå–„çš„æ³¨å†Œè¡¨ç‰ˆæœ¬ã€‚</p>\n<h5 id=\"ä¼ªä»£ç -3\"><a href=\"#ä¼ªä»£ç -3\" class=\"headerlink\" title=\"ä¼ªä»£ç \"></a>ä¼ªä»£ç </h5><p>æˆ‘ä¼šåœ¨è¿™é‡Œé™„ä¸Šä¸€ä»½ä¼ªä»£ç ä»¥åŠc#å®˜æ–¹æä¾›çš„ä»£ç é¡ºä¾¿å­¦ä¹ è¿™ä¸ªæ¥å£ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220809233553.png\" alt=\"img\"></p>\n<p><strong>ä¸€ä»½ä¼ªä»£ç </strong> : é€šè¿‡é˜…è¯»å¯ä»¥å¿«é€Ÿäº†è§£æ˜¯å¦‚ä½•cloneçš„</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// åŸºç¡€åŸå‹ã€‚</span></span><br><span class=\"line\"><span class=\"keyword\">abstract</span> <span class=\"keyword\">class</span> <span class=\"title\">Shape</span> <span class=\"title\">is</span></span><br><span class=\"line\">    <span class=\"title\">field</span> <span class=\"title\">X</span>: <span class=\"title\">int</span></span><br><span class=\"line\">    <span class=\"title\">field</span> <span class=\"title\">Y</span>: <span class=\"title\">int</span></span><br><span class=\"line\">    <span class=\"title\">field</span> <span class=\"title\">color</span>: <span class=\"title\">string</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// å¸¸è§„æ„é€ å‡½æ•°ã€‚</span></span><br><span class=\"line\">    <span class=\"title\">constructor</span> <span class=\"title\">Shape</span>() <span class=\"title\">is</span></span><br><span class=\"line\">        <span class=\"comment\">// ...</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// åŸå‹æ„é€ å‡½æ•°ã€‚ä½¿ç”¨å·²æœ‰å¯¹è±¡çš„æ•°å€¼æ¥åˆå§‹åŒ–ä¸€ä¸ªæ–°å¯¹è±¡ã€‚</span></span><br><span class=\"line\">    <span class=\"title\">constructor</span> <span class=\"title\">Shape</span>(<span class=\"title\">source</span>: <span class=\"title\">Shape</span>) <span class=\"title\">is</span></span><br><span class=\"line\">        <span class=\"title\">this</span>()</span><br><span class=\"line\">        <span class=\"title\">this.X</span> = source.X</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.Y = source.Y</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.color = source.color</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// cloneï¼ˆå…‹éš†ï¼‰æ“ä½œä¼šè¿”å›ä¸€ä¸ªå½¢çŠ¶å­ç±»ã€‚</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">abstract</span> method <span class=\"title\">clone</span>():Shape</span></span><br><span class=\"line\"><span class=\"function\"></span></span><br><span class=\"line\"><span class=\"function\"></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"comment\">// å…·ä½“åŸå‹ã€‚å…‹éš†æ–¹æ³•ä¼šåˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡å¹¶å°†å…¶ä¼ é€’ç»™æ„é€ å‡½æ•°ã€‚ç›´åˆ°æ„é€ å‡½æ•°è¿</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"comment\">// è¡Œå®Œæˆå‰ï¼Œå®ƒéƒ½æ‹¥æœ‰æŒ‡å‘æ–°å…‹éš†å¯¹è±¡çš„å¼•ç”¨ã€‚å› æ­¤ï¼Œä»»ä½•äººéƒ½æ— æ³•è®¿é—®æœªå®Œå…¨ç”Ÿ</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"comment\">// æˆçš„å…‹éš†å¯¹è±¡ã€‚è¿™å¯ä»¥ä¿æŒå…‹éš†ç»“æœçš„ä¸€è‡´ã€‚</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">class</span> Rectangle extends Shape <span class=\"keyword\">is</span></span></span><br><span class=\"line\"><span class=\"function\">    field width: <span class=\"built_in\">int</span></span></span><br><span class=\"line\"><span class=\"function\">    field height: <span class=\"built_in\">int</span></span></span><br><span class=\"line\"><span class=\"function\"></span></span><br><span class=\"line\"><span class=\"function\">    constructor <span class=\"title\">Rectangle</span>(<span class=\"params\">source: Rectangle</span>) <span class=\"keyword\">is</span></span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"comment\">// éœ€è¦è°ƒç”¨çˆ¶æ„é€ å‡½æ•°æ¥å¤åˆ¶çˆ¶ç±»ä¸­å®šä¹‰çš„ç§æœ‰æˆå‘˜å˜é‡ã€‚</span></span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"title\">super</span>(<span class=\"params\">source</span>)</span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"keyword\">this</span>.width</span> = source.width</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.height = source.<span class=\"function\">height</span></span><br><span class=\"line\"><span class=\"function\"></span></span><br><span class=\"line\"><span class=\"function\">    method <span class=\"title\">clone</span>():Shape <span class=\"keyword\">is</span></span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title\">Rectangle</span>(<span class=\"params\"><span class=\"keyword\">this</span></span>)</span></span><br><span class=\"line\"><span class=\"function\"></span></span><br><span class=\"line\"><span class=\"function\"></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">class</span> Circle extends Shape <span class=\"keyword\">is</span></span></span><br><span class=\"line\"><span class=\"function\">    field radius: <span class=\"built_in\">int</span></span></span><br><span class=\"line\"><span class=\"function\"></span></span><br><span class=\"line\"><span class=\"function\">    constructor <span class=\"title\">Circle</span>(<span class=\"params\">source: Circle</span>) <span class=\"keyword\">is</span></span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"title\">super</span>(<span class=\"params\">source</span>)</span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"keyword\">this</span>.radius</span> = source.<span class=\"function\">radius</span></span><br><span class=\"line\"><span class=\"function\"></span></span><br><span class=\"line\"><span class=\"function\">    method <span class=\"title\">clone</span>():Shape <span class=\"keyword\">is</span></span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title\">Circle</span>(<span class=\"params\"><span class=\"keyword\">this</span></span>)</span></span><br><span class=\"line\"><span class=\"function\"></span></span><br><span class=\"line\"><span class=\"function\"></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"comment\">// å®¢æˆ·ç«¯ä»£ç ä¸­çš„æŸä¸ªä½ç½®ã€‚</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">class</span> Application <span class=\"keyword\">is</span></span></span><br><span class=\"line\"><span class=\"function\">    field shapes: array of Shape</span></span><br><span class=\"line\"><span class=\"function\"></span></span><br><span class=\"line\"><span class=\"function\">    constructor <span class=\"title\">Application</span>() <span class=\"keyword\">is</span></span></span><br><span class=\"line\"><span class=\"function\">        Circle circle</span> = <span class=\"keyword\">new</span> Circle()</span><br><span class=\"line\">        circle.X = <span class=\"number\">10</span></span><br><span class=\"line\">        circle.Y = <span class=\"number\">10</span></span><br><span class=\"line\">        circle.radius = <span class=\"number\">20</span></span><br><span class=\"line\">        shapes.<span class=\"keyword\">add</span>(circle)</span><br><span class=\"line\"></span><br><span class=\"line\">        Circle anotherCircle = circle.clone()</span><br><span class=\"line\">        shapes.<span class=\"keyword\">add</span>(anotherCircle)</span><br><span class=\"line\">        <span class=\"comment\">// å˜é‡ `anotherCircleï¼ˆå¦ä¸€ä¸ªåœ†ï¼‰`ä¸ `circleï¼ˆåœ†ï¼‰`å¯¹è±¡çš„å†…</span></span><br><span class=\"line\">        <span class=\"comment\">// å®¹å®Œå…¨ä¸€æ ·ã€‚</span></span><br><span class=\"line\"></span><br><span class=\"line\">        Rectangle rectangle = <span class=\"keyword\">new</span> Rectangle()</span><br><span class=\"line\">        rectangle.width = <span class=\"number\">10</span></span><br><span class=\"line\">        rectangle.height = <span class=\"number\">20</span></span><br><span class=\"line\">        shapes.<span class=\"keyword\">add</span>(rectangle)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\">method <span class=\"title\">businessLogic</span>() <span class=\"keyword\">is</span></span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"comment\">// åŸå‹æ˜¯å¾ˆå¼ºå¤§çš„ä¸œè¥¿ï¼Œå› ä¸ºå®ƒèƒ½åœ¨ä¸çŸ¥æ™“å¯¹è±¡ç±»å‹çš„æƒ…å†µä¸‹ç”Ÿæˆä¸€ä¸ªä¸</span></span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"comment\">// å…¶å®Œå…¨ç›¸åŒçš„å¤åˆ¶å“ã€‚</span></span></span><br><span class=\"line\"><span class=\"function\">        Array shapesCopy</span> = <span class=\"keyword\">new</span> Array of Shapes.</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// ä¾‹å¦‚ï¼Œæˆ‘ä»¬ä¸çŸ¥æ™“å½¢çŠ¶æ•°ç»„ä¸­å…ƒç´ çš„å…·ä½“ç±»å‹ï¼ŒåªçŸ¥é“å®ƒä»¬éƒ½æ˜¯å½¢çŠ¶ã€‚</span></span><br><span class=\"line\">        <span class=\"comment\">// ä½†åœ¨å¤šæ€æœºåˆ¶çš„å¸®åŠ©ä¸‹ï¼Œå½“æˆ‘ä»¬åœ¨æŸä¸ªå½¢çŠ¶ä¸Šè°ƒç”¨ `cloneï¼ˆå…‹éš†ï¼‰`</span></span><br><span class=\"line\">        <span class=\"comment\">// æ–¹æ³•æ—¶ï¼Œç¨‹åºä¼šæ£€æŸ¥å…¶æ‰€å±çš„ç±»å¹¶è°ƒç”¨å…¶ä¸­æ‰€å®šä¹‰çš„å…‹éš†æ–¹æ³•ã€‚è¿™æ ·ï¼Œ</span></span><br><span class=\"line\">        <span class=\"comment\">// æˆ‘ä»¬å°†è·å¾—ä¸€ä¸ªæ­£ç¡®çš„å¤åˆ¶å“ï¼Œè€Œä¸æ˜¯ä¸€ç»„ç®€å•çš„å½¢çŠ¶å¯¹è±¡ã€‚</span></span><br><span class=\"line\">        <span class=\"keyword\">foreach</span> (s <span class=\"keyword\">in</span> shapes) <span class=\"keyword\">do</span></span><br><span class=\"line\">            shapesCopy.<span class=\"keyword\">add</span>(s.clone())</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// `shapesCopyï¼ˆå½¢çŠ¶å‰¯æœ¬ï¼‰`æ•°ç»„ä¸­åŒ…å« `shapeï¼ˆå½¢çŠ¶ï¼‰`æ•°ç»„æ‰€æœ‰</span></span><br><span class=\"line\">        <span class=\"comment\">// å­å…ƒç´ çš„å¤åˆ¶å“ã€‚</span></span><br></pre></td></tr></table></figure>\n\n<p><strong>c#æä¾›çš„ICloneableæ¥å£çš„ä»£ç </strong> : é€šè¿‡è¿™é‡Œæˆ‘ä»¬å¯ä»¥çœ‹è§ä¸éœ€è¦å†™æ„é€ å‡½æ•°ï¼Œåªéœ€è¦ç”¨åˆ°<strong>MemberwiseClone</strong>è¿™ä¸ªå‡½æ•°å°±å¯ä»¥å¾ˆå¿«åœ°å®Œæˆ</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">using</span> System;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">RefactoringGuru.DesignPatterns.Prototype.Conceptual</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">Person</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">public</span> <span class=\"built_in\">int</span> Age;</span><br><span class=\"line\">        <span class=\"keyword\">public</span> DateTime BirthDate;</span><br><span class=\"line\">        <span class=\"keyword\">public</span> <span class=\"built_in\">string</span> Name;</span><br><span class=\"line\">        <span class=\"keyword\">public</span> IdInfo IdInfo;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">//æµ…å¤åˆ¶ï¼Œåªå¤åˆ¶æŒ‡å‘æŸä¸ªå¯¹è±¡çš„æŒ‡é’ˆï¼Œè€Œä¸å¤åˆ¶å¯¹è±¡æœ¬èº«ï¼Œæ–°æ—§å¯¹è±¡è¿˜æ˜¯å…±äº«ä¸€å—å†…å­˜</span></span><br><span class=\"line\">        <span class=\"comment\">//ä¹Ÿå°±æ˜¯è¯´ä¸ç®¡æ˜¯ä¿®æ”¹åŸå¯¹è±¡è¿˜æ˜¯æ–°å¯¹è±¡ä¸¤ä¸ªéƒ½ä¼šä¸€èµ·æ”¹å˜</span></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> Person <span class=\"title\">ShallowCopy</span>()</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> (Person)<span class=\"keyword\">this</span>.MemberwiseClone();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">//æ·±å¤åˆ¶ï¼Œä¼šåˆ›é€ ä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œä½†ä¸ä¸äºåŸå¯¹è±¡å…±äº«å†…å­˜</span></span><br><span class=\"line\">        <span class=\"comment\">//ä¿®æ”¹æ–°æ—§å¯¹è±¡äº’ä¸å½±å“</span></span><br><span class=\"line\">        <span class=\"comment\">//æ‰€ä»¥æˆ‘ä»¬å¯ä»¥è®¤è¯†åˆ°åŸå‹æ¨¡å¼æ˜¯æ·±å¤åˆ¶</span></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> Person <span class=\"title\">DeepCopy</span>()</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            Person clone = (Person)<span class=\"keyword\">this</span>.MemberwiseClone();</span><br><span class=\"line\">            clone.IdInfo = <span class=\"keyword\">new</span> IdInfo(IdInfo.IdNumber);</span><br><span class=\"line\">            clone.Name = String.Copy(Name);</span><br><span class=\"line\">            <span class=\"keyword\">return</span> clone;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">IdInfo</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">public</span> <span class=\"built_in\">int</span> IdNumber;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">IdInfo</span>(<span class=\"params\"><span class=\"built_in\">int</span> idNumber</span>)</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">this</span>.IdNumber = idNumber;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//æµ‹è¯•ä¾‹å­ï¼Œé€šè¿‡ä¾‹å­æˆ‘ä»¬å¯ä»¥å¿«é€Ÿçš„ç†è§£æ·±å¤åˆ¶ä¸æµ…å¤åˆ¶ä¹‹é—´çš„åŒºåˆ«</span></span><br><span class=\"line\">    <span class=\"keyword\">class</span> <span class=\"title\">Program</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">Main</span>(<span class=\"params\"><span class=\"built_in\">string</span>[] args</span>)</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            Person p1 = <span class=\"keyword\">new</span> Person();</span><br><span class=\"line\">            p1.Age = <span class=\"number\">42</span>;</span><br><span class=\"line\">            p1.BirthDate = Convert.ToDateTime(<span class=\"string\">&quot;1977-01-01&quot;</span>);</span><br><span class=\"line\">            p1.Name = <span class=\"string\">&quot;Jack Daniels&quot;</span>;</span><br><span class=\"line\">            p1.IdInfo = <span class=\"keyword\">new</span> IdInfo(<span class=\"number\">666</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\">// Perform a shallow copy of p1 and assign it to p2.</span></span><br><span class=\"line\">            Person p2 = p1.ShallowCopy();</span><br><span class=\"line\">            <span class=\"comment\">// Make a deep copy of p1 and assign it to p3.</span></span><br><span class=\"line\">            Person p3 = p1.DeepCopy();</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\">// Display values of p1, p2 and p3.</span></span><br><span class=\"line\">            Console.WriteLine(<span class=\"string\">&quot;Original values of p1, p2, p3:&quot;</span>);</span><br><span class=\"line\">            Console.WriteLine(<span class=\"string\">&quot;   p1 instance values: &quot;</span>);</span><br><span class=\"line\">            DisplayValues(p1);</span><br><span class=\"line\">            Console.WriteLine(<span class=\"string\">&quot;   p2 instance values:&quot;</span>);</span><br><span class=\"line\">            DisplayValues(p2);</span><br><span class=\"line\">            Console.WriteLine(<span class=\"string\">&quot;   p3 instance values:&quot;</span>);</span><br><span class=\"line\">            DisplayValues(p3);</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\">// Change the value of p1 properties and display the values of p1,</span></span><br><span class=\"line\">            <span class=\"comment\">// p2 and p3.</span></span><br><span class=\"line\">            p1.Age = <span class=\"number\">32</span>;</span><br><span class=\"line\">            p1.BirthDate = Convert.ToDateTime(<span class=\"string\">&quot;1900-01-01&quot;</span>);</span><br><span class=\"line\">            p1.Name = <span class=\"string\">&quot;Frank&quot;</span>;</span><br><span class=\"line\">            p1.IdInfo.IdNumber = <span class=\"number\">7878</span>;</span><br><span class=\"line\">            Console.WriteLine(<span class=\"string\">&quot;\\nValues of p1, p2 and p3 after changes to p1:&quot;</span>);</span><br><span class=\"line\">            Console.WriteLine(<span class=\"string\">&quot;   p1 instance values: &quot;</span>);</span><br><span class=\"line\">            DisplayValues(p1);</span><br><span class=\"line\">            Console.WriteLine(<span class=\"string\">&quot;   p2 instance values (reference values have changed):&quot;</span>);</span><br><span class=\"line\">            DisplayValues(p2);</span><br><span class=\"line\">            Console.WriteLine(<span class=\"string\">&quot;   p3 instance values (everything was kept the same):&quot;</span>);</span><br><span class=\"line\">            DisplayValues(p3);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">DisplayValues</span>(<span class=\"params\">Person p</span>)</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            Console.WriteLine(<span class=\"string\">&quot;      Name: &#123;0:s&#125;, Age: &#123;1:d&#125;, BirthDate: &#123;2:MM/dd/yy&#125;&quot;</span>,</span><br><span class=\"line\">                p.Name, p.Age, p.BirthDate);</span><br><span class=\"line\">            Console.WriteLine(<span class=\"string\">&quot;      ID#: &#123;0:d&#125;&quot;</span>, p.IdInfo.IdNumber);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// The example displays the following output:</span></span><br><span class=\"line\"><span class=\"comment\">//       Original values of p1 and p2:</span></span><br><span class=\"line\"><span class=\"comment\">//          p1 instance values:</span></span><br><span class=\"line\"><span class=\"comment\">//             Name: Sam, Age: 42</span></span><br><span class=\"line\"><span class=\"comment\">//             Value: 6565</span></span><br><span class=\"line\"><span class=\"comment\">//          p2 instance values:</span></span><br><span class=\"line\"><span class=\"comment\">//             Name: Sam, Age: 42</span></span><br><span class=\"line\"><span class=\"comment\">//             Value: 6565</span></span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\"><span class=\"comment\">//       Values of p1 and p2 after changes to p1:</span></span><br><span class=\"line\"><span class=\"comment\">//          p1 instance values:</span></span><br><span class=\"line\"><span class=\"comment\">//             Name: Frank, Age: 32</span></span><br><span class=\"line\"><span class=\"comment\">//             Value: 7878</span></span><br><span class=\"line\"><span class=\"comment\">//          p2 instance values:</span></span><br><span class=\"line\"><span class=\"comment\">//             Name: Sam, Age: 42</span></span><br><span class=\"line\"><span class=\"comment\">//             Value: 7878</span></span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\"><span class=\"comment\">//       Values of p1 and p3 after changes to p1:</span></span><br><span class=\"line\"><span class=\"comment\">//          p1 instance values:</span></span><br><span class=\"line\"><span class=\"comment\">//             Name: George, Age: 39</span></span><br><span class=\"line\"><span class=\"comment\">//             Value: 8641</span></span><br><span class=\"line\"><span class=\"comment\">//          p3 instance values:</span></span><br><span class=\"line\"><span class=\"comment\">//             Name: Frank, Age: 32</span></span><br><span class=\"line\"><span class=\"comment\">//             Value: 7878</span></span><br></pre></td></tr></table></figure>\n\n<h5 id=\"é€‚åˆåŸå‹æ¨¡å¼çš„åœ°æ–¹\"><a href=\"#é€‚åˆåŸå‹æ¨¡å¼çš„åœ°æ–¹\" class=\"headerlink\" title=\"é€‚åˆåŸå‹æ¨¡å¼çš„åœ°æ–¹\"></a>é€‚åˆåŸå‹æ¨¡å¼çš„åœ°æ–¹</h5><ul>\n<li><p>å¦‚æœä½ éœ€è¦å¤åˆ¶ä¸€äº›å¯¹è±¡ï¼ŒåŒæ—¶åˆå¸Œæœ›ä»£ç ç‹¬ç«‹äºè¿™äº›å¯¹è±¡æ‰€å±çš„å…·ä½“ç±»ï¼Œå¯ä»¥ä½¿ç”¨åŸå‹æ¨¡å¼ã€‚</p>\n</li>\n<li><p>å¦‚æœå­ç±»çš„åŒºåˆ«ä»…åœ¨äºå…¶å¯¹è±¡çš„åˆå§‹åŒ–æ–¹å¼ï¼Œé‚£ä¹ˆä½ å¯ä»¥ä½¿ç”¨è¯¥æ¨¡å¼æ¥å‡å°‘å­ç±»çš„æ•°é‡ã€‚åˆ«äººåˆ›å»ºè¿™äº›å­ç±»çš„ç›®çš„å¯èƒ½æ˜¯ä¸ºäº†åˆ›å»ºç‰¹å®šç±»å‹çš„å¯¹è±¡ã€‚</p>\n</li>\n</ul>\n<h5 id=\"åŸå‹æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"><a href=\"#åŸå‹æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\" class=\"headerlink\" title=\"åŸå‹æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"></a>åŸå‹æ¨¡å¼çš„ä¼˜ç¼ºç‚¹</h5><p><strong>ä¼˜ç‚¹</strong> ï¼š</p>\n<ul>\n<li>ä½ å¯ä»¥å…‹éš†å¯¹è±¡ï¼Œè€Œæ— éœ€ä¸å®ƒä»¬æ‰€å±çš„å…·ä½“ç±»ç›¸è€¦åˆã€‚</li>\n<li>ä½ å¯ä»¥å…‹éš†é¢„ç”ŸæˆåŸå‹ï¼Œé¿å…åå¤è¿è¡Œåˆå§‹åŒ–ä»£ç ã€‚</li>\n<li>ä½ å¯ä»¥æ›´æ–¹ä¾¿åœ°ç”Ÿæˆå¤æ‚å¯¹è±¡ã€‚</li>\n<li>ä½ å¯ä»¥ç”¨ç»§æ‰¿ä»¥å¤–çš„æ–¹å¼æ¥å¤„ç†å¤æ‚å¯¹è±¡çš„ä¸åŒé…ç½®ã€‚</li>\n</ul>\n<p><strong>ç¼ºç‚¹</strong> ï¼š</p>\n<ul>\n<li>å…‹éš†åŒ…å«å¾ªç¯å¼•ç”¨çš„å¤æ‚å¯¹è±¡å¯èƒ½ä¼šéå¸¸éº»çƒ¦ã€‚</li>\n</ul>\n<h4 id=\"Singleton-å•ä¾‹æ¨¡å¼\"><a href=\"#Singleton-å•ä¾‹æ¨¡å¼\" class=\"headerlink\" title=\"Singleton(å•ä¾‹æ¨¡å¼)\"></a>Singleton(å•ä¾‹æ¨¡å¼)</h4><p>å•ä¾‹æ¨¡å¼æ˜¯ä¸€ç§åˆ›å»ºå‹è®¾è®¡æ¨¡å¼ï¼Œè®©ä½ èƒ½å¤Ÿä¿è¯ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Œå¹¶æä¾›ä¸€ä¸ªè®¿é—®è¯¥å®ä¾‹çš„å…¨å±€èŠ‚ç‚¹ã€‚</p>\n<h5 id=\"é—®é¢˜-4\"><a href=\"#é—®é¢˜-4\" class=\"headerlink\" title=\"é—®é¢˜\"></a>é—®é¢˜</h5><p>å•ä¾‹æ¨¡å¼æ˜¯ä¸€ä¸ªååˆ†å¸¸ç”¨çš„è®¾è®¡æ¨¡å¼ï¼Œåœ¨Unityä¸­ï¼Œå®ƒå¸¸å¸¸è¢«ç”¨åœ¨æ˜¯<strong>Manager</strong>ç±»ä¸­ï¼Œæ¯”å¦‚<strong>SceneManager</strong>,<strong>UIManager</strong>,<strong>AudioManager</strong>ç­‰ç­‰ã€‚ä¹Ÿå°±æ˜¯è¯´åœ¨ä»£ç ä¸­ä¼šæœ‰ä¸€ç§å…¨å±€ç±»ï¼Œå„ä¸ªæ¨¡å—éƒ½å¯ä»¥è°ƒç”¨å®ƒã€‚è™½ç„¶å®ƒè¿åäº†å•ä¸€èŒè´£åŸåˆ™ï¼Œä½†ç”±äºä½¿ç”¨èµ·æ¥ååˆ†æ–¹ä¾¿ï¼Œä½†è¿˜æ˜¯å¾ˆé¦™çš„ï¼ˆè·Ÿå…¨å±€å˜é‡ä¸€æ ·ï¼‰ã€‚</p>\n<p>æ€»ç»“ä¸‹æ¥ï¼Œå•ä¾‹æ¨¡å¼çš„ç‰¹ç‚¹ï¼š</p>\n<ul>\n<li>ä¿è¯ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹</li>\n<li>ä¸ºè¯¥å®ä¾‹æä¾›ä¸€ä¸ªå…¨å±€è®¿é—®èŠ‚ç‚¹</li>\n</ul>\n<h5 id=\"è§£å†³æ–¹æ¡ˆ-4\"><a href=\"#è§£å†³æ–¹æ¡ˆ-4\" class=\"headerlink\" title=\"è§£å†³æ–¹æ¡ˆ\"></a>è§£å†³æ–¹æ¡ˆ</h5><p>æ‰€æœ‰å•ä¾‹çš„å®ç°éƒ½åŒ…å«ä»¥ä¸‹ä¸¤ä¸ªç›¸åŒçš„æ­¥éª¤ï¼š</p>\n<ul>\n<li>å°†é»˜è®¤æ„é€ å‡½æ•°è®¾ä¸º<strong>ç§æœ‰</strong>ï¼Œé˜²æ­¢å…¶ä»–å¯¹è±¡ä½¿ç”¨å•ä¾‹ç±»çš„newè¿ç®—ç¬¦ã€‚</li>\n<li>æ–°å»ºä¸€ä¸ªé™æ€æ„å»ºæ–¹æ³•ä½œä¸ºæ„é€ å‡½æ•°ã€‚è¯¥å‡½æ•°ä¼š â€œå·å·â€ è°ƒç”¨ç§æœ‰æ„é€ å‡½æ•°æ¥åˆ›å»ºå¯¹è±¡ï¼Œå¹¶å°†å…¶ä¿å­˜åœ¨ä¸€ä¸ªé™æ€æˆå‘˜å˜é‡ä¸­ã€‚æ­¤åæ‰€æœ‰å¯¹äºè¯¥å‡½æ•°çš„è°ƒç”¨éƒ½å°†è¿”å›è¿™ä¸€ç¼“å­˜å¯¹è±¡ã€‚<br>å¦‚æœä½ çš„ä»£ç èƒ½å¤Ÿè®¿é—®å•ä¾‹ç±»ï¼Œé‚£å®ƒå°±èƒ½è°ƒç”¨å•ä¾‹ç±»çš„é™æ€æ–¹æ³•ã€‚æ— è®ºä½•æ—¶è°ƒç”¨è¯¥æ–¹æ³•ï¼Œå®ƒæ€»æ˜¯ä¼šè¿”å›ç›¸åŒçš„å¯¹è±¡ã€‚</li>\n</ul>\n<h5 id=\"å•ä¾‹æ¨¡å¼ç»“æ„\"><a href=\"#å•ä¾‹æ¨¡å¼ç»“æ„\" class=\"headerlink\" title=\"å•ä¾‹æ¨¡å¼ç»“æ„\"></a>å•ä¾‹æ¨¡å¼ç»“æ„</h5><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220810001041.png\" alt=\"img\"></p>\n<p>1.<strong>å•ä¾‹(SinÂ­gleÂ­ton)</strong> ç±»å£°æ˜äº†ä¸€ä¸ªåä¸º getÂ­Instanceè·å–å®ä¾‹çš„é™æ€æ–¹æ³•æ¥è¿”å›å…¶æ‰€å±ç±»çš„ä¸€ä¸ªç›¸åŒå®ä¾‹ã€‚</p>\n<p>å•ä¾‹çš„æ„é€ å‡½æ•°å¿…é¡»å¯¹<strong>å®¢æˆ·ç«¯(Client)</strong> ä»£ç éšè—ã€‚è°ƒç”¨è·å–å®ä¾‹æ–¹æ³•å¿…é¡»æ˜¯è·å–å•ä¾‹å¯¹è±¡çš„å”¯ä¸€æ–¹å¼ã€‚</p>\n<h5 id=\"ä¼ªä»£ç -4\"><a href=\"#ä¼ªä»£ç -4\" class=\"headerlink\" title=\"ä¼ªä»£ç \"></a>ä¼ªä»£ç </h5><p>ç”±äºå•ä¾‹æ¨¡å¼å®ç°è¿‡äºç®€å•ï¼Œæˆ‘ä»¬è¿™é‡Œä¸è®²ä¼ªä»£ç ï¼Œåè€Œæˆ‘ä»¬æ¥ç›´æ¥çœ‹çœ‹å„ç§çš„å•ä¾‹æ¨¡å¼ã€‚</p>\n<p><strong>æ‡’æ±‰å•ä¾‹æ¨¡å¼</strong> ï¼šåœ¨ç¬¬ä¸€æ¬¡è°ƒç”¨çš„æ—¶å€™å®ä¾‹åŒ–æœ¬èº«ï¼Œåœ¨å¹¶å‘ç¯å¢ƒä¸‹ï¼Œå¯èƒ½å‡ºç°å¤šä¸ªæœ¬èº«å¯¹è±¡ã€‚æ‰€ä»¥çº¿ç¨‹æ˜¯ä¸å®‰å…¨çš„</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">Singleton</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">//å°†æ„é€ å‡½æ•°è®¾ç½®ä¸ºç§æœ‰ï¼Œé˜²æ­¢ç”¨æˆ·åˆ›é€ å®ä¾‹</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"title\">Singleton</span>()</span> &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> Singleton instance = <span class=\"literal\">null</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> Singleton <span class=\"title\">GetInstance</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(instance == <span class=\"literal\">null</span>)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            instance = <span class=\"keyword\">new</span> Singleton();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">return</span> instance;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>ç®€å•çš„çº¿ç¨‹å®‰å…¨çš„æ‡’æ±‰å•ä¾‹æ¨¡å¼</strong> :<br>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™é‡Œä½¿ç”¨äº†ä¸€ä¸ª<strong>private static object</strong>å˜é‡è¿›è¡Œé”å®šï¼Œè¿™æ˜¯å› ä¸ºå½“å¦‚æœå¯¹ä¸€ä¸ªå¤–éƒ¨ç±»å¯ä»¥è®¿é—®çš„å¯¹è±¡è¿›è¡Œé”å®šæ—¶ä¼šå¯¼è‡´æ€§èƒ½ä½ä¸‹ç”šè‡³æ­»é”</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">Singleton</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">//å°†æ„é€ å‡½æ•°è®¾ç½®ä¸ºç§æœ‰ï¼Œé˜²æ­¢ç”¨æˆ·åˆ›é€ å®ä¾‹</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> Singleton&#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> Singleton instance = <span class=\"literal\">null</span>;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">readonly</span> <span class=\"built_in\">object</span> obj = <span class=\"keyword\">new</span> <span class=\"built_in\">object</span> ();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> Singleton <span class=\"title\">GetInstance</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">lock</span>(obj)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(instance == <span class=\"literal\">null</span>)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                instance = <span class=\"keyword\">new</span> Singleton();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            </span><br><span class=\"line\">            <span class=\"keyword\">return</span> instance;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>åŒé‡æ£€æŸ¥é”å®šçš„æ‡’æ±‰å•ä¾‹æ¨¡å¼</strong> :è¦æ¯”å‰è€…æ–¹æ³•æ›´åŠ å®Œç¾</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">Singleton</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">//å°†æ„é€ å‡½æ•°è®¾ç½®ä¸ºç§æœ‰ï¼Œé˜²æ­¢ç”¨æˆ·åˆ›é€ å®ä¾‹</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> Singleton&#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> Singleton instance = <span class=\"literal\">null</span>;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">readonly</span> <span class=\"built_in\">object</span> obj = <span class=\"keyword\">new</span> <span class=\"built_in\">object</span> ();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> Singleton <span class=\"title\">GetInstance</span>()</span></span><br><span class=\"line\">    &#123;   </span><br><span class=\"line\">        <span class=\"keyword\">if</span>(instace == <span class=\"literal\">null</span>)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">lock</span>(obj)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(instance == <span class=\"literal\">null</span>)</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    instance = <span class=\"keyword\">new</span> Singleton();</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;    </span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> instance;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>é¥¿æ±‰å•ä¾‹æ¨¡å¼</strong> :åœ¨ç±»åˆå§‹åŒ–æ—¶ï¼Œå·²ç»è‡ªè¡Œå®ä¾‹åŒ–ä¸€ä¸ªé™æ€å¯¹è±¡ï¼Œæ‰€ä»¥æœ¬èº«å°±æ˜¯çº¿ç¨‹å®‰å…¨çš„</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">Singleton</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"title\">Singleton</span>()</span> &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">readonly</span> Singleton instance = <span class=\"keyword\">new</span> Singleton();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> Singleton <span class=\"title\">GetInstance</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> instance;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>é¥¿æ±‰å•ä¾‹æ¨¡å¼å®ç°ååˆ†ç®€å•ï¼ŒåŒæ—¶ä¹Ÿæ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œè¦ç›¸æ¯”æ‡’æ±‰å•ä¾‹æ¨¡å¼æ›´åŠ å¥½ç”¨ä¸€äº›ã€‚</p>\n<h5 id=\"é€‚åˆå•ä¾‹æ¨¡å¼çš„åœ°æ–¹\"><a href=\"#é€‚åˆå•ä¾‹æ¨¡å¼çš„åœ°æ–¹\" class=\"headerlink\" title=\"é€‚åˆå•ä¾‹æ¨¡å¼çš„åœ°æ–¹\"></a>é€‚åˆå•ä¾‹æ¨¡å¼çš„åœ°æ–¹</h5><ul>\n<li>å¦‚æœç¨‹åºä¸­çš„æŸä¸ªç±»å¯¹äºæ‰€æœ‰å®¢æˆ·ç«¯åªæœ‰ä¸€ä¸ªå¯ç”¨çš„å®ä¾‹ï¼Œå¯ä»¥ä½¿ç”¨å•ä¾‹æ¨¡å¼ã€‚</li>\n<li>å¦‚æœä½ éœ€è¦æ›´åŠ ä¸¥æ ¼åœ°æ§åˆ¶å…¨å±€å˜é‡ï¼Œå¯ä»¥ä½¿ç”¨å•ä¾‹æ¨¡å¼ã€‚</li>\n</ul>\n<h5 id=\"å•ä¾‹æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"><a href=\"#å•ä¾‹æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\" class=\"headerlink\" title=\"å•ä¾‹æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"></a>å•ä¾‹æ¨¡å¼çš„ä¼˜ç¼ºç‚¹</h5><p><strong>ä¼˜ç‚¹</strong> ï¼š</p>\n<ul>\n<li>ä½ å¯ä»¥ä¿è¯ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹ã€‚</li>\n<li>ä½ è·å¾—äº†ä¸€ä¸ªæŒ‡å‘è¯¥å®ä¾‹çš„å…¨å±€è®¿é—®èŠ‚ç‚¹ã€‚</li>\n<li>ä»…åœ¨é¦–æ¬¡è¯·æ±‚å•ä¾‹å¯¹è±¡æ—¶å¯¹å…¶è¿›è¡Œåˆå§‹åŒ–ã€‚</li>\n</ul>\n<p><strong>ç¼ºç‚¹</strong> ï¼š</p>\n<ul>\n<li>è¿åäº†å•ä¸€èŒè´£åŸåˆ™ã€‚è¯¥æ¨¡å¼åŒæ—¶è§£å†³äº†ä¸¤ä¸ªé—®é¢˜ã€‚</li>\n<li>å•ä¾‹æ¨¡å¼å¯èƒ½æ©ç›–ä¸è‰¯è®¾è®¡ï¼Œæ¯”å¦‚ç¨‹åºå„ç»„ä»¶ä¹‹é—´ç›¸äº’äº†è§£è¿‡å¤šç­‰ã€‚</li>\n<li>è¯¥æ¨¡å¼åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹éœ€è¦è¿›è¡Œç‰¹æ®Šå¤„ç†ï¼Œé¿å…å¤šä¸ªçº¿ç¨‹å¤šæ¬¡åˆ›å»ºå•ä¾‹å¯¹è±¡ã€‚</li>\n<li>å•ä¾‹çš„å®¢æˆ·ç«¯ä»£ç å•å…ƒæµ‹è¯•å¯èƒ½ä¼šæ¯”è¾ƒå›°éš¾ï¼Œå› ä¸ºè®¸å¤šæµ‹è¯•æ¡†æ¶ä»¥åŸºäºç»§æ‰¿çš„æ–¹å¼åˆ›å»ºæ¨¡æ‹Ÿå¯¹è±¡ã€‚ç”±äºå•ä¾‹ç±»çš„æ„é€ å‡½æ•°æ˜¯ç§æœ‰çš„ï¼Œè€Œä¸”ç»å¤§éƒ¨åˆ†è¯­è¨€æ— æ³•é‡å†™é™æ€æ–¹æ³•ï¼Œæ‰€ä»¥ä½ éœ€è¦æƒ³å‡ºä»”ç»†è€ƒè™‘æ¨¡æ‹Ÿå•ä¾‹çš„æ–¹æ³•ã€‚è¦ä¹ˆå¹²è„†ä¸ç¼–å†™æµ‹è¯•ä»£ç ï¼Œæˆ–è€…ä¸ä½¿ç”¨å•ä¾‹æ¨¡å¼ã€‚</li>\n<li>ç±»ä¼¼å…¨å±€å˜é‡ï¼Œåœ¨é˜…è¯»ä»£ç æ—¶ä¼šäº§ç”Ÿä¸€å®šå›°éš¾ï¼Œä¸çŸ¥é“å“ªé‡Œè€Œæ¥ã€‚</li>\n</ul>\n<h3 id=\"ç»“æ„å‹æ¨¡å¼-Structural-Patterns\"><a href=\"#ç»“æ„å‹æ¨¡å¼-Structural-Patterns\" class=\"headerlink\" title=\"ç»“æ„å‹æ¨¡å¼(Structural Patterns)\"></a>ç»“æ„å‹æ¨¡å¼(Structural Patterns)</h3><h4 id=\"Adapter-é€‚é…å™¨æ¨¡å¼\"><a href=\"#Adapter-é€‚é…å™¨æ¨¡å¼\" class=\"headerlink\" title=\"Adapter(é€‚é…å™¨æ¨¡å¼)\"></a>Adapter(é€‚é…å™¨æ¨¡å¼)</h4><p>é€‚é…å™¨æ¨¡å¼æ˜¯ä¸€ç§ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼Œå®ƒèƒ½ä½¿æ¥å£ä¸å…¼å®¹çš„å¯¹è±¡èƒ½å¤Ÿç›¸äº’åˆä½œã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220816154433.png\" alt=\"img\"></p>\n<p>ä¸Šå›¾æ˜¯ä¸€ä¸ªååˆ†ç›´è§‚çš„å›¾</p>\n<h5 id=\"é—®é¢˜-5\"><a href=\"#é—®é¢˜-5\" class=\"headerlink\" title=\"é—®é¢˜\"></a>é—®é¢˜</h5><p>å‡å¦‚ä½ æ­£åœ¨å¼€å‘ä¸€æ¬¾è‚¡ç¥¨å¸‚åœºç›‘æµ‹ç¨‹åºï¼Œå®ƒä¼šä»ä¸åŒæ¥æºä¸‹è½½ XML æ ¼å¼çš„è‚¡ç¥¨æ•°æ®ï¼Œç„¶åå‘ç”¨æˆ·å‘ˆç°å‡ºç¾è§‚çš„å›¾è¡¨ã€‚åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œä½ å†³å®šåœ¨ç¨‹åºä¸­æ•´åˆä¸€ä¸ªç¬¬ä¸‰æ–¹æ™ºèƒ½åˆ†æå‡½æ•°åº“ã€‚ä½†æ˜¯é‡åˆ°äº†ä¸€ä¸ªé—®é¢˜ï¼Œé‚£å°±æ˜¯åˆ†æå‡½æ•°åº“åªå…¼å®¹ JSON æ ¼å¼çš„æ•°æ®ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220816154342.png\" alt=\"img\"></p>\n<h5 id=\"è§£å†³æ–¹æ¡ˆ-5\"><a href=\"#è§£å†³æ–¹æ¡ˆ-5\" class=\"headerlink\" title=\"è§£å†³æ–¹æ¡ˆ\"></a>è§£å†³æ–¹æ¡ˆ</h5><p>ä½ å¯ä»¥åˆ›å»ºä¸€ä¸ª<strong>é€‚é…å™¨</strong>ã€‚è¿™æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„å¯¹è±¡ï¼Œèƒ½å¤Ÿè½¬æ¢å¯¹è±¡æ¥å£ï¼Œä½¿å…¶èƒ½ä¸å…¶ä»–å¯¹è±¡è¿›è¡Œäº¤äº’ã€‚</p>\n<p>é€‚é…å™¨æ¨¡å¼é€šè¿‡å°è£…å¯¹è±¡å°†å¤æ‚çš„è½¬æ¢è¿‡ç¨‹éšè—äºå¹•åã€‚è¢«å°è£…çš„å¯¹è±¡ç”šè‡³å¯Ÿè§‰ä¸åˆ°é€‚é…å™¨çš„å­˜åœ¨ã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥ä½¿ç”¨ä¸€ä¸ªå°†æ‰€æœ‰æ•°æ®è½¬æ¢ä¸ºè‹±åˆ¶å•ä½ï¼ˆå¦‚è‹±å°ºå’Œè‹±é‡Œï¼‰çš„é€‚é…å™¨å°è£…è¿è¡Œäºç±³å’Œåƒç±³å•ä½åˆ¶ä¸­çš„å¯¹è±¡ã€‚</p>\n<p>é€‚é…å™¨ä¸ä»…å¯ä»¥è½¬æ¢ä¸åŒæ ¼å¼çš„æ•°æ®ï¼Œå…¶è¿˜æœ‰åŠ©äºé‡‡ç”¨ä¸åŒæ¥å£çš„å¯¹è±¡ä¹‹é—´çš„åˆä½œã€‚å®ƒçš„è¿ä½œæ–¹å¼å¦‚ä¸‹ï¼š</p>\n<ul>\n<li>é€‚é…å™¨å®ç°ä¸å…¶ä¸­ä¸€ä¸ªç°æœ‰å¯¹è±¡å…¼å®¹çš„æ¥å£ã€‚</li>\n<li>ç°æœ‰å¯¹è±¡å¯ä»¥ä½¿ç”¨è¯¥æ¥å£å®‰å…¨åœ°è°ƒç”¨é€‚é…å™¨æ–¹æ³•ã€‚</li>\n<li>é€‚é…å™¨æ–¹æ³•è¢«è°ƒç”¨åå°†ä»¥å¦ä¸€ä¸ªå¯¹è±¡å…¼å®¹çš„æ ¼å¼å’Œé¡ºåºå°†è¯·æ±‚ä¼ é€’ç»™è¯¥å¯¹è±¡ã€‚</li>\n</ul>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220816154725.png\" alt=\"img\"></p>\n<h5 id=\"é€‚é…å™¨æ¨¡å¼ç»“æ„\"><a href=\"#é€‚é…å™¨æ¨¡å¼ç»“æ„\" class=\"headerlink\" title=\"é€‚é…å™¨æ¨¡å¼ç»“æ„\"></a>é€‚é…å™¨æ¨¡å¼ç»“æ„</h5><p><strong>å¯¹è±¡é€‚é…å™¨</strong> ï¼šé€‚é…å™¨å®ç°äº†å…¶ä¸­ä¸€ä¸ªå¯¹è±¡çš„æ¥å£ï¼Œå¹¶å¯¹å¦ä¸€ä¸ªå¯¹è±¡è¿›è¡Œå°è£…ã€‚æ‰€æœ‰æµè¡Œçš„ç¼–ç¨‹è¯­è¨€éƒ½å¯ä»¥å®ç°é€‚é…å™¨ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220816154822.png\" alt=\"img\"></p>\n<p>1.<strong>å®¢æˆ·ç«¯(Client)</strong> æ˜¯åŒ…å«å½“å‰ç¨‹åºä¸šåŠ¡é€»è¾‘çš„ç±»ã€‚<br>2.<strong>å®¢æˆ·ç«¯æ¥å£(Client InterÂ­face)</strong> æè¿°äº†å…¶ä»–ç±»ä¸å®¢æˆ·ç«¯ä»£ç åˆä½œæ—¶å¿…é¡»éµå¾ªçš„åè®®ã€‚</p>\n<p>3.<strong>æœåŠ¡(SerÂ­vice)</strong> ä¸­æœ‰ä¸€äº›åŠŸèƒ½ç±» ï¼ˆé€šå¸¸æ¥è‡ªç¬¬ä¸‰æ–¹æˆ–é—ç•™ç³»ç»Ÿï¼‰ã€‚å®¢æˆ·ç«¯ä¸å…¶æ¥å£ä¸å…¼å®¹ï¼Œå› æ­¤æ— æ³•ç›´æ¥è°ƒç”¨å…¶åŠŸèƒ½ã€‚</p>\n<p>4.<strong>é€‚é…å™¨(Adapter)</strong> æ˜¯ä¸€ä¸ªå¯ä»¥åŒæ—¶ä¸å®¢æˆ·ç«¯å’ŒæœåŠ¡äº¤äº’çš„ç±»ï¼šå®ƒåœ¨å®ç°å®¢æˆ·ç«¯æ¥å£çš„åŒæ—¶å°è£…äº†æœåŠ¡å¯¹è±¡ã€‚é€‚é…å™¨æ¥å—å®¢æˆ·ç«¯é€šè¿‡é€‚é…å™¨æ¥å£å‘èµ·çš„è°ƒç”¨ï¼Œå¹¶å°†å…¶è½¬æ¢ä¸ºé€‚ç”¨äºè¢«å°è£…æœåŠ¡å¯¹è±¡çš„è°ƒç”¨ã€‚</p>\n<p>5.å®¢æˆ·ç«¯ä»£ç åªéœ€é€šè¿‡æ¥å£ä¸é€‚é…å™¨äº¤äº’å³å¯ï¼Œæ— éœ€ä¸å…·ä½“çš„é€‚é…å™¨ç±»è€¦åˆã€‚å› æ­¤ï¼Œä½ å¯ä»¥å‘ç¨‹åºä¸­æ·»åŠ æ–°ç±»å‹çš„é€‚é…å™¨è€Œæ— éœ€ä¿®æ”¹å·²æœ‰ä»£ç ã€‚è¿™åœ¨æœåŠ¡ç±»çš„æ¥å£è¢«æ›´æ”¹æˆ–æ›¿æ¢æ—¶å¾ˆæœ‰ç”¨ï¼šä½ æ— éœ€ä¿®æ”¹å®¢æˆ·ç«¯ä»£ç å°±å¯ä»¥åˆ›å»ºæ–°çš„é€‚é…å™¨ç±»ã€‚</p>\n<p><strong>ç±»é€‚é…å™¨</strong> ï¼šè¿™ä¸€å®ç°ä½¿ç”¨äº†ç»§æ‰¿æœºåˆ¶ï¼šé€‚é…å™¨åŒæ—¶ç»§æ‰¿ä¸¤ä¸ªå¯¹è±¡çš„æ¥å£ã€‚è¯·æ³¨æ„ï¼Œè¿™ç§æ–¹å¼ä»…èƒ½åœ¨æ”¯æŒå¤šé‡ç»§æ‰¿çš„ç¼–ç¨‹è¯­è¨€ä¸­å®ç°ï¼Œä¾‹å¦‚C++ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220816155303.png\" alt=\"img\"></p>\n<p>1.<strong>ç±»é€‚é…å™¨</strong>ä¸éœ€è¦å°è£…ä»»ä½•å¯¹è±¡ï¼Œå› ä¸ºå®ƒåŒæ—¶ç»§æ‰¿äº†å®¢æˆ·ç«¯å’ŒæœåŠ¡çš„è¡Œä¸ºã€‚é€‚é…åŠŸèƒ½åœ¨é‡å†™çš„æ–¹æ³•ä¸­å®Œæˆã€‚æœ€åç”Ÿæˆçš„é€‚é…å™¨å¯æ›¿ä»£å·²æœ‰çš„å®¢æˆ·ç«¯ç±»è¿›è¡Œä½¿ç”¨ã€‚</p>\n<h5 id=\"ä¼ªä»£ç -5\"><a href=\"#ä¼ªä»£ç -5\" class=\"headerlink\" title=\"ä¼ªä»£ç \"></a>ä¼ªä»£ç </h5><p>ä»…ä»…çœ‹ç»“æ„ä¹Ÿæ˜¯å¾ˆéš¾ç†è§£æ˜¯å•¥æ„æ€çš„ï¼Œæ¥çœ‹çœ‹ç»å…¸çš„æ–¹é’‰åœ†å­”é—®é¢˜ï¼Œå¦‚ä½•å°†æ–¹é’‰ç”¨é€‚é…å™¨è½¬åŒ–æˆåœ†é’‰æ¥é€‚é…åœ†å­”ã€‚ä¸€æ ·ç…§ç€ä¹‹å‰ï¼Œå†™ä¸€ä¸ªä¸æ˜¯é‚£ä¹ˆä¼ªçš„ä¼ªä»£ç </p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220816155544.png\" alt=\"img\"></p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//åœ†å­”ç±»(RoundHole)å’Œåœ†é’‰ç±»(RoundPeg)äº’ç›¸å…¼å®¹ </span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">RoundHole</span> </span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"built_in\">int</span> radius;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">RoundHole</span>(<span class=\"params\"><span class=\"built_in\">int</span> radius</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">//...</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"built_in\">int</span> <span class=\"title\">getRadius</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">//</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"built_in\">bool</span> <span class=\"title\">fits</span>(<span class=\"params\">RoundPeg peg</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>.getRadius() &gt;= peg.getRadius();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">RoundPeg</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"built_in\">int</span> radius;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">RoundPeg</span>(<span class=\"params\"><span class=\"built_in\">int</span> radius</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">//...</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"built_in\">int</span> <span class=\"title\">getRadius</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">//...</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//ä¸å…¼å®¹çš„æ–¹é’‰(SquarePeg)ç±»</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">SquarePeg</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"built_in\">int</span> width;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">SquarePeg</span>(<span class=\"params\"><span class=\"built_in\">int</span> width</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">//...</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"built_in\">int</span> <span class=\"title\">getWidth</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">//...</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//é€‚é…å™¨ç±»å…¶å®å°±æ˜¯åœ†é’‰çš„å­ç±»ï¼Œç®—æ˜¯ç‰¹æ®Šçš„åœ†é’‰ç±»ï¼Œå°†è·å¾—çš„æ–¹é’‰â€œæ‰“ç£¨â€æˆåœ†é’‰</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">SquarePegAdapter</span> : <span class=\"title\">RoundPeg</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">//é€‚é…å™¨é€šå¸¸åŒ…å«ä¸€ä¸ªè¦è¢«è½¬æ¢çš„å®ä¾‹</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> SquarePeg peg;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">SquarePegAdapter</span>(<span class=\"params\">SquarePeg peg</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.peg = peg;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"built_in\">int</span> <span class=\"title\">getRadius</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> peg.getWidth() * Math.sqrt(<span class=\"number\">2</span>) / <span class=\"number\">2</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//å®¢æˆ·ç«¯ä»£ç </span></span><br><span class=\"line\">hole = <span class=\"keyword\">new</span> RoundHole(<span class=\"number\">5</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">_sqpeg = <span class=\"keyword\">new</span> SquarePeg(<span class=\"number\">5</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">sqpeg_adapter = <span class=\"keyword\">new</span> SquarePegAdapter(_sqpeg);</span><br><span class=\"line\">hole.fits(sqpeg_adapter);</span><br><span class=\"line\"><span class=\"comment\">//å˜æ¢ä¹‹åï¼Œæˆ‘ä»¬è¿›è¡Œæ“ä½œçš„å°±æ˜¯é€‚é…å™¨ç±»è€Œä¸æ˜¯æ–¹é’‰ç±»äº†</span></span><br></pre></td></tr></table></figure>\n\n<h5 id=\"é€‚åˆé€‚é…å™¨æ¨¡å¼çš„åœ°æ–¹\"><a href=\"#é€‚åˆé€‚é…å™¨æ¨¡å¼çš„åœ°æ–¹\" class=\"headerlink\" title=\"é€‚åˆé€‚é…å™¨æ¨¡å¼çš„åœ°æ–¹\"></a>é€‚åˆé€‚é…å™¨æ¨¡å¼çš„åœ°æ–¹</h5><ul>\n<li>å½“ä½ å¸Œæœ›ä½¿ç”¨æŸä¸ªç±»ï¼Œä½†æ˜¯å…¶æ¥å£ä¸å…¶ä»–ä»£ç ä¸å…¼å®¹æ—¶ï¼Œå¯ä»¥ä½¿ç”¨é€‚é…å™¨ç±»ã€‚ä¹Ÿå°±æ˜¯åˆ›é€ ä¸€ä¸ªä¸­é—´å±‚ç±»ï¼Œå¦‚æœä½ åœ¨å‰äººçš„ä»£ç ä¿®æ”¹ä½†æ˜¯åˆä¸æ‰“ç®—ä¿®æ”¹å¤ªå¤š</li>\n<li>å¦‚æœæ‚¨éœ€è¦å¤ç”¨è¿™æ ·ä¸€äº›ç±»ï¼Œä»–ä»¬å¤„äºåŒä¸€ä¸ªç»§æ‰¿ä½“ç³»ï¼Œå¹¶ä¸”ä»–ä»¬åˆæœ‰äº†é¢å¤–çš„ä¸€äº›å…±åŒçš„æ–¹æ³•ï¼Œä½†æ˜¯è¿™äº›å…±åŒçš„æ–¹æ³•ä¸æ˜¯æ‰€æœ‰åœ¨è¿™ä¸€ç»§æ‰¿ä½“ç³»ä¸­çš„å­ç±»æ‰€å…·æœ‰çš„å…±æ€§ã€‚</li>\n</ul>\n<h5 id=\"é€‚é…å™¨æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"><a href=\"#é€‚é…å™¨æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\" class=\"headerlink\" title=\"é€‚é…å™¨æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"></a>é€‚é…å™¨æ¨¡å¼çš„ä¼˜ç¼ºç‚¹</h5><p><strong>ä¼˜ç‚¹</strong> ï¼š</p>\n<ul>\n<li>ç¬¦åˆSRP</li>\n<li>ç¬¦åˆOCP</li>\n</ul>\n<p><strong>ç¼ºç‚¹</strong> ï¼š</p>\n<ul>\n<li>ä»£ç æ•´ä½“å¤æ‚åº¦å¢åŠ ï¼Œå› ä¸ºä½ éœ€è¦æ–°å¢ä¸€ç³»åˆ—æ¥å£å’Œç±»ã€‚æœ‰æ—¶ç›´æ¥æ›´æ”¹æœåŠ¡ç±»ä½¿å…¶ä¸å…¶ä»–ä»£ç å…¼å®¹ä¼šæ›´ç®€å•ã€‚</li>\n</ul>\n<h4 id=\"Bridge-æ¡¥æ¥æ¨¡å¼\"><a href=\"#Bridge-æ¡¥æ¥æ¨¡å¼\" class=\"headerlink\" title=\"Bridge(æ¡¥æ¥æ¨¡å¼)\"></a>Bridge(æ¡¥æ¥æ¨¡å¼)</h4><p>æ¡¥æ¥æ¨¡å¼æ˜¯ä¸€ç§ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼Œå¯å°†ä¸€ä¸ªå¤§ç±»æˆ–ä¸€ç³»åˆ—ç´§å¯†ç›¸å…³çš„ç±»æ‹†åˆ†ä¸ºæŠ½è±¡å’Œå®ç°ä¸¤ä¸ªç‹¬ç«‹çš„å±‚æ¬¡ç»“æ„ï¼Œä»è€Œèƒ½åœ¨å¼€å‘æ—¶åˆ†åˆ«ä½¿ç”¨ã€‚</p>\n<h5 id=\"é—®é¢˜-6\"><a href=\"#é—®é¢˜-6\" class=\"headerlink\" title=\"é—®é¢˜\"></a>é—®é¢˜</h5><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220816163009.png\" alt=\"img\"></p>\n<p>å‡å¦‚ä½ æœ‰ä¸€ä¸ªå‡ ä½•å½¢çŠ¶<strong>Shape</strong>ç±»ï¼Œä»å®ƒèƒ½æ‰©å±•å‡ºä¸¤ä¸ªå­ç±»ï¼šâ€‹åœ†å½¢<strong>CirÂ­cle</strong>å’Œæ–¹å½¢<strong>Square</strong>ã€‚ä½ å¸Œæœ›å¯¹è¿™æ ·çš„ç±»å±‚æ¬¡ç»“æ„è¿›è¡Œæ‰©å±•ä»¥ä½¿å…¶åŒ…å«é¢œè‰²ï¼Œæ‰€ä»¥ä½ æ‰“ç®—åˆ›å»ºåä¸ºçº¢è‰²<strong>Red</strong>å’Œ è“è‰²<strong>Blue</strong>çš„å½¢çŠ¶å­ç±»ã€‚ä½†æ˜¯ï¼Œç”±äºä½ å·²æœ‰ä¸¤ä¸ªå­ç±»ï¼Œæ‰€ä»¥æ€»å…±éœ€è¦åˆ›å»ºå››ä¸ªç±»æ‰èƒ½è¦†ç›–æ‰€æœ‰ç»„åˆï¼Œä¾‹å¦‚è“è‰²åœ†å½¢<strong>BlueÂ­CirÂ­cle</strong>å’Œçº¢è‰²æ–¹å½¢<strong>RedÂ­Square</strong>ã€‚åœ¨å±‚æ¬¡ç»“æ„ä¸­æ–°å¢å½¢çŠ¶å’Œé¢œè‰²å°†å¯¼è‡´ä»£ç å¤æ‚ç¨‹åº¦æŒ‡æ•°å¢é•¿ã€‚ä¾‹å¦‚æ·»åŠ ä¸‰è§’å½¢çŠ¶ï¼Œä½ éœ€è¦æ–°å¢ä¸¤ä¸ªå­ç±»ï¼Œä¹Ÿå°±æ˜¯æ¯ç§é¢œè‰²ä¸€ä¸ªï¼›æ­¤åæ–°å¢ä¸€ç§æ–°é¢œè‰²éœ€è¦æ–°å¢ä¸‰ä¸ªå­ç±»ï¼Œå³æ¯ç§å½¢çŠ¶ä¸€ä¸ªã€‚å¦‚æ­¤ä»¥å¾€ï¼Œæƒ…å†µä¼šè¶Šæ¥è¶Šç³Ÿç³•ã€‚</p>\n<h5 id=\"è§£å†³æ–¹æ¡ˆ-6\"><a href=\"#è§£å†³æ–¹æ¡ˆ-6\" class=\"headerlink\" title=\"è§£å†³æ–¹æ¡ˆ\"></a>è§£å†³æ–¹æ¡ˆ</h5><p>é—®é¢˜çš„æ ¹æœ¬åŸå› æ˜¯æˆ‘ä»¬è¯•å›¾åœ¨ä¸¤ä¸ªç‹¬ç«‹çš„ç»´åº¦â€”â€”å½¢çŠ¶ä¸é¢œè‰²â€”â€”ä¸Šæ‰©å±•å½¢çŠ¶ç±»ã€‚è¿™åœ¨å¤„ç†ç±»ç»§æ‰¿æ—¶æ˜¯å¾ˆå¸¸è§çš„é—®é¢˜ã€‚</p>\n<p>æ¡¥æ¥æ¨¡å¼é€šè¿‡å°†ç»§æ‰¿æ”¹ä¸ºç»„åˆçš„æ–¹å¼æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚å…·ä½“æ¥è¯´ï¼Œå°±æ˜¯æŠ½å–å…¶ä¸­ä¸€ä¸ªç»´åº¦å¹¶ä½¿ä¹‹æˆä¸ºç‹¬ç«‹çš„ç±»å±‚æ¬¡ï¼Œè¿™æ ·å°±å¯ä»¥åœ¨åˆå§‹ç±»ä¸­å¼•ç”¨è¿™ä¸ªæ–°å±‚æ¬¡çš„å¯¹è±¡ï¼Œä»è€Œä½¿å¾—ä¸€ä¸ªç±»ä¸å¿…æ‹¥æœ‰æ‰€æœ‰çš„çŠ¶æ€å’Œè¡Œä¸ºã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220816163706.png\" alt=\"img\"></p>\n<p>æ ¹æ®è¯¥æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥å°†é¢œè‰²ç›¸å…³çš„ä»£ç æŠ½å–åˆ°æ‹¥æœ‰ çº¢è‰²å’Œ è“è‰²ä¸¤ä¸ªå­ç±»çš„é¢œè‰²ç±»ä¸­ï¼Œç„¶ååœ¨å½¢çŠ¶ç±»ä¸­æ·»åŠ ä¸€ä¸ªæŒ‡å‘æŸä¸€é¢œè‰²å¯¹è±¡çš„å¼•ç”¨æˆå‘˜å˜é‡ã€‚ç°åœ¨ï¼Œå½¢çŠ¶ç±»å¯ä»¥å°†æ‰€æœ‰ä¸é¢œè‰²ç›¸å…³çš„å·¥ä½œå§”æ´¾ç»™è¿å…¥çš„é¢œè‰²å¯¹è±¡ã€‚è¿™æ ·çš„å¼•ç”¨å°±æˆä¸ºäº† å½¢çŠ¶å’Œ é¢œè‰²ä¹‹é—´çš„æ¡¥æ¢ã€‚æ­¤åï¼Œæ–°å¢é¢œè‰²å°†ä¸å†éœ€è¦ä¿®æ”¹å½¢çŠ¶çš„ç±»å±‚æ¬¡ï¼Œåä¹‹äº¦ç„¶ã€‚</p>\n<h5 id=\"æ¡¥æ¥æ¨¡å¼ç»“æ„\"><a href=\"#æ¡¥æ¥æ¨¡å¼ç»“æ„\" class=\"headerlink\" title=\"æ¡¥æ¥æ¨¡å¼ç»“æ„\"></a>æ¡¥æ¥æ¨¡å¼ç»“æ„</h5><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220816164716.png\" alt=\"img\"></p>\n<p>1.<strong>æŠ½è±¡éƒ¨åˆ†(AbstracÂ­tion)</strong> æä¾›é«˜å±‚æ§åˆ¶é€»è¾‘ï¼Œ ä¾èµ–äºå®Œæˆåº•å±‚å®é™…å·¥ä½œçš„å®ç°å¯¹è±¡ã€‚</p>\n<p>2.<strong>å®ç°éƒ¨åˆ†(ImpleÂ­menÂ­taÂ­tion)</strong> ä¸ºæ‰€æœ‰å…·ä½“å®ç°å£°æ˜é€šç”¨æ¥å£ã€‚æŠ½è±¡éƒ¨åˆ†ä»…èƒ½é€šè¿‡åœ¨è¿™é‡Œå£°æ˜çš„æ–¹æ³•ä¸å®ç°å¯¹è±¡äº¤äº’ã€‚æŠ½è±¡éƒ¨åˆ†å¯ä»¥åˆ—å‡ºå’Œå®ç°éƒ¨åˆ†ä¸€æ ·çš„æ–¹æ³•ï¼Œä½†æ˜¯æŠ½è±¡éƒ¨åˆ†é€šå¸¸å£°æ˜ä¸€äº›å¤æ‚è¡Œä¸ºï¼Œè¿™äº›è¡Œä¸ºä¾èµ–äºå¤šç§ç”±å®ç°éƒ¨åˆ†å£°æ˜çš„åŸè¯­æ“ä½œã€‚</p>\n<p>3.<strong>å…·ä½“å®ç°(ConÂ­crete ImpleÂ­menÂ­taÂ­tions)</strong> ä¸­åŒ…æ‹¬ç‰¹å®šäºå¹³å°çš„ä»£ç ã€‚</p>\n<p>4.**ç²¾ç¡®æŠ½è±¡(Refined AbstracÂ­tion)**æä¾›æ§åˆ¶é€»è¾‘çš„å˜ä½“ã€‚ä¸å…¶çˆ¶ç±»ä¸€æ ·ï¼Œå®ƒä»¬é€šè¿‡é€šç”¨å®ç°æ¥å£ä¸ä¸åŒçš„å®ç°è¿›è¡Œäº¤äº’ã€‚</p>\n<p>5.é€šå¸¸æƒ…å†µä¸‹ï¼Œ**å®¢æˆ·ç«¯(Client)**ä»…å…³å¿ƒå¦‚ä½•ä¸æŠ½è±¡éƒ¨åˆ†åˆä½œã€‚ä½†æ˜¯ï¼Œå®¢æˆ·ç«¯éœ€è¦å°†æŠ½è±¡å¯¹è±¡ä¸ä¸€ä¸ªå®ç°å¯¹è±¡è¿æ¥èµ·æ¥ã€‚</p>\n<h5 id=\"ä¼ªä»£ç -6\"><a href=\"#ä¼ªä»£ç -6\" class=\"headerlink\" title=\"ä¼ªä»£ç \"></a>ä¼ªä»£ç </h5><p>åœ¨è¿™æ¬¡ä¸é‚£ä¹ˆä¼ªçš„ä¼ªä»£ç ä¸­æˆ‘æ‰“ç®—å±•ç°ä¸¤æ®µï¼Œå…¶ä¸­ä¸€ä¸ªæ˜¯ä¹‹å‰çš„Shapeå’ŒColorä¹‹é—´çš„æ¡¥æ¥ã€‚é¦–å…ˆæˆ‘ä»¬æ¥çœ‹çœ‹é¥æ§å™¨é¥æ§è®¾å¤‡ï¼Œæ˜¯å¾ˆå®¹æ˜“ç†è§£è®¾å¤‡å°±æ˜¯å®ç°éƒ¨åˆ†ï¼Œè€Œé¥æ§ä¸ºæŠ½è±¡è®¾å¤‡ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220816170510.png\" alt=\"img\"></p>\n<p>é¥æ§å™¨åŸºç±»å£°æ˜äº†ä¸€ä¸ªæŒ‡å‘è®¾å¤‡å¯¹è±¡çš„å¼•ç”¨æˆå‘˜å˜é‡ã€‚ æ‰€æœ‰é¥æ§å™¨é€šè¿‡é€šç”¨è®¾å¤‡æ¥å£ä¸è®¾å¤‡è¿›è¡Œäº¤äº’ï¼Œä½¿å¾—åŒä¸€ä¸ªé¥æ§å™¨å¯ä»¥æ”¯æŒä¸åŒç±»å‹çš„è®¾å¤‡ã€‚<br>ä½ å¯ä»¥å¼€å‘ç‹¬ç«‹äºè®¾å¤‡ç±»çš„é¥æ§å™¨ç±»ï¼Œåªéœ€æ–°å»ºä¸€ä¸ªé¥æ§å™¨å­ç±»å³å¯ã€‚ä¾‹å¦‚ï¼ŒåŸºç¡€é¥æ§å™¨å¯èƒ½åªæœ‰ä¸¤ä¸ªæŒ‰é’®ï¼Œä½†ä½ å¯åœ¨å…¶åŸºç¡€ä¸Šæ‰©å±•æ–°åŠŸèƒ½ï¼Œæ¯”å¦‚é¢å¤–çš„ä¸€èŠ‚ç”µæ± æˆ–ä¸€å—è§¦æ‘¸å±ã€‚</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// â€œæŠ½è±¡éƒ¨åˆ†â€å®šä¹‰äº†ä¸¤ä¸ªç±»å±‚æ¬¡ç»“æ„ä¸­â€œæ§åˆ¶â€éƒ¨åˆ†çš„æ¥å£ã€‚å®ƒç®¡ç†ç€ä¸€ä¸ªæŒ‡å‘â€œå®</span></span><br><span class=\"line\"><span class=\"comment\">// ç°éƒ¨åˆ†â€å±‚æ¬¡ç»“æ„ä¸­å¯¹è±¡çš„å¼•ç”¨ï¼Œå¹¶ä¼šå°†æ‰€æœ‰çœŸå®å·¥ä½œå§”æ´¾ç»™è¯¥å¯¹è±¡ã€‚</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">Remote</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> Device device;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">Remote</span>(<span class=\"params\">Device device</span>)</span> </span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.device = device;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">togglePower</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(device.isEnabled())</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            device.disable();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">else</span> </span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"comment\">//..</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">volumeUp</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        device.setVolume(device.getVolume() + <span class=\"number\">10</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">volumeDown</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">//..</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">ChannelUp</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        device.setChannel(device.getChannel() + <span class=\"number\">1</span>)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">ChannelDown</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">//..</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// ä½ å¯ä»¥ç‹¬ç«‹äºè®¾å¤‡ç±»çš„æ–¹å¼ä»æŠ½è±¡å±‚ä¸­æ‰©å±•ç±»ã€‚</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">AdvancedRemote</span> : <span class=\"title\">Remote</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">mute</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        device.setVolume(<span class=\"number\">0</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// â€œå®ç°éƒ¨åˆ†â€æ¥å£å£°æ˜äº†åœ¨æ‰€æœ‰å…·ä½“å®ç°ç±»ä¸­é€šç”¨çš„æ–¹æ³•ã€‚å®ƒä¸éœ€è¦ä¸æŠ½è±¡æ¥å£ç›¸</span></span><br><span class=\"line\"><span class=\"comment\">// åŒ¹é…ã€‚å®é™…ä¸Šï¼Œè¿™ä¸¤ä¸ªæ¥å£å¯ä»¥å®Œå…¨ä¸ä¸€æ ·ã€‚é€šå¸¸å®ç°æ¥å£åªæä¾›åŸè¯­æ“ä½œï¼Œè€Œ</span></span><br><span class=\"line\"><span class=\"comment\">// æŠ½è±¡æ¥å£åˆ™ä¼šåŸºäºè¿™äº›æ“ä½œå®šä¹‰è¾ƒé«˜å±‚æ¬¡çš„æ“ä½œã€‚</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title\">Device</span> </span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"built_in\">bool</span> <span class=\"title\">isEnable</span>()</span>;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">enable</span>()</span>;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">disable</span>()</span>;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"built_in\">int</span> <span class=\"title\">getVolume</span>()</span>;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">setVolume</span>(<span class=\"params\">..</span>)</span>;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"built_in\">int</span> <span class=\"title\">getChannel</span>()</span>;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">setChannel</span>(<span class=\"params\">..</span>)</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">TV</span> : <span class=\"title\">Device</span> </span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">//...</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">public</span> vlass Radio : Device</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">//..</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å®¢æˆ·ç«¯ä»£ç </span></span><br><span class=\"line\">tv = <span class=\"keyword\">new</span> Tv();</span><br><span class=\"line\">remote = <span class=\"keyword\">new</span> RemoteControl(tv);</span><br><span class=\"line\">remote.togglePower();</span><br><span class=\"line\"></span><br><span class=\"line\">radio = <span class=\"keyword\">new</span> Radio();</span><br><span class=\"line\">remote = <span class=\"keyword\">new</span> AdvancedRemoteControl(radio);</span><br></pre></td></tr></table></figure>\n\n<p>å¯¹äºShapeå’ŒColoræˆ‘ä»¬å¯èƒ½å¾ˆéš¾åŒºåˆ«è°æ˜¯â€œæŠ½è±¡â€ï¼Œè°æ˜¯â€œå®ç°â€ï¼Œä½†æ˜¯æ¡¥æ¥æ¨¡å¼åŒæ ·é€‚åˆæ‹†åˆ†ç±»çš„ç»“æ„,å³æŠ½å–å¤æ‚ç±»çš„å…¶ä¸­ä¸€ä¸ªç»´åº¦ä½¿ä¹‹æˆä¸ºç‹¬ç«‹çš„ç±»å±‚æ¬¡ã€‚</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">Shape</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> Color color;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//..</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">Circle</span> : <span class=\"title\">Shape</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">//..</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">Square</span> : <span class=\"title\">Shape</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">//..</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title\">Color</span> </span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">//..</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">Red</span> : <span class=\"title\">Color</span> </span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">//..</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">Blue</span> : <span class=\"title\">Color</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">//..</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"é€‚åˆæ¡¥æ¥æ¨¡å¼çš„åœ°æ–¹\"><a href=\"#é€‚åˆæ¡¥æ¥æ¨¡å¼çš„åœ°æ–¹\" class=\"headerlink\" title=\"é€‚åˆæ¡¥æ¥æ¨¡å¼çš„åœ°æ–¹\"></a>é€‚åˆæ¡¥æ¥æ¨¡å¼çš„åœ°æ–¹</h5><ul>\n<li>å¦‚æœä½ æƒ³è¦æ‹†åˆ†æˆ–é‡ç»„ä¸€ä¸ªå…·æœ‰å¤šé‡åŠŸèƒ½çš„åºæ‚ç±» ï¼ˆä¾‹å¦‚èƒ½ä¸å¤šä¸ªæ•°æ®åº“æœåŠ¡å™¨è¿›è¡Œäº¤äº’çš„ç±»ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨æ¡¥æ¥æ¨¡å¼ã€‚æ¡¥æ¥æ¨¡å¼å¯ä»¥å°†åºæ‚ç±»æ‹†åˆ†ä¸ºå‡ ä¸ªç±»å±‚æ¬¡ç»“æ„ã€‚æ­¤åï¼Œä½ å¯ä»¥ä¿®æ”¹ä»»æ„ä¸€ä¸ªç±»å±‚æ¬¡ç»“æ„è€Œä¸ä¼šå½±å“åˆ°å…¶ä»–ç±»å±‚æ¬¡ç»“æ„ã€‚è¿™ç§æ–¹æ³•å¯ä»¥ç®€åŒ–ä»£ç çš„ç»´æŠ¤å·¥ä½œï¼Œå¹¶å°†ä¿®æ”¹å·²æœ‰ä»£ç çš„é£é™©é™åˆ°æœ€ä½ã€‚</li>\n<li>å¦‚æœä½ å¸Œæœ›åœ¨å‡ ä¸ªç‹¬ç«‹ç»´åº¦ä¸Šæ‰©å±•ä¸€ä¸ªç±»ï¼Œå¯ä½¿ç”¨è¯¥æ¨¡å¼ã€‚</li>\n<li>å¦‚æœä½ éœ€è¦åœ¨è¿è¡Œæ—¶åˆ‡æ¢ä¸åŒå®ç°æ–¹æ³•ï¼Œå¯ä½¿ç”¨æ¡¥æ¥æ¨¡å¼ã€‚</li>\n</ul>\n<h5 id=\"æ¡¥æ¥æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"><a href=\"#æ¡¥æ¥æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\" class=\"headerlink\" title=\"æ¡¥æ¥æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"></a>æ¡¥æ¥æ¨¡å¼çš„ä¼˜ç¼ºç‚¹</h5><p><strong>ä¼˜ç‚¹</strong> ï¼š</p>\n<ul>\n<li>ä½ å¯ä»¥åˆ›å»ºä¸å¹³å°æ— å…³çš„ç±»å’Œç¨‹åºã€‚</li>\n<li>å®¢æˆ·ç«¯ä»£ç ä»…ä¸é«˜å±‚æŠ½è±¡éƒ¨åˆ†è¿›è¡Œäº’åŠ¨ï¼Œä¸ä¼šæ¥è§¦åˆ°å¹³å°çš„è¯¦ç»†ä¿¡æ¯ã€‚</li>\n<li>ç¬¦åˆOCP</li>\n<li>ç¬¦åˆSRP</li>\n</ul>\n<p><strong>ç¼ºç‚¹</strong> ï¼š</p>\n<ul>\n<li>å¯¹é«˜å†…èšçš„ç±»ä½¿ç”¨è¯¥æ¨¡å¼å¯èƒ½ä¼šè®©ä»£ç æ›´åŠ å¤æ‚ã€‚</li>\n</ul>\n<h4 id=\"Composite-ç»„åˆæ¨¡å¼\"><a href=\"#Composite-ç»„åˆæ¨¡å¼\" class=\"headerlink\" title=\"Composite(ç»„åˆæ¨¡å¼)\"></a>Composite(ç»„åˆæ¨¡å¼)</h4><p>ç»„åˆæ¨¡å¼æ˜¯ä¸€ç§ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼Œä½ å¯ä»¥ä½¿ç”¨å®ƒå°†å¯¹è±¡ç»„åˆæˆæ ‘çŠ¶ç»“æ„ï¼Œå¹¶ä¸”èƒ½åƒä½¿ç”¨ç‹¬ç«‹å¯¹è±¡ä¸€æ ·ä½¿ç”¨å®ƒä»¬ã€‚</p>\n<h5 id=\"é—®é¢˜-7\"><a href=\"#é—®é¢˜-7\" class=\"headerlink\" title=\"é—®é¢˜\"></a>é—®é¢˜</h5><p><strong>å¦‚æœåº”ç”¨çš„æ ¸å¿ƒæ¨¡å‹èƒ½ç”¨æ ‘çŠ¶ç»“æ„è¡¨ç¤ºï¼Œåœ¨åº”ç”¨ä¸­ä½¿ç”¨ç»„åˆæ¨¡å¼æ‰æœ‰ä»·å€¼ã€‚</strong>ä¾‹å¦‚ï¼Œä½ æœ‰ä¸¤ç±»å¯¹è±¡ï¼š â€‹ äº§å“å’Œç›’å­ã€‚ä¸€ä¸ªç›’å­ä¸­å¯ä»¥åŒ…å«å¤šä¸ªäº§å“æˆ–è€…å‡ ä¸ªè¾ƒå°çš„ç›’å­ã€‚è¿™äº›å°ç›’å­ä¸­åŒæ ·å¯ä»¥åŒ…å«ä¸€äº›äº§å“æˆ–æ›´å°çš„ç›’å­ï¼Œä»¥æ­¤ç±»æ¨ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220818150134.png\" alt=\"img\"></p>\n<p>è®¢å•ä¸­å¯èƒ½åŒ…æ‹¬å„ç§äº§å“ï¼Œè¿™äº›äº§å“æ”¾ç½®åœ¨ç›’å­ä¸­ï¼Œç„¶ååˆè¢«æ”¾å…¥ä¸€å±‚åˆä¸€å±‚æ›´å¤§çš„ç›’å­ä¸­ã€‚æ•´ä¸ªç»“æ„çœ‹ä¸Šå»åƒæ˜¯ä¸€æ£µå€’è¿‡æ¥çš„æ ‘ã€‚ä½ å¯ä»¥å°è¯•ç›´æ¥è®¡ç®—ï¼šæ‰“å¼€æ‰€æœ‰ç›’å­ï¼Œæ‰¾åˆ°æ¯ä»¶äº§å“ï¼Œç„¶åè®¡ç®—æ€»ä»·ã€‚è¿™åœ¨çœŸå®ä¸–ç•Œä¸­æˆ–è®¸å¯è¡Œï¼Œä½†åœ¨ç¨‹åºä¸­ï¼Œä½ å¹¶ä¸èƒ½ç®€å•åœ°ä½¿ç”¨å¾ªç¯è¯­å¥æ¥å®Œæˆè¯¥å·¥ä½œã€‚ä½ å¿…é¡»äº‹å…ˆçŸ¥é“æ‰€æœ‰äº§å“å’Œç›’å­çš„ç±»åˆ«ï¼Œæ‰€æœ‰ç›’å­çš„åµŒå¥—å±‚æ•°ä»¥åŠå…¶ä»–ç¹æ‚çš„ç»†èŠ‚ä¿¡æ¯ã€‚å› æ­¤ï¼Œç›´æ¥è®¡ç®—æä¸æ–¹ä¾¿ï¼Œç”šè‡³å®Œå…¨ä¸å¯è¡Œã€‚</p>\n<h5 id=\"è§£å†³æ–¹æ¡ˆ-7\"><a href=\"#è§£å†³æ–¹æ¡ˆ-7\" class=\"headerlink\" title=\"è§£å†³æ–¹æ¡ˆ\"></a>è§£å†³æ–¹æ¡ˆ</h5><p>ç»„åˆæ¨¡å¼å»ºè®®ä½¿ç”¨ä¸€ä¸ªé€šç”¨æ¥å£æ¥ä¸äº§å“å’Œç›’å­è¿›è¡Œäº¤äº’ï¼Œå¹¶ä¸”åœ¨è¯¥æ¥å£ä¸­å£°æ˜ä¸€ä¸ªè®¡ç®—æ€»ä»·çš„æ–¹æ³•ã€‚é‚£ä¹ˆæ–¹æ³•è¯¥å¦‚ä½•è®¾è®¡å‘¢ï¼Ÿå¯¹äºä¸€ä¸ªäº§å“ï¼Œè¯¥æ–¹æ³•ç›´æ¥è¿”å›å…¶ä»·æ ¼ï¼›å¯¹äºä¸€ä¸ªç›’å­ï¼Œè¯¥æ–¹æ³•éå†ç›’å­ä¸­çš„æ‰€æœ‰é¡¹ç›®ï¼Œè¯¢é—®æ¯ä¸ªé¡¹ç›®çš„ä»·æ ¼ï¼Œç„¶åè¿”å›è¯¥ç›’å­çš„æ€»ä»·æ ¼ã€‚å¦‚æœå…¶ä¸­æŸä¸ªé¡¹ç›®æ˜¯å°ä¸€å·çš„ç›’å­ï¼Œé‚£ä¹ˆå½“å‰ç›’å­ä¹Ÿä¼šéå†å…¶ä¸­çš„æ‰€æœ‰é¡¹ç›®ï¼Œä»¥æ­¤ç±»æ¨ï¼Œç›´åˆ°è®¡ç®—å‡ºæ‰€æœ‰å†…éƒ¨ç»„æˆéƒ¨åˆ†çš„ä»·æ ¼ã€‚ä½ ç”šè‡³å¯ä»¥åœ¨ç›’å­çš„æœ€ç»ˆä»·æ ¼ä¸­å¢åŠ é¢å¤–è´¹ç”¨ï¼Œä½œä¸ºè¯¥ç›’å­çš„åŒ…è£…è´¹ç”¨ã€‚<strong>ç±»ä¼¼äºæ ‘çš„é€’å½’éå†</strong><br>è¯¥æ–¹å¼çš„æœ€å¤§ä¼˜ç‚¹åœ¨äºä½ æ— éœ€äº†è§£æ„æˆæ ‘çŠ¶ç»“æ„çš„å¯¹è±¡çš„å…·ä½“ç±»ã€‚ä½ ä¹Ÿæ— éœ€äº†è§£å¯¹è±¡æ˜¯ç®€å•çš„äº§å“è¿˜æ˜¯å¤æ‚çš„ç›’å­ã€‚ä½ åªéœ€è°ƒç”¨é€šç”¨æ¥å£ä»¥ç›¸åŒçš„æ–¹å¼å¯¹å…¶è¿›è¡Œå¤„ç†å³å¯ã€‚å½“ä½ è°ƒç”¨è¯¥æ–¹æ³•åï¼Œå¯¹è±¡ä¼šå°†è¯·æ±‚æ²¿ç€æ ‘ç»“æ„ä¼ é€’ä¸‹å»ã€‚</p>\n<h5 id=\"ç»„åˆæ¨¡å¼ç»“æ„\"><a href=\"#ç»„åˆæ¨¡å¼ç»“æ„\" class=\"headerlink\" title=\"ç»„åˆæ¨¡å¼ç»“æ„\"></a>ç»„åˆæ¨¡å¼ç»“æ„</h5><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220818150405.png\" alt=\"img\"></p>\n<p>1.<strong>ç»„ä»¶(ComÂ­poÂ­nent)</strong> æ¥å£æè¿°äº†æ ‘ä¸­ç®€å•é¡¹ç›®å’Œå¤æ‚é¡¹ç›®æ‰€å…±æœ‰çš„æ“ä½œã€‚</p>\n<p>2.<strong>å¶èŠ‚ç‚¹(Leaf)</strong> æ˜¯æ ‘çš„åŸºæœ¬ç»“æ„ï¼Œå®ƒä¸åŒ…å«å­é¡¹ç›®ã€‚<br>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå¶èŠ‚ç‚¹æœ€ç»ˆä¼šå®Œæˆå¤§éƒ¨åˆ†çš„å®é™…å·¥ä½œï¼Œ å› ä¸ºå®ƒä»¬æ— æ³•å°†å·¥ä½œæŒ‡æ´¾ç»™å…¶ä»–éƒ¨åˆ†ã€‚</p>\n<p>3.<strong>å®¹å™¨(ConÂ­tainÂ­er)</strong> â€”â€”åˆå <strong>â€œç»„åˆ (ComÂ­posÂ­ite)â€</strong>â€”â€”æ˜¯åŒ…å«å¶èŠ‚ç‚¹æˆ–å…¶ä»–å®¹å™¨ç­‰å­é¡¹ç›®çš„å•ä½ã€‚å®¹å™¨ä¸çŸ¥é“å…¶å­é¡¹ç›®æ‰€å±çš„å…·ä½“ç±»ï¼Œå®ƒåªé€šè¿‡é€šç”¨çš„ç»„ä»¶æ¥å£ä¸å…¶å­é¡¹ç›®äº¤äº’ã€‚<br>å®¹å™¨æ¥æ”¶åˆ°è¯·æ±‚åä¼šå°†å·¥ä½œåˆ†é…ç»™è‡ªå·±çš„å­é¡¹ç›®ï¼Œå¤„ç†ä¸­é—´ç»“æœï¼Œç„¶åå°†æœ€ç»ˆç»“æœè¿”å›ç»™å®¢æˆ·ç«¯ã€‚</p>\n<p>4.<strong>å®¢æˆ·ç«¯(Client)</strong> é€šè¿‡ç»„ä»¶æ¥å£ä¸æ‰€æœ‰é¡¹ç›®äº¤äº’ã€‚å› æ­¤ï¼Œå®¢æˆ·ç«¯èƒ½ä»¥ç›¸åŒæ–¹å¼ä¸æ ‘çŠ¶ç»“æ„ä¸­çš„ç®€å•æˆ–å¤æ‚é¡¹ç›®äº¤äº’ã€‚</p>\n<h5 id=\"ä¼ªä»£ç -7\"><a href=\"#ä¼ªä»£ç -7\" class=\"headerlink\" title=\"ä¼ªä»£ç \"></a>ä¼ªä»£ç </h5><p>ä¸€ä¸ªä¾‹å­æ˜¯åˆ©ç”¨ç»„åˆæ¨¡å¼åœ¨å›¾å½¢ç¼–è¾‘å™¨ä¸­å®ç°ä¸€ç³»åˆ—çš„å‡ ä½•å›¾å½¢ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220818151017.png\" alt=\"img\"></p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title\">Graphic</span> </span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">move</span>(<span class=\"params\">x,y</span>)</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">draw</span>()</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//Dotç±»æ˜¯å¶èŠ‚ç‚¹ï¼Œä¸èƒ½èƒ½åŒ…å«ä»»ä½•å­å¯¹è±¡ï¼Œé€šå¸¸å®Œæˆæ‰€æœ‰å·¥ä½œ</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">Dot</span> : <span class=\"title\">Graphic</span> </span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> T x,y;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">Dot</span>(<span class=\"params\">T x,T y</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">//..</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">move</span>(<span class=\"params\">T x,T y</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.x += x,<span class=\"keyword\">this</span>.y +=y;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">draw</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">//..</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//æ‰€æœ‰çš„ç»„ä»¶ç±»éƒ½å¯ä»¥æ‹“å±•</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">Circle</span> : <span class=\"title\">Dot</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> T radius;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">Circle</span>(<span class=\"params\">T x,T y,T radius</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">//..</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">draw</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">//...</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//CompoundGraphicç±»æ˜¯å¤æ‚ç»„ä»¶ï¼Œä¹Ÿå°±æ˜¯æ ‘ä¸­çš„éå¶å­èŠ‚ç‚¹</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">CompoundGraphic</span> : <span class=\"title\">Graphic</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> Graphic[] chidren;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">add</span>(<span class=\"params\">Graphic child</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">//æ·»åŠ è‡³chidrenæ•°ç»„</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">remove</span>(<span class=\"params\">Graphic child</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">//ç§»é™¤chidrenæ•°ç»„é‡Œçš„ä¸€ä¸ªchild</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//éå†æ¯ä¸€ä¸ªchildï¼Œè®©childæ¥åšå…·ä½“çš„äº‹æƒ…</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">move</span>(<span class=\"params\">x,y</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">foreach</span> (<span class=\"keyword\">var</span> child <span class=\"keyword\">in</span> children)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            child.move(x,y);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">draw</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">//åˆ†ä¸¤æ­¥ï¼Œä¸€ä¸ªæ˜¯ç”»å®Œæ‰€æœ‰childçš„å†…å®¹</span></span><br><span class=\"line\">        <span class=\"comment\">//ç¬¬äºŒæ­¥æ˜¯æ ¹æ®è‡ªèº«å†…å®¹ç”»ç‚¹ä¸œè¥¿</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//ç®€æ˜çš„å®¢æˆ·ç«¯ä»£ç </span></span><br><span class=\"line\"></span><br><span class=\"line\">CompoundGraphic tree = <span class=\"keyword\">new</span> CompoundGraphic();</span><br><span class=\"line\">CompoundGraphic branch1 = <span class=\"keyword\">new</span> CompoundGraphic();</span><br><span class=\"line\">branch1.Add(<span class=\"keyword\">new</span> Dot(<span class=\"number\">1</span>,<span class=\"number\">2</span>));</span><br><span class=\"line\">branch1.Add(<span class=\"keyword\">new</span> Dot(<span class=\"number\">3</span>,<span class=\"number\">4</span>));</span><br><span class=\"line\">CompoundGraphic branch2 = <span class=\"keyword\">new</span> CompoundGraphic();</span><br><span class=\"line\">branch2.Add(<span class=\"keyword\">new</span> Circle(<span class=\"number\">5</span>,<span class=\"number\">6</span>,<span class=\"number\">3</span>));</span><br><span class=\"line\">branch2.Add(<span class=\"keyword\">new</span> Dot(<span class=\"number\">7</span>,<span class=\"number\">8</span>));</span><br><span class=\"line\">branch3.Add(<span class=\"keyword\">new</span> Dot(<span class=\"number\">9</span>,<span class=\"number\">10</span>));</span><br><span class=\"line\">tree.Add(branch1);</span><br><span class=\"line\">tree.Add(branch2);</span><br><span class=\"line\"></span><br><span class=\"line\">tree.move(<span class=\"number\">1</span>,<span class=\"number\">2</span>);</span><br><span class=\"line\">tree.draw();</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"é€‚åˆç»„åˆæ¨¡å¼çš„åœ°æ–¹\"><a href=\"#é€‚åˆç»„åˆæ¨¡å¼çš„åœ°æ–¹\" class=\"headerlink\" title=\"é€‚åˆç»„åˆæ¨¡å¼çš„åœ°æ–¹\"></a>é€‚åˆç»„åˆæ¨¡å¼çš„åœ°æ–¹</h5><ul>\n<li>å¦‚æœä½ éœ€è¦å®ç°<strong>æ ‘çŠ¶å¯¹è±¡ç»“æ„</strong>ï¼Œå¯ä»¥ä½¿ç”¨ç»„åˆæ¨¡å¼ã€‚</li>\n<li>å¦‚æœä½ å¸Œæœ›å®¢æˆ·ç«¯ä»£ç ä»¥<strong>ç›¸åŒæ–¹å¼å¤„ç†ç®€å•å’Œå¤æ‚å…ƒç´ </strong>ï¼Œå¯ä»¥ä½¿ç”¨è¯¥æ¨¡å¼ã€‚</li>\n</ul>\n<h5 id=\"ç»„åˆæ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"><a href=\"#ç»„åˆæ¨¡å¼çš„ä¼˜ç¼ºç‚¹\" class=\"headerlink\" title=\"ç»„åˆæ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"></a>ç»„åˆæ¨¡å¼çš„ä¼˜ç¼ºç‚¹</h5><p><strong>ä¼˜ç‚¹</strong> ï¼š</p>\n<ul>\n<li>ä½ å¯ä»¥åˆ©ç”¨<strong>å¤šæ€</strong>å’Œ<strong>é€’å½’</strong>æœºåˆ¶æ›´æ–¹ä¾¿åœ°ä½¿ç”¨å¤æ‚æ ‘ç»“æ„ã€‚</li>\n<li>ç¬¦åˆOCP</li>\n</ul>\n<p><strong>ç¼ºç‚¹</strong> ï¼š</p>\n<ul>\n<li>å¯¹äºåŠŸèƒ½å·®å¼‚è¾ƒå¤§çš„ç±»ï¼Œæä¾›å…¬å…±æ¥å£æˆ–è®¸ä¼šæœ‰å›°éš¾ã€‚åœ¨ç‰¹å®šæƒ…å†µä¸‹ï¼Œä½ éœ€è¦è¿‡åº¦ä¸€èˆ¬åŒ–ç»„ä»¶æ¥å£ï¼Œä½¿å…¶å˜å¾—ä»¤äººéš¾ä»¥ç†è§£ã€‚</li>\n</ul>\n<h4 id=\"Decorator-è£…é¥°æ¨¡å¼\"><a href=\"#Decorator-è£…é¥°æ¨¡å¼\" class=\"headerlink\" title=\"Decorator(è£…é¥°æ¨¡å¼)\"></a>Decorator(è£…é¥°æ¨¡å¼)</h4><p>è£…é¥°æ¨¡å¼æ˜¯ä¸€ç§ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼Œå…è®¸ä½ é€šè¿‡å°†å¯¹è±¡æ”¾å…¥åŒ…å«è¡Œä¸ºçš„ç‰¹æ®Šå°è£…å¯¹è±¡ä¸­æ¥ä¸ºåŸå¯¹è±¡ç»‘å®šæ–°çš„è¡Œä¸ºã€‚</p>\n<h5 id=\"é—®é¢˜-8\"><a href=\"#é—®é¢˜-8\" class=\"headerlink\" title=\"é—®é¢˜\"></a>é—®é¢˜</h5><p>å‡è®¾ä½ æ­£åœ¨å¼€å‘ä¸€ä¸ªæä¾›é€šçŸ¥åŠŸèƒ½çš„åº“ï¼Œå…¶ä»–ç¨‹åºå¯ä½¿ç”¨å®ƒå‘ç”¨æˆ·å‘é€å…³äºé‡è¦äº‹ä»¶çš„é€šçŸ¥ã€‚<br>åº“çš„æœ€åˆç‰ˆæœ¬åŸºäº<strong>é€šçŸ¥å™¨NotiÂ­fiÂ­erç±»</strong>ï¼Œå…¶ä¸­åªæœ‰å¾ˆå°‘çš„å‡ ä¸ªæˆå‘˜å˜é‡ï¼Œä¸€ä¸ªæ„é€ å‡½æ•°å’Œä¸€ä¸ªsendå‘é€æ–¹æ³•ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220818203702.png\" alt=\"img\"></p>\n<p>æ­¤åæŸä¸ªæ—¶åˆ»ï¼Œä½ ä¼šå‘ç°åº“çš„ç”¨æˆ·å¸Œæœ›ä½¿ç”¨é™¤é‚®ä»¶é€šçŸ¥ä¹‹å¤–çš„åŠŸèƒ½ã€‚è®¸å¤šç”¨æˆ·ä¼šå¸Œæœ›æ¥æ”¶å…³äºç´§æ€¥äº‹ä»¶çš„æ‰‹æœºçŸ­ä¿¡ï¼Œè¿˜æœ‰äº›ç”¨æˆ·å¸Œæœ›åœ¨å¾®ä¿¡ä¸Šæ¥æ”¶æ¶ˆæ¯ï¼Œè€Œå…¬å¸ç”¨æˆ·åˆ™å¸Œæœ›åœ¨ QQ ä¸Šæ¥æ”¶æ¶ˆæ¯ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220818203808.png\" alt=\"img\"></p>\n<p>é¦–å…ˆæ‰©å±•é€šçŸ¥å™¨ç±»ï¼Œç„¶ååœ¨æ–°çš„å­ç±»ä¸­åŠ å…¥é¢å¤–çš„é€šçŸ¥æ–¹æ³•ã€‚ç°åœ¨å®¢æˆ·ç«¯è¦å¯¹æ‰€éœ€é€šçŸ¥å½¢å¼çš„å¯¹åº”ç±»è¿›è¡Œåˆå§‹åŒ–ï¼Œç„¶åä½¿ç”¨è¯¥ç±»å‘é€åç»­æ‰€æœ‰çš„é€šçŸ¥æ¶ˆæ¯ã€‚ä½†æ˜¯å¾ˆå¿«æœ‰äººä¼šé—®ï¼šâ€‹â€œä¸ºä»€ä¹ˆä¸åŒæ—¶ä½¿ç”¨å¤šç§é€šçŸ¥å½¢å¼å‘¢ï¼Ÿå¦‚æœæˆ¿å­ç€ç«äº†ï¼Œä½ å¤§æ¦‚ä¼šæƒ³åœ¨æ‰€æœ‰æ¸ é“ä¸­éƒ½æ”¶åˆ°ç›¸åŒçš„æ¶ˆæ¯å§ã€‚â€ä½ å¯ä»¥å°è¯•åˆ›å»ºä¸€ä¸ªç‰¹æ®Šå­ç±»æ¥å°†å¤šç§é€šçŸ¥æ–¹æ³•ç»„åˆåœ¨ä¸€èµ·ä»¥è§£å†³è¯¥é—®é¢˜ã€‚ä½†è¿™ç§æ–¹å¼ä¼šä½¿å¾—ä»£ç é‡è¿…é€Ÿè†¨èƒ€ï¼Œä¸ä»…ä»…æ˜¯ç¨‹åºåº“ä»£ç ï¼Œå®¢æˆ·ç«¯ä»£ç ä¹Ÿä¼šå¦‚æ­¤ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220818203913.png\" alt=\"img\"></p>\n<h5 id=\"è§£å†³æ–¹æ¡ˆ-8\"><a href=\"#è§£å†³æ–¹æ¡ˆ-8\" class=\"headerlink\" title=\"è§£å†³æ–¹æ¡ˆ\"></a>è§£å†³æ–¹æ¡ˆ</h5><p>å½“ä½ éœ€è¦æ›´æ”¹ä¸€ä¸ªå¯¹è±¡çš„è¡Œä¸ºæ—¶ï¼Œç¬¬ä¸€ä¸ªè·³å…¥è„‘æµ·çš„æƒ³æ³•å°±æ˜¯æ‰©å±•å®ƒæ‰€å±çš„ç±»ã€‚ä½†æ˜¯ï¼Œä½ ä¸èƒ½å¿½è§†ç»§æ‰¿å¯èƒ½å¼•å‘çš„å‡ ä¸ªä¸¥é‡é—®é¢˜ã€‚</p>\n<ul>\n<li>ç»§æ‰¿æ˜¯é™æ€çš„ã€‚ä½ æ— æ³•åœ¨è¿è¡Œæ—¶æ›´æ”¹å·²æœ‰å¯¹è±¡çš„è¡Œä¸ºï¼Œåªèƒ½ä½¿ç”¨ç”±ä¸åŒå­ç±»åˆ›å»ºçš„å¯¹è±¡æ¥æ›¿ä»£å½“å‰çš„æ•´ä¸ªå¯¹è±¡ã€‚</li>\n<li>å­ç±»åªèƒ½æœ‰ä¸€ä¸ªçˆ¶ç±»ã€‚å¤§éƒ¨åˆ†ç¼–ç¨‹è¯­è¨€ä¸å…è®¸ä¸€ä¸ªç±»åŒæ—¶ç»§æ‰¿å¤šä¸ªç±»çš„è¡Œä¸ºã€‚</li>\n</ul>\n<p>å…¶ä¸­ä¸€ç§æ–¹æ³•æ˜¯ç”¨<strong>èšåˆæˆ–ç»„åˆ(has a&#x2F;contains a)</strong> ï¼Œè€Œä¸æ˜¯ç»§æ‰¿ã€‚ä¸¤è€…çš„å·¥ä½œæ–¹å¼å‡ ä¹ä¸€æ¨¡ä¸€æ ·ï¼šä¸€ä¸ªå¯¹è±¡åŒ…å«æŒ‡å‘å¦ä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨ï¼Œå¹¶å°†éƒ¨åˆ†å·¥ä½œå§”æ´¾ç»™å¼•ç”¨å¯¹è±¡ï¼›ç»§æ‰¿ä¸­çš„å¯¹è±¡åˆ™ç»§æ‰¿äº†çˆ¶ç±»çš„è¡Œä¸ºï¼Œå®ƒä»¬è‡ªå·±èƒ½å¤Ÿå®Œæˆè¿™äº›å·¥ä½œã€‚ä½ å¯ä»¥ä½¿ç”¨è¿™ä¸ªæ–°æ–¹æ³•æ¥è½»æ¾æ›¿æ¢å„ç§è¿æ¥çš„ â€œå°å¸®æ‰‹â€ å¯¹è±¡ï¼Œä»è€Œèƒ½åœ¨è¿è¡Œæ—¶æ”¹å˜å®¹å™¨çš„è¡Œä¸ºã€‚ä¸€ä¸ªå¯¹è±¡å¯ä»¥ä½¿ç”¨å¤šä¸ªç±»çš„è¡Œä¸ºï¼Œ åŒ…å«å¤šä¸ªæŒ‡å‘å…¶ä»–å¯¹è±¡çš„å¼•ç”¨ï¼Œå¹¶å°†å„ç§å·¥ä½œå§”æ´¾ç»™å¼•ç”¨å¯¹è±¡<strong>èšåˆï¼ˆæˆ–ç»„åˆï¼‰ ç»„åˆæ˜¯è®¸å¤šè®¾è®¡æ¨¡å¼èƒŒåçš„å…³é”®åŸåˆ™ ï¼ˆåŒ…æ‹¬è£…é¥°åœ¨å†…ï¼‰ã€‚è®°ä½è¿™ä¸€ç‚¹åï¼Œè®©æˆ‘ä»¬ç»§ç»­å…³äºæ¨¡å¼çš„è®¨è®º</strong>ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220818204142.png\" alt=\"img\"></p>\n<p>é‚£ä¹ˆä»€ä¹ˆæ—¶å€™ä¸€ä¸ªç®€å•çš„å°è£…å™¨å¯ä»¥è¢«ç§°ä¸ºæ˜¯çœŸæ­£çš„è£…é¥°å‘¢ï¼Ÿæ­£å¦‚ä¹‹å‰æåˆ°çš„ï¼Œå°è£…å™¨å®ç°äº†ä¸å…¶å°è£…å¯¹è±¡ç›¸åŒçš„æ¥å£ã€‚å› æ­¤ä»å®¢æˆ·ç«¯çš„è§’åº¦æ¥çœ‹ï¼Œè¿™äº›å¯¹è±¡æ˜¯<strong>å®Œå…¨ä¸€æ ·</strong>çš„ã€‚å°è£…å™¨ä¸­çš„å¼•ç”¨æˆå‘˜å˜é‡å¯ä»¥æ˜¯éµå¾ªç›¸åŒæ¥å£çš„ä»»æ„å¯¹è±¡ã€‚è¿™ä½¿å¾—ä½ å¯ä»¥å°†<strong>ä¸€ä¸ªå¯¹è±¡æ”¾å…¥å¤šä¸ªå°è£…å™¨</strong>ä¸­ï¼Œå¹¶åœ¨å¯¹è±¡ä¸­æ·»åŠ æ‰€æœ‰è¿™äº›å°è£…å™¨çš„ç»„åˆè¡Œä¸ºã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220818205047.png\" alt=\"img\"></p>\n<h5 id=\"è£…é¥°æ¨¡å¼ç»“æ„\"><a href=\"#è£…é¥°æ¨¡å¼ç»“æ„\" class=\"headerlink\" title=\"è£…é¥°æ¨¡å¼ç»“æ„\"></a>è£…é¥°æ¨¡å¼ç»“æ„</h5><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220818205848.png\" alt=\"img\"></p>\n<p>1.<strong>éƒ¨ä»¶(ComÂ­poÂ­nent)</strong> å£°æ˜å°è£…å™¨å’Œè¢«å°è£…å¯¹è±¡çš„å…¬ç”¨æ¥å£ã€‚</p>\n<p>2.<strong>å…·ä½“éƒ¨ä»¶(ConÂ­crete ComÂ­poÂ­nent)</strong> ç±»æ˜¯è¢«å°è£…å¯¹è±¡æ‰€å±çš„ç±»ã€‚ å®ƒå®šä¹‰äº†åŸºç¡€è¡Œä¸ºï¼Œ ä½†è£…é¥°ç±»å¯ä»¥æ”¹å˜è¿™äº›è¡Œä¸ºã€‚</p>\n<p>3.<strong>åŸºç¡€è£…é¥°(Base DecÂ­oÂ­raÂ­tor)</strong> ç±»æ‹¥æœ‰ä¸€ä¸ªæŒ‡å‘è¢«å°è£…å¯¹è±¡çš„å¼•ç”¨æˆå‘˜å˜é‡ã€‚ è¯¥å˜é‡çš„ç±»å‹åº”å½“è¢«å£°æ˜ä¸ºé€šç”¨éƒ¨ä»¶æ¥å£ï¼Œ è¿™æ ·å®ƒå°±å¯ä»¥å¼•ç”¨å…·ä½“çš„éƒ¨ä»¶å’Œè£…é¥°ã€‚ è£…é¥°åŸºç±»ä¼šå°†æ‰€æœ‰æ“ä½œå§”æ´¾ç»™è¢«å°è£…çš„å¯¹è±¡ã€‚</p>\n<p>4.<strong>å…·ä½“è£…é¥°ç±»(ConÂ­crete DecÂ­oÂ­raÂ­tors)</strong> å®šä¹‰äº†å¯åŠ¨æ€æ·»åŠ åˆ°éƒ¨ä»¶çš„é¢å¤–è¡Œä¸ºã€‚ å…·ä½“è£…é¥°ç±»ä¼šé‡å†™è£…é¥°åŸºç±»çš„æ–¹æ³•ï¼Œ å¹¶åœ¨è°ƒç”¨çˆ¶ç±»æ–¹æ³•ä¹‹å‰æˆ–ä¹‹åè¿›è¡Œé¢å¤–çš„è¡Œä¸ºã€‚</p>\n<p>5.<strong>å®¢æˆ·ç«¯(Client)</strong> å¯ä»¥ä½¿ç”¨å¤šå±‚è£…é¥°æ¥å°è£…éƒ¨ä»¶ï¼Œ åªè¦å®ƒèƒ½ä½¿ç”¨é€šç”¨æ¥å£ä¸æ‰€æœ‰å¯¹è±¡äº’åŠ¨å³å¯ã€‚</p>\n<h5 id=\"ä¼ªä»£ç -8\"><a href=\"#ä¼ªä»£ç -8\" class=\"headerlink\" title=\"ä¼ªä»£ç \"></a>ä¼ªä»£ç </h5><p>ä»…ä»…çœ‹ä¸Šé¢çš„å†…å®¹åªæ˜¯çŸ¥é“ä¸ªå¤§æ¦‚ï¼Œæ¥çœ‹çœ‹æ›´å…·ä½“çš„ä¾‹å­ä»¥åŠå†™å†™ä¸€äº›ä¸é‚£ä¹ˆä¼ªçš„ä¼ªä»£ç ã€‚</p>\n<p><strong>ç¬¬ä¸€ä¸ªä¾‹å­ï¼Œc#ç±»å‹çš„å¤§æ¦‚ç»“æ„</strong> :</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//å®šä¹‰æŠ½è±¡Componentç±»ï¼Œå‡†å¤‡è¢«å…·ä½“Componentç±»å’ŒBase Decoratorç±»ç»§æ‰¿</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> <span class=\"keyword\">class</span> <span class=\"title\">Component</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> <span class=\"built_in\">string</span> <span class=\"title\">Operation</span>()</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//å…·ä½“Componentç±»å®šä¹‰äº†åŸºç¡€è¡Œä¸ºï¼Œè£…é¥°å™¨å°±æ˜¯ä¿®é¥°è¿™äº›è¡Œä¸º</span></span><br><span class=\"line\"><span class=\"comment\">//æ¯”å¦‚è¯´ä½ è¦ç”»ä¸€ä¸ªåœ†ï¼Œè¿™æ˜¯æœ¬èº«è¦å¹²çš„äº‹æƒ…</span></span><br><span class=\"line\"><span class=\"comment\">//å¦‚æœè¦ç”»ä¸€ä¸ªçº¢è‰²çš„åœ†ï¼Œå¯ä»¥ç”¨ä¿®é¥°å™¨æ¥ä¿®é¥°è¿™ä¸ªè¡Œä¸º</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">ConcreteComponent</span> : <span class=\"title\">Component</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">override</span> <span class=\"built_in\">string</span> <span class=\"title\">Operation</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">&quot;ConcreteComponent&quot;</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//è£…é¥°å™¨è¦è·Ÿå…·ä½“ç»„ä»¶ç»§æ‰¿ç›¸åŒçš„ç±»</span></span><br><span class=\"line\"><span class=\"comment\">//è¯¥ç±»ä¸»è¦ä¸ºäº†å®šä¹‰æ‰€æœ‰å…·ä½“è£…é¥°ç±»çš„æ¥å£ã€‚</span></span><br><span class=\"line\"><span class=\"comment\">//é€šå¸¸æœ‰ä¸€ä¸ªå…³äºComponentçš„æˆå‘˜å˜é‡,å¹¶ä¸”è¦åˆå§‹åŒ–</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> <span class=\"keyword\">class</span> <span class=\"title\">Decorator</span> : <span class=\"title\">Component</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">protected</span> Component _component;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//åˆå§‹åŒ–</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">Decorator</span>(<span class=\"params\">Component component</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._component = component;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">override</span> <span class=\"built_in\">string</span> <span class=\"title\">Operation</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"keyword\">this</span>._component != <span class=\"literal\">null</span>)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>._component.Operation();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">else</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"built_in\">string</span>.Empty;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">ConcreteDecoratorA</span> : <span class=\"title\">Decorator</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">ConcreteDecoratorA</span>(<span class=\"params\">Component component</span>) : <span class=\"title\">base</span>(<span class=\"params\">component</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">//ç»§æ‰¿åˆå§‹åŒ–</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">override</span> <span class=\"built_in\">string</span> <span class=\"title\">Operation</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">$&quot;ConcreteDecoratorA(<span class=\"subst\">&#123;<span class=\"keyword\">base</span>.Operation()&#125;</span>)&quot;</span>;</span><br><span class=\"line\">    &#125;   </span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">ConcreteDecoratorB</span> : <span class=\"title\">Decorator</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">ConcreteDecoratorB</span>(<span class=\"params\">Component component</span>) : <span class=\"title\">base</span>(<span class=\"params\">component</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">//ç»§æ‰¿åˆå§‹åŒ–</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">override</span> <span class=\"built_in\">string</span> <span class=\"title\">Operation</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">$&quot;ConcreteDecoratorB(<span class=\"subst\">&#123;<span class=\"keyword\">base</span>.Operation()&#125;</span>)&quot;</span>;</span><br><span class=\"line\">    &#125;   </span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">Client</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">ClientCode</span>(<span class=\"params\">Component component</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Console.WriteLine(<span class=\"string\">&quot;RESULT: &quot;</span> + component.Operation());</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//å®¢æˆ·ç«¯ä»£ç </span></span><br><span class=\"line\">Client client = <span class=\"keyword\">new</span> Client();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> simple = <span class=\"keyword\">new</span> ConcreteComponent();</span><br><span class=\"line\"> Console.WriteLine(<span class=\"string\">&quot;Client: I get a simple component:&quot;</span>);</span><br><span class=\"line\">client.ClientCode(simple);</span><br><span class=\"line\">Console.WriteLine();</span><br><span class=\"line\"></span><br><span class=\"line\">ConcreteDecoratorA decorator1 = <span class=\"keyword\">new</span> ConcreteDecoratorA(simple);</span><br><span class=\"line\">ConcreteDecoratorB decorator2 = <span class=\"keyword\">new</span> ConcreteDecoratorB(decorator1);</span><br><span class=\"line\">Console.WriteLine(<span class=\"string\">&quot;Client: Now I&#x27;ve got a decorated component:&quot;</span>);</span><br><span class=\"line\">client.ClientCode(decorator2);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/*æ¼”ç¤ºç»“æœ</span></span><br><span class=\"line\"><span class=\"comment\">Client: I get a simple component:</span></span><br><span class=\"line\"><span class=\"comment\">RESULT: ConcreteComponent</span></span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\">Client: Now I&#x27;ve got a decorated component:</span></span><br><span class=\"line\"><span class=\"comment\">RESULT: ConcreteDecoratorB(ConcreteDecoratorA(ConcreteComponent))</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br></pre></td></tr></table></figure>\n\n<p>ä¸Šä¸€ä¸ªä¾‹å­åŸºæœ¬ä¸Šå¯ä»¥çŸ¥é“å¤§æ¦‚çš„è¿ä½œæ–¹å¼ï¼Œä½†æ˜¯å¯¹äºä½¿ç”¨è¿˜ä¸èƒ½å¤Ÿäº†è§£ï¼Œæ¥ä¸‹æ¥çœ‹ä¸€ä¸ªæ¯”è¾ƒç®€å•çš„ä¾‹å­ï¼Œå¯ä»¥å¾ˆå®¹æ˜“ä½“ç°è£…é¥°å™¨æ˜¯åœ¨<strong>è£…é¥°å…·ä½“ç»„ä»¶çš„è¡Œä¸º</strong>ï¼Œæ„Ÿè§‰å°±è·Ÿc#ä¸€æ ·ï¼Œå¦‚æœ<strong>Component</strong>ç›¸å½“äºc#çš„æŠ½è±¡ç±»ï¼Œé‚£ä¹ˆ<strong>Decorator</strong>å°±ç›¸å½“äºc#çš„æ¥å£ï¼ˆä½†æ˜¯å®é™…ä¸Šc#çš„æ¥å£ä¸èƒ½ç»§æ‰¿ç±»ï¼‰</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220818212043.png\" alt=\"img\"></p>\n<p>å›¾æ˜¯javaçš„ç¤ºæ„å›¾ï¼Œä½†æ˜¯æˆ‘è¿™é‡Œç”¨c#å†™å‡ºæ¥</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//Componentç±»</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> <span class=\"keyword\">class</span> <span class=\"title\">Shape</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> <span class=\"keyword\">void</span> <span class=\"title\">draw</span>()</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//Concrete Component ç±»</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">Rectangle</span> : <span class=\"title\">Shape</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">override</span> <span class=\"keyword\">void</span> <span class=\"title\">draw</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Console.WriteLine(<span class=\"string\">&quot;Shape:Rectangle&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//Concrete Component ç±»</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">Circle</span> : <span class=\"title\">Shape</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">override</span> <span class=\"keyword\">void</span> <span class=\"title\">draw</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Console.WriteLine(<span class=\"string\">&quot;Shape:Circle&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//æŠ½è±¡Base Decoratorç±»</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> <span class=\"keyword\">class</span> <span class=\"title\">ShapeDecorator</span> : <span class=\"title\">Shape</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">protected</span> Shape decoratedShape;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">ShapeDecorator</span>(<span class=\"params\">Shape shape</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.decoratedShape = shape;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">override</span> <span class=\"keyword\">void</span> <span class=\"title\">draw</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        decoratedShape.draw();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//Concrete Decoratorç±»</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">RedShapeDecorator</span> : <span class=\"title\">ShapeDecorator</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">RedShapeDecorator</span>(<span class=\"params\">Shape shape</span>) : <span class=\"title\">base</span> (<span class=\"params\">shape</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">//ç»§æ‰¿åˆå§‹åŒ–</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">override</span> <span class=\"keyword\">void</span> <span class=\"title\">draw</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Console.Write(<span class=\"string\">&quot;Red + &quot;</span>);</span><br><span class=\"line\">        <span class=\"keyword\">base</span>.draw();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//å®¢æˆ·ç«¯ä»£ç </span></span><br><span class=\"line\"><span class=\"keyword\">var</span> circle = <span class=\"keyword\">new</span> Circle();</span><br><span class=\"line\">ShapeDecorator redCircle = <span class=\"keyword\">new</span> RedShapeDecorator(<span class=\"keyword\">new</span> Circle());</span><br><span class=\"line\">ShapeDecorator redRectangle = <span class=\"keyword\">new</span> RedShapeDecorator(<span class=\"keyword\">new</span> Rectangle());</span><br><span class=\"line\"></span><br><span class=\"line\">Console.WriteLine(<span class=\"string\">&quot;Circle with normal border&quot;</span>);</span><br><span class=\"line\">circle.draw();</span><br><span class=\"line\"></span><br><span class=\"line\">Console.WriteLine(<span class=\"string\">&quot;\\nCircle of red border&quot;</span>);</span><br><span class=\"line\">redCircle.draw();</span><br><span class=\"line\"></span><br><span class=\"line\">Console.WriteLine(<span class=\"string\">&quot;\\nRectangle of red border&quot;</span>);</span><br><span class=\"line\">redRectangle.draw();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/*è¿è¡Œç»“æœ</span></span><br><span class=\"line\"><span class=\"comment\">Circle with normal border</span></span><br><span class=\"line\"><span class=\"comment\">Shape:Circle</span></span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\">Circle of red border</span></span><br><span class=\"line\"><span class=\"comment\">Red + Shape:Circle</span></span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\">Rectangle of red border</span></span><br><span class=\"line\"><span class=\"comment\">Red + Shape:Rectangle</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br></pre></td></tr></table></figure>\n\n<h5 id=\"é€‚åˆè£…é¥°æ¨¡å¼çš„åœ°æ–¹\"><a href=\"#é€‚åˆè£…é¥°æ¨¡å¼çš„åœ°æ–¹\" class=\"headerlink\" title=\"é€‚åˆè£…é¥°æ¨¡å¼çš„åœ°æ–¹\"></a>é€‚åˆè£…é¥°æ¨¡å¼çš„åœ°æ–¹</h5><ul>\n<li>å¦‚æœä½ å¸Œæœ›åœ¨æ— éœ€ä¿®æ”¹ä»£ç çš„æƒ…å†µä¸‹å³å¯ä½¿ç”¨å¯¹è±¡ï¼Œä¸”å¸Œæœ›åœ¨è¿è¡Œæ—¶ä¸ºå¯¹è±¡æ–°å¢é¢å¤–çš„è¡Œä¸ºï¼Œå¯ä»¥ä½¿ç”¨è£…é¥°æ¨¡å¼ã€‚</li>\n<li>å¦‚æœç”¨ç»§æ‰¿æ¥æ‰©å±•å¯¹è±¡è¡Œä¸ºçš„æ–¹æ¡ˆéš¾ä»¥å®ç°æˆ–è€…æ ¹æœ¬ä¸å¯è¡Œï¼Œä½ å¯ä»¥ä½¿ç”¨è¯¥æ¨¡å¼ã€‚</li>\n</ul>\n<h5 id=\"è£…é¥°æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"><a href=\"#è£…é¥°æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\" class=\"headerlink\" title=\"è£…é¥°æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"></a>è£…é¥°æ¨¡å¼çš„ä¼˜ç¼ºç‚¹</h5><p><strong>ä¼˜ç‚¹</strong> ï¼š</p>\n<ul>\n<li>ä½ æ— éœ€åˆ›å»ºæ–°å­ç±»å³å¯æ‰©å±•å¯¹è±¡çš„è¡Œä¸ºã€‚</li>\n<li>ä½ å¯ä»¥åœ¨è¿è¡Œæ—¶æ·»åŠ æˆ–åˆ é™¤å¯¹è±¡çš„åŠŸèƒ½ã€‚</li>\n<li>ä½ å¯ä»¥ç”¨å¤šä¸ªè£…é¥°å°è£…å¯¹è±¡æ¥ç»„åˆå‡ ç§è¡Œä¸ºã€‚</li>\n<li>ç¬¦åˆSRP</li>\n</ul>\n<p><strong>ç¼ºç‚¹</strong> ï¼š</p>\n<ul>\n<li>åœ¨å°è£…å™¨æ ˆä¸­åˆ é™¤ç‰¹å®šå°è£…å™¨æ¯”è¾ƒå›°éš¾ã€‚</li>\n<li>å®ç°è¡Œä¸ºä¸å—è£…é¥°æ ˆé¡ºåºå½±å“çš„è£…é¥°æ¯”è¾ƒå›°éš¾ã€‚</li>\n<li>å„å±‚çš„åˆå§‹åŒ–é…ç½®ä»£ç çœ‹ä¸Šå»å¯èƒ½ä¼šå¾ˆç³Ÿç³•ã€‚</li>\n</ul>\n<h4 id=\"Fecade-å¤–è§‚æ¨¡å¼-x2F-é—¨é¢æ¨¡å¼\"><a href=\"#Fecade-å¤–è§‚æ¨¡å¼-x2F-é—¨é¢æ¨¡å¼\" class=\"headerlink\" title=\"Fecade(å¤–è§‚æ¨¡å¼&#x2F;é—¨é¢æ¨¡å¼)\"></a>Fecade(å¤–è§‚æ¨¡å¼&#x2F;é—¨é¢æ¨¡å¼)</h4><p>å¤–è§‚æ¨¡å¼æ˜¯ä¸€ç§ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼Œèƒ½ä¸ºç¨‹åºåº“ã€æ¡†æ¶æˆ–å…¶ä»–å¤æ‚ç±»æä¾›ä¸€ä¸ªç®€å•çš„æ¥å£ã€‚</p>\n<h5 id=\"é—®é¢˜-9\"><a href=\"#é—®é¢˜-9\" class=\"headerlink\" title=\"é—®é¢˜\"></a>é—®é¢˜</h5><p>å‡è®¾ä½ å¿…é¡»åœ¨ä»£ç ä¸­ä½¿ç”¨æŸä¸ª<strong>å¤æ‚çš„åº“æˆ–æ¡†æ¶ä¸­çš„ä¼—å¤šå¯¹è±¡</strong>ã€‚æ­£å¸¸æƒ…å†µä¸‹ï¼Œä½ éœ€è¦è´Ÿè´£æ‰€æœ‰å¯¹è±¡çš„åˆå§‹åŒ–å·¥ä½œã€ç®¡ç†å…¶ä¾èµ–å…³ç³»å¹¶æŒ‰æ­£ç¡®çš„é¡ºåºæ‰§è¡Œæ–¹æ³•ç­‰ã€‚æœ€ç»ˆï¼Œç¨‹åºä¸­ç±»çš„ä¸šåŠ¡é€»è¾‘å°†ä¸ç¬¬ä¸‰æ–¹ç±»çš„å®ç°ç»†èŠ‚ç´§å¯†è€¦åˆï¼Œä½¿å¾—ç†è§£å’Œç»´æŠ¤ä»£ç çš„å·¥ä½œå¾ˆéš¾è¿›è¡Œã€‚</p>\n<h5 id=\"è§£å†³æ–¹æ¡ˆ-9\"><a href=\"#è§£å†³æ–¹æ¡ˆ-9\" class=\"headerlink\" title=\"è§£å†³æ–¹æ¡ˆ\"></a>è§£å†³æ–¹æ¡ˆ</h5><p>å¤–è§‚ç±»ä¸ºåŒ…å«è®¸å¤šæ´»åŠ¨éƒ¨ä»¶çš„<strong>å¤æ‚å­ç³»ç»Ÿæä¾›ä¸€ä¸ªç®€å•çš„æ¥å£</strong>ã€‚ä¸ç›´æ¥è°ƒç”¨å­ç³»ç»Ÿç›¸æ¯”ï¼Œ å¤–è§‚æä¾›çš„åŠŸèƒ½å¯èƒ½æ¯”è¾ƒæœ‰é™ï¼Œ ä½†å®ƒå´åŒ…å«äº†å®¢æˆ·ç«¯çœŸæ­£å…³å¿ƒçš„åŠŸèƒ½ã€‚</p>\n<h5 id=\"å¤–è§‚æ¨¡å¼ç»“æ„\"><a href=\"#å¤–è§‚æ¨¡å¼ç»“æ„\" class=\"headerlink\" title=\"å¤–è§‚æ¨¡å¼ç»“æ„\"></a>å¤–è§‚æ¨¡å¼ç»“æ„</h5><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220818223832.png\" alt=\"img\"></p>\n<p>1.<strong>å¤–è§‚(Facade)</strong> æä¾›äº†ä¸€ç§è®¿é—®ç‰¹å®šå­ç³»ç»ŸåŠŸèƒ½çš„ä¾¿æ·æ–¹å¼ï¼Œ å…¶äº†è§£å¦‚ä½•é‡å®šå‘å®¢æˆ·ç«¯è¯·æ±‚ï¼Œ çŸ¥æ™“å¦‚ä½•æ“ä½œä¸€åˆ‡æ´»åŠ¨éƒ¨ä»¶ã€‚</p>\n<p>2.**åˆ›å»ºé™„åŠ å¤–è§‚(AddiÂ­tionÂ­al Facade)**ç±»å¯ä»¥é¿å…å¤šç§ä¸ç›¸å…³çš„åŠŸèƒ½æ±¡æŸ“å•ä¸€å¤–è§‚ï¼Œ ä½¿å…¶å˜æˆåˆä¸€ä¸ªå¤æ‚ç»“æ„ã€‚ å®¢æˆ·ç«¯å’Œå…¶ä»–å¤–è§‚éƒ½å¯ä½¿ç”¨é™„åŠ å¤–è§‚ã€‚</p>\n<p>3.<strong>å¤æ‚å­ç³»ç»Ÿ(ComÂ­plex SubÂ­sysÂ­tem)</strong> ç”±æ•°åä¸ªä¸åŒå¯¹è±¡æ„æˆã€‚å¦‚æœè¦ç”¨è¿™äº›å¯¹è±¡å®Œæˆæœ‰æ„ä¹‰çš„å·¥ä½œï¼Œä½ å¿…é¡»æ·±å…¥äº†è§£å­ç³»ç»Ÿçš„å®ç°ç»†èŠ‚ï¼Œæ¯”å¦‚æŒ‰ç…§æ­£ç¡®é¡ºåºåˆå§‹åŒ–å¯¹è±¡å’Œä¸ºå…¶æä¾›æ­£ç¡®æ ¼å¼çš„æ•°æ®ã€‚<br>å­ç³»ç»Ÿç±»ä¸ä¼šæ„è¯†åˆ°å¤–è§‚çš„å­˜åœ¨ï¼Œå®ƒä»¬åœ¨ç³»ç»Ÿå†…è¿ä½œå¹¶ä¸”ç›¸äº’ä¹‹é—´å¯ç›´æ¥è¿›è¡Œäº¤äº’ã€‚</p>\n<p>4.<strong>å®¢æˆ·ç«¯(Client)</strong> ä½¿ç”¨å¤–è§‚ä»£æ›¿å¯¹å­ç³»ç»Ÿå¯¹è±¡çš„ç›´æ¥è°ƒç”¨ã€‚</p>\n<h5 id=\"ä¼ªä»£ç -9\"><a href=\"#ä¼ªä»£ç -9\" class=\"headerlink\" title=\"ä¼ªä»£ç \"></a>ä¼ªä»£ç </h5><p>åœ¨æœ¬ä¾‹ä¸­ï¼Œå¤–è§‚æ¨¡å¼ç®€åŒ–äº†å®¢æˆ·ç«¯ä¸å¤æ‚è§†é¢‘è½¬æ¢æ¡†æ¶ä¹‹é—´çš„äº¤äº’ã€‚ä½ å¯ä»¥åˆ›å»ºä¸€ä¸ªå°è£…æ‰€éœ€åŠŸèƒ½å¹¶éšè—å…¶ä»–ä»£ç çš„å¤–è§‚ç±»ï¼Œä»è€Œæ— éœ€ä½¿å…¨éƒ¨ä»£ç ç›´æ¥ä¸æ•°åä¸ªæ¡†æ¶ç±»è¿›è¡Œäº¤äº’ã€‚è¯¥ç»“æ„è¿˜èƒ½å°†æœªæ¥æ¡†æ¶å‡çº§æˆ–æ›´æ¢æ‰€é€ æˆçš„å½±å“æœ€å°åŒ–ï¼Œå› ä¸ºä½ åªéœ€ä¿®æ”¹ç¨‹åºä¸­å¤–è§‚æ–¹æ³•çš„å®ç°å³å¯ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220818224224.png\" alt=\"img\"></p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//å„ç§å­ç³»ç»Ÿç±»</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">VideoFile</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">// ...</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">OggCompressionCodec</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">// ...</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">MPEG4CompressionCodec</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">// ...</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">CodecFactory</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">// ...</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">BitrateReader</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">// ...</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">AudioMixer</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">// ...</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//ä¸€ä¸ªå¤–è§‚ç±»ï¼Œç›®çš„æ˜¯ä¸ºäº†å°†å¾ˆå¤šçš„å­ç³»ç»Ÿç±»è½¬æ¢æˆä¸€ä¸ªæ¥å£æ¥ç»™å®¢æˆ·ç«¯çœ‹</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">VideoConverter</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">//å‡è®¾è¿”å›ç±»å‹å°±æ˜¯Fileç±»</span></span><br><span class=\"line\">    <span class=\"comment\">//ä¸è¦åœ¨æ„é‡Œé¢çš„å…·ä½“å†…å®¹ï¼Œåªç”¨çŸ¥é“è¿™æ˜¯ä¸ªè½¬åŒ–å™¨å°±è¡Œäº†</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> File <span class=\"title\">converter</span>(<span class=\"params\">filename,format</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        File file = <span class=\"keyword\">new</span> VideoFile(filename);</span><br><span class=\"line\">        CodecFactory sourceCodec = <span class=\"keyword\">new</span> CodecFactory.extract(file);</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (format == <span class=\"string\">&quot;mp4&quot;</span>)</span><br><span class=\"line\">            MPEG4CompressionCodec destinationCodec = <span class=\"keyword\">new</span> MPEG4CompressionCodec();</span><br><span class=\"line\">        <span class=\"keyword\">else</span></span><br><span class=\"line\">            OggCompressionCodec destinationCodec = <span class=\"keyword\">new</span> OggCompressionCodec();</span><br><span class=\"line\">        BitrateReader buffer = BitrateReader.read(filename, sourceCodec);</span><br><span class=\"line\">        BitrateReader result = BitrateReader.convert(buffer, destinationCodec);</span><br><span class=\"line\">        AudioMixer result = (<span class=\"keyword\">new</span> AudioMixer()).fix(result);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> File(result);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//å®¢æˆ·ç«¯ä»£ç </span></span><br><span class=\"line\"><span class=\"keyword\">var</span> convertor = <span class=\"keyword\">new</span> VideoConverter();</span><br><span class=\"line\"><span class=\"keyword\">var</span> mp4 = convertor.convert(<span class=\"string\">&quot;funny-cats-video.ogg&quot;</span>, <span class=\"string\">&quot;mp4&quot;</span>)</span><br><span class=\"line\">mp4.save()</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"é€‚åˆå¤–è§‚æ¨¡å¼çš„åœ°æ–¹\"><a href=\"#é€‚åˆå¤–è§‚æ¨¡å¼çš„åœ°æ–¹\" class=\"headerlink\" title=\"é€‚åˆå¤–è§‚æ¨¡å¼çš„åœ°æ–¹\"></a>é€‚åˆå¤–è§‚æ¨¡å¼çš„åœ°æ–¹</h5><ul>\n<li>å¦‚æœä½ éœ€è¦ä¸€ä¸ªæŒ‡å‘å¤æ‚å­ç³»ç»Ÿçš„ç›´æ¥æ¥å£ï¼Œä¸”è¯¥æ¥å£çš„åŠŸèƒ½æœ‰é™ï¼Œåˆ™å¯ä»¥ä½¿ç”¨å¤–è§‚æ¨¡å¼ã€‚</li>\n<li>å¦‚æœéœ€è¦å°†å­ç³»ç»Ÿç»„ç»‡ä¸ºå¤šå±‚ç»“æ„ï¼Œå¯ä»¥ä½¿ç”¨å¤–è§‚ã€‚</li>\n</ul>\n<h5 id=\"å¤–è§‚æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"><a href=\"#å¤–è§‚æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\" class=\"headerlink\" title=\"å¤–è§‚æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"></a>å¤–è§‚æ¨¡å¼çš„ä¼˜ç¼ºç‚¹</h5><p><strong>ä¼˜ç‚¹</strong> ï¼š</p>\n<ul>\n<li>ä½ å¯ä»¥è®©è‡ªå·±çš„ä»£ç ç‹¬ç«‹äºå¤æ‚å­ç³»ç»Ÿã€‚</li>\n</ul>\n<p><strong>ç¼ºç‚¹</strong> ï¼š</p>\n<ul>\n<li>å¤–è§‚å¯èƒ½æˆä¸ºä¸ç¨‹åºä¸­æ‰€æœ‰ç±»éƒ½è€¦åˆçš„ä¸Šå¸å¯¹è±¡ï¼ˆä¸€ä¸ªä¸Šå¸å¯¹è±¡(God object)æ˜¯ä¸€ä¸ªäº†è§£è¿‡å¤šæˆ–è€…è´Ÿè´£è¿‡å¤šçš„å¯¹è±¡ï¼‰</li>\n</ul>\n<h4 id=\"Flyweight-äº«å…ƒæ¨¡å¼\"><a href=\"#Flyweight-äº«å…ƒæ¨¡å¼\" class=\"headerlink\" title=\"Flyweight(äº«å…ƒæ¨¡å¼)\"></a>Flyweight(äº«å…ƒæ¨¡å¼)</h4><p>äº«å…ƒæ¨¡å¼æ˜¯ä¸€ç§ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼Œå®ƒæ‘’å¼ƒäº†åœ¨æ¯ä¸ªå¯¹è±¡ä¸­ä¿å­˜æ‰€æœ‰æ•°æ®çš„æ–¹å¼ï¼Œé€šè¿‡å…±äº«å¤šä¸ªå¯¹è±¡æ‰€å…±æœ‰çš„ç›¸åŒçŠ¶æ€ï¼Œè®©ä½ èƒ½åœ¨æœ‰é™çš„å†…å­˜å®¹é‡ä¸­è½½å…¥æ›´å¤šå¯¹è±¡ã€‚ç®€å•æ¥è¯´ï¼Œå°±æ˜¯æå–ä¸€ä¸ªå¤§ç±»ä¸­å…±åŒçš„ä¸å˜çš„å†…å®¹çš„ä¸ºä¸€ä¸ªç±»å’Œä¸€ä¸ªéœ€è¦ç»å¸¸ç”Ÿæˆçš„å˜åŒ–çŠ¶æ€çš„ç±»ã€‚</p>\n<h5 id=\"é—®é¢˜-10\"><a href=\"#é—®é¢˜-10\" class=\"headerlink\" title=\"é—®é¢˜\"></a>é—®é¢˜</h5><p>çœŸæ­£çš„é—®é¢˜ä¸ç²’å­ç³»ç»Ÿæœ‰å…³ã€‚æ¯ä¸ªç²’å­ ï¼ˆä¸€é¢—å­å¼¹ã€ ä¸€æšå¯¼å¼¹æˆ–ä¸€å—å¼¹ç‰‡ï¼‰ éƒ½ç”±åŒ…å«å®Œæ•´æ•°æ®çš„ç‹¬ç«‹å¯¹è±¡æ¥è¡¨ç¤ºã€‚å½“ç©å®¶åœ¨æ¸¸æˆä¸­é–æˆ˜è¿›å…¥é«˜æ½®åçš„æŸä¸€æ—¶åˆ»ï¼Œæ¸¸æˆå°†æ— æ³•åœ¨å‰©ä½™å†…å­˜ä¸­è½½å…¥æ–°å»ºç²’å­ï¼Œäºæ˜¯ç¨‹åºå°±å´©æºƒäº†ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220818230038.png\" alt=\"img\"></p>\n<h5 id=\"è§£å†³æ–¹æ¡ˆ-10\"><a href=\"#è§£å†³æ–¹æ¡ˆ-10\" class=\"headerlink\" title=\"è§£å†³æ–¹æ¡ˆ\"></a>è§£å†³æ–¹æ¡ˆ</h5><p>ä»”ç»†è§‚å¯Ÿ<strong>ç²’å­ParÂ­tiÂ­cleç±»</strong>ï¼Œ ä½ å¯èƒ½ä¼šæ³¨æ„åˆ°<strong>é¢œè‰²(color)å’Œç²¾çµå›¾(sprite)<strong>è¿™ä¸¤ä¸ªæˆå‘˜å˜é‡æ‰€æ¶ˆè€—çš„å†…å­˜è¦æ¯”å…¶ä»–å˜é‡å¤šå¾—å¤šã€‚æ›´ç³Ÿç³•çš„æ˜¯ï¼Œå¯¹äºæ‰€æœ‰çš„ç²’å­æ¥è¯´ï¼Œ</strong>è¿™ä¸¤ä¸ªæˆå‘˜å˜é‡æ‰€å­˜å‚¨çš„æ•°æ®å‡ ä¹å®Œå…¨ä¸€æ ·</strong> ï¼ˆæ¯”å¦‚æ‰€æœ‰å­å¼¹çš„é¢œè‰²å’Œç²¾çµå›¾éƒ½ä¸€æ ·ï¼‰ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220818230148.png\" alt=\"img\"></p>\n<p>æ¯ä¸ªç²’å­çš„å¦ä¸€äº›çŠ¶æ€ ï¼ˆåæ ‡ã€ ç§»åŠ¨çŸ¢é‡å’Œé€Ÿåº¦ï¼‰ åˆ™æ˜¯ä¸åŒçš„ã€‚å› ä¸ºè¿™äº›æˆå‘˜å˜é‡çš„æ•°å€¼ä¼šä¸æ–­å˜åŒ–ã€‚ è¿™äº›æ•°æ®ä»£è¡¨ç²’å­åœ¨å­˜ç»­æœŸé—´ä¸æ–­å˜åŒ–çš„æƒ…æ™¯ï¼Œä½†æ¯ä¸ªç²’å­çš„é¢œè‰²å’Œç²¾çµå›¾åˆ™ä¼šä¿æŒä¸å˜ã€‚<br>å¯¹è±¡çš„å¸¸é‡æ•°æ®é€šå¸¸è¢«ç§°ä¸º<strong>å†…åœ¨çŠ¶æ€</strong>ï¼Œå…¶ä½äºå¯¹è±¡ä¸­ï¼Œå…¶ä»–å¯¹è±¡åªèƒ½è¯»å–ä½†ä¸èƒ½ä¿®æ”¹å…¶æ•°å€¼ã€‚è€Œå¯¹è±¡çš„å…¶ä»–çŠ¶æ€å¸¸å¸¸èƒ½è¢«å…¶ä»–å¯¹è±¡ â€œä»å¤–éƒ¨â€ æ”¹å˜ï¼Œå› æ­¤è¢«ç§°ä¸º<strong>å¤–åœ¨çŠ¶æ€</strong>ã€‚<br>æˆ‘ä»¬å°†è¿™æ ·ä¸€ä¸ª<strong>ä»…å­˜å‚¨å†…åœ¨çŠ¶æ€çš„å¯¹è±¡ç§°ä¸ºäº«å…ƒ</strong>ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220818230930.png\" alt=\"img\"></p>\n<p><strong>äº«å…ƒä¸ä¸å¯å˜æ€§</strong> :<br>ç”±äºäº«å…ƒå¯¹è±¡å¯åœ¨ä¸åŒçš„æƒ…æ™¯ä¸­ä½¿ç”¨ï¼Œä½ å¿…é¡»ç¡®ä¿å…¶çŠ¶æ€ä¸èƒ½è¢«ä¿®æ”¹ã€‚<strong>äº«å…ƒç±»çš„çŠ¶æ€åªèƒ½ç”±æ„é€ å‡½æ•°çš„å‚æ•°è¿›è¡Œä¸€æ¬¡æ€§åˆå§‹åŒ–</strong>ï¼Œå®ƒä¸èƒ½å¯¹å…¶ä»–å¯¹è±¡å…¬å¼€å…¶è®¾ç½®å™¨æˆ–å…¬æœ‰æˆå‘˜å˜é‡ã€‚</p>\n<p><strong>äº«å…ƒå·¥å‚</strong> :<br>ä¸ºäº†èƒ½æ›´æ–¹ä¾¿åœ°è®¿é—®å„ç§äº«å…ƒï¼Œä½ å¯ä»¥åˆ›å»ºä¸€ä¸ªå·¥å‚æ–¹æ³•æ¥ç®¡ç†å·²æœ‰äº«å…ƒå¯¹è±¡çš„ç¼“å­˜æ± ã€‚å·¥å‚æ–¹æ³•ä»å®¢æˆ·ç«¯å¤„æ¥æ”¶ç›®æ ‡äº«å…ƒå¯¹è±¡çš„å†…åœ¨çŠ¶æ€ä½œä¸ºå‚æ•°ï¼Œå¦‚æœå®ƒèƒ½åœ¨ç¼“å­˜æ± ä¸­æ‰¾åˆ°æ‰€éœ€äº«å…ƒï¼Œåˆ™å°†å…¶è¿”å›ç»™å®¢æˆ·ç«¯ï¼›å¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œå®ƒå°±ä¼šæ–°å»ºä¸€ä¸ªäº«å…ƒï¼Œå¹¶å°†å…¶æ·»åŠ åˆ°ç¼“å­˜æ± ä¸­ã€‚<br>ä½ å¯ä»¥é€‰æ‹©åœ¨ç¨‹åºçš„ä¸åŒåœ°æ–¹æ”¾å…¥è¯¥å‡½æ•°ã€‚æœ€ç®€å•çš„é€‰æ‹©å°±æ˜¯å°†å…¶æ”¾ç½®åœ¨äº«å…ƒå®¹å™¨ä¸­ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œä½ è¿˜å¯ä»¥æ–°å»ºä¸€ä¸ªå·¥å‚ç±»ï¼Œæˆ–è€…åˆ›å»ºä¸€ä¸ªé™æ€çš„å·¥å‚æ–¹æ³•å¹¶å°†å…¶æ”¾å…¥å®é™…çš„äº«å…ƒç±»ä¸­ã€‚</p>\n<h5 id=\"äº«å…ƒæ¨¡å¼ç»“æ„\"><a href=\"#äº«å…ƒæ¨¡å¼ç»“æ„\" class=\"headerlink\" title=\"äº«å…ƒæ¨¡å¼ç»“æ„\"></a>äº«å…ƒæ¨¡å¼ç»“æ„</h5><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220818231129.png\" alt=\"img\"></p>\n<p>1.äº«å…ƒæ¨¡å¼åªæ˜¯ä¸€ç§ä¼˜åŒ–ã€‚åœ¨åº”ç”¨è¯¥æ¨¡å¼ä¹‹å‰ï¼Œä½ è¦ç¡®å®šç¨‹åºä¸­å­˜åœ¨ä¸å¤§é‡ç±»ä¼¼å¯¹è±¡åŒæ—¶å ç”¨å†…å­˜ç›¸å…³çš„å†…å­˜æ¶ˆè€—é—®é¢˜ï¼Œå¹¶ä¸”ç¡®ä¿è¯¥é—®é¢˜æ— æ³•ä½¿ç”¨å…¶ä»–æ›´å¥½çš„æ–¹å¼æ¥è§£å†³ã€‚</p>\n<p>2.<strong>äº«å…ƒ(FlyÂ­weight)</strong> ç±»åŒ…å«åŸå§‹å¯¹è±¡ä¸­éƒ¨åˆ†èƒ½åœ¨å¤šä¸ªå¯¹è±¡ä¸­å…±äº«çš„çŠ¶æ€ã€‚ åŒä¸€äº«å…ƒå¯¹è±¡å¯åœ¨è®¸å¤šä¸åŒæƒ…æ™¯ä¸­ä½¿ç”¨ã€‚ äº«å…ƒä¸­å­˜å‚¨çš„çŠ¶æ€è¢«ç§°ä¸º â€œå†…åœ¨çŠ¶æ€â€ã€‚ ä¼ é€’ç»™äº«å…ƒæ–¹æ³•çš„çŠ¶æ€è¢«ç§°ä¸º â€œå¤–åœ¨çŠ¶æ€â€ã€‚</p>\n<p>3.<strong>æƒ…æ™¯(ConÂ­text)</strong> ç±»åŒ…å«åŸå§‹å¯¹è±¡ä¸­å„ä¸ç›¸åŒçš„å¤–åœ¨çŠ¶æ€ã€‚ æƒ…æ™¯ä¸äº«å…ƒå¯¹è±¡ç»„åˆåœ¨ä¸€èµ·å°±èƒ½è¡¨ç¤ºåŸå§‹å¯¹è±¡çš„å…¨éƒ¨çŠ¶æ€ã€‚</p>\n<p>4.é€šå¸¸æƒ…å†µä¸‹ï¼ŒåŸå§‹å¯¹è±¡çš„è¡Œä¸ºä¼šä¿ç•™åœ¨äº«å…ƒç±»ä¸­ã€‚å› æ­¤è°ƒç”¨äº«å…ƒæ–¹æ³•å¿…é¡»æä¾›éƒ¨åˆ†å¤–åœ¨çŠ¶æ€ä½œä¸ºå‚æ•°ã€‚ä½†ä½ ä¹Ÿå¯å°†è¡Œä¸ºç§»åŠ¨åˆ°æƒ…æ™¯ç±»ä¸­ï¼Œç„¶åå°†è¿å…¥çš„äº«å…ƒä½œä¸ºå•çº¯çš„æ•°æ®å¯¹è±¡ã€‚</p>\n<p>5.<strong>å®¢æˆ·ç«¯(Client)</strong> è´Ÿè´£è®¡ç®—æˆ–å­˜å‚¨äº«å…ƒçš„å¤–åœ¨çŠ¶æ€ã€‚åœ¨å®¢æˆ·ç«¯çœ‹æ¥ï¼Œäº«å…ƒæ˜¯ä¸€ç§å¯åœ¨è¿è¡Œæ—¶è¿›è¡Œé…ç½®çš„æ¨¡æ¿å¯¹è±¡ï¼Œå…·ä½“çš„é…ç½®æ–¹å¼ä¸ºå‘å…¶æ–¹æ³•ä¸­ä¼ å…¥ä¸€äº›æƒ…æ™¯æ•°æ®å‚æ•°ã€‚</p>\n<p>6.<strong>äº«å…ƒå·¥å‚(FlyÂ­weight FacÂ­toÂ­ry)</strong> ä¼šå¯¹å·²æœ‰äº«å…ƒçš„ç¼“å­˜æ± è¿›è¡Œç®¡ç†ã€‚æœ‰äº†å·¥å‚åï¼Œå®¢æˆ·ç«¯å°±æ— éœ€ç›´æ¥åˆ›å»ºäº«å…ƒï¼Œå®ƒä»¬åªéœ€è°ƒç”¨å·¥å‚å¹¶å‘å…¶ä¼ é€’ç›®æ ‡äº«å…ƒçš„ä¸€äº›å†…åœ¨çŠ¶æ€å³å¯ã€‚å·¥å‚ä¼šæ ¹æ®å‚æ•°åœ¨ä¹‹å‰å·²åˆ›å»ºçš„äº«å…ƒä¸­è¿›è¡ŒæŸ¥æ‰¾ï¼Œå¦‚æœæ‰¾åˆ°æ»¡è¶³æ¡ä»¶çš„äº«å…ƒå°±å°†å…¶è¿”å›ï¼›å¦‚æœæ²¡æœ‰æ‰¾åˆ°å°±æ ¹æ®å‚æ•°æ–°å»ºäº«å…ƒã€‚</p>\n<h5 id=\"ä¼ªä»£ç -10\"><a href=\"#ä¼ªä»£ç -10\" class=\"headerlink\" title=\"ä¼ªä»£ç \"></a>ä¼ªä»£ç </h5><p>åœ¨æœ¬ä¾‹ä¸­ï¼Œäº«å…ƒæ¨¡å¼èƒ½æœ‰æ•ˆå‡å°‘åœ¨ç”»å¸ƒä¸Šæ¸²æŸ“æ•°ç™¾ä¸‡ä¸ªæ ‘çŠ¶å¯¹è±¡æ—¶æ‰€éœ€çš„å†…å­˜ã€‚è¯¥æ¨¡å¼ä»ä¸»è¦çš„<strong>æ ‘Tree</strong>ç±»ä¸­æŠ½å–å†…åœ¨çŠ¶æ€ï¼Œå¹¶å°†å…¶ç§»åŠ¨åˆ°<strong>äº«å…ƒç±»æ ‘ç§ç±»TreeÂ­Type</strong>ä¹‹ä¸­ã€‚</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//äº«å…ƒç±»,æ‹¥æœ‰å¤§é‡å…±åŒçš„åå­—ï¼Œé¢œè‰²å’Œæè´¨</span></span><br><span class=\"line\"><span class=\"comment\">//å¦‚æœæ¯ä¸ªæ ‘éƒ½è¿›è¡Œä¸€æ¬¡ä¿å­˜å°†ä¼šæ¶ˆè€—å¤§é‡çš„å†…å­˜</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">TreeType</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"built_in\">string</span> name;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> Color color;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> Texture texture;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">TreeType</span>(<span class=\"params\">name,color,texture</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">//...</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">draw</span>(<span class=\"params\">canvas,x,y</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 1. åˆ›å»ºç‰¹å®šç±»å‹ã€é¢œè‰²å’Œçº¹ç†çš„ä½å›¾ã€‚</span></span><br><span class=\"line\">        <span class=\"comment\">// 2. åœ¨ç”»å¸ƒåæ ‡ (X,Y) å¤„ç»˜åˆ¶ä½å›¾ã€‚</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//ä½¿ç”¨äº«å…ƒå·¥å‚ï¼Œå½“ç„¶æ˜¯ä¸ä¸€å®šåªæœ‰ä¸€ç§æ ‘å•¦</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">TreeFactory</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> TreeType[] treeTypes;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> TreeType <span class=\"title\">getTreeType</span>(<span class=\"params\">name,color,texture</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        TreeType type = treeTypes.Find(name,color,texture);</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(type == <span class=\"literal\">null</span>)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            type = <span class=\"keyword\">new</span> TreeType(name,color,texture);</span><br><span class=\"line\">            treeTypes.<span class=\"keyword\">add</span>(type);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> type;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//æ ‘çš„å¤–åœ¨çŠ¶æ€</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">Tree</span> </span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"built_in\">float</span> x,y;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> TreeType type;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">Type</span>(<span class=\"params\">x,y,type</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">//..</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">draw</span>(<span class=\"params\">canvas</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        type.draw(canvas,<span class=\"keyword\">this</span>.x,<span class=\"keyword\">this</span>.y);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æ ‘ï¼ˆTreeï¼‰å’Œæ£®æ—ï¼ˆForÂ­estï¼‰ç±»æ˜¯äº«å…ƒçš„å®¢æˆ·ç«¯ã€‚</span></span><br><span class=\"line\"><span class=\"comment\">// å¦‚æœä¸æ‰“ç®—ç»§ç»­å¯¹æ ‘ç±»è¿›è¡Œå¼€å‘ï¼Œä½ å¯ä»¥å°†å®ƒä»¬åˆå¹¶ã€‚</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">Forest</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> Tree[] trees;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">plantTree</span>(<span class=\"params\">x,y,name,color,texture</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        TreeType type = TreeFactory.getTreeType(name,color,texture);</span><br><span class=\"line\">        tree = <span class=\"keyword\">new</span> Tree(x,y,type);</span><br><span class=\"line\">        trees.<span class=\"keyword\">add</span>(tree);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">draw</span>(<span class=\"params\">canvas</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">foreach</span>(<span class=\"keyword\">var</span> tree <span class=\"keyword\">in</span> trees)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            tree.draw(canvas);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"é€‚åˆäº«å…ƒæ¨¡å¼çš„åœ°æ–¹\"><a href=\"#é€‚åˆäº«å…ƒæ¨¡å¼çš„åœ°æ–¹\" class=\"headerlink\" title=\"é€‚åˆäº«å…ƒæ¨¡å¼çš„åœ°æ–¹\"></a>é€‚åˆäº«å…ƒæ¨¡å¼çš„åœ°æ–¹</h5><ul>\n<li>ä»…åœ¨ç¨‹åºå¿…é¡»æ”¯æŒ<strong>å¤§é‡å¯¹è±¡ä¸”æ²¡æœ‰è¶³å¤Ÿçš„å†…å­˜å®¹é‡</strong>æ—¶ä½¿ç”¨äº«å…ƒæ¨¡å¼(æ¯”å¦‚ç²’å­ç³»ç»Ÿ)ã€‚</li>\n</ul>\n<h5 id=\"äº«å…ƒæ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"><a href=\"#äº«å…ƒæ¨¡å¼çš„ä¼˜ç¼ºç‚¹\" class=\"headerlink\" title=\"äº«å…ƒæ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"></a>äº«å…ƒæ¨¡å¼çš„ä¼˜ç¼ºç‚¹</h5><p><strong>ä¼˜ç‚¹</strong> ï¼š</p>\n<ul>\n<li>å¦‚æœç¨‹åºä¸­æœ‰å¾ˆå¤šç›¸ä¼¼å¯¹è±¡ï¼Œé‚£ä¹ˆä½ å°†å¯ä»¥èŠ‚çœå¤§é‡å†…å­˜ã€‚</li>\n</ul>\n<p><strong>ç¼ºç‚¹</strong> ï¼š</p>\n<ul>\n<li>ä½ å¯èƒ½éœ€è¦ç‰ºç‰²æ‰§è¡Œé€Ÿåº¦æ¥æ¢å–å†…å­˜ï¼Œå› ä¸ºä»–äººæ¯æ¬¡è°ƒç”¨äº«å…ƒæ–¹æ³•æ—¶éƒ½éœ€è¦é‡æ–°è®¡ç®—éƒ¨åˆ†æƒ…æ™¯æ•°æ®ã€‚</li>\n<li>ä»£ç ä¼šå˜å¾—æ›´åŠ å¤æ‚ã€‚ å›¢é˜Ÿä¸­çš„æ–°æˆå‘˜æ€»æ˜¯ä¼šé—®ï¼š â€‹â€œä¸ºä»€ä¹ˆè¦åƒè¿™æ ·æ‹†åˆ†ä¸€ä¸ªå®ä½“çš„çŠ¶æ€ï¼Ÿâ€ã€‚</li>\n</ul>\n<h4 id=\"Proxy-ä»£ç†æ¨¡å¼\"><a href=\"#Proxy-ä»£ç†æ¨¡å¼\" class=\"headerlink\" title=\"Proxy(ä»£ç†æ¨¡å¼)\"></a>Proxy(ä»£ç†æ¨¡å¼)</h4><p>ä»£ç†æ¨¡å¼æ˜¯ä¸€ç§ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼Œè®©ä½ èƒ½å¤Ÿæä¾›å¯¹è±¡çš„æ›¿ä»£å“æˆ–å…¶å ä½ç¬¦ã€‚ä»£ç†æ§åˆ¶ç€å¯¹äºåŸå¯¹è±¡çš„è®¿é—®ï¼Œå¹¶å…è®¸åœ¨å°†è¯·æ±‚æäº¤ç»™å¯¹è±¡å‰åè¿›è¡Œä¸€äº›å¤„ç†ã€‚</p>\n<h5 id=\"é—®é¢˜-11\"><a href=\"#é—®é¢˜-11\" class=\"headerlink\" title=\"é—®é¢˜\"></a>é—®é¢˜</h5><p>ä¸ºä»€ä¹ˆè¦æ§åˆ¶å¯¹äºæŸä¸ªå¯¹è±¡çš„è®¿é—®å‘¢ï¼Ÿ ä¸¾ä¸ªä¾‹å­ï¼š æœ‰è¿™æ ·ä¸€ä¸ªæ¶ˆè€—å¤§é‡ç³»ç»Ÿèµ„æºçš„å·¨å‹å¯¹è±¡ï¼Œä½ åªæ˜¯å¶å°”éœ€è¦ä½¿ç”¨å®ƒï¼Œå¹¶éæ€»æ˜¯éœ€è¦ã€‚ä½ å¯ä»¥å®ç°å»¶è¿Ÿåˆå§‹åŒ–ï¼šåœ¨å®é™…æœ‰éœ€è¦æ—¶å†åˆ›å»ºè¯¥å¯¹è±¡ã€‚å¯¹è±¡çš„æ‰€æœ‰å®¢æˆ·ç«¯éƒ½è¦æ‰§è¡Œå»¶è¿Ÿåˆå§‹ä»£ç ã€‚ä¸å¹¸çš„æ˜¯ï¼Œè¿™å¾ˆå¯èƒ½ä¼šå¸¦æ¥å¾ˆå¤šé‡å¤ä»£ç ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220819001221.png\" alt=\"img\"></p>\n<p>åœ¨ç†æƒ³æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¸Œæœ›å°†ä»£ç ç›´æ¥æ”¾å…¥å¯¹è±¡çš„ç±»ä¸­ï¼Œä½†è¿™å¹¶éæ€»æ˜¯èƒ½å®ç°ï¼šæ¯”å¦‚ç±»å¯èƒ½æ˜¯ç¬¬ä¸‰æ–¹å°é—­åº“çš„ä¸€éƒ¨åˆ†ã€‚</p>\n<h5 id=\"è§£å†³æ–¹æ¡ˆ-11\"><a href=\"#è§£å†³æ–¹æ¡ˆ-11\" class=\"headerlink\" title=\"è§£å†³æ–¹æ¡ˆ\"></a>è§£å†³æ–¹æ¡ˆ</h5><p>ä»£ç†æ¨¡å¼å»ºè®®æ–°å»ºä¸€ä¸ªä¸åŸæœåŠ¡å¯¹è±¡æ¥å£ç›¸åŒçš„ä»£ç†ç±»ï¼Œç„¶åæ›´æ–°åº”ç”¨ä»¥å°†ä»£ç†å¯¹è±¡ä¼ é€’ç»™æ‰€æœ‰åŸå§‹å¯¹è±¡å®¢æˆ·ç«¯ã€‚ä»£ç†ç±»æ¥æ”¶åˆ°å®¢æˆ·ç«¯è¯·æ±‚åä¼šåˆ›å»ºå®é™…çš„æœåŠ¡å¯¹è±¡ï¼Œå¹¶å°†æ‰€æœ‰å·¥ä½œå§”æ´¾ç»™å®ƒã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220819001254.png\" alt=\"img\"></p>\n<h5 id=\"ä»£ç†æ¨¡å¼ç»“æ„\"><a href=\"#ä»£ç†æ¨¡å¼ç»“æ„\" class=\"headerlink\" title=\"ä»£ç†æ¨¡å¼ç»“æ„\"></a>ä»£ç†æ¨¡å¼ç»“æ„</h5><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220819001317.png\" alt=\"img\"></p>\n<p>1.<strong>æœåŠ¡æ¥å£(SerÂ­vice InterÂ­face)</strong> å£°æ˜äº†æœåŠ¡æ¥å£ã€‚ä»£ç†å¿…é¡»éµå¾ªè¯¥æ¥å£æ‰èƒ½ä¼ªè£…æˆæœåŠ¡å¯¹è±¡ã€‚</p>\n<p>2.<strong>æœåŠ¡(SerÂ­vice)</strong> ç±»æä¾›äº†ä¸€äº›å®ç”¨çš„ä¸šåŠ¡é€»è¾‘ã€‚</p>\n<p>3.<strong>ä»£ç†(Proxy)</strong> ç±»åŒ…å«ä¸€ä¸ªæŒ‡å‘æœåŠ¡å¯¹è±¡çš„å¼•ç”¨æˆå‘˜å˜é‡ã€‚ä»£ç†å®Œæˆå…¶ä»»åŠ¡ï¼ˆä¾‹å¦‚å»¶è¿Ÿåˆå§‹åŒ–ã€è®°å½•æ—¥å¿—ã€è®¿é—®æ§åˆ¶å’Œç¼“å­˜ç­‰ï¼‰åä¼šå°†è¯·æ±‚ä¼ é€’ç»™æœåŠ¡å¯¹è±¡ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œä»£ç†ä¼šå¯¹å…¶æœåŠ¡å¯¹è±¡çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸè¿›è¡Œç®¡ç†ã€‚</p>\n<p>4.<strong>å®¢æˆ·ç«¯(Client)</strong> èƒ½é€šè¿‡åŒä¸€æ¥å£ä¸æœåŠ¡æˆ–ä»£ç†è¿›è¡Œäº¤äº’ï¼Œæ‰€ä»¥ä½ å¯åœ¨ä¸€åˆ‡éœ€è¦æœåŠ¡å¯¹è±¡çš„ä»£ç ä¸­ä½¿ç”¨ä»£ç†ã€‚</p>\n<h5 id=\"ä¼ªä»£ç -11\"><a href=\"#ä¼ªä»£ç -11\" class=\"headerlink\" title=\"ä¼ªä»£ç \"></a>ä¼ªä»£ç </h5><p>ä»£ç†æ¨¡å¼è™½ç„¶åœ¨ç»å¤§å¤šæ•°c#ç¨‹åºä¸­ååˆ†ä¸å¸¸è§ï¼Œä½†æ˜¯åœ¨ä¸€äº›ç‰¹æ®Šæƒ…å†µä¸‹ä½¿ç”¨è¿˜æ˜¯å¾ˆæ–¹ä¾¿çš„ã€‚æˆ‘ä»¬ä»…ä»…åœ¨è¿™é‡Œå¯¹ç€ç»“æ„å›¾å†™ä¸€ä¸ªä»ç„¶ä¸æ˜¯é‚£ä¹ˆä¼ªçš„ä¼ªä»£ç </p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//è¯¥æœåŠ¡æ¥å£æ˜¯ä»£ç†ç±»å’ŒçœŸå®æœåŠ¡ç±»å¿…é¡»è¦å£°æ˜çš„</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title\">ServiceInterface</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">Operation</span>()</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//çœŸå®çš„æœåŠ¡ç±»</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">Service</span> : <span class=\"title\">ServiceInterface</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Operation</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Console.WriteLine(<span class=\"string\">&quot;...&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//ä»£ç†ç±»</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">Proxy</span> : <span class=\"title\">ServiceInterface</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> Service _service;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">Proxy</span>(<span class=\"params\">Service service</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._service = service;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Operation</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(<span class=\"keyword\">this</span>.CheckAccess())</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">this</span>._service.Operation();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"built_in\">bool</span> <span class=\"title\">CheckAccess</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">//ä¸€äº›çœŸå®çš„Checkä»£ç æ®µï¼Œä½†æ˜¯è¿™é‡Œå°±çœç•¥äº†</span></span><br><span class=\"line\">        <span class=\"comment\">//...</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//å®¢æˆ·ç«¯ä»£ç </span></span><br><span class=\"line\">Console.WriteLine(<span class=\"string\">&quot;Client: Executing the client code with a real subject:&quot;</span>);</span><br><span class=\"line\"><span class=\"keyword\">var</span> service = <span class=\"keyword\">new</span> Service();</span><br><span class=\"line\">service.Operation();</span><br><span class=\"line\"></span><br><span class=\"line\">Console.WriteLine();</span><br><span class=\"line\"></span><br><span class=\"line\">Console.WriteLine(<span class=\"string\">&quot;Client: Executing the same client code with a proxy:&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">Proxy proxy = <span class=\"keyword\">new</span> Proxy(service);</span><br><span class=\"line\">proxy.Operation();</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"é€‚åˆä»£ç†æ¨¡å¼çš„åœ°æ–¹\"><a href=\"#é€‚åˆä»£ç†æ¨¡å¼çš„åœ°æ–¹\" class=\"headerlink\" title=\"é€‚åˆä»£ç†æ¨¡å¼çš„åœ°æ–¹\"></a>é€‚åˆä»£ç†æ¨¡å¼çš„åœ°æ–¹</h5><ul>\n<li>å»¶è¿Ÿåˆå§‹åŒ–ï¼ˆè™šæ‹Ÿä»£ç†ï¼‰ã€‚å¦‚æœä½ æœ‰ä¸€ä¸ªå¶å°”ä½¿ç”¨çš„é‡é‡çº§æœåŠ¡å¯¹è±¡ï¼Œä¸€ç›´ä¿æŒè¯¥å¯¹è±¡è¿è¡Œä¼šæ¶ˆè€—ç³»ç»Ÿèµ„æºæ—¶ï¼Œå¯ä½¿ç”¨ä»£ç†æ¨¡å¼ã€‚</li>\n<li>è®¿é—®æ§åˆ¶ï¼ˆä¿æŠ¤ä»£ç†ï¼‰ã€‚å¦‚æœä½ åªå¸Œæœ›ç‰¹å®šå®¢æˆ·ç«¯ä½¿ç”¨æœåŠ¡å¯¹è±¡ï¼Œè¿™é‡Œçš„å¯¹è±¡å¯ä»¥æ˜¯æ“ä½œç³»ç»Ÿä¸­éå¸¸é‡è¦çš„éƒ¨åˆ†ï¼Œè€Œå®¢æˆ·ç«¯åˆ™æ˜¯å„ç§å·²å¯åŠ¨çš„ç¨‹åºï¼ˆåŒ…æ‹¬æ¶æ„ç¨‹åºï¼‰ï¼Œæ­¤æ—¶å¯ä½¿ç”¨ä»£ç†æ¨¡å¼ã€‚</li>\n<li>æœ¬åœ°æ‰§è¡Œè¿œç¨‹æœåŠ¡ï¼ˆè¿œç¨‹ä»£ç†ï¼‰ã€‚é€‚ç”¨äºæœåŠ¡å¯¹è±¡ä½äºè¿œç¨‹æœåŠ¡å™¨ä¸Šçš„æƒ…å½¢ã€‚</li>\n<li>è®°å½•æ—¥å¿—è¯·æ±‚ï¼ˆæ—¥å¿—è®°å½•ä»£ç†ï¼‰ã€‚é€‚ç”¨äºå½“ä½ éœ€è¦ä¿å­˜å¯¹äºæœåŠ¡å¯¹è±¡çš„è¯·æ±‚å†å²è®°å½•æ—¶ã€‚</li>\n<li>ç¼“å­˜è¯·æ±‚ç»“æœï¼ˆç¼“å­˜ä»£ç†ï¼‰ã€‚é€‚ç”¨äºéœ€è¦ç¼“å­˜å®¢æˆ·è¯·æ±‚ç»“æœå¹¶å¯¹ç¼“å­˜ç”Ÿå‘½å‘¨æœŸè¿›è¡Œç®¡ç†æ—¶ï¼Œç‰¹åˆ«æ˜¯å½“è¿”å›ç»“æœçš„ä½“ç§¯éå¸¸å¤§æ—¶ã€‚</li>\n<li>æ™ºèƒ½å¼•ç”¨ã€‚å¯åœ¨æ²¡æœ‰å®¢æˆ·ç«¯ä½¿ç”¨æŸä¸ªé‡é‡çº§å¯¹è±¡æ—¶ç«‹å³é”€æ¯è¯¥å¯¹è±¡ã€‚</li>\n</ul>\n<h5 id=\"ä»£ç æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"><a href=\"#ä»£ç æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\" class=\"headerlink\" title=\"ä»£ç æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"></a>ä»£ç æ¨¡å¼çš„ä¼˜ç¼ºç‚¹</h5><p><strong>ä¼˜ç‚¹</strong> ï¼š</p>\n<ul>\n<li>ä½ å¯ä»¥åœ¨å®¢æˆ·ç«¯æ¯«æ— å¯Ÿè§‰çš„æƒ…å†µä¸‹æ§åˆ¶æœåŠ¡å¯¹è±¡ã€‚</li>\n<li>å¦‚æœå®¢æˆ·ç«¯å¯¹æœåŠ¡å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸæ²¡æœ‰ç‰¹æ®Šè¦æ±‚ï¼Œä½ å¯ä»¥å¯¹ç”Ÿå‘½å‘¨æœŸè¿›è¡Œç®¡ç†ã€‚</li>\n<li>å³ä½¿æœåŠ¡å¯¹è±¡è¿˜æœªå‡†å¤‡å¥½æˆ–ä¸å­˜åœ¨ï¼Œä»£ç†ä¹Ÿå¯ä»¥æ­£å¸¸å·¥ä½œã€‚</li>\n<li>ç¬¦åˆOCP</li>\n</ul>\n<p><strong>ç¼ºç‚¹</strong> :</p>\n<ul>\n<li>ä»£ç å¯èƒ½ä¼šå˜å¾—å¤æ‚ï¼Œå› ä¸ºéœ€è¦æ–°å»ºè®¸å¤šç±»ã€‚</li>\n<li>æœåŠ¡å“åº”å¯èƒ½ä¼šå»¶è¿Ÿã€‚</li>\n</ul>\n<h3 id=\"è¡Œä¸ºæ¨¡å¼-Behavioral-Patterns\"><a href=\"#è¡Œä¸ºæ¨¡å¼-Behavioral-Patterns\" class=\"headerlink\" title=\"è¡Œä¸ºæ¨¡å¼(Behavioral Patterns)\"></a>è¡Œä¸ºæ¨¡å¼(Behavioral Patterns)</h3><h4 id=\"Chain-of-Responsibility-è´£ä»»é“¾æ¨¡å¼\"><a href=\"#Chain-of-Responsibility-è´£ä»»é“¾æ¨¡å¼\" class=\"headerlink\" title=\"Chain of Responsibility(è´£ä»»é“¾æ¨¡å¼)\"></a>Chain of Responsibility(è´£ä»»é“¾æ¨¡å¼)</h4><p>è´£ä»»é“¾æ¨¡å¼æ˜¯ä¸€ç§è¡Œä¸ºè®¾è®¡æ¨¡å¼ï¼Œå…è®¸ä½ å°†è¯·æ±‚æ²¿ç€å¤„ç†è€…é“¾è¿›è¡Œå‘é€ã€‚æ”¶åˆ°è¯·æ±‚åï¼Œæ¯ä¸ªå¤„ç†è€…å‡å¯å¯¹è¯·æ±‚è¿›è¡Œå¤„ç†ï¼Œæˆ–å°†å…¶ä¼ é€’ç»™é“¾ä¸Šçš„ä¸‹ä¸ªå¤„ç†è€…ã€‚</p>\n<h5 id=\"é—®é¢˜-12\"><a href=\"#é—®é¢˜-12\" class=\"headerlink\" title=\"é—®é¢˜\"></a>é—®é¢˜</h5><p>å‡å¦‚ä½ æ­£åœ¨å¼€å‘ä¸€ä¸ªåœ¨çº¿è®¢è´­ç³»ç»Ÿã€‚ä½ å¸Œæœ›å¯¹ç³»ç»Ÿè®¿é—®è¿›è¡Œé™åˆ¶ï¼Œåªå…è®¸è®¤è¯ç”¨æˆ·åˆ›å»ºè®¢å•ã€‚æ­¤å¤–ï¼Œæ‹¥æœ‰ç®¡ç†æƒé™çš„ç”¨æˆ·ä¹Ÿæ‹¥æœ‰æ‰€æœ‰è®¢å•çš„å®Œå…¨è®¿é—®æƒé™ã€‚ç®€å•è§„åˆ’åï¼Œä½ ä¼šæ„è¯†åˆ°è¿™äº›æ£€æŸ¥å¿…é¡»ä¾æ¬¡è¿›è¡Œã€‚åªè¦æ¥æ”¶åˆ°åŒ…å«ç”¨æˆ·å‡­æ®çš„è¯·æ±‚ï¼Œåº”ç”¨ç¨‹åºå°±å¯å°è¯•å¯¹è¿›å…¥ç³»ç»Ÿçš„ç”¨æˆ·è¿›è¡Œè®¤è¯ã€‚ä½†å¦‚æœç”±äºç”¨æˆ·å‡­æ®ä¸æ­£ç¡®è€Œå¯¼è‡´è®¤è¯å¤±è´¥ï¼Œé‚£å°±æ²¡æœ‰å¿…è¦è¿›è¡Œåç»­æ£€æŸ¥äº†ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220824130805.png\" alt=\"img\"></p>\n<p>åœ¨æ¥ä¸‹æ¥çš„å‡ ä¸ªæœˆé‡Œï¼Œä½ å®ç°äº†åç»­çš„å‡ ä¸ªæ£€æŸ¥æ­¥éª¤ã€‚</p>\n<ul>\n<li>ä¸€ä½åŒäº‹è®¤ä¸ºç›´æ¥å°†åŸå§‹æ•°æ®ä¼ é€’ç»™è®¢è´­ç³»ç»Ÿå­˜åœ¨å®‰å…¨éšæ‚£ã€‚å› æ­¤ä½ æ–°å¢äº†é¢å¤–çš„éªŒè¯æ­¥éª¤æ¥æ¸…ç†è¯·æ±‚ä¸­çš„æ•°æ®ã€‚</li>\n<li>è¿‡äº†ä¸€æ®µæ—¶é—´ï¼Œæœ‰äººæ³¨æ„åˆ°ç³»ç»Ÿæ— æ³•æŠµå¾¡æš´åŠ›å¯†ç ç ´è§£æ–¹å¼çš„æ”»å‡»ã€‚ä¸ºäº†é˜²èŒƒè¿™ç§æƒ…å†µä½ ç«‹åˆ»æ·»åŠ äº†ä¸€ä¸ªæ£€æŸ¥æ­¥éª¤æ¥è¿‡æ»¤æ¥è‡ªåŒä¸€IPåœ°å€çš„é‡å¤é”™è¯¯è¯·æ±‚ã€‚</li>\n<li>åˆæœ‰äººæè®®ä½ å¯ä»¥å¯¹åŒ…å«åŒæ ·æ•°æ®çš„é‡å¤è¯·æ±‚è¿”å›ç¼“å­˜ä¸­çš„ç»“æœï¼Œä»è€Œæé«˜ç³»ç»Ÿå“åº”é€Ÿåº¦ã€‚å› æ­¤ï¼Œä½ æ–°å¢äº†ä¸€ä¸ªæ£€æŸ¥æ­¥éª¤ï¼Œç¡®ä¿åªæœ‰æ²¡æœ‰æ»¡è¶³æ¡ä»¶çš„ç¼“å­˜ç»“æœæ—¶è¯·æ±‚æ‰èƒ½é€šè¿‡å¹¶è¢«å‘é€ç»™ç³»ç»Ÿã€‚</li>\n</ul>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220824130901.png\" alt=\"img\"></p>\n<h5 id=\"è§£å†³æ–¹æ¡ˆ-12\"><a href=\"#è§£å†³æ–¹æ¡ˆ-12\" class=\"headerlink\" title=\"è§£å†³æ–¹æ¡ˆ\"></a>è§£å†³æ–¹æ¡ˆ</h5><p>ä¸è®¸å¤šå…¶ä»–è¡Œä¸ºè®¾è®¡æ¨¡å¼ä¸€æ ·ï¼Œè´£ä»»é“¾ä¼šå°†ç‰¹å®šè¡Œä¸ºè½¬æ¢ä¸ºè¢«ç§°ä½œ<strong>å¤„ç†è€…çš„ç‹¬ç«‹å¯¹è±¡</strong>ã€‚åœ¨ä¸Šè¿°ç¤ºä¾‹ä¸­ï¼Œæ¯ä¸ªæ£€æŸ¥æ­¥éª¤éƒ½å¯è¢«æŠ½å–ä¸ºä»…æœ‰å•ä¸ªæ–¹æ³•çš„ç±»ï¼Œå¹¶æ‰§è¡Œæ£€æŸ¥æ“ä½œã€‚è¯·æ±‚åŠå…¶æ•°æ®åˆ™ä¼šè¢«ä½œä¸ºå‚æ•°ä¼ é€’ç»™è¯¥æ–¹æ³•ã€‚<br>æ¨¡å¼å»ºè®®ä½ <strong>å°†è¿™äº›å¤„ç†è€…è¿æˆä¸€æ¡é“¾</strong>ã€‚é“¾ä¸Šçš„æ¯ä¸ªå¤„ç†è€…éƒ½æœ‰ä¸€ä¸ªæˆå‘˜å˜é‡æ¥ä¿å­˜å¯¹äºä¸‹ä¸€å¤„ç†è€…çš„å¼•ç”¨ã€‚é™¤äº†å¤„ç†è¯·æ±‚å¤–ï¼Œå¤„ç†è€…è¿˜è´Ÿè´£æ²¿ç€é“¾ä¼ é€’è¯·æ±‚ã€‚è¯·æ±‚ä¼šåœ¨é“¾ä¸Šç§»åŠ¨ï¼Œç›´è‡³æ‰€æœ‰å¤„ç†è€…éƒ½æœ‰æœºä¼šå¯¹å…¶è¿›è¡Œå¤„ç†ã€‚æœ€é‡è¦çš„æ˜¯ï¼š<strong>å¤„ç†è€…å¯ä»¥å†³å®šä¸å†æ²¿ç€é“¾ä¼ é€’è¯·æ±‚ï¼Œè¿™å¯é«˜æ•ˆåœ°å–æ¶ˆæ‰€æœ‰åç»­å¤„ç†æ­¥éª¤</strong>ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220824131142.png\" alt=\"img\"></p>\n<p>ä¸è¿‡è¿˜æœ‰ä¸€ç§ç¨å¾®ä¸åŒçš„æ–¹å¼ ï¼ˆä¹Ÿæ˜¯æ›´ç»å…¸ä¸€ç§ï¼‰ï¼Œ é‚£å°±æ˜¯<strong>å¤„ç†è€…æ¥æ”¶åˆ°è¯·æ±‚åè‡ªè¡Œå†³å®šæ˜¯å¦èƒ½å¤Ÿå¯¹å…¶è¿›è¡Œå¤„ç†</strong>ã€‚å¦‚æœè‡ªå·±èƒ½å¤Ÿå¤„ç†ï¼Œå¤„ç†è€…å°±ä¸å†ç»§ç»­ä¼ é€’è¯·æ±‚ã€‚å› æ­¤åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ¯ä¸ªè¯·æ±‚è¦ä¹ˆæœ€å¤šæœ‰ä¸€ä¸ªå¤„ç†è€…å¯¹å…¶è¿›è¡Œå¤„ç†ï¼Œè¦ä¹ˆæ²¡æœ‰ä»»ä½•å¤„ç†è€…å¯¹å…¶è¿›è¡Œå¤„ç†ã€‚åœ¨å¤„ç†å›¾å½¢ç”¨æˆ·ç•Œé¢å…ƒç´ æ ˆä¸­çš„äº‹ä»¶æ—¶ï¼Œè¿™ç§æ–¹å¼éå¸¸å¸¸è§ã€‚<br>æ‰€æœ‰<strong>å¤„ç†è€…ç±»å‡å®ç°åŒä¸€æ¥å£</strong>æ˜¯å…³é”®æ‰€åœ¨ã€‚æ¯ä¸ªå…·ä½“å¤„ç†è€…ä»…å…³å¿ƒä¸‹ä¸€ä¸ªåŒ…å«exeÂ­cuteæ‰§è¡Œæ–¹æ³•çš„å¤„ç†è€…ã€‚è¿™æ ·ä¸€æ¥ï¼Œä½ å°±å¯ä»¥åœ¨è¿è¡Œæ—¶ä½¿ç”¨ä¸åŒçš„å¤„ç†è€…æ¥åˆ›å»ºé“¾ï¼Œè€Œæ— éœ€å°†ç›¸å…³ä»£ç ä¸å¤„ç†è€…çš„å…·ä½“ç±»è¿›è¡Œè€¦åˆã€‚</p>\n<h5 id=\"è´£ä»»é“¾æ¨¡å¼ç»“æ„\"><a href=\"#è´£ä»»é“¾æ¨¡å¼ç»“æ„\" class=\"headerlink\" title=\"è´£ä»»é“¾æ¨¡å¼ç»“æ„\"></a>è´£ä»»é“¾æ¨¡å¼ç»“æ„</h5><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220824131355.png\" alt=\"img\"></p>\n<p>1.<strong>å¤„ç†è€…(HanÂ­dler)</strong> å£°æ˜äº†æ‰€æœ‰å…·ä½“å¤„ç†è€…çš„é€šç”¨æ¥å£ã€‚è¯¥æ¥å£é€šå¸¸ä»…åŒ…å«å•ä¸ªæ–¹æ³•ç”¨äºè¯·æ±‚å¤„ç†ï¼Œ ä½†æœ‰æ—¶å…¶è¿˜ä¼šåŒ…å«ä¸€ä¸ªè®¾ç½®é“¾ä¸Šä¸‹ä¸ªå¤„ç†è€…çš„æ–¹æ³•ã€‚</p>\n<p>2.<strong>åŸºç¡€å¤„ç†è€…(Base HanÂ­dler)</strong> æ˜¯ä¸€ä¸ªå¯é€‰çš„ç±»ï¼Œä½ å¯ä»¥å°†æ‰€æœ‰å¤„ç†è€…å…±ç”¨çš„æ ·æœ¬ä»£ç æ”¾ç½®åœ¨å…¶ä¸­ã€‚<br>é€šå¸¸æƒ…å†µä¸‹ï¼Œè¯¥ç±»ä¸­å®šä¹‰äº†ä¸€ä¸ªä¿å­˜å¯¹äºä¸‹ä¸ªå¤„ç†è€…å¼•ç”¨çš„æˆå‘˜å˜é‡ã€‚å®¢æˆ·ç«¯å¯é€šè¿‡å°†å¤„ç†è€…ä¼ é€’ç»™ä¸Šä¸ªå¤„ç†è€…çš„æ„é€ å‡½æ•°æˆ–è®¾å®šæ–¹æ³•æ¥åˆ›å»ºé“¾ã€‚è¯¥ç±»è¿˜å¯ä»¥å®ç°é»˜è®¤çš„å¤„ç†è¡Œä¸ºï¼šç¡®å®šä¸‹ä¸ªå¤„ç†è€…å­˜åœ¨åå†å°†è¯·æ±‚ä¼ é€’ç»™å®ƒã€‚</p>\n<p>3.<strong>å…·ä½“å¤„ç†è€…(ConÂ­crete HanÂ­dlers)</strong> åŒ…å«å¤„ç†è¯·æ±‚çš„å®é™…ä»£ç ã€‚æ¯ä¸ªå¤„ç†è€…æ¥æ”¶åˆ°è¯·æ±‚åï¼Œéƒ½å¿…é¡»å†³å®šæ˜¯å¦è¿›è¡Œå¤„ç†ï¼Œä»¥åŠæ˜¯å¦æ²¿ç€é“¾ä¼ é€’è¯·æ±‚ã€‚<br>å¤„ç†è€…é€šå¸¸æ˜¯ç‹¬ç«‹ä¸”ä¸å¯å˜çš„ï¼Œéœ€è¦é€šè¿‡æ„é€ å‡½æ•°ä¸€æ¬¡æ€§åœ°è·å¾—æ‰€æœ‰å¿…è¦åœ°æ•°æ®ã€‚</p>\n<p>4.<strong>å®¢æˆ·ç«¯(Client)</strong> å¯æ ¹æ®ç¨‹åºé€»è¾‘ä¸€æ¬¡æ€§æˆ–è€…åŠ¨æ€åœ°ç”Ÿæˆé“¾ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œè¯·æ±‚å¯å‘é€ç»™é“¾ä¸Šçš„ä»»æ„ä¸€ä¸ªå¤„ç†è€…ï¼Œè€Œéå¿…é¡»æ˜¯ç¬¬ä¸€ä¸ªå¤„ç†è€…ã€‚</p>\n<h5 id=\"ä¼ªä»£ç -12\"><a href=\"#ä¼ªä»£ç -12\" class=\"headerlink\" title=\"ä¼ªä»£ç \"></a>ä¼ªä»£ç </h5><p>è´£ä»»é“¾åœ¨c#ç¨‹åºä¸­å¹¶ä¸å¸¸è§ï¼Œå› ä¸ºå®ƒä»…åœ¨ä»£ç ä¸å¯¹è±¡é“¾æ‰“äº¤é“æ—¶æ‰èƒ½å‘æŒ¥ä½œç”¨ã€‚ä½†æ˜¯ä¸€æ—¦ç”¨åˆ°è¿™ç§é“¾å¼è¯·æ±‚ï¼Œæ¯”å¦‚æŒ‰é¡ºåºåœ°éªŒè¯ç­”æ¡ˆï¼ŒéªŒè¯ä¿¡æ¯è¿˜æ˜¯æœ‰ç”¨çš„ã€‚<br>åœ¨ä¸‹æ®µä»£ç ä¸­ï¼Œæˆ‘ä»¬ä¼šç»™ä¸€æ‰¹é£Ÿç‰©ï¼Œè®©æ¯ä¸ªé£Ÿç‰©åœ¨è´£ä»»é“¾ä¸Šèµ°å®Œï¼Œå¦‚æœæœ‰åŠ¨ç‰©è¦äº†ï¼Œåç»­çš„é“¾å°±ä¼šåœæ­¢ï¼Œå¦‚æœä¼šä¸€ç›´æ²¡æœ‰åŠ¨ç‰©è¦ï¼Œé‚£å°±ä¼šè¿”å› â€œ{food} was left untouchedâ€ã€‚é‚£ä¹ˆï¼Œå¦‚æœæ˜¯ä¿¡æ¯éªŒè¯çš„è¯ï¼ŒåŒç†ï¼Œæˆ‘ä»¬è®©ä¸€ä¸ªä¿¡æ¯åœ¨é“¾ä¸Šèµ°ï¼Œå¦‚æœä¸­é—´æœ‰ä¸€æ­¥é”™äº†ï¼Œé©¬ä¸Šåœæ­¢ï¼Œåªæœ‰å…¨éƒ¨ç¬¦åˆï¼Œæ‰ä¼šæŠ¥å‘Šä¿¡æ¯éªŒè¯æˆåŠŸã€‚</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//Handler æ¥å£å£°æ˜äº†å»ºç«‹å¤„ç†è€…é“¾çš„çš„æ–¹æ³•ï¼Œä¹Ÿå£°æ˜äº†æ‰§è¡Œè¯·æ±‚çš„æ–¹æ³•</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title\">IHandler</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\">IHandler <span class=\"title\">SetNext</span>(<span class=\"params\">IHandler handler</span>)</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"built_in\">object</span> <span class=\"title\">Handle</span>(<span class=\"params\"><span class=\"built_in\">object</span> request</span>)</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//åŸºç¡€å¤„ç†è€…ç±»</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> <span class=\"keyword\">class</span> <span class=\"title\">AbstractHandler</span> : <span class=\"title\">IHandler</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> IHandler _nextHandler;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> IHandler <span class=\"title\">SetNext</span>(<span class=\"params\">IHandler handler</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._nextHandler = handler;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> handler;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">virtual</span> <span class=\"built_in\">object</span> <span class=\"title\">Handle</span>(<span class=\"params\"><span class=\"built_in\">object</span> request</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"keyword\">this</span>._nextHandler != <span class=\"literal\">null</span>)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>._nextHandler.Handle(request);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">else</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">null</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//å…·ä½“å¤„ç†è€…ç±»</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">MonkeyHandler</span> : <span class=\"title\">AbstractHandler</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">override</span> <span class=\"built_in\">object</span> <span class=\"title\">Handle</span>(<span class=\"params\"><span class=\"built_in\">object</span> request</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> ((request <span class=\"keyword\">as</span> <span class=\"built_in\">string</span>) == <span class=\"string\">&quot;Banana&quot;</span>)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"string\">$&quot;Monkey: I&#x27;ll eat the <span class=\"subst\">&#123;request.ToString()&#125;</span>.\\n&quot;</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">else</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"keyword\">base</span>.Handle(request);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">SquirrelHandler</span> : <span class=\"title\">AbstractHandler</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">override</span> <span class=\"built_in\">object</span> <span class=\"title\">Handle</span>(<span class=\"params\"><span class=\"built_in\">object</span> request</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (request.ToString() == <span class=\"string\">&quot;Nut&quot;</span>)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"string\">$&quot;Squirrel: I&#x27;ll eat the <span class=\"subst\">&#123;request.ToString()&#125;</span>.\\n&quot;</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">else</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"keyword\">base</span>.Handle(request);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">DogHandler</span> : <span class=\"title\">AbstractHandler</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">override</span> <span class=\"built_in\">object</span> <span class=\"title\">Handle</span>(<span class=\"params\"><span class=\"built_in\">object</span> request</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (request.ToString() == <span class=\"string\">&quot;MeatBall&quot;</span>)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"string\">$&quot;Dog: I&#x27;ll eat the <span class=\"subst\">&#123;request.ToString()&#125;</span>.\\n&quot;</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">else</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"keyword\">base</span>.Handle(request);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">Client</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">ClientCode</span>(<span class=\"params\">AbstractHandler handler</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">foreach</span> (<span class=\"keyword\">var</span> food <span class=\"keyword\">in</span> <span class=\"keyword\">new</span> List&lt;<span class=\"built_in\">string</span>&gt; &#123; <span class=\"string\">&quot;Nut&quot;</span>, <span class=\"string\">&quot;Banana&quot;</span>, <span class=\"string\">&quot;Cup of coffee&quot;</span> &#125;)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            Console.WriteLine(<span class=\"string\">$&quot;Client: Who wants a <span class=\"subst\">&#123;food&#125;</span>?&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">var</span> result = handler.Handle(food);</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (result != <span class=\"literal\">null</span>)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                Console.Write(<span class=\"string\">$&quot;   <span class=\"subst\">&#123;result&#125;</span>&quot;</span>);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">else</span></span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                Console.WriteLine(<span class=\"string\">$&quot;   <span class=\"subst\">&#123;food&#125;</span> was left untouched.&quot;</span>);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//å®¢æˆ·ç«¯ä»£ç </span></span><br><span class=\"line\"><span class=\"keyword\">var</span> monkey = <span class=\"keyword\">new</span> MonkeyHandler();</span><br><span class=\"line\"><span class=\"keyword\">var</span> squirrel = <span class=\"keyword\">new</span> SquirrelHandler();</span><br><span class=\"line\"><span class=\"keyword\">var</span> dog = <span class=\"keyword\">new</span> DogHandler();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//è®¾ç½®è´£ä»»é“¾</span></span><br><span class=\"line\">monkey.setNext(squirrel).setNext(dog);</span><br><span class=\"line\"></span><br><span class=\"line\">Console.WriteLine(<span class=\"string\">&quot;Chain: Monkey &gt; Squirrel &gt; Dog\\n&quot;</span>);</span><br><span class=\"line\">Client.ClientCode(monkey);</span><br><span class=\"line\">Console.WriteLine();</span><br><span class=\"line\"></span><br><span class=\"line\">Console.WriteLine(<span class=\"string\">&quot;Subchain: Squirrel &gt; Dog\\n&quot;</span>);</span><br><span class=\"line\">Client.ClientCode(squirrel);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/*è¿è¡Œç»“æœ</span></span><br><span class=\"line\"><span class=\"comment\">Chain: Monkey &gt; Squirrel &gt; Dog</span></span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\">Client: Who wants a Nut?</span></span><br><span class=\"line\"><span class=\"comment\">   Squirrel: I&#x27;ll eat the Nut.</span></span><br><span class=\"line\"><span class=\"comment\">Client: Who wants a Banana?</span></span><br><span class=\"line\"><span class=\"comment\">   Monkey: I&#x27;ll eat the Banana.</span></span><br><span class=\"line\"><span class=\"comment\">Client: Who wants a Cup of coffee?</span></span><br><span class=\"line\"><span class=\"comment\">   Cup of coffee was left untouched.</span></span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\">Subchain: Squirrel &gt; Dog</span></span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\">Client: Who wants a Nut?</span></span><br><span class=\"line\"><span class=\"comment\">   Squirrel: I&#x27;ll eat the Nut.</span></span><br><span class=\"line\"><span class=\"comment\">Client: Who wants a Banana?</span></span><br><span class=\"line\"><span class=\"comment\">   Banana was left untouched.</span></span><br><span class=\"line\"><span class=\"comment\">Client: Who wants a Cup of coffee?</span></span><br><span class=\"line\"><span class=\"comment\">   Cup of coffee was left untouched.</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br></pre></td></tr></table></figure>\n\n<h5 id=\"é€‚åˆè´£ä»»é“¾æ¨¡å¼çš„åœ°æ–¹\"><a href=\"#é€‚åˆè´£ä»»é“¾æ¨¡å¼çš„åœ°æ–¹\" class=\"headerlink\" title=\"é€‚åˆè´£ä»»é“¾æ¨¡å¼çš„åœ°æ–¹\"></a>é€‚åˆè´£ä»»é“¾æ¨¡å¼çš„åœ°æ–¹</h5><ul>\n<li>å½“ç¨‹åºéœ€è¦ä½¿ç”¨ä¸åŒæ–¹å¼å¤„ç†ä¸åŒç§ç±»è¯·æ±‚ï¼Œè€Œä¸”è¯·æ±‚ç±»å‹å’Œé¡ºåºé¢„å…ˆæœªçŸ¥æ—¶ï¼Œå¯ä»¥ä½¿ç”¨è´£ä»»é“¾æ¨¡å¼ã€‚</li>\n<li>å½“å¿…é¡»æŒ‰é¡ºåºæ‰§è¡Œå¤šä¸ªå¤„ç†è€…æ—¶ï¼Œå¯ä»¥ä½¿ç”¨è¯¥æ¨¡å¼ã€‚</li>\n<li>å¦‚æœæ‰€éœ€å¤„ç†è€…åŠå…¶é¡ºåºå¿…é¡»åœ¨è¿è¡Œæ—¶è¿›è¡Œæ”¹å˜ï¼Œ å¯ä»¥ä½¿ç”¨è´£ä»»é“¾æ¨¡å¼ã€‚</li>\n</ul>\n<h5 id=\"è´£ä»»é“¾æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"><a href=\"#è´£ä»»é“¾æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\" class=\"headerlink\" title=\"è´£ä»»é“¾æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"></a>è´£ä»»é“¾æ¨¡å¼çš„ä¼˜ç¼ºç‚¹</h5><p><strong>ä¼˜ç‚¹</strong> ï¼š</p>\n<ul>\n<li>ä½ å¯ä»¥æ§åˆ¶è¯·æ±‚å¤„ç†çš„é¡ºåºã€‚</li>\n<li>ç¬¦åˆSRP</li>\n<li>ç¬¦åˆOCP</li>\n</ul>\n<p><strong>ç¼ºç‚¹</strong> ï¼š</p>\n<ul>\n<li>éƒ¨åˆ†è¯·æ±‚å¯èƒ½æœªè¢«å¤„ç†ã€‚</li>\n</ul>\n<h4 id=\"Command-å‘½ä»¤æ¨¡å¼\"><a href=\"#Command-å‘½ä»¤æ¨¡å¼\" class=\"headerlink\" title=\"Command(å‘½ä»¤æ¨¡å¼)\"></a>Command(å‘½ä»¤æ¨¡å¼)</h4><p>å‘½ä»¤æ¨¡å¼æ˜¯ä¸€ç§è¡Œä¸ºè®¾è®¡æ¨¡å¼ï¼Œå®ƒå¯å°†è¯·æ±‚è½¬æ¢ä¸ºä¸€ä¸ªåŒ…å«ä¸è¯·æ±‚ç›¸å…³çš„æ‰€æœ‰ä¿¡æ¯çš„ç‹¬ç«‹å¯¹è±¡ã€‚è¯¥è½¬æ¢è®©ä½ èƒ½æ ¹æ®ä¸åŒçš„è¯·æ±‚å°†æ–¹æ³•å‚æ•°åŒ–ã€å»¶è¿Ÿè¯·æ±‚æ‰§è¡Œæˆ–å°†å…¶æ”¾å…¥é˜Ÿåˆ—ä¸­ï¼Œä¸”èƒ½å®ç°å¯æ’¤é”€æ“ä½œã€‚</p>\n<h5 id=\"é—®é¢˜-13\"><a href=\"#é—®é¢˜-13\" class=\"headerlink\" title=\"é—®é¢˜\"></a>é—®é¢˜</h5><p>å‡å¦‚ä½ æ­£åœ¨å¼€å‘ä¸€æ¬¾æ–°çš„æ–‡å­—ç¼–è¾‘å™¨ï¼Œå½“å‰çš„ä»»åŠ¡æ˜¯åˆ›å»ºä¸€ä¸ªåŒ…å«å¤šä¸ªæŒ‰é’®çš„å·¥å…·æ ï¼Œå¹¶è®©æ¯ä¸ªæŒ‰é’®å¯¹åº”ç¼–è¾‘å™¨çš„ä¸åŒæ“ä½œã€‚ä½ åˆ›å»ºäº†ä¸€ä¸ªéå¸¸ç®€æ´çš„æŒ‰é’®ç±»ï¼Œå®ƒä¸ä»…å¯ç”¨äºç”Ÿæˆå·¥å…·æ ä¸Šçš„æŒ‰é’®ï¼Œè¿˜å¯ç”¨äºç”Ÿæˆå„ç§å¯¹è¯æ¡†çš„é€šç”¨æŒ‰é’®ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220824135308.png\" alt=\"img\"></p>\n<p>å°½ç®¡æ‰€æœ‰æŒ‰é’®çœ‹ä¸Šå»éƒ½å¾ˆç›¸ä¼¼ï¼Œä½†å®ƒä»¬å¯ä»¥å®Œæˆä¸åŒçš„æ“ä½œï¼ˆæ‰“å¼€ã€ä¿å­˜ã€æ‰“å°å’Œåº”ç”¨ç­‰ï¼‰ã€‚ä½ ä¼šåœ¨å“ªé‡Œæ”¾ç½®è¿™äº›æŒ‰é’®çš„ç‚¹å‡»å¤„ç†ä»£ç å‘¢ï¼Ÿæœ€ç®€å•çš„è§£å†³æ–¹æ¡ˆæ˜¯åœ¨ä½¿ç”¨æŒ‰é’®çš„æ¯ä¸ªåœ°æ–¹éƒ½åˆ›å»ºå¤§é‡çš„å­ç±»ã€‚è¿™äº›å­ç±»ä¸­åŒ…å«æŒ‰é’®ç‚¹å‡»åå¿…é¡»æ‰§è¡Œçš„ä»£ç ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220824135352.png\" alt=\"img\"></p>\n<p>ä½ å¾ˆå¿«å°±æ„è¯†åˆ°è¿™ç§æ–¹å¼æœ‰ä¸¥é‡ç¼ºé™·ã€‚é¦–å…ˆï¼Œä½ åˆ›å»ºäº†å¤§é‡çš„å­ç±»ï¼Œå½“<strong>æ¯æ¬¡ä¿®æ”¹åŸºç±»æŒ‰é’®æ—¶,ä½ éƒ½æœ‰å¯èƒ½éœ€è¦ä¿®æ”¹æ‰€æœ‰å­ç±»çš„ä»£ç </strong>ã€‚ç®€å•æ¥è¯´ï¼ŒGUIä»£ç ä»¥ä¸€ç§æ‹™åŠ£çš„æ–¹å¼ä¾èµ–äºä¸šåŠ¡é€»è¾‘ä¸­çš„ä¸ç¨³å®šä»£ç ã€‚</p>\n<p>è¿˜æœ‰ä¸€ä¸ªéƒ¨åˆ†æœ€éš¾åŠã€‚å¤åˆ¶&#x2F;ç²˜è´´æ–‡å­—ç­‰æ“ä½œå¯èƒ½ä¼šåœ¨å¤šä¸ªåœ°æ–¹è¢«è°ƒç”¨ã€‚ä¾‹å¦‚ç”¨æˆ·å¯ä»¥ç‚¹å‡»å·¥å…·æ ä¸Šå°å°çš„ â€œå¤åˆ¶â€ æŒ‰é’®ï¼Œæˆ–è€…é€šè¿‡ä¸Šä¸‹æ–‡èœå•å¤åˆ¶ä¸€äº›å†…å®¹ï¼Œåˆæˆ–è€…ç›´æ¥ä½¿ç”¨é”®ç›˜ä¸Šçš„ Ctrl+C ã€‚</p>\n<h5 id=\"è§£å†³æ–¹æ¡ˆ-13\"><a href=\"#è§£å†³æ–¹æ¡ˆ-13\" class=\"headerlink\" title=\"è§£å†³æ–¹æ¡ˆ\"></a>è§£å†³æ–¹æ¡ˆ</h5><p>ä¼˜ç§€çš„è½¯ä»¶è®¾è®¡é€šå¸¸ä¼šå°†å…³æ³¨ç‚¹è¿›è¡Œåˆ†ç¦»ï¼Œè€Œè¿™å¾€å¾€ä¼šå¯¼è‡´è½¯ä»¶çš„åˆ†å±‚ã€‚æœ€å¸¸è§çš„ä¾‹å­ï¼šä¸€å±‚è´Ÿè´£ç”¨æˆ·å›¾åƒç•Œé¢ï¼›å¦ä¸€å±‚è´Ÿè´£ä¸šåŠ¡é€»è¾‘ã€‚GUI å±‚è´Ÿè´£åœ¨å±å¹•ä¸Šæ¸²æŸ“ç¾è§‚çš„å›¾å½¢ï¼Œæ•è·æ‰€æœ‰è¾“å…¥å¹¶æ˜¾ç¤ºç”¨æˆ·å’Œç¨‹åºå·¥ä½œçš„ç»“æœã€‚å½“éœ€è¦å®Œæˆä¸€äº›é‡è¦å†…å®¹æ—¶ï¼ˆæ¯”å¦‚è®¡ç®—æœˆçƒè½¨é“æˆ–æ’°å†™å¹´åº¦æŠ¥å‘Šï¼‰ï¼ŒGUI å±‚åˆ™ä¼šå°†å·¥ä½œå§”æ´¾ç»™ä¸šåŠ¡é€»è¾‘åº•å±‚ã€‚<br>è¿™åœ¨ä»£ç ä¸­çœ‹ä¸Šå»å°±åƒè¿™æ ·ï¼šä¸€ä¸ª GUI å¯¹è±¡ä¼ é€’ä¸€äº›å‚æ•°æ¥è°ƒç”¨ä¸€ä¸ªä¸šåŠ¡é€»è¾‘å¯¹è±¡ã€‚è¿™ä¸ªè¿‡ç¨‹é€šå¸¸è¢«æè¿°ä¸ºä¸€ä¸ªå¯¹è±¡å‘é€è¯·æ±‚ç»™å¦ä¸€ä¸ªå¯¹è±¡ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220824135547.png\" alt=\"img\"></p>\n<p>å‘½ä»¤æ¨¡å¼<strong>å»ºè®® GUI å¯¹è±¡ä¸ç›´æ¥æäº¤è¿™äº›è¯·æ±‚</strong>ã€‚ä½ åº”è¯¥å°†<strong>è¯·æ±‚çš„æ‰€æœ‰ç»†èŠ‚</strong> ï¼ˆä¾‹å¦‚è°ƒç”¨çš„å¯¹è±¡ã€ æ–¹æ³•åç§°å’Œå‚æ•°åˆ—è¡¨ï¼‰ <strong>æŠ½å–å‡ºæ¥ç»„æˆå‘½ä»¤ç±»</strong>ï¼Œè¯¥ç±»ä¸­ä»…åŒ…å«ä¸€ä¸ªç”¨äºè§¦å‘è¯·æ±‚çš„æ–¹æ³•ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220824135629.png\" alt=\"img\"></p>\n<p>ä¸‹ä¸€æ­¥æ˜¯è®©<strong>æ‰€æœ‰å‘½ä»¤å®ç°ç›¸åŒçš„æ¥å£</strong>ã€‚è¯¥æ¥å£é€šå¸¸åªæœ‰ä¸€ä¸ªæ²¡æœ‰ä»»ä½•å‚æ•°çš„æ‰§è¡Œæ–¹æ³•ï¼Œè®©ä½ èƒ½åœ¨ä¸å’Œå…·ä½“å‘½ä»¤ç±»è€¦åˆçš„æƒ…å†µä¸‹ä½¿ç”¨åŒä¸€è¯·æ±‚å‘é€è€…æ‰§è¡Œä¸åŒå‘½ä»¤ã€‚æ­¤å¤–è¿˜æœ‰é¢å¤–çš„å¥½å¤„ï¼Œç°åœ¨ä½ èƒ½åœ¨è¿è¡Œæ—¶åˆ‡æ¢è¿æ¥è‡³å‘é€è€…çš„å‘½ä»¤å¯¹è±¡ï¼Œä»¥æ­¤æ”¹å˜å‘é€è€…çš„è¡Œä¸ºã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220824135705.png\" alt=\"img\"></p>\n<h5 id=\"å‘½ä»¤æ¨¡å¼ç»“æ„\"><a href=\"#å‘½ä»¤æ¨¡å¼ç»“æ„\" class=\"headerlink\" title=\"å‘½ä»¤æ¨¡å¼ç»“æ„\"></a>å‘½ä»¤æ¨¡å¼ç»“æ„</h5><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220824135728.png\" alt=\"img\"></p>\n<p>1.<strong>å‘é€è€…(Sender)â€”â€”äº¦ç§° â€œè§¦å‘è€…(InvokÂ­er)â€</strong> ç±»è´Ÿè´£å¯¹è¯·æ±‚è¿›è¡Œåˆå§‹åŒ–ï¼Œå…¶ä¸­å¿…é¡»åŒ…å«ä¸€ä¸ªæˆå‘˜å˜é‡æ¥å­˜å‚¨å¯¹äºå‘½ä»¤å¯¹è±¡çš„å¼•ç”¨ã€‚å‘é€è€…è§¦å‘å‘½ä»¤ï¼Œè€Œä¸å‘æ¥æ”¶è€…ç›´æ¥å‘é€è¯·æ±‚ã€‚æ³¨æ„ï¼Œå‘é€è€…å¹¶ä¸è´Ÿè´£åˆ›å»ºå‘½ä»¤å¯¹è±¡ï¼šå®ƒé€šå¸¸ä¼šé€šè¿‡æ„é€ å‡½æ•°ä»å®¢æˆ·ç«¯å¤„è·å¾—é¢„å…ˆç”Ÿæˆçš„å‘½ä»¤ã€‚</p>\n<p>2.<strong>å‘½ä»¤(ComÂ­mand)</strong> æ¥å£é€šå¸¸ä»…å£°æ˜ä¸€ä¸ªæ‰§è¡Œå‘½ä»¤çš„æ–¹æ³•ã€‚</p>\n<p>3.<strong>å…·ä½“å‘½ä»¤(ConÂ­crete ComÂ­mands)</strong> ä¼šå®ç°å„ç§ç±»å‹çš„è¯·æ±‚ã€‚å…·ä½“å‘½ä»¤è‡ªèº«å¹¶ä¸å®Œæˆå·¥ä½œï¼Œè€Œæ˜¯ä¼šå°†è°ƒç”¨å§”æ´¾ç»™ä¸€ä¸ªä¸šåŠ¡é€»è¾‘å¯¹è±¡ã€‚ä½†ä¸ºäº†ç®€åŒ–ä»£ç ï¼Œè¿™äº›ç±»å¯ä»¥è¿›è¡Œåˆå¹¶ã€‚<br>æ¥æ”¶å¯¹è±¡æ‰§è¡Œæ–¹æ³•æ‰€éœ€çš„å‚æ•°å¯ä»¥å£°æ˜ä¸ºå…·ä½“å‘½ä»¤çš„æˆå‘˜å˜é‡ã€‚ä½ å¯ä»¥å°†å‘½ä»¤å¯¹è±¡è®¾ä¸ºä¸å¯å˜ï¼Œä»…å…è®¸é€šè¿‡æ„é€ å‡½æ•°å¯¹è¿™äº›æˆå‘˜å˜é‡è¿›è¡Œåˆå§‹åŒ–ã€‚</p>\n<p>4.<strong>æ¥æ”¶è€…(ReceivÂ­er)</strong> ç±»åŒ…å«éƒ¨åˆ†ä¸šåŠ¡é€»è¾‘ã€‚å‡ ä¹ä»»ä½•å¯¹è±¡éƒ½å¯ä»¥ä½œä¸ºæ¥æ”¶è€…ã€‚ç»å¤§éƒ¨åˆ†å‘½ä»¤åªå¤„ç†å¦‚ä½•å°†è¯·æ±‚ä¼ é€’åˆ°æ¥æ”¶è€…çš„ç»†èŠ‚ï¼Œæ¥æ”¶è€…è‡ªå·±ä¼šå®Œæˆå®é™…çš„å·¥ä½œã€‚</p>\n<p>5.<strong>å®¢æˆ·ç«¯(Client)</strong> ä¼šåˆ›å»ºå¹¶é…ç½®å…·ä½“å‘½ä»¤å¯¹è±¡ã€‚ å®¢æˆ·ç«¯å¿…é¡»å°†åŒ…æ‹¬æ¥æ”¶è€…å®ä½“åœ¨å†…çš„æ‰€æœ‰è¯·æ±‚å‚æ•°ä¼ é€’ç»™å‘½ä»¤çš„æ„é€ å‡½æ•°ã€‚æ­¤åï¼Œç”Ÿæˆçš„å‘½ä»¤å°±å¯ä»¥ä¸ä¸€ä¸ªæˆ–å¤šä¸ªå‘é€è€…ç›¸å…³è”äº†ã€‚</p>\n<h5 id=\"ä¼ªä»£ç -13\"><a href=\"#ä¼ªä»£ç -13\" class=\"headerlink\" title=\"ä¼ªä»£ç \"></a>ä¼ªä»£ç </h5><p>å‘½ä»¤æ¨¡å¼ååˆ†å¸¸è§ã€‚å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œå®ƒè¢«ç”¨äºä»£æ›¿åŒ…å«è¡Œä¸ºçš„å‚æ•°åŒ– UI å…ƒç´ çš„å›è°ƒå‡½æ•°ï¼Œæ­¤å¤–è¿˜è¢«ç”¨äºå¯¹ä»»åŠ¡è¿›è¡Œæ’åºå’Œè®°å½•æ“ä½œå†å²è®°å½•ç­‰ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220824141646.png\" alt=\"img\"></p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//å‘½ä»¤åŸºç±»</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> <span class=\"keyword\">class</span> <span class=\"title\">Command</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">protected</span> Application app;</span><br><span class=\"line\">    <span class=\"keyword\">protected</span> Editor editor;</span><br><span class=\"line\">    <span class=\"keyword\">protected</span> text backup;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">Command</span>(<span class=\"params\">Application app,editor Editor</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.app = app;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.editor = editor;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//å¤‡ä»½ç¼–è¾‘å™¨çŠ¶æ€</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">saveBackup</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        backup = editor.text;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//æ¢å¤ç¼–è¾‘å™¨çŠ¶æ€</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">undo</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        editor.text = backup;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// æ‰§è¡Œæ–¹æ³•è¢«å£°æ˜ä¸ºæŠ½è±¡ä»¥å¼ºåˆ¶æ‰€æœ‰å…·ä½“å‘½ä»¤æä¾›è‡ªå·±çš„å®ç°ã€‚è¯¥æ–¹æ³•å¿…é¡»æ ¹</span></span><br><span class=\"line\">    <span class=\"comment\">// æ®å‘½ä»¤æ˜¯å¦æ›´æ”¹ç¼–è¾‘å™¨çš„çŠ¶æ€è¿”å› true æˆ– falseã€‚</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> <span class=\"built_in\">bool</span> <span class=\"title\">execute</span>()</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//å…·ä½“å‘½ä»¤</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">CopyCommand</span> : <span class=\"title\">Command</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">// å¤åˆ¶å‘½ä»¤ä¸ä¼šè¢«ä¿å­˜åˆ°å†å²è®°å½•ä¸­ï¼Œå› ä¸ºå®ƒæ²¡æœ‰æ”¹å˜ç¼–è¾‘å™¨çš„çŠ¶æ€ã€‚</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">override</span> <span class=\"built_in\">bool</span> <span class=\"title\">execute</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        app.clipboard = editor.getSelection();</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">CutCommand</span> : <span class=\"title\">Command</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">// å‰ªåˆ‡å‘½ä»¤æ”¹å˜äº†ç¼–è¾‘å™¨çš„çŠ¶æ€ï¼Œå› æ­¤å®ƒå¿…é¡»è¢«ä¿å­˜åˆ°å†å²è®°å½•ä¸­ã€‚åªè¦æ–¹æ³•</span></span><br><span class=\"line\">    <span class=\"comment\">// è¿”å› trueï¼Œå®ƒå°±ä¼šè¢«ä¿å­˜ã€‚</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">override</span> <span class=\"built_in\">bool</span> <span class=\"title\">execute</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        saveBackup();</span><br><span class=\"line\">        app.clipboard = editor.getSelection();</span><br><span class=\"line\">        editor.deleteSelection();</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">CutCommand</span> : <span class=\"title\">Command</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">//ç²˜è´´å‘½ä»¤æ”¹å˜äº†ç¼–è¾‘å™¨çš„çŠ¶æ€</span></span><br><span class=\"line\">    <span class=\"comment\">// è¿”å› trueï¼Œå®ƒå°±ä¼šè¢«ä¿å­˜ã€‚</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">override</span> <span class=\"built_in\">bool</span> <span class=\"title\">execute</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        saveBackup();</span><br><span class=\"line\">        editor.replaceSelection(app.clipboard);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">UndoCommand</span> : <span class=\"title\">Command</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">override</span> <span class=\"built_in\">bool</span> <span class=\"title\">execute</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        app.undo();</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//å…¨å±€å‘½ä»¤å†å²è®°å½•å°±æ˜¯ä¸€ä¸ªå †æ ˆ</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">CommandHistory</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> Command[] history;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">push</span>(<span class=\"params\">Command c</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">// å°†å‘½ä»¤å‹å…¥å†å²è®°å½•æ•°ç»„çš„æœ«å°¾ã€‚</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> Command <span class=\"title\">pop</span>(<span class=\"params\">Command c</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">// ä»å†å²è®°å½•ä¸­å–å‡ºæœ€è¿‘çš„å‘½ä»¤ã€‚</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// ç¼–è¾‘å™¨ç±»åŒ…å«å®é™…çš„æ–‡æœ¬ç¼–è¾‘æ“ä½œã€‚å®ƒä¼šæ‹…ä»»æ¥æ”¶è€…çš„è§’è‰²ï¼šæœ€åæ‰€æœ‰å‘½ä»¤éƒ½ä¼š</span></span><br><span class=\"line\"><span class=\"comment\">// å°†æ‰§è¡Œå·¥ä½œå§”æ´¾ç»™ç¼–è¾‘å™¨çš„æ–¹æ³•ã€‚</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">Editor</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"built_in\">string</span> text;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"built_in\">string</span> <span class=\"title\">getSlection</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">// è¿”å›é€‰ä¸­çš„æ–‡å­—ã€‚</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">deleteSelction</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">// åˆ é™¤é€‰ä¸­çš„æ–‡å­—ã€‚</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">replaceSelection</span>(<span class=\"params\"><span class=\"built_in\">string</span> text</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">// åœ¨å½“å‰ä½ç½®æ’å…¥å‰ªè´´æ¿ä¸­çš„å†…å®¹ã€‚</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// åº”ç”¨ç¨‹åºç±»ä¼šè®¾ç½®å¯¹è±¡ä¹‹é—´çš„å…³ç³»ã€‚å®ƒä¼šæ‹…ä»»å‘é€è€…çš„è§’è‰²ï¼šå½“éœ€è¦å®ŒæˆæŸäº›å·¥</span></span><br><span class=\"line\"><span class=\"comment\">// ä½œæ—¶ï¼Œå®ƒä¼šåˆ›å»ºå¹¶æ‰§è¡Œä¸€ä¸ªå‘½ä»¤å¯¹è±¡ã€‚</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">Application</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"built_in\">string</span> clipboard;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> Editors[] editors;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> Editor activeEditor;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> CommandHistory histroy;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//åˆ†å‘UIçš„å‘½ä»¤</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">createUI</span>()</span> </span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">//å¤åˆ¶æ“ä½œ</span></span><br><span class=\"line\">        copy = function() &#123; executeCommand(</span><br><span class=\"line\">            <span class=\"keyword\">new</span> CopyCommand(<span class=\"keyword\">this</span>, activeEditor)) &#125;;</span><br><span class=\"line\">        copyButton.setCommand(copy);</span><br><span class=\"line\">        shortcuts.onKeyPress(<span class=\"string\">&quot;Ctrl+C&quot;</span>, copy);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">//å‰ªåˆ‡æ“ä½œ</span></span><br><span class=\"line\">        cut = function() &#123; executeCommand(</span><br><span class=\"line\">            <span class=\"keyword\">new</span> CutCommand(<span class=\"keyword\">this</span>, activeEditor)) &#125;;</span><br><span class=\"line\">        cutButton.setCommand(cut);</span><br><span class=\"line\">        shortcuts.onKeyPress(<span class=\"string\">&quot;Ctrl+X&quot;</span>, cut);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">//ç²˜è´´æ“ä½œ</span></span><br><span class=\"line\">        paste = function() &#123; executeCommand(</span><br><span class=\"line\">            <span class=\"keyword\">new</span> PasteCommand(<span class=\"keyword\">this</span>, activeEditor)) &#125;;</span><br><span class=\"line\">        pasteButton.setCommand(paste);</span><br><span class=\"line\">        shortcuts.onKeyPress(<span class=\"string\">&quot;Ctrl+V&quot;</span>, paste);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">//æ’¤é”€æ“ä½œ</span></span><br><span class=\"line\">        undo = function() &#123; executeCommand(</span><br><span class=\"line\">            <span class=\"keyword\">new</span> UndoCommand(<span class=\"keyword\">this</span>, activeEditor)) &#125;;</span><br><span class=\"line\">        undoButton.setCommand(undo);</span><br><span class=\"line\">        shortcuts.onKeyPress(<span class=\"string\">&quot;Ctrl+Z&quot;</span>, undo);</span><br><span class=\"line\">    &#125; </span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// æ‰§è¡Œä¸€ä¸ªå‘½ä»¤å¹¶æ£€æŸ¥å®ƒæ˜¯å¦éœ€è¦è¢«æ·»åŠ åˆ°å†å²è®°å½•ä¸­ã€‚</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">executeCommand</span>(<span class=\"params\">Command command</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(command.execute)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            history.push(command);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// ä»å†å²è®°å½•ä¸­å–å‡ºæœ€è¿‘çš„å‘½ä»¤å¹¶è¿è¡Œå…¶ undoï¼ˆæ’¤é”€ï¼‰æ–¹æ³•ã€‚è¯·æ³¨æ„ï¼Œä½ å¹¶</span></span><br><span class=\"line\">    <span class=\"comment\">// ä¸çŸ¥æ™“è¯¥å‘½ä»¤æ‰€å±çš„ç±»ã€‚ä½†æ˜¯æˆ‘ä»¬ä¸éœ€è¦çŸ¥æ™“ï¼Œå› ä¸ºå‘½ä»¤è‡ªå·±çŸ¥é“å¦‚ä½•æ’¤é”€</span></span><br><span class=\"line\">    <span class=\"comment\">// å…¶åŠ¨ä½œã€‚</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">undo</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Command command = history.pop();</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(command != <span class=\"literal\">null</span>) </span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            command.undo();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"é€‚åˆå‘½ä»¤æ¨¡å¼çš„åœ°æ–¹\"><a href=\"#é€‚åˆå‘½ä»¤æ¨¡å¼çš„åœ°æ–¹\" class=\"headerlink\" title=\"é€‚åˆå‘½ä»¤æ¨¡å¼çš„åœ°æ–¹\"></a>é€‚åˆå‘½ä»¤æ¨¡å¼çš„åœ°æ–¹</h5><ul>\n<li>å¦‚æœä½ éœ€è¦é€šè¿‡æ“ä½œæ¥å‚æ•°åŒ–å¯¹è±¡ï¼Œå¯ä½¿ç”¨å‘½ä»¤æ¨¡å¼ã€‚</li>\n<li>å¦‚æœä½ æƒ³è¦å°†æ“ä½œæ”¾å…¥é˜Ÿåˆ—ä¸­ã€æ“ä½œçš„æ‰§è¡Œæˆ–è€…è¿œç¨‹æ‰§è¡Œæ“ä½œï¼Œå¯ä½¿ç”¨å‘½ä»¤æ¨¡å¼ã€‚</li>\n<li>å¦‚æœä½ æƒ³è¦å®ç°æ“ä½œå›æ»šåŠŸèƒ½ï¼Œå¯ä½¿ç”¨å‘½ä»¤æ¨¡å¼ã€‚ä¸ºäº†èƒ½å¤Ÿå›æ»šæ“ä½œï¼Œä½ éœ€è¦å®ç°å·²æ‰§è¡Œæ“ä½œçš„å†å²è®°å½•åŠŸèƒ½ã€‚å‘½ä»¤å†å²è®°å½•æ˜¯ä¸€ç§åŒ…å«æ‰€æœ‰å·²æ‰§è¡Œå‘½ä»¤å¯¹è±¡åŠå…¶ç›¸å…³ç¨‹åºçŠ¶æ€å¤‡ä»½çš„æ ˆç»“æ„ã€‚è¿™ç§æ–¹æ³•æœ‰ä¸¤ä¸ªç¼ºç‚¹ã€‚é¦–å…ˆï¼Œç¨‹åºçŠ¶æ€çš„ä¿å­˜åŠŸèƒ½å¹¶ä¸å®¹æ˜“å®ç°ï¼Œå› ä¸ºéƒ¨åˆ†çŠ¶æ€å¯èƒ½æ˜¯ç§æœ‰çš„ã€‚ä½ å¯ä»¥ä½¿ç”¨<strong>å¤‡å¿˜å½•æ¨¡å¼</strong>æ¥åœ¨ä¸€å®šç¨‹åº¦ä¸Šè§£å†³è¿™ä¸ªé—®é¢˜ã€‚å…¶æ¬¡ï¼Œå¤‡ä»½çŠ¶æ€å¯èƒ½ä¼šå ç”¨å¤§é‡å†…å­˜ã€‚å› æ­¤ï¼Œæœ‰æ—¶ä½ éœ€è¦å€ŸåŠ©å¦ä¸€ç§å®ç°æ–¹å¼ï¼šå‘½ä»¤æ— éœ€æ¢å¤åŸå§‹çŠ¶æ€ï¼Œè€Œæ˜¯æ‰§è¡Œåå‘æ“ä½œã€‚åå‘æ“ä½œä¹Ÿæœ‰ä»£ä»·ï¼šå®ƒå¯èƒ½ä¼šå¾ˆéš¾ç”šè‡³æ˜¯æ— æ³•å®ç°ã€‚</li>\n</ul>\n<h5 id=\"å‘½ä»¤æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"><a href=\"#å‘½ä»¤æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\" class=\"headerlink\" title=\"å‘½ä»¤æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"></a>å‘½ä»¤æ¨¡å¼çš„ä¼˜ç¼ºç‚¹</h5><p><strong>ä¼˜ç‚¹</strong> :</p>\n<ul>\n<li>ç¬¦åˆSRP</li>\n<li>ç¬¦åˆOCP</li>\n<li>ä½ å¯ä»¥å®ç°æ’¤é”€å’Œæ¢å¤åŠŸèƒ½ã€‚</li>\n<li>ä½ å¯ä»¥å®ç°æ“ä½œçš„å»¶è¿Ÿæ‰§è¡Œã€‚</li>\n<li>ä½ å¯ä»¥å°†ä¸€ç»„ç®€å•å‘½ä»¤ç»„åˆæˆä¸€ä¸ªå¤æ‚å‘½ä»¤ã€‚</li>\n</ul>\n<p><strong>ç¼ºç‚¹</strong> :</p>\n<ul>\n<li>ä»£ç å¯èƒ½ä¼šå˜å¾—æ›´åŠ å¤æ‚ï¼Œå› ä¸ºä½ åœ¨å‘é€è€…å’Œæ¥æ”¶è€…ä¹‹é—´å¢åŠ äº†ä¸€ä¸ªå…¨æ–°çš„å±‚æ¬¡ã€‚</li>\n</ul>\n<h4 id=\"Iterator-è¿­ä»£å™¨æ¨¡å¼\"><a href=\"#Iterator-è¿­ä»£å™¨æ¨¡å¼\" class=\"headerlink\" title=\"Iterator(è¿­ä»£å™¨æ¨¡å¼)\"></a>Iterator(è¿­ä»£å™¨æ¨¡å¼)</h4><p>è¿­ä»£å™¨æ¨¡å¼æ˜¯ä¸€ç§è¡Œä¸ºè®¾è®¡æ¨¡å¼ï¼Œè®©ä½ èƒ½åœ¨ä¸æš´éœ²é›†åˆåº•å±‚è¡¨ç°å½¢å¼ï¼ˆåˆ—è¡¨ã€ æ ˆå’Œæ ‘ç­‰ï¼‰çš„æƒ…å†µä¸‹éå†é›†åˆä¸­æ‰€æœ‰çš„å…ƒç´ ã€‚</p>\n<h5 id=\"é—®é¢˜-14\"><a href=\"#é—®é¢˜-14\" class=\"headerlink\" title=\"é—®é¢˜\"></a>é—®é¢˜</h5><p>å¦‚æœä½ çš„é›†åˆåŸºäºåˆ—è¡¨ï¼Œé‚£ä¹ˆè¿™é¡¹å·¥ä½œå¬ä¸Šå»ä»¿ä½›å¾ˆç®€å•ã€‚ä½†å¦‚ä½•éå†å¤æ‚æ•°æ®ç»“æ„ï¼ˆä¾‹å¦‚æ ‘ï¼‰ä¸­çš„å…ƒç´ å‘¢ï¼Ÿä¾‹å¦‚ï¼Œä»Šå¤©ä½ éœ€è¦ä½¿ç”¨æ·±åº¦ä¼˜å…ˆç®—æ³•æ¥éå†æ ‘ç»“æ„ï¼Œæ˜å¤©å¯èƒ½ä¼šéœ€è¦å¹¿åº¦ä¼˜å…ˆç®—æ³•ï¼›ä¸‹å‘¨åˆ™å¯èƒ½ä¼šéœ€è¦å…¶ä»–æ–¹å¼ ï¼ˆæ¯”å¦‚éšæœºå­˜å–æ ‘ä¸­çš„å…ƒç´ ï¼‰ã€‚ä¸æ–­å‘é›†åˆä¸­æ·»åŠ éå†ç®—æ³•ä¼šæ¨¡ç³Šå…¶ â€œé«˜æ•ˆå­˜å‚¨æ•°æ®â€ çš„ä¸»è¦èŒè´£ã€‚æ­¤å¤–ï¼Œ æœ‰äº›ç®—æ³•å¯èƒ½æ˜¯æ ¹æ®ç‰¹å®šåº”ç”¨è®¢åˆ¶çš„ï¼Œå°†å…¶åŠ å…¥æ³›å‹é›†åˆç±»ä¸­ä¼šæ˜¾å¾—éå¸¸å¥‡æ€ªã€‚<br>å¦ä¸€æ–¹é¢ï¼Œä½¿ç”¨å¤šç§é›†åˆçš„å®¢æˆ·ç«¯ä»£ç å¯èƒ½å¹¶ä¸å…³å¿ƒå­˜å‚¨æ•°æ®çš„æ–¹å¼ã€‚ä¸è¿‡ç”±äºé›†åˆæä¾›ä¸åŒçš„å…ƒç´ è®¿é—®æ–¹å¼ï¼Œä½ çš„ä»£ç å°†ä¸å¾—ä¸ä¸ç‰¹å®šé›†åˆç±»è¿›è¡Œè€¦åˆã€‚</p>\n<h5 id=\"è§£å†³æ–¹æ¡ˆ-14\"><a href=\"#è§£å†³æ–¹æ¡ˆ-14\" class=\"headerlink\" title=\"è§£å†³æ–¹æ¡ˆ\"></a>è§£å†³æ–¹æ¡ˆ</h5><p>è¿­ä»£å™¨æ¨¡å¼çš„ä¸»è¦æ€æƒ³æ˜¯å°†<strong>é›†åˆçš„éå†è¡Œä¸ºæŠ½å–ä¸ºå•ç‹¬çš„è¿­ä»£å™¨å¯¹è±¡</strong>ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220824153321.png\" alt=\"img\"></p>\n<p>é™¤å®ç°è‡ªèº«ç®—æ³•å¤–ï¼Œè¿­ä»£å™¨è¿˜å°è£…äº†éå†æ“ä½œçš„æ‰€æœ‰ç»†èŠ‚ï¼Œä¾‹å¦‚å½“å‰ä½ç½®å’Œæœ«å°¾å‰©ä½™å…ƒç´ çš„æ•°é‡ã€‚å› æ­¤ï¼Œå¤šä¸ªè¿­ä»£å™¨å¯ä»¥åœ¨ç›¸äº’ç‹¬ç«‹çš„æƒ…å†µä¸‹åŒæ—¶è®¿é—®é›†åˆã€‚<br>è¿­ä»£å™¨é€šå¸¸ä¼šæä¾›ä¸€ä¸ªè·å–é›†åˆå…ƒç´ çš„åŸºæœ¬æ–¹æ³•ã€‚å®¢æˆ·ç«¯å¯ä¸æ–­è°ƒç”¨è¯¥æ–¹æ³•ç›´è‡³å®ƒä¸è¿”å›ä»»ä½•å†…å®¹ï¼Œè¿™æ„å‘³ç€è¿­ä»£å™¨å·²ç»éå†äº†æ‰€æœ‰å…ƒç´ ã€‚<br>æ‰€æœ‰è¿­ä»£å™¨å¿…é¡»å®ç°ç›¸åŒçš„æ¥å£ã€‚è¿™æ ·ä¸€æ¥ï¼Œåªè¦æœ‰åˆé€‚çš„è¿­ä»£å™¨ï¼Œå®¢æˆ·ç«¯ä»£ç å°±èƒ½å…¼å®¹ä»»ä½•ç±»å‹çš„é›†åˆæˆ–éå†ç®—æ³•ã€‚å¦‚æœä½ éœ€è¦é‡‡ç”¨ç‰¹æ®Šæ–¹å¼æ¥éå†é›†åˆï¼Œåªéœ€åˆ›å»ºä¸€ä¸ªæ–°çš„è¿­ä»£å™¨ç±»å³å¯ï¼Œæ— éœ€å¯¹é›†åˆæˆ–å®¢æˆ·ç«¯è¿›è¡Œä¿®æ”¹ã€‚</p>\n<h5 id=\"è¿­ä»£å™¨æ¨¡å¼ç»“æ„\"><a href=\"#è¿­ä»£å™¨æ¨¡å¼ç»“æ„\" class=\"headerlink\" title=\"è¿­ä»£å™¨æ¨¡å¼ç»“æ„\"></a>è¿­ä»£å™¨æ¨¡å¼ç»“æ„</h5><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220824153429.png\" alt=\"img\"></p>\n<p>1.<strong>è¿­ä»£å™¨(IterÂ­aÂ­tor)</strong> æ¥å£å£°æ˜äº†éå†é›†åˆæ‰€éœ€çš„æ“ä½œï¼šè·å–ä¸‹ä¸€ä¸ªå…ƒç´ ã€è·å–å½“å‰ä½ç½®å’Œé‡æ–°å¼€å§‹è¿­ä»£ç­‰ã€‚</p>\n<p>2.<strong>å…·ä½“è¿­ä»£å™¨(ConÂ­crete IterÂ­aÂ­tors)</strong> å®ç°éå†é›†åˆçš„ä¸€ç§ç‰¹å®šç®—æ³•ã€‚è¿­ä»£å™¨å¯¹è±¡å¿…é¡»è·Ÿè¸ªè‡ªèº«éå†çš„è¿›åº¦ã€‚è¿™ä½¿å¾—å¤šä¸ªè¿­ä»£å™¨å¯ä»¥ç›¸äº’ç‹¬ç«‹åœ°éå†åŒä¸€é›†åˆã€‚</p>\n<p>3.<strong>é›†åˆ(ColÂ­lecÂ­tion)</strong> æ¥å£å£°æ˜ä¸€ä¸ªæˆ–å¤šä¸ªæ–¹æ³•æ¥è·å–ä¸é›†åˆå…¼å®¹çš„è¿­ä»£å™¨ã€‚è¯·æ³¨æ„ï¼Œè¿”å›æ–¹æ³•çš„ç±»å‹å¿…é¡»è¢«å£°æ˜ä¸ºè¿­ä»£å™¨æ¥å£ï¼Œå› æ­¤å…·ä½“é›†åˆå¯ä»¥è¿”å›å„ç§ä¸åŒç§ç±»çš„è¿­ä»£å™¨ã€‚</p>\n<p>4.<strong>å…·ä½“é›†åˆ(ConÂ­crete ColÂ­lecÂ­tions)</strong> ä¼šåœ¨å®¢æˆ·ç«¯è¯·æ±‚è¿­ä»£å™¨æ—¶è¿”å›ä¸€ä¸ªç‰¹å®šçš„å…·ä½“è¿­ä»£å™¨ç±»å®ä½“ã€‚ä½ å¯èƒ½ä¼šç¢ç£¨ï¼Œå‰©ä¸‹çš„é›†åˆä»£ç åœ¨ä»€ä¹ˆåœ°æ–¹å‘¢ï¼Ÿä¸ç”¨æ‹…å¿ƒï¼Œå®ƒä¹Ÿä¼šåœ¨åŒä¸€ä¸ªç±»ä¸­ã€‚åªæ˜¯è¿™äº›ç»†èŠ‚å¯¹äºå®é™…æ¨¡å¼æ¥è¯´å¹¶ä¸é‡è¦ï¼Œæ‰€ä»¥æˆ‘ä»¬å°†å…¶çœç•¥äº†è€Œå·²ã€‚</p>\n<p>5.<strong>å®¢æˆ·ç«¯(Client)</strong> é€šè¿‡é›†åˆå’Œè¿­ä»£å™¨çš„æ¥å£ä¸ä¸¤è€…è¿›è¡Œäº¤äº’ã€‚è¿™æ ·ä¸€æ¥å®¢æˆ·ç«¯æ— éœ€ä¸å…·ä½“ç±»è¿›è¡Œè€¦åˆï¼Œå…è®¸åŒä¸€å®¢æˆ·ç«¯ä»£ç ä½¿ç”¨å„ç§ä¸åŒçš„é›†åˆå’Œè¿­ä»£å™¨ã€‚<br>å®¢æˆ·ç«¯é€šå¸¸ä¸ä¼šè‡ªè¡Œåˆ›å»ºè¿­ä»£å™¨ï¼Œè€Œæ˜¯ä¼šä»é›†åˆä¸­è·å–ã€‚ä½†åœ¨ç‰¹å®šæƒ…å†µä¸‹ï¼Œå®¢æˆ·ç«¯å¯ä»¥ç›´æ¥åˆ›å»ºä¸€ä¸ªè¿­ä»£å™¨ï¼ˆä¾‹å¦‚å½“å®¢æˆ·ç«¯éœ€è¦è‡ªå®šä¹‰ç‰¹æ®Šè¿­ä»£å™¨æ—¶ï¼‰ã€‚</p>\n<h5 id=\"ä¼ªä»£ç -14\"><a href=\"#ä¼ªä»£ç -14\" class=\"headerlink\" title=\"ä¼ªä»£ç \"></a>ä¼ªä»£ç </h5><p>è¿­ä»£å™¨æ¨¡å¼åœ¨c#ä¸­ååˆ†å¸¸è§ï¼ŒåŸºäºIEnumeratorå’ŒIEnumerableçš„ä½¿ç”¨ï¼Œç„¶ååœ¨foreachä¸­å°±èƒ½å¾ˆæ–¹ä¾¿åœ°å®ç°ã€‚å‰è€…æ˜¯è®¡æ•°å™¨ï¼Œåè€…æ˜¯å¯è®¡æ•°çš„ï¼Œä¹Ÿå°±ç›¸å½“äºè¿­ä»£å™¨æ¨¡å¼é‡Œçš„è¿­ä»£å™¨å’Œé›†åˆ</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//è¿­ä»£å™¨åŸºç±»ï¼Œå®ç°IEnumeratoræ¥å£</span></span><br><span class=\"line\"><span class=\"keyword\">abstract</span> <span class=\"keyword\">class</span> <span class=\"title\">Iterator</span> : <span class=\"title\">IEnumerator</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"built_in\">object</span> IEnumerator.Current =&gt; Current();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// è¿”å›å½“å‰å…ƒç´ çš„é”®</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> <span class=\"built_in\">int</span> <span class=\"title\">Key</span>()</span>;    </span><br><span class=\"line\">    <span class=\"comment\">// è¿”å›å½“å‰å…ƒç´ </span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> <span class=\"built_in\">object</span> <span class=\"title\">Current</span>()</span>;    </span><br><span class=\"line\">    <span class=\"comment\">// ç§»åŠ¨åˆ°ä¸‹ä¸€ä½å…ƒç´ </span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> <span class=\"built_in\">bool</span> <span class=\"title\">MoveNext</span>()</span>;    </span><br><span class=\"line\">    <span class=\"comment\">// é‡ç½®å½“å‰æŒ‡çš„ä½ç½®åˆ°åˆå§‹ä½ç½®</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> <span class=\"keyword\">void</span> <span class=\"title\">Reset</span>()</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//é›†åˆåŸºç±»</span></span><br><span class=\"line\"><span class=\"keyword\">abstract</span> <span class=\"keyword\">class</span> <span class=\"title\">IteratorAggregate</span> : <span class=\"title\">Ienumerable</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">//è¿”å›é›†åˆå¯¹åº”çš„è¿­ä»£å™¨</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> IEnumerator <span class=\"title\">GetEnumerator</span>()</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//å…·ä½“è¿­ä»£å™¨çš„éå†ç®—æ³•</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">AlphabeticalOrderIterator</span> : <span class=\"title\">Iterator</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> WordsCollection _collection;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"built_in\">int</span> _position = <span class=\"number\">-1</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"built_in\">bool</span> _reverse = <span class=\"literal\">false</span>;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">AlphabeticalOrderIterator</span>(<span class=\"params\">WordsCollection collection, <span class=\"built_in\">bool</span> reverse = <span class=\"literal\">false</span></span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._collection = collection;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._reverse = reverse;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (reverse)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">this</span>._position = collection.getItems().Count;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">override</span> <span class=\"built_in\">int</span> <span class=\"title\">Key</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>._position;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">override</span> <span class=\"built_in\">object</span> <span class=\"title\">Current</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>._collection.getItems()[_position];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">override</span> <span class=\"built_in\">bool</span> <span class=\"title\">MoveNext</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"built_in\">int</span> updatedPosition = <span class=\"keyword\">this</span>._position + (<span class=\"keyword\">this</span>._reverse ? <span class=\"number\">-1</span> : <span class=\"number\">1</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span>(updatedPosition &gt;= <span class=\"number\">0</span> &amp;&amp; updatedPosition &lt; <span class=\"keyword\">this</span>._collection.getItems())</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">this</span>._position = updatePosition;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">else</span> </span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">override</span> <span class=\"keyword\">void</span> <span class=\"title\">Reset</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._position = <span class=\"keyword\">this</span>._reverse ? <span class=\"keyword\">this</span>._collection.getItems().Count - <span class=\"number\">1</span> : <span class=\"number\">0</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//å…·ä½“é›†åˆç±»</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">WordsCollection</span> : <span class=\"title\">IteratorAggregate</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    List&lt;<span class=\"built_in\">string</span>&gt; _collection = <span class=\"keyword\">new</span> List&lt;<span class=\"built_in\">string</span>&gt;();</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">//å†³å®šæ˜¯å¦åè½¬</span></span><br><span class=\"line\">    <span class=\"built_in\">bool</span> _direction = <span class=\"literal\">false</span>;</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">ReverseDirection</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        _direction = !_direction;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> List&lt;<span class=\"built_in\">string</span>&gt; <span class=\"title\">getItems</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> _collection;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">AddItem</span>(<span class=\"params\"><span class=\"built_in\">string</span> item</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._collection.Add(item);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">override</span> IEnumerator <span class=\"title\">GetEnumerator</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> AlphabeticalOrderIterator(<span class=\"keyword\">this</span>, _direction);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//å®¢æˆ·ç«¯ä»£ç </span></span><br><span class=\"line\"><span class=\"keyword\">var</span> collection = <span class=\"keyword\">new</span> WordsCollection();</span><br><span class=\"line\">collection.AddItem(<span class=\"string\">&quot;First&quot;</span>);        collection.AddItem(<span class=\"string\">&quot;Second&quot;</span>);        collection.AddItem(<span class=\"string\">&quot;Third&quot;</span>);</span><br><span class=\"line\">Console.WriteLine(<span class=\"string\">&quot;Straight traversal:&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">foreach</span> (<span class=\"keyword\">var</span> element <span class=\"keyword\">in</span> collection)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    Console.WriteLine(element);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">Console.WriteLine(<span class=\"string\">&quot;\\nReverse traversal:&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">collection.ReverseDirection();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">foreach</span> (<span class=\"keyword\">var</span> element <span class=\"keyword\">in</span> collection)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    Console.WriteLine(element);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/*è¿è¡Œç»“æœ</span></span><br><span class=\"line\"><span class=\"comment\">Straight traversal:</span></span><br><span class=\"line\"><span class=\"comment\">First</span></span><br><span class=\"line\"><span class=\"comment\">Second</span></span><br><span class=\"line\"><span class=\"comment\">Third</span></span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\">Reverse traversal:</span></span><br><span class=\"line\"><span class=\"comment\">Third</span></span><br><span class=\"line\"><span class=\"comment\">Second</span></span><br><span class=\"line\"><span class=\"comment\">First</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br></pre></td></tr></table></figure>\n\n<h5 id=\"é€‚åˆè¿­ä»£å™¨æ¨¡å¼çš„åœ°æ–¹\"><a href=\"#é€‚åˆè¿­ä»£å™¨æ¨¡å¼çš„åœ°æ–¹\" class=\"headerlink\" title=\"é€‚åˆè¿­ä»£å™¨æ¨¡å¼çš„åœ°æ–¹\"></a>é€‚åˆè¿­ä»£å™¨æ¨¡å¼çš„åœ°æ–¹</h5><ul>\n<li>å½“é›†åˆèƒŒåä¸ºå¤æ‚çš„æ•°æ®ç»“æ„ï¼Œä¸”ä½ å¸Œæœ›å¯¹å®¢æˆ·ç«¯éšè—å…¶å¤æ‚æ€§æ—¶ï¼ˆå‡ºäºä½¿ç”¨ä¾¿åˆ©æ€§æˆ–å®‰å…¨æ€§çš„è€ƒè™‘ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨è¿­ä»£å™¨æ¨¡å¼ã€‚</li>\n<li>ä½¿ç”¨è¯¥æ¨¡å¼å¯ä»¥å‡å°‘ç¨‹åºä¸­é‡å¤çš„éå†ä»£ç ã€‚</li>\n<li>å¦‚æœä½ å¸Œæœ›ä»£ç èƒ½å¤Ÿéå†ä¸åŒçš„ç”šè‡³æ˜¯æ— æ³•é¢„çŸ¥çš„æ•°æ®ç»“æ„ï¼Œå¯ä»¥ä½¿ç”¨è¿­ä»£å™¨æ¨¡å¼ã€‚</li>\n</ul>\n<h5 id=\"è¿­ä»£å™¨æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"><a href=\"#è¿­ä»£å™¨æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\" class=\"headerlink\" title=\"è¿­ä»£å™¨æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"></a>è¿­ä»£å™¨æ¨¡å¼çš„ä¼˜ç¼ºç‚¹</h5><p><strong>ä¼˜ç‚¹</strong> :</p>\n<ul>\n<li>ç¬¦åˆSRP</li>\n<li>ç¬¦åˆOCP</li>\n<li>ä½ å¯ä»¥å¹¶è¡Œéå†åŒä¸€é›†åˆï¼Œå› ä¸ºæ¯ä¸ªè¿­ä»£å™¨å¯¹è±¡éƒ½åŒ…å«å…¶è‡ªèº«çš„éå†çŠ¶æ€ã€‚</li>\n<li>ç›¸ä¼¼çš„ï¼Œä½ å¯ä»¥æš‚åœéå†å¹¶åœ¨éœ€è¦æ—¶ç»§ç»­ã€‚</li>\n</ul>\n<p><strong>ç¼ºç‚¹</strong> :</p>\n<ul>\n<li>å¦‚æœä½ çš„ç¨‹åºåªä¸ç®€å•çš„é›†åˆè¿›è¡Œäº¤äº’ï¼Œåº”ç”¨è¯¥æ¨¡å¼å¯èƒ½ä¼šçŸ«æ‰è¿‡æ­£ã€‚</li>\n<li>å¯¹äºæŸäº›ç‰¹æ®Šé›†åˆï¼Œä½¿ç”¨è¿­ä»£å™¨å¯èƒ½æ¯”ç›´æ¥éå†çš„æ•ˆç‡ä½ã€‚</li>\n</ul>\n<h4 id=\"Mediator-ä¸­ä»‹è€…æ¨¡å¼\"><a href=\"#Mediator-ä¸­ä»‹è€…æ¨¡å¼\" class=\"headerlink\" title=\"Mediator(ä¸­ä»‹è€…æ¨¡å¼)\"></a>Mediator(ä¸­ä»‹è€…æ¨¡å¼)</h4><p>ä¸­ä»‹è€…æ¨¡å¼æ˜¯ä¸€ç§è¡Œä¸ºè®¾è®¡æ¨¡å¼ï¼Œèƒ½è®©ä½ å‡å°‘å¯¹è±¡ä¹‹é—´æ··ä¹±æ— åºçš„ä¾èµ–å…³ç³»ã€‚è¯¥æ¨¡å¼ä¼šé™åˆ¶å¯¹è±¡ä¹‹é—´çš„ç›´æ¥äº¤äº’ï¼Œè¿«ä½¿å®ƒä»¬é€šè¿‡ä¸€ä¸ªä¸­ä»‹è€…å¯¹è±¡è¿›è¡Œåˆä½œã€‚</p>\n<h5 id=\"é—®é¢˜-15\"><a href=\"#é—®é¢˜-15\" class=\"headerlink\" title=\"é—®é¢˜\"></a>é—®é¢˜</h5><p>å‡å¦‚ä½ æœ‰ä¸€ä¸ªåˆ›å»ºå’Œä¿®æ”¹å®¢æˆ·èµ„æ–™çš„å¯¹è¯æ¡†ï¼Œå®ƒç”±å„ç§æ§ä»¶ç»„æˆï¼Œä¾‹å¦‚æ–‡æœ¬æ¡†ï¼ˆTextÂ­Fieldï¼‰ã€å¤é€‰æ¡† ï¼ˆCheckÂ­boxï¼‰å’ŒæŒ‰é’®ï¼ˆButÂ­tonï¼‰ç­‰ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220824213630.png\" alt=\"img\"></p>\n<p>å¦‚æœç›´æ¥åœ¨è¡¨å•å…ƒç´ ä»£ç ä¸­å®ç°ä¸šåŠ¡é€»è¾‘ï¼Œä½ å°†å¾ˆéš¾åœ¨ç¨‹åºå…¶ä»–è¡¨å•ä¸­å¤ç”¨è¿™äº›å…ƒç´ ç±»ã€‚ä¾‹å¦‚ï¼Œç”±äºå¤é€‰æ¡†ç±»ä¸ç‹—ç‹—çš„æ–‡æœ¬æ¡†ç›¸è€¦åˆï¼Œæ‰€ä»¥å°†æ— æ³•åœ¨å…¶ä»–è¡¨å•ä¸­ä½¿ç”¨å®ƒã€‚ä½ è¦ä¹ˆä½¿ç”¨æ¸²æŸ“èµ„æ–™è¡¨å•æ—¶ç”¨åˆ°çš„æ‰€æœ‰ç±»ï¼Œè¦ä¹ˆä¸€ä¸ªéƒ½ä¸ç”¨ã€‚</p>\n<h5 id=\"è§£å†³æ–¹æ¡ˆ-15\"><a href=\"#è§£å†³æ–¹æ¡ˆ-15\" class=\"headerlink\" title=\"è§£å†³æ–¹æ¡ˆ\"></a>è§£å†³æ–¹æ¡ˆ</h5><p>ä¸­ä»‹è€…æ¨¡å¼å»ºè®®ä½ <strong>åœæ­¢ç»„ä»¶ä¹‹é—´çš„ç›´æ¥äº¤æµå¹¶ä½¿å…¶ç›¸äº’ç‹¬ç«‹</strong>ã€‚è¿™äº›ç»„ä»¶å¿…é¡»è°ƒç”¨ç‰¹æ®Šçš„ä¸­ä»‹è€…å¯¹è±¡ï¼Œé€šè¿‡ä¸­ä»‹è€…å¯¹è±¡é‡å®šå‘è°ƒç”¨è¡Œä¸ºï¼Œä»¥é—´æ¥çš„æ–¹å¼è¿›è¡Œåˆä½œã€‚æœ€ç»ˆï¼Œ<strong>ç»„ä»¶ä»…ä¾èµ–äºä¸€ä¸ªä¸­ä»‹è€…ç±»ï¼Œæ— éœ€ä¸å¤šä¸ªå…¶ä»–ç»„ä»¶ç›¸è€¦åˆ</strong>ã€‚<br>ä½ è¿˜å¯ä»¥ä¸ºæ‰€æœ‰ç±»å‹çš„å¯¹è¯æ¡†æŠ½å–é€šç”¨æ¥å£ï¼Œè¿›ä¸€æ­¥å‰Šå¼±å…¶ä¾èµ–æ€§ã€‚æ¥å£ä¸­å°†å£°æ˜ä¸€ä¸ªæ‰€æœ‰è¡¨å•å…ƒç´ éƒ½èƒ½ä½¿ç”¨çš„é€šçŸ¥æ–¹æ³•ï¼Œå¯ç”¨äºå°†å…ƒç´ ä¸­å‘ç”Ÿçš„äº‹ä»¶é€šçŸ¥ç»™å¯¹è¯æ¡†ã€‚è¿™æ ·ä¸€æ¥ï¼Œæ‰€æœ‰å®ç°äº†è¯¥æ¥å£çš„å¯¹è¯æ¡†éƒ½èƒ½ä½¿ç”¨è¿™ä¸ªæäº¤æŒ‰é’®äº†ã€‚<br>é‡‡ç”¨è¿™ç§æ–¹å¼ï¼Œä¸­ä»‹è€…æ¨¡å¼è®©ä½ èƒ½åœ¨å•ä¸ªä¸­ä»‹è€…å¯¹è±¡ä¸­å°è£…å¤šä¸ªå¯¹è±¡é—´çš„å¤æ‚å…³ç³»ç½‘ã€‚ç±»æ‰€æ‹¥æœ‰çš„ä¾èµ–å…³ç³»è¶Šå°‘ï¼Œå°±è¶Šæ˜“äºä¿®æ”¹ã€æ‰©å±•æˆ–å¤ç”¨ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220824213818.png\" alt=\"img\"></p>\n<p>é£è¡Œå™¨é©¾é©¶å‘˜ä»¬åœ¨é è¿‘æˆ–ç¦»å¼€ç©ºä¸­ç®¡åˆ¶åŒºåŸŸæ—¶ä¸ä¼šç›´æ¥ç›¸äº’äº¤æµã€‚ä½†ä»–ä»¬ä¼šä¸é£æœºè·‘é“é™„è¿‘ï¼Œå¡”å°ä¸­çš„ç©ºç®¡å‘˜é€šè¯ã€‚å¦‚æœæ²¡æœ‰ç©ºç®¡å‘˜ï¼Œé©¾é©¶å‘˜å°±éœ€è¦ç•™æ„æœºåœºé™„è¿‘çš„æ‰€æœ‰é£æœºï¼Œå¹¶ä¸æ•°åä½é£è¡Œå‘˜ç»„æˆçš„å§”å‘˜ä¼šè®¨è®ºé™è½é¡ºåºã€‚é‚£ææ€•ä¼šè®©é£æœºå æ¯çš„ç»Ÿè®¡æ•°æ®ä¸€é£å†²å¤©å§ã€‚</p>\n<p>å¡”å°æ— éœ€ç®¡åˆ¶é£è¡Œå…¨ç¨‹ï¼Œåªéœ€åœ¨èˆªç«™åŒºåŠ å¼ºç®¡æ§å³å¯ï¼Œå› ä¸ºè¯¥åŒºåŸŸçš„å†³ç­–å‚ä¸è€…æ•°é‡å¯¹äºé£è¡Œå‘˜æ¥è¯´å®åœ¨å¤ªå¤šäº†ã€‚</p>\n<h5 id=\"ä¸­ä»‹è€…æ¨¡å¼ç»“æ„\"><a href=\"#ä¸­ä»‹è€…æ¨¡å¼ç»“æ„\" class=\"headerlink\" title=\"ä¸­ä»‹è€…æ¨¡å¼ç»“æ„\"></a>ä¸­ä»‹è€…æ¨¡å¼ç»“æ„</h5><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220824213846.png\" alt=\"img\"></p>\n<p>1.<strong>ç»„ä»¶(ComÂ­poÂ­nent)</strong> æ˜¯å„ç§åŒ…å«ä¸šåŠ¡é€»è¾‘çš„ç±»ã€‚æ¯ä¸ªç»„ä»¶éƒ½æœ‰ä¸€ä¸ªæŒ‡å‘ä¸­ä»‹è€…çš„å¼•ç”¨ï¼Œè¯¥å¼•ç”¨è¢«å£°æ˜ä¸ºä¸­ä»‹è€…æ¥å£ç±»å‹ã€‚ç»„ä»¶ä¸çŸ¥é“ä¸­ä»‹è€…å®é™…æ‰€å±çš„ç±»ï¼Œå› æ­¤ä½ å¯é€šè¿‡å°†å…¶è¿æ¥åˆ°ä¸åŒçš„ä¸­ä»‹è€…ä»¥ä½¿å…¶èƒ½åœ¨å…¶ä»–ç¨‹åºä¸­å¤ç”¨ã€‚</p>\n<p>2.<strong>ä¸­ä»‹è€…(MediÂ­aÂ­tor)</strong> æ¥å£å£°æ˜äº†ä¸ç»„ä»¶äº¤æµçš„æ–¹æ³•ï¼Œä½†é€šå¸¸ä»…åŒ…æ‹¬ä¸€ä¸ªé€šçŸ¥æ–¹æ³•ã€‚ç»„ä»¶å¯å°†ä»»æ„ä¸Šä¸‹æ–‡ï¼ˆåŒ…æ‹¬è‡ªå·±çš„å¯¹è±¡ï¼‰ä½œä¸ºè¯¥æ–¹æ³•çš„å‚æ•°ï¼Œåªæœ‰è¿™æ ·æ¥æ”¶ç»„ä»¶å’Œå‘é€è€…ç±»ä¹‹é—´æ‰ä¸ä¼šè€¦åˆã€‚</p>\n<p>3.<strong>å…·ä½“ä¸­ä»‹è€…(ConÂ­crete MediÂ­aÂ­tor)</strong> å°è£…äº†å¤šç§ç»„ä»¶é—´çš„å…³ç³»ã€‚å…·ä½“ä¸­ä»‹è€…é€šå¸¸ä¼šä¿å­˜æ‰€æœ‰ç»„ä»¶çš„å¼•ç”¨å¹¶å¯¹å…¶è¿›è¡Œç®¡ç†ï¼Œç”šè‡³æœ‰æ—¶ä¼šå¯¹å…¶ç”Ÿå‘½å‘¨æœŸè¿›è¡Œç®¡ç†ã€‚</p>\n<p>4.ç»„ä»¶å¹¶ä¸çŸ¥é“å…¶ä»–ç»„ä»¶çš„æƒ…å†µã€‚å¦‚æœç»„ä»¶å†…å‘ç”Ÿäº†é‡è¦äº‹ä»¶ï¼Œå®ƒåªèƒ½é€šçŸ¥ä¸­ä»‹è€…ã€‚ä¸­ä»‹è€…æ”¶åˆ°é€šçŸ¥åèƒ½è½»æ˜“åœ°ç¡®å®šå‘é€è€…ï¼Œè¿™æˆ–è®¸å·²è¶³ä»¥åˆ¤æ–­æ¥ä¸‹æ¥éœ€è¦è§¦å‘çš„ç»„ä»¶äº†ã€‚<br>å¯¹äºç»„ä»¶æ¥è¯´ï¼Œä¸­ä»‹è€…çœ‹ä¸Šå»å®Œå…¨å°±æ˜¯ä¸€ä¸ªé»‘ç®±ã€‚å‘é€è€…ä¸çŸ¥é“æœ€ç»ˆä¼šç”±è°æ¥å¤„ç†è‡ªå·±çš„è¯·æ±‚ï¼Œæ¥æ”¶è€…ä¹Ÿä¸çŸ¥é“æœ€åˆæ˜¯è°å‘å‡ºäº†è¯·æ±‚ã€‚</p>\n<h5 id=\"ä¼ªä»£ç -15\"><a href=\"#ä¼ªä»£ç -15\" class=\"headerlink\" title=\"ä¼ªä»£ç \"></a>ä¼ªä»£ç </h5><p>ä¸­ä»‹è€…æ¨¡å¼åœ¨ C# ä»£ç ä¸­æœ€å¸¸ç”¨äºå¸®åŠ©ç¨‹åº GUI ç»„ä»¶ä¹‹é—´çš„é€šä¿¡ã€‚åœ¨ MVC æ¨¡å¼ä¸­ï¼Œæ§åˆ¶å™¨æ˜¯ä¸­ä»‹è€…çš„åŒä¹‰è¯ã€‚</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//ä¸­ä»‹è€…æ¥å£å£°æ˜å„ç§å…ƒç´ é€šè¿‡æ´»åŠ¨ç›¸äº’é€šçŸ¥çš„æ–¹æ³•</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title\">IMediator</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">Notify</span>(<span class=\"params\"><span class=\"built_in\">object</span> sender,<span class=\"built_in\">string</span> ev</span>)</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//å…·ä½“ä¸­ä»‹è€…</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">ConcreteMediator</span> : <span class=\"title\">IMediator</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> Component1 _component1;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> Component2 _component2;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">ConcreteMediator</span>(<span class=\"params\">Component1 component1, Component2 component2</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._component1 = component1;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._component1.SetMediator(<span class=\"keyword\">this</span>);</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._component2 = component2;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._component2.SetMediator(<span class=\"keyword\">this</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Notify</span>(<span class=\"params\"><span class=\"built_in\">object</span> sender,<span class=\"built_in\">string</span> ev</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (ev == <span class=\"string\">&quot;A&quot;</span>)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            Console.WriteLine(<span class=\"string\">&quot;Mediator reacts on A and triggers folowing operations:&quot;</span>);</span><br><span class=\"line\">            <span class=\"keyword\">this</span>._component2.DoC();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (ev == <span class=\"string\">&quot;D&quot;</span>)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            Console.WriteLine(<span class=\"string\">&quot;Mediator reacts on D and triggers following operations:&quot;</span>);                </span><br><span class=\"line\">            <span class=\"keyword\">this</span>._component1.DoB();</span><br><span class=\"line\">            <span class=\"keyword\">this</span>._component2.DoC();</span><br><span class=\"line\">        &#125;        </span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//åŸºæœ¬ç»„ä»¶ç±»æä¾›å­˜å‚¨å¯¹åº”çš„å¼•ç”¨çš„ä¸­ä»‹è€…çš„åŠŸèƒ½</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">BaseComponent</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">protected</span> IMediator _mediator;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">BaseComponent</span>(<span class=\"params\">IMediator mediator =<span class=\"literal\">null</span></span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._mediator = mediator;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">SetMediator</span>(<span class=\"params\">IMediator mediator</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._mediator = mediator;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//å…·ä½“ç»„ä»¶å®ç°å…·ä½“åŠŸèƒ½ï¼Œä¸åŒçš„å…·ä½“ç»„ä»¶è™½ç„¶</span></span><br><span class=\"line\"><span class=\"comment\">//ä¼šç›¸äº’ç”¨åˆ°ï¼Œä½†å¹¶ä¸ä¼šç›´æ¥ç”¨åˆ°ï¼Œåªä¼šé€šè¿‡</span></span><br><span class=\"line\"><span class=\"comment\">//ä¸­ä»‹è€…æ¥å¼•ç”¨</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">Component1</span> : <span class=\"title\">BaseComponent</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">DoA</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Console.WriteLine(<span class=\"string\">&quot;Component 1 does A.&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">this</span>._mediator.Notify(<span class=\"keyword\">this</span>,<span class=\"string\">&quot;A&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">DoB</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Console.WriteLine(<span class=\"string\">&quot;Component 1 does B.&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">this</span>._mediator.Notify(<span class=\"keyword\">this</span>, <span class=\"string\">&quot;B&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">Component2</span> : <span class=\"title\">BaseComponent</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">DoC</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Console.WriteLine(<span class=\"string\">&quot;Component 2 does C.&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">this</span>._mediator.Notify(<span class=\"keyword\">this</span>, <span class=\"string\">&quot;C&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">DoD</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Console.WriteLine(<span class=\"string\">&quot;Component 2 does D.&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">this</span>._mediator.Notify(<span class=\"keyword\">this</span>, <span class=\"string\">&quot;D&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//å®¢æˆ·ç«¯ä»£ç </span></span><br><span class=\"line\">Component1 component1 = <span class=\"keyword\">new</span> Component1();</span><br><span class=\"line\">Component2 component2 = <span class=\"keyword\">new</span> Component2();</span><br><span class=\"line\"><span class=\"keyword\">new</span> ConcreteMediator(component1, component2);</span><br><span class=\"line\"></span><br><span class=\"line\">Console.WriteLine(<span class=\"string\">&quot;Client triggets operation A.&quot;</span>);</span><br><span class=\"line\">component1.DoA();</span><br><span class=\"line\"></span><br><span class=\"line\">Console.WriteLine();</span><br><span class=\"line\"></span><br><span class=\"line\">Console.WriteLine(<span class=\"string\">&quot;Client triggers operation D.&quot;</span>);</span><br><span class=\"line\">component2.DoD();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/*è¿è¡Œç»“æœ</span></span><br><span class=\"line\"><span class=\"comment\">Client triggers operation A.</span></span><br><span class=\"line\"><span class=\"comment\">Component 1 does A.</span></span><br><span class=\"line\"><span class=\"comment\">Mediator reacts on A and triggers following operations:</span></span><br><span class=\"line\"><span class=\"comment\">Component 2 does C.</span></span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\">Client triggers operation D.</span></span><br><span class=\"line\"><span class=\"comment\">Component 2 does D.</span></span><br><span class=\"line\"><span class=\"comment\">Mediator reacts on D and triggers following operations:</span></span><br><span class=\"line\"><span class=\"comment\">Component 1 does B.</span></span><br><span class=\"line\"><span class=\"comment\">Component 2 does C.</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br></pre></td></tr></table></figure>\n\n<h5 id=\"é€‚åˆä¸­ä»‹è€…æ¨¡å¼çš„åœ°æ–¹\"><a href=\"#é€‚åˆä¸­ä»‹è€…æ¨¡å¼çš„åœ°æ–¹\" class=\"headerlink\" title=\"é€‚åˆä¸­ä»‹è€…æ¨¡å¼çš„åœ°æ–¹\"></a>é€‚åˆä¸­ä»‹è€…æ¨¡å¼çš„åœ°æ–¹</h5><ul>\n<li>å½“ä¸€äº›å¯¹è±¡å’Œå…¶ä»–å¯¹è±¡ç´§å¯†è€¦åˆä»¥è‡´éš¾ä»¥å¯¹å…¶è¿›è¡Œä¿®æ”¹æ—¶ï¼Œå¯ä½¿ç”¨ä¸­ä»‹è€…æ¨¡å¼ã€‚</li>\n<li>å½“ç»„ä»¶å› è¿‡äºä¾èµ–å…¶ä»–ç»„ä»¶è€Œæ— æ³•åœ¨ä¸åŒåº”ç”¨ä¸­å¤ç”¨æ—¶ï¼Œå¯ä½¿ç”¨ä¸­ä»‹è€…æ¨¡å¼ã€‚</li>\n<li>å¦‚æœä¸ºäº†èƒ½åœ¨ä¸åŒæƒ…æ™¯ä¸‹å¤ç”¨ä¸€äº›åŸºæœ¬è¡Œä¸ºï¼Œå¯¼è‡´ä½ éœ€è¦è¢«è¿«åˆ›å»ºå¤§é‡ç»„ä»¶å­ç±»æ—¶ï¼Œå¯ä½¿ç”¨ä¸­ä»‹è€…æ¨¡å¼ã€‚</li>\n</ul>\n<h5 id=\"ä¸­ä»‹è€…æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"><a href=\"#ä¸­ä»‹è€…æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\" class=\"headerlink\" title=\"ä¸­ä»‹è€…æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"></a>ä¸­ä»‹è€…æ¨¡å¼çš„ä¼˜ç¼ºç‚¹</h5><p><strong>ä¼˜ç‚¹</strong> ï¼š</p>\n<ul>\n<li>ç¬¦åˆSRP</li>\n<li>ç¬¦åˆOCP</li>\n<li>ä½ å¯ä»¥å‡è½»åº”ç”¨ä¸­å¤šä¸ªç»„ä»¶é—´çš„è€¦åˆæƒ…å†µã€‚</li>\n<li>ä½ å¯ä»¥æ›´æ–¹ä¾¿åœ°å¤ç”¨å„ä¸ªç»„ä»¶ã€‚</li>\n</ul>\n<p><strong>ç¼ºç‚¹</strong> ï¼š</p>\n<ul>\n<li>ä¸€æ®µæ—¶é—´åï¼Œä¸­ä»‹è€…å¯èƒ½ä¼šæ¼”åŒ–æˆä¸ºä¸Šå¸å¯¹è±¡ã€‚</li>\n</ul>\n<h4 id=\"Memento-å¤‡å¿˜å½•æ¨¡å¼\"><a href=\"#Memento-å¤‡å¿˜å½•æ¨¡å¼\" class=\"headerlink\" title=\"Memento(å¤‡å¿˜å½•æ¨¡å¼)\"></a>Memento(å¤‡å¿˜å½•æ¨¡å¼)</h4><p>å¤‡å¿˜å½•æ¨¡å¼æ˜¯ä¸€ç§è¡Œä¸ºè®¾è®¡æ¨¡å¼ï¼Œå…è®¸åœ¨ä¸æš´éœ²å¯¹è±¡å®ç°ç»†èŠ‚çš„æƒ…å†µä¸‹ä¿å­˜å’Œæ¢å¤å¯¹è±¡ä¹‹å‰çš„çŠ¶æ€ã€‚</p>\n<h5 id=\"é—®é¢˜-16\"><a href=\"#é—®é¢˜-16\" class=\"headerlink\" title=\"é—®é¢˜\"></a>é—®é¢˜</h5><p>å‡å¦‚ä½ æ­£åœ¨å¼€å‘ä¸€æ¬¾æ–‡å­—ç¼–è¾‘å™¨åº”ç”¨ç¨‹åºã€‚é™¤äº†ç®€å•çš„æ–‡å­—ç¼–è¾‘åŠŸèƒ½å¤–ï¼Œç¼–è¾‘å™¨ä¸­è¿˜è¦æœ‰è®¾ç½®æ–‡æœ¬æ ¼å¼å’Œæ’å…¥å†…åµŒå›¾ç‰‡ç­‰åŠŸèƒ½ã€‚<br>åæ¥ï¼Œä½ å†³å®šè®©ç”¨æˆ·èƒ½æ’¤é”€æ–½åŠ åœ¨æ–‡æœ¬ä¸Šçš„ä»»ä½•æ“ä½œã€‚è¿™é¡¹åŠŸèƒ½åœ¨è¿‡å»å‡ å¹´é‡Œå˜å¾—ååˆ†æ™®éï¼Œå› æ­¤ç”¨æˆ·æœŸå¾…ä»»ä½•ç¨‹åºéƒ½æœ‰è¿™é¡¹åŠŸèƒ½ã€‚ä½ é€‰æ‹©é‡‡ç”¨ç›´æ¥çš„æ–¹å¼æ¥å®ç°è¯¥åŠŸèƒ½ï¼šç¨‹åºåœ¨æ‰§è¡Œä»»ä½•æ“ä½œå‰ä¼šè®°å½•æ‰€æœ‰çš„å¯¹è±¡çŠ¶æ€ï¼Œå¹¶å°†å…¶ä¿å­˜ä¸‹æ¥ã€‚å½“ç”¨æˆ·æ­¤åéœ€è¦æ’¤é”€æŸä¸ªæ“ä½œæ—¶ï¼Œç¨‹åºå°†ä»å†å²è®°å½•ä¸­è·å–æœ€è¿‘çš„å¿«ç…§ï¼Œç„¶åä½¿ç”¨å®ƒæ¥æ¢å¤æ‰€æœ‰å¯¹è±¡çš„çŠ¶æ€ã€‚<br>è®©æˆ‘ä»¬æ¥æ€è€ƒä¸€ä¸‹è¿™äº›çŠ¶æ€å¿«ç…§ã€‚é¦–å…ˆï¼Œåˆ°åº•è¯¥å¦‚ä½•ç”Ÿæˆä¸€ä¸ªå¿«ç…§å‘¢ï¼Ÿå¾ˆå¯èƒ½ä½ ä¼šéœ€è¦éå†å¯¹è±¡çš„æ‰€æœ‰æˆå‘˜å˜é‡å¹¶å°†å…¶æ•°å€¼å¤åˆ¶ä¿å­˜ã€‚ä½†åªæœ‰å½“å¯¹è±¡å¯¹å…¶å†…å®¹æ²¡æœ‰ä¸¥æ ¼è®¿é—®æƒé™é™åˆ¶çš„æƒ…å†µä¸‹ï¼Œä½ æ‰èƒ½ä½¿ç”¨è¯¥æ–¹å¼ã€‚ä¸è¿‡å¾ˆé—æ†¾ï¼Œç»å¤§éƒ¨åˆ†å¯¹è±¡ä¼šä½¿ç”¨ç§æœ‰æˆå‘˜å˜é‡æ¥å­˜å‚¨é‡è¦æ•°æ®ï¼Œè¿™æ ·åˆ«äººå°±æ— æ³•è½»æ˜“æŸ¥çœ‹å…¶ä¸­çš„å†…å®¹ã€‚<br>ç°åœ¨æˆ‘ä»¬æš‚æ—¶å¿½ç•¥è¿™ä¸ªé—®é¢˜ï¼Œå‡è®¾å¯¹è±¡éƒ½åƒå¬‰çš®å£«ä¸€æ ·ï¼šå–œæ¬¢å¼€æ”¾å¼çš„å…³ç³»å¹¶ä¼šå…¬å¼€å…¶æ‰€æœ‰çŠ¶æ€ã€‚å°½ç®¡è¿™ç§æ–¹å¼èƒ½å¤Ÿè§£å†³å½“å‰é—®é¢˜ï¼Œè®©ä½ å¯éšæ—¶ç”Ÿæˆå¯¹è±¡çš„çŠ¶æ€å¿«ç…§ï¼Œä½†è¿™ç§æ–¹å¼ä»å­˜åœ¨ä¸€äº›ä¸¥é‡é—®é¢˜ã€‚æœªæ¥ä½ å¯èƒ½ä¼šæ·»åŠ æˆ–åˆ é™¤ä¸€äº›æˆå‘˜å˜é‡ã€‚è¿™å¬ä¸Šå»å¾ˆç®€å•ï¼Œä½†éœ€è¦å¯¹è´Ÿè´£å¤åˆ¶å—å½±å“å¯¹è±¡çŠ¶æ€çš„ç±»è¿›è¡Œæ›´æ”¹ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220825143929.png\" alt=\"img\"></p>\n<p>è¿˜æœ‰æ›´å¤šé—®é¢˜ã€‚è®©æˆ‘ä»¬æ¥è€ƒè™‘ç¼–è¾‘å™¨ ï¼ˆEdiÂ­torï¼‰çŠ¶æ€çš„å®é™… â€œå¿«ç…§â€ï¼Œå®ƒéœ€è¦åŒ…å«å“ªäº›æ•°æ®ï¼Ÿè‡³å°‘å¿…é¡»åŒ…å«å®é™…çš„æ–‡æœ¬ã€å…‰æ ‡åæ ‡å’Œå½“å‰æ»šåŠ¨æ¡ä½ç½®ç­‰ã€‚ä½ éœ€è¦æ”¶é›†è¿™äº›æ•°æ®å¹¶å°†å…¶æ”¾å…¥ç‰¹å®šå®¹å™¨ä¸­ï¼Œæ‰èƒ½ç”Ÿæˆå¿«ç…§ã€‚<br>ä½ å¾ˆå¯èƒ½ä¼šå°†å¤§é‡çš„å®¹å™¨å¯¹è±¡å­˜å‚¨åœ¨å†å²è®°å½•åˆ—è¡¨ä¸­ã€‚è¿™æ ·ä¸€æ¥ï¼Œå®¹å™¨æœ€ç»ˆå¤§æ¦‚ç‡ä¼šæˆä¸ºåŒä¸€ä¸ªç±»çš„å¯¹è±¡ã€‚è¿™ä¸ªç±»ä¸­å‡ ä¹æ²¡æœ‰ä»»ä½•æ–¹æ³•ï¼Œä½†æœ‰è®¸å¤šä¸ç¼–è¾‘å™¨çŠ¶æ€ä¸€ä¸€å¯¹åº”çš„æˆå‘˜å˜é‡ã€‚ä¸ºäº†è®©å…¶ä»–å¯¹è±¡èƒ½ä¿å­˜æˆ–è¯»å–å¿«ç…§ï¼Œä½ å¾ˆå¯èƒ½éœ€è¦å°†å¿«ç…§çš„æˆå‘˜å˜é‡è®¾ä¸ºå…¬æœ‰ã€‚æ— è®ºè¿™äº›çŠ¶æ€æ˜¯å¦ç§æœ‰ï¼Œå…¶éƒ½å°†æš´éœ²ä¸€åˆ‡ç¼–è¾‘å™¨çŠ¶æ€ã€‚å…¶ä»–ç±»ä¼šå¯¹å¿«ç…§ç±»çš„æ¯ä¸ªå°æ”¹åŠ¨äº§ç”Ÿä¾èµ–ï¼Œé™¤éè¿™äº›æ”¹åŠ¨ä»…å­˜åœ¨äºç§æœ‰æˆå‘˜å˜é‡æˆ–æ–¹æ³•ä¸­ï¼Œè€Œä¸ä¼šå½±å“å¤–éƒ¨ç±»ã€‚<br>æˆ‘ä»¬ä¼¼ä¹èµ°è¿›äº†ä¸€æ¡æ­»èƒ¡åŒï¼š<strong>è¦ä¹ˆä¼šæš´éœ²ç±»çš„æ‰€æœ‰å†…éƒ¨ç»†èŠ‚è€Œä½¿å…¶è¿‡äºè„†å¼±ï¼›è¦ä¹ˆä¼šé™åˆ¶å¯¹å…¶çŠ¶æ€çš„è®¿é—®æƒé™è€Œæ— æ³•ç”Ÿæˆå¿«ç…§</strong>ã€‚é‚£ä¹ˆï¼Œæˆ‘ä»¬è¿˜æœ‰å…¶ä»–æ–¹å¼æ¥å®ç° â€œæ’¤é”€â€ åŠŸèƒ½å—ï¼Ÿ</p>\n<h5 id=\"è§£å†³æ–¹æ¡ˆ-16\"><a href=\"#è§£å†³æ–¹æ¡ˆ-16\" class=\"headerlink\" title=\"è§£å†³æ–¹æ¡ˆ\"></a>è§£å†³æ–¹æ¡ˆ</h5><p>æˆ‘ä»¬åˆšæ‰é‡åˆ°çš„æ‰€æœ‰é—®é¢˜éƒ½æ˜¯å°è£… â€œç ´æŸâ€ é€ æˆçš„ã€‚ ä¸€äº›å¯¹è±¡è¯•å›¾è¶…å‡ºå…¶èŒè´£èŒƒå›´çš„å·¥ä½œã€‚ç”±äºåœ¨æ‰§è¡ŒæŸäº›è¡Œä¸ºæ—¶éœ€è¦è·å–æ•°æ®ï¼Œæ‰€ä»¥å®ƒä»¬ä¾µå…¥äº†å…¶ä»–å¯¹è±¡çš„ç§æœ‰ç©ºé—´ï¼Œè€Œä¸æ˜¯è®©è¿™äº›å¯¹è±¡æ¥å®Œæˆå®é™…çš„å·¥ä½œã€‚</p>\n<p>å¤‡å¿˜å½•æ¨¡å¼å°†åˆ›å»ºçŠ¶æ€å¿«ç…§ï¼ˆSnapÂ­shotï¼‰çš„å·¥ä½œå§”æ´¾ç»™å®é™…çŠ¶æ€çš„æ‹¥æœ‰è€…åŸå‘å™¨ ï¼ˆOrigÂ­iÂ­naÂ­torï¼‰ å¯¹è±¡ã€‚è¿™æ ·å…¶ä»–å¯¹è±¡å°±ä¸å†éœ€è¦ä» â€œå¤–éƒ¨â€ å¤åˆ¶ç¼–è¾‘å™¨çŠ¶æ€äº†ï¼Œç¼–è¾‘å™¨ç±»æ‹¥æœ‰å…¶çŠ¶æ€çš„å®Œå…¨è®¿é—®æƒï¼Œå› æ­¤å¯ä»¥è‡ªè¡Œç”Ÿæˆå¿«ç…§ã€‚</p>\n<p>æ¨¡å¼å»ºè®®å°†å¯¹è±¡çŠ¶æ€çš„å‰¯æœ¬å­˜å‚¨åœ¨ä¸€ä¸ªåä¸ºå¤‡å¿˜å½• ï¼ˆMemenÂ­toï¼‰çš„ç‰¹æ®Šå¯¹è±¡ä¸­ã€‚é™¤äº†åˆ›å»ºå¤‡å¿˜å½•çš„å¯¹è±¡å¤–ï¼Œä»»ä½•å¯¹è±¡éƒ½ä¸èƒ½è®¿é—®å¤‡å¿˜å½•çš„å†…å®¹ã€‚å…¶ä»–å¯¹è±¡å¿…é¡»ä½¿ç”¨å—é™æ¥å£ä¸å¤‡å¿˜å½•è¿›è¡Œäº¤äº’ï¼Œå®ƒä»¬å¯ä»¥è·å–å¿«ç…§çš„å…ƒæ•°æ® ï¼ˆåˆ›å»ºæ—¶é—´å’Œæ“ä½œåç§°ç­‰ï¼‰ï¼Œä½†ä¸èƒ½è·å–å¿«ç…§ä¸­åŸå§‹å¯¹è±¡çš„çŠ¶æ€ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220825144342.png\" alt=\"img\"></p>\n<p>è¿™ç§é™åˆ¶ç­–ç•¥å…è®¸ä½ å°†å¤‡å¿˜å½•ä¿å­˜åœ¨é€šå¸¸è¢«ç§°ä¸ºè´Ÿè´£äººï¼ˆCareÂ­takÂ­ersï¼‰çš„å¯¹è±¡ä¸­ã€‚ç”±äºè´Ÿè´£äººä»…é€šè¿‡å—é™æ¥å£ä¸å¤‡å¿˜å½•äº’åŠ¨ï¼Œæ•…å…¶æ— æ³•ä¿®æ”¹å­˜å‚¨åœ¨å¤‡å¿˜å½•å†…éƒ¨çš„çŠ¶æ€ã€‚åŒæ—¶ï¼ŒåŸå‘å™¨æ‹¥æœ‰å¯¹å¤‡å¿˜å½•æ‰€æœ‰æˆå‘˜çš„è®¿é—®æƒé™ï¼Œä»è€Œèƒ½éšæ—¶æ¢å¤å…¶ä»¥å‰çš„çŠ¶æ€ã€‚</p>\n<p>åœ¨æ–‡å­—ç¼–è¾‘å™¨çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªç‹¬ç«‹çš„å†å² ï¼ˆHisÂ­toÂ­ryï¼‰ ç±»ä½œä¸ºè´Ÿè´£äººã€‚ç¼–è¾‘å™¨æ¯æ¬¡æ‰§è¡Œæ“ä½œå‰ï¼Œå­˜å‚¨åœ¨è´Ÿè´£äººä¸­çš„å¤‡å¿˜å½•æ ˆéƒ½ä¼šç”Ÿé•¿ã€‚ä½ ç”šè‡³å¯ä»¥åœ¨åº”ç”¨çš„ UI ä¸­æ¸²æŸ“è¯¥æ ˆï¼Œä¸ºç”¨æˆ·æ˜¾ç¤ºä¹‹å‰çš„æ“ä½œå†å²ã€‚</p>\n<p>å½“ç”¨æˆ·è§¦å‘æ’¤é”€æ“ä½œæ—¶ï¼Œå†å²ç±»å°†ä»æ ˆä¸­å–å›æœ€è¿‘çš„å¤‡å¿˜å½•ï¼Œå¹¶å°†å…¶ä¼ é€’ç»™ç¼–è¾‘å™¨ä»¥è¯·æ±‚è¿›è¡Œå›æ»šã€‚ç”±äºç¼–è¾‘å™¨æ‹¥æœ‰å¯¹å¤‡å¿˜å½•çš„å®Œå…¨è®¿é—®æƒé™ï¼Œå› æ­¤å®ƒå¯ä»¥ä½¿ç”¨ä»å¤‡å¿˜å½•ä¸­è·å–çš„æ•°å€¼æ¥æ›¿æ¢è‡ªèº«çš„çŠ¶æ€ã€‚</p>\n<h5 id=\"å¤‡å¿˜å½•æ¨¡å¼ç»“æ„\"><a href=\"#å¤‡å¿˜å½•æ¨¡å¼ç»“æ„\" class=\"headerlink\" title=\"å¤‡å¿˜å½•æ¨¡å¼ç»“æ„\"></a>å¤‡å¿˜å½•æ¨¡å¼ç»“æ„</h5><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220825144517.png\" alt=\"img\"></p>\n<p>1.<strong>åŸå‘å™¨(OrigÂ­iÂ­naÂ­tor)</strong> ç±»å¯ä»¥ç”Ÿæˆè‡ªèº«çŠ¶æ€çš„å¿«ç…§ï¼Œä¹Ÿå¯ä»¥åœ¨éœ€è¦æ—¶é€šè¿‡å¿«ç…§æ¢å¤è‡ªèº«çŠ¶æ€ã€‚</p>\n<p>2.<strong>å¤‡å¿˜å½•(MemenÂ­to)</strong> æ˜¯åŸå‘å™¨çŠ¶æ€å¿«ç…§çš„å€¼å¯¹è±¡(value object)ã€‚é€šå¸¸åšæ³•æ˜¯å°†å¤‡å¿˜å½•è®¾ä¸ºä¸å¯å˜çš„ï¼Œ å¹¶é€šè¿‡æ„é€ å‡½æ•°ä¸€æ¬¡æ€§ä¼ é€’æ•°æ®ã€‚</p>\n<p>3.<strong>è´Ÿè´£äºº(CareÂ­takÂ­er)</strong> ä»…çŸ¥é“ â€œä½•æ—¶â€ å’Œ â€œä¸ºä½•â€ æ•æ‰åŸå‘å™¨çš„çŠ¶æ€ï¼Œä»¥åŠä½•æ—¶æ¢å¤çŠ¶æ€ã€‚<br>è´Ÿè´£äººé€šè¿‡ä¿å­˜å¤‡å¿˜å½•æ ˆæ¥è®°å½•åŸå‘å™¨çš„å†å²çŠ¶æ€ã€‚ å½“åŸå‘å™¨éœ€è¦å›æº¯å†å²çŠ¶æ€æ—¶ï¼Œè´Ÿè´£äººå°†ä»æ ˆä¸­è·å–æœ€é¡¶éƒ¨çš„å¤‡å¿˜å½•ï¼Œå¹¶å°†å…¶ä¼ é€’ç»™åŸå‘å™¨çš„æ¢å¤ (restoraÂ­tion)æ–¹æ³•ã€‚</p>\n<p>4.åœ¨è¯¥å®ç°æ–¹æ³•ä¸­ï¼Œå¤‡å¿˜å½•ç±»å°†è¢«åµŒå¥—åœ¨åŸå‘å™¨ä¸­ã€‚ è¿™æ ·åŸå‘å™¨å°±å¯è®¿é—®å¤‡å¿˜å½•çš„æˆå‘˜å˜é‡å’Œæ–¹æ³•ï¼Œå³ä½¿è¿™äº›æ–¹æ³•è¢«å£°æ˜ä¸ºç§æœ‰ã€‚å¦ä¸€æ–¹é¢ï¼Œè´Ÿè´£äººå¯¹äºå¤‡å¿˜å½•çš„æˆå‘˜å˜é‡å’Œæ–¹æ³•çš„è®¿é—®æƒé™éå¸¸æœ‰é™ï¼šå®ƒä»¬åªèƒ½åœ¨æ ˆä¸­ä¿å­˜å¤‡å¿˜å½•ï¼Œè€Œä¸èƒ½ä¿®æ”¹å…¶çŠ¶æ€ã€‚</p>\n<h5 id=\"ä¼ªä»£ç -16\"><a href=\"#ä¼ªä»£ç -16\" class=\"headerlink\" title=\"ä¼ªä»£ç \"></a>ä¼ªä»£ç </h5><p>å¤‡å¿˜å½•çš„åŸºæœ¬åŠŸèƒ½å¯ç”¨åºåˆ—åŒ–æ¥å®ç°ï¼Œè¿™åœ¨ C# è¯­è¨€ä¸­å¾ˆå¸¸è§ã€‚å°½ç®¡å¤‡å¿˜å½•ä¸æ˜¯ç”Ÿæˆå¯¹è±¡çŠ¶æ€å¿«ç…§çš„å”¯ä¸€æˆ–æœ€æœ‰æ•ˆçš„æ–¹æ³•ï¼Œä½†å®ƒèƒ½åœ¨ä¿æŠ¤åŸå§‹å¯¹è±¡çš„ç»“æ„ä¸æš´éœ²ç»™å…¶ä»–å¯¹è±¡çš„æƒ…å†µä¸‹ä¿å­˜å¯¹è±¡çŠ¶æ€çš„å¤‡ä»½ã€‚åœ¨æ¸¸æˆä¸­ï¼Œæ¯”å¦‚åœ°å¹³çº¿çš„å›é€€ï¼ŒPBUGçš„æ­»äº¡å›æ”¾ç­‰ç­‰éƒ½å¯èƒ½æ˜¯ç”¨åˆ°äº†å¤‡å¿˜å½•æ¨¡å¼ã€‚<br>è¿™ä¸ªæ¨¡å¼è¿˜æ˜¯æœ‰ç‚¹å¤æ‚çš„ï¼Œä»…ä»…é€šè¿‡ç»“æ„ä¸å¤ªèƒ½åŒºåˆ†Originatorå’ŒCaretakerï¼Œé€šè¿‡ä»£ç æ¥ç®€å•äº†è§£ä¸€ä¸‹ã€‚</p>\n<p>ç®€å•è°ˆä¸€ä¸‹ä¹‹åçš„ä¼ªä»£ç ï¼Œè¿™æ¬¡çš„ç»“æ„æ¯”è¾ƒå¤æ‚ï¼Œæ‰€ä»¥å»ºè®®æœ€å¥½è¿è¡Œä¸€éç„¶åçœ‹æ‡‚ä»£ç ï¼Œç®€å•æ¥è¯´å°±æ˜¯Caretakerè´Ÿè´£åšï¼Œé€šè¿‡Caretakerç±»æ¥ä½¿Originatoråˆ›å»ºä¸€æ¬¡Mementoç„¶åå­˜å‚¨åˆ°Caretakeré‡Œçš„listã€‚å¦‚æœæ˜¯æ’¤å›ä¹‹å‰çš„çŠ¶æ€ï¼ŒåŒæ ·ç”¨Caretakerçš„Undoæ¥è§¦å‘Originatorçš„Restoreå‡½æ•°ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒCaretakeræ˜¯å‘èµ·è€…ï¼ŒOriginatoræ˜¯Mementoçš„åˆ›é€ è€…ï¼ŒMementoåªæ˜¯ç”¨æ¥å­˜å‚¨ä¸€æ¬¡çš„çŠ¶æ€ã€‚</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//Originatorç±»ä¼šå­˜å‚¨ä¸€äº›é‡è¦çš„å¯èƒ½ä¼šéšæ—¶é—´æ”¹å˜çš„çŠ¶æ€ã€‚åŒæ—¶ä¹Ÿå®šä¹‰äº†ä¿å­˜å’Œå­˜å‚¨çŠ¶æ€çš„æ–¹æ³•</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">Originator</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">//åœ¨ä¼ªä»£ç ä¸­å°½é‡ç®€å•ï¼Œè¿™é‡Œåªç”¨äº†stringç±»å‹</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"built_in\">string</span> _state;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">Originator</span>(<span class=\"params\"><span class=\"built_in\">string</span> state</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._state = state;</span><br><span class=\"line\">        Console.WriteLine(<span class=\"string\">&quot;Originator: My initial state is: &quot;</span> + state);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//è¿™é‡Œçš„</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">DoSomething</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Console.WriteLine(<span class=\"string\">&quot;Originator: I&#x27;m doing something important.&quot;</span>);</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._state = <span class=\"keyword\">this</span>.GenerateRandomString(<span class=\"number\">30</span>);</span><br><span class=\"line\">        Console.WriteLine(<span class=\"string\">$&quot;Originator: and my state has changed to: <span class=\"subst\">&#123;_state&#125;</span>&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//é€šè¿‡æ—¶é—´ç”Ÿæˆéšæœºçš„å­—ç¬¦ä¸²</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"built_in\">string</span> <span class=\"title\">GenerateRandomString</span>(<span class=\"params\"><span class=\"built_in\">int</span> length = <span class=\"number\">10</span></span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"built_in\">string</span> allowedSymbols = <span class=\"string\">&quot;abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;</span>;</span><br><span class=\"line\">        <span class=\"built_in\">string</span> result = <span class=\"built_in\">string</span>.Empty;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">while</span> (length &gt; <span class=\"number\">0</span>)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            result += allowedSymbols[<span class=\"keyword\">new</span> Random().Next(<span class=\"number\">0</span>, allowedSymbols.Length)];</span><br><span class=\"line\"></span><br><span class=\"line\">            Thread.Sleep(<span class=\"number\">12</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">            length--;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//ä¿å­˜ç°åœ¨çš„çŠ¶æ€</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> IMemento <span class=\"title\">Save</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> ConcreteMemento(<span class=\"keyword\">this</span>._state);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//æ¢å¤ä¹‹å‰çš„çŠ¶æ€</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Restore</span>(<span class=\"params\">IMemento memento</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(!(memento <span class=\"keyword\">is</span> ConcreteMemento))</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> Exception(<span class=\"string\">&quot;Unknown memento class &quot;</span> + memento.ToString());</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">this</span>._state = memento.GetState();</span><br><span class=\"line\">        Console.Write(<span class=\"string\">$&quot;Originator: My state has changed to: <span class=\"subst\">&#123;_state&#125;</span>&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//å¤‡å¿˜å½•æ¥å£</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title\">IMemento</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"built_in\">string</span> <span class=\"title\">GetName</span>()</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"built_in\">string</span> <span class=\"title\">GetState</span>()</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\">DateTime <span class=\"title\">GetDate</span>()</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//å…·ä½“å¤‡å¿˜å½•</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">ConcreteMemento</span> : <span class=\"title\">IMemento</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"built_in\">string</span> _state;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> DateTime _date;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">ConcreteMemento</span>(<span class=\"params\"><span class=\"built_in\">string</span> state</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._state = state;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._date = DateTime.Now;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"built_in\">string</span> <span class=\"title\">GetState</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>._state;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"built_in\">string</span> <span class=\"title\">GetName</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">$&quot;<span class=\"subst\">&#123;<span class=\"keyword\">this</span>._date&#125;</span> / (<span class=\"subst\">&#123;<span class=\"keyword\">this</span>._state.Substring(<span class=\"number\">0</span>, <span class=\"number\">9</span>)&#125;</span>)...&quot;</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> DateTime <span class=\"title\">GetDate</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>._date;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">Caretaker</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> List&lt;IMemento&gt; _mementos = <span class=\"keyword\">new</span> List&lt;IMemento&gt;();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> Originator _originator = <span class=\"literal\">null</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">     <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">Caretaker</span>(<span class=\"params\">Originator originator</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._originator = originator;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//å¤‡ä»½</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Backup</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Console.WriteLine(<span class=\"string\">&quot;\\nCaretaker: Saving Originator&#x27;s state...&quot;</span>);</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._mementos.Add(<span class=\"keyword\">this</span>._originator.Save());</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//æ’¤é”€</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Undo</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"keyword\">this</span>._mementos.Count == <span class=\"number\">0</span>)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">var</span> memento = <span class=\"keyword\">this</span>._mementos.Last();</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._mementos.Remove(memento);</span><br><span class=\"line\"></span><br><span class=\"line\">        Console.WriteLine(<span class=\"string\">&quot;Caretaker: Restoring state to: &quot;</span> + memento.GetName());</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">try</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">this</span>._originator.Restore(memento);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">catch</span> (Exception)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">this</span>.Undo();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">ShowHistory</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Console.WriteLine(<span class=\"string\">&quot;Caretaker: Here&#x27;s the list of mementos:&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">foreach</span> (<span class=\"keyword\">var</span> memento <span class=\"keyword\">in</span> <span class=\"keyword\">this</span>._mementos)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            Console.WriteLine(memento.GetName());</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//å®¢æˆ·ç«¯ä»£ç </span></span><br><span class=\"line\">Originator originator = <span class=\"keyword\">new</span> Originator(<span class=\"string\">&quot;Super-duper-super-puper-super.&quot;</span>);</span><br><span class=\"line\">Caretaker caretaker = <span class=\"keyword\">new</span> Caretaker(originator);</span><br><span class=\"line\"></span><br><span class=\"line\">caretaker.Backup();</span><br><span class=\"line\">originator.DoSomething();</span><br><span class=\"line\"></span><br><span class=\"line\">caretaker.Backup();</span><br><span class=\"line\">originator.DoSomething();</span><br><span class=\"line\"></span><br><span class=\"line\">caretaker.Backup();</span><br><span class=\"line\">originator.DoSomething();</span><br><span class=\"line\"></span><br><span class=\"line\">Console.WriteLine();</span><br><span class=\"line\">caretaker.ShowHistory();</span><br><span class=\"line\"></span><br><span class=\"line\">Console.WriteLine(<span class=\"string\">&quot;\\nClient: Now, let&#x27;s rollback!\\n&quot;</span>);</span><br><span class=\"line\">caretaker.Undo();</span><br><span class=\"line\"></span><br><span class=\"line\">Console.WriteLine(<span class=\"string\">&quot;\\n\\nClient: Once more!\\n&quot;</span>);</span><br><span class=\"line\">caretaker.Undo();</span><br><span class=\"line\"></span><br><span class=\"line\">Console.WriteLine();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/*è¿è¡Œç»“æœ,æ ¹æ®å½“å‰æ—¶é—´æœ‰æ‰€å˜åŒ–</span></span><br><span class=\"line\"><span class=\"comment\">å¯ä»¥æ›´æ”¹å®¢æˆ·ç«¯ä»£ç æ¥ä½“ä¼šæ›´æ·±</span></span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\">Originator: My initial state is: Super-duper-super-puper-super.</span></span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\">Caretaker: Saving Originator&#x27;s state...</span></span><br><span class=\"line\"><span class=\"comment\">Originator: I&#x27;m doing something important.</span></span><br><span class=\"line\"><span class=\"comment\">Originator: and my state has changed to: oGyQIIatlDDWNgYYqJATTmdwnnGZQj</span></span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\">Caretaker: Saving Originator&#x27;s state...</span></span><br><span class=\"line\"><span class=\"comment\">Originator: I&#x27;m doing something important.</span></span><br><span class=\"line\"><span class=\"comment\">Originator: and my state has changed to: jBtMDDWogzzRJbTTmEwOOhZrjjBULe</span></span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\">Caretaker: Saving Originator&#x27;s state...</span></span><br><span class=\"line\"><span class=\"comment\">Originator: I&#x27;m doing something important.</span></span><br><span class=\"line\"><span class=\"comment\">Originator: and my state has changed to: exoHyyRkbuuNEXOhhArKccUmexPPHZ</span></span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\">Caretaker: Here&#x27;s the list of mementos:</span></span><br><span class=\"line\"><span class=\"comment\">12.06.2018 15:52:45 / (Super-dup...)</span></span><br><span class=\"line\"><span class=\"comment\">12.06.2018 15:52:46 / (oGyQIIatl...)</span></span><br><span class=\"line\"><span class=\"comment\">12.06.2018 15:52:46 / (jBtMDDWog...)</span></span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\">Client: Now, let&#x27;s rollback!</span></span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\">Caretaker: Restoring state to: 12.06.2018 15:52:46 / (jBtMDDWog...)</span></span><br><span class=\"line\"><span class=\"comment\">Originator: My state has changed to: jBtMDDWogzzRJbTTmEwOOhZrjjBULe</span></span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\">Client: Once more!</span></span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\">Caretaker: Restoring state to: 12.06.2018 15:52:46 / (oGyQIIatl...)</span></span><br><span class=\"line\"><span class=\"comment\">Originator: My state has changed to: oGyQIIatlDDWNgYYqJATTmdwnnGZQj</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br></pre></td></tr></table></figure>\n\n<h5 id=\"é€‚åˆå¤‡å¿˜å½•æ¨¡å¼çš„åœ°æ–¹\"><a href=\"#é€‚åˆå¤‡å¿˜å½•æ¨¡å¼çš„åœ°æ–¹\" class=\"headerlink\" title=\"é€‚åˆå¤‡å¿˜å½•æ¨¡å¼çš„åœ°æ–¹\"></a>é€‚åˆå¤‡å¿˜å½•æ¨¡å¼çš„åœ°æ–¹</h5><ul>\n<li>å½“ä½ éœ€è¦åˆ›å»ºå¯¹è±¡çŠ¶æ€å¿«ç…§æ¥æ¢å¤å…¶ä¹‹å‰çš„çŠ¶æ€æ—¶ï¼Œå¯ä»¥ä½¿ç”¨å¤‡å¿˜å½•æ¨¡å¼ã€‚</li>\n<li>å½“ç›´æ¥è®¿é—®å¯¹è±¡çš„æˆå‘˜å˜é‡ã€è·å–å™¨æˆ–è®¾ç½®å™¨å°†å¯¼è‡´å°è£…è¢«çªç ´æ—¶ï¼Œå¯ä»¥ä½¿ç”¨è¯¥æ¨¡å¼ã€‚</li>\n</ul>\n<h5 id=\"å¤‡å¿˜å½•æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"><a href=\"#å¤‡å¿˜å½•æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\" class=\"headerlink\" title=\"å¤‡å¿˜å½•æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"></a>å¤‡å¿˜å½•æ¨¡å¼çš„ä¼˜ç¼ºç‚¹</h5><p><strong>ä¼˜ç‚¹</strong> ï¼š</p>\n<ul>\n<li>ä½ å¯ä»¥åœ¨ä¸ç ´åå¯¹è±¡å°è£…æƒ…å†µçš„å‰æä¸‹åˆ›å»ºå¯¹è±¡çŠ¶æ€å¿«ç…§ã€‚</li>\n<li>ä½ å¯ä»¥é€šè¿‡è®©è´Ÿè´£äººç»´æŠ¤åŸå‘å™¨çŠ¶æ€å†å²è®°å½•æ¥ç®€åŒ–åŸå‘å™¨ä»£ç ã€‚</li>\n</ul>\n<p><strong>ç¼ºç‚¹</strong> ï¼š</p>\n<ul>\n<li>å¦‚æœå®¢æˆ·ç«¯è¿‡äºé¢‘ç¹åœ°åˆ›å»ºå¤‡å¿˜å½•ï¼Œç¨‹åºå°†æ¶ˆè€—å¤§é‡å†…å­˜ã€‚</li>\n<li>è´Ÿè´£äººå¿…é¡»å®Œæ•´è·Ÿè¸ªåŸå‘å™¨çš„ç”Ÿå‘½å‘¨æœŸï¼Œè¿™æ ·æ‰èƒ½é”€æ¯å¼ƒç”¨çš„å¤‡å¿˜å½•ã€‚</li>\n<li>ç»å¤§éƒ¨åˆ†åŠ¨æ€ç¼–ç¨‹è¯­è¨€ ï¼ˆä¾‹å¦‚ PHPã€ Python å’Œ JavaScriptï¼‰ ä¸èƒ½ç¡®ä¿å¤‡å¿˜å½•ä¸­çš„çŠ¶æ€ä¸è¢«ä¿®æ”¹ï¼ˆä¸c#å…³ç³»ä¸å¤§ï¼‰ã€‚</li>\n</ul>\n<h4 id=\"Observer-è§‚å¯Ÿè€…æ¨¡å¼\"><a href=\"#Observer-è§‚å¯Ÿè€…æ¨¡å¼\" class=\"headerlink\" title=\"Observer(è§‚å¯Ÿè€…æ¨¡å¼)\"></a>Observer(è§‚å¯Ÿè€…æ¨¡å¼)</h4><p>è§‚å¯Ÿè€…æ¨¡å¼æ˜¯ä¸€ç§è¡Œä¸ºè®¾è®¡æ¨¡å¼ï¼Œå…è®¸ä½ å®šä¹‰ä¸€ç§è®¢é˜…æœºåˆ¶ï¼Œå¯åœ¨å¯¹è±¡äº‹ä»¶å‘ç”Ÿæ—¶é€šçŸ¥å¤šä¸ª â€œè§‚å¯Ÿâ€ è¯¥å¯¹è±¡çš„å…¶ä»–å¯¹è±¡ã€‚</p>\n<h5 id=\"é—®é¢˜-17\"><a href=\"#é—®é¢˜-17\" class=\"headerlink\" title=\"é—®é¢˜\"></a>é—®é¢˜</h5><p>å‡å¦‚ä½ æœ‰ä¸¤ç§ç±»å‹çš„å¯¹è±¡ï¼šâ€‹é¡¾å®¢å’Œ å•†åº— ã€‚é¡¾å®¢å¯¹æŸä¸ªç‰¹å®šå“ç‰Œçš„äº§å“éå¸¸æ„Ÿå…´è¶£ï¼ˆä¾‹å¦‚æœ€æ–°å‹å·çš„ iPhone æ‰‹æœºï¼‰ï¼Œè€Œè¯¥äº§å“å¾ˆå¿«å°†ä¼šåœ¨å•†åº—é‡Œå‡ºå”®ã€‚<br>é¡¾å®¢å¯ä»¥æ¯å¤©æ¥å•†åº—çœ‹çœ‹äº§å“æ˜¯å¦åˆ°è´§ã€‚ä½†å¦‚æœå•†å“å°šæœªåˆ°è´§æ—¶ï¼Œç»å¤§å¤šæ•°æ¥åˆ°å•†åº—çš„é¡¾å®¢éƒ½ä¼šç©ºæ‰‹è€Œå½’ã€‚å¦ä¸€æ–¹é¢ï¼Œæ¯æ¬¡æ–°äº§å“åˆ°è´§æ—¶ï¼Œå•†åº—å¯ä»¥å‘æ‰€æœ‰é¡¾å®¢å‘é€é‚®ä»¶ï¼ˆå¯èƒ½ä¼šè¢«è§†ä¸ºåƒåœ¾é‚®ä»¶ï¼‰ã€‚è¿™æ ·ï¼Œéƒ¨åˆ†é¡¾å®¢å°±æ— éœ€åå¤å‰å¾€å•†åº—äº†ï¼Œä½†ä¹Ÿå¯èƒ½ä¼šæƒ¹æ¼å¯¹æ–°äº§å“æ²¡æœ‰å…´è¶£çš„å…¶ä»–é¡¾å®¢ã€‚<br>æˆ‘ä»¬ä¼¼ä¹é‡åˆ°äº†ä¸€ä¸ªçŸ›ç›¾ï¼šè¦ä¹ˆè®©é¡¾å®¢æµªè´¹æ—¶é—´æ£€æŸ¥äº§å“æ˜¯å¦åˆ°è´§ï¼Œè¦ä¹ˆè®©å•†åº—æµªè´¹èµ„æºå»é€šçŸ¥æ²¡æœ‰éœ€æ±‚çš„é¡¾å®¢ã€‚</p>\n<h5 id=\"è§£å†³æ–¹æ¡ˆ-17\"><a href=\"#è§£å†³æ–¹æ¡ˆ-17\" class=\"headerlink\" title=\"è§£å†³æ–¹æ¡ˆ\"></a>è§£å†³æ–¹æ¡ˆ</h5><p>æ‹¥æœ‰ä¸€äº›å€¼å¾—å…³æ³¨çš„çŠ¶æ€çš„å¯¹è±¡é€šå¸¸è¢«ç§°ä¸ºç›®æ ‡ï¼Œç”±äºå®ƒè¦<strong>å°†è‡ªèº«çš„çŠ¶æ€æ”¹å˜é€šçŸ¥ç»™å…¶ä»–å¯¹è±¡</strong>ï¼Œæˆ‘ä»¬ä¹Ÿå°†å…¶ç§°ä¸ºå‘å¸ƒè€…(pubÂ­lishÂ­er)ã€‚æ‰€æœ‰<strong>å¸Œæœ›å…³æ³¨å‘å¸ƒè€…çŠ¶æ€å˜åŒ–çš„å…¶ä»–å¯¹è±¡</strong>è¢«ç§°ä¸ºè®¢é˜…è€…(subÂ­scribers)ã€‚</p>\n<p>è§‚å¯Ÿè€…æ¨¡å¼å»ºè®®ä½ ä¸ºå‘å¸ƒè€…ç±»æ·»åŠ è®¢é˜…æœºåˆ¶ï¼Œè®©æ¯ä¸ªå¯¹è±¡éƒ½èƒ½è®¢é˜…æˆ–å–æ¶ˆè®¢é˜…å‘å¸ƒè€…äº‹ä»¶æµã€‚ä¸è¦å®³æ€•ï¼è¿™å¹¶ä¸åƒå¬ä¸Šå»é‚£ä¹ˆå¤æ‚ã€‚å®é™…ä¸Šï¼Œè¯¥æœºåˆ¶åŒ…æ‹¬ <strong>1)</strong> ä¸€ä¸ªç”¨äºå­˜å‚¨è®¢é˜…è€…å¯¹è±¡å¼•ç”¨çš„åˆ—è¡¨æˆå‘˜å˜é‡ï¼›<strong>2)</strong> å‡ ä¸ªç”¨äºæ·»åŠ æˆ–åˆ é™¤è¯¥åˆ—è¡¨ä¸­è®¢é˜…è€…çš„å…¬æœ‰æ–¹æ³•ã€‚</p>\n<p>å¦‚æœä½ çš„åº”ç”¨ä¸­æœ‰å¤šä¸ªä¸åŒç±»å‹çš„å‘å¸ƒè€…ï¼Œä¸”å¸Œæœ›è®¢é˜…è€…å¯å…¼å®¹æ‰€æœ‰å‘å¸ƒè€…ï¼Œé‚£ä¹ˆä½ ç”šè‡³å¯ä»¥è¿›ä¸€æ­¥è®©æ‰€æœ‰å‘å¸ƒè€…éµå¾ªåŒæ ·çš„æ¥å£ã€‚è¯¥æ¥å£ä»…éœ€æè¿°å‡ ä¸ªè®¢é˜…æ–¹æ³•å³å¯ã€‚è¿™æ ·è®¢é˜…è€…å°±èƒ½åœ¨ä¸ä¸å…·ä½“å‘å¸ƒè€…ç±»è€¦åˆçš„æƒ…å†µä¸‹é€šè¿‡æ¥å£è§‚å¯Ÿå‘å¸ƒè€…çš„çŠ¶æ€ã€‚</p>\n<h5 id=\"è§‚å¯Ÿè€…æ¨¡å¼ç»“æ„\"><a href=\"#è§‚å¯Ÿè€…æ¨¡å¼ç»“æ„\" class=\"headerlink\" title=\"è§‚å¯Ÿè€…æ¨¡å¼ç»“æ„\"></a>è§‚å¯Ÿè€…æ¨¡å¼ç»“æ„</h5><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220825160617.png\" alt=\"img\"></p>\n<p>1.<strong>å‘å¸ƒè€…(PubÂ­lishÂ­er)</strong> ä¼šå‘å…¶ä»–å¯¹è±¡å‘é€å€¼å¾—å…³æ³¨çš„äº‹ä»¶ã€‚äº‹ä»¶ä¼šåœ¨å‘å¸ƒè€…è‡ªèº«çŠ¶æ€æ”¹å˜æˆ–æ‰§è¡Œç‰¹å®šè¡Œä¸ºåå‘ç”Ÿã€‚å‘å¸ƒè€…ä¸­åŒ…å«ä¸€ä¸ªå…è®¸æ–°è®¢é˜…è€…åŠ å…¥å’Œå½“å‰è®¢é˜…è€…ç¦»å¼€åˆ—è¡¨çš„è®¢é˜…æ„æ¶ã€‚</p>\n<p>2.å½“æ–°äº‹ä»¶å‘ç”Ÿæ—¶ï¼Œå‘é€è€…ä¼šéå†è®¢é˜…åˆ—è¡¨å¹¶è°ƒç”¨æ¯ä¸ªè®¢é˜…è€…å¯¹è±¡çš„é€šçŸ¥æ–¹æ³•ã€‚è¯¥æ–¹æ³•æ˜¯åœ¨è®¢é˜…è€…æ¥å£ä¸­å£°æ˜çš„ã€‚</p>\n<p>3.<strong>è®¢é˜…è€…(SubÂ­scriber)</strong> æ¥å£å£°æ˜äº†é€šçŸ¥æ¥å£ã€‚åœ¨ç»å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œè¯¥æ¥å£ä»…åŒ…å«ä¸€ä¸ª updateæ›´æ–°æ–¹æ³•ã€‚è¯¥æ–¹æ³•å¯ä»¥æ‹¥æœ‰å¤šä¸ªå‚æ•°ï¼Œä½¿å‘å¸ƒè€…èƒ½åœ¨æ›´æ–°æ—¶ä¼ é€’äº‹ä»¶çš„è¯¦ç»†ä¿¡æ¯ã€‚</p>\n<p>4.<strong>å…·ä½“è®¢é˜…è€…(ConÂ­crete SubÂ­scribers)</strong> å¯ä»¥æ‰§è¡Œä¸€äº›æ“ä½œæ¥å›åº”å‘å¸ƒè€…çš„é€šçŸ¥ã€‚æ‰€æœ‰å…·ä½“è®¢é˜…è€…ç±»éƒ½å®ç°äº†åŒæ ·çš„æ¥å£ï¼Œå› æ­¤å‘å¸ƒè€…ä¸éœ€è¦ä¸å…·ä½“ç±»ç›¸è€¦åˆã€‚</p>\n<p>5.è®¢é˜…è€…é€šå¸¸éœ€è¦ä¸€äº›ä¸Šä¸‹æ–‡ä¿¡æ¯æ¥æ­£ç¡®åœ°å¤„ç†æ›´æ–°ã€‚å› æ­¤ï¼Œå‘å¸ƒè€…é€šå¸¸ä¼šå°†ä¸€äº›ä¸Šä¸‹æ–‡æ•°æ®ä½œä¸ºé€šçŸ¥æ–¹æ³•çš„å‚æ•°è¿›è¡Œä¼ é€’ã€‚å‘å¸ƒè€…ä¹Ÿå¯å°†è‡ªèº«ä½œä¸ºå‚æ•°è¿›è¡Œä¼ é€’ï¼Œä½¿è®¢é˜…è€…ç›´æ¥è·å–æ‰€éœ€çš„æ•°æ®ã€‚</p>\n<p>6.<strong>å®¢æˆ·ç«¯(Client)</strong> ä¼šåˆ†åˆ«åˆ›å»ºå‘å¸ƒè€…å’Œè®¢é˜…è€…å¯¹è±¡ï¼Œç„¶åä¸ºè®¢é˜…è€…æ³¨å†Œå‘å¸ƒè€…æ›´æ–°ã€‚</p>\n<h5 id=\"ä¼ªä»£ç -17\"><a href=\"#ä¼ªä»£ç -17\" class=\"headerlink\" title=\"ä¼ªä»£ç \"></a>ä¼ªä»£ç </h5><p>è§‚å¯Ÿè€…æ¨¡å¼åœ¨ C# ä»£ç ä¸­å¾ˆå¸¸è§ï¼Œç‰¹åˆ«æ˜¯åœ¨ GUI ç»„ä»¶ä¸­ã€‚å®ƒæä¾›äº†åœ¨ä¸ä¸å…¶ä»–å¯¹è±¡æ‰€å±ç±»è€¦åˆçš„æƒ…å†µä¸‹å¯¹å…¶äº‹ä»¶åšå‡ºååº”çš„æ–¹å¼ã€‚åªè¦æ˜¯ä¸€å¯¹å¤šçš„å¹¿æ’­æ¨¡å¼çš„éœ€æ±‚ï¼Œè§‚å¯Ÿè€…æ¨¡å¼åŸºæœ¬ä¸Šå¯ä»¥ç”¨åˆ°ã€‚è€Œä¸”ä»£ç ç»“æ„ååˆ†å®¹æ˜“ç†è§£</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//æä¾›è®¢é˜…è€…æ¥å£</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title\">ISubscriber</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">//æ·»åŠ Observerï¼Œä¹Ÿå°±æ˜¯æ¥å—ä¿¡æ¯çš„äºº</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">Attach</span>(<span class=\"params\">IObserver observer</span>)</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//å»æ‰Observer</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">Detach</span>(<span class=\"params\">IObserver observer</span>)</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//é€šçŸ¥</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">Notify</span>()</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//å‘å¸ƒè€…æ‹¥æœ‰è‡ªèº«çŠ¶æ€</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">Subscriber</span> : <span class=\"title\">ISubscriber</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">//å½“å‘å¸ƒå™¨çŠ¶æ€å‘ç”Ÿæ”¹å˜çš„æ—¶å€™å¯èƒ½è¦è¿›è¡Œæ¨é€</span></span><br><span class=\"line\">    <span class=\"comment\">//ä¼ªä»£ç è¿™é‡Œç®€åŒ–äº†çŠ¶æ€</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"built_in\">int</span> State &#123;<span class=\"keyword\">get</span>;<span class=\"keyword\">set</span>;&#125; = <span class=\"number\">-0</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//è®¢é˜…å‘å¸ƒå™¨çš„é˜Ÿåˆ—</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> List&lt;IObserver&gt; _observers = <span class=\"keyword\">new</span> List&lt;IObserver&gt;();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Attach</span>(<span class=\"params\">IObserver observer</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Console.WriteLine(<span class=\"string\">&quot;Subscriber: Attached an obseerver.&quot;</span>);</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._observers.Add(observer);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Detach</span>(<span class=\"params\">IObserver observer</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._observers.Remove(observer);</span><br><span class=\"line\">        Console.WriteLine(<span class=\"string\">&quot;Subscriber: Detached an observer.&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Notify</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Console.WriteLine(<span class=\"string\">&quot;Subscriber: Notifying observers...&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">foreach</span> (<span class=\"keyword\">var</span> observer <span class=\"keyword\">in</span> _observers)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            observer.Update(<span class=\"keyword\">this</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//ä¸»è¦çš„ä¸šåŠ¡é€»è¾‘</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">SomeBusinessLogic</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Console.WriteLine(<span class=\"string\">&quot;\\nsubscriber: I&#x27;m doing something important.&quot;</span>);</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.State = <span class=\"keyword\">new</span> Random().Next(<span class=\"number\">0</span>, <span class=\"number\">10</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">        Thread.Sleep(<span class=\"number\">15</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">        Console.WriteLine(<span class=\"string\">&quot;subscriber: My state has just changed to: &quot;</span> + <span class=\"keyword\">this</span>.State);</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.Notify();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//é€šç”¨è§‚å¯Ÿè€…æ¥å£</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title\">IObserver</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">Update</span>(<span class=\"params\">ISubscriber subscriber</span>)</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//å…·ä½“è§‚å¯Ÿè€…</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">ConcreteObserverA</span> : <span class=\"title\">IObserver</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Update</span>(<span class=\"params\">ISubscriber subscriber</span>)</span></span><br><span class=\"line\">    &#123;            </span><br><span class=\"line\">        <span class=\"keyword\">if</span> ((subscriber <span class=\"keyword\">as</span> Subscriber).State &lt; <span class=\"number\">3</span>)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            Console.WriteLine(<span class=\"string\">&quot;ConcreteObserverA: Reacted to the event.&quot;</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">ConcreteObserverB</span> : <span class=\"title\">IObserver</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Update</span>(<span class=\"params\">ISubscriber subscriber</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> ((subscriber <span class=\"keyword\">as</span> Subscriber).State == <span class=\"number\">0</span> || (subscriber <span class=\"keyword\">as</span> Subscriber).State &gt;= <span class=\"number\">2</span>)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            Console.WriteLine(<span class=\"string\">&quot;ConcreteObserverB: Reacted to the event.&quot;</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//å®¢æˆ·ç«¯ä»£ç </span></span><br><span class=\"line\"><span class=\"keyword\">var</span> subscriber = <span class=\"keyword\">new</span> Subscriber();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> observerA = <span class=\"keyword\">new</span> ConcreteObserverA();</span><br><span class=\"line\">subscriber.Attach(observerA);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> observerB = <span class=\"keyword\">new</span> ConcreteObserverB();</span><br><span class=\"line\">subscriber.Attach(observerB);</span><br><span class=\"line\"></span><br><span class=\"line\">subscriber.SomeBusinessLogic();</span><br><span class=\"line\">subscriber.SomeBusinessLogic();</span><br><span class=\"line\"></span><br><span class=\"line\">subscriber.Detach(observerB);</span><br><span class=\"line\"></span><br><span class=\"line\">subscriber.SomeBusinessLogic();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/*è¿è¡Œç»“æœ</span></span><br><span class=\"line\"><span class=\"comment\">Subscriber: Attached an observer.</span></span><br><span class=\"line\"><span class=\"comment\">Subscriber: Attached an observer.</span></span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\">Subscriber: I&#x27;m doing something important.</span></span><br><span class=\"line\"><span class=\"comment\">Subscriber: My state has just changed to: 2</span></span><br><span class=\"line\"><span class=\"comment\">Subscriber: Notifying observers...</span></span><br><span class=\"line\"><span class=\"comment\">ConcreteObserverA: Reacted to the event.</span></span><br><span class=\"line\"><span class=\"comment\">ConcreteObserverB: Reacted to the event.</span></span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\">Subscriber: I&#x27;m doing something important.</span></span><br><span class=\"line\"><span class=\"comment\">Subscriber: My state has just changed to: 1</span></span><br><span class=\"line\"><span class=\"comment\">Subscriber: Notifying observers...</span></span><br><span class=\"line\"><span class=\"comment\">ConcreteObserverA: Reacted to the event.</span></span><br><span class=\"line\"><span class=\"comment\">Subscriber: Detached an observer.</span></span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\">Subscriber: I&#x27;m doing something important.</span></span><br><span class=\"line\"><span class=\"comment\">Subscriber: My state has just changed to: 5</span></span><br><span class=\"line\"><span class=\"comment\">Subscriber: Notifying observers...</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br></pre></td></tr></table></figure>\n\n<h5 id=\"é€‚åˆè§‚å¯Ÿè€…æ¨¡å¼çš„åœ°æ–¹\"><a href=\"#é€‚åˆè§‚å¯Ÿè€…æ¨¡å¼çš„åœ°æ–¹\" class=\"headerlink\" title=\"é€‚åˆè§‚å¯Ÿè€…æ¨¡å¼çš„åœ°æ–¹\"></a>é€‚åˆè§‚å¯Ÿè€…æ¨¡å¼çš„åœ°æ–¹</h5><ul>\n<li>å½“ä¸€ä¸ªå¯¹è±¡çŠ¶æ€çš„æ”¹å˜éœ€è¦æ”¹å˜å…¶ä»–å¯¹è±¡ï¼Œæˆ–å®é™…å¯¹è±¡æ˜¯äº‹å…ˆæœªçŸ¥çš„æˆ–åŠ¨æ€å˜åŒ–çš„æ—¶ï¼Œå¯ä½¿ç”¨è§‚å¯Ÿè€…æ¨¡å¼ã€‚</li>\n<li>å½“åº”ç”¨ä¸­çš„ä¸€äº›å¯¹è±¡å¿…é¡»è§‚å¯Ÿå…¶ä»–å¯¹è±¡æ—¶ï¼Œå¯ä½¿ç”¨è¯¥æ¨¡å¼ã€‚ä½†ä»…èƒ½åœ¨æœ‰é™æ—¶é—´å†…æˆ–ç‰¹å®šæƒ…å†µä¸‹ä½¿ç”¨ã€‚</li>\n</ul>\n<h5 id=\"è§‚å¯Ÿè€…æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"><a href=\"#è§‚å¯Ÿè€…æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\" class=\"headerlink\" title=\"è§‚å¯Ÿè€…æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"></a>è§‚å¯Ÿè€…æ¨¡å¼çš„ä¼˜ç¼ºç‚¹</h5><p><strong>ä¼˜ç‚¹</strong> ï¼š</p>\n<ul>\n<li>ç¬¦åˆOCP</li>\n<li>ä½ å¯ä»¥åœ¨è¿è¡Œæ—¶å»ºç«‹å¯¹è±¡ä¹‹é—´çš„è”ç³»ã€‚</li>\n</ul>\n<p><strong>ç¼ºç‚¹</strong> ï¼š</p>\n<ul>\n<li>è®¢é˜…è€…çš„é€šçŸ¥é¡ºåºæ˜¯éšæœºçš„ã€‚</li>\n</ul>\n<h4 id=\"State-çŠ¶æ€æ¨¡å¼\"><a href=\"#State-çŠ¶æ€æ¨¡å¼\" class=\"headerlink\" title=\"State(çŠ¶æ€æ¨¡å¼)\"></a>State(çŠ¶æ€æ¨¡å¼)</h4><p>çŠ¶æ€æ¨¡å¼æ˜¯ä¸€ç§è¡Œä¸ºè®¾è®¡æ¨¡å¼ï¼Œè®©ä½ èƒ½åœ¨ä¸€ä¸ªå¯¹è±¡çš„å†…éƒ¨çŠ¶æ€å˜åŒ–æ—¶æ”¹å˜å…¶è¡Œä¸ºï¼Œä½¿å…¶çœ‹ä¸Šå»å°±åƒæ”¹å˜äº†è‡ªèº«æ‰€å±çš„ç±»ä¸€æ ·ã€‚</p>\n<h5 id=\"é—®é¢˜-18\"><a href=\"#é—®é¢˜-18\" class=\"headerlink\" title=\"é—®é¢˜\"></a>é—®é¢˜</h5><p>çŠ¶æ€æ¨¡å¼ä¸æœ‰é™çŠ¶æ€æœºçš„æ¦‚å¿µç´§å¯†ç›¸å…³ã€‚<br>å…¶ä¸»è¦æ€æƒ³æ˜¯ç¨‹åºåœ¨ä»»æ„æ—¶åˆ»ä»…å¯å¤„äºå‡ ç§<strong>æœ‰é™çš„çŠ¶æ€</strong>ä¸­ã€‚åœ¨ä»»ä½•ä¸€ä¸ªç‰¹å®šçŠ¶æ€ä¸­ï¼Œç¨‹åºçš„è¡Œä¸ºéƒ½ä¸ç›¸åŒï¼Œä¸”å¯ç¬é—´ä»ä¸€ä¸ªçŠ¶æ€åˆ‡æ¢åˆ°å¦ä¸€ä¸ªçŠ¶æ€ã€‚ä¸è¿‡ï¼Œæ ¹æ®å½“å‰çŠ¶æ€ï¼Œç¨‹åºå¯èƒ½ä¼šåˆ‡æ¢åˆ°å¦å¤–ä¸€ç§çŠ¶æ€ï¼Œä¹Ÿå¯èƒ½ä¼šä¿æŒå½“å‰çŠ¶æ€ä¸å˜ã€‚è¿™äº›æ•°é‡æœ‰é™ä¸”é¢„å…ˆå®šä¹‰çš„çŠ¶æ€åˆ‡æ¢è§„åˆ™è¢«ç§°ä¸ºè½¬ç§»ã€‚</p>\n<p>çŠ¶æ€æœºé€šå¸¸ç”±ä¼—å¤šæ¡ä»¶è¿ç®—ç¬¦ ï¼ˆ ifæˆ– switch ï¼‰ å®ç°ï¼Œå¯æ ¹æ®å¯¹è±¡çš„å½“å‰çŠ¶æ€é€‰æ‹©ç›¸åº”çš„è¡Œä¸ºã€‚ â€‹â€œçŠ¶æ€â€ é€šå¸¸åªæ˜¯å¯¹è±¡ä¸­çš„ä¸€ç»„æˆå‘˜å˜é‡å€¼ã€‚å³ä½¿ä½ ä¹‹å‰ä»æœªå¬è¯´è¿‡æœ‰é™çŠ¶æ€æœºï¼Œä½ ä¹Ÿå¾ˆå¯èƒ½å·²ç»å®ç°è¿‡çŠ¶æ€æ¨¡å¼ã€‚ä¸‹é¢çš„ä»£ç åº”è¯¥èƒ½å¸®åŠ©ä½ å›å¿†èµ·æ¥ã€‚</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">Document</span> <span class=\"title\">is</span></span><br><span class=\"line\">    <span class=\"title\">field</span> <span class=\"title\">state</span>: <span class=\"title\">string</span></span><br><span class=\"line\">    <span class=\"comment\">// ...</span></span><br><span class=\"line\">    <span class=\"title\">method</span> <span class=\"title\">publish</span>() <span class=\"title\">is</span></span><br><span class=\"line\">        <span class=\"title\">switch</span> (<span class=\"title\">state</span>)</span><br><span class=\"line\">            &quot;<span class=\"title\">draft</span>&quot;:</span><br><span class=\"line\">                <span class=\"title\">state</span> = <span class=\"string\">&quot;moderation&quot;</span></span><br><span class=\"line\">                <span class=\"keyword\">break</span></span><br><span class=\"line\">            <span class=\"string\">&quot;moderation&quot;</span>:</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (currentUser.role == <span class=\"string\">&quot;admin&quot;</span>)</span><br><span class=\"line\">                    state = <span class=\"string\">&quot;published&quot;</span></span><br><span class=\"line\">                <span class=\"keyword\">break</span></span><br><span class=\"line\">            <span class=\"string\">&quot;published&quot;</span>:</span><br><span class=\"line\">                <span class=\"comment\">// ä»€ä¹ˆä¹Ÿä¸åšã€‚</span></span><br><span class=\"line\">                <span class=\"keyword\">break</span></span><br><span class=\"line\">    <span class=\"comment\">// ...</span></span><br></pre></td></tr></table></figure>\n\n<p>å½“æˆ‘ä»¬é€æ­¥åœ¨æ–‡æ¡£ç±»ä¸­æ·»åŠ æ›´å¤šçŠ¶æ€å’Œä¾èµ–äºçŠ¶æ€çš„è¡Œä¸ºåï¼ŒåŸºäºæ¡ä»¶è¯­å¥çš„çŠ¶æ€æœºå°±ä¼šæš´éœ²å…¶æœ€å¤§çš„å¼±ç‚¹ã€‚ä¸ºäº†èƒ½æ ¹æ®å½“å‰çŠ¶æ€é€‰æ‹©å®Œæˆç›¸åº”è¡Œä¸ºçš„æ–¹æ³•ï¼Œç»å¤§éƒ¨åˆ†æ–¹æ³•ä¸­ä¼šåŒ…å«å¤æ‚çš„æ¡ä»¶è¯­å¥ã€‚ä¿®æ”¹å…¶è½¬æ¢é€»è¾‘å¯èƒ½ä¼šæ¶‰åŠåˆ°ä¿®æ”¹æ‰€æœ‰æ–¹æ³•ä¸­çš„çŠ¶æ€æ¡ä»¶è¯­å¥ï¼Œå¯¼è‡´ä»£ç çš„ç»´æŠ¤å·¥ä½œéå¸¸è‰°éš¾ã€‚</p>\n<h5 id=\"è§£å†³æ–¹æ¡ˆ-18\"><a href=\"#è§£å†³æ–¹æ¡ˆ-18\" class=\"headerlink\" title=\"è§£å†³æ–¹æ¡ˆ\"></a>è§£å†³æ–¹æ¡ˆ</h5><p>çŠ¶æ€æ¨¡å¼å»ºè®®ä¸ºå¯¹è±¡çš„æ‰€æœ‰å¯èƒ½çŠ¶æ€æ–°å»ºä¸€ä¸ªç±»ï¼Œç„¶åå°†æ‰€æœ‰çŠ¶æ€çš„å¯¹åº”è¡Œä¸ºæŠ½å–åˆ°è¿™äº›ç±»ä¸­ã€‚</p>\n<p>åŸå§‹å¯¹è±¡è¢«ç§°ä¸ºä¸Šä¸‹æ–‡(conÂ­text)ï¼Œå®ƒå¹¶ä¸ä¼šè‡ªè¡Œå®ç°æ‰€æœ‰è¡Œä¸ºï¼Œè€Œæ˜¯ä¼šä¿å­˜ä¸€ä¸ªæŒ‡å‘è¡¨ç¤ºå½“å‰çŠ¶æ€çš„çŠ¶æ€å¯¹è±¡çš„å¼•ç”¨ï¼Œä¸”å°†æ‰€æœ‰ä¸çŠ¶æ€ç›¸å…³çš„å·¥ä½œå§”æ´¾ç»™è¯¥å¯¹è±¡ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220825164123.png\" alt=\"img\"></p>\n<p>å¦‚éœ€å°†ä¸Šä¸‹æ–‡è½¬æ¢ä¸ºå¦å¤–ä¸€ç§çŠ¶æ€ï¼Œåˆ™éœ€å°†å½“å‰æ´»åŠ¨çš„çŠ¶æ€å¯¹è±¡æ›¿æ¢ä¸ºå¦å¤–ä¸€ä¸ªä»£è¡¨æ–°çŠ¶æ€çš„å¯¹è±¡ã€‚é‡‡ç”¨è¿™ç§æ–¹å¼æ˜¯æœ‰å‰æçš„ï¼šæ‰€æœ‰çŠ¶æ€ç±»éƒ½å¿…é¡»éµå¾ªåŒæ ·çš„æ¥å£ï¼Œè€Œä¸”ä¸Šä¸‹æ–‡å¿…é¡»ä»…é€šè¿‡æ¥å£ä¸è¿™äº›å¯¹è±¡è¿›è¡Œäº¤äº’ã€‚</p>\n<p>è¿™ä¸ªç»“æ„å¯èƒ½çœ‹ä¸Šå»ä¸ç­–ç•¥æ¨¡å¼ç›¸ä¼¼ï¼Œä½†æœ‰ä¸€ä¸ªå…³é”®æ€§çš„ä¸åŒâ€”â€” åœ¨çŠ¶æ€æ¨¡å¼ä¸­ï¼Œç‰¹<strong>å®šçŠ¶æ€çŸ¥é“å…¶ä»–æ‰€æœ‰çŠ¶æ€çš„å­˜åœ¨ï¼Œä¸”èƒ½è§¦å‘ä»ä¸€ä¸ªçŠ¶æ€åˆ°å¦ä¸€ä¸ªçŠ¶æ€çš„è½¬æ¢</strong>ï¼›ç­–ç•¥åˆ™<strong>å‡ ä¹å®Œå…¨ä¸çŸ¥é“å…¶ä»–ç­–ç•¥çš„å­˜åœ¨</strong>ã€‚</p>\n<h5 id=\"çŠ¶æ€æ¨¡å¼ç»“æ„\"><a href=\"#çŠ¶æ€æ¨¡å¼ç»“æ„\" class=\"headerlink\" title=\"çŠ¶æ€æ¨¡å¼ç»“æ„\"></a>çŠ¶æ€æ¨¡å¼ç»“æ„</h5><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220825164235.png\" alt=\"img\"></p>\n<p>1.<strong>ä¸Šä¸‹æ–‡(ConÂ­text)</strong> ä¿å­˜äº†å¯¹äºä¸€ä¸ªå…·ä½“çŠ¶æ€å¯¹è±¡çš„å¼•ç”¨ï¼Œå¹¶ä¼šå°†æ‰€æœ‰ä¸è¯¥çŠ¶æ€ç›¸å…³çš„å·¥ä½œå§”æ´¾ç»™å®ƒã€‚ä¸Šä¸‹æ–‡é€šè¿‡çŠ¶æ€æ¥å£ä¸çŠ¶æ€å¯¹è±¡äº¤äº’ï¼Œä¸”ä¼šæä¾›ä¸€ä¸ªè®¾ç½®å™¨ç”¨äºä¼ é€’æ–°çš„çŠ¶æ€å¯¹è±¡ã€‚</p>\n<p>2.<strong>çŠ¶æ€(State)</strong> æ¥å£ä¼šå£°æ˜ç‰¹å®šäºçŠ¶æ€çš„æ–¹æ³•ã€‚è¿™äº›æ–¹æ³•åº”èƒ½è¢«å…¶ä»–æ‰€æœ‰å…·ä½“çŠ¶æ€æ‰€ç†è§£ï¼Œå› ä¸ºä½ ä¸å¸Œæœ›æŸäº›çŠ¶æ€æ‰€æ‹¥æœ‰çš„æ–¹æ³•æ°¸è¿œä¸ä¼šè¢«è°ƒç”¨ã€‚</p>\n<p>3.<strong>å…·ä½“çŠ¶æ€(ConÂ­crete States)</strong> ä¼šè‡ªè¡Œå®ç°ç‰¹å®šäºçŠ¶æ€çš„æ–¹æ³•ã€‚ä¸ºäº†é¿å…å¤šä¸ªçŠ¶æ€ä¸­åŒ…å«ç›¸ä¼¼ä»£ç ï¼Œä½ å¯ä»¥æä¾›ä¸€ä¸ªå°è£…æœ‰éƒ¨åˆ†é€šç”¨è¡Œä¸ºçš„ä¸­é—´æŠ½è±¡ç±»ã€‚<br>çŠ¶æ€å¯¹è±¡å¯å­˜å‚¨å¯¹äºä¸Šä¸‹æ–‡å¯¹è±¡çš„åå‘å¼•ç”¨ã€‚çŠ¶æ€å¯ä»¥é€šè¿‡è¯¥å¼•ç”¨ä»ä¸Šä¸‹æ–‡å¤„è·å–æ‰€éœ€ä¿¡æ¯ï¼Œå¹¶ä¸”èƒ½è§¦å‘çŠ¶æ€è½¬ç§»ã€‚</p>\n<p>4.ä¸Šä¸‹æ–‡å’Œå…·ä½“çŠ¶æ€éƒ½å¯ä»¥è®¾ç½®ä¸Šä¸‹æ–‡çš„ä¸‹ä¸ªçŠ¶æ€ï¼Œå¹¶å¯é€šè¿‡æ›¿æ¢è¿æ¥åˆ°ä¸Šä¸‹æ–‡çš„çŠ¶æ€å¯¹è±¡æ¥å®Œæˆå®é™…çš„çŠ¶æ€è½¬æ¢ã€‚</p>\n<h5 id=\"ä¼ªä»£ç -18\"><a href=\"#ä¼ªä»£ç -18\" class=\"headerlink\" title=\"ä¼ªä»£ç \"></a>ä¼ªä»£ç </h5><p>çŠ¶æ€æ¨¡å¼åœ¨æ¸¸æˆä¸­è¿˜æ˜¯ååˆ†å¸¸è§çš„ï¼Œæ¯”å¦‚äººç‰©åŠ¨ç”»çŠ¶æ€çš„å˜åŒ–ï¼Œä½†æ˜¯æ¯”è¾ƒå¤šçš„è¿˜æ˜¯AIä¸­ï¼Œä¸è¿‡æ˜¯ç®€å•æ¸¸æˆé‡Œçš„ï¼ˆå¤§å‹æ¸¸æˆçš„æ–¹æ¡ˆå¯èƒ½ä¸å¤ªä¸€æ ·ï¼‰</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//Contextç±»å°±æ˜¯è¦è¿›è¡ŒçŠ¶æ€å˜åŒ–çš„ç±»</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">Context</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> State _state = <span class=\"literal\">null</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">Context</span>(<span class=\"params\">State state</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.ChangeState(state);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">ChangeState</span>(<span class=\"params\">State state</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Console.WriteLine(<span class=\"string\">$&quot;Context: Transition to <span class=\"subst\">&#123;state.GetType().Name&#125;</span>.&quot;</span>);</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._state = state;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._state.SetContext(<span class=\"keyword\">this</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Request1</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._state.Handle1();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Request2</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._state.Handle2();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//çŠ¶æ€åŸºç±»</span></span><br><span class=\"line\"><span class=\"keyword\">abstract</span> <span class=\"keyword\">class</span> <span class=\"title\">State</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">protected</span> Context _context;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">SetContext</span>(<span class=\"params\">Context context</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._context = context;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> <span class=\"keyword\">void</span> <span class=\"title\">Handle1</span>()</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> <span class=\"keyword\">void</span> <span class=\"title\">Handle2</span>()</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">ConcreteStateA</span> : <span class=\"title\">State</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">override</span> <span class=\"keyword\">void</span> <span class=\"title\">Handle1</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">       Console.WriteLine(<span class=\"string\">&quot;ConcreteStateA handles request1.&quot;</span>);</span><br><span class=\"line\">        Console.WriteLine(<span class=\"string\">&quot;ConcreteStateA wants to change the state of the context.&quot;</span>);</span><br><span class=\"line\">       <span class=\"keyword\">this</span>._context.ChangeState(<span class=\"keyword\">new</span> ConcreteStateB());</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">override</span> <span class=\"keyword\">void</span> <span class=\"title\">Handle2</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">       Console.WriteLine(<span class=\"string\">&quot;ConcreteStateA handles request2.&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">ConcreteStateB</span> : <span class=\"title\">State</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">override</span> <span class=\"keyword\">void</span> <span class=\"title\">Handle1</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Console.Write(<span class=\"string\">&quot;ConcreteStateB handles request1.&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">override</span> <span class=\"keyword\">void</span> <span class=\"title\">Handle2</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Console.WriteLine(<span class=\"string\">&quot;ConcreteStateB handles request2.&quot;</span>);</span><br><span class=\"line\">        Console.WriteLine(<span class=\"string\">&quot;ConcreteStateB wants to change the state of the context.&quot;</span>);</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._context.ChangeState(<span class=\"keyword\">new</span> ConcreteStateA());</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//å®¢æˆ·ç«¯ä»£ç </span></span><br><span class=\"line\"><span class=\"keyword\">var</span> context = <span class=\"keyword\">new</span> Context(<span class=\"keyword\">new</span> ConcreteStateA());</span><br><span class=\"line\">context.Request1();</span><br><span class=\"line\">context.Request2();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/*è¿è¡Œç»“æœ</span></span><br><span class=\"line\"><span class=\"comment\">Context: Transition to ConcreteStateA.</span></span><br><span class=\"line\"><span class=\"comment\">ConcreteStateA handles request1.</span></span><br><span class=\"line\"><span class=\"comment\">ConcreteStateA wants to change the state of the context.</span></span><br><span class=\"line\"><span class=\"comment\">Context: Transition to ConcreteStateB.</span></span><br><span class=\"line\"><span class=\"comment\">ConcreteStateB handles request2.</span></span><br><span class=\"line\"><span class=\"comment\">ConcreteStateB wants to change the state of the context.</span></span><br><span class=\"line\"><span class=\"comment\">Context: Transition to ConcreteStateA.</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br></pre></td></tr></table></figure>\n\n<h5 id=\"é€‚åˆçŠ¶æ€æ¨¡å¼çš„åœ°æ–¹\"><a href=\"#é€‚åˆçŠ¶æ€æ¨¡å¼çš„åœ°æ–¹\" class=\"headerlink\" title=\"é€‚åˆçŠ¶æ€æ¨¡å¼çš„åœ°æ–¹\"></a>é€‚åˆçŠ¶æ€æ¨¡å¼çš„åœ°æ–¹</h5><ul>\n<li>å¦‚æœå¯¹è±¡éœ€è¦æ ¹æ®è‡ªèº«å½“å‰çŠ¶æ€è¿›è¡Œä¸åŒè¡Œä¸ºï¼ŒåŒæ—¶çŠ¶æ€çš„æ•°é‡éå¸¸å¤šä¸”ä¸çŠ¶æ€ç›¸å…³çš„ä»£ç ä¼šé¢‘ç¹å˜æ›´çš„è¯ï¼Œå¯ä½¿ç”¨çŠ¶æ€æ¨¡å¼ã€‚</li>\n<li>å¦‚æœæŸä¸ªç±»éœ€è¦æ ¹æ®æˆå‘˜å˜é‡çš„å½“å‰å€¼æ”¹å˜è‡ªèº«è¡Œä¸ºï¼Œä»è€Œéœ€è¦ä½¿ç”¨å¤§é‡çš„æ¡ä»¶è¯­å¥æ—¶ï¼Œå¯ä½¿ç”¨è¯¥æ¨¡å¼ã€‚</li>\n<li>å½“ç›¸ä¼¼çŠ¶æ€å’ŒåŸºäºæ¡ä»¶çš„çŠ¶æ€æœºè½¬æ¢ä¸­å­˜åœ¨è®¸å¤šé‡å¤ä»£ç æ—¶ï¼Œå¯ä½¿ç”¨çŠ¶æ€æ¨¡å¼ã€‚</li>\n</ul>\n<h5 id=\"çŠ¶æ€æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"><a href=\"#çŠ¶æ€æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\" class=\"headerlink\" title=\"çŠ¶æ€æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"></a>çŠ¶æ€æ¨¡å¼çš„ä¼˜ç¼ºç‚¹</h5><p><strong>ä¼˜ç‚¹</strong> ï¼š</p>\n<ul>\n<li>ç¬¦åˆSRP</li>\n<li>ç¬¦åˆOCP</li>\n<li>é€šè¿‡æ¶ˆé™¤è‡ƒè‚¿çš„çŠ¶æ€æœºæ¡ä»¶è¯­å¥ç®€åŒ–ä¸Šä¸‹æ–‡ä»£ç ã€‚</li>\n</ul>\n<p><strong>ç¼ºç‚¹</strong> ï¼š</p>\n<ul>\n<li>å¦‚æœçŠ¶æ€æœºåªæœ‰å¾ˆå°‘çš„å‡ ä¸ªçŠ¶æ€ï¼Œæˆ–è€…å¾ˆå°‘å‘ç”Ÿæ”¹å˜ï¼Œé‚£ä¹ˆåº”ç”¨è¯¥æ¨¡å¼å¯èƒ½ä¼šæ˜¾å¾—å°é¢˜å¤§ä½œã€‚</li>\n</ul>\n<h4 id=\"Strategy-ç­–ç•¥æ¨¡å¼\"><a href=\"#Strategy-ç­–ç•¥æ¨¡å¼\" class=\"headerlink\" title=\"Strategy(ç­–ç•¥æ¨¡å¼)\"></a>Strategy(ç­–ç•¥æ¨¡å¼)</h4><p>ç­–ç•¥æ¨¡å¼æ˜¯ä¸€ç§è¡Œä¸ºè®¾è®¡æ¨¡å¼ï¼Œå®ƒèƒ½è®©ä½ å®šä¹‰ä¸€ç³»åˆ—ç®—æ³•ï¼Œå¹¶å°†æ¯ç§ç®—æ³•åˆ†åˆ«æ”¾å…¥ç‹¬ç«‹çš„ç±»ä¸­ï¼Œä»¥ä½¿ç®—æ³•çš„å¯¹è±¡èƒ½å¤Ÿç›¸äº’æ›¿æ¢ã€‚</p>\n<h5 id=\"é—®é¢˜-19\"><a href=\"#é—®é¢˜-19\" class=\"headerlink\" title=\"é—®é¢˜\"></a>é—®é¢˜</h5><p>ä¸€å¤©ï¼Œä½ æ‰“ç®—ä¸ºæ¸¸å®¢ä»¬åˆ›å»ºä¸€æ¬¾å¯¼æ¸¸ç¨‹åºã€‚è¯¥ç¨‹åºçš„æ ¸å¿ƒåŠŸèƒ½æ˜¯æä¾›ç¾è§‚çš„åœ°å›¾ï¼Œ ä»¥å¸®åŠ©ç”¨æˆ·åœ¨ä»»ä½•åŸå¸‚ä¸­å¿«é€Ÿå®šä½ã€‚ç”¨æˆ·æœŸå¾…çš„ç¨‹åºæ–°åŠŸèƒ½æ˜¯è‡ªåŠ¨è·¯çº¿è§„åˆ’ï¼šä»–ä»¬å¸Œæœ›è¾“å…¥åœ°å€åå°±èƒ½åœ¨åœ°å›¾ä¸Šçœ‹åˆ°å‰å¾€ç›®çš„åœ°çš„æœ€å¿«è·¯çº¿ã€‚ç¨‹åºçš„é¦–ä¸ªç‰ˆæœ¬åªèƒ½è§„åˆ’å…¬è·¯è·¯çº¿ã€‚é©¾è½¦æ—…è¡Œçš„äººä»¬å¯¹æ­¤éå¸¸æ»¡æ„ã€‚ä½†å¾ˆæ˜¾ç„¶ï¼Œå¹¶éæ‰€æœ‰äººéƒ½ä¼šåœ¨åº¦å‡æ—¶å¼€è½¦ã€‚å› æ­¤ä½ åœ¨ä¸‹æ¬¡æ›´æ–°æ—¶æ·»åŠ äº†è§„åˆ’æ­¥è¡Œè·¯çº¿çš„åŠŸèƒ½ã€‚æ­¤åï¼Œä½ åˆæ·»åŠ äº†è§„åˆ’å…¬å…±äº¤é€šè·¯çº¿çš„åŠŸèƒ½ã€‚è€Œè¿™åªæ˜¯ä¸ªå¼€å§‹ã€‚ä¸ä¹…åï¼Œä½ åˆè¦ä¸ºéª‘è¡Œè€…è§„åˆ’è·¯çº¿ã€‚åˆè¿‡äº†ä¸€æ®µæ—¶é—´ï¼Œä½ åˆè¦ä¸ºæ¸¸è§ˆåŸå¸‚ä¸­çš„æ‰€æœ‰æ™¯ç‚¹è§„åˆ’è·¯çº¿ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220826203722.png\" alt=\"img\"></p>\n<h5 id=\"è§£å†³æ–¹æ¡ˆ-19\"><a href=\"#è§£å†³æ–¹æ¡ˆ-19\" class=\"headerlink\" title=\"è§£å†³æ–¹æ¡ˆ\"></a>è§£å†³æ–¹æ¡ˆ</h5><p>ç­–ç•¥æ¨¡å¼å»ºè®®<strong>æ‰¾å‡ºè´Ÿè´£ç”¨è®¸å¤šä¸åŒæ–¹å¼å®Œæˆç‰¹å®šä»»åŠ¡çš„ç±»ï¼Œç„¶åå°†å…¶ä¸­çš„ç®—æ³•æŠ½å–åˆ°ä¸€ç»„</strong>è¢«ç§°ä¸ºç­–ç•¥çš„ç‹¬ç«‹ç±»ä¸­ã€‚åä¸ºä¸Šä¸‹æ–‡çš„åŸå§‹ç±»å¿…é¡»åŒ…å«ä¸€ä¸ªæˆå‘˜å˜é‡æ¥å­˜å‚¨å¯¹äºæ¯ç§ç­–ç•¥çš„å¼•ç”¨ã€‚ä¸Šä¸‹æ–‡å¹¶ä¸æ‰§è¡Œä»»åŠ¡ï¼Œè€Œæ˜¯å°†å·¥ä½œå§”æ´¾ç»™å·²è¿æ¥çš„ç­–ç•¥å¯¹è±¡ã€‚ä¸Šä¸‹æ–‡ä¸è´Ÿè´£é€‰æ‹©ç¬¦åˆä»»åŠ¡éœ€è¦çš„ç®—æ³•â€”â€”å®¢æˆ·ç«¯ä¼šå°†æ‰€éœ€ç­–ç•¥ä¼ é€’ç»™ä¸Šä¸‹æ–‡ã€‚å®é™…ä¸Šï¼Œä¸Šä¸‹æ–‡å¹¶ä¸ååˆ†äº†è§£ç­–ç•¥ï¼Œå®ƒä¼šé€šè¿‡åŒæ ·çš„é€šç”¨æ¥å£ä¸æ‰€æœ‰ç­–ç•¥è¿›è¡Œäº¤äº’ï¼Œè€Œè¯¥æ¥å£åªéœ€æš´éœ²ä¸€ä¸ªæ–¹æ³•æ¥è§¦å‘æ‰€é€‰ç­–ç•¥ä¸­å°è£…çš„ç®—æ³•å³å¯ã€‚ï¼ˆä¸Šä¸‹æ–‡å…¶å®å°±æ˜¯ä¸»è§’ï¼‰</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220826205036.png\" alt=\"img\"></p>\n<h5 id=\"ç­–ç•¥æ¨¡å¼ç»“æ„\"><a href=\"#ç­–ç•¥æ¨¡å¼ç»“æ„\" class=\"headerlink\" title=\"ç­–ç•¥æ¨¡å¼ç»“æ„\"></a>ç­–ç•¥æ¨¡å¼ç»“æ„</h5><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220826205148.png\" alt=\"img\"></p>\n<p>1.<strong>ä¸Šä¸‹æ–‡(ConÂ­text)</strong> ç»´æŠ¤æŒ‡å‘å…·ä½“ç­–ç•¥çš„å¼•ç”¨ï¼Œä¸”ä»…é€šè¿‡ç­–ç•¥æ¥å£ä¸è¯¥å¯¹è±¡è¿›è¡Œäº¤æµã€‚</p>\n<p>2.<strong>ç­–ç•¥(StratÂ­eÂ­gy)</strong> æ¥å£æ˜¯æ‰€æœ‰å…·ä½“ç­–ç•¥çš„é€šç”¨æ¥å£ï¼Œå®ƒå£°æ˜äº†ä¸€ä¸ªä¸Šä¸‹æ–‡ç”¨äºæ‰§è¡Œç­–ç•¥çš„æ–¹æ³•ã€‚</p>\n<p>3.<strong>å…·ä½“ç­–ç•¥(ConÂ­crete StrateÂ­gies)</strong> å®ç°äº†ä¸Šä¸‹æ–‡æ‰€ç”¨ç®—æ³•çš„å„ç§ä¸åŒå˜ä½“ã€‚</p>\n<p>4.å½“ä¸Šä¸‹æ–‡éœ€è¦è¿è¡Œç®—æ³•æ—¶ï¼Œå®ƒä¼šåœ¨å…¶å·²è¿æ¥çš„ç­–ç•¥å¯¹è±¡ä¸Šè°ƒç”¨æ‰§è¡Œæ–¹æ³•ã€‚ä¸Šä¸‹æ–‡ä¸æ¸…æ¥šå…¶æ‰€æ¶‰åŠçš„ç­–ç•¥ç±»å‹ä¸ç®—æ³•çš„æ‰§è¡Œæ–¹å¼ã€‚</p>\n<p>5.<strong>å®¢æˆ·ç«¯(Client)</strong> ä¼šåˆ›å»ºä¸€ä¸ªç‰¹å®šç­–ç•¥å¯¹è±¡å¹¶å°†å…¶ä¼ é€’ç»™ä¸Šä¸‹æ–‡ã€‚ä¸Šä¸‹æ–‡åˆ™ä¼šæä¾›ä¸€ä¸ªè®¾ç½®å™¨ä»¥ä¾¿å®¢æˆ·ç«¯åœ¨è¿è¡Œæ—¶æ›¿æ¢ç›¸å…³è”çš„ç­–ç•¥ã€‚</p>\n<h5 id=\"ä¼ªä»£ç -19\"><a href=\"#ä¼ªä»£ç -19\" class=\"headerlink\" title=\"ä¼ªä»£ç \"></a>ä¼ªä»£ç </h5><p>ç”±äºè·ŸçŠ¶æ€æ¨¡å¼å¾ˆç›¸è¿‘ï¼Œè¿˜æ˜¯å¾ˆå®¹æ˜“ç†è§£çš„ï¼Œæ³¨æ„ä¸€ä¸‹ä¸åŒå°±å¯ä»¥ã€‚</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//Contextä¸»ä½“ç±»ï¼Œå…¶å®å¯ä»¥æ˜¯Playerç±»ï¼Œç›¸å½“äºä¸»é¢˜åšæ“ä½œçš„ç±»</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">Context</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">//ä½¿ç”¨çš„ç­–ç•¥</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> IStrategy _strategy;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">Context</span>()</span> &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">Context</span>(<span class=\"params\">IStrategy strategy</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._strategy = strategy;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">SetStrategy</span>(<span class=\"params\">IStrategy strategy</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._strategy = strategy;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//æ ¹æ®ç­–ç•¥è¿›è¡Œæ“ä½œ</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">DoSomeBusinessLogic</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Console.WriteLine(<span class=\"string\">&quot;Context: Sorting data using the strategy (not sure how it&#x27;ll do it)&quot;</span>);</span><br><span class=\"line\">        <span class=\"keyword\">var</span> result = <span class=\"keyword\">this</span>._strategy.DoAlgorithm(<span class=\"keyword\">new</span> List&lt;<span class=\"built_in\">string</span>&gt; &#123; <span class=\"string\">&quot;a&quot;</span>, <span class=\"string\">&quot;b&quot;</span>, <span class=\"string\">&quot;c&quot;</span>, <span class=\"string\">&quot;d&quot;</span>, <span class=\"string\">&quot;e&quot;</span> &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"built_in\">string</span> resultStr = <span class=\"built_in\">string</span>.Empty;</span><br><span class=\"line\">        <span class=\"keyword\">foreach</span> (<span class=\"keyword\">var</span> element <span class=\"keyword\">in</span> result <span class=\"keyword\">as</span> List&lt;<span class=\"built_in\">string</span>&gt;)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            resultStr += element + <span class=\"string\">&quot;,&quot;</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        Console.WriteLine(resultStr);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//Strategyæ¥å£å£°æ˜æ–¹æ³•</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title\">IStrategy</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"built_in\">object</span> <span class=\"title\">DoAlgorithm</span>(<span class=\"params\"><span class=\"built_in\">object</span> data</span>)</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//å…·ä½“ç­–ç•¥</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">ConcreteStrategyA</span> : <span class=\"title\">IStrategy</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"built_in\">object</span> <span class=\"title\">DoAlgorithm</span>(<span class=\"params\"><span class=\"built_in\">object</span> data</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> list = data <span class=\"keyword\">as</span> List&lt;<span class=\"built_in\">string</span>&gt;;</span><br><span class=\"line\">        list.Sort();</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> list;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">ConcreteStrategyB</span> : <span class=\"title\">IStrategy</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"built_in\">object</span> <span class=\"title\">DoAlgorithm</span>(<span class=\"params\"><span class=\"built_in\">object</span> data</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> list = data <span class=\"keyword\">as</span> List&lt;<span class=\"built_in\">string</span>&gt;;</span><br><span class=\"line\">        list.Sort();</span><br><span class=\"line\">        list.Reverse();</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> list;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//å®¢æˆ·ç«¯ä»£ç </span></span><br><span class=\"line\"><span class=\"keyword\">var</span> context = <span class=\"keyword\">new</span> Context();</span><br><span class=\"line\"></span><br><span class=\"line\">Console.WriteLine(<span class=\"string\">&quot;Client: Strategy is set to normal sorting.&quot;</span>);</span><br><span class=\"line\">context.SetStrategy(<span class=\"keyword\">new</span> ConcreteStrategyA());</span><br><span class=\"line\">context.DoSomeBusinessLogic();</span><br><span class=\"line\">            </span><br><span class=\"line\">Console.WriteLine();</span><br><span class=\"line\">            </span><br><span class=\"line\">Console.WriteLine(<span class=\"string\">&quot;Client: Strategy is set to reverse sorting.&quot;</span>);</span><br><span class=\"line\">context.SetStrategy(<span class=\"keyword\">new</span> ConcreteStrategyB());</span><br><span class=\"line\">context.DoSomeBusinessLogic();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/*è¿è¡Œç»“æœ</span></span><br><span class=\"line\"><span class=\"comment\">Client: Strategy is set to normal sorting.</span></span><br><span class=\"line\"><span class=\"comment\">Context: Sorting data using the strategy (not sure how it&#x27;ll do it)</span></span><br><span class=\"line\"><span class=\"comment\">a,b,c,d,e</span></span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\">Client: Strategy is set to reverse sorting.</span></span><br><span class=\"line\"><span class=\"comment\">Context: Sorting data using the strategy (not sure how it&#x27;ll do it)</span></span><br><span class=\"line\"><span class=\"comment\">e,d,c,b,a</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br></pre></td></tr></table></figure>\n\n<h5 id=\"é€‚åˆç­–ç•¥æ¨¡å¼çš„åœ°æ–¹\"><a href=\"#é€‚åˆç­–ç•¥æ¨¡å¼çš„åœ°æ–¹\" class=\"headerlink\" title=\"é€‚åˆç­–ç•¥æ¨¡å¼çš„åœ°æ–¹\"></a>é€‚åˆç­–ç•¥æ¨¡å¼çš„åœ°æ–¹</h5><ul>\n<li>å½“ä½ æƒ³ä½¿ç”¨å¯¹è±¡ä¸­å„ç§ä¸åŒçš„ç®—æ³•å˜ä½“ï¼Œå¹¶å¸Œæœ›èƒ½åœ¨è¿è¡Œæ—¶åˆ‡æ¢ç®—æ³•æ—¶ï¼Œå¯ä½¿ç”¨ç­–ç•¥æ¨¡å¼ã€‚</li>\n<li>å½“ä½ æœ‰è®¸å¤šä»…åœ¨æ‰§è¡ŒæŸäº›è¡Œä¸ºæ—¶ç•¥æœ‰ä¸åŒçš„ç›¸ä¼¼ç±»æ—¶ï¼Œå¯ä½¿ç”¨ç­–ç•¥æ¨¡å¼ã€‚</li>\n<li>å¦‚æœç®—æ³•åœ¨ä¸Šä¸‹æ–‡çš„é€»è¾‘ä¸­ä¸æ˜¯ç‰¹åˆ«é‡è¦ï¼Œä½¿ç”¨è¯¥æ¨¡å¼èƒ½å°†ç±»çš„ä¸šåŠ¡é€»è¾‘ä¸å…¶ç®—æ³•å®ç°ç»†èŠ‚éš”ç¦»å¼€æ¥ã€‚</li>\n<li>å½“ç±»ä¸­ä½¿ç”¨äº†å¤æ‚æ¡ä»¶è¿ç®—ç¬¦ä»¥åœ¨åŒä¸€ç®—æ³•çš„ä¸åŒå˜ä½“ä¸­åˆ‡æ¢æ—¶ï¼Œå¯ä½¿ç”¨è¯¥æ¨¡å¼ã€‚</li>\n</ul>\n<h5 id=\"ç­–ç•¥æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"><a href=\"#ç­–ç•¥æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\" class=\"headerlink\" title=\"ç­–ç•¥æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"></a>ç­–ç•¥æ¨¡å¼çš„ä¼˜ç¼ºç‚¹</h5><p><strong>ä¼˜ç‚¹</strong> ï¼š</p>\n<ul>\n<li>ä½ å¯ä»¥åœ¨è¿è¡Œæ—¶åˆ‡æ¢å¯¹è±¡å†…çš„ç®—æ³•ã€‚</li>\n<li>ä½ å¯ä»¥å°†ç®—æ³•çš„å®ç°å’Œä½¿ç”¨ç®—æ³•çš„ä»£ç éš”ç¦»å¼€æ¥ã€‚</li>\n<li>ä½ å¯ä»¥ä½¿ç”¨ç»„åˆæ¥ä»£æ›¿ç»§æ‰¿ã€‚</li>\n<li>ç¬¦åˆOCP</li>\n</ul>\n<p><strong>ç¼ºç‚¹</strong> ï¼š</p>\n<ul>\n<li>å¦‚æœä½ çš„ç®—æ³•æå°‘å‘ç”Ÿæ”¹å˜ï¼Œé‚£ä¹ˆæ²¡æœ‰ä»»ä½•ç†ç”±å¼•å…¥æ–°çš„ç±»å’Œæ¥å£ã€‚ä½¿ç”¨è¯¥æ¨¡å¼åªä¼šè®©ç¨‹åºè¿‡äºå¤æ‚ã€‚</li>\n<li>å®¢æˆ·ç«¯å¿…é¡»çŸ¥æ™“ç­–ç•¥é—´çš„ä¸åŒâ€”â€”å®ƒéœ€è¦é€‰æ‹©åˆé€‚çš„ç­–ç•¥ã€‚</li>\n<li>è®¸å¤šç°ä»£ç¼–ç¨‹è¯­è¨€æ”¯æŒå‡½æ•°ç±»å‹åŠŸèƒ½ï¼Œå…è®¸ä½ åœ¨ä¸€ç»„åŒ¿åå‡½æ•°ä¸­å®ç°ä¸åŒç‰ˆæœ¬çš„ç®—æ³•ã€‚è¿™æ ·ï¼Œä½ ä½¿ç”¨è¿™äº›å‡½æ•°çš„æ–¹å¼å°±å’Œä½¿ç”¨ç­–ç•¥å¯¹è±¡æ—¶å®Œå…¨ç›¸åŒï¼Œæ— éœ€å€ŸåŠ©é¢å¤–çš„ç±»å’Œæ¥å£æ¥ä¿æŒä»£ç ç®€æ´ã€‚</li>\n</ul>\n<h4 id=\"Template-Method-æ¨¡æ¿æ–¹æ³•æ¨¡å¼\"><a href=\"#Template-Method-æ¨¡æ¿æ–¹æ³•æ¨¡å¼\" class=\"headerlink\" title=\"Template Method(æ¨¡æ¿æ–¹æ³•æ¨¡å¼)\"></a>Template Method(æ¨¡æ¿æ–¹æ³•æ¨¡å¼)</h4><p>æ¨¡æ¿æ–¹æ³•æ¨¡å¼æ˜¯ä¸€ç§è¡Œä¸ºè®¾è®¡æ¨¡å¼ï¼Œå®ƒåœ¨è¶…ç±»ä¸­å®šä¹‰äº†ä¸€ä¸ªç®—æ³•çš„æ¡†æ¶ï¼Œå…è®¸å­ç±»åœ¨ä¸ä¿®æ”¹ç»“æ„çš„æƒ…å†µä¸‹é‡å†™ç®—æ³•çš„ç‰¹å®šæ­¥éª¤ã€‚</p>\n<h5 id=\"é—®é¢˜-20\"><a href=\"#é—®é¢˜-20\" class=\"headerlink\" title=\"é—®é¢˜\"></a>é—®é¢˜</h5><p>å‡å¦‚ä½ æ­£åœ¨å¼€å‘ä¸€æ¬¾åˆ†æå…¬å¸æ–‡æ¡£çš„æ•°æ®æŒ–æ˜ç¨‹åºã€‚ ç”¨æˆ·éœ€è¦å‘ç¨‹åºè¾“å…¥å„ç§æ ¼å¼ ï¼ˆPDFã€ DOC æˆ– CSVï¼‰ çš„æ–‡æ¡£ï¼Œç¨‹åºåˆ™ä¼šè¯•å›¾ä»è¿™äº›æ–‡ä»¶ä¸­æŠ½å–æœ‰æ„ä¹‰çš„æ•°æ®ï¼Œå¹¶ä»¥ç»Ÿä¸€çš„æ ¼å¼å°†å…¶è¿”å›ç»™ç”¨æˆ·ã€‚</p>\n<p>è¯¥ç¨‹åºçš„é¦–ä¸ªç‰ˆæœ¬ä»…æ”¯æŒ DOC æ–‡ä»¶ã€‚åœ¨æ¥ä¸‹æ¥çš„ä¸€ä¸ªç‰ˆæœ¬ä¸­ï¼Œç¨‹åºèƒ½å¤Ÿæ”¯æŒ CSV æ–‡ä»¶ã€‚ä¸€ä¸ªæœˆåï¼Œä½  â€œæ•™ä¼šâ€ äº†ç¨‹åºä» PDF æ–‡ä»¶ä¸­æŠ½å–æ•°æ®ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220826213247.png\" alt=\"img\"></p>\n<p>ä¸€æ®µæ—¶é—´åï¼Œä½ å‘ç°è¿™ä¸‰ä¸ªç±»ä¸­åŒ…å«è®¸å¤šç›¸ä¼¼ä»£ç ã€‚ å°½ç®¡è¿™äº›ç±»å¤„ç†ä¸åŒæ•°æ®æ ¼å¼çš„ä»£ç å®Œå…¨ä¸åŒï¼Œä½†æ•°æ®å¤„ç†å’Œåˆ†æçš„ä»£ç å´å‡ ä¹å®Œå…¨ä¸€æ ·ã€‚å¦‚æœèƒ½åœ¨ä¿æŒç®—æ³•ç»“æ„å®Œæ•´çš„æƒ…å†µä¸‹å»é™¤é‡å¤ä»£ç ï¼Œè¿™éš¾é“ä¸æ˜¯ä¸€ä»¶å¾ˆæ£’çš„äº‹æƒ…å—ï¼Ÿ</p>\n<p>è¿˜æœ‰å¦ä¸€ä¸ªä¸ä½¿ç”¨è¿™äº›ç±»çš„å®¢æˆ·ç«¯ä»£ç ç›¸å…³çš„é—®é¢˜ï¼šå®¢æˆ·ç«¯ä»£ç ä¸­åŒ…å«è®¸å¤šæ¡ä»¶è¯­å¥ï¼Œä»¥æ ¹æ®ä¸åŒçš„å¤„ç†å¯¹è±¡ç±»å‹é€‰æ‹©åˆé€‚çš„å¤„ç†è¿‡ç¨‹ã€‚å¦‚æœæ‰€æœ‰å¤„ç†æ•°æ®çš„ç±»éƒ½æ‹¥æœ‰ç›¸åŒçš„æ¥å£æˆ–åŸºç±»ï¼Œé‚£ä¹ˆä½ å°±å¯ä»¥å»é™¤å®¢æˆ·ç«¯ä»£ç ä¸­çš„æ¡ä»¶è¯­å¥ï¼Œè½¬è€Œä½¿ç”¨å¤šæ€æœºåˆ¶æ¥åœ¨å¤„ç†å¯¹è±¡ä¸Šè°ƒç”¨å‡½æ•°ã€‚</p>\n<h5 id=\"è§£å†³æ–¹æ¡ˆ-20\"><a href=\"#è§£å†³æ–¹æ¡ˆ-20\" class=\"headerlink\" title=\"è§£å†³æ–¹æ¡ˆ\"></a>è§£å†³æ–¹æ¡ˆ</h5><p>æ¨¡æ¿æ–¹æ³•æ¨¡å¼å»ºè®®å°†ç®—æ³•åˆ†è§£ä¸ºä¸€ç³»åˆ—æ­¥éª¤ï¼Œç„¶åå°†è¿™äº›æ­¥éª¤æ”¹å†™ä¸ºæ–¹æ³•ï¼Œæœ€ååœ¨ â€œæ¨¡æ¿æ–¹æ³•â€ ä¸­ä¾æ¬¡è°ƒç”¨è¿™äº›æ–¹æ³•ã€‚æ­¥éª¤å¯ä»¥æ˜¯æŠ½è±¡çš„ï¼Œä¹Ÿå¯ä»¥æœ‰ä¸€äº›é»˜è®¤çš„å®ç°ã€‚ä¸ºäº†èƒ½å¤Ÿä½¿ç”¨ç®—æ³•ï¼Œå®¢æˆ·ç«¯éœ€è¦è‡ªè¡Œæä¾›å­ç±»å¹¶å®ç°æ‰€æœ‰çš„æŠ½è±¡æ­¥éª¤ã€‚å¦‚æœ‰å¿…è¦è¿˜éœ€é‡å†™ä¸€äº›æ­¥éª¤ ï¼ˆä½†è¿™ä¸€æ­¥ä¸­ä¸åŒ…æ‹¬æ¨¡æ¿æ–¹æ³•è‡ªèº«ï¼‰ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220826213427.png\" alt=\"img\"></p>\n<p>é¦–å…ˆï¼Œ æˆ‘ä»¬å°†æ‰€æœ‰æ­¥éª¤å£°æ˜ä¸º æŠ½è±¡ç±»å‹ï¼Œ å¼ºåˆ¶è¦æ±‚å­ç±»è‡ªè¡Œå®ç°è¿™äº›æ–¹æ³•ã€‚ åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œ å­ç±»ä¸­å·²æœ‰æ‰€æœ‰å¿…è¦çš„å®ç°ï¼Œ å› æ­¤æˆ‘ä»¬åªéœ€è°ƒæ•´è¿™äº›æ–¹æ³•çš„ç­¾åï¼Œ ä½¿ä¹‹ä¸è¶…ç±»çš„æ–¹æ³•åŒ¹é…å³å¯ã€‚</p>\n<p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•å»é™¤é‡å¤ä»£ç ã€‚å¯¹äºä¸åŒçš„æ•°æ®æ ¼å¼ï¼Œæ‰“å¼€å’Œå…³é—­æ–‡ä»¶ä»¥åŠæŠ½å–å’Œè§£ææ•°æ®çš„ä»£ç éƒ½ä¸åŒï¼Œå› æ­¤æ— éœ€ä¿®æ”¹è¿™äº›æ–¹æ³•ã€‚ä½†åˆ†æåŸå§‹æ•°æ®å’Œç”ŸæˆæŠ¥å‘Šç­‰å…¶ä»–æ­¥éª¤çš„å®ç°æ–¹å¼éå¸¸ç›¸ä¼¼ï¼Œå› æ­¤å¯å°†å…¶æå–åˆ°åŸºç±»ä¸­ï¼Œä»¥è®©å­ç±»å…±äº«è¿™äº›ä»£ç ã€‚</p>\n<p>æ­£å¦‚ä½ æ‰€çœ‹åˆ°çš„é‚£æ ·ï¼Œæˆ‘ä»¬æœ‰ä¸¤ç§ç±»å‹çš„æ­¥éª¤ï¼š</p>\n<ul>\n<li>æŠ½è±¡æ­¥éª¤å¿…é¡»ç”±å„ä¸ªå­ç±»æ¥å®ç°</li>\n<li>å¯é€‰æ­¥éª¤å·²æœ‰ä¸€äº›é»˜è®¤å®ç°ï¼Œä½†ä»å¯åœ¨éœ€è¦æ—¶è¿›è¡Œé‡å†™</li>\n</ul>\n<p>è¿˜æœ‰å¦ä¸€ç§åä¸ºé’©å­çš„æ­¥éª¤ã€‚é’©å­æ˜¯å†…å®¹ä¸ºç©ºçš„å¯é€‰æ­¥éª¤ã€‚å³ä½¿ä¸é‡å†™é’©å­ï¼Œæ¨¡æ¿æ–¹æ³•ä¹Ÿèƒ½å·¥ä½œã€‚é’©å­é€šå¸¸æ”¾ç½®åœ¨ç®—æ³•é‡è¦æ­¥éª¤çš„å‰åï¼Œä¸ºå­ç±»æä¾›é¢å¤–çš„ç®—æ³•æ‰©å±•ç‚¹ã€‚</p>\n<h5 id=\"æ¨¡æ¿æ–¹æ³•æ¨¡å¼ç»“æ„\"><a href=\"#æ¨¡æ¿æ–¹æ³•æ¨¡å¼ç»“æ„\" class=\"headerlink\" title=\"æ¨¡æ¿æ–¹æ³•æ¨¡å¼ç»“æ„\"></a>æ¨¡æ¿æ–¹æ³•æ¨¡å¼ç»“æ„</h5><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220826214113.png\" alt=\"img\"></p>\n<p>1.<strong>æŠ½è±¡ç±»(AbstractÂ­Class)</strong> ä¼šå£°æ˜ä½œä¸ºç®—æ³•æ­¥éª¤çš„æ–¹æ³•ï¼Œä»¥åŠä¾æ¬¡è°ƒç”¨å®ƒä»¬çš„å®é™…æ¨¡æ¿æ–¹æ³•ã€‚ç®—æ³•æ­¥éª¤å¯ä»¥è¢«å£°æ˜ä¸º æŠ½è±¡ç±»å‹ï¼Œä¹Ÿå¯ä»¥æä¾›ä¸€äº›é»˜è®¤å®ç°ã€‚</p>\n<p>2.<strong>å…·ä½“ç±»(ConÂ­creteÂ­Class)</strong> å¯ä»¥é‡å†™æ‰€æœ‰æ­¥éª¤ï¼Œä½†ä¸èƒ½é‡å†™æ¨¡æ¿æ–¹æ³•è‡ªèº«ã€‚</p>\n<h5 id=\"ä¼ªä»£ç -20\"><a href=\"#ä¼ªä»£ç -20\" class=\"headerlink\" title=\"ä¼ªä»£ç \"></a>ä¼ªä»£ç </h5><p>æœ¬ä¾‹ä¸­çš„æ¨¡æ¿æ–¹æ³•æ¨¡å¼ä¸ºä¸€æ¬¾ç®€å•ç­–ç•¥æ¸¸æˆä¸­äººå·¥æ™ºèƒ½çš„ä¸åŒåˆ†æ”¯æä¾› â€œæ¡†æ¶â€ã€‚æ¸¸æˆä¸­æ‰€æœ‰çš„ç§æ—éƒ½æœ‰å‡ ä¹åŒç±»çš„å•ä½å’Œå»ºç­‘ã€‚å› æ­¤ä½ å¯ä»¥åœ¨ä¸åŒçš„ç§æ—ä¸Šå¤ç”¨ç›¸åŒçš„ AI ç»“æ„ï¼ŒåŒæ—¶è¿˜éœ€è¦å…·å¤‡é‡å†™ä¸€äº›ç»†èŠ‚çš„èƒ½åŠ›ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œä½ å¯ä»¥é‡å†™åŠå…½äººçš„ AI ä½¿å…¶æ›´å¯Œæ”»å‡»æ€§ï¼Œä¹Ÿå¯ä»¥è®©äººç±»ä¾§é‡é˜²å®ˆï¼Œè¿˜å¯ä»¥ç¦æ­¢æ€ªç‰©å»ºé€ å»ºç­‘ã€‚åœ¨æ¸¸æˆä¸­æ–°å¢ç§æ—éœ€è¦åˆ›å»ºæ–°çš„ AI å­ç±»ï¼Œè¿˜éœ€è¦é‡å†™ AI åŸºç±»ä¸­æ‰€å£°æ˜çš„é»˜è®¤æ–¹æ³•ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220826214223.png\" alt=\"img\"></p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//è¿™ä¸‹çœŸçš„æ˜¯ä¼ªä»£ç äº†</span></span><br><span class=\"line\"><span class=\"comment\">// æŠ½è±¡ç±»å®šä¹‰äº†ä¸€ä¸ªæ¨¡æ¿æ–¹æ³•ï¼Œå…¶ä¸­é€šå¸¸ä¼šåŒ…å«æŸä¸ªç”±æŠ½è±¡åŸè¯­æ“ä½œè°ƒç”¨ç»„æˆçš„ç®—</span></span><br><span class=\"line\"><span class=\"comment\">// æ³•æ¡†æ¶ã€‚å…·ä½“å­ç±»ä¼šå®ç°è¿™äº›æ“ä½œï¼Œä½†æ˜¯ä¸ä¼šå¯¹æ¨¡æ¿æ–¹æ³•åšå‡ºä¿®æ”¹ã€‚</span></span><br><span class=\"line\"><span class=\"keyword\">abstract</span> <span class=\"keyword\">class</span> <span class=\"title\">GameAI</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">//æŸäº›æ­¥éª¤å¯ä»¥åœ¨åŸºç±»ä¸­å®ç°</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">turn</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        collectResources();</span><br><span class=\"line\">        buildStructures();</span><br><span class=\"line\">        buildUnits();</span><br><span class=\"line\">        attack();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">collectResources</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">foreach</span>(<span class=\"keyword\">var</span> s <span class=\"keyword\">in</span> <span class=\"keyword\">this</span>.builtStructures)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            s.collect();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> <span class=\"keyword\">void</span> <span class=\"title\">buildStructures</span>()</span>;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> <span class=\"keyword\">void</span> <span class=\"title\">buildUnits</span>()</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">attack</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> enemy = cloestEnemy();</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(enemy == <span class=\"literal\">null</span>)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            sendScouts(map.center);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">else</span> </span><br><span class=\"line\">            sendWarriors(enemy.position);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> <span class=\"keyword\">void</span> <span class=\"title\">sendScouts</span>(<span class=\"params\">position</span>)</span>;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> <span class=\"keyword\">void</span> <span class=\"title\">sendWarriors</span>(<span class=\"params\">position</span>)</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">OrcsAI</span> : <span class=\"title\">GameAI</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">override</span> <span class=\"keyword\">void</span> <span class=\"title\">buildStructures</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (there are some resources) </span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"comment\">// å»ºé€ å†œåœºï¼Œæ¥ç€æ˜¯è°·ä»“ï¼Œç„¶åæ˜¯è¦å¡ã€‚</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">override</span> <span class=\"keyword\">void</span> <span class=\"title\">buildUnits</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (there are plenty of resources) </span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (there are no scouts)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"comment\">// å»ºé€ è‹¦å·¥ï¼Œå°†å…¶åŠ å…¥ä¾¦æŸ¥ç¼–ç»„ã€‚</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">else</span></span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"comment\">// å»ºé€ å…½æ—æ­¥å…µï¼Œå°†å…¶åŠ å…¥æˆ˜å£«ç¼–ç»„ã€‚</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">override</span> <span class=\"keyword\">void</span> <span class=\"title\">sendScouts</span>(<span class=\"params\">position</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(scouts.length &gt; <span class=\"number\">0</span>)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"comment\">// å°†ä¾¦æŸ¥ç¼–ç»„é€åˆ°æŒ‡å®šä½ç½®ã€‚</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">override</span> <span class=\"keyword\">void</span> <span class=\"title\">sendWarriors</span>(<span class=\"params\">position</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(warriors.length &gt; <span class=\"number\">5</span>)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"comment\">// å°†æˆ˜æ–—ç¼–ç»„é€åˆ°æŒ‡å®šä½ç½®ã€‚</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">MonstersAI</span> : <span class=\"title\">GameAI</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">override</span> <span class=\"keyword\">void</span> <span class=\"title\">collectResources</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">// æ€ªç‰©ä¸ä¼šé‡‡é›†èµ„æºã€‚</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">override</span> <span class=\"keyword\">void</span> <span class=\"title\">buildStructures</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">// æ€ªç‰©ä¸ä¼šå»ºé€ å»ºç­‘ã€‚</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">override</span> <span class=\"keyword\">void</span> <span class=\"title\">buildUnits</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">// æ€ªç‰©ä¸ä¼šå»ºé€ å•ä½ã€‚</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"é€‚åˆæ¨¡æ¿æ–¹æ³•æ¨¡å¼çš„åœ°æ–¹\"><a href=\"#é€‚åˆæ¨¡æ¿æ–¹æ³•æ¨¡å¼çš„åœ°æ–¹\" class=\"headerlink\" title=\"é€‚åˆæ¨¡æ¿æ–¹æ³•æ¨¡å¼çš„åœ°æ–¹\"></a>é€‚åˆæ¨¡æ¿æ–¹æ³•æ¨¡å¼çš„åœ°æ–¹</h5><ul>\n<li>å½“ä½ åªå¸Œæœ›å®¢æˆ·ç«¯æ‰©å±•æŸä¸ªç‰¹å®šç®—æ³•æ­¥éª¤ï¼Œè€Œä¸æ˜¯æ•´ä¸ªç®—æ³•æˆ–å…¶ç»“æ„æ—¶ï¼Œå¯ä½¿ç”¨æ¨¡æ¿æ–¹æ³•æ¨¡å¼ã€‚</li>\n<li>å½“å¤šä¸ªç±»çš„ç®—æ³•é™¤ä¸€äº›ç»†å¾®ä¸åŒä¹‹å¤–å‡ ä¹å®Œå…¨ä¸€æ ·æ—¶ï¼Œä½ å¯ä½¿ç”¨è¯¥æ¨¡å¼ã€‚ä½†å…¶åæœå°±æ˜¯ï¼Œåªè¦ç®—æ³•å‘ç”Ÿå˜åŒ–ï¼Œä½ å°±å¯èƒ½éœ€è¦ä¿®æ”¹æ‰€æœ‰çš„ç±»ã€‚</li>\n</ul>\n<h5 id=\"æ¨¡æ¿æ–¹æ³•çš„ä¼˜ç¼ºç‚¹\"><a href=\"#æ¨¡æ¿æ–¹æ³•çš„ä¼˜ç¼ºç‚¹\" class=\"headerlink\" title=\"æ¨¡æ¿æ–¹æ³•çš„ä¼˜ç¼ºç‚¹\"></a>æ¨¡æ¿æ–¹æ³•çš„ä¼˜ç¼ºç‚¹</h5><p><strong>ä¼˜ç‚¹</strong> ï¼š</p>\n<ul>\n<li>ä½ å¯ä»…å…è®¸å®¢æˆ·ç«¯é‡å†™ä¸€ä¸ªå¤§å‹ç®—æ³•ä¸­çš„ç‰¹å®šéƒ¨åˆ†ï¼Œä½¿å¾—ç®—æ³•å…¶ä»–éƒ¨åˆ†ä¿®æ”¹å¯¹å…¶æ‰€é€ æˆçš„å½±å“å‡å°ã€‚</li>\n<li>ä½ å¯å°†é‡å¤ä»£ç æå–åˆ°ä¸€ä¸ªè¶…ç±»ä¸­ã€‚</li>\n</ul>\n<p><strong>ç¼ºç‚¹</strong> ï¼š</p>\n<ul>\n<li>éƒ¨åˆ†å®¢æˆ·ç«¯å¯èƒ½ä¼šå—åˆ°ç®—æ³•æ¡†æ¶çš„é™åˆ¶ã€‚</li>\n<li>é€šè¿‡å­ç±»æŠ‘åˆ¶é»˜è®¤æ­¥éª¤å®ç°å¯èƒ½ä¼šå¯¼è‡´è¿åé‡Œæ°æ›¿æ¢åŸåˆ™(Liskov)ã€‚</li>\n<li>æ¨¡æ¿æ–¹æ³•ä¸­çš„æ­¥éª¤è¶Šå¤šï¼Œ å…¶ç»´æŠ¤å·¥ä½œå°±å¯èƒ½ä¼šè¶Šå›°éš¾ã€‚</li>\n</ul>\n<h4 id=\"Visitor-è®¿é—®è€…æ¨¡å¼\"><a href=\"#Visitor-è®¿é—®è€…æ¨¡å¼\" class=\"headerlink\" title=\"Visitor(è®¿é—®è€…æ¨¡å¼)\"></a>Visitor(è®¿é—®è€…æ¨¡å¼)</h4><p>è®¿é—®è€…æ¨¡å¼æ˜¯ä¸€ç§è¡Œä¸ºè®¾è®¡æ¨¡å¼ï¼Œå®ƒèƒ½å°†ç®—æ³•ä¸å…¶æ‰€ä½œç”¨çš„å¯¹è±¡éš”ç¦»å¼€æ¥ã€‚</p>\n<h5 id=\"é—®é¢˜-21\"><a href=\"#é—®é¢˜-21\" class=\"headerlink\" title=\"é—®é¢˜\"></a>é—®é¢˜</h5><p>å‡å¦‚ä½ çš„å›¢é˜Ÿå¼€å‘äº†ä¸€æ¬¾èƒ½å¤Ÿä½¿ç”¨å·¨å‹å›¾åƒä¸­åœ°ç†ä¿¡æ¯çš„åº”ç”¨ç¨‹åºã€‚å›¾åƒä¸­çš„æ¯ä¸ªèŠ‚ç‚¹æ—¢èƒ½ä»£è¡¨å¤æ‚å®ä½“ ï¼ˆä¾‹å¦‚ä¸€åº§åŸå¸‚ï¼‰ï¼Œä¹Ÿèƒ½ä»£è¡¨æ›´ç²¾ç»†çš„å¯¹è±¡ ï¼ˆä¾‹å¦‚å·¥ä¸šåŒºå’Œæ—…æ¸¸æ™¯ç‚¹ç­‰ï¼‰ã€‚å¦‚æœèŠ‚ç‚¹ä»£è¡¨çš„çœŸå®å¯¹è±¡ä¹‹é—´å­˜åœ¨å…¬è·¯ï¼Œé‚£ä¹ˆè¿™äº›èŠ‚ç‚¹å°±ä¼šç›¸äº’è¿æ¥ã€‚åœ¨ç¨‹åºå†…éƒ¨ï¼Œæ¯ä¸ªèŠ‚ç‚¹çš„ç±»å‹éƒ½ç”±å…¶æ‰€å±çš„ç±»æ¥è¡¨ç¤ºï¼Œæ¯ä¸ªç‰¹å®šçš„èŠ‚ç‚¹åˆ™æ˜¯ä¸€ä¸ªå¯¹è±¡ã€‚</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220826224114.png\" alt=\"img\"></p>\n<p>ä¸€æ®µæ—¶é—´åï¼Œä½ æ¥åˆ°äº†å®ç°å°†å›¾åƒå¯¼å‡ºåˆ° XML æ–‡ä»¶ä¸­çš„ä»»åŠ¡ã€‚è¿™äº›å·¥ä½œæœ€åˆçœ‹ä¸Šå»éå¸¸ç®€å•ã€‚ä½ è®¡åˆ’ä¸ºæ¯ä¸ªèŠ‚ç‚¹ç±»æ·»åŠ å¯¼å‡ºå‡½æ•°ï¼Œç„¶åé€’å½’æ‰§è¡Œå›¾åƒä¸­æ¯ä¸ªèŠ‚ç‚¹çš„å¯¼å‡ºå‡½æ•°ã€‚è§£å†³æ–¹æ¡ˆç®€å•ä¸”ä¼˜é›…ï¼šä½¿ç”¨å¤šæ€æœºåˆ¶å¯ä»¥è®©å¯¼å‡ºæ–¹æ³•çš„è°ƒç”¨ä»£ç ä¸ä¼šå’Œå…·ä½“çš„èŠ‚ç‚¹ç±»ç›¸è€¦åˆã€‚</p>\n<p>ä½†ä½ ä¸å¤ªèµ°è¿ï¼Œç³»ç»Ÿæ¶æ„å¸ˆæ‹’ç»æ‰¹å‡†å¯¹å·²æœ‰èŠ‚ç‚¹ç±»è¿›è¡Œä¿®æ”¹ã€‚ä»–è®¤ä¸ºè¿™äº›ä»£ç å·²ç»æ˜¯äº§å“äº†ï¼Œä¸æƒ³å†’é™©å¯¹å…¶è¿›è¡Œä¿®æ”¹ï¼Œå› ä¸ºä¿®æ”¹å¯èƒ½ä¼šå¼•å…¥æ½œåœ¨çš„ç¼ºé™·ã€‚</p>\n<p>æ­¤å¤–ï¼Œä»–è¿˜è´¨ç–‘åœ¨èŠ‚ç‚¹ç±»ä¸­åŒ…å«å¯¼å‡º XML æ–‡ä»¶çš„ä»£ç æ˜¯å¦æœ‰æ„ä¹‰ã€‚è¿™äº›ç±»çš„ä¸»è¦å·¥ä½œæ˜¯å¤„ç†åœ°ç†æ•°æ®ã€‚å¯¼å‡º XML æ–‡ä»¶çš„ä»£ç æ”¾åœ¨è¿™é‡Œå¹¶ä¸åˆé€‚ã€‚</p>\n<p>è¿˜æœ‰å¦ä¸€ä¸ªåŸå› ï¼Œé‚£å°±æ˜¯åœ¨æ­¤é¡¹ä»»åŠ¡å®Œæˆåï¼Œè¥é”€éƒ¨é—¨å¾ˆæœ‰å¯èƒ½ä¼šè¦æ±‚ç¨‹åºæä¾›å¯¼å‡ºå…¶ä»–ç±»å‹æ–‡ä»¶çš„åŠŸèƒ½ï¼Œæˆ–è€…æå‡ºå…¶ä»–å¥‡æ€ªçš„è¦æ±‚ã€‚è¿™æ ·ä½ å¾ˆå¯èƒ½ä¼šè¢«è¿«å†æ¬¡ä¿®æ”¹è¿™äº›é‡è¦ä½†è„†å¼±çš„ç±»ã€‚</p>\n<h5 id=\"è§£å†³æ–¹æ¡ˆ-21\"><a href=\"#è§£å†³æ–¹æ¡ˆ-21\" class=\"headerlink\" title=\"è§£å†³æ–¹æ¡ˆ\"></a>è§£å†³æ–¹æ¡ˆ</h5><p>è®¿é—®è€…æ¨¡å¼å»ºè®®å°†<strong>æ–°è¡Œä¸ºæ”¾å…¥ä¸€ä¸ªåä¸ºè®¿é—®è€…çš„ç‹¬ç«‹ç±»ä¸­ï¼Œè€Œä¸æ˜¯è¯•å›¾å°†å…¶æ•´åˆåˆ°å·²æœ‰ç±»ä¸­</strong>ã€‚ç°åœ¨ï¼Œéœ€è¦æ‰§è¡Œæ“ä½œçš„åŸå§‹å¯¹è±¡å°†ä½œä¸ºå‚æ•°è¢«ä¼ é€’ç»™è®¿é—®è€…ä¸­çš„æ–¹æ³•ï¼Œè®©æ–¹æ³•èƒ½è®¿é—®å¯¹è±¡æ‰€åŒ…å«çš„ä¸€åˆ‡å¿…è¦æ•°æ®ã€‚</p>\n<h5 id=\"è®¿é—®è€…æ¨¡å¼ç»“æ„\"><a href=\"#è®¿é—®è€…æ¨¡å¼ç»“æ„\" class=\"headerlink\" title=\"è®¿é—®è€…æ¨¡å¼ç»“æ„\"></a>è®¿é—®è€…æ¨¡å¼ç»“æ„</h5><p><img src=\"https://cdn.jsdelivr.net/gh/talentstream/PictureCDN/DesignPatternsRuMen/20220826230156.png\" alt=\"img\"></p>\n<p>1.<strong>è®¿é—®è€…(VisÂ­iÂ­tor)</strong> æ¥å£å£°æ˜äº†ä¸€ç³»åˆ—ä»¥å¯¹è±¡ç»“æ„çš„å…·ä½“å…ƒç´ ä¸ºå‚æ•°çš„è®¿é—®è€…æ–¹æ³•ã€‚å¦‚æœç¼–ç¨‹è¯­è¨€æ”¯æŒé‡è½½ï¼Œè¿™äº›æ–¹æ³•çš„åç§°å¯ä»¥æ˜¯ç›¸åŒçš„ï¼Œä½†æ˜¯å…¶å‚æ•°ä¸€å®šæ˜¯ä¸åŒçš„ã€‚</p>\n<p>2.<strong>å…·ä½“è®¿é—®è€…(ConÂ­crete VisÂ­iÂ­tor)</strong> ä¼šä¸ºä¸åŒçš„å…·ä½“å…ƒç´ ç±»å®ç°ç›¸åŒè¡Œä¸ºçš„å‡ ä¸ªä¸åŒç‰ˆæœ¬ã€‚</p>\n<p>3.<strong>å…ƒç´ (EleÂ­ment)</strong> æ¥å£å£°æ˜äº†ä¸€ä¸ªæ–¹æ³•æ¥ â€œæ¥æ”¶â€ è®¿é—®è€…ã€‚è¯¥æ–¹æ³•å¿…é¡»æœ‰ä¸€ä¸ªå‚æ•°è¢«å£°æ˜ä¸ºè®¿é—®è€…æ¥å£ç±»å‹ã€‚</p>\n<p>4.<strong>å…·ä½“å…ƒç´ (ConÂ­crete EleÂ­ment)</strong> å¿…é¡»å®ç°æ¥æ”¶æ–¹æ³•ã€‚è¯¥æ–¹æ³•çš„ç›®çš„æ˜¯æ ¹æ®å½“å‰å…ƒç´ ç±»å°†å…¶è°ƒç”¨é‡å®šå‘åˆ°ç›¸åº”è®¿é—®è€…çš„æ–¹æ³•ã€‚è¯·æ³¨æ„ï¼Œå³ä½¿å…ƒç´ åŸºç±»å®ç°äº†è¯¥æ–¹æ³•ï¼Œæ‰€æœ‰å­ç±»éƒ½å¿…é¡»å¯¹å…¶è¿›è¡Œé‡å†™å¹¶è°ƒç”¨è®¿é—®è€…å¯¹è±¡ä¸­çš„åˆé€‚æ–¹æ³•ã€‚</p>\n<p>5.<strong>å®¢æˆ·ç«¯(Client)</strong> é€šå¸¸ä¼šä½œä¸ºé›†åˆæˆ–å…¶ä»–å¤æ‚å¯¹è±¡ï¼ˆä¾‹å¦‚ä¸€ä¸ªç»„åˆæ ‘ï¼‰çš„ä»£è¡¨ã€‚å®¢æˆ·ç«¯é€šå¸¸ä¸çŸ¥æ™“æ‰€æœ‰çš„å…·ä½“å…ƒç´ ç±»ï¼Œå› ä¸ºå®ƒä»¬ä¼šé€šè¿‡æŠ½è±¡æ¥å£ä¸é›†åˆä¸­çš„å¯¹è±¡è¿›è¡Œäº¤äº’ã€‚</p>\n<h5 id=\"ä¼ªä»£ç -21\"><a href=\"#ä¼ªä»£ç -21\" class=\"headerlink\" title=\"ä¼ªä»£ç \"></a>ä¼ªä»£ç </h5><p>è®¿é—®è€…ä¸æ˜¯å¸¸ç”¨çš„è®¾è®¡æ¨¡å¼ï¼Œå› ä¸ºå®ƒä¸ä»…å¤æ‚ï¼Œåº”ç”¨èŒƒå›´ä¹Ÿæ¯”è¾ƒç‹­çª„ã€‚</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//Componentæ¥å£å£°æ˜ä¸€ä¸ªacceptæ–¹æ³•æ¥ä½¿ç”¨visitoræ¥å£</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title\">IComponent</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">Accept</span>(<span class=\"params\">IVisitor visitor</span>)</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//å…·ä½“Componentç±»</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">ConcreteComponentA</span> : <span class=\"title\">IComponent</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Accept</span>(<span class=\"params\">IVisitor visitor</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        visitor.VisitCOncreteComponentA(<span class=\"keyword\">this</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//å…·ä½“Componentç±»ä¸­ä¸€äº›è‡ªå·±çš„æ–¹æ³•</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"built_in\">string</span> <span class=\"title\">ExclusiveMethodOfConcreteComponentA</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">&quot;A&quot;</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">ConcreteComponentB</span> : <span class=\"title\">IComponent</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Accept</span>(<span class=\"params\">IVisitor visitor</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        visitor.VisitCOncreteComponentB(<span class=\"keyword\">this</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//å…·ä½“Componentç±»ä¸­ä¸€äº›è‡ªå·±çš„æ–¹æ³•</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"built_in\">string</span> <span class=\"title\">ExclusiveMethodOfConcreteComponentB</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">&quot;B&quot;</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//Visitoræ¥å£å£°æ˜ä¸€ç³»åˆ—è®¿é—®Componentçš„æ–¹æ³•</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title\">IVisitor</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">VisitConcreteComponentA</span>(<span class=\"params\">ConcreteComponentA element</span>)</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">VisitConcreteComponentB</span>(<span class=\"params\">ConcreteComponentB element</span>)</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">ConcreteVisitor1</span> : <span class=\"title\">IVisitor</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">VisitConcreteComponentA</span>(<span class=\"params\">ConcreteComponentA element</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Console.WriteLine(element.ExclusiveMethodOfConcreteComponentA() + <span class=\"string\">&quot; + ConcreteVisitor1&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">VisitConcreteComponentB</span>(<span class=\"params\">ConcreteComponentB element</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Console.WriteLine(element.SpecialMethodOfConcreteComponentB() + <span class=\"string\">&quot; + ConcreteVisitor1&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">ConcreteVisitor2</span> : <span class=\"title\">IVisitor</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">VisitConcreteComponentA</span>(<span class=\"params\">ConcreteComponentA element</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Console.WriteLine(element.ExclusiveMethodOfConcreteComponentA() + <span class=\"string\">&quot; + ConcreteVisitor2&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">VisitConcreteComponentB</span>(<span class=\"params\">ConcreteComponentB element</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Console.WriteLine(element.SpecialMethodOfConcreteComponentB() + <span class=\"string\">&quot; + ConcreteVisitor2&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">Client</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">ClientCode</span>(<span class=\"params\">List&lt;IComponent&gt; components, IVisitor visitor</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">foreach</span> (<span class=\"keyword\">var</span> component <span class=\"keyword\">in</span> components)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            component.Accept(visitor);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//å®¢æˆ·ç«¯ä»£ç </span></span><br><span class=\"line\">List&lt;IComponent&gt; components = <span class=\"keyword\">new</span> List&lt;IComponent&gt;</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">new</span> ConcreteComponentA(),</span><br><span class=\"line\">    <span class=\"keyword\">new</span> ConcreteComponentB()</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">Console.WriteLine(<span class=\"string\">&quot;The client code works with all visitors via the base Visitor interface:&quot;</span>);</span><br><span class=\"line\"><span class=\"keyword\">var</span> visitor1 = <span class=\"keyword\">new</span> ConcreteVisitor1();</span><br><span class=\"line\">Client.ClientCode(components,visitor1);</span><br><span class=\"line\"></span><br><span class=\"line\">Console.WriteLine();</span><br><span class=\"line\"></span><br><span class=\"line\">Console.WriteLine(<span class=\"string\">&quot;It allows the same client code to work with different types of visitors:&quot;</span>);</span><br><span class=\"line\"><span class=\"keyword\">var</span> visitor2 = <span class=\"keyword\">new</span> ConcreteVisitor2();</span><br><span class=\"line\">Client.ClientCode(components, visitor2);</span><br><span class=\"line\"><span class=\"comment\">/*è¿è¡Œç»“æœ</span></span><br><span class=\"line\"><span class=\"comment\">The client code works with all visitors via the base Visitor interface:</span></span><br><span class=\"line\"><span class=\"comment\">A + ConcreteVisitor1</span></span><br><span class=\"line\"><span class=\"comment\">B + ConcreteVisitor1</span></span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\">It allows the same client code to work with different types of visitors:</span></span><br><span class=\"line\"><span class=\"comment\">A + ConcreteVisitor2</span></span><br><span class=\"line\"><span class=\"comment\">B + ConcreteVisitor2</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br></pre></td></tr></table></figure>\n\n<h5 id=\"é€‚åˆè®¿é—®è€…æ¨¡å¼çš„åœ°æ–¹\"><a href=\"#é€‚åˆè®¿é—®è€…æ¨¡å¼çš„åœ°æ–¹\" class=\"headerlink\" title=\"é€‚åˆè®¿é—®è€…æ¨¡å¼çš„åœ°æ–¹\"></a>é€‚åˆè®¿é—®è€…æ¨¡å¼çš„åœ°æ–¹</h5><ul>\n<li>å¦‚æœä½ éœ€è¦å¯¹ä¸€ä¸ªå¤æ‚å¯¹è±¡ç»“æ„ï¼ˆä¾‹å¦‚å¯¹è±¡æ ‘ï¼‰ä¸­çš„æ‰€æœ‰å…ƒç´ æ‰§è¡ŒæŸäº›æ“ä½œï¼Œå¯ä½¿ç”¨è®¿é—®è€…æ¨¡å¼ã€‚</li>\n<li>å¯ä½¿ç”¨è®¿é—®è€…æ¨¡å¼æ¥æ¸…ç†è¾…åŠ©è¡Œä¸ºçš„ä¸šåŠ¡é€»è¾‘ã€‚</li>\n<li>å½“æŸä¸ªè¡Œä¸ºä»…åœ¨ç±»å±‚æ¬¡ç»“æ„ä¸­çš„ä¸€äº›ç±»ä¸­æœ‰æ„ä¹‰ï¼Œ è€Œåœ¨å…¶ä»–ç±»ä¸­æ²¡æœ‰æ„ä¹‰æ—¶ï¼Œå¯ä½¿ç”¨è¯¥æ¨¡å¼ã€‚</li>\n</ul>\n<h5 id=\"è®¿é—®è€…æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"><a href=\"#è®¿é—®è€…æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\" class=\"headerlink\" title=\"è®¿é—®è€…æ¨¡å¼çš„ä¼˜ç¼ºç‚¹\"></a>è®¿é—®è€…æ¨¡å¼çš„ä¼˜ç¼ºç‚¹</h5><p><strong>ä¼˜ç‚¹</strong> ï¼š</p>\n<ul>\n<li>ç¬¦åˆOCP</li>\n<li>ç¬¦åˆSRP</li>\n<li>è®¿é—®è€…å¯¹è±¡å¯ä»¥åœ¨ä¸å„ç§å¯¹è±¡äº¤äº’æ—¶æ”¶é›†ä¸€äº›æœ‰ç”¨çš„ä¿¡æ¯ã€‚å½“ä½ æƒ³è¦éå†ä¸€äº›å¤æ‚çš„å¯¹è±¡ç»“æ„ï¼ˆä¾‹å¦‚å¯¹è±¡æ ‘ï¼‰ï¼Œå¹¶åœ¨ç»“æ„ä¸­çš„æ¯ä¸ªå¯¹è±¡ä¸Šåº”ç”¨è®¿é—®è€…æ—¶ï¼Œè¿™äº›ä¿¡æ¯å¯èƒ½ä¼šæœ‰æ‰€å¸®åŠ©ã€‚</li>\n</ul>\n<p><strong>ç¼ºç‚¹</strong> ï¼š</p>\n<ul>\n<li>æ¯æ¬¡åœ¨å…ƒç´ å±‚æ¬¡ç»“æ„ä¸­æ·»åŠ æˆ–ç§»é™¤ä¸€ä¸ªç±»æ—¶ï¼Œä½ éƒ½è¦æ›´æ–°æ‰€æœ‰çš„è®¿é—®è€…ã€‚</li>\n<li>åœ¨è®¿é—®è€…åŒæŸä¸ªå…ƒç´ è¿›è¡Œäº¤äº’æ—¶ï¼Œ å®ƒä»¬å¯èƒ½æ²¡æœ‰è®¿é—®å…ƒç´ ç§æœ‰æˆå‘˜å˜é‡å’Œæ–¹æ³•çš„å¿…è¦æƒé™ã€‚</li>\n</ul>\n<h3 id=\"åè®°\"><a href=\"#åè®°\" class=\"headerlink\" title=\"åè®°\"></a>åè®°</h3><p>è¿™æ¬¡èŠ±äº†å·®ä¸å¤š20å¤©çš„æ—¶é—´æ¥å†™è¿™ä¸€ä¸ªåšå®¢è®°å½•ä¸€ä¸‹å…³äºè®¾è®¡æ¨¡å¼çš„å­¦ä¹ ï¼Œå…¶å®çœ‹ä¹¦çš„æ—¶é—´ä¸ç®—é•¿ï¼Œä¸»è¦èŠ±æ—¶é—´çš„æ˜¯å†™å‡ºè®©äººå®¹æ˜“æ‡‚çš„åšå®¢ã€‚å­¦ä¹ äº†åˆæ­¥çš„è®¾è®¡æ¨¡å¼çš„çŸ¥è¯†ï¼Œä»¥å‰çœ‹è¿‡çš„ä½†æ˜¯ä¸æ˜¯å¾ˆæ‡‚çš„çŸ¥è¯†çªç„¶å°±æ˜ç™½äº†ä¸€äº›ã€‚å½“ç„¶ï¼Œç”±äºè‡ªèº«è¿˜æ²¡å†™è¿‡ä¸Šä¸‡è¡Œçš„ä»£ç ï¼Œåé¢è‚¯å®šè¿˜ä¼šåœ¨å¤ä¹ ä¸€ä¸‹è®¾è®¡æ¨¡å¼ï¼Œä¸è¿‡çœ‹çš„ä¹¦åº”è¯¥æ˜¯è®²è§£åœ°æ›´æ·±å…¥çš„ä¹¦ç±ã€‚</p>\n<h3 id=\"å‚è€ƒæ–‡çŒ®\"><a href=\"#å‚è€ƒæ–‡çŒ®\" class=\"headerlink\" title=\"å‚è€ƒæ–‡çŒ®\"></a>å‚è€ƒæ–‡çŒ®</h3><ul>\n<li>ã€Šæ•æ·è½¯ä»¶è®¾è®¡å¼€å‘ã€‹</li>\n<li><a href=\"https://refactoring.guru/design-patterns(%E9%80%9A%E4%BF%97%E6%98%93%E6%87%82%E5%9C%B0%E8%AE%B2%E8%A7%A3%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E7%9A%84%E7%BD%91%E7%AB%99%EF%BC%8C%E5%A4%A7%E9%83%A8%E5%88%86%E4%BE%8B%E5%AD%90%E6%98%AF%E5%BC%95%E7%94%A8%E5%AE%83%E7%9A%84)\">https://refactoring.guru/design-patterns(é€šä¿—æ˜“æ‡‚åœ°è®²è§£è®¾è®¡æ¨¡å¼çš„ç½‘ç«™ï¼Œå¤§éƒ¨åˆ†ä¾‹å­æ˜¯å¼•ç”¨å®ƒçš„)</a></li>\n<li><a href=\"https://www.runoob.com/design-pattern/design-pattern-tutorial.html(%E8%8F%9C%E9%B8%9F%E6%95%99%E7%A8%8B%E4%B8%AD%E7%9A%84%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%EF%BC%8C%E6%8F%90%E4%BE%9B%E6%9B%B4%E5%A4%9A%E7%9A%84%E4%BE%8B%E5%AD%90%E6%9D%A5%E5%AD%A6%E4%B9%A0)\">https://www.runoob.com/design-pattern/design-pattern-tutorial.html(èœé¸Ÿæ•™ç¨‹ä¸­çš„è®¾è®¡æ¨¡å¼ï¼Œæä¾›æ›´å¤šçš„ä¾‹å­æ¥å­¦ä¹ )</a></li>\n</ul>\n"}],"PostAsset":[],"PostCategory":[],"PostTag":[],"Tag":[]}}